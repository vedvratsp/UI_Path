/*! For license information please see 1.chunk.js.LICENSE.txt */
(window.odspNextWebpackJsonp=window.odspNextWebpackJsonp||[]).push([["1"],{"4379":function(module,exports){(function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};e[r].call(i.exports,i,i.exports,n);i.l=!0;return i.exports}n.m=e;n.c=t;n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})};n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});Object.defineProperty(e,"__esModule",{value:!0})};n.t=function(e,t){1&t&&(e=n(e));if(8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);n.r(r);Object.defineProperty(r,"default",{enumerable:!0,value:e});if(2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r};n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};n.d(t,"a",t);return t};n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};n.p="";n(n.s=0)})({"../FloodgateCore/dist/index.js":function(module,exports,__webpack_require__){"use strict";eval('\n/**\n * Main entry point.\n */\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.Utils = exports.Api = void 0;\nvar Api = __webpack_require__(/*! ./src/Api/Api */ "../FloodgateCore/dist/src/Api/Api.js");\nexports.Api = Api;\nvar Utils = __webpack_require__(/*! ./src/Utils */ "../FloodgateCore/dist/src/Utils.js");\nexports.Utils = Utils;\nvar FloodgateEngine_1 = __webpack_require__(/*! ./src/FloodgateEngine */ "../FloodgateCore/dist/src/FloodgateEngine.js");\nObject.defineProperty(exports, "FloodgateEngine", { enumerable: true, get: function () { return FloodgateEngine_1.FloodgateEngine; } });\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vaW5kZXgudHM/Yjg1ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7O0dBRUc7OztBQUVILDJGQUFxQztBQUk1QixrQkFBRztBQUhaLHlGQUFxQztBQUd2QixzQkFBSztBQURuQix5SEFBd0Q7QUFBL0MsaUlBQWUiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIE1haW4gZW50cnkgcG9pbnQuXHJcbiAqL1xyXG5cclxuaW1wb3J0ICogYXMgQXBpIGZyb20gXCIuL3NyYy9BcGkvQXBpXCI7XHJcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gXCIuL3NyYy9VdGlsc1wiO1xyXG5cclxuZXhwb3J0IHsgRmxvb2RnYXRlRW5naW5lIH0gZnJvbSBcIi4vc3JjL0Zsb29kZ2F0ZUVuZ2luZVwiO1xyXG5leHBvcnQgeyBBcGksIFV0aWxzIH07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/index.js\n')},"../FloodgateCore/dist/src/ActivityTracker.js":function(module,exports,__webpack_require__){"use strict";eval('\n/**\n * Class to track ticks against a list of expected counts in a thread-safe way\n * Main API of interest is incrementActivity, which returns an enumerated value indicating\n * whether or not the increment resulted in no thresholds crossed, a single activity threshold crossed,\n * or the final activity threshold crossed.\n */\nvar ActivityTracker = /** @class */ (function () {\n    function ActivityTracker(trackingSet) {\n        if (!trackingSet) {\n            throw new Error("trackingSet must not be null");\n        }\n        if (trackingSet.getList().length > 32) {\n            throw new Error("trackingSet list size must be less than 32");\n        }\n        this.isOrdered = trackingSet.getIsOrdered();\n        this.trackedActivities = trackingSet.getList();\n        /**\n         * For ordered sets, the current index.\n         */\n        this.currentIndex = 0;\n        this.activationMask = 0;\n        this.currentActivationFlags = 0;\n        this.isActivationByInitPending = false;\n        this.currentCounts = new Array(this.trackedActivities.length);\n        this.currentStartTimes = new Array(this.trackedActivities.length);\n        this.currentSessionCounts = new Array(this.trackedActivities.length);\n        for (var i = 0; i < this.trackedActivities.length; i++) {\n            this.currentCounts[i] = 0;\n            this.currentSessionCounts[i] = 0;\n        }\n        for (var i = 0; i < this.trackedActivities.length; i++) {\n            this.activationMask |= 0x1 << i;\n            if (this.trackedActivities[i].getCount() < 1) {\n                this.trackedActivities[i].setCount(1);\n            }\n        }\n    }\n    /**\n     * Get the count for the activity at the specified index. Returns 0 for out-of-range indices\n     *\n     * @param index index\n     */\n    ActivityTracker.prototype.getCount = function (index) {\n        if (!this.isValidIndex(index)) {\n            return 0;\n        }\n        return this.currentCounts[index];\n    };\n    /**\n     * Get the count for the activity at the specified index, as tracked only for this session.\n     * Returns 0 for out-of-range indices\n     *\n     * @param index index\n     */\n    ActivityTracker.prototype.getSessionCount = function (index) {\n        if (!this.isValidIndex(index)) {\n            return 0;\n        }\n        return this.currentSessionCounts[index];\n    };\n    /**\n     * Get the StartTime for the activity at the specified index. Returns null for out-of-range indices\n     *\n     * @param index index\n     */\n    ActivityTracker.prototype.getStartTime = function (index) {\n        if (!this.isValidIndex(index)) {\n            return null;\n        }\n        return this.currentStartTimes[index];\n    };\n    /**\n     * A get-and-set method. Returns the current SessionCount, resetting it to zero and adding it into\n     * the established baseline.\n     *\n     * @param index index\n     */\n    ActivityTracker.prototype.moveSessionCountIntoBaseCount = function (index) {\n        if (!this.isValidIndex(index)) {\n            return 0;\n        }\n        var sessionCount = this.currentSessionCounts[index];\n        this.currentSessionCounts[index] = 0;\n        return sessionCount;\n    };\n    /**\n     * Forcibly set the counts for the activities in the trackingSet.\n     * Unlike other APIs, this expects vector indices to match the order\n     * of the ActivityTrackingSet.List initially used to construct this tracker.\n     * (When data is copied from a different IndexedTracker, it will properly use the IndexedTracker.Index to query internals)\n     * Note:\n     * 1) Assumes a count of 0 for any missing index in undersized arrays.\n     * 2) Respects and enforces ordered list initialization (i.e. all init values are ignored once a unfinished activity is\n     * encountered in an ordered tracking list).\n     * 3) If the tracker is fully Activated as a result of this call, the next call to IncrementActivity will raise the\n     * IncrementEdgeResult.AllActivitiesActivated, for any valid index accepted by IsPermittedIndexForActivationByInit().\n     */\n    ActivityTracker.prototype.initCounts = function (baselineCounts, otherTrackers, wasAlreadyActivatedThisSession) {\n        // NOTE: baselineIncrements and sessionIncrements are sorted the same as the initial trackedActivity set, which\n        // for this class is the same as trackedActivities\n        if (wasAlreadyActivatedThisSession === void 0) { wasAlreadyActivatedThisSession = false; }\n        for (var i = 0; i < this.trackedActivities.length; i++) {\n            // Only accept values up to the current index, when ordered\n            if (this.isOrdered && i > this.currentIndex) {\n                break;\n            }\n            // Start off by pulling values from this session\n            if (i < otherTrackers.length && otherTrackers[i]) {\n                this.currentSessionCounts[i] = this.currentCounts[i] = otherTrackers[i].tracker.getSessionCount(otherTrackers[i].index);\n                this.currentStartTimes[i] = otherTrackers[i].tracker.getStartTime(otherTrackers[i].index);\n            }\n            // If we\'ve got a baseline from previous sessions, add it in as well\n            if (this.trackedActivities[i].getIsAggregate() && i < baselineCounts.length) {\n                this.currentCounts[i] += baselineCounts[i];\n            }\n            if (this.hasCountCrossedThreshold(i)) {\n                this.finishActivityAtIndex(i);\n            }\n        }\n        if (this.isActivated() && !wasAlreadyActivatedThisSession) {\n            // Mark this object so that the next time any permitted activation event is logged, the survey will activate\n            this.isActivationByInitPending = true;\n        }\n    };\n    ActivityTracker.prototype.generateActivityIndexList = function () {\n        var indexList = new Array();\n        for (var i = 0; i < this.trackedActivities.length; i++) {\n            var current = new ActivityTracker.ActivityIndex();\n            current.activity = this.trackedActivities[i].getActivity();\n            current.index = i;\n            indexList.push(current);\n        }\n        return indexList;\n    };\n    /**\n     * Increments the count at the specified index by the given increment.  Returns a value indicating whether\n     * or not this call triggered a transition edge (activating the activity at \'index\', or finishing the activation\n     * of the final pending activity)\n     */\n    ActivityTracker.prototype.incrementActivity = function (index, increment) {\n        if (!this.isValidIndex(index)) {\n            return 0 /* Pending */;\n        }\n        if (increment < 0) {\n            throw new Error("increment must be non-negative");\n        }\n        // Ordered sets must be triggered in order.  We can only track at the current index, or before\n        if (this.isOrdered && index > this.currentIndex) {\n            return 0 /* Pending */;\n        }\n        // Add to our counts after storing off our current state\n        var startedLessThanThreshold = !this.hasCountCrossedThreshold(index);\n        this.currentCounts[index] += increment;\n        this.currentSessionCounts[index] += increment;\n        if (this.isActivationByInitPending) {\n            if (this.isPermittedIndexForActivationByInit(index)) {\n                // This tracker was completed due to the initialization from previous increment data\n                // now that we\'ve store this activities increments, raise the AllActivitiesActivated signal\n                return this.commitActivation();\n            }\n            else {\n                // Still waiting for a valid re-activation activity\n                return 0 /* Pending */;\n            }\n        }\n        if (!(startedLessThanThreshold && this.hasCountCrossedThreshold(index))) {\n            // Still waiting for this activity to finish\n            return 0 /* Pending */;\n        }\n        // Mark this activity as complete in our flag collection\n        this.finishActivityAtIndex(index);\n        if (this.isActivated()) {\n            return this.commitActivation();\n        }\n        return 1 /* SingleActivityActivated */;\n    };\n    /**\n     * Explicitly sets a start timestamp (now if startTime is null) for the specified activity index. Overwrites any previous StartTime.\n     */\n    ActivityTracker.prototype.startTime = function (index, startTime) {\n        if (!this.isValidIndex(index)) {\n            return;\n        }\n        this.currentStartTimes[index] = (!startTime) ? new Date() : startTime;\n    };\n    /**\n     * Computes the "count" delta (delta in whatever units are appropriate for a subsequent call to IncrementActivity)\n     * elapsed between now and a previously logged StartTime for this activity index.\n     * Always clears the previous StartTime.\n     * Returns 0 if no previous StartTime was logged, or if StartTime > StopTime\n     */\n    ActivityTracker.prototype.stopTime = function (index, stopTime) {\n        if (!this.isValidIndex(index)) {\n            return 0;\n        }\n        var startTime = this.currentStartTimes[index];\n        this.currentStartTimes[index] = null;\n        if (!startTime) {\n            return 0;\n        }\n        stopTime = (!stopTime) ? new Date() : stopTime;\n        if (startTime > stopTime) {\n            return 0;\n        }\n        var deltaMS = stopTime.getTime() - startTime.getTime();\n        // Currently all timer activities return seconds as the increment unit\n        return deltaMS / 1000;\n    };\n    /**\n     * Returns true if the index is valid for accessing the stored activity counts, false otherwise\n     */\n    ActivityTracker.prototype.isValidIndex = function (index) {\n        return index < this.trackedActivities.length;\n    };\n    /**\n     * Gets whether or not the full set of activities for this tracker have exceeded their trigger thresholds\n     */\n    ActivityTracker.prototype.isActivated = function () {\n        return (this.currentActivationFlags & this.activationMask) === this.activationMask;\n    };\n    /**\n        * Marks the activity at the index as finished. Includes setting the proper\n        * activation flags and potentially advancing the current index for ordered tracking sets\n        */\n    ActivityTracker.prototype.finishActivityAtIndex = function (index) {\n        if (!this.isValidIndex(index)) {\n            throw new Error("Index is not valid");\n        }\n        this.currentActivationFlags |= 0x1 << index;\n        if (index + 1 < this.trackedActivities.length) {\n            this.currentIndex = index + 1;\n        }\n    };\n    /**\n     * @param index index\n     * @return true if the counts for the activity at the specified index have met or exceeded the threshold count.\n     */\n    ActivityTracker.prototype.hasCountCrossedThreshold = function (index) {\n        if (!this.isValidIndex(index)) {\n            throw new Error("Index is not valid");\n        }\n        return this.currentCounts[index] >= this.trackedActivities[index].getCount();\n    };\n    /**\n     * Returns true if the index refers to an activity that can re-activate a tracked object (aka return AllActivitiesActivated)\n     * that was initialized as "complete" via initCounts.\n     * Note: For unordered sets, any activity is valid. For ordered sequences, only the final activity is valid\n     */\n    ActivityTracker.prototype.isPermittedIndexForActivationByInit = function (index) {\n        return !this.isOrdered || ((index + 1) === this.currentCounts.length);\n    };\n    ActivityTracker.prototype.commitActivation = function () {\n        this.isActivationByInitPending = false;\n        return 2 /* AllActivitiesActivated */;\n    };\n    return ActivityTracker;\n}());\n(function (ActivityTracker) {\n    /**\n     * Structure returned by an ActivityTracker to call back into\n     * IncrementActivity with valid index values\n     */\n    var ActivityIndex = /** @class */ (function () {\n        function ActivityIndex() {\n        }\n        return ActivityIndex;\n    }());\n    ActivityTracker.ActivityIndex = ActivityIndex;\n})(ActivityTracker || (ActivityTracker = {}));\nmodule.exports = ActivityTracker;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FjdGl2aXR5VHJhY2tlci50cz8yMGIxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFJQTs7Ozs7R0FLRztBQUNIO0lBV0MseUJBQW1CLFdBQWdDO1FBQ2xELElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDakIsTUFBTSxJQUFJLEtBQUssQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDO1NBQ2hEO1FBQ0QsSUFBSSxXQUFXLENBQUMsT0FBTyxFQUFFLENBQUMsTUFBTSxHQUFHLEVBQUUsRUFBRTtZQUN0QyxNQUFNLElBQUksS0FBSyxDQUFDLDRDQUE0QyxDQUFDLENBQUM7U0FDOUQ7UUFFRCxJQUFJLENBQUMsU0FBUyxHQUFHLFdBQVcsQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUM1QyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsV0FBVyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBRS9DOztXQUVHO1FBQ0gsSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUM7UUFDdEIsSUFBSSxDQUFDLGNBQWMsR0FBRyxDQUFDLENBQUM7UUFDeEIsSUFBSSxDQUFDLHNCQUFzQixHQUFHLENBQUMsQ0FBQztRQUNoQyxJQUFJLENBQUMseUJBQXlCLEdBQUcsS0FBSyxDQUFDO1FBRXZDLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxLQUFLLENBQVMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3RFLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLEtBQUssQ0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDeEUsSUFBSSxDQUFDLG9CQUFvQixHQUFHLElBQUksS0FBSyxDQUFTLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUU3RSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZ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SyxDQUFDO1FBQ3ZDLHNDQUE4RDtJQUMvRCxDQUFDO0lBQ0Ysc0JBQUM7QUFBRCxDQUFDO0FBRUQsV0FBTyxlQUFlO0lBQ3JCOzs7T0FHRztJQUNIO1FBQUE7UUFHQSxDQUFDO1FBQUQsb0JBQUM7SUFBRCxDQUFDO0lBSFksNkJBQWEsZ0JBR3pCO0FBbUJGLENBQUMsRUEzQk0sZUFBZSxLQUFmLGVBQWUsUUEyQnJCO0FBRUQsaUJBQVMsZUFBZSxDQUFDIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvQWN0aXZpdHlUcmFja2VyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWN0aXZpdHlUcmFja2luZ0RhdGEgfSBmcm9tIFwiLi9BY3Rpdml0eVRyYWNraW5nRGF0YVwiO1xyXG5pbXBvcnQgeyBBY3Rpdml0eVRyYWNraW5nU2V0IH0gZnJvbSBcIi4vQWN0aXZpdHlUcmFja2luZ1NldFwiO1xyXG5pbXBvcnQgeyBJbmRleGVkVHJhY2tlciB9IGZyb20gXCIuL0luZGV4ZWRUcmFja2VyXCI7XHJcblxyXG4vKipcclxuICogQ2xhc3MgdG8gdHJhY2sgdGlja3MgYWdhaW5zdCBhIGxpc3Qgb2YgZXhwZWN0ZWQgY291bnRzIGluIGEgdGhyZWFkLXNhZmUgd2F5XHJcbiAqIE1haW4gQVBJIG9mIGludGVyZXN0IGlzIGluY3JlbWVudEFjdGl2aXR5LCB3aGljaCByZXR1cm5zIGFuIGVudW1lcmF0ZWQgdmFsdWUgaW5kaWNhdGluZ1xyXG4gKiB3aGV0aGVyIG9yIG5vdCB0aGUgaW5jcmVtZW50IHJlc3VsdGVkIGluIG5vIHRocmVzaG9sZHMgY3Jvc3NlZCwgYSBzaW5nbGUgYWN0aXZpdHkgdGhyZXNob2xkIGNyb3NzZWQsXHJcbiAqIG9yIHRoZSBmaW5hbCBhY3Rpdml0eSB0aHJlc2hvbGQgY3Jvc3NlZC5cclxuICovXHJcbmNsYXNzIEFjdGl2aXR5VHJhY2tlciB7XHJcblx0cHJpdmF0ZSBpc09yZGVyZWQ6IGJvb2xlYW47XHJcblx0cHJpdmF0ZSB0cmFja2VkQWN0aXZpdGllczogQWN0aXZpdHlUcmFja2luZ0RhdGFbXTtcclxuXHRwcml2YXRlIGN1cnJlbnRJbmRleDogbnVtYmVyO1xyXG5cdHByaXZhdGUgYWN0aXZhdGlvbk1hc2s6IG51bWJlcjtcclxuXHRwcml2YXRlIGN1cnJlbnRBY3RpdmF0aW9uRmxhZ3M6IG51bWJlcjtcclxuXHRwcml2YXRlIGlzQWN0aXZhdGlvbkJ5SW5pdFBlbmRpbmc6IGJvb2xlYW47XHJcblx0cHJpdmF0ZSBjdXJyZW50Q291bnRzOiBudW1iZXJbXTtcclxuXHRwcml2YXRlIGN1cnJlbnRTZXNzaW9uQ291bnRzOiBudW1iZXJbXTtcclxuXHRwcml2YXRlIGN1cnJlbnRTdGFydFRpbWVzOiBEYXRlW107XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3Rvcih0cmFja2luZ1NldDogQWN0aXZpdHlUcmFja2luZ1NldCkge1xyXG5cdFx0aWYgKCF0cmFja2luZ1NldCkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJ0cmFja2luZ1NldCBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKHRyYWNraW5nU2V0LmdldExpc3QoKS5sZW5ndGggPiAzMikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJ0cmFja2luZ1NldCBsaXN0IHNpemUgbXVzdCBiZSBsZXNzIHRoYW4gMzJcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5pc09yZGVyZWQgPSB0cmFja2luZ1NldC5nZXRJc09yZGVyZWQoKTtcclxuXHRcdHRoaXMudHJhY2tlZEFjdGl2aXRpZXMgPSB0cmFja2luZ1NldC5nZXRMaXN0KCk7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBGb3Igb3JkZXJlZCBzZXRzLCB0aGUgY3VycmVudCBpbmRleC5cclxuXHRcdCAqL1xyXG5cdFx0dGhpcy5jdXJyZW50SW5kZXggPSAwO1xyXG5cdFx0dGhpcy5hY3RpdmF0aW9uTWFzayA9IDA7XHJcblx0XHR0aGlzLmN1cnJlbnRBY3RpdmF0aW9uRmxhZ3MgPSAwO1xyXG5cdFx0dGhpcy5pc0FjdGl2YXRpb25CeUluaXRQZW5kaW5nID0gZmFsc2U7XHJcblxyXG5cdFx0dGhpcy5jdXJyZW50Q291bnRzID0gbmV3IEFycmF5PG51bWJlcj4odGhpcy50cmFja2VkQWN0aXZpdGllcy5sZW5ndGgpO1xyXG5cdFx0dGhpcy5jdXJyZW50U3RhcnRUaW1lcyA9IG5ldyBBcnJheTxEYXRlPih0aGlzLnRyYWNrZWRBY3Rpdml0aWVzLmxlbmd0aCk7XHJcblx0XHR0aGlzLmN1cnJlbnRTZXNzaW9uQ291bnRzID0gbmV3IEFycmF5PG51bWJlcj4odGhpcy50cmFja2VkQWN0aXZpdGllcy5sZW5ndGgpO1xyXG5cclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50cmFja2VkQWN0aXZpdGllcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR0aGlzLmN1cnJlbnRDb3VudHNbaV0gPSAwO1xyXG5cdFx0XHR0aGlzLmN1cnJlbnRTZXNzaW9uQ291bnRzW2ldID0gMDtcclxuXHRcdH1cclxuXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudHJhY2tlZEFjdGl2aXRpZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dGhpcy5hY3RpdmF0aW9uTWFzayB8PSAweDEgPDwgaTtcclxuXHJcblx0XHRcdGlmICh0aGlzLnRyYWNrZWRBY3Rpdml0aWVzW2ldLmdldENvdW50KCkgPCAxKSB7XHJcblx0XHRcdFx0dGhpcy50cmFja2VkQWN0aXZpdGllc1tpXS5zZXRDb3VudCgxKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IHRoZSBjb3VudCBmb3IgdGhlIGFjdGl2aXR5IGF0IHRoZSBzcGVjaWZpZWQgaW5kZXguIFJldHVybnMgMCBmb3Igb3V0LW9mLXJhbmdlIGluZGljZXNcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSBpbmRleCBpbmRleFxyXG5cdCAqL1xyXG5cdHB1YmxpYyBnZXRDb3VudChpbmRleDogbnVtYmVyKTogbnVtYmVyIHtcclxuXHRcdGlmICghdGhpcy5pc1ZhbGlkSW5kZXgoaW5kZXgpKSB7XHJcblx0XHRcdHJldHVybiAwO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLmN1cnJlbnRDb3VudHNbaW5kZXhdO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IHRoZSBjb3VudCBmb3IgdGhlIGFjdGl2aXR5IGF0IHRoZSBzcGVjaWZpZWQgaW5kZXgsIGFzIHRyYWNrZWQgb25seSBmb3IgdGhpcyBzZXNzaW9uLlxyXG5cdCAqIFJldHVybnMgMCBmb3Igb3V0LW9mLXJhbmdlIGluZGljZXNcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSBpbmRleCBpbmRleFxyXG5cdCAqL1xyXG5cdHB1YmxpYyBnZXRTZXNzaW9uQ291bnQoaW5kZXg6IG51bWJlcik6IG51bWJlciB7XHJcblx0XHRpZiAoIXRoaXMuaXNWYWxpZEluZGV4KGluZGV4KSkge1xyXG5cdFx0XHRyZXR1cm4gMDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy5jdXJyZW50U2Vzc2lvbkNvdW50c1tpbmRleF07XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgdGhlIFN0YXJ0VGltZSBmb3IgdGhlIGFjdGl2aXR5IGF0IHRoZSBzcGVjaWZpZWQgaW5kZXguIFJldHVybnMgbnVsbCBmb3Igb3V0LW9mLXJhbmdlIGluZGljZXNcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSBpbmRleCBpbmRleFxyXG5cdCAqL1xyXG5cdHB1YmxpYyBnZXRTdGFydFRpbWUoaW5kZXg6IG51bWJlcik6IERhdGUge1xyXG5cdFx0aWYgKCF0aGlzLmlzVmFsaWRJbmRleChpbmRleCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuY3VycmVudFN0YXJ0VGltZXNbaW5kZXhdO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQSBnZXQtYW5kLXNldCBtZXRob2QuIFJldHVybnMgdGhlIGN1cnJlbnQgU2Vzc2lvbkNvdW50LCByZXNldHRpbmcgaXQgdG8gemVybyBhbmQgYWRkaW5nIGl0IGludG9cclxuXHQgKiB0aGUgZXN0YWJsaXNoZWQgYmFzZWxpbmUuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0gaW5kZXggaW5kZXhcclxuXHQgKi9cclxuXHRwdWJsaWMgbW92ZVNlc3Npb25Db3VudEludG9CYXNlQ291bnQoaW5kZXg6IG51bWJlcik6IG51bWJlciB7XHJcblx0XHRpZiAoIXRoaXMuaXNWYWxpZEluZGV4KGluZGV4KSkge1xyXG5cdFx0XHRyZXR1cm4gMDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBzZXNzaW9uQ291bnQ6IG51bWJlciA9IHRoaXMuY3VycmVudFNlc3Npb25Db3VudHNbaW5kZXhdO1xyXG5cdFx0dGhpcy5jdXJyZW50U2Vzc2lvbkNvdW50c1tpbmRleF0gPSAwO1xyXG5cclxuXHRcdHJldHVybiBzZXNzaW9uQ291bnQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBGb3JjaWJseSBzZXQgdGhlIGNvdW50cyBmb3IgdGhlIGFjdGl2aXRpZXMgaW4gdGhlIHRyYWNraW5nU2V0LlxyXG5cdCAqIFVubGlrZSBvdGhlciBBUElzLCB0aGlzIGV4cGVjdHMgdmVjdG9yIGluZGljZXMgdG8gbWF0Y2ggdGhlIG9yZGVyXHJcblx0ICogb2YgdGhlIEFjdGl2aXR5VHJhY2tpbmdTZXQuTGlzdCBpbml0aWFsbHkgdXNlZCB0byBjb25zdHJ1Y3QgdGhpcyB0cmFja2VyLlxyXG5cdCAqIChXaGVuIGRhdGEgaXMgY29waWVkIGZyb20gYSBkaWZmZXJlbnQgSW5kZXhlZFRyYWNrZXIsIGl0IHdpbGwgcHJvcGVybHkgdXNlIHRoZSBJbmRleGVkVHJhY2tlci5JbmRleCB0byBxdWVyeSBpbnRlcm5hbHMpXHJcblx0ICogTm90ZTpcclxuXHQgKiAxKSBBc3N1bWVzIGEgY291bnQgb2YgMCBmb3IgYW55IG1pc3NpbmcgaW5kZXggaW4gdW5kZXJzaXplZCBhcnJheXMuXHJcblx0ICogMikgUmVzcGVjdHMgYW5kIGVuZm9yY2VzIG9yZGVyZWQgbGlzdCBpbml0aWFsaXphdGlvbiAoaS5lLiBhbGwgaW5pdCB2YWx1ZXMgYXJlIGlnbm9yZWQgb25jZSBhIHVuZmluaXNoZWQgYWN0aXZpdHkgaXNcclxuXHQgKiBlbmNvdW50ZXJlZCBpbiBhbiBvcmRlcmVkIHRyYWNraW5nIGxpc3QpLlxyXG5cdCAqIDMpIElmIHRoZSB0cmFja2VyIGlzIGZ1bGx5IEFjdGl2YXRlZCBhcyBhIHJlc3VsdCBvZiB0aGlzIGNhbGwsIHRoZSBuZXh0IGNhbGwgdG8gSW5jcmVtZW50QWN0aXZpdHkgd2lsbCByYWlzZSB0aGVcclxuXHQgKiBJbmNyZW1lbnRFZGdlUmVzdWx0LkFsbEFjdGl2aXRpZXNBY3RpdmF0ZWQsIGZvciBhbnkgdmFsaWQgaW5kZXggYWNjZXB0ZWQgYnkgSXNQZXJtaXR0ZWRJbmRleEZvckFjdGl2YXRpb25CeUluaXQoKS5cclxuXHQgKi9cclxuXHRwdWJsaWMgaW5pdENvdW50cyhiYXNlbGluZUNvdW50czogbnVtYmVyW10sIG90aGVyVHJhY2tlcnM6IEluZGV4ZWRUcmFja2VyW10sIHdhc0FscmVhZHlBY3RpdmF0ZWRUaGlzU2Vzc2lvbjogYm9vbGVhbiA9IGZhbHNlKTogdm9pZCB7XHJcblx0XHQvLyBOT1RFOiBiYXNlbGluZUluY3JlbWVudHMgYW5kIHNlc3Npb25JbmNyZW1lbnRzIGFyZSBzb3J0ZWQgdGhlIHNhbWUgYXMgdGhlIGluaXRpYWwgdHJhY2tlZEFjdGl2aXR5IHNldCwgd2hpY2hcclxuXHRcdC8vIGZvciB0aGlzIGNsYXNzIGlzIHRoZSBzYW1lIGFzIHRyYWNrZWRBY3Rpdml0aWVzXHJcblxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRyYWNrZWRBY3Rpdml0aWVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdC8vIE9ubHkgYWNjZXB0IHZhbHVlcyB1cCB0byB0aGUgY3VycmVudCBpbmRleCwgd2hlbiBvcmRlcmVkXHJcblx0XHRcdGlmICh0aGlzLmlzT3JkZXJlZCAmJiBpID4gdGhpcy5jdXJyZW50SW5kZXgpIHtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gU3RhcnQgb2ZmIGJ5IHB1bGxpbmcgdmFsdWVzIGZyb20gdGhpcyBzZXNzaW9uXHJcblx0XHRcdGlmIChpIDwgb3RoZXJUcmFja2Vycy5sZW5ndGggJiYgb3RoZXJUcmFja2Vyc1tpXSkge1xyXG5cdFx0XHRcdHRoaXMuY3VycmVudFNlc3Npb25Db3VudHNbaV0gPSB0aGlzLmN1cnJlbnRDb3VudHNbaV0gPSBvdGhlclRyYWNrZXJzW2ldLnRyYWNrZXIuZ2V0U2Vzc2lvbkNvdW50KG90aGVyVHJhY2tlcnNbaV0uaW5kZXgpO1xyXG5cdFx0XHRcdHRoaXMuY3VycmVudFN0YXJ0VGltZXNbaV0gPSBvdGhlclRyYWNrZXJzW2ldLnRyYWNrZXIuZ2V0U3RhcnRUaW1lKG90aGVyVHJhY2tlcnNbaV0uaW5kZXgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBJZiB3ZSd2ZSBnb3QgYSBiYXNlbGluZSBmcm9tIHByZXZpb3VzIHNlc3Npb25zLCBhZGQgaXQgaW4gYXMgd2VsbFxyXG5cdFx0XHRpZiAodGhpcy50cmFja2VkQWN0aXZpdGllc1tpXS5nZXRJc0FnZ3JlZ2F0ZSgpICYmIGkgPCBiYXNlbGluZUNvdW50cy5sZW5ndGgpIHtcclxuXHRcdFx0XHR0aGlzLmN1cnJlbnRDb3VudHNbaV0gKz0gYmFzZWxpbmVDb3VudHNbaV07XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICh0aGlzLmhhc0NvdW50Q3Jvc3NlZFRocmVzaG9sZChpKSkge1xyXG5cdFx0XHRcdHRoaXMuZmluaXNoQWN0aXZpdHlBdEluZGV4KGkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMuaXNBY3RpdmF0ZWQoKSAmJiAhd2FzQWxyZWFkeUFjdGl2YXRlZFRoaXNTZXNzaW9uKSB7XHJcblx0XHRcdC8vIE1hcmsgdGhpcyBvYmplY3Qgc28gdGhhdCB0aGUgbmV4dCB0aW1lIGFueSBwZXJtaXR0ZWQgYWN0aXZhdGlvbiBldmVudCBpcyBsb2dnZWQsIHRoZSBzdXJ2ZXkgd2lsbCBhY3RpdmF0ZVxyXG5cdFx0XHR0aGlzLmlzQWN0aXZhdGlvbkJ5SW5pdFBlbmRpbmcgPSB0cnVlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIGdlbmVyYXRlQWN0aXZpdHlJbmRleExpc3QoKTogQWN0aXZpdHlUcmFja2VyLkFjdGl2aXR5SW5kZXhbXSB7XHJcblx0XHRjb25zdCBpbmRleExpc3QgPSBuZXcgQXJyYXk8QWN0aXZpdHlUcmFja2VyLkFjdGl2aXR5SW5kZXg+KCk7XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudHJhY2tlZEFjdGl2aXRpZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0Y29uc3QgY3VycmVudCA9IG5ldyBBY3Rpdml0eVRyYWNrZXIuQWN0aXZpdHlJbmRleCgpO1xyXG5cdFx0XHRjdXJyZW50LmFjdGl2aXR5ID0gdGhpcy50cmFja2VkQWN0aXZpdGllc1tpXS5nZXRBY3Rpdml0eSgpO1xyXG5cdFx0XHRjdXJyZW50LmluZGV4ID0gaTtcclxuXHRcdFx0aW5kZXhMaXN0LnB1c2goY3VycmVudCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGluZGV4TGlzdDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEluY3JlbWVudHMgdGhlIGNvdW50IGF0IHRoZSBzcGVjaWZpZWQgaW5kZXggYnkgdGhlIGdpdmVuIGluY3JlbWVudC4gIFJldHVybnMgYSB2YWx1ZSBpbmRpY2F0aW5nIHdoZXRoZXJcclxuXHQgKiBvciBub3QgdGhpcyBjYWxsIHRyaWdnZXJlZCBhIHRyYW5zaXRpb24gZWRnZSAoYWN0aXZhdGluZyB0aGUgYWN0aXZpdHkgYXQgJ2luZGV4Jywgb3IgZmluaXNoaW5nIHRoZSBhY3RpdmF0aW9uXHJcblx0ICogb2YgdGhlIGZpbmFsIHBlbmRpbmcgYWN0aXZpdHkpXHJcblx0ICovXHJcblx0cHVibGljIGluY3JlbWVudEFjdGl2aXR5KGluZGV4OiBudW1iZXIsIGluY3JlbWVudDogbnVtYmVyKTogQWN0aXZpdHlUcmFja2VyLkluY3JlbWVudFJlc3VsdCB7XHJcblx0XHRpZiAoIXRoaXMuaXNWYWxpZEluZGV4KGluZGV4KSkge1xyXG5cdFx0XHRyZXR1cm4gQWN0aXZpdHlUcmFja2VyLkluY3JlbWVudFJlc3VsdC5QZW5kaW5nO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbmNyZW1lbnQgPCAwKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImluY3JlbWVudCBtdXN0IGJlIG5vbi1uZWdhdGl2ZVwiKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBPcmRlcmVkIHNldHMgbXVzdCBiZSB0cmlnZ2VyZWQgaW4gb3JkZXIuICBXZSBjYW4gb25seSB0cmFjayBhdCB0aGUgY3VycmVudCBpbmRleCwgb3IgYmVmb3JlXHJcblx0XHRpZiAodGhpcy5pc09yZGVyZWQgJiYgaW5kZXggPiB0aGlzLmN1cnJlbnRJbmRleCkge1xyXG5cdFx0XHRyZXR1cm4gQWN0aXZpdHlUcmFja2VyLkluY3JlbWVudFJlc3VsdC5QZW5kaW5nO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEFkZCB0byBvdXIgY291bnRzIGFmdGVyIHN0b3Jpbmcgb2ZmIG91ciBjdXJyZW50IHN0YXRlXHJcblx0XHRjb25zdCBzdGFydGVkTGVzc1RoYW5UaHJlc2hvbGQgPSAhdGhpcy5oYXNDb3VudENyb3NzZWRUaHJlc2hvbGQoaW5kZXgpO1xyXG5cdFx0dGhpcy5jdXJyZW50Q291bnRzW2luZGV4XSArPSBpbmNyZW1lbnQ7XHJcblx0XHR0aGlzLmN1cnJlbnRTZXNzaW9uQ291bnRzW2luZGV4XSArPSBpbmNyZW1lbnQ7XHJcblxyXG5cdFx0aWYgKHRoaXMuaXNBY3RpdmF0aW9uQnlJbml0UGVuZGluZykge1xyXG5cdFx0XHRpZiAodGhpcy5pc1Blcm1pdHRlZEluZGV4Rm9yQWN0aXZhdGlvbkJ5SW5pdChpbmRleCkpIHtcclxuXHRcdFx0XHQvLyBUaGlzIHRyYWNrZXIgd2FzIGNvbXBsZXRlZCBkdWUgdG8gdGhlIGluaXRpYWxpemF0aW9uIGZyb20gcHJldmlvdXMgaW5jcmVtZW50IGRhdGFcclxuXHRcdFx0XHQvLyBub3cgdGhhdCB3ZSd2ZSBzdG9yZSB0aGlzIGFjdGl2aXRpZXMgaW5jcmVtZW50cywgcmFpc2UgdGhlIEFsbEFjdGl2aXRpZXNBY3RpdmF0ZWQgc2lnbmFsXHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuY29tbWl0QWN0aXZhdGlvbigpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vIFN0aWxsIHdhaXRpbmcgZm9yIGEgdmFsaWQgcmUtYWN0aXZhdGlvbiBhY3Rpdml0eVxyXG5cdFx0XHRcdHJldHVybiBBY3Rpdml0eVRyYWNrZXIuSW5jcmVtZW50UmVzdWx0LlBlbmRpbmc7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIShzdGFydGVkTGVzc1RoYW5UaHJlc2hvbGQgJiYgdGhpcy5oYXNDb3VudENyb3NzZWRUaHJlc2hvbGQoaW5kZXgpKSkge1xyXG5cdFx0XHQvLyBTdGlsbCB3YWl0aW5nIGZvciB0aGlzIGFjdGl2aXR5IHRvIGZpbmlzaFxyXG5cdFx0XHRyZXR1cm4gQWN0aXZpdHlUcmFja2VyLkluY3JlbWVudFJlc3VsdC5QZW5kaW5nO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIE1hcmsgdGhpcyBhY3Rpdml0eSBhcyBjb21wbGV0ZSBpbiBvdXIgZmxhZyBjb2xsZWN0aW9uXHJcblx0XHR0aGlzLmZpbmlzaEFjdGl2aXR5QXRJbmRleChpbmRleCk7XHJcblxyXG5cdFx0aWYgKHRoaXMuaXNBY3RpdmF0ZWQoKSkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5jb21taXRBY3RpdmF0aW9uKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIEFjdGl2aXR5VHJhY2tlci5JbmNyZW1lbnRSZXN1bHQuU2luZ2xlQWN0aXZpdHlBY3RpdmF0ZWQ7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBFeHBsaWNpdGx5IHNldHMgYSBzdGFydCB0aW1lc3RhbXAgKG5vdyBpZiBzdGFydFRpbWUgaXMgbnVsbCkgZm9yIHRoZSBzcGVjaWZpZWQgYWN0aXZpdHkgaW5kZXguIE92ZXJ3cml0ZXMgYW55IHByZXZpb3VzIFN0YXJ0VGltZS5cclxuXHQgKi9cclxuXHRwdWJsaWMgc3RhcnRUaW1lKGluZGV4OiBudW1iZXIsIHN0YXJ0VGltZT86IERhdGUpOiB2b2lkIHtcclxuXHRcdGlmICghdGhpcy5pc1ZhbGlkSW5kZXgoaW5kZXgpKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmN1cnJlbnRTdGFydFRpbWVzW2luZGV4XSA9ICghc3RhcnRUaW1lKSA/IG5ldyBEYXRlKCkgOiBzdGFydFRpbWU7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDb21wdXRlcyB0aGUgXCJjb3VudFwiIGRlbHRhIChkZWx0YSBpbiB3aGF0ZXZlciB1bml0cyBhcmUgYXBwcm9wcmlhdGUgZm9yIGEgc3Vic2VxdWVudCBjYWxsIHRvIEluY3JlbWVudEFjdGl2aXR5KVxyXG5cdCAqIGVsYXBzZWQgYmV0d2VlbiBub3cgYW5kIGEgcHJldmlvdXNseSBsb2dnZWQgU3RhcnRUaW1lIGZvciB0aGlzIGFjdGl2aXR5IGluZGV4LlxyXG5cdCAqIEFsd2F5cyBjbGVhcnMgdGhlIHByZXZpb3VzIFN0YXJ0VGltZS5cclxuXHQgKiBSZXR1cm5zIDAgaWYgbm8gcHJldmlvdXMgU3RhcnRUaW1lIHdhcyBsb2dnZWQsIG9yIGlmIFN0YXJ0VGltZSA+IFN0b3BUaW1lXHJcblx0ICovXHJcblx0cHVibGljIHN0b3BUaW1lKGluZGV4OiBudW1iZXIsIHN0b3BUaW1lPzogRGF0ZSk6IG51bWJlciB7XHJcblx0XHRpZiAoIXRoaXMuaXNWYWxpZEluZGV4KGluZGV4KSkge1xyXG5cdFx0XHRyZXR1cm4gMDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBzdGFydFRpbWUgPSB0aGlzLmN1cnJlbnRTdGFydFRpbWVzW2luZGV4XTtcclxuXHRcdHRoaXMuY3VycmVudFN0YXJ0VGltZXNbaW5kZXhdID0gbnVsbDtcclxuXHJcblx0XHRpZiAoIXN0YXJ0VGltZSkge1xyXG5cdFx0XHRyZXR1cm4gMDtcclxuXHRcdH1cclxuXHJcblx0XHRzdG9wVGltZSA9ICghc3RvcFRpbWUpID8gbmV3IERhdGUoKSA6IHN0b3BUaW1lO1xyXG5cdFx0aWYgKHN0YXJ0VGltZSA+IHN0b3BUaW1lKSB7XHJcblx0XHRcdHJldHVybiAwO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGRlbHRhTVMgPSBzdG9wVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpO1xyXG5cdFx0Ly8gQ3VycmVudGx5IGFsbCB0aW1lciBhY3Rpdml0aWVzIHJldHVybiBzZWNvbmRzIGFzIHRoZSBpbmNyZW1lbnQgdW5pdFxyXG5cdFx0cmV0dXJuIGRlbHRhTVMgLyAxMDAwO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmV0dXJucyB0cnVlIGlmIHRoZSBpbmRleCBpcyB2YWxpZCBmb3IgYWNjZXNzaW5nIHRoZSBzdG9yZWQgYWN0aXZpdHkgY291bnRzLCBmYWxzZSBvdGhlcndpc2VcclxuXHQgKi9cclxuXHRwdWJsaWMgaXNWYWxpZEluZGV4KGluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiBpbmRleCA8IHRoaXMudHJhY2tlZEFjdGl2aXRpZXMubGVuZ3RoO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0cyB3aGV0aGVyIG9yIG5vdCB0aGUgZnVsbCBzZXQgb2YgYWN0aXZpdGllcyBmb3IgdGhpcyB0cmFja2VyIGhhdmUgZXhjZWVkZWQgdGhlaXIgdHJpZ2dlciB0aHJlc2hvbGRzXHJcblx0ICovXHJcblx0cHVibGljIGlzQWN0aXZhdGVkKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuICh0aGlzLmN1cnJlbnRBY3RpdmF0aW9uRmxhZ3MgJiB0aGlzLmFjdGl2YXRpb25NYXNrKSA9PT0gdGhpcy5hY3RpdmF0aW9uTWFzaztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdFx0KiBNYXJrcyB0aGUgYWN0aXZpdHkgYXQgdGhlIGluZGV4IGFzIGZpbmlzaGVkLiBJbmNsdWRlcyBzZXR0aW5nIHRoZSBwcm9wZXJcclxuXHRcdCogYWN0aXZhdGlvbiBmbGFncyBhbmQgcG90ZW50aWFsbHkgYWR2YW5jaW5nIHRoZSBjdXJyZW50IGluZGV4IGZvciBvcmRlcmVkIHRyYWNraW5nIHNldHNcclxuXHRcdCovXHJcblx0cHJpdmF0ZSBmaW5pc2hBY3Rpdml0eUF0SW5kZXgoaW5kZXg6IG51bWJlcik6IHZvaWQge1xyXG5cdFx0aWYgKCF0aGlzLmlzVmFsaWRJbmRleChpbmRleCkpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW5kZXggaXMgbm90IHZhbGlkXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuY3VycmVudEFjdGl2YXRpb25GbGFncyB8PSAweDEgPDwgaW5kZXg7XHJcblxyXG5cdFx0aWYgKGluZGV4ICsgMSA8IHRoaXMudHJhY2tlZEFjdGl2aXRpZXMubGVuZ3RoKSB7XHJcblx0XHRcdHRoaXMuY3VycmVudEluZGV4ID0gaW5kZXggKyAxO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQHBhcmFtIGluZGV4IGluZGV4XHJcblx0ICogQHJldHVybiB0cnVlIGlmIHRoZSBjb3VudHMgZm9yIHRoZSBhY3Rpdml0eSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4IGhhdmUgbWV0IG9yIGV4Y2VlZGVkIHRoZSB0aHJlc2hvbGQgY291bnQuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBoYXNDb3VudENyb3NzZWRUaHJlc2hvbGQoaW5kZXg6IG51bWJlcik6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCF0aGlzLmlzVmFsaWRJbmRleChpbmRleCkpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW5kZXggaXMgbm90IHZhbGlkXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLmN1cnJlbnRDb3VudHNbaW5kZXhdID49IHRoaXMudHJhY2tlZEFjdGl2aXRpZXNbaW5kZXhdLmdldENvdW50KCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGluZGV4IHJlZmVycyB0byBhbiBhY3Rpdml0eSB0aGF0IGNhbiByZS1hY3RpdmF0ZSBhIHRyYWNrZWQgb2JqZWN0IChha2EgcmV0dXJuIEFsbEFjdGl2aXRpZXNBY3RpdmF0ZWQpXHJcblx0ICogdGhhdCB3YXMgaW5pdGlhbGl6ZWQgYXMgXCJjb21wbGV0ZVwiIHZpYSBpbml0Q291bnRzLlxyXG5cdCAqIE5vdGU6IEZvciB1bm9yZGVyZWQgc2V0cywgYW55IGFjdGl2aXR5IGlzIHZhbGlkLiBGb3Igb3JkZXJlZCBzZXF1ZW5jZXMsIG9ubHkgdGhlIGZpbmFsIGFjdGl2aXR5IGlzIHZhbGlkXHJcblx0ICovXHJcblx0cHJpdmF0ZSBpc1Blcm1pdHRlZEluZGV4Rm9yQWN0aXZhdGlvbkJ5SW5pdChpbmRleDogbnVtYmVyKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gIXRoaXMuaXNPcmRlcmVkIHx8ICgoaW5kZXggKyAxKSA9PT0gdGhpcy5jdXJyZW50Q291bnRzLmxlbmd0aCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNvbW1pdEFjdGl2YXRpb24oKTogQWN0aXZpdHlUcmFja2VyLkluY3JlbWVudFJlc3VsdCB7XHJcblx0XHR0aGlzLmlzQWN0aXZhdGlvbkJ5SW5pdFBlbmRpbmcgPSBmYWxzZTtcclxuXHRcdHJldHVybiBBY3Rpdml0eVRyYWNrZXIuSW5jcmVtZW50UmVzdWx0LkFsbEFjdGl2aXRpZXNBY3RpdmF0ZWQ7XHJcblx0fVxyXG59XHJcblxyXG5tb2R1bGUgQWN0aXZpdHlUcmFja2VyIHtcclxuXHQvKipcclxuXHQgKiBTdHJ1Y3R1cmUgcmV0dXJuZWQgYnkgYW4gQWN0aXZpdHlUcmFja2VyIHRvIGNhbGwgYmFjayBpbnRvXHJcblx0ICogSW5jcmVtZW50QWN0aXZpdHkgd2l0aCB2YWxpZCBpbmRleCB2YWx1ZXNcclxuXHQgKi9cclxuXHRleHBvcnQgY2xhc3MgQWN0aXZpdHlJbmRleCB7XHJcblx0XHRwdWJsaWMgYWN0aXZpdHk6IHN0cmluZztcclxuXHRcdHB1YmxpYyBpbmRleDogbnVtYmVyO1xyXG5cdH1cclxuXHJcblx0ZXhwb3J0IGNvbnN0IGVudW0gSW5jcmVtZW50UmVzdWx0IHtcclxuXHRcdC8qKlxyXG5cdFx0ICogTm8gdGhyZXNob2xkcyBjcm9zc2VkIGFzIGEgcmVzdWx0IG9mIHRoaXMgaW5jcmVtZW50IG9wZXJhdGlvblxyXG5cdFx0ICovXHJcblx0XHRQZW5kaW5nLFxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVGhlIHRocmVzaG9sZCBmb3IgdGhlIHRhcmdldGVkIGFjdGl2aXR5IGluZGV4IHdhcyBjcm9zc2VkIGFzIGEgcmVzdWx0IG9mIHRoaXMgaW5jcmVtZW50IG9wZXJhdGlvblxyXG5cdFx0ICovXHJcblx0XHRTaW5nbGVBY3Rpdml0eUFjdGl2YXRlZCxcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFRoZSB0aHJlc2hvbGQgZm9yIHRoZSB0YXJnZXRlZCBhY3Rpdml0eSBpbmRleCB3YXMgY3Jvc3NlZCBhcyBhIHJlc3VsdCBvZiB0aGlzIGluY3JlbWVudCBvcGVyYXRpb25cclxuXHRcdCAqIGFuZCB0aGlzIHdhcyB0aGUgZmluYWwgYWN0aXZpdHkgYmVpbmcgdHJhY2tlZFxyXG5cdFx0ICovXHJcblx0XHRBbGxBY3Rpdml0aWVzQWN0aXZhdGVkLFxyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0ID0gQWN0aXZpdHlUcmFja2VyO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/ActivityTracker.js\n')},"../FloodgateCore/dist/src/ActivityTrackingContract.js":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.ActivityTrackingContract = void 0;\nvar ActivityTrackingContract = /** @class */ (function () {\n    function ActivityTrackingContract(surveyId, trackingSet) {\n        this.surveyId = surveyId;\n        this.trackingSet = trackingSet;\n    }\n    return ActivityTrackingContract;\n}());\nexports.ActivityTrackingContract = ActivityTrackingContract;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FjdGl2aXR5VHJhY2tpbmdDb250cmFjdC50cz80NDk1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUVBO0lBSUMsa0NBQW1CLFFBQWdCLEVBQUUsV0FBZ0M7UUFDcEUsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDekIsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7SUFDaEMsQ0FBQztJQUNGLCtCQUFDO0FBQUQsQ0FBQztBQVJZLDREQUF3QiIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL0FjdGl2aXR5VHJhY2tpbmdDb250cmFjdC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFjdGl2aXR5VHJhY2tpbmdTZXQgfSBmcm9tIFwiLi9BY3Rpdml0eVRyYWNraW5nU2V0XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQWN0aXZpdHlUcmFja2luZ0NvbnRyYWN0IHtcclxuXHRwdWJsaWMgc3VydmV5SWQ6IHN0cmluZztcclxuXHRwdWJsaWMgdHJhY2tpbmdTZXQ6IEFjdGl2aXR5VHJhY2tpbmdTZXQ7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihzdXJ2ZXlJZDogc3RyaW5nLCB0cmFja2luZ1NldDogQWN0aXZpdHlUcmFja2luZ1NldCkge1xyXG5cdFx0dGhpcy5zdXJ2ZXlJZCA9IHN1cnZleUlkO1xyXG5cdFx0dGhpcy50cmFja2luZ1NldCA9IHRyYWNraW5nU2V0O1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/ActivityTrackingContract.js\n')},"../FloodgateCore/dist/src/ActivityTrackingData.js":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.ActivityTrackingData = void 0;\n/**\n * Basic structure used to configure an ActivityTracker\n */\nvar ActivityTrackingData = /** @class */ (function () {\n    function ActivityTrackingData(activity, count, isAggregate) {\n        this.activity = activity;\n        this.count = count;\n        this.isAggregate = isAggregate;\n    }\n    ActivityTrackingData.prototype.getActivity = function () {\n        return this.activity;\n    };\n    ActivityTrackingData.prototype.getCount = function () {\n        return this.count;\n    };\n    ActivityTrackingData.prototype.setCount = function (count) {\n        this.count = count;\n    };\n    ActivityTrackingData.prototype.getIsAggregate = function () {\n        return this.isAggregate;\n    };\n    return ActivityTrackingData;\n}());\nexports.ActivityTrackingData = ActivityTrackingData;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FjdGl2aXR5VHJhY2tpbmdEYXRhLnRzP2Q5M2YiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7O0dBRUc7QUFDSDtJQUtDLDhCQUFtQixRQUFnQixFQUFFLEtBQWEsRUFBRSxXQUFvQjtRQUN2RSxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQztJQUNoQyxDQUFDO0lBRU0sMENBQVcsR0FBbEI7UUFDQyxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDdEIsQ0FBQztJQUVNLHVDQUFRLEdBQWY7UUFDQyxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDbkIsQ0FBQztJQUVNLHVDQUFRLEdBQWYsVUFBZ0IsS0FBYTtRQUM1QixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUNwQixDQUFDO0lBRU0sNkNBQWMsR0FBckI7UUFDQyxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUM7SUFDekIsQ0FBQztJQUNGLDJCQUFDO0FBQUQsQ0FBQztBQTFCWSxvREFBb0IiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9BY3Rpdml0eVRyYWNraW5nRGF0YS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBCYXNpYyBzdHJ1Y3R1cmUgdXNlZCB0byBjb25maWd1cmUgYW4gQWN0aXZpdHlUcmFja2VyXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQWN0aXZpdHlUcmFja2luZ0RhdGEge1xyXG5cdHByaXZhdGUgYWN0aXZpdHk6IHN0cmluZztcclxuXHRwcml2YXRlIGNvdW50OiBudW1iZXI7XHJcblx0cHJpdmF0ZSBpc0FnZ3JlZ2F0ZTogYm9vbGVhbjtcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKGFjdGl2aXR5OiBzdHJpbmcsIGNvdW50OiBudW1iZXIsIGlzQWdncmVnYXRlOiBib29sZWFuKSB7XHJcblx0XHR0aGlzLmFjdGl2aXR5ID0gYWN0aXZpdHk7XHJcblx0XHR0aGlzLmNvdW50ID0gY291bnQ7XHJcblx0XHR0aGlzLmlzQWdncmVnYXRlID0gaXNBZ2dyZWdhdGU7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0QWN0aXZpdHkoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmFjdGl2aXR5O1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENvdW50KCk6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gdGhpcy5jb3VudDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRDb3VudChjb3VudDogbnVtYmVyKTogdm9pZCB7XHJcblx0XHR0aGlzLmNvdW50ID0gY291bnQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0SXNBZ2dyZWdhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5pc0FnZ3JlZ2F0ZTtcclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/ActivityTrackingData.js\n')},"../FloodgateCore/dist/src/ActivityTrackingSet.js":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.ActivityTrackingSet = void 0;\n/**\n * Class to hold a collection of Activity Tracking Data\n */\nvar ActivityTrackingSet = /** @class */ (function () {\n    function ActivityTrackingSet(isOrdered, list) {\n        this.isOrdered = isOrdered;\n        this.list = list;\n    }\n    ActivityTrackingSet.prototype.getIsOrdered = function () {\n        return this.isOrdered;\n    };\n    ActivityTrackingSet.prototype.getList = function () {\n        return this.list;\n    };\n    return ActivityTrackingSet;\n}());\nexports.ActivityTrackingSet = ActivityTrackingSet;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FjdGl2aXR5VHJhY2tpbmdTZXQudHM/Y2YzOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFFQTs7R0FFRztBQUNIO0lBSUMsNkJBQW1CLFNBQWtCLEVBQUUsSUFBNEI7UUFDbEUsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7UUFDM0IsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDbEIsQ0FBQztJQUVNLDBDQUFZLEdBQW5CO1FBQ0MsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQ3ZCLENBQUM7SUFFTSxxQ0FBTyxHQUFkO1FBQ0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ2xCLENBQUM7SUFDRiwwQkFBQztBQUFELENBQUM7QUFoQlksa0RBQW1CIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvQWN0aXZpdHlUcmFja2luZ1NldC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFjdGl2aXR5VHJhY2tpbmdEYXRhIH0gZnJvbSBcIi4vQWN0aXZpdHlUcmFja2luZ0RhdGFcIjtcclxuXHJcbi8qKlxyXG4gKiBDbGFzcyB0byBob2xkIGEgY29sbGVjdGlvbiBvZiBBY3Rpdml0eSBUcmFja2luZyBEYXRhXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQWN0aXZpdHlUcmFja2luZ1NldCB7XHJcblx0cHJpdmF0ZSBpc09yZGVyZWQ6IGJvb2xlYW47XHJcblx0cHJpdmF0ZSBsaXN0OiBBY3Rpdml0eVRyYWNraW5nRGF0YVtdO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoaXNPcmRlcmVkOiBib29sZWFuLCBsaXN0OiBBY3Rpdml0eVRyYWNraW5nRGF0YVtdKSB7XHJcblx0XHR0aGlzLmlzT3JkZXJlZCA9IGlzT3JkZXJlZDtcclxuXHRcdHRoaXMubGlzdCA9IGxpc3Q7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0SXNPcmRlcmVkKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNPcmRlcmVkO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldExpc3QoKTogQWN0aXZpdHlUcmFja2luZ0RhdGFbXSB7XHJcblx0XHRyZXR1cm4gdGhpcy5saXN0O1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/ActivityTrackingSet.js\n')},"../FloodgateCore/dist/src/Api/Api.js":function(module,exports,__webpack_require__){"use strict";eval('\n/**\n * Parent module for all modules in Api/\n */\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.ISurveyInfo = exports.ISurveyComponent = exports.ISurvey = exports.IFloodgateSettingIdMap = exports.IFloodgateStorageProvider = exports.IActivityListener = void 0;\nvar ISurveyInfo = __webpack_require__(/*! ./../ISurveyInfo */ "../FloodgateCore/dist/src/ISurveyInfo.js");\nexports.ISurveyInfo = ISurveyInfo;\nvar IActivityListener = __webpack_require__(/*! ./IActivityListener */ "../FloodgateCore/dist/src/Api/IActivityListener.js");\nexports.IActivityListener = IActivityListener;\nvar IFloodgateSettingIdMap = __webpack_require__(/*! ./IFloodgateSettingIdMap */ "../FloodgateCore/dist/src/Api/IFloodgateSettingIdMap.js");\nexports.IFloodgateSettingIdMap = IFloodgateSettingIdMap;\nvar IFloodgateStorageProvider = __webpack_require__(/*! ./IFloodgateStorageProvider */ "../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js");\nexports.IFloodgateStorageProvider = IFloodgateStorageProvider;\nvar ISurvey = __webpack_require__(/*! ./ISurvey */ "../FloodgateCore/dist/src/Api/ISurvey.js");\nexports.ISurvey = ISurvey;\nvar ISurveyComponent = __webpack_require__(/*! ./ISurveyComponent */ "../FloodgateCore/dist/src/Api/ISurveyComponent.js");\nexports.ISurveyComponent = ISurveyComponent;\nvar CampaignDefinitionProvider_1 = __webpack_require__(/*! ../Campaign/CampaignDefinitionProvider */ "../FloodgateCore/dist/src/Campaign/CampaignDefinitionProvider.js");\nObject.defineProperty(exports, "CampaignDefinition", { enumerable: true, get: function () { return CampaignDefinitionProvider_1.CampaignDefinition; } });\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FwaS9BcGkudHM/NTljMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7O0dBRUc7OztBQUVILDBHQUFnRDtBQXNDdkMsa0NBQVc7QUFyQ3BCLDZIQUF5RDtBQVFoRCw4Q0FBaUI7QUFQMUIsNElBQW1FO0FBb0IxRCx3REFBc0I7QUFuQi9CLHFKQUF5RTtBQWlCaEUsOERBQXlCO0FBZmxDLCtGQUFxQztBQTRCNUIsMEJBQU87QUEzQmhCLDBIQUF1RDtBQTRCOUMsNENBQWdCO0FBMUJ6Qix5S0FBNEU7QUFBbkUsa0pBQWtCIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvQXBpL0FwaS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBQYXJlbnQgbW9kdWxlIGZvciBhbGwgbW9kdWxlcyBpbiBBcGkvXHJcbiAqL1xyXG5cclxuaW1wb3J0ICogYXMgSVN1cnZleUluZm8gZnJvbSBcIi4vLi4vSVN1cnZleUluZm9cIjtcclxuaW1wb3J0ICogYXMgSUFjdGl2aXR5TGlzdGVuZXIgZnJvbSBcIi4vSUFjdGl2aXR5TGlzdGVuZXJcIjtcclxuaW1wb3J0ICogYXMgSUZsb29kZ2F0ZVNldHRpbmdJZE1hcCBmcm9tIFwiLi9JRmxvb2RnYXRlU2V0dGluZ0lkTWFwXCI7XHJcbmltcG9ydCAqIGFzIElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIgZnJvbSBcIi4vSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlclwiO1xyXG5pbXBvcnQgKiBhcyBJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIgZnJvbSBcIi4vSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyXCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXkgZnJvbSBcIi4vSVN1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5Q29tcG9uZW50IGZyb20gXCIuL0lTdXJ2ZXlDb21wb25lbnRcIjtcclxuXHJcbmV4cG9ydCB7IENhbXBhaWduRGVmaW5pdGlvbiB9IGZyb20gXCIuLi9DYW1wYWlnbi9DYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlclwiO1xyXG5leHBvcnQgeyBJQWN0aXZpdHlMaXN0ZW5lciB9O1xyXG5leHBvcnQgeyBJQXNzZXRzUHJvdmlkZXIgfSBmcm9tIFwiLi9JQXNzZXRzUHJvdmlkZXJcIjtcclxuZXhwb3J0IHsgSUF1Z0xvb3BDYWxsYmFjayB9IGZyb20gXCIuL0lBdWdMb29wQ2FsbGJhY2tcIjtcclxuZXhwb3J0IHsgSUJwc1N1cnZleSB9IGZyb20gXCIuL0lCcHNTdXJ2ZXlcIjtcclxuZXhwb3J0IHsgSUNhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyIH0gZnJvbSBcIi4uL0NhbXBhaWduL0NhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyXCI7XHJcbmV4cG9ydCB7IElDb21tZW50Q29tcG9uZW50IH0gZnJvbSBcIi4vSUNvbW1lbnRDb21wb25lbnRcIjtcclxuZXhwb3J0IHsgSURhdGFQcm92aWRlciB9IGZyb20gXCIuL0lEYXRhUHJvdmlkZXJcIjtcclxuZXhwb3J0IHsgSUZlZWRiYWNrU3VydmV5IH0gZnJvbSBcIi4vSUZlZWRiYWNrU3VydmV5XCI7XHJcbmV4cG9ydCB7IElGbG9vZGdhdGVBdXRoVG9rZW5DYWxsYmFjayB9IGZyb20gXCIuL0lGbG9vZGdhdGVBdXRoVG9rZW5DYWxsYmFja1wiO1xyXG5leHBvcnQgeyBJRmxvb2RnYXRlRW52aXJvbm1lbnRQcm92aWRlciB9IGZyb20gXCIuL0lGbG9vZGdhdGVFbnZpcm9ubWVudFByb3ZpZGVyXCI7XHJcbmV4cG9ydCB7IElGbG9vZGdhdGVTZXR0aW5nU3RvcmFnZUNhbGxiYWNrIH0gZnJvbSBcIi4vSUZsb29kZ2F0ZVNldHRpbmdTdG9yYWdlQ2FsbGJhY2tcIjtcclxuZXhwb3J0IHsgSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlciB9O1xyXG5leHBvcnQgeyBJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIgfTtcclxuZXhwb3J0IHsgSUZsb29kZ2F0ZVNldHRpbmdJZE1hcCB9O1xyXG5leHBvcnQgeyBJRmxvb2RnYXRlVGVsZW1ldHJ5TG9nZ2VyIH0gZnJvbSBcIi4vSUZsb29kZ2F0ZVRlbGVtZXRyeUxvZ2dlclwiO1xyXG5leHBvcnQgeyBJRnBzU3VydmV5IH0gZnJvbSBcIi4vSUZwc1N1cnZleVwiO1xyXG5leHBvcnQgeyBJTnBzU3VydmV5IH0gZnJvbSBcIi4vSU5wc1N1cnZleVwiO1xyXG5leHBvcnQgeyBJSW50ZXJjZXB0U3VydmV5IH0gZnJvbSBcIi4vSUludGVyY2VwdFN1cnZleVwiO1xyXG5leHBvcnQgeyBJT25TdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFjayB9IGZyb20gXCIuL0lPblN1cnZleUFjdGl2YXRlZENhbGxiYWNrXCI7XHJcbmV4cG9ydCB7IElQcm9tcHRDb21wb25lbnQgfSBmcm9tIFwiLi9JUHJvbXB0Q29tcG9uZW50XCI7XHJcbmV4cG9ydCB7IElJbnRlcmNlcHRDb21wb25lbnQgfSBmcm9tIFwiLi9JSW50ZXJjZXB0Q29tcG9uZW50XCI7XHJcbmV4cG9ydCB7IElQc2F0U3VydmV5IH0gZnJvbSBcIi4vSVBzYXRTdXJ2ZXlcIjtcclxuZXhwb3J0IHsgSVJhdGluZ0NvbXBvbmVudCB9IGZyb20gXCIuL0lSYXRpbmdDb21wb25lbnRcIjtcclxuZXhwb3J0IHsgSUZsb29kZ2F0ZVNldHRpbmcgfSBmcm9tIFwiLi9JRmxvb2RnYXRlU2V0dGluZ1wiO1xyXG5leHBvcnQgeyBJU3VydmV5IH07XHJcbmV4cG9ydCB7IElTdXJ2ZXlDb21wb25lbnQgfTtcclxuZXhwb3J0IHsgSVN1cnZleURvbVdyaXRlciB9IGZyb20gXCIuL0lTdXJ2ZXlEb21Xcml0ZXJcIjtcclxuZXhwb3J0IHsgSVN1cnZleUZvcm0gfSBmcm9tIFwiLi9JU3VydmV5Rm9ybVwiO1xyXG5leHBvcnQgeyBJU3VydmV5SnNvbldyaXRlciB9IGZyb20gXCIuL0lTdXJ2ZXlKc29uV3JpdGVyXCI7XHJcbmV4cG9ydCB7IElTdXJ2ZXlJbmZvIH07XHJcbmV4cG9ydCB7IElTdXJ2ZXlMYXVuY2hlciB9IGZyb20gXCIuL0lTdXJ2ZXlMYXVuY2hlclwiO1xyXG5leHBvcnQgeyBJU3VydmV5TGF1bmNoZXJGYWN0b3J5IH0gZnJvbSBcIi4vSVN1cnZleUxhdW5jaGVyRmFjdG9yeVwiO1xyXG5leHBvcnQgeyBJVGVsZW1ldHJ5UHJvcGVydGllcyB9IGZyb20gXCIuL0lUZWxlbWV0cnlQcm9wZXJ0aWVzXCI7XHJcbmV4cG9ydCB7IElUcmFuc3BvcnRlciB9IGZyb20gXCIuL0lUcmFuc3BvcnRlclwiO1xyXG5leHBvcnQgeyBJVHJhbnNwb3J0ZXJGYWN0b3J5IH0gZnJvbSBcIi4vSVRyYW5zcG9ydGVyRmFjdG9yeVwiO1xyXG5leHBvcnQgeyBJVXNlckZhY3QgfSBmcm9tIFwiLi4vVXNlckZhY3QvSVVzZXJGYWN0XCI7XHJcbmV4cG9ydCB7IElVc2VyRmFjdFByb3ZpZGVyIH0gZnJvbSBcIi4vSVVzZXJGYWN0UHJvdmlkZXJcIjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Api/Api.js\n')},"../FloodgateCore/dist/src/Api/IActivityListener.js":function(module,exports,__webpack_require__){"use strict";eval('\nvar IActivityListener;\n(function (IActivityListener) {\n    var ActivityName = /** @class */ (function () {\n        function ActivityName() {\n        }\n        ActivityName.AppLaunch = "AppLaunch";\n        ActivityName.AppUsageTime = "AppUsageTime";\n        ActivityName.AppResume = "AppResume";\n        return ActivityName;\n    }());\n    IActivityListener.ActivityName = ActivityName;\n})(IActivityListener || (IActivityListener = {}));\nmodule.exports = IActivityListener;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FwaS9JQWN0aXZpdHlMaXN0ZW5lci50cz8yMzBmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUF3QkEsSUFBTyxpQkFBaUIsQ0FNdkI7QUFORCxXQUFPLGlCQUFpQjtJQUN2QjtRQUFBO1FBSUEsQ0FBQztRQUh1QixzQkFBUyxHQUFHLFdBQVcsQ0FBQztRQUN4Qix5QkFBWSxHQUFHLGNBQWMsQ0FBQztRQUM5QixzQkFBUyxHQUFHLFdBQVcsQ0FBQztRQUNoRCxtQkFBQztLQUFBO0lBSlksOEJBQVksZUFJeEI7QUFDRixDQUFDLEVBTk0saUJBQWlCLEtBQWpCLGlCQUFpQixRQU12QjtBQUVELGlCQUFTLGlCQUFpQixDQUFDIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvQXBpL0lBY3Rpdml0eUxpc3RlbmVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFRoZSBtYWluIGludGVyZmFjZSB0byB1c2Ugd2hlbiBpbnN0cnVtZW50aW5nIHN1cnZleSBhY3Rpdml0aWVzIGluIGFwcCBjb2RlXHJcbiAqL1xyXG5pbnRlcmZhY2UgSUFjdGl2aXR5TGlzdGVuZXIge1xyXG5cdC8qKlxyXG5cdCAqIExvZyBhbiBhY3Rpdml0eSB0byBGbG9vZGdhdGUsIGluY3JlbWVudGluZyBpdHMgb2NjdXJyZW5jZSBjb3VudCBieSB0aGUgZ2l2ZW4gbnVtYmVyIGlmIHNwZWNpZmllZCxcclxuXHQgKiBvdGhlcndpc2UgaW5jcmVtZW50aW5nIGl0cyBvY2N1cnJlbmNlIGNvdW50IGJ5IG9uZSBhcyBkZWZhdWx0XHJcblx0ICovXHJcblx0bG9nQWN0aXZpdHkoYWN0aXZpdHlOYW1lOiBzdHJpbmcsIGluY3JlbWVudD86IG51bWJlcik6IHZvaWQ7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFN0YXJ0IGFuIGFjdGl2aXR5IHRpbWVyIChvdmVyd3JpdGluZyBhbnkgcHJldmlvdXNseSB1bmNsb3NlZCBzdGFydCkuXHJcblx0ICogTk9URTogRG9lcyBub3QgaW5jcmVtZW50IHRoZSBhY3Rpdml0eSBjb3VudC5cclxuXHQgKi9cclxuXHRsb2dBY3Rpdml0eVN0YXJ0VGltZShhY3Rpdml0eU5hbWU6IHN0cmluZywgc3RhcnRUaW1lPzogRGF0ZSk6IHZvaWQ7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFN0b3AgYW4gYWN0aXZpdHkgdGltZXIgYW5kIGNsZWFycyB0aGUgcHJldmlvdXMgc3RhcnQgdGltZS5cclxuXHQgKiBBZGRzIHRoZSBlbGFwc2VkIHNlY29uZHMgYmV0d2VlbiB0aGlzIHN0b3AgYW5kIHRoZSBwcmV2aW91cyBzdGFydCBpbnRvIHRoZSBjb3VudCBmb3IgdGhpcyBhY3Rpdml0eVxyXG5cdCAqIFxcbm90ZSBJZiBubyBwcmV2aW91cyBzdGFydCB3YXMgbG9nZ2VkLCBvciBzdGFydCBpcyBzb21laG93IGluIHRoZSBmdXR1cmUsIHJlc3VsdHMgaW4gMCBjb3VudCBpbmNyZW1lbnRcclxuXHQgKi9cclxuXHRsb2dBY3Rpdml0eVN0b3BUaW1lKGFjdGl2aXR5TmFtZTogc3RyaW5nLCBzdG9wVGltZT86IERhdGUpOiB2b2lkO1xyXG59XHJcblxyXG5tb2R1bGUgSUFjdGl2aXR5TGlzdGVuZXIge1xyXG5cdGV4cG9ydCBjbGFzcyBBY3Rpdml0eU5hbWUge1xyXG5cdFx0cHVibGljIHN0YXRpYyByZWFkb25seSBBcHBMYXVuY2ggPSBcIkFwcExhdW5jaFwiO1xyXG5cdFx0cHVibGljIHN0YXRpYyByZWFkb25seSBBcHBVc2FnZVRpbWUgPSBcIkFwcFVzYWdlVGltZVwiO1xyXG5cdFx0cHVibGljIHN0YXRpYyByZWFkb25seSBBcHBSZXN1bWUgPSBcIkFwcFJlc3VtZVwiO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0ID0gSUFjdGl2aXR5TGlzdGVuZXI7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Api/IActivityListener.js\n')},"../FloodgateCore/dist/src/Api/IFloodgateSettingIdMap.js":function(module,exports,__webpack_require__){"use strict";eval("\nvar IFloodgateSettingIdMap;\n(function (IFloodgateSettingIdMap) {\n    /**\n     * Collection of setting names and ids\n     */\n    IFloodgateSettingIdMap.RoamingSettingIdMap = {\n        CampaignStates: 1258,\n        GovernedChannelStates: 1257,\n        SurveyActivationStats: 1259,\n    };\n})(IFloodgateSettingIdMap || (IFloodgateSettingIdMap = {}));\nmodule.exports = IFloodgateSettingIdMap;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FwaS9JRmxvb2RnYXRlU2V0dGluZ0lkTWFwLnRzP2YzZTYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQU9BLElBQU8sc0JBQXNCLENBUzVCO0FBVEQsV0FBTyxzQkFBc0I7SUFDNUI7O09BRUc7SUFDVSwwQ0FBbUIsR0FBRztRQUNsQyxjQUFjLEVBQUUsSUFBSTtRQUNwQixxQkFBcUIsRUFBRSxJQUFJO1FBQzNCLHFCQUFxQixFQUFFLElBQUk7S0FDM0IsQ0FBQztBQUNILENBQUMsRUFUTSxzQkFBc0IsS0FBdEIsc0JBQXNCLFFBUzVCO0FBRUQsaUJBQVMsc0JBQXNCLENBQUMiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9BcGkvSUZsb29kZ2F0ZVNldHRpbmdJZE1hcC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBJbnRlcmZhY2UgZm9yIGEgY29sbGVjdGlvbiBvZiBGbG9vZGdhdGUgc2V0dGluZyBuYW1lcyBhbmQgaWRzXHJcbiAqL1xyXG5pbnRlcmZhY2UgSUZsb29kZ2F0ZVNldHRpbmdJZE1hcCB7XHJcblx0cmVhZG9ubHkgW2tleTogc3RyaW5nXTogbnVtYmVyO1xyXG59XHJcblxyXG5tb2R1bGUgSUZsb29kZ2F0ZVNldHRpbmdJZE1hcCB7XHJcblx0LyoqXHJcblx0ICogQ29sbGVjdGlvbiBvZiBzZXR0aW5nIG5hbWVzIGFuZCBpZHNcclxuXHQgKi9cclxuXHRleHBvcnQgY29uc3QgUm9hbWluZ1NldHRpbmdJZE1hcCA9IHtcclxuXHRcdENhbXBhaWduU3RhdGVzOiAxMjU4LFxyXG5cdFx0R292ZXJuZWRDaGFubmVsU3RhdGVzOiAxMjU3LFxyXG5cdFx0U3VydmV5QWN0aXZhdGlvblN0YXRzOiAxMjU5LFxyXG5cdH07XHJcbn1cclxuXHJcbmV4cG9ydCA9IElGbG9vZGdhdGVTZXR0aW5nSWRNYXA7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Api/IFloodgateSettingIdMap.js\n")},"../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js":function(module,exports,__webpack_require__){"use strict";eval('\nvar IFloodgateStorageProvider;\n(function (IFloodgateStorageProvider) {\n    /**\n     * Enum for the files used by floodgate\n     */\n    var FileType;\n    (function (FileType) {\n        FileType[FileType["FloodgateSettings"] = 0] = "FloodgateSettings";\n        FileType[FileType["SurveyActivationStats"] = 1] = "SurveyActivationStats";\n        FileType[FileType["SurveyEventActivityStats"] = 2] = "SurveyEventActivityStats";\n        FileType[FileType["CampaignDefinitions"] = 3] = "CampaignDefinitions";\n        FileType[FileType["CampaignStates"] = 4] = "CampaignStates";\n        FileType[FileType["GovernedChannelStates"] = 5] = "GovernedChannelStates";\n        FileType[FileType["TmsCache_MessageMetadata"] = 6] = "TmsCache_MessageMetadata";\n        FileType[FileType["TmsCache_UserGovernance"] = 7] = "TmsCache_UserGovernance";\n        FileType[FileType["TmsCache_CampaignContent"] = 8] = "TmsCache_CampaignContent";\n        FileType[FileType["Tms_DynamicSettings"] = 9] = "Tms_DynamicSettings";\n        FileType[FileType["LogLevelSettings"] = 10] = "LogLevelSettings";\n        FileType[FileType["UserFacts"] = 11] = "UserFacts";\n        FileType[FileType["DebugOverrides"] = 12] = "DebugOverrides";\n    })(FileType = IFloodgateStorageProvider.FileType || (IFloodgateStorageProvider.FileType = {}));\n})(IFloodgateStorageProvider || (IFloodgateStorageProvider = {}));\nmodule.exports = IFloodgateStorageProvider;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FwaS9JRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLnRzPzkzZDIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQXlCQSxJQUFPLHlCQUF5QixDQW1CL0I7QUFuQkQsV0FBTyx5QkFBeUI7SUFDL0I7O09BRUc7SUFDSCxJQUFZLFFBY1g7SUFkRCxXQUFZLFFBQVE7UUFDbkIsaUVBQWlCO1FBQ2pCLHlFQUFxQjtRQUNyQiwrRUFBd0I7UUFDeEIscUVBQW1CO1FBQ25CLDJEQUFjO1FBQ2QseUVBQXFCO1FBQ3JCLCtFQUF3QjtRQUN4Qiw2RUFBdUI7UUFDdkIsK0VBQXdCO1FBQ3hCLHFFQUFtQjtRQUNuQixnRUFBZ0I7UUFDaEIsa0RBQVM7UUFDVCw0REFBYztJQUNmLENBQUMsRUFkVyxRQUFRLEdBQVIsa0NBQVEsS0FBUixrQ0FBUSxRQWNuQjtBQUNGLENBQUMsRUFuQk0seUJBQXlCLEtBQXpCLHlCQUF5QixRQW1CL0I7QUFFRCxpQkFBUyx5QkFBeUIsQ0FBQyIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL0FwaS9JRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEludGVyZmFjZSBmb3Igc3RvcmluZyBhbmQgcmV0cmlldmluZyBmbG9vZGdhdGUtc3BlY2lmaWMgZGF0YSBmcm9tIHN0b3JhZ2VcclxuICovXHJcbmludGVyZmFjZSBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyIHtcclxuXHQvKipcclxuXHQgKiBMb2NrIHRoZSBmaWxlIHRvIHByZXZlbnQgYWNjZXNzIGZyb20gYW5vdGhlciBwcm9jZXNzLlxyXG5cdCAqL1xyXG5cdGZpbGVMb2NrKGZpbGVUeXBlOiBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLkZpbGVUeXBlKTogdm9pZDtcclxuXHJcblx0LyoqXHJcblx0ICogVW5sb2NrIHRoZSBmaWxlLlxyXG5cdCAqL1xyXG5cdGZpbGVVbmxvY2soZmlsZVR5cGU6IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIuRmlsZVR5cGUpOiB2b2lkO1xyXG5cclxuXHQvKipcclxuXHQgKiBSZWFkIHRoZSBmaWxlXHJcblx0ICovXHJcblx0cmVhZChmaWxlVHlwZTogSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlci5GaWxlVHlwZSk6IHN0cmluZztcclxuXHJcblx0LyoqXHJcblx0ICogV3JpdGUgdG8gdGhlIGZpbGVcclxuXHQgKi9cclxuXHR3cml0ZShmaWxlVHlwZTogSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlci5GaWxlVHlwZSwgY29udGVudDogc3RyaW5nKTogdm9pZDtcclxufVxyXG5cclxubW9kdWxlIElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIge1xyXG5cdC8qKlxyXG5cdCAqIEVudW0gZm9yIHRoZSBmaWxlcyB1c2VkIGJ5IGZsb29kZ2F0ZVxyXG5cdCAqL1xyXG5cdGV4cG9ydCBlbnVtIEZpbGVUeXBlIHtcclxuXHRcdEZsb29kZ2F0ZVNldHRpbmdzLFxyXG5cdFx0U3VydmV5QWN0aXZhdGlvblN0YXRzLFxyXG5cdFx0U3VydmV5RXZlbnRBY3Rpdml0eVN0YXRzLFxyXG5cdFx0Q2FtcGFpZ25EZWZpbml0aW9ucyxcclxuXHRcdENhbXBhaWduU3RhdGVzLFxyXG5cdFx0R292ZXJuZWRDaGFubmVsU3RhdGVzLFxyXG5cdFx0VG1zQ2FjaGVfTWVzc2FnZU1ldGFkYXRhLFxyXG5cdFx0VG1zQ2FjaGVfVXNlckdvdmVybmFuY2UsXHJcblx0XHRUbXNDYWNoZV9DYW1wYWlnbkNvbnRlbnQsXHJcblx0XHRUbXNfRHluYW1pY1NldHRpbmdzLFxyXG5cdFx0TG9nTGV2ZWxTZXR0aW5ncyxcclxuXHRcdFVzZXJGYWN0cyxcclxuXHRcdERlYnVnT3ZlcnJpZGVzLFxyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0ID0gSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlcjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js\n')},"../FloodgateCore/dist/src/Api/ISurvey.js":function(module,exports,__webpack_require__){"use strict";eval('\nvar ISurvey;\n(function (ISurvey) {\n    var Type;\n    (function (Type) {\n        // A Feedback survey. Contains a single question with a free-form text response\n        Type[Type["Feedback"] = 0] = "Feedback";\n        // An NPS (net promoter score) survey. Asks user to rate "whether or not they would recommend this product to family/friends".\n        // Contains a prompt, question, and rating\n        Type[Type["Nps"] = 1] = "Nps";\n        // A PSAT (product satisfaction) survey. Asks user to rate "overall, based on their experience, how satisifed are they with this app"\n        // Contains a prompt, question, and rating\n        Type[Type["Psat"] = 2] = "Psat";\n        // A BPS (build promotion) survey. Asks user to choose between Yes and No options of promoting the current build to the next audience ring\n        // Contains a prompt, question, and rating (Yes/No)\n        Type[Type["Bps"] = 3] = "Bps";\n        // A FPS (feature promotion) survey. Asks user to rate a given app feature.\n        // Contains a prompt, question, and rating\n        Type[Type["Fps"] = 4] = "Fps";\n        // A NLQS (net language quality score) survey. Asks user to rate the language quality.\n        // Contains a prompt, question, and rating\n        Type[Type["Nlqs"] = 5] = "Nlqs";\n        // An intercept survey. Asks user if they want to talk to a Microsoft engineer to give feedback.\n        // User can dismiss it or click on it to go to the intercept website, where the experience continues.\n        Type[Type["Intercept"] = 6] = "Intercept";\n        // A Generic surface survey that uses content metadata to render a surface.\n        // As of 4th Feb 2019 there are 11 types defined in Mso hence giving a value of 12.\n        Type[Type["GenericMessagingSurface"] = 12] = "GenericMessagingSurface";\n    })(Type = ISurvey.Type || (ISurvey.Type = {}));\n    ISurvey.DOM_FEEDBACKSURVEY_TAGNAME = "FeedbackSurvey";\n    ISurvey.DOM_NPS_TAGNAME = "Nps";\n    ISurvey.DOM_PSAT_TAGNAME = "Psat";\n    ISurvey.DOM_BPS_TAGNAME = "Bps";\n    ISurvey.DOM_FPS_TAGNAME = "Fps";\n    ISurvey.DOM_NLQS_TAGNAME = "Nlqs";\n    ISurvey.DOM_INTERCEPT_TAGNAME = "Intercept";\n    // If the launcher type is null or undefined in campaign definition then this value will be used as default\n    ISurvey.LAUNCHER_TYPE_DEFAULT = "survey";\n})(ISurvey || (ISurvey = {}));\nmodule.exports = ISurvey;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FwaS9JU3VydmV5LnRzP2ZlZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQXNCQSxJQUFPLE9BQU8sQ0FxQ2I7QUFyQ0QsV0FBTyxPQUFPO0lBQ2IsSUFBWSxJQXdCWDtJQXhCRCxXQUFZLElBQUk7UUFDZiwrRUFBK0U7UUFDL0UsdUNBQVk7UUFDWiw4SEFBOEg7UUFDOUgsMENBQTBDO1FBQzFDLDZCQUFPO1FBQ1AscUlBQXFJO1FBQ3JJLDBDQUEwQztRQUMxQywrQkFBUTtRQUNSLDBJQUEwSTtRQUMxSSxtREFBbUQ7UUFDbkQsNkJBQU87UUFDUCwyRUFBMkU7UUFDM0UsMENBQTBDO1FBQzFDLDZCQUFPO1FBQ1Asc0ZBQXNGO1FBQ3RGLDBDQUEwQztRQUMxQywrQkFBUTtRQUNSLGdHQUFnRztRQUNoRyxxR0FBcUc7UUFDckcseUNBQWE7UUFDYiwyRUFBMkU7UUFDM0UsbUZBQW1GO1FBQ25GLHNFQUE0QjtJQUM3QixDQUFDLEVBeEJXLElBQUksR0FBSixZQUFJLEtBQUosWUFBSSxRQXdCZjtJQUVZLGtDQUEwQixHQUFHLGdCQUFnQixDQUFDO0lBQzlDLHVCQUFlLEdBQUcsS0FBSyxDQUFDO0lBQ3hCLHdCQUFnQixHQUFHLE1BQU0sQ0FBQztJQUMxQix1QkFBZSxHQUFHLEtBQUssQ0FBQztJQUN4Qix1QkFBZSxHQUFHLEtBQUssQ0FBQztJQUN4Qix3QkFBZ0IsR0FBRyxNQUFNLENBQUM7SUFDMUIsNkJBQXFCLEdBQUcsV0FBVyxDQUFDO0lBRWpELDJHQUEyRztJQUM5Riw2QkFBcUIsR0FBRyxRQUFRLENBQUM7QUFDL0MsQ0FBQyxFQXJDTSxPQUFPLEtBQVAsT0FBTyxRQXFDYjtBQUVELGlCQUFTLE9BQU8sQ0FBQyIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL0FwaS9JU3VydmV5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSVN1cnZleUZvcm0gfSBmcm9tIFwiLi4vQXBpL0lTdXJ2ZXlGb3JtXCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXlJbmZvIGZyb20gXCIuLi9JU3VydmV5SW5mb1wiO1xyXG5pbXBvcnQgeyBJU3VydmV5RG9tV3JpdGVyIH0gZnJvbSBcIi4vSVN1cnZleURvbVdyaXRlclwiO1xyXG5pbXBvcnQgeyBJU3VydmV5SnNvbldyaXRlciB9IGZyb20gXCIuL0lTdXJ2ZXlKc29uV3JpdGVyXCI7XHJcblxyXG4vKipcclxuICogVGhlIGludGVyZmFjZSBmb3IgYWxsIFN1cnZleXNcclxuICogQSBzdXJ2ZXkgaGFzIGEgdHlwZSwgYSBnbG9iYWxseSB1bmlxdWUgaWQgKG90aGVyd2lzZSBvcGFxdWUsIGJ1dCBzdWl0YWJsZSBmb3IgY29ycmVsYXRpb24gd2l0aCB0ZWxlbWV0cnkgYW5kIGZvciBzYXZpbmcgc3RhdHMgaW4gdGhlIHJlZ2lzdHJ5KSxcclxuICogYW4gZXhwaXJhdGlvbiB0aW1lIHRvIGFpZCBpbiBjYWNoZSBjbGVhbnVwLCBhbmQgYW4gYWN0aXZhdGlvbiBldmVudCB0byBjYXVzZSB0aGlzIHN1cnZleSB0byBiZSB0cmlnZ2VyZWRcclxuICovXHJcbmludGVyZmFjZSBJU3VydmV5IGV4dGVuZHMgSVN1cnZleUZvcm0sIElTdXJ2ZXlEb21Xcml0ZXIsIElTdXJ2ZXlKc29uV3JpdGVyIHtcclxuXHQvKipcclxuXHQgKiBHZXQgdGhlIHR5cGUgb2YgdGhpcyBzdXJ2ZXkuXHJcblx0ICovXHJcblx0Z2V0VHlwZSgpOiBJU3VydmV5LlR5cGU7XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldCBiYXNpYyByb290LWxldmVsIGluZm9ybWF0aW9uIGFib3V0IHRoaXMgc3VydmV5XHJcblx0ICovXHJcblx0Z2V0U3VydmV5SW5mbygpOiBJU3VydmV5SW5mbztcclxufVxyXG5cclxubW9kdWxlIElTdXJ2ZXkge1xyXG5cdGV4cG9ydCBlbnVtIFR5cGUge1xyXG5cdFx0Ly8gQSBGZWVkYmFjayBzdXJ2ZXkuIENvbnRhaW5zIGEgc2luZ2xlIHF1ZXN0aW9uIHdpdGggYSBmcmVlLWZvcm0gdGV4dCByZXNwb25zZVxyXG5cdFx0RmVlZGJhY2sgPSAwLFxyXG5cdFx0Ly8gQW4gTlBTIChuZXQgcHJvbW90ZXIgc2NvcmUpIHN1cnZleS4gQXNrcyB1c2VyIHRvIHJhdGUgXCJ3aGV0aGVyIG9yIG5vdCB0aGV5IHdvdWxkIHJlY29tbWVuZCB0aGlzIHByb2R1Y3QgdG8gZmFtaWx5L2ZyaWVuZHNcIi5cclxuXHRcdC8vIENvbnRhaW5zIGEgcHJvbXB0LCBxdWVzdGlvbiwgYW5kIHJhdGluZ1xyXG5cdFx0TnBzID0gMSxcclxuXHRcdC8vIEEgUFNBVCAocHJvZHVjdCBzYXRpc2ZhY3Rpb24pIHN1cnZleS4gQXNrcyB1c2VyIHRvIHJhdGUgXCJvdmVyYWxsLCBiYXNlZCBvbiB0aGVpciBleHBlcmllbmNlLCBob3cgc2F0aXNpZmVkIGFyZSB0aGV5IHdpdGggdGhpcyBhcHBcIlxyXG5cdFx0Ly8gQ29udGFpbnMgYSBwcm9tcHQsIHF1ZXN0aW9uLCBhbmQgcmF0aW5nXHJcblx0XHRQc2F0ID0gMixcclxuXHRcdC8vIEEgQlBTIChidWlsZCBwcm9tb3Rpb24pIHN1cnZleS4gQXNrcyB1c2VyIHRvIGNob29zZSBiZXR3ZWVuIFllcyBhbmQgTm8gb3B0aW9ucyBvZiBwcm9tb3RpbmcgdGhlIGN1cnJlbnQgYnVpbGQgdG8gdGhlIG5leHQgYXVkaWVuY2UgcmluZ1xyXG5cdFx0Ly8gQ29udGFpbnMgYSBwcm9tcHQsIHF1ZXN0aW9uLCBhbmQgcmF0aW5nIChZZXMvTm8pXHJcblx0XHRCcHMgPSAzLFxyXG5cdFx0Ly8gQSBGUFMgKGZlYXR1cmUgcHJvbW90aW9uKSBzdXJ2ZXkuIEFza3MgdXNlciB0byByYXRlIGEgZ2l2ZW4gYXBwIGZlYXR1cmUuXHJcblx0XHQvLyBDb250YWlucyBhIHByb21wdCwgcXVlc3Rpb24sIGFuZCByYXRpbmdcclxuXHRcdEZwcyA9IDQsXHJcblx0XHQvLyBBIE5MUVMgKG5ldCBsYW5ndWFnZSBxdWFsaXR5IHNjb3JlKSBzdXJ2ZXkuIEFza3MgdXNlciB0byByYXRlIHRoZSBsYW5ndWFnZSBxdWFsaXR5LlxyXG5cdFx0Ly8gQ29udGFpbnMgYSBwcm9tcHQsIHF1ZXN0aW9uLCBhbmQgcmF0aW5nXHJcblx0XHRObHFzID0gNSxcclxuXHRcdC8vIEFuIGludGVyY2VwdCBzdXJ2ZXkuIEFza3MgdXNlciBpZiB0aGV5IHdhbnQgdG8gdGFsayB0byBhIE1pY3Jvc29mdCBlbmdpbmVlciB0byBnaXZlIGZlZWRiYWNrLlxyXG5cdFx0Ly8gVXNlciBjYW4gZGlzbWlzcyBpdCBvciBjbGljayBvbiBpdCB0byBnbyB0byB0aGUgaW50ZXJjZXB0IHdlYnNpdGUsIHdoZXJlIHRoZSBleHBlcmllbmNlIGNvbnRpbnVlcy5cclxuXHRcdEludGVyY2VwdCA9IDYsXHJcblx0XHQvLyBBIEdlbmVyaWMgc3VyZmFjZSBzdXJ2ZXkgdGhhdCB1c2VzIGNvbnRlbnQgbWV0YWRhdGEgdG8gcmVuZGVyIGEgc3VyZmFjZS5cclxuXHRcdC8vIEFzIG9mIDR0aCBGZWIgMjAxOSB0aGVyZSBhcmUgMTEgdHlwZXMgZGVmaW5lZCBpbiBNc28gaGVuY2UgZ2l2aW5nIGEgdmFsdWUgb2YgMTIuXHJcblx0XHRHZW5lcmljTWVzc2FnaW5nU3VyZmFjZSA9IDEyLFxyXG5cdH1cclxuXHJcblx0ZXhwb3J0IGNvbnN0IERPTV9GRUVEQkFDS1NVUlZFWV9UQUdOQU1FID0gXCJGZWVkYmFja1N1cnZleVwiO1xyXG5cdGV4cG9ydCBjb25zdCBET01fTlBTX1RBR05BTUUgPSBcIk5wc1wiO1xyXG5cdGV4cG9ydCBjb25zdCBET01fUFNBVF9UQUdOQU1FID0gXCJQc2F0XCI7XHJcblx0ZXhwb3J0IGNvbnN0IERPTV9CUFNfVEFHTkFNRSA9IFwiQnBzXCI7XHJcblx0ZXhwb3J0IGNvbnN0IERPTV9GUFNfVEFHTkFNRSA9IFwiRnBzXCI7XHJcblx0ZXhwb3J0IGNvbnN0IERPTV9OTFFTX1RBR05BTUUgPSBcIk5scXNcIjtcclxuXHRleHBvcnQgY29uc3QgRE9NX0lOVEVSQ0VQVF9UQUdOQU1FID0gXCJJbnRlcmNlcHRcIjtcclxuXHJcblx0Ly8gSWYgdGhlIGxhdW5jaGVyIHR5cGUgaXMgbnVsbCBvciB1bmRlZmluZWQgaW4gY2FtcGFpZ24gZGVmaW5pdGlvbiB0aGVuIHRoaXMgdmFsdWUgd2lsbCBiZSB1c2VkIGFzIGRlZmF1bHRcclxuXHRleHBvcnQgY29uc3QgTEFVTkNIRVJfVFlQRV9ERUZBVUxUID0gXCJzdXJ2ZXlcIjtcclxufVxyXG5cclxuZXhwb3J0ID0gSVN1cnZleTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Api/ISurvey.js\n')},"../FloodgateCore/dist/src/Api/ISurveyComponent.js":function(module,exports,__webpack_require__){"use strict";eval('\nvar ISurveyComponent;\n(function (ISurveyComponent) {\n    ISurveyComponent.DOM_PROMPT_TAGNAME = "Prompt";\n    ISurveyComponent.DOM_COMMENT_TAGNAME = "Comment";\n    ISurveyComponent.DOM_RATING_TAGNAME = "Rating";\n    ISurveyComponent.DOM_MULTIPLECHOICE_TAGNAME = "MultipleChoice";\n    ISurveyComponent.DOM_INTERCEPT_TAGNAME = "Intercept";\n    ISurveyComponent.JSON_INTERCEPT_KEYNAME = "intercept";\n    ISurveyComponent.JSON_INTERCEPTURL_KEYNAME = "url";\n    ISurveyComponent.JSON_PROMPT_KEYNAME = "prompt";\n    ISurveyComponent.JSON_PROMPTYESTEXT_KEYNAME = "yesButtonText";\n    ISurveyComponent.JSON_PROMPTNOTEXT_KEYNAME = "noButtonText";\n    ISurveyComponent.JSON_COMMENT_KEYNAME = "comment";\n    ISurveyComponent.JSON_RATING_KEYNAME = "rating";\n    ISurveyComponent.JSON_RATINGOPTIONS_KEYNAME = "options";\n    ISurveyComponent.JSON_TITLE_KEYNAME = "title";\n    ISurveyComponent.JSON_QUESTION_KEYNAME = "question";\n    ISurveyComponent.JSON_MULTIPLECHOICE_KEYNAME = "multipleChoice";\n    ISurveyComponent.JSON_APPLICATION_KEYNAME = "application";\n    ISurveyComponent.JSON_EXTENDEDMANIFESTDATA_KEYNAME = "extendedManifestData";\n    ISurveyComponent.JSON_SURVEYSTRINGS_KEYNAME = "surveyStrings";\n    ISurveyComponent.JSON_SURVEYSPECIFICDATA_KEYNAME = "surveySpecificData";\n})(ISurveyComponent || (ISurveyComponent = {}));\nmodule.exports = ISurveyComponent;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0FwaS9JU3VydmV5Q29tcG9uZW50LnRzP2IzMzIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQVFBLElBQU8sZ0JBQWdCLENBc0N0QjtBQXRDRCxXQUFPLGdCQUFnQjtJQWtCVCxtQ0FBa0IsR0FBRyxRQUFRLENBQUM7SUFDOUIsb0NBQW1CLEdBQUcsU0FBUyxDQUFDO0lBQ2hDLG1DQUFrQixHQUFHLFFBQVEsQ0FBQztJQUM5QiwyQ0FBMEIsR0FBRyxnQkFBZ0IsQ0FBQztJQUM5QyxzQ0FBcUIsR0FBRyxXQUFXLENBQUM7SUFDcEMsdUNBQXNCLEdBQUcsV0FBVyxDQUFDO0lBQ3JDLDBDQUF5QixHQUFHLEtBQUssQ0FBQztJQUNsQyxvQ0FBbUIsR0FBRyxRQUFRLENBQUM7SUFDL0IsMkNBQTBCLEdBQUcsZUFBZSxDQUFDO0lBQzdDLDBDQUF5QixHQUFHLGNBQWMsQ0FBQztJQUMzQyxxQ0FBb0IsR0FBRyxTQUFTLENBQUM7SUFDakMsb0NBQW1CLEdBQUcsUUFBUSxDQUFDO0lBQy9CLDJDQUEwQixHQUFHLFNBQVMsQ0FBQztJQUN2QyxtQ0FBa0IsR0FBRyxPQUFPLENBQUM7SUFDN0Isc0NBQXFCLEdBQUcsVUFBVSxDQUFDO0lBQ25DLDRDQUEyQixHQUFHLGdCQUFnQixDQUFDO0lBQy9DLHlDQUF3QixHQUFHLGFBQWEsQ0FBQztJQUN6QyxrREFBaUMsR0FBRyxzQkFBc0IsQ0FBQztJQUMzRCwyQ0FBMEIsR0FBRyxlQUFlLENBQUM7SUFDN0MsZ0RBQStCLEdBQUcsb0JBQW9CLENBQUM7QUFDckUsQ0FBQyxFQXRDTSxnQkFBZ0IsS0FBaEIsZ0JBQWdCLFFBc0N0QjtBQUVELGlCQUFTLGdCQUFnQixDQUFDIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvQXBpL0lTdXJ2ZXlDb21wb25lbnQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQmFzZSBpbnRlcmZhY2UgZm9yIGEgU3VydmV5Q29tcG9uZW50IChpLmUuIGEgcXVlc3Rpb24vd2lkZ2V0IHRvIHNob3cgdGhlIHVzZXJcclxuICogaW4gYSBzdXJ2ZXkgZm9ybSwgYW5kIHRoYXQgdHlwaWNhbGx5IHJlcXVpcmVzIGEgcmVzcG9uc2UgdmFsdWUgb2Ygc29tZSBraW5kKVxyXG4gKi9cclxuaW50ZXJmYWNlIElTdXJ2ZXlDb21wb25lbnQge1xyXG5cdGdldFR5cGUoKTogSVN1cnZleUNvbXBvbmVudC5UeXBlO1xyXG59XHJcblxyXG5tb2R1bGUgSVN1cnZleUNvbXBvbmVudCB7XHJcblx0ZXhwb3J0IGNvbnN0IGVudW0gVHlwZSB7XHJcblx0XHQvLyBBIHF1aWNrIHBvcC11cCByZXF1ZXN0aW5nIHBhcnRpY2lwYXRpb24gaW4gYSBzdXJ2ZXlcclxuXHRcdFByb21wdCA9IFwiUHJvbXB0XCIsXHJcblxyXG5cdFx0Ly8gQSBxdWVzdGlvbiBwYWlyZWQgd2l0aCBhIGZyZWUtZm9ybSB0ZXh0IHJlc3BvbnNlXHJcblx0XHRDb21tZW50ID0gXCJDb21tZW50XCIsXHJcblxyXG5cdFx0Ly8gQSBxdWVzdGlvbiBhc2tpbmcgZm9yIGEgc2VsZWN0aW9uIGZyb20gYSBsaXN0IG9mIGFsbG93ZWQgdmFsdWVzIHdpdGggbnVtZXJpYyBtZWFuaW5nXHJcblx0XHRSYXRpbmcgPSBcIlJhdGluZ1wiLFxyXG5cclxuXHRcdC8vIEEgcXVlc3Rpb24gYXNraW5nIGZvciBvbmUgb3IgbW9yZSBzZWxlY3Rpb25zIGZyb20gYSBsaXN0IG9mIGFsbG93ZWQgdmFsdWVzXHJcblx0XHRNdWx0aXBsZUNob2ljZSA9IFwiTXVsdGlwbGVDaG9pY2VcIixcclxuXHJcblx0XHQvLyBBIHBvcC11cCBkaWFsb2cgcmVxdWVzdGluZyBwYXJ0aWNpcGF0aW9uIGluIGFuIEludGVyY2VwdCBzZXNzaW9uXHJcblx0XHRJbnRlcmNlcHQgPSBcIkludGVyY2VwdFwiLFxyXG5cdH1cclxuXHJcblx0ZXhwb3J0IGNvbnN0IERPTV9QUk9NUFRfVEFHTkFNRSA9IFwiUHJvbXB0XCI7XHJcblx0ZXhwb3J0IGNvbnN0IERPTV9DT01NRU5UX1RBR05BTUUgPSBcIkNvbW1lbnRcIjtcclxuXHRleHBvcnQgY29uc3QgRE9NX1JBVElOR19UQUdOQU1FID0gXCJSYXRpbmdcIjtcclxuXHRleHBvcnQgY29uc3QgRE9NX01VTFRJUExFQ0hPSUNFX1RBR05BTUUgPSBcIk11bHRpcGxlQ2hvaWNlXCI7XHJcblx0ZXhwb3J0IGNvbnN0IERPTV9JTlRFUkNFUFRfVEFHTkFNRSA9IFwiSW50ZXJjZXB0XCI7XHJcblx0ZXhwb3J0IGNvbnN0IEpTT05fSU5URVJDRVBUX0tFWU5BTUUgPSBcImludGVyY2VwdFwiO1xyXG5cdGV4cG9ydCBjb25zdCBKU09OX0lOVEVSQ0VQVFVSTF9LRVlOQU1FID0gXCJ1cmxcIjtcclxuXHRleHBvcnQgY29uc3QgSlNPTl9QUk9NUFRfS0VZTkFNRSA9IFwicHJvbXB0XCI7XHJcblx0ZXhwb3J0IGNvbnN0IEpTT05fUFJPTVBUWUVTVEVYVF9LRVlOQU1FID0gXCJ5ZXNCdXR0b25UZXh0XCI7XHJcblx0ZXhwb3J0IGNvbnN0IEpTT05fUFJPTVBUTk9URVhUX0tFWU5BTUUgPSBcIm5vQnV0dG9uVGV4dFwiO1xyXG5cdGV4cG9ydCBjb25zdCBKU09OX0NPTU1FTlRfS0VZTkFNRSA9IFwiY29tbWVudFwiO1xyXG5cdGV4cG9ydCBjb25zdCBKU09OX1JBVElOR19LRVlOQU1FID0gXCJyYXRpbmdcIjtcclxuXHRleHBvcnQgY29uc3QgSlNPTl9SQVRJTkdPUFRJT05TX0tFWU5BTUUgPSBcIm9wdGlvbnNcIjtcclxuXHRleHBvcnQgY29uc3QgSlNPTl9USVRMRV9LRVlOQU1FID0gXCJ0aXRsZVwiO1xyXG5cdGV4cG9ydCBjb25zdCBKU09OX1FVRVNUSU9OX0tFWU5BTUUgPSBcInF1ZXN0aW9uXCI7XHJcblx0ZXhwb3J0IGNvbnN0IEpTT05fTVVMVElQTEVDSE9JQ0VfS0VZTkFNRSA9IFwibXVsdGlwbGVDaG9pY2VcIjtcclxuXHRleHBvcnQgY29uc3QgSlNPTl9BUFBMSUNBVElPTl9LRVlOQU1FID0gXCJhcHBsaWNhdGlvblwiO1xyXG5cdGV4cG9ydCBjb25zdCBKU09OX0VYVEVOREVETUFOSUZFU1REQVRBX0tFWU5BTUUgPSBcImV4dGVuZGVkTWFuaWZlc3REYXRhXCI7XHJcblx0ZXhwb3J0IGNvbnN0IEpTT05fU1VSVkVZU1RSSU5HU19LRVlOQU1FID0gXCJzdXJ2ZXlTdHJpbmdzXCI7XHJcblx0ZXhwb3J0IGNvbnN0IEpTT05fU1VSVkVZU1BFQ0lGSUNEQVRBX0tFWU5BTUUgPSBcInN1cnZleVNwZWNpZmljRGF0YVwiO1xyXG59XHJcblxyXG5leHBvcnQgPSBJU3VydmV5Q29tcG9uZW50O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Api/ISurveyComponent.js\n')},"../FloodgateCore/dist/src/Campaign/CampaignDefinitionProvider.js":function(module,exports,__webpack_require__){"use strict";eval('\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.FileSystemCampaignDefinitionProvider = exports.FilterValidCampaignDefinitions = exports.CampaignDefinition = exports.CampaignSurveyTemplateIntercept = exports.CampaignSurveyTemplateGenericMessagingSurface = exports.CampaignSurveyTemplateNps11PointStatic = exports.CampaignSurveyTemplateNps5PointStatic = exports.CampaignSurveyTemplateNps = exports.CampaignSurveyTemplateNlqs = exports.CampaignSurveyTemplateFps = exports.CampaignSurveyTemplate = exports.CampaignSurveyMetadata = exports.CampaignSurveyContentComment = exports.CampaignSurveyContentRating = exports.CampaignSurveyContentIntercept = exports.CampaignSurveyContentPrompt = exports.CampaignSurveyContentMultipleChoice = exports.CampaignSurveyContent = exports.CampaignSurveyEventCountedActivitySequence = exports.CampaignSurveyEventCountedActivity = exports.CampaignSurveyEvent = exports.CampaignNominationSchemeRatioPercentage = exports.CampaignNominationScheme = exports.CampaignDistributionRamp = exports.CampaignDistribution = exports.CampaignAdditionalDataRequested = exports.CampaignDurationSingleBuildChange = exports.CampaignDurationTimeInterval = exports.CampaignDuration = exports.CampaignScopeUserFactAll = exports.CampaignScopeUserFactAny = exports.CampaignScopeEnvironmentCrossProduct = exports.CampaignScopeAny = exports.CampaignScope = exports.CampaignLanguageRangeLanguageSubtag = exports.CampaignLanguageRange = void 0;\nvar IFloodgateStorageProvider = __webpack_require__(/*! ../Api/IFloodgateStorageProvider */ "../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js");\nvar FloodgateEngine_1 = __webpack_require__(/*! ../FloodgateEngine */ "../FloodgateCore/dist/src/FloodgateEngine.js");\nvar GovernedChannel_1 = __webpack_require__(/*! ../GovernedChannel */ "../FloodgateCore/dist/src/GovernedChannel.js");\nvar Utils = __webpack_require__(/*! ../Utils */ "../FloodgateCore/dist/src/Utils.js");\nvar UserFactHelper_1 = __webpack_require__(/*! ../UserFact/UserFactHelper */ "../FloodgateCore/dist/src/UserFact/UserFactHelper.js");\nvar getDistantFuture = Utils.getDistantFuture, isBoolean = Utils.isBoolean, isNOU = Utils.isNOU, isNumber = Utils.isNumber, isString = Utils.isString, isUtcDatetimeString = Utils.isUtcDatetimeString, stringToDate = Utils.stringToDate;\n// region Language Range\n/**\n * Base class representing a language range in a campaign setting\n */\nvar CampaignLanguageRange = /** @class */ (function () {\n    function CampaignLanguageRange() {\n    }\n    CampaignLanguageRange.deserialize = function (input) {\n        var result;\n        if (input && input.Type === 0) {\n            result = CampaignLanguageRangeLanguageSubtag.deserialize(input);\n        }\n        if (result === undefined) {\n            return null;\n        }\n        return result;\n    };\n    CampaignLanguageRange.prototype.validate = function () {\n        return true;\n    };\n    return CampaignLanguageRange;\n}());\nexports.CampaignLanguageRange = CampaignLanguageRange;\n/**\n * Represents a range matching on the "language subtag" against fully specified language tags, according to RFC 5646\n */\nvar CampaignLanguageRangeLanguageSubtag = /** @class */ (function (_super) {\n    __extends(CampaignLanguageRangeLanguageSubtag, _super);\n    // public for UT only\n    function CampaignLanguageRangeLanguageSubtag() {\n        return _super.call(this) || this;\n    }\n    CampaignLanguageRangeLanguageSubtag.deserialize = function (input) {\n        var result = new CampaignLanguageRangeLanguageSubtag();\n        if (input) {\n            result.languageSubTag = input.Value;\n        }\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    // @Override\n    CampaignLanguageRangeLanguageSubtag.prototype.isInRange = function (language) {\n        if (isNOU(language)) {\n            return false;\n        }\n        var extractedLanguageSubTag = Utils.extractLanguageSubtag(language);\n        if (isNOU(extractedLanguageSubTag)) {\n            return false;\n        }\n        // compare strings ignoring case\n        return extractedLanguageSubTag.toLocaleUpperCase() === this.languageSubTag.toLocaleUpperCase();\n    };\n    // @Override\n    CampaignLanguageRangeLanguageSubtag.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        if (isNOU(this.languageSubTag) || !isString(this.languageSubTag)) {\n            return false;\n        }\n        // Reject any spec that isn\'t exactly a language subtag\n        if (!Utils.isValidLanguageSubTag(this.languageSubTag)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignLanguageRangeLanguageSubtag;\n}(CampaignLanguageRange));\nexports.CampaignLanguageRangeLanguageSubtag = CampaignLanguageRangeLanguageSubtag;\n// endregion\n// region Scope\nvar CampaignScope = /** @class */ (function () {\n    function CampaignScope() {\n    }\n    CampaignScope.deserialize = function (input) {\n        var result;\n        if (isNOU(input)) {\n            return null;\n        }\n        switch (input.Type) {\n            case 0 /* CampaignScopeAny */:\n                result = CampaignScopeAny.deserialize(input);\n                break;\n            case 1 /* CampaignScopeEnvironmentCrossProduct */:\n                result = CampaignScopeEnvironmentCrossProduct.deserialize(input);\n                break;\n            case 2 /* CampaignScopeUserFactAny */:\n                result = CampaignScopeUserFactAny.deserialize(input);\n                break;\n            case 3 /* CampaignScopeUserFactAll */:\n                result = CampaignScopeUserFactAll.deserialize(input);\n                break;\n        }\n        if (result === undefined) {\n            return null;\n        }\n        return result;\n    };\n    CampaignScope.prototype.validate = function () {\n        return true;\n    };\n    return CampaignScope;\n}());\nexports.CampaignScope = CampaignScope;\nvar CampaignScopeAny = /** @class */ (function (_super) {\n    __extends(CampaignScopeAny, _super);\n    // public for UT only\n    function CampaignScopeAny() {\n        return _super.call(this) || this;\n    }\n    CampaignScopeAny.deserialize = function (input) {\n        return new CampaignScopeAny();\n    };\n    // @Override\n    CampaignScopeAny.prototype.isInScope = function () {\n        return true;\n    };\n    // @Override\n    CampaignScopeAny.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignScopeAny;\n}(CampaignScope));\nexports.CampaignScopeAny = CampaignScopeAny;\nvar CampaignScopeEnvironmentCrossProduct = /** @class */ (function (_super) {\n    __extends(CampaignScopeEnvironmentCrossProduct, _super);\n    // public for UT only\n    function CampaignScopeEnvironmentCrossProduct() {\n        return _super.call(this) || this;\n    }\n    CampaignScopeEnvironmentCrossProduct.deserialize = function (input) {\n        var result = new CampaignScopeEnvironmentCrossProduct();\n        var languageRanges = [];\n        if (isNOU(input)) {\n            return null;\n        }\n        for (var key in input.Languages) {\n            if (input.Languages.hasOwnProperty(key)) {\n                var readRange = input.Languages[key];\n                if (readRange) {\n                    languageRanges.push(CampaignLanguageRange.deserialize(readRange));\n                }\n            }\n        }\n        if (languageRanges.length === 0) {\n            languageRanges = null;\n        }\n        result.languageRanges = languageRanges;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignScopeEnvironmentCrossProduct.prototype.setEnvironmentProvider = function (environmentProvider) {\n        this.environmentProvider = environmentProvider;\n    };\n    // @Override\n    CampaignScopeEnvironmentCrossProduct.prototype.isInScope = function () {\n        if (isNOU(this.languageRanges)) {\n            return true;\n        }\n        if (isNOU(this.environmentProvider) || !this.environmentProvider.getLanguage()) {\n            return false;\n        }\n        var language = this.environmentProvider.getLanguage();\n        // If the environment matches a single pattern, then this is a yes\n        for (var key in this.languageRanges) {\n            if (this.languageRanges.hasOwnProperty(key)) {\n                var range = this.languageRanges[key];\n                if (range.isInRange(language)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    // @Override\n    CampaignScopeEnvironmentCrossProduct.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        // Null languageRanges is allowed, means will match with everything.\n        if (this.languageRanges) {\n            for (var key in this.languageRanges) {\n                if (this.languageRanges.hasOwnProperty(key) && !this.languageRanges[key]) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    return CampaignScopeEnvironmentCrossProduct;\n}(CampaignScope));\nexports.CampaignScopeEnvironmentCrossProduct = CampaignScopeEnvironmentCrossProduct;\nvar CampaignScopeUserFactAny = /** @class */ (function (_super) {\n    __extends(CampaignScopeUserFactAny, _super);\n    // public for UT only\n    function CampaignScopeUserFactAny() {\n        return _super.call(this) || this;\n    }\n    CampaignScopeUserFactAny.deserialize = function (input) {\n        var result = new CampaignScopeUserFactAny();\n        result.userFacts = UserFactHelper_1.deserializeUserFacts(input);\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignScopeUserFactAny.prototype.setUserFactsProvider = function (userFactsProvider) {\n        this.userFactsProvider = userFactsProvider;\n    };\n    // @Override\n    CampaignScopeUserFactAny.prototype.isInScope = function () {\n        var _this = this;\n        if (isNOU(this.userFacts)) {\n            return true;\n        }\n        if (!this.userFactsProvider) {\n            return false;\n        }\n        // If one of the user fact matches, then this is a yes\n        return this.userFacts.some(function (userFact) {\n            var rawUserFact = _this.userFactsProvider.getUserFact(userFact.getName());\n            return userFact.isAMatch(rawUserFact);\n        });\n    };\n    // @Override\n    CampaignScopeUserFactAny.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        return UserFactHelper_1.validateUserFacts(this.userFacts);\n    };\n    return CampaignScopeUserFactAny;\n}(CampaignScope));\nexports.CampaignScopeUserFactAny = CampaignScopeUserFactAny;\nvar CampaignScopeUserFactAll = /** @class */ (function (_super) {\n    __extends(CampaignScopeUserFactAll, _super);\n    // public for UT only\n    function CampaignScopeUserFactAll() {\n        return _super.call(this) || this;\n    }\n    CampaignScopeUserFactAll.deserialize = function (input) {\n        var result = new CampaignScopeUserFactAll();\n        result.userFacts = UserFactHelper_1.deserializeUserFacts(input);\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignScopeUserFactAll.prototype.setUserFactsProvider = function (userFactsProvider) {\n        this.userFactsProvider = userFactsProvider;\n    };\n    // @Override\n    CampaignScopeUserFactAll.prototype.isInScope = function () {\n        var _this = this;\n        if (isNOU(this.userFacts)) {\n            return true;\n        }\n        if (!this.userFactsProvider) {\n            return false;\n        }\n        // If all of the user facts match, then this is a yes\n        return this.userFacts.every(function (userFact) {\n            var rawUserFact = _this.userFactsProvider.getUserFact(userFact.getName());\n            return userFact.isAMatch(rawUserFact);\n        });\n    };\n    // @Override\n    CampaignScopeUserFactAll.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        return UserFactHelper_1.validateUserFacts(this.userFacts);\n    };\n    return CampaignScopeUserFactAll;\n}(CampaignScope));\nexports.CampaignScopeUserFactAll = CampaignScopeUserFactAll;\n// endregion\n// region Durations\n/**\n * Base class representing a duration in a campaign setting\n */\nvar CampaignDuration = /** @class */ (function () {\n    function CampaignDuration() {\n    }\n    CampaignDuration.deserialize = function (input) {\n        var result;\n        if (isNOU(input)) {\n            return null;\n        }\n        switch (input.Type) {\n            case 0:\n                result = CampaignDurationTimeInterval.deserialize(input);\n                break;\n            case 1:\n                result = CampaignDurationSingleBuildChange.deserialize(input);\n                break;\n        }\n        if (result === undefined) {\n            return null;\n        }\n        return result;\n    };\n    CampaignDuration.prototype.validate = function () {\n        return true;\n    };\n    return CampaignDuration;\n}());\nexports.CampaignDuration = CampaignDuration;\n/**\n * A Duration expressed in seconds. UTC datetime comparisons are used to determine expiration.\n */\nvar CampaignDurationTimeInterval = /** @class */ (function (_super) {\n    __extends(CampaignDurationTimeInterval, _super);\n    // public for UT only\n    function CampaignDurationTimeInterval() {\n        return _super.call(this) || this;\n    }\n    CampaignDurationTimeInterval.deserialize = function (input) {\n        var result = new CampaignDurationTimeInterval();\n        if (input) {\n            result.intervalSeconds = input.IntervalSeconds;\n        }\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    // @Override\n    CampaignDurationTimeInterval.prototype.asTimeIntervalSeconds = function () {\n        return this.intervalSeconds;\n    };\n    // @Override\n    CampaignDurationTimeInterval.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        if (!isNumber(this.intervalSeconds)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignDurationTimeInterval;\n}(CampaignDuration));\nexports.CampaignDurationTimeInterval = CampaignDurationTimeInterval;\n/**\n * A Duration representing exactly 1 change in build number\n */\nvar CampaignDurationSingleBuildChange = /** @class */ (function (_super) {\n    __extends(CampaignDurationSingleBuildChange, _super);\n    // public for UT only\n    function CampaignDurationSingleBuildChange() {\n        return _super.call(this) || this;\n    }\n    CampaignDurationSingleBuildChange.deserialize = function (input) {\n        return new CampaignDurationSingleBuildChange();\n    };\n    // @Override\n    CampaignDurationSingleBuildChange.prototype.asTimeIntervalSeconds = function () {\n        return null;\n    };\n    return CampaignDurationSingleBuildChange;\n}(CampaignDuration));\nexports.CampaignDurationSingleBuildChange = CampaignDurationSingleBuildChange;\n/**\n * Class representing AdditionalDataRequested in CampaignDefinition\n */\nvar CampaignAdditionalDataRequested = /** @class */ (function () {\n    function CampaignAdditionalDataRequested() {\n    }\n    CampaignAdditionalDataRequested.deserialize = function (additionalDataRequested) {\n        var result = new CampaignAdditionalDataRequested();\n        if (!isNOU(additionalDataRequested)) {\n            // Convert from AdditionalDataRequested string to enum\n            result.additionalData = [];\n            for (var _i = 0, additionalDataRequested_1 = additionalDataRequested; _i < additionalDataRequested_1.length; _i++) {\n                var additionalData = additionalDataRequested_1[_i];\n                if (additionalData === "EmailAddress") {\n                    result.additionalData.push(0 /* EmailAddress */);\n                }\n            }\n        }\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignAdditionalDataRequested.prototype.validate = function () {\n        if (isNOU(this.additionalData)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignAdditionalDataRequested;\n}());\nexports.CampaignAdditionalDataRequested = CampaignAdditionalDataRequested;\n// endregion\n// region Distribution Schemes\nvar CampaignDistribution = /** @class */ (function () {\n    function CampaignDistribution() {\n    }\n    CampaignDistribution.deserialize = function (input) {\n        var result;\n        if (input && input.Type === 0) {\n            result = CampaignDistributionRamp.deserialize(input);\n        }\n        if (result === undefined) {\n            return null;\n        }\n        return result;\n    };\n    CampaignDistribution.prototype.validate = function () {\n        return true;\n    };\n    return CampaignDistribution;\n}());\nexports.CampaignDistribution = CampaignDistribution;\nvar CampaignDistributionRamp = /** @class */ (function (_super) {\n    __extends(CampaignDistributionRamp, _super);\n    function CampaignDistributionRamp() {\n        return _super.call(this) || this;\n    }\n    CampaignDistributionRamp.deserialize = function (input) {\n        var result = new CampaignDistributionRamp();\n        if (input) {\n            result.maxDelaySeconds = input.MaxDelaySeconds;\n            result.chunks = input.Chunks;\n        }\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    // @Override\n    CampaignDistributionRamp.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        if (!isNumber(this.maxDelaySeconds) || this.maxDelaySeconds < 0) {\n            return false;\n        }\n        if (!isNumber(this.chunks) || this.chunks < 0) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignDistributionRamp;\n}(CampaignDistribution));\nexports.CampaignDistributionRamp = CampaignDistributionRamp;\n// endregion\n// region Nomination Scheme\nvar CampaignNominationScheme = /** @class */ (function () {\n    function CampaignNominationScheme() {\n    }\n    CampaignNominationScheme.deserialize = function (input) {\n        var result;\n        if (input && input.Type === 0) {\n            result = CampaignNominationSchemeRatioPercentage.deserialize(input);\n        }\n        if (result === undefined) {\n            return null;\n        }\n        return result;\n    };\n    /**\n     * @return The amount of time the survey should be active, in seconds. Abstracts the difference between nominationPeriod and the fallback\n     */\n    CampaignNominationScheme.prototype.getActiveSurveyTimeIntervalSeconds = function () {\n        var nominationTimIntervalSeconds = this.nominationPeriod.asTimeIntervalSeconds();\n        if (isNumber(nominationTimIntervalSeconds)) {\n            return nominationTimIntervalSeconds;\n        }\n        return this.fallbackSurveyDurationSeconds;\n    };\n    /**\n     * @return The survey start time, possibly adjusted by an underlying DistributionModel.\n     */\n    CampaignNominationScheme.prototype.calculateSurveyStartTimeFromDate = function (soonestStartTime) {\n        // No adjustment in base class.  Derived classes can override and implement delays like a "ramp"\n        return soonestStartTime ? soonestStartTime : new Date();\n    };\n    /**\n     * @return The survey expiration time, based on the nomination periods and the survey\'s adjusted start time\n     */\n    CampaignNominationScheme.prototype.calculateSurveyExpirationTimeFromSurveyStartTime = function (surveyStartTime) {\n        surveyStartTime = surveyStartTime ? surveyStartTime : new Date();\n        return Utils.addSecondsWithoutOverflow(surveyStartTime, this.getActiveSurveyTimeIntervalSeconds());\n    };\n    /**\n     * @return The appropriate campaign cool down based on whether or not the user activated the survey\n     */\n    CampaignNominationScheme.prototype.getCampaignCooldown = function (didUserActivateSurvey) {\n        if (didUserActivateSurvey) {\n            return this.cooldownPeriod;\n        }\n        else {\n            return this.nominationPeriod;\n        }\n    };\n    CampaignNominationScheme.prototype.validate = function () {\n        if (isNOU(this.nominationPeriod)) {\n            return false;\n        }\n        if (isNOU(this.cooldownPeriod)) {\n            this.cooldownPeriod = this.nominationPeriod;\n        }\n        if (!isNumber(this.nominationPeriod.asTimeIntervalSeconds())) {\n            if (!isNumber(this.fallbackSurveyDurationSeconds) || this.fallbackSurveyDurationSeconds <= 0) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return CampaignNominationScheme;\n}());\nexports.CampaignNominationScheme = CampaignNominationScheme;\n/**\n * Class representing a set of campaign nomination rules to evaluate for in-scope campaigns:\n * percentage\n * re-election durations\n * distribution model (for "nominated" candidates)\n */\nvar CampaignNominationSchemeRatioPercentage = /** @class */ (function (_super) {\n    __extends(CampaignNominationSchemeRatioPercentage, _super);\n    function CampaignNominationSchemeRatioPercentage() {\n        return _super.call(this) || this;\n    }\n    CampaignNominationSchemeRatioPercentage.deserialize = function (input) {\n        var result = new CampaignNominationSchemeRatioPercentage();\n        if (isNOU(input)) {\n            return null;\n        }\n        if (input.DistributionModel) {\n            result.distributionModel = CampaignDistribution.deserialize(input.DistributionModel);\n        }\n        if (input.CooldownPeriod) {\n            result.cooldownPeriod = CampaignDuration.deserialize(input.CooldownPeriod);\n        }\n        if (input.NominationPeriod) {\n            result.nominationPeriod = CampaignDuration.deserialize(input.NominationPeriod);\n        }\n        result.fallbackSurveyDurationSeconds = input.FallbackSurveyDurationSeconds;\n        result.percentageDenominator = input.PercentageDenominator;\n        result.percentageNumerator = input.PercentageNumerator;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    // @Override\n    CampaignNominationSchemeRatioPercentage.prototype.evaluateNominationRules = function () {\n        var rand = Math.random();\n        // Creates a random number between [0 to (percentageDenominator - 1)]\n        // In range [0 to (percentageDenominator - 1)] exactly \'percentageNumerator\' values are < percentageNumerator\n        return Math.floor(rand * this.percentageDenominator) < this.percentageNumerator;\n    };\n    // @Override\n    CampaignNominationSchemeRatioPercentage.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        if (!isNumber(this.percentageDenominator) || !isNumber(this.percentageNumerator)) {\n            return false;\n        }\n        if (this.percentageDenominator <= 0 || this.percentageNumerator < 0) {\n            return false;\n        }\n        if (this.percentageNumerator > this.percentageDenominator) {\n            return false;\n        }\n        // distribution model may be null\n        return true;\n    };\n    return CampaignNominationSchemeRatioPercentage;\n}(CampaignNominationScheme));\nexports.CampaignNominationSchemeRatioPercentage = CampaignNominationSchemeRatioPercentage;\n// endregion\n// region Survey Event Definitions\nvar CampaignSurveyEvent = /** @class */ (function () {\n    function CampaignSurveyEvent() {\n    }\n    CampaignSurveyEvent.deserialize = function (input) {\n        var result;\n        if (isNOU(input)) {\n            return null;\n        }\n        switch (input.Type) {\n            case 0:\n                result = CampaignSurveyEventCountedActivity.deserialize(input);\n                break;\n            case 1:\n                result = CampaignSurveyEventCountedActivitySequence.deserialize(input);\n                break;\n        }\n        if (result === undefined) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyEvent.prototype.validate = function () {\n        return true;\n    };\n    return CampaignSurveyEvent;\n}());\nexports.CampaignSurveyEvent = CampaignSurveyEvent;\nvar CampaignSurveyEventCountedActivity = /** @class */ (function (_super) {\n    __extends(CampaignSurveyEventCountedActivity, _super);\n    // public for UT only\n    function CampaignSurveyEventCountedActivity() {\n        return _super.call(this) || this;\n    }\n    CampaignSurveyEventCountedActivity.deserialize = function (input) {\n        var result = new CampaignSurveyEventCountedActivity();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.activity = input.Activity;\n        result.count = input.Count;\n        result.isAggregate = input.IsAggregate;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    // @Override\n    CampaignSurveyEventCountedActivity.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        if (isNOU(this.activity) || !isString(this.activity)) {\n            return false;\n        }\n        if (!isNumber(this.count) || this.count <= 0) {\n            return false;\n        }\n        if (!isBoolean(this.isAggregate)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyEventCountedActivity;\n}(CampaignSurveyEvent));\nexports.CampaignSurveyEventCountedActivity = CampaignSurveyEventCountedActivity;\nvar CampaignSurveyEventCountedActivitySequence = /** @class */ (function (_super) {\n    __extends(CampaignSurveyEventCountedActivitySequence, _super);\n    // public for UT only\n    function CampaignSurveyEventCountedActivitySequence() {\n        return _super.call(this) || this;\n    }\n    CampaignSurveyEventCountedActivitySequence.deserialize = function (input) {\n        var result = new CampaignSurveyEventCountedActivitySequence();\n        var sequence = [];\n        if (isNOU(input)) {\n            return null;\n        }\n        for (var key in input.Sequence) {\n            if (input.Sequence.hasOwnProperty(key)) {\n                var readActivity = input.Sequence[key];\n                if (readActivity) {\n                    sequence.push(CampaignSurveyEventCountedActivity.deserialize(readActivity));\n                }\n            }\n        }\n        if (sequence.length === 0) {\n            sequence = null;\n        }\n        result.sequence = sequence;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    // @Override\n    CampaignSurveyEventCountedActivitySequence.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        if (isNOU(this.sequence)) {\n            return false;\n        }\n        for (var key in this.sequence) {\n            if (this.sequence.hasOwnProperty(key) && !this.sequence[key]) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return CampaignSurveyEventCountedActivitySequence;\n}(CampaignSurveyEvent));\nexports.CampaignSurveyEventCountedActivitySequence = CampaignSurveyEventCountedActivitySequence;\n// endregion\n// region Survey Content Definitions\nvar CampaignSurveyContent = /** @class */ (function () {\n    function CampaignSurveyContent() {\n    }\n    CampaignSurveyContent.deserialize = function (input, optionalComponents) {\n        var result = new CampaignSurveyContent();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.prompt = CampaignSurveyContentPrompt.deserialize(input.Prompt);\n        result.rating = CampaignSurveyContentRating.deserialize(input.Rating);\n        result.comment = CampaignSurveyContentComment.deserialize(input.Question);\n        result.multipleChoice = CampaignSurveyContentMultipleChoice.deserialize(input.MultipleChoice);\n        result.intercept = CampaignSurveyContentIntercept.deserialize(input.Intercept);\n        if (!result.validate(optionalComponents)) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyContent.prototype.validate = function (optionalComponents) {\n        if (!isNOU(this.intercept)) {\n            // An intercept survey only requires intercept.\n            return true;\n        }\n        if (isNOU(this.prompt)) {\n            return false;\n        }\n        if (optionalComponents) {\n            return !isNOU(this.rating) ||\n                !isNOU(this.multipleChoice) ||\n                !isNOU(this.comment);\n        }\n        return !isNOU(this.rating) && !isNOU(this.comment);\n    };\n    return CampaignSurveyContent;\n}());\nexports.CampaignSurveyContent = CampaignSurveyContent;\nvar CampaignSurveyContentMultipleChoice = /** @class */ (function () {\n    function CampaignSurveyContentMultipleChoice() {\n    }\n    CampaignSurveyContentMultipleChoice.deserialize = function (input) {\n        var result = new CampaignSurveyContentMultipleChoice();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.question = input.Question;\n        result.availableOptions = input.AvailableOptions;\n        result.minNumberOfSelectedOptions = input.MinNumberOfSelectedOptions;\n        result.maxNumberOfSelectedOptions = input.MaxNumberOfSelectedOptions;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyContentMultipleChoice.prototype.validate = function () {\n        if (isNOU(this.question) || !isString(this.question) ||\n            isNOU(this.availableOptions) || !Array.isArray(this.availableOptions) || this.availableOptions.length < 2 ||\n            isNOU(this.minNumberOfSelectedOptions) || !isNumber(this.minNumberOfSelectedOptions) ||\n            isNOU(this.maxNumberOfSelectedOptions) || !isNumber(this.maxNumberOfSelectedOptions)) {\n            return false;\n        }\n        // expect all availableOptions values to be string\n        for (var key in this.availableOptions) {\n            if (this.availableOptions.hasOwnProperty(key)) {\n                if (!isString(this.availableOptions[key])) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    return CampaignSurveyContentMultipleChoice;\n}());\nexports.CampaignSurveyContentMultipleChoice = CampaignSurveyContentMultipleChoice;\nvar CampaignSurveyContentPrompt = /** @class */ (function () {\n    function CampaignSurveyContentPrompt() {\n    }\n    CampaignSurveyContentPrompt.deserialize = function (input) {\n        var result = new CampaignSurveyContentPrompt();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.title = input.Title;\n        result.question = input.Question;\n        result.yesLabel = input.YesLabel;\n        result.noLabel = input.NoLabel;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyContentPrompt.prototype.validate = function () {\n        if (isNOU(this.title) || !isString(this.title) ||\n            isNOU(this.question) || !isString(this.question) ||\n            isNOU(this.yesLabel) || !isString(this.yesLabel) ||\n            isNOU(this.noLabel) || !isString(this.noLabel)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyContentPrompt;\n}());\nexports.CampaignSurveyContentPrompt = CampaignSurveyContentPrompt;\nvar CampaignSurveyContentIntercept = /** @class */ (function () {\n    function CampaignSurveyContentIntercept() {\n    }\n    CampaignSurveyContentIntercept.deserialize = function (input) {\n        var result = new CampaignSurveyContentIntercept();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.title = input.Title;\n        result.question = input.Question;\n        result.url = input.Url;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyContentIntercept.prototype.validate = function () {\n        if (isNOU(this.title) || !isString(this.title) ||\n            isNOU(this.question) || !isString(this.question) ||\n            isNOU(this.url) || !isString(this.url)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyContentIntercept;\n}());\nexports.CampaignSurveyContentIntercept = CampaignSurveyContentIntercept;\nvar CampaignSurveyContentRating = /** @class */ (function () {\n    function CampaignSurveyContentRating() {\n    }\n    CampaignSurveyContentRating.deserialize = function (input) {\n        var result = new CampaignSurveyContentRating();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.isZeroBased = input.IsZeroBased;\n        result.question = input.Question;\n        result.ratingValuesAscending = input.RatingValuesAscending;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyContentRating.prototype.validate = function () {\n        // expect ratingValuesAscending to contain between 2 to 11 values\n        if (isNOU(this.question) || !isString(this.question) ||\n            isNOU(this.ratingValuesAscending) || !Array.isArray(this.ratingValuesAscending) ||\n            this.ratingValuesAscending.length < 2 || this.ratingValuesAscending.length > 11) {\n            return false;\n        }\n        if (isNOU(this.isZeroBased)) {\n            // default to false if not provided\n            this.isZeroBased = false;\n        }\n        else if (!isBoolean(this.isZeroBased)) {\n            // fail validation if non boolean value is provided\n            return false;\n        }\n        // expect all ratingValuesAscending values to be string\n        for (var key in this.ratingValuesAscending) {\n            if (this.ratingValuesAscending.hasOwnProperty(key)) {\n                if (!isString(this.ratingValuesAscending[key])) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    return CampaignSurveyContentRating;\n}());\nexports.CampaignSurveyContentRating = CampaignSurveyContentRating;\nvar CampaignSurveyContentComment = /** @class */ (function () {\n    function CampaignSurveyContentComment() {\n    }\n    CampaignSurveyContentComment.deserialize = function (input) {\n        var result = new CampaignSurveyContentComment();\n        if (isNOU(input)) {\n            return null;\n        }\n        // @SerializedName("Question")\n        result.question = input.Question;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyContentComment.prototype.validate = function () {\n        if (isNOU(this.question) || !isString(this.question)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyContentComment;\n}());\nexports.CampaignSurveyContentComment = CampaignSurveyContentComment;\n// endregion\n// region Survey Metadata Definitions\nvar CampaignSurveyMetadata = /** @class */ (function () {\n    function CampaignSurveyMetadata() {\n    }\n    CampaignSurveyMetadata.deserialize = function (input) {\n        if (isNOU(input)) {\n            return null;\n        }\n        var result = new CampaignSurveyMetadata();\n        result.contentMetadata = input.ContentMetadata;\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyMetadata.prototype.validate = function () {\n        if (isNOU(this.contentMetadata) || !Utils.isObject(this.contentMetadata)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyMetadata;\n}());\nexports.CampaignSurveyMetadata = CampaignSurveyMetadata;\n// endregion\n// region Survey Template definitions\nvar CampaignSurveyTemplate = /** @class */ (function () {\n    function CampaignSurveyTemplate() {\n    }\n    CampaignSurveyTemplate.deserialize = function (input) {\n        var result;\n        if (isNOU(input)) {\n            return null;\n        }\n        switch (input.Type) {\n            case 0 /* Nps5PointStatic */:\n                result = CampaignSurveyTemplateNps5PointStatic.deserialize(input);\n                break;\n            case 1 /* Nps11PointStatic */:\n                result = CampaignSurveyTemplateNps11PointStatic.deserialize(input);\n                break;\n            case 2 /* Fps */:\n                result = CampaignSurveyTemplateFps.deserialize(input);\n                break;\n            case 3 /* Nlqs */:\n                result = CampaignSurveyTemplateNlqs.deserialize(input);\n                break;\n            case 4 /* Nps */:\n                result = CampaignSurveyTemplateNps.deserialize(input);\n                break;\n            case 22 /* GenericMessagingSurface */:\n                result = CampaignSurveyTemplateGenericMessagingSurface.deserialize(input);\n                break;\n            case 5 /* Intercept */:\n                result = CampaignSurveyTemplateIntercept.deserialize(input);\n                break;\n        }\n        if (result === undefined) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyTemplate.prototype.validate = function () {\n        if (isNOU(this.activationEvent)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyTemplate;\n}());\nexports.CampaignSurveyTemplate = CampaignSurveyTemplate;\nvar CampaignSurveyTemplateFps = /** @class */ (function (_super) {\n    __extends(CampaignSurveyTemplateFps, _super);\n    // public for UT only\n    function CampaignSurveyTemplateFps() {\n        return _super.call(this) || this;\n    }\n    CampaignSurveyTemplateFps.deserialize = function (input) {\n        var result = new CampaignSurveyTemplateFps();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.activationEvent = CampaignSurveyEvent.deserialize(input.ActivationEvent);\n        result.content = CampaignSurveyContent.deserialize(input.Content, true /* optionalComponents */);\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyTemplateFps.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this) || isNOU(this.content)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyTemplateFps;\n}(CampaignSurveyTemplate));\nexports.CampaignSurveyTemplateFps = CampaignSurveyTemplateFps;\nvar CampaignSurveyTemplateNlqs = /** @class */ (function (_super) {\n    __extends(CampaignSurveyTemplateNlqs, _super);\n    // public for UT only\n    function CampaignSurveyTemplateNlqs() {\n        return _super.call(this) || this;\n    }\n    CampaignSurveyTemplateNlqs.deserialize = function (input) {\n        var result = new CampaignSurveyTemplateNlqs();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.activationEvent = CampaignSurveyEvent.deserialize(input.ActivationEvent);\n        result.content = CampaignSurveyContent.deserialize(input.Content);\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyTemplateNlqs.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this) || isNOU(this.content)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyTemplateNlqs;\n}(CampaignSurveyTemplate));\nexports.CampaignSurveyTemplateNlqs = CampaignSurveyTemplateNlqs;\nvar CampaignSurveyTemplateNps = /** @class */ (function (_super) {\n    __extends(CampaignSurveyTemplateNps, _super);\n    // public for UT only\n    function CampaignSurveyTemplateNps() {\n        return _super.call(this) || this;\n    }\n    CampaignSurveyTemplateNps.deserialize = function (input) {\n        var result = new CampaignSurveyTemplateNps();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.activationEvent = CampaignSurveyEvent.deserialize(input.ActivationEvent);\n        result.content = CampaignSurveyContent.deserialize(input.Content);\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyTemplateNps.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this) || isNOU(this.content)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyTemplateNps;\n}(CampaignSurveyTemplate));\nexports.CampaignSurveyTemplateNps = CampaignSurveyTemplateNps;\nvar CampaignSurveyTemplateNps5PointStatic = /** @class */ (function (_super) {\n    __extends(CampaignSurveyTemplateNps5PointStatic, _super);\n    // public for UT only\n    function CampaignSurveyTemplateNps5PointStatic() {\n        return _super.call(this) || this;\n    }\n    CampaignSurveyTemplateNps5PointStatic.deserialize = function (input) {\n        var result = new CampaignSurveyTemplateNps5PointStatic();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.activationEvent = CampaignSurveyEvent.deserialize(input.ActivationEvent);\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyTemplateNps5PointStatic.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyTemplateNps5PointStatic;\n}(CampaignSurveyTemplate));\nexports.CampaignSurveyTemplateNps5PointStatic = CampaignSurveyTemplateNps5PointStatic;\nvar CampaignSurveyTemplateNps11PointStatic = /** @class */ (function (_super) {\n    __extends(CampaignSurveyTemplateNps11PointStatic, _super);\n    function CampaignSurveyTemplateNps11PointStatic() {\n        return _super.call(this) || this;\n    }\n    CampaignSurveyTemplateNps11PointStatic.deserialize = function (input) {\n        var result = new CampaignSurveyTemplateNps11PointStatic();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.activationEvent = CampaignSurveyEvent.deserialize(input.ActivationEvent);\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyTemplateNps11PointStatic.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyTemplateNps11PointStatic;\n}(CampaignSurveyTemplate));\nexports.CampaignSurveyTemplateNps11PointStatic = CampaignSurveyTemplateNps11PointStatic;\nvar CampaignSurveyTemplateGenericMessagingSurface = /** @class */ (function (_super) {\n    __extends(CampaignSurveyTemplateGenericMessagingSurface, _super);\n    function CampaignSurveyTemplateGenericMessagingSurface() {\n        return _super.call(this) || this;\n    }\n    CampaignSurveyTemplateGenericMessagingSurface.deserialize = function (input) {\n        if (isNOU(input)) {\n            return null;\n        }\n        var result = new CampaignSurveyTemplateGenericMessagingSurface();\n        result.activationEvent = CampaignSurveyEvent.deserialize(input.ActivationEvent);\n        result.metadata = CampaignSurveyMetadata.deserialize(input.Metadata);\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyTemplateGenericMessagingSurface.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this) || isNOU(this.metadata)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyTemplateGenericMessagingSurface;\n}(CampaignSurveyTemplate));\nexports.CampaignSurveyTemplateGenericMessagingSurface = CampaignSurveyTemplateGenericMessagingSurface;\nvar CampaignSurveyTemplateIntercept = /** @class */ (function (_super) {\n    __extends(CampaignSurveyTemplateIntercept, _super);\n    // public for UT only\n    function CampaignSurveyTemplateIntercept() {\n        return _super.call(this) || this;\n    }\n    CampaignSurveyTemplateIntercept.deserialize = function (input) {\n        var result = new CampaignSurveyTemplateIntercept();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.activationEvent = CampaignSurveyEvent.deserialize(input.ActivationEvent);\n        result.content = CampaignSurveyContent.deserialize(input.Content);\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignSurveyTemplateIntercept.prototype.validate = function () {\n        if (!_super.prototype.validate.call(this) || isNOU(this.content)) {\n            return false;\n        }\n        return true;\n    };\n    return CampaignSurveyTemplateIntercept;\n}(CampaignSurveyTemplate));\nexports.CampaignSurveyTemplateIntercept = CampaignSurveyTemplateIntercept;\n// endregion\n// region Campaign Definition\nvar CampaignDefinition = /** @class */ (function () {\n    function CampaignDefinition() {\n    }\n    /**\n     * Method to deserialize a JSON object to class object\n     * @param input: JSON object\n     * Returns result of validation check\n     */\n    CampaignDefinition.deserialize = function (input) {\n        var result = new CampaignDefinition();\n        if (isNOU(input)) {\n            return null;\n        }\n        result.campaignId = input.CampaignId;\n        result.governedChannelType = input.GovernedChannelType;\n        result.startTime = input.StartTimeUtc;\n        result.endTime = input.EndTimeUtc;\n        result.launcherType = input.LauncherType;\n        var additionalDataRequested = CampaignAdditionalDataRequested.deserialize(input.AdditionalDataRequested);\n        result.additionalDataRequested = additionalDataRequested ? additionalDataRequested.additionalData : [];\n        if (input.SurveyTemplate) {\n            result.surveyTemplate = CampaignSurveyTemplate.deserialize(input.SurveyTemplate);\n        }\n        if (input.NominationScheme) {\n            result.nominationScheme = CampaignNominationScheme.deserialize(input.NominationScheme);\n        }\n        if (input.Scope) {\n            result.scope = CampaignScope.deserialize(input.Scope);\n        }\n        if (!result.validate()) {\n            return null;\n        }\n        return result;\n    };\n    CampaignDefinition.prototype.validate = function () {\n        if (isNOU(this.scope)) {\n            this.scope = new CampaignScopeAny();\n        }\n        if (isNOU(this.campaignId) || !isString(this.campaignId)) {\n            return false;\n        }\n        if (!isNumber(this.governedChannelType) || !Utils.isEnumValue(this.governedChannelType, GovernedChannel_1.GovernedChannelType)) {\n            return false;\n        }\n        if (isNOU(this.nominationScheme)) {\n            return false;\n        }\n        if (isNOU(this.surveyTemplate)) {\n            return false;\n        }\n        if (!isNOU(this.launcherType) && !isString(this.launcherType)) {\n            return false;\n        }\n        // Campaigns with no start date are effectively disabled, in fact, this is the supported way to stage a definition but have it be turned off\n        if (isNOU(this.startTime)) {\n            this.startTime = getDistantFuture();\n        }\n        else if (isUtcDatetimeString(this.startTime)) {\n            this.startTime = stringToDate(this.startTime);\n        }\n        else {\n            return false;\n        }\n        // Campaigns with no end date are effectively on indefinitely\n        if (isNOU(this.endTime)) {\n            this.endTime = getDistantFuture();\n        }\n        else if (isUtcDatetimeString(this.endTime)) {\n            this.endTime = stringToDate(this.endTime);\n        }\n        else {\n            return false;\n        }\n        return true;\n    };\n    return CampaignDefinition;\n}());\nexports.CampaignDefinition = CampaignDefinition;\n/**\n * Given an array of campaign definitions, returns the valid ones and errors if any are invalid.\n * @param input: JSON object\n * Returns the valid definitions and the error as string if any.\n */\nfunction FilterValidCampaignDefinitions(campaignDefinitions) {\n    var result = [];\n    if (isNOU(campaignDefinitions)) {\n        return { result: result, error: "Empty" };\n    }\n    if (!Array.isArray(campaignDefinitions)) {\n        return { result: result, error: "Not an array" };\n    }\n    var badIndexes = [];\n    for (var i = 0; i < campaignDefinitions.length; i++) {\n        var definition = campaignDefinitions[i];\n        if (definition) {\n            var newDefinition = CampaignDefinition.deserialize(definition);\n            newDefinition\n                ? result.push(newDefinition)\n                : badIndexes.push(i);\n        }\n        else {\n            badIndexes.push(i);\n        }\n    }\n    var error = badIndexes.length > 0 ? "Invalid campaign definitions at indexes: " + badIndexes.toString() : undefined;\n    return { result: result, error: error };\n}\nexports.FilterValidCampaignDefinitions = FilterValidCampaignDefinitions;\nvar FileSystemCampaignDefinitionProvider = /** @class */ (function () {\n    function FileSystemCampaignDefinitionProvider(storage) {\n        if (isNOU(storage)) {\n            throw new Error("storage must not be null");\n        }\n        this.storage = storage;\n    }\n    FileSystemCampaignDefinitionProvider.prototype.load = function () {\n        var definitionString = this.storage.read(IFloodgateStorageProvider.FileType.CampaignDefinitions);\n        if (isNOU(definitionString)) {\n            return [];\n        }\n        var readDefinitions;\n        try {\n            readDefinitions = JSON.parse(definitionString);\n        }\n        catch (e) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_CampaignLoad_Failed(e.toString());\n            return [];\n        }\n        // This ignores errors in validation for now.\n        return FilterValidCampaignDefinitions(readDefinitions).result;\n    };\n    FileSystemCampaignDefinitionProvider.prototype.loadAsync = function () {\n        var definitions = this.load();\n        return new Promise(function onFulfilled(resolve, reject) {\n            resolve(definitions);\n        });\n    };\n    return FileSystemCampaignDefinitionProvider;\n}());\nexports.FileSystemCampaignDefinitionProvider = FileSystemCampaignDefinitionProvider;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0NhbXBhaWduL0NhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyLnRzPzc3MmYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLDBKQUE4RTtBQUM5RSxzSEFBcUQ7QUFDckQsc0hBQXlEO0FBRXpELHNGQUFrQztBQUlsQyxxSUFBcUY7QUFHN0Usb0JBQWdCLEdBQThFLEtBQUssaUJBQW5GLEVBQUUsU0FBUyxHQUFtRSxLQUFLLFVBQXhFLEVBQUUsS0FBSyxHQUE0RCxLQUFLLE1BQWpFLEVBQUUsUUFBUSxHQUFrRCxLQUFLLFNBQXZELEVBQUUsUUFBUSxHQUF3QyxLQUFLLFNBQTdDLEVBQUUsbUJBQW1CLEdBQW1CLEtBQUssb0JBQXhCLEVBQUUsWUFBWSxHQUFLLEtBQUssYUFBVixDQUFXO0FBRTVHLHdCQUF3QjtBQUV4Qjs7R0FFRztBQUNIO0lBZUM7SUFBMEIsQ0FBQztJQWRiLGlDQUFXLEdBQXpCLFVBQTBCLEtBQVU7UUFDbkMsSUFBSSxNQUE2QixDQUFDO1FBRWxDLElBQUksS0FBSyxJQUFJLEtBQUssQ0FBQyxJQUFJLEtBQUssQ0FBQyxFQUFFO1lBQzlCLE1BQU0sR0FBRyxtQ0FBbUMsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDaEU7UUFFRCxJQUFJLE1BQU0sS0FBSyxTQUFTLEVBQUU7WUFDekIsT0FBTyxJQUFJLENBQUM7U0FDWjtRQUVELE9BQU8sTUFBTSxDQUFDO0lBQ2YsQ0FBQztJQVNTLHdDQUFRLEdBQWxCO1FBQ0MsT0FBTyxJQUFJLENBQUM7SUFDYixDQUFDO0lBQ0YsNEJBQUM7QUFBRCxDQUFDO0FBekJxQixzREFBcUI7QUEyQjNDOztHQUVHO0FBQ0g7SUFBeUQsdURBQXFCO0lBa0I3RSxxQkFBcUI7SUFDckI7ZUFBdUIsaUJBQU87SUFBRSxDQUFDO0lBbEJuQiwrQ0FBVyxHQUF6QixVQUEwQixLQUFVO1FBQ25DLElBQU0sTUFBTSxHQUFHLElBQUksbUNBQW1DLEVB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RUFBRTtZQUM1QixPQUFPLEVBQUUsQ0FBQztTQUNWO1FBRUQsSUFBSSxlQUFvQixDQUFDO1FBRXpCLElBQUk7WUFDSCxlQUFlLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1NBQy9DO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDWCxpQ0FBZSxDQUFDLGtCQUFrQixFQUFFLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7WUFDM0UsT0FBTyxFQUFFLENBQUM7U0FDVjtRQUVELDZDQUE2QztRQUM3QyxPQUFPLDhCQUE4QixDQUFDLGVBQWUsQ0FBQyxDQUFDLE1BQU0sQ0FBQztJQUMvRCxDQUFDO0lBRU0sd0RBQVMsR0FBaEI7UUFDQyxJQUFNLFdBQVcsR0FBRyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDaEMsT0FBTyxJQUFJLE9BQU8sQ0FDakIsU0FBUyxXQUFXLENBQUMsT0FBTyxFQUFFLE1BQU07WUFDbkMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ3RCLENBQUMsQ0FDRCxDQUFDO0lBQ0gsQ0FBQztJQUNGLDJDQUFDO0FBQUQsQ0FBQztBQXRDWSxvRkFBb0MiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9DYW1wYWlnbi9DYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElGbG9vZGdhdGVFbnZpcm9ubWVudFByb3ZpZGVyIH0gZnJvbSBcIi4uL0FwaS9JRmxvb2RnYXRlRW52aXJvbm1lbnRQcm92aWRlclwiO1xyXG5pbXBvcnQgKiBhcyBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyIGZyb20gXCIuLi9BcGkvSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlclwiO1xyXG5pbXBvcnQgeyBGbG9vZGdhdGVFbmdpbmUgfSBmcm9tIFwiLi4vRmxvb2RnYXRlRW5naW5lXCI7XHJcbmltcG9ydCB7IEdvdmVybmVkQ2hhbm5lbFR5cGUgfSBmcm9tIFwiLi4vR292ZXJuZWRDaGFubmVsXCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXlJbmZvIGZyb20gXCIuLi9JU3VydmV5SW5mb1wiO1xyXG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tIFwiLi4vVXRpbHNcIjtcclxuXHJcbmltcG9ydCB7IElVc2VyRmFjdFByb3ZpZGVyIH0gZnJvbSBcIi4uL0FwaS9BcGlcIjtcclxuaW1wb3J0IHsgVXNlckZhY3QgfSBmcm9tIFwiLi4vVXNlckZhY3QvVXNlckZhY3RcIjtcclxuaW1wb3J0IHsgZGVzZXJpYWxpemVVc2VyRmFjdHMsIHZhbGlkYXRlVXNlckZhY3RzIH0gZnJvbSBcIi4uL1VzZXJGYWN0L1VzZXJGYWN0SGVscGVyXCI7XHJcbmltcG9ydCB7IENhbXBhaWduU2NvcGVUeXBlIH0gZnJvbSBcIi4vQ2FtcGFpZ25TY29wZVR5cGVzXCI7XHJcblxyXG5jb25zdCB7IGdldERpc3RhbnRGdXR1cmUsIGlzQm9vbGVhbiwgaXNOT1UsIGlzTnVtYmVyLCBpc1N0cmluZywgaXNVdGNEYXRldGltZVN0cmluZywgc3RyaW5nVG9EYXRlIH0gPSBVdGlscztcclxuXHJcbi8vIHJlZ2lvbiBMYW5ndWFnZSBSYW5nZVxyXG5cclxuLyoqXHJcbiAqIEJhc2UgY2xhc3MgcmVwcmVzZW50aW5nIGEgbGFuZ3VhZ2UgcmFuZ2UgaW4gYSBjYW1wYWlnbiBzZXR0aW5nXHJcbiAqL1xyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ2FtcGFpZ25MYW5ndWFnZVJhbmdlIHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnbkxhbmd1YWdlUmFuZ2Uge1xyXG5cdFx0bGV0IHJlc3VsdDogQ2FtcGFpZ25MYW5ndWFnZVJhbmdlO1xyXG5cclxuXHRcdGlmIChpbnB1dCAmJiBpbnB1dC5UeXBlID09PSAwKSB7XHJcblx0XHRcdHJlc3VsdCA9IENhbXBhaWduTGFuZ3VhZ2VSYW5nZUxhbmd1YWdlU3VidGFnLmRlc2VyaWFsaXplKGlucHV0KTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdHByb3RlY3RlZCBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuXHQvKipcclxuXHQgKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBzcGVjaWZpYyBsYW5ndWFnZSB0YWcgKGZvcm1hdCBmcm9tIFJGQyA1NjQ2KSBpcyBpbiB0aGlzIGxhbmd1YWdlIHJhbmdlIHNwZWNpZmljYXRpb25cclxuXHQgKi9cclxuXHRwdWJsaWMgYWJzdHJhY3QgaXNJblJhbmdlKGxhbmd1YWdlOiBzdHJpbmcpOiBib29sZWFuO1xyXG5cclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXByZXNlbnRzIGEgcmFuZ2UgbWF0Y2hpbmcgb24gdGhlIFwibGFuZ3VhZ2Ugc3VidGFnXCIgYWdhaW5zdCBmdWxseSBzcGVjaWZpZWQgbGFuZ3VhZ2UgdGFncywgYWNjb3JkaW5nIHRvIFJGQyA1NjQ2XHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25MYW5ndWFnZVJhbmdlTGFuZ3VhZ2VTdWJ0YWcgZXh0ZW5kcyBDYW1wYWlnbkxhbmd1YWdlUmFuZ2Uge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduTGFuZ3VhZ2VSYW5nZUxhbmd1YWdlU3VidGFnIHtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IG5ldyBDYW1wYWlnbkxhbmd1YWdlUmFuZ2VMYW5ndWFnZVN1YnRhZygpO1xyXG5cclxuXHRcdGlmIChpbnB1dCkge1xyXG5cdFx0XHRyZXN1bHQubGFuZ3VhZ2VTdWJUYWcgPSBpbnB1dC5WYWx1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJWYWx1ZVwiKVxyXG5cdHB1YmxpYyBsYW5ndWFnZVN1YlRhZzogc3RyaW5nO1xyXG5cclxuXHQvLyBwdWJsaWMgZm9yIFVUIG9ubHlcclxuXHRwdWJsaWMgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGlzSW5SYW5nZShsYW5ndWFnZTogc3RyaW5nKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoaXNOT1UobGFuZ3VhZ2UpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBleHRyYWN0ZWRMYW5ndWFnZVN1YlRhZzogc3RyaW5nID0gVXRpbHMuZXh0cmFjdExhbmd1YWdlU3VidGFnKGxhbmd1YWdlKTtcclxuXHRcdGlmIChpc05PVShleHRyYWN0ZWRMYW5ndWFnZVN1YlRhZykpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGNvbXBhcmUgc3RyaW5ncyBpZ25vcmluZyBjYXNlXHJcblx0XHRyZXR1cm4gZXh0cmFjdGVkTGFuZ3VhZ2VTdWJUYWcudG9Mb2NhbGVVcHBlckNhc2UoKSA9PT0gdGhpcy5sYW5ndWFnZVN1YlRhZy50b0xvY2FsZVVwcGVyQ2FzZSgpO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHJvdGVjdGVkIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFzdXBlci52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaXNOT1UodGhpcy5sYW5ndWFnZVN1YlRhZykgfHwgIWlzU3RyaW5nKHRoaXMubGFuZ3VhZ2VTdWJUYWcpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHRcdC8vIFJlamVjdCBhbnkgc3BlYyB0aGF0IGlzbid0IGV4YWN0bHkgYSBsYW5ndWFnZSBzdWJ0YWdcclxuXHRcdGlmICghVXRpbHMuaXNWYWxpZExhbmd1YWdlU3ViVGFnKHRoaXMubGFuZ3VhZ2VTdWJUYWcpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbi8vIGVuZHJlZ2lvblxyXG5cclxuLy8gcmVnaW9uIFNjb3BlXHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ2FtcGFpZ25TY29wZSB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25TY29wZSB7XHJcblx0XHRsZXQgcmVzdWx0OiBDYW1wYWlnblNjb3BlO1xyXG5cclxuXHRcdGlmIChpc05PVShpbnB1dCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0c3dpdGNoIChpbnB1dC5UeXBlKSB7XHJcblx0XHRcdGNhc2UgQ2FtcGFpZ25TY29wZVR5cGUuQ2FtcGFpZ25TY29wZUFueTpcclxuXHRcdFx0XHRyZXN1bHQgPSBDYW1wYWlnblNjb3BlQW55LmRlc2VyaWFsaXplKGlucHV0KTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSBDYW1wYWlnblNjb3BlVHlwZS5DYW1wYWlnblNjb3BlRW52aXJvbm1lbnRDcm9zc1Byb2R1Y3Q6XHJcblx0XHRcdFx0cmVzdWx0ID0gQ2FtcGFpZ25TY29wZUVudmlyb25tZW50Q3Jvc3NQcm9kdWN0LmRlc2VyaWFsaXplKGlucHV0KTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSBDYW1wYWlnblNjb3BlVHlwZS5DYW1wYWlnblNjb3BlVXNlckZhY3RBbnk6XHJcblx0XHRcdFx0cmVzdWx0ID0gQ2FtcGFpZ25TY29wZVVzZXJGYWN0QW55LmRlc2VyaWFsaXplKGlucHV0KTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSBDYW1wYWlnblNjb3BlVHlwZS5DYW1wYWlnblNjb3BlVXNlckZhY3RBbGw6XHJcblx0XHRcdFx0cmVzdWx0ID0gQ2FtcGFpZ25TY29wZVVzZXJGYWN0QWxsLmRlc2VyaWFsaXplKGlucHV0KTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdH1cclxuXHJcblx0XHRpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdHByb3RlY3RlZCBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuXHRwdWJsaWMgYWJzdHJhY3QgaXNJblNjb3BlKCk6IGJvb2xlYW47XHJcblxyXG5cdHByb3RlY3RlZCB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduU2NvcGVBbnkgZXh0ZW5kcyBDYW1wYWlnblNjb3BlIHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnblNjb3BlQW55IHtcclxuXHRcdHJldHVybiBuZXcgQ2FtcGFpZ25TY29wZUFueSgpO1xyXG5cdH1cclxuXHJcblx0Ly8gcHVibGljIGZvciBVVCBvbmx5XHJcblx0cHVibGljIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBpc0luU2NvcGUoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHByb3RlY3RlZCB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdGlmICghc3VwZXIudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25TY29wZUVudmlyb25tZW50Q3Jvc3NQcm9kdWN0IGV4dGVuZHMgQ2FtcGFpZ25TY29wZSB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25TY29wZUVudmlyb25tZW50Q3Jvc3NQcm9kdWN0IHtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IG5ldyBDYW1wYWlnblNjb3BlRW52aXJvbm1lbnRDcm9zc1Byb2R1Y3QoKTtcclxuXHRcdGxldCBsYW5ndWFnZVJhbmdlczogQ2FtcGFpZ25MYW5ndWFnZVJhbmdlW10gPSBbXTtcclxuXHJcblx0XHRpZiAoaXNOT1UoaW5wdXQpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAoY29uc3Qga2V5IGluIGlucHV0Lkxhbmd1YWdlcykge1xyXG5cdFx0XHRpZiAoaW5wdXQuTGFuZ3VhZ2VzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRjb25zdCByZWFkUmFuZ2U6IENhbXBhaWduTGFuZ3VhZ2VSYW5nZSA9IGlucHV0Lkxhbmd1YWdlc1trZXldO1xyXG5cclxuXHRcdFx0XHRpZiAocmVhZFJhbmdlKSB7XHJcblx0XHRcdFx0XHRsYW5ndWFnZVJhbmdlcy5wdXNoKENhbXBhaWduTGFuZ3VhZ2VSYW5nZS5kZXNlcmlhbGl6ZShyZWFkUmFuZ2UpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAobGFuZ3VhZ2VSYW5nZXMubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdGxhbmd1YWdlUmFuZ2VzID0gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXN1bHQubGFuZ3VhZ2VSYW5nZXMgPSBsYW5ndWFnZVJhbmdlcztcclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJMYW5ndWFnZXNcIilcclxuXHRwdWJsaWMgbGFuZ3VhZ2VSYW5nZXM6IENhbXBhaWduTGFuZ3VhZ2VSYW5nZVtdO1xyXG5cclxuXHRwcml2YXRlIGVudmlyb25tZW50UHJvdmlkZXI6IElGbG9vZGdhdGVFbnZpcm9ubWVudFByb3ZpZGVyO1xyXG5cclxuXHQvLyBwdWJsaWMgZm9yIFVUIG9ubHlcclxuXHRwdWJsaWMgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuXHJcblx0cHVibGljIHNldEVudmlyb25tZW50UHJvdmlkZXIoZW52aXJvbm1lbnRQcm92aWRlcjogSUZsb29kZ2F0ZUVudmlyb25tZW50UHJvdmlkZXIpIHtcclxuXHRcdHRoaXMuZW52aXJvbm1lbnRQcm92aWRlciA9IGVudmlyb25tZW50UHJvdmlkZXI7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgaXNJblNjb3BlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKGlzTk9VKHRoaXMubGFuZ3VhZ2VSYW5nZXMpKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpc05PVSh0aGlzLmVudmlyb25tZW50UHJvdmlkZXIpIHx8ICF0aGlzLmVudmlyb25tZW50UHJvdmlkZXIuZ2V0TGFuZ3VhZ2UoKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgbGFuZ3VhZ2UgPSB0aGlzLmVudmlyb25tZW50UHJvdmlkZXIuZ2V0TGFuZ3VhZ2UoKTtcclxuXHRcdC8vIElmIHRoZSBlbnZpcm9ubWVudCBtYXRjaGVzIGEgc2luZ2xlIHBhdHRlcm4sIHRoZW4gdGhpcyBpcyBhIHllc1xyXG5cdFx0Zm9yIChjb25zdCBrZXkgaW4gdGhpcy5sYW5ndWFnZVJhbmdlcykge1xyXG5cdFx0XHRpZiAodGhpcy5sYW5ndWFnZVJhbmdlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0Y29uc3QgcmFuZ2UgPSB0aGlzLmxhbmd1YWdlUmFuZ2VzW2tleV07XHJcblxyXG5cdFx0XHRcdGlmIChyYW5nZS5pc0luUmFuZ2UobGFuZ3VhZ2UpKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIXN1cGVyLnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIE51bGwgbGFuZ3VhZ2VSYW5nZXMgaXMgYWxsb3dlZCwgbWVhbnMgd2lsbCBtYXRjaCB3aXRoIGV2ZXJ5dGhpbmcuXHJcblx0XHRpZiAodGhpcy5sYW5ndWFnZVJhbmdlcykge1xyXG5cdFx0XHRmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmxhbmd1YWdlUmFuZ2VzKSB7XHJcblx0XHRcdFx0aWYgKHRoaXMubGFuZ3VhZ2VSYW5nZXMuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAhdGhpcy5sYW5ndWFnZVJhbmdlc1trZXldKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25TY29wZVVzZXJGYWN0QW55IGV4dGVuZHMgQ2FtcGFpZ25TY29wZSB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25TY29wZVVzZXJGYWN0QW55IHtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IG5ldyBDYW1wYWlnblNjb3BlVXNlckZhY3RBbnkoKTtcclxuXHRcdHJlc3VsdC51c2VyRmFjdHMgPSBkZXNlcmlhbGl6ZVVzZXJGYWN0cyhpbnB1dCk7XHJcblxyXG5cdFx0aWYgKCFyZXN1bHQudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiVXNlckZhY3RzXCIpXHJcblx0cHVibGljIHVzZXJGYWN0czogVXNlckZhY3RbXTtcclxuXHJcblx0cHJpdmF0ZSB1c2VyRmFjdHNQcm92aWRlcj86IElVc2VyRmFjdFByb3ZpZGVyO1xyXG5cclxuXHQvLyBwdWJsaWMgZm9yIFVUIG9ubHlcclxuXHRwdWJsaWMgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuXHJcblx0cHVibGljIHNldFVzZXJGYWN0c1Byb3ZpZGVyKHVzZXJGYWN0c1Byb3ZpZGVyPzogSVVzZXJGYWN0UHJvdmlkZXIpIHtcclxuXHRcdHRoaXMudXNlckZhY3RzUHJvdmlkZXIgPSB1c2VyRmFjdHNQcm92aWRlcjtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBpc0luU2NvcGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoaXNOT1UodGhpcy51c2VyRmFjdHMpKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghdGhpcy51c2VyRmFjdHNQcm92aWRlcikge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gSWYgb25lIG9mIHRoZSB1c2VyIGZhY3QgbWF0Y2hlcywgdGhlbiB0aGlzIGlzIGEgeWVzXHJcblx0XHRyZXR1cm4gdGhpcy51c2VyRmFjdHMuc29tZSgodXNlckZhY3QpID0+IHtcclxuXHRcdFx0Y29uc3QgcmF3VXNlckZhY3QgPSB0aGlzLnVzZXJGYWN0c1Byb3ZpZGVyLmdldFVzZXJGYWN0KHVzZXJGYWN0LmdldE5hbWUoKSk7XHJcblx0XHRcdHJldHVybiB1c2VyRmFjdC5pc0FNYXRjaChyYXdVc2VyRmFjdCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHByb3RlY3RlZCB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdGlmICghc3VwZXIudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHZhbGlkYXRlVXNlckZhY3RzKHRoaXMudXNlckZhY3RzKTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnblNjb3BlVXNlckZhY3RBbGwgZXh0ZW5kcyBDYW1wYWlnblNjb3BlIHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnblNjb3BlVXNlckZhY3RBbGwge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduU2NvcGVVc2VyRmFjdEFsbCgpO1xyXG5cdFx0cmVzdWx0LnVzZXJGYWN0cyA9IGRlc2VyaWFsaXplVXNlckZhY3RzKGlucHV0KTtcclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJVc2VyRmFjdHNcIilcclxuXHRwdWJsaWMgdXNlckZhY3RzOiBVc2VyRmFjdFtdO1xyXG5cclxuXHRwcml2YXRlIHVzZXJGYWN0c1Byb3ZpZGVyPzogSVVzZXJGYWN0UHJvdmlkZXI7XHJcblxyXG5cdC8vIHB1YmxpYyBmb3IgVVQgb25seVxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG5cclxuXHRwdWJsaWMgc2V0VXNlckZhY3RzUHJvdmlkZXIodXNlckZhY3RzUHJvdmlkZXI/OiBJVXNlckZhY3RQcm92aWRlcikge1xyXG5cdFx0dGhpcy51c2VyRmFjdHNQcm92aWRlciA9IHVzZXJGYWN0c1Byb3ZpZGVyO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGlzSW5TY29wZSgpOiBib29sZWFuIHtcclxuXHRcdGlmIChpc05PVSh0aGlzLnVzZXJGYWN0cykpIHtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCF0aGlzLnVzZXJGYWN0c1Byb3ZpZGVyKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBJZiBhbGwgb2YgdGhlIHVzZXIgZmFjdHMgbWF0Y2gsIHRoZW4gdGhpcyBpcyBhIHllc1xyXG5cdFx0cmV0dXJuIHRoaXMudXNlckZhY3RzLmV2ZXJ5KCh1c2VyRmFjdCkgPT4ge1xyXG5cdFx0XHRjb25zdCByYXdVc2VyRmFjdCA9IHRoaXMudXNlckZhY3RzUHJvdmlkZXIuZ2V0VXNlckZhY3QodXNlckZhY3QuZ2V0TmFtZSgpKTtcclxuXHRcdFx0cmV0dXJuIHVzZXJGYWN0LmlzQU1hdGNoKHJhd1VzZXJGYWN0KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHJvdGVjdGVkIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFzdXBlci52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdmFsaWRhdGVVc2VyRmFjdHModGhpcy51c2VyRmFjdHMpO1xyXG5cdH1cclxufVxyXG5cclxuLy8gZW5kcmVnaW9uXHJcblxyXG4vLyByZWdpb24gRHVyYXRpb25zXHJcblxyXG4vKipcclxuICogQmFzZSBjbGFzcyByZXByZXNlbnRpbmcgYSBkdXJhdGlvbiBpbiBhIGNhbXBhaWduIHNldHRpbmdcclxuICovXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDYW1wYWlnbkR1cmF0aW9uIHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnbkR1cmF0aW9uIHtcclxuXHRcdGxldCByZXN1bHQ6IENhbXBhaWduRHVyYXRpb247XHJcblxyXG5cdFx0aWYgKGlzTk9VKGlucHV0KSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRzd2l0Y2ggKGlucHV0LlR5cGUpIHtcclxuXHRcdFx0Y2FzZSAwOlxyXG5cdFx0XHRcdHJlc3VsdCA9IENhbXBhaWduRHVyYXRpb25UaW1lSW50ZXJ2YWwuZGVzZXJpYWxpemUoaW5wdXQpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlIDE6XHJcblx0XHRcdFx0cmVzdWx0ID0gQ2FtcGFpZ25EdXJhdGlvblNpbmdsZUJ1aWxkQ2hhbmdlLmRlc2VyaWFsaXplKGlucHV0KTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdH1cclxuXHJcblx0XHRpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdHByb3RlY3RlZCBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuXHRwdWJsaWMgYWJzdHJhY3QgYXNUaW1lSW50ZXJ2YWxTZWNvbmRzKCk6IG51bWJlcjtcclxuXHJcblx0cHJvdGVjdGVkIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogQSBEdXJhdGlvbiBleHByZXNzZWQgaW4gc2Vjb25kcy4gVVRDIGRhdGV0aW1lIGNvbXBhcmlzb25zIGFyZSB1c2VkIHRvIGRldGVybWluZSBleHBpcmF0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduRHVyYXRpb25UaW1lSW50ZXJ2YWwgZXh0ZW5kcyBDYW1wYWlnbkR1cmF0aW9uIHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnbkR1cmF0aW9uVGltZUludGVydmFsIHtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IG5ldyBDYW1wYWlnbkR1cmF0aW9uVGltZUludGVydmFsKCk7XHJcblxyXG5cdFx0aWYgKGlucHV0KSB7XHJcblx0XHRcdHJlc3VsdC5pbnRlcnZhbFNlY29uZHMgPSBpbnB1dC5JbnRlcnZhbFNlY29uZHM7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFyZXN1bHQudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiSW50ZXJ2YWxTZWNvbmRzXCIpXHJcblx0cHVibGljIGludGVydmFsU2Vjb25kczogbnVtYmVyO1xyXG5cclxuXHQvLyBwdWJsaWMgZm9yIFVUIG9ubHlcclxuXHRwdWJsaWMgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGFzVGltZUludGVydmFsU2Vjb25kcygpOiBudW1iZXIge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW50ZXJ2YWxTZWNvbmRzO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHJvdGVjdGVkIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFzdXBlci52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIWlzTnVtYmVyKHRoaXMuaW50ZXJ2YWxTZWNvbmRzKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogQSBEdXJhdGlvbiByZXByZXNlbnRpbmcgZXhhY3RseSAxIGNoYW5nZSBpbiBidWlsZCBudW1iZXJcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnbkR1cmF0aW9uU2luZ2xlQnVpbGRDaGFuZ2UgZXh0ZW5kcyBDYW1wYWlnbkR1cmF0aW9uIHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnbkR1cmF0aW9uU2luZ2xlQnVpbGRDaGFuZ2Uge1xyXG5cdFx0cmV0dXJuIG5ldyBDYW1wYWlnbkR1cmF0aW9uU2luZ2xlQnVpbGRDaGFuZ2UoKTtcclxuXHR9XHJcblxyXG5cdC8vIHB1YmxpYyBmb3IgVVQgb25seVxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgYXNUaW1lSW50ZXJ2YWxTZWNvbmRzKCk6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgQWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQgaW4gQ2FtcGFpZ25EZWZpbml0aW9uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25BZGRpdGlvbmFsRGF0YVJlcXVlc3RlZCB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShhZGRpdGlvbmFsRGF0YVJlcXVlc3RlZDogc3RyaW5nW10pOiBDYW1wYWlnbkFkZGl0aW9uYWxEYXRhUmVxdWVzdGVkIHtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IG5ldyBDYW1wYWlnbkFkZGl0aW9uYWxEYXRhUmVxdWVzdGVkKCk7XHJcblxyXG5cdFx0aWYgKCFpc05PVShhZGRpdGlvbmFsRGF0YVJlcXVlc3RlZCkpIHtcclxuXHRcdFx0Ly8gQ29udmVydCBmcm9tIEFkZGl0aW9uYWxEYXRhUmVxdWVzdGVkIHN0cmluZyB0byBlbnVtXHJcblx0XHRcdHJlc3VsdC5hZGRpdGlvbmFsRGF0YSA9IFtdO1xyXG5cdFx0XHRmb3IgKGNvbnN0IGFkZGl0aW9uYWxEYXRhIG9mIGFkZGl0aW9uYWxEYXRhUmVxdWVzdGVkKSB7XHJcblx0XHRcdFx0aWYgKGFkZGl0aW9uYWxEYXRhID09PSBcIkVtYWlsQWRkcmVzc1wiKSB7XHJcblx0XHRcdFx0XHRyZXN1bHQuYWRkaXRpb25hbERhdGEucHVzaChJU3VydmV5SW5mby5BZGRpdGlvbmFsRGF0YVR5cGUuRW1haWxBZGRyZXNzKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgYWRkaXRpb25hbERhdGE6IElTdXJ2ZXlJbmZvLkFkZGl0aW9uYWxEYXRhVHlwZVtdO1xyXG5cclxuXHRwcml2YXRlIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKGlzTk9VKHRoaXMuYWRkaXRpb25hbERhdGEpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuLy8gZW5kcmVnaW9uXHJcblxyXG4vLyByZWdpb24gRGlzdHJpYnV0aW9uIFNjaGVtZXNcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDYW1wYWlnbkRpc3RyaWJ1dGlvbiB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25EaXN0cmlidXRpb24ge1xyXG5cdFx0bGV0IHJlc3VsdDogQ2FtcGFpZ25EaXN0cmlidXRpb247XHJcblxyXG5cdFx0aWYgKGlucHV0ICYmIGlucHV0LlR5cGUgPT09IDApIHtcclxuXHRcdFx0cmVzdWx0ID0gQ2FtcGFpZ25EaXN0cmlidXRpb25SYW1wLmRlc2VyaWFsaXplKGlucHV0KTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdHByb3RlY3RlZCBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnbkRpc3RyaWJ1dGlvblJhbXAgZXh0ZW5kcyBDYW1wYWlnbkRpc3RyaWJ1dGlvbiB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25EaXN0cmlidXRpb25SYW1wIHtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IG5ldyBDYW1wYWlnbkRpc3RyaWJ1dGlvblJhbXAoKTtcclxuXHJcblx0XHRpZiAoaW5wdXQpIHtcclxuXHRcdFx0cmVzdWx0Lm1heERlbGF5U2Vjb25kcyA9IGlucHV0Lk1heERlbGF5U2Vjb25kcztcclxuXHRcdFx0cmVzdWx0LmNodW5rcyA9IGlucHV0LkNodW5rcztcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBUaGUgdGltZSB3aW5kb3cgb3ZlciB3aGljaCB0aGUgcmFtcCB3aWxsIGRpc3RyaWJ1dGUgc3RhcnQgZGF0ZXMuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiTWF4RGVsYXlTZWNvbmRzXCIpXHJcblx0cHVibGljIG1heERlbGF5U2Vjb25kczogbnVtYmVyO1xyXG5cclxuXHQvLyBUaGUgbnVtYmVyIG9mIGRpc2NyZXRlIGJ1Y2tldHMgdG8gZGl2aWRlIHRoZSB0aW1lIHdpbmRvdyAobWF4RGVsYXlTZWNvbmRzKSBpbnRvXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiQ2h1bmtzXCIpXHJcblx0cHVibGljIGNodW5rczogbnVtYmVyO1xyXG5cclxuXHRwcml2YXRlIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHByb3RlY3RlZCB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdGlmICghc3VwZXIudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFpc051bWJlcih0aGlzLm1heERlbGF5U2Vjb25kcykgfHwgdGhpcy5tYXhEZWxheVNlY29uZHMgPCAwKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIWlzTnVtYmVyKHRoaXMuY2h1bmtzKSB8fCB0aGlzLmNodW5rcyA8IDApIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufVxyXG5cclxuLy8gZW5kcmVnaW9uXHJcblxyXG4vLyByZWdpb24gTm9taW5hdGlvbiBTY2hlbWVcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDYW1wYWlnbk5vbWluYXRpb25TY2hlbWUge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduTm9taW5hdGlvblNjaGVtZSB7XHJcblx0XHRsZXQgcmVzdWx0OiBDYW1wYWlnbk5vbWluYXRpb25TY2hlbWU7XHJcblxyXG5cdFx0aWYgKGlucHV0ICYmIGlucHV0LlR5cGUgPT09IDApIHtcclxuXHRcdFx0cmVzdWx0ID0gQ2FtcGFpZ25Ob21pbmF0aW9uU2NoZW1lUmF0aW9QZXJjZW50YWdlLmRlc2VyaWFsaXplKGlucHV0KTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIFRoZSBhbW91bnQgb2YgdGltZSAoaW4gc2Vjb25kcykgZm9yIHdoaWNoIHRoZSBzdXJ2ZXkgaXMgYWN0aXZlLCBpZiB0aGUgbm9taW5hdGlvblBlcmlvZCBjYW4ndCBiZSBpbnRlcnByZXRlZCBhcyBhIHRpbWUgaW50ZXJ2YWxcclxuXHQvLyBub3RlOiBUaGlzIGlzIG9ubHkgdXNlZCB3aGVuIG5vbWluYXRpb25QZXJpb2QgaXMgbm90IG9mIGEgdHlwZSB0aGF0IGNhbiBiZSBpbnRlcnByZXRlZCBhcyBhIHRpbWUgaW50ZXJ2YWwsIG90aGVyd2lzZVxyXG5cdC8vIHRoYXQgdmFsdWUgaXMgdXNlZCBpbnN0ZWFkXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiRmFsbGJhY2tTdXJ2ZXlEdXJhdGlvblNlY29uZHNcIilcclxuXHRwdWJsaWMgZmFsbGJhY2tTdXJ2ZXlEdXJhdGlvblNlY29uZHM6IG51bWJlcjtcclxuXHJcblx0Ly8gV2hlbiB0aGUgdXNlciBuZXZlciBzZWVzIHRoZSBzdXJ2ZXkgZHVyaW5nIHRoZWlyIGNhbmRpZGFjeSAob3IgYW50aS1jYW5kaWRhY3kpLCB0aGlzIGlzIHRoZSBkdXJhdGlvbiB0aGF0IG11c3QgbGFwc2VcclxuXHQvLyBiZWZvcmUgcmUtIG5vbWluYXRpbmdcclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJOb21pbmF0aW9uUGVyaW9kXCIpXHJcblx0cHVibGljIG5vbWluYXRpb25QZXJpb2Q6IENhbXBhaWduRHVyYXRpb247XHJcblxyXG5cdC8vIFdoZW4gdGhlIHVzZXIgZG9lcyBzZWVzIHRoZSBzdXJ2ZXkgZHVyaW5nIHRoZWlyIGNhbmRpZGFjeSwgdGhpcyBpcyB0aGUgZHVyYXRpb24gdGhhdCBtdXN0IGxhcHNlIGJlZm9yZSByZS1ldmFsdWF0aW5nXHJcblx0Ly8gY2FuZGlkYWN5LiBHZW5lcmFsbHkgcmVjb21tZW5kZWQgdGhhdCB0aGlzIGJlIGdyZWF0ZXIgdGhhbiBub21pbmF0aW9uUGVyaW9kXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiQ29vbGRvd25QZXJpb2RcIilcclxuXHRwdWJsaWMgY29vbGRvd25QZXJpb2Q6IENhbXBhaWduRHVyYXRpb247XHJcblxyXG5cdHByb3RlY3RlZCBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuXHQvKipcclxuXHQgKiBAcmV0dXJuIFRoZSBhbW91bnQgb2YgdGltZSB0aGUgc3VydmV5IHNob3VsZCBiZSBhY3RpdmUsIGluIHNlY29uZHMuIEFic3RyYWN0cyB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIG5vbWluYXRpb25QZXJpb2QgYW5kIHRoZSBmYWxsYmFja1xyXG5cdCAqL1xyXG5cdHB1YmxpYyBnZXRBY3RpdmVTdXJ2ZXlUaW1lSW50ZXJ2YWxTZWNvbmRzKCk6IG51bWJlciB7XHJcblx0XHRjb25zdCBub21pbmF0aW9uVGltSW50ZXJ2YWxTZWNvbmRzOiBudW1iZXIgPSB0aGlzLm5vbWluYXRpb25QZXJpb2QuYXNUaW1lSW50ZXJ2YWxTZWNvbmRzKCk7XHJcblxyXG5cdFx0aWYgKGlzTnVtYmVyKG5vbWluYXRpb25UaW1JbnRlcnZhbFNlY29uZHMpKSB7XHJcblx0XHRcdHJldHVybiBub21pbmF0aW9uVGltSW50ZXJ2YWxTZWNvbmRzO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLmZhbGxiYWNrU3VydmV5RHVyYXRpb25TZWNvbmRzO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQHJldHVybiBUaGUgc3VydmV5IHN0YXJ0IHRpbWUsIHBvc3NpYmx5IGFkanVzdGVkIGJ5IGFuIHVuZGVybHlpbmcgRGlzdHJpYnV0aW9uTW9kZWwuXHJcblx0ICovXHJcblx0cHVibGljIGNhbGN1bGF0ZVN1cnZleVN0YXJ0VGltZUZyb21EYXRlKHNvb25lc3RTdGFydFRpbWU6IERhdGUpOiBEYXRlIHtcclxuXHRcdC8vIE5vIGFkanVzdG1lbnQgaW4gYmFzZSBjbGFzcy4gIERlcml2ZWQgY2xhc3NlcyBjYW4gb3ZlcnJpZGUgYW5kIGltcGxlbWVudCBkZWxheXMgbGlrZSBhIFwicmFtcFwiXHJcblx0XHRyZXR1cm4gc29vbmVzdFN0YXJ0VGltZSA/IHNvb25lc3RTdGFydFRpbWUgOiBuZXcgRGF0ZSgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQHJldHVybiBUaGUgc3VydmV5IGV4cGlyYXRpb24gdGltZSwgYmFzZWQgb24gdGhlIG5vbWluYXRpb24gcGVyaW9kcyBhbmQgdGhlIHN1cnZleSdzIGFkanVzdGVkIHN0YXJ0IHRpbWVcclxuXHQgKi9cclxuXHRwdWJsaWMgY2FsY3VsYXRlU3VydmV5RXhwaXJhdGlvblRpbWVGcm9tU3VydmV5U3RhcnRUaW1lKHN1cnZleVN0YXJ0VGltZTogRGF0ZSk6IERhdGUge1xyXG5cdFx0c3VydmV5U3RhcnRUaW1lID0gc3VydmV5U3RhcnRUaW1lID8gc3VydmV5U3RhcnRUaW1lIDogbmV3IERhdGUoKTtcclxuXHRcdHJldHVybiBVdGlscy5hZGRTZWNvbmRzV2l0aG91dE92ZXJmbG93KHN1cnZleVN0YXJ0VGltZSwgdGhpcy5nZXRBY3RpdmVTdXJ2ZXlUaW1lSW50ZXJ2YWxTZWNvbmRzKCkpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQHJldHVybiBUaGUgYXBwcm9wcmlhdGUgY2FtcGFpZ24gY29vbCBkb3duIGJhc2VkIG9uIHdoZXRoZXIgb3Igbm90IHRoZSB1c2VyIGFjdGl2YXRlZCB0aGUgc3VydmV5XHJcblx0ICovXHJcblx0cHVibGljIGdldENhbXBhaWduQ29vbGRvd24oZGlkVXNlckFjdGl2YXRlU3VydmV5OiBib29sZWFuKTogQ2FtcGFpZ25EdXJhdGlvbiB7XHJcblx0XHRpZiAoZGlkVXNlckFjdGl2YXRlU3VydmV5KSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmNvb2xkb3duUGVyaW9kO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMubm9taW5hdGlvblBlcmlvZDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEV2YWx1YXRlIHRoaXMgcnVsZSBzZXQgYmFzZWQgb24gYSByYW5kb20gbnVtYmVyXHJcblx0ICpcclxuXHQgKiBAcmV0dXJuIHRydWUgaWYgdGhlIHVzZXIgc2hvdWxkIGJlIGEgY2FuZGlkYXRlLCBmYWxzZSBpZiB0aGV5IHNob3VsZCBiZSBhbiBhbnRpLWNhbmRpZGF0ZVxyXG5cdCAqL1xyXG5cdHB1YmxpYyBhYnN0cmFjdCBldmFsdWF0ZU5vbWluYXRpb25SdWxlcygpOiBib29sZWFuO1xyXG5cclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoaXNOT1UodGhpcy5ub21pbmF0aW9uUGVyaW9kKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlzTk9VKHRoaXMuY29vbGRvd25QZXJpb2QpKSB7XHJcblx0XHRcdHRoaXMuY29vbGRvd25QZXJpb2QgPSB0aGlzLm5vbWluYXRpb25QZXJpb2Q7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFpc051bWJlcih0aGlzLm5vbWluYXRpb25QZXJpb2QuYXNUaW1lSW50ZXJ2YWxTZWNvbmRzKCkpKSB7XHJcblx0XHRcdGlmICghaXNOdW1iZXIodGhpcy5mYWxsYmFja1N1cnZleUR1cmF0aW9uU2Vjb25kcykgfHwgdGhpcy5mYWxsYmFja1N1cnZleUR1cmF0aW9uU2Vjb25kcyA8PSAwKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogQ2xhc3MgcmVwcmVzZW50aW5nIGEgc2V0IG9mIGNhbXBhaWduIG5vbWluYXRpb24gcnVsZXMgdG8gZXZhbHVhdGUgZm9yIGluLXNjb3BlIGNhbXBhaWduczpcclxuICogcGVyY2VudGFnZVxyXG4gKiByZS1lbGVjdGlvbiBkdXJhdGlvbnNcclxuICogZGlzdHJpYnV0aW9uIG1vZGVsIChmb3IgXCJub21pbmF0ZWRcIiBjYW5kaWRhdGVzKVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduTm9taW5hdGlvblNjaGVtZVJhdGlvUGVyY2VudGFnZSBleHRlbmRzIENhbXBhaWduTm9taW5hdGlvblNjaGVtZSB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25Ob21pbmF0aW9uU2NoZW1lUmF0aW9QZXJjZW50YWdlIHtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IG5ldyBDYW1wYWlnbk5vbWluYXRpb25TY2hlbWVSYXRpb1BlcmNlbnRhZ2UoKTtcclxuXHJcblx0XHRpZiAoaXNOT1UoaW5wdXQpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbnB1dC5EaXN0cmlidXRpb25Nb2RlbCkge1xyXG5cdFx0XHRyZXN1bHQuZGlzdHJpYnV0aW9uTW9kZWwgPSBDYW1wYWlnbkRpc3RyaWJ1dGlvbi5kZXNlcmlhbGl6ZShpbnB1dC5EaXN0cmlidXRpb25Nb2RlbCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlucHV0LkNvb2xkb3duUGVyaW9kKSB7XHJcblx0XHRcdHJlc3VsdC5jb29sZG93blBlcmlvZCA9IENhbXBhaWduRHVyYXRpb24uZGVzZXJpYWxpemUoaW5wdXQuQ29vbGRvd25QZXJpb2QpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbnB1dC5Ob21pbmF0aW9uUGVyaW9kKSB7XHJcblx0XHRcdHJlc3VsdC5ub21pbmF0aW9uUGVyaW9kID0gQ2FtcGFpZ25EdXJhdGlvbi5kZXNlcmlhbGl6ZShpbnB1dC5Ob21pbmF0aW9uUGVyaW9kKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXN1bHQuZmFsbGJhY2tTdXJ2ZXlEdXJhdGlvblNlY29uZHMgPSBpbnB1dC5GYWxsYmFja1N1cnZleUR1cmF0aW9uU2Vjb25kcztcclxuXHRcdHJlc3VsdC5wZXJjZW50YWdlRGVub21pbmF0b3IgPSBpbnB1dC5QZXJjZW50YWdlRGVub21pbmF0b3I7XHJcblx0XHRyZXN1bHQucGVyY2VudGFnZU51bWVyYXRvciA9IGlucHV0LlBlcmNlbnRhZ2VOdW1lcmF0b3I7XHJcblxyXG5cdFx0aWYgKCFyZXN1bHQudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gVGhlIG51bWVyYXRvciB3aGVuIGNhbGN1bGF0aW5nIHRoZSBwZXJjZW50YWdlIG9mIHVzZXJzIHRoYXQgc2hvdWxkIGJlIHNlbGVjdGVkIGFzIGNhbmRpZGF0ZXMuICBNdXN0XHJcblx0Ly8gc2F0aXNmeSAwIDw9IHBlcmNlbnRhZ2VOdW1lcmF0b3IgPD0gcGVyY2VudGFnZURlbm9taW5hdG9yXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiUGVyY2VudGFnZU51bWVyYXRvclwiKVxyXG5cdHB1YmxpYyBwZXJjZW50YWdlTnVtZXJhdG9yOiBudW1iZXI7XHJcblxyXG5cdC8vIFRoZSBkZW5vbWluYXRvciB3aGVuIGNhbGN1bGF0aW5nIHRoZSBwZXJjZW50YWdlIG9mIHVzZXJzIHRoYXQgc2hvdWxkIGJlIHNlbGVjdGVkIGFzIGNhbmRpZGF0ZXMuICBNdXN0IGJlIGdyZWF0ZXIgdGhhbiAwLlxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIlBlcmNlbnRhZ2VEZW5vbWluYXRvclwiKVxyXG5cdHB1YmxpYyBwZXJjZW50YWdlRGVub21pbmF0b3I6IG51bWJlcjtcclxuXHJcblx0Ly8gTllJIC0gRm9yIGNhbmRpZGF0ZXMsIGFsbG93cyB0aGUgU3VydmV5IHN0YXJ0L2VuZCBkYXRlcyB0byBiZSBzaGlmdGVkIGZvcndhcmQgaW4gdGltZSwgdG8gaGVscCBhY2hpZXZlIGEgc21vb3RoZXIgc2lnbmFsXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiRGlzdHJpYnV0aW9uTW9kZWxcIilcclxuXHRwdWJsaWMgZGlzdHJpYnV0aW9uTW9kZWw6IENhbXBhaWduRGlzdHJpYnV0aW9uO1xyXG5cclxuXHRwcml2YXRlIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBldmFsdWF0ZU5vbWluYXRpb25SdWxlcygpOiBib29sZWFuIHtcclxuXHRcdGNvbnN0IHJhbmQ6IG51bWJlciA9IE1hdGgucmFuZG9tKCk7XHJcblx0XHQvLyBDcmVhdGVzIGEgcmFuZG9tIG51bWJlciBiZXR3ZWVuIFswIHRvIChwZXJjZW50YWdlRGVub21pbmF0b3IgLSAxKV1cclxuXHRcdC8vIEluIHJhbmdlIFswIHRvIChwZXJjZW50YWdlRGVub21pbmF0b3IgLSAxKV0gZXhhY3RseSAncGVyY2VudGFnZU51bWVyYXRvcicgdmFsdWVzIGFyZSA8IHBlcmNlbnRhZ2VOdW1lcmF0b3JcclxuXHRcdHJldHVybiBNYXRoLmZsb29yKHJhbmQgKiB0aGlzLnBlcmNlbnRhZ2VEZW5vbWluYXRvcikgPCB0aGlzLnBlcmNlbnRhZ2VOdW1lcmF0b3I7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIXN1cGVyLnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghaXNOdW1iZXIodGhpcy5wZXJjZW50YWdlRGVub21pbmF0b3IpIHx8ICFpc051bWJlcih0aGlzLnBlcmNlbnRhZ2VOdW1lcmF0b3IpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5wZXJjZW50YWdlRGVub21pbmF0b3IgPD0gMCB8fCB0aGlzLnBlcmNlbnRhZ2VOdW1lcmF0b3IgPCAwKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5wZXJjZW50YWdlTnVtZXJhdG9yID4gdGhpcy5wZXJjZW50YWdlRGVub21pbmF0b3IpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGRpc3RyaWJ1dGlvbiBtb2RlbCBtYXkgYmUgbnVsbFxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG4vLyBlbmRyZWdpb25cclxuXHJcbi8vIHJlZ2lvbiBTdXJ2ZXkgRXZlbnQgRGVmaW5pdGlvbnNcclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENhbXBhaWduU3VydmV5RXZlbnQge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduU3VydmV5RXZlbnQge1xyXG5cdFx0bGV0IHJlc3VsdDogQ2FtcGFpZ25TdXJ2ZXlFdmVudDtcclxuXHJcblx0XHRpZiAoaXNOT1UoaW5wdXQpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHN3aXRjaCAoaW5wdXQuVHlwZSkge1xyXG5cdFx0XHRjYXNlIDA6XHJcblx0XHRcdFx0cmVzdWx0ID0gQ2FtcGFpZ25TdXJ2ZXlFdmVudENvdW50ZWRBY3Rpdml0eS5kZXNlcmlhbGl6ZShpbnB1dCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgMTpcclxuXHRcdFx0XHRyZXN1bHQgPSBDYW1wYWlnblN1cnZleUV2ZW50Q291bnRlZEFjdGl2aXR5U2VxdWVuY2UuZGVzZXJpYWxpemUoaW5wdXQpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0cHJvdGVjdGVkIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG5cdHByb3RlY3RlZCB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduU3VydmV5RXZlbnRDb3VudGVkQWN0aXZpdHkgZXh0ZW5kcyBDYW1wYWlnblN1cnZleUV2ZW50IHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnblN1cnZleUV2ZW50Q291bnRlZEFjdGl2aXR5IHtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IG5ldyBDYW1wYWlnblN1cnZleUV2ZW50Q291bnRlZEFjdGl2aXR5KCk7XHJcblxyXG5cdFx0aWYgKGlzTk9VKGlucHV0KSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXN1bHQuYWN0aXZpdHkgPSBpbnB1dC5BY3Rpdml0eTtcclxuXHRcdHJlc3VsdC5jb3VudCA9IGlucHV0LkNvdW50O1xyXG5cdFx0cmVzdWx0LmlzQWdncmVnYXRlID0gaW5wdXQuSXNBZ2dyZWdhdGU7XHJcblxyXG5cdFx0aWYgKCFyZXN1bHQudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiQWN0aXZpdHlcIilcclxuXHRwdWJsaWMgYWN0aXZpdHk6IHN0cmluZztcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiQ291bnRcIilcclxuXHRwdWJsaWMgY291bnQ6IG51bWJlcjtcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiSXNBZ2dyZWdhdGVcIilcclxuXHRwdWJsaWMgaXNBZ2dyZWdhdGU6IGJvb2xlYW47XHJcblxyXG5cdC8vIHB1YmxpYyBmb3IgVVQgb25seVxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIXN1cGVyLnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpc05PVSh0aGlzLmFjdGl2aXR5KSB8fCAhaXNTdHJpbmcodGhpcy5hY3Rpdml0eSkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghaXNOdW1iZXIodGhpcy5jb3VudCkgfHwgdGhpcy5jb3VudCA8PSAwKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIWlzQm9vbGVhbih0aGlzLmlzQWdncmVnYXRlKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25TdXJ2ZXlFdmVudENvdW50ZWRBY3Rpdml0eVNlcXVlbmNlIGV4dGVuZHMgQ2FtcGFpZ25TdXJ2ZXlFdmVudCB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25TdXJ2ZXlFdmVudENvdW50ZWRBY3Rpdml0eVNlcXVlbmNlIHtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IG5ldyBDYW1wYWlnblN1cnZleUV2ZW50Q291bnRlZEFjdGl2aXR5U2VxdWVuY2UoKTtcclxuXHRcdGxldCBzZXF1ZW5jZTogQ2FtcGFpZ25TdXJ2ZXlFdmVudENvdW50ZWRBY3Rpdml0eVtdID0gW107XHJcblxyXG5cdFx0aWYgKGlzTk9VKGlucHV0KSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRmb3IgKGNvbnN0IGtleSBpbiBpbnB1dC5TZXF1ZW5jZSkge1xyXG5cdFx0XHRpZiAoaW5wdXQuU2VxdWVuY2UuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdGNvbnN0IHJlYWRBY3Rpdml0eTogQ2FtcGFpZ25TdXJ2ZXlFdmVudENvdW50ZWRBY3Rpdml0eSA9IGlucHV0LlNlcXVlbmNlW2tleV07XHJcblxyXG5cdFx0XHRcdGlmIChyZWFkQWN0aXZpdHkpIHtcclxuXHRcdFx0XHRcdHNlcXVlbmNlLnB1c2goQ2FtcGFpZ25TdXJ2ZXlFdmVudENvdW50ZWRBY3Rpdml0eS5kZXNlcmlhbGl6ZShyZWFkQWN0aXZpdHkpKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoc2VxdWVuY2UubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdHNlcXVlbmNlID0gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXN1bHQuc2VxdWVuY2UgPSBzZXF1ZW5jZTtcclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJTZXF1ZW5jZVwiKVxyXG5cdHB1YmxpYyBzZXF1ZW5jZTogQ2FtcGFpZ25TdXJ2ZXlFdmVudENvdW50ZWRBY3Rpdml0eVtdO1xyXG5cclxuXHQvLyBwdWJsaWMgZm9yIFVUIG9ubHlcclxuXHRwdWJsaWMgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHJvdGVjdGVkIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFzdXBlci52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaXNOT1UodGhpcy5zZXF1ZW5jZSkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHRoaXMuc2VxdWVuY2UpIHtcclxuXHRcdFx0aWYgKHRoaXMuc2VxdWVuY2UuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAhdGhpcy5zZXF1ZW5jZVtrZXldKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG4vLyBlbmRyZWdpb25cclxuXHJcbi8vIHJlZ2lvbiBTdXJ2ZXkgQ29udGVudCBEZWZpbml0aW9uc1xyXG5cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduU3VydmV5Q29udGVudCB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55LCBvcHRpb25hbENvbXBvbmVudHM/OiBib29sZWFuKTogQ2FtcGFpZ25TdXJ2ZXlDb250ZW50IHtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IG5ldyBDYW1wYWlnblN1cnZleUNvbnRlbnQoKTtcclxuXHJcblx0XHRpZiAoaXNOT1UoaW5wdXQpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJlc3VsdC5wcm9tcHQgPSBDYW1wYWlnblN1cnZleUNvbnRlbnRQcm9tcHQuZGVzZXJpYWxpemUoaW5wdXQuUHJvbXB0KTtcclxuXHRcdHJlc3VsdC5yYXRpbmcgPSBDYW1wYWlnblN1cnZleUNvbnRlbnRSYXRpbmcuZGVzZXJpYWxpemUoaW5wdXQuUmF0aW5nKTtcclxuXHRcdHJlc3VsdC5jb21tZW50ID0gQ2FtcGFpZ25TdXJ2ZXlDb250ZW50Q29tbWVudC5kZXNlcmlhbGl6ZShpbnB1dC5RdWVzdGlvbik7XHJcblx0XHRyZXN1bHQubXVsdGlwbGVDaG9pY2UgPSBDYW1wYWlnblN1cnZleUNvbnRlbnRNdWx0aXBsZUNob2ljZS5kZXNlcmlhbGl6ZShpbnB1dC5NdWx0aXBsZUNob2ljZSk7XHJcblx0XHRyZXN1bHQuaW50ZXJjZXB0ID0gQ2FtcGFpZ25TdXJ2ZXlDb250ZW50SW50ZXJjZXB0LmRlc2VyaWFsaXplKGlucHV0LkludGVyY2VwdCk7XHJcblxyXG5cdFx0aWYgKCFyZXN1bHQudmFsaWRhdGUob3B0aW9uYWxDb21wb25lbnRzKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiUHJvbXB0XCIpXHJcblx0cHVibGljIHByb21wdDogQ2FtcGFpZ25TdXJ2ZXlDb250ZW50UHJvbXB0O1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJSYXRpbmdcIilcclxuXHRwdWJsaWMgcmF0aW5nOiBDYW1wYWlnblN1cnZleUNvbnRlbnRSYXRpbmc7XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIlF1c3Rpb25cIilcclxuXHRwdWJsaWMgY29tbWVudDogQ2FtcGFpZ25TdXJ2ZXlDb250ZW50Q29tbWVudDtcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiTXVsdGlwbGVDaG9pY2VcIilcclxuXHRwdWJsaWMgbXVsdGlwbGVDaG9pY2U6IENhbXBhaWduU3VydmV5Q29udGVudE11bHRpcGxlQ2hvaWNlO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJJbnRlcmNlcHRcIilcclxuXHRwdWJsaWMgaW50ZXJjZXB0OiBDYW1wYWlnblN1cnZleUNvbnRlbnRJbnRlcmNlcHQ7XHJcblxyXG5cdHB1YmxpYyB2YWxpZGF0ZShvcHRpb25hbENvbXBvbmVudHM/OiBib29sZWFuKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIWlzTk9VKHRoaXMuaW50ZXJjZXB0KSkge1xyXG5cdFx0XHQvLyBBbiBpbnRlcmNlcHQgc3VydmV5IG9ubHkgcmVxdWlyZXMgaW50ZXJjZXB0LlxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaXNOT1UodGhpcy5wcm9tcHQpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAob3B0aW9uYWxDb21wb25lbnRzKSB7XHJcblx0XHRcdHJldHVybiAhaXNOT1UodGhpcy5yYXRpbmcpIHx8XHJcblx0XHRcdFx0IWlzTk9VKHRoaXMubXVsdGlwbGVDaG9pY2UpIHx8XHJcblx0XHRcdFx0IWlzTk9VKHRoaXMuY29tbWVudCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuICFpc05PVSh0aGlzLnJhdGluZykgJiYgIWlzTk9VKHRoaXMuY29tbWVudCk7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25TdXJ2ZXlDb250ZW50TXVsdGlwbGVDaG9pY2Uge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduU3VydmV5Q29udGVudE11bHRpcGxlQ2hvaWNlIHtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IG5ldyBDYW1wYWlnblN1cnZleUNvbnRlbnRNdWx0aXBsZUNob2ljZSgpO1xyXG5cclxuXHRcdGlmIChpc05PVShpbnB1dCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmVzdWx0LnF1ZXN0aW9uID0gaW5wdXQuUXVlc3Rpb247XHJcblx0XHRyZXN1bHQuYXZhaWxhYmxlT3B0aW9ucyA9IGlucHV0LkF2YWlsYWJsZU9wdGlvbnM7XHJcblx0XHRyZXN1bHQubWluTnVtYmVyT2ZTZWxlY3RlZE9wdGlvbnMgPSBpbnB1dC5NaW5OdW1iZXJPZlNlbGVjdGVkT3B0aW9ucztcclxuXHRcdHJlc3VsdC5tYXhOdW1iZXJPZlNlbGVjdGVkT3B0aW9ucyA9IGlucHV0Lk1heE51bWJlck9mU2VsZWN0ZWRPcHRpb25zO1xyXG5cclxuXHRcdGlmICghcmVzdWx0LnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIlF1ZXN0aW9uXCIpXHJcblx0cHVibGljIHF1ZXN0aW9uOiBzdHJpbmc7XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIkF2YWlsYWJsZU9wdGlvbnNcIilcclxuXHRwdWJsaWMgYXZhaWxhYmxlT3B0aW9uczogc3RyaW5nW107XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIk1pbk51bWJlck9mU2VsZWN0ZWRPcHRpb25zXCIpXHJcblx0cHVibGljIG1pbk51bWJlck9mU2VsZWN0ZWRPcHRpb25zOiBudW1iZXI7XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIk1heE51bWJlck9mU2VsZWN0ZWRPcHRpb25zXCIpXHJcblx0cHVibGljIG1heE51bWJlck9mU2VsZWN0ZWRPcHRpb25zOiBudW1iZXI7XHJcblxyXG5cdHByaXZhdGUgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoaXNOT1UodGhpcy5xdWVzdGlvbikgfHwgIWlzU3RyaW5nKHRoaXMucXVlc3Rpb24pIHx8XHJcblx0XHRcdGlzTk9VKHRoaXMuYXZhaWxhYmxlT3B0aW9ucykgfHwgIUFycmF5LmlzQXJyYXkodGhpcy5hdmFpbGFibGVPcHRpb25zKSB8fCB0aGlzLmF2YWlsYWJsZU9wdGlvbnMubGVuZ3RoIDwgMiB8fFxyXG5cdFx0XHRpc05PVSh0aGlzLm1pbk51bWJlck9mU2VsZWN0ZWRPcHRpb25zKSB8fCAhaXNOdW1iZXIodGhpcy5taW5OdW1iZXJPZlNlbGVjdGVkT3B0aW9ucykgfHxcclxuXHRcdFx0aXNOT1UodGhpcy5tYXhOdW1iZXJPZlNlbGVjdGVkT3B0aW9ucykgfHwgIWlzTnVtYmVyKHRoaXMubWF4TnVtYmVyT2ZTZWxlY3RlZE9wdGlvbnMpKSB7XHJcblxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gZXhwZWN0IGFsbCBhdmFpbGFibGVPcHRpb25zIHZhbHVlcyB0byBiZSBzdHJpbmdcclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHRoaXMuYXZhaWxhYmxlT3B0aW9ucykge1xyXG5cdFx0XHRpZiAodGhpcy5hdmFpbGFibGVPcHRpb25zLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRpZiAoIWlzU3RyaW5nKHRoaXMuYXZhaWxhYmxlT3B0aW9uc1trZXldKSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25TdXJ2ZXlDb250ZW50UHJvbXB0IHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnblN1cnZleUNvbnRlbnRQcm9tcHQge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduU3VydmV5Q29udGVudFByb21wdCgpO1xyXG5cclxuXHRcdGlmIChpc05PVShpbnB1dCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmVzdWx0LnRpdGxlID0gaW5wdXQuVGl0bGU7XHJcblx0XHRyZXN1bHQucXVlc3Rpb24gPSBpbnB1dC5RdWVzdGlvbjtcclxuXHRcdHJlc3VsdC55ZXNMYWJlbCA9IGlucHV0Llllc0xhYmVsO1xyXG5cdFx0cmVzdWx0Lm5vTGFiZWwgPSBpbnB1dC5Ob0xhYmVsO1xyXG5cclxuXHRcdGlmICghcmVzdWx0LnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIlRpdGxlXCIpXHJcblx0cHVibGljIHRpdGxlOiBzdHJpbmc7XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIlF1ZXN0aW9uXCIpXHJcblx0cHVibGljIHF1ZXN0aW9uOiBzdHJpbmc7XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIlllc0xhYmVsXCIpXHJcblx0cHVibGljIHllc0xhYmVsOiBzdHJpbmc7XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIk5vTGFiZWxcIilcclxuXHRwdWJsaWMgbm9MYWJlbDogc3RyaW5nO1xyXG5cclxuXHRwcml2YXRlIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKGlzTk9VKHRoaXMudGl0bGUpIHx8ICFpc1N0cmluZyh0aGlzLnRpdGxlKSB8fFxyXG5cdFx0XHRpc05PVSh0aGlzLnF1ZXN0aW9uKSB8fCAhaXNTdHJpbmcodGhpcy5xdWVzdGlvbikgfHxcclxuXHRcdFx0aXNOT1UodGhpcy55ZXNMYWJlbCkgfHwgIWlzU3RyaW5nKHRoaXMueWVzTGFiZWwpIHx8XHJcblx0XHRcdGlzTk9VKHRoaXMubm9MYWJlbCkgfHwgIWlzU3RyaW5nKHRoaXMubm9MYWJlbCkpIHtcclxuXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnblN1cnZleUNvbnRlbnRJbnRlcmNlcHQge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduU3VydmV5Q29udGVudEludGVyY2VwdCB7XHJcblx0XHRjb25zdCByZXN1bHQgPSBuZXcgQ2FtcGFpZ25TdXJ2ZXlDb250ZW50SW50ZXJjZXB0KCk7XHJcblxyXG5cdFx0aWYgKGlzTk9VKGlucHV0KSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXN1bHQudGl0bGUgPSBpbnB1dC5UaXRsZTtcclxuXHRcdHJlc3VsdC5xdWVzdGlvbiA9IGlucHV0LlF1ZXN0aW9uO1xyXG5cdFx0cmVzdWx0LnVybCA9IGlucHV0LlVybDtcclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJUaXRsZVwiKVxyXG5cdHB1YmxpYyB0aXRsZTogc3RyaW5nO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJRdWVzdGlvblwiKVxyXG5cdHB1YmxpYyBxdWVzdGlvbjogc3RyaW5nO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJVcmxcIilcclxuXHRwdWJsaWMgdXJsOiBzdHJpbmc7XHJcblxyXG5cdHByaXZhdGUgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoaXNOT1UodGhpcy50aXRsZSkgfHwgIWlzU3RyaW5nKHRoaXMudGl0bGUpIHx8XHJcblx0XHRcdGlzTk9VKHRoaXMucXVlc3Rpb24pIHx8ICFpc1N0cmluZyh0aGlzLnF1ZXN0aW9uKSB8fFxyXG5cdFx0XHRpc05PVSh0aGlzLnVybCkgfHwgIWlzU3RyaW5nKHRoaXMudXJsKSkge1xyXG5cclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduU3VydmV5Q29udGVudFJhdGluZyB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25TdXJ2ZXlDb250ZW50UmF0aW5nIHtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IG5ldyBDYW1wYWlnblN1cnZleUNvbnRlbnRSYXRpbmcoKTtcclxuXHJcblx0XHRpZiAoaXNOT1UoaW5wdXQpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJlc3VsdC5pc1plcm9CYXNlZCA9IGlucHV0LklzWmVyb0Jhc2VkO1xyXG5cdFx0cmVzdWx0LnF1ZXN0aW9uID0gaW5wdXQuUXVlc3Rpb247XHJcblx0XHRyZXN1bHQucmF0aW5nVmFsdWVzQXNjZW5kaW5nID0gaW5wdXQuUmF0aW5nVmFsdWVzQXNjZW5kaW5nO1xyXG5cclxuXHRcdGlmICghcmVzdWx0LnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIklzWmVyb0Jhc2VkXCIpXHJcblx0cHVibGljIGlzWmVyb0Jhc2VkOiBib29sZWFuO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJRdWVzdGlvblwiKVxyXG5cdHB1YmxpYyBxdWVzdGlvbjogc3RyaW5nO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJSYXRpbmdWYWx1ZXNBc2NlbmRpbmdcIilcclxuXHRwdWJsaWMgcmF0aW5nVmFsdWVzQXNjZW5kaW5nOiBzdHJpbmdbXTtcclxuXHJcblx0cHJpdmF0ZSB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdC8vIGV4cGVjdCByYXRpbmdWYWx1ZXNBc2NlbmRpbmcgdG8gY29udGFpbiBiZXR3ZWVuIDIgdG8gMTEgdmFsdWVzXHJcblx0XHRpZiAoaXNOT1UodGhpcy5xdWVzdGlvbikgfHwgIWlzU3RyaW5nKHRoaXMucXVlc3Rpb24pIHx8XHJcblx0XHRcdGlzTk9VKHRoaXMucmF0aW5nVmFsdWVzQXNjZW5kaW5nKSB8fCAhQXJyYXkuaXNBcnJheSh0aGlzLnJhdGluZ1ZhbHVlc0FzY2VuZGluZykgfHxcclxuXHRcdFx0dGhpcy5yYXRpbmdWYWx1ZXNBc2NlbmRpbmcubGVuZ3RoIDwgMiB8fCB0aGlzLnJhdGluZ1ZhbHVlc0FzY2VuZGluZy5sZW5ndGggPiAxMSkge1xyXG5cclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpc05PVSh0aGlzLmlzWmVyb0Jhc2VkKSkge1xyXG5cdFx0XHQvLyBkZWZhdWx0IHRvIGZhbHNlIGlmIG5vdCBwcm92aWRlZFxyXG5cdFx0XHR0aGlzLmlzWmVyb0Jhc2VkID0gZmFsc2U7XHJcblx0XHR9IGVsc2UgaWYgKCFpc0Jvb2xlYW4odGhpcy5pc1plcm9CYXNlZCkpIHtcclxuXHRcdFx0Ly8gZmFpbCB2YWxpZGF0aW9uIGlmIG5vbiBib29sZWFuIHZhbHVlIGlzIHByb3ZpZGVkXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBleHBlY3QgYWxsIHJhdGluZ1ZhbHVlc0FzY2VuZGluZyB2YWx1ZXMgdG8gYmUgc3RyaW5nXHJcblx0XHRmb3IgKGNvbnN0IGtleSBpbiB0aGlzLnJhdGluZ1ZhbHVlc0FzY2VuZGluZykge1xyXG5cdFx0XHRpZiAodGhpcy5yYXRpbmdWYWx1ZXNBc2NlbmRpbmcuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdGlmICghaXNTdHJpbmcodGhpcy5yYXRpbmdWYWx1ZXNBc2NlbmRpbmdba2V5XSkpIHtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnblN1cnZleUNvbnRlbnRDb21tZW50IHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnblN1cnZleUNvbnRlbnRDb21tZW50IHtcclxuXHRcdGNvbnN0IHJlc3VsdCA9IG5ldyBDYW1wYWlnblN1cnZleUNvbnRlbnRDb21tZW50KCk7XHJcblxyXG5cdFx0aWYgKGlzTk9VKGlucHV0KSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBAU2VyaWFsaXplZE5hbWUoXCJRdWVzdGlvblwiKVxyXG5cdFx0cmVzdWx0LnF1ZXN0aW9uID0gaW5wdXQuUXVlc3Rpb247XHJcblxyXG5cdFx0aWYgKCFyZXN1bHQudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiUXVlc3Rpb25cIilcclxuXHRwdWJsaWMgcXVlc3Rpb246IHN0cmluZztcclxuXHJcblx0cHJpdmF0ZSB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdGlmIChpc05PVSh0aGlzLnF1ZXN0aW9uKSB8fCAhaXNTdHJpbmcodGhpcy5xdWVzdGlvbikpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufVxyXG5cclxuLy8gZW5kcmVnaW9uXHJcblxyXG4vLyByZWdpb24gU3VydmV5IE1ldGFkYXRhIERlZmluaXRpb25zXHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25TdXJ2ZXlNZXRhZGF0YSB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25TdXJ2ZXlNZXRhZGF0YSB7XHJcblx0XHRpZiAoaXNOT1UoaW5wdXQpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHJlc3VsdCA9IG5ldyBDYW1wYWlnblN1cnZleU1ldGFkYXRhKCk7XHJcblx0XHRyZXN1bHQuY29udGVudE1ldGFkYXRhID0gaW5wdXQuQ29udGVudE1ldGFkYXRhO1xyXG5cclxuXHRcdGlmICghcmVzdWx0LnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIkNvbnRlbnRNZXRhZGF0YVwiKVxyXG5cdHB1YmxpYyBjb250ZW50TWV0YWRhdGE6IG9iamVjdDtcclxuXHJcblx0cHVibGljIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKGlzTk9VKHRoaXMuY29udGVudE1ldGFkYXRhKSB8fCAhVXRpbHMuaXNPYmplY3QodGhpcy5jb250ZW50TWV0YWRhdGEpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbi8vIGVuZHJlZ2lvblxyXG5cclxuLy8gcmVnaW9uIFN1cnZleSBUZW1wbGF0ZSBkZWZpbml0aW9uc1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENhbXBhaWduU3VydmV5VGVtcGxhdGUge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduU3VydmV5VGVtcGxhdGUge1xyXG5cdFx0bGV0IHJlc3VsdDogQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZTtcclxuXHJcblx0XHRpZiAoaXNOT1UoaW5wdXQpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHN3aXRjaCAoaW5wdXQuVHlwZSkge1xyXG5cdFx0XHRjYXNlIENhbXBhaWduU3VydmV5VGVtcGxhdGUuVHlwZS5OcHM1UG9pbnRTdGF0aWM6XHJcblx0XHRcdFx0cmVzdWx0ID0gQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZU5wczVQb2ludFN0YXRpYy5kZXNlcmlhbGl6ZShpbnB1dCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZS5UeXBlLk5wczExUG9pbnRTdGF0aWM6XHJcblx0XHRcdFx0cmVzdWx0ID0gQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZU5wczExUG9pbnRTdGF0aWMuZGVzZXJpYWxpemUoaW5wdXQpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlIENhbXBhaWduU3VydmV5VGVtcGxhdGUuVHlwZS5GcHM6XHJcblx0XHRcdFx0cmVzdWx0ID0gQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZUZwcy5kZXNlcmlhbGl6ZShpbnB1dCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZS5UeXBlLk5scXM6XHJcblx0XHRcdFx0cmVzdWx0ID0gQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZU5scXMuZGVzZXJpYWxpemUoaW5wdXQpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlIENhbXBhaWduU3VydmV5VGVtcGxhdGUuVHlwZS5OcHM6XHJcblx0XHRcdFx0cmVzdWx0ID0gQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZU5wcy5kZXNlcmlhbGl6ZShpbnB1dCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZS5UeXBlLkdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlOlxyXG5cdFx0XHRcdHJlc3VsdCA9IENhbXBhaWduU3VydmV5VGVtcGxhdGVHZW5lcmljTWVzc2FnaW5nU3VyZmFjZS5kZXNlcmlhbGl6ZShpbnB1dCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZS5UeXBlLkludGVyY2VwdDpcclxuXHRcdFx0XHRyZXN1bHQgPSBDYW1wYWlnblN1cnZleVRlbXBsYXRlSW50ZXJjZXB0LmRlc2VyaWFsaXplKGlucHV0KTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdH1cclxuXHJcblx0XHRpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIkFjdGl2YXRpb25FdmVudFwiKVxyXG5cdHB1YmxpYyBhY3RpdmF0aW9uRXZlbnQ6IENhbXBhaWduU3VydmV5RXZlbnQ7XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIkNvbnRlbnRcIilcclxuXHRwdWJsaWMgY29udGVudDogQ2FtcGFpZ25TdXJ2ZXlDb250ZW50O1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJNZXRhZGF0YVwiKVxyXG5cdHB1YmxpYyBtZXRhZGF0YTogQ2FtcGFpZ25TdXJ2ZXlNZXRhZGF0YTtcclxuXHJcblx0cHJvdGVjdGVkIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG5cdHByb3RlY3RlZCB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdGlmIChpc05PVSh0aGlzLmFjdGl2YXRpb25FdmVudCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IG1vZHVsZSBDYW1wYWlnblN1cnZleVRlbXBsYXRlIHtcclxuXHRleHBvcnQgY29uc3QgZW51bSBUeXBlIHtcclxuXHRcdE5wczVQb2ludFN0YXRpYyA9IDAsXHJcblx0XHROcHMxMVBvaW50U3RhdGljID0gMSxcclxuXHRcdEZwcyA9IDIsXHJcblx0XHRObHFzID0gMyxcclxuXHRcdE5wcyA9IDQsXHJcblx0XHRJbnRlcmNlcHQgPSA1LFxyXG5cdFx0Ly8gQSBnZW5lcmljIG1lc3NhZ2liZyBzdXJmYWNlIHRlbXBsYXRlIHR5cGUsIHdoaWNoIHdpbGwgbWFrZSB1c2Ugb2ZcclxuXHRcdC8vIGNvbnRlbnQgbWV0YWRhdGEgdG8gcmVuZGVyIHVpLlxyXG5cdFx0Ly8gQXMgb2YgNHRoIEZlYiAyMDE5IHRoZXJlIGFyZSAyMCB0ZW1wbGF0ZSB0eXBlcyBkZWZpbmVkIGluIE1zbyxcclxuXHRcdC8vIGhlbmNlIGdpdmluZyAyMiBhcyB2YWx1ZSBmb3IgdGhpcyB0eXBlLlxyXG5cdFx0R2VuZXJpY01lc3NhZ2luZ1N1cmZhY2UgPSAyMixcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnblN1cnZleVRlbXBsYXRlRnBzIGV4dGVuZHMgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZSB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZUZwcyB7XHJcblx0XHRjb25zdCByZXN1bHQgPSBuZXcgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZUZwcygpO1xyXG5cclxuXHRcdGlmIChpc05PVShpbnB1dCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmVzdWx0LmFjdGl2YXRpb25FdmVudCA9IENhbXBhaWduU3VydmV5RXZlbnQuZGVzZXJpYWxpemUoaW5wdXQuQWN0aXZhdGlvbkV2ZW50KTtcclxuXHRcdHJlc3VsdC5jb250ZW50ID0gQ2FtcGFpZ25TdXJ2ZXlDb250ZW50LmRlc2VyaWFsaXplKGlucHV0LkNvbnRlbnQsIHRydWUgLyogb3B0aW9uYWxDb21wb25lbnRzICovKTtcclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBwdWJsaWMgZm9yIFVUIG9ubHlcclxuXHRwdWJsaWMgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuXHJcblx0cHJvdGVjdGVkIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFzdXBlci52YWxpZGF0ZSgpIHx8IGlzTk9VKHRoaXMuY29udGVudCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduU3VydmV5VGVtcGxhdGVObHFzIGV4dGVuZHMgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZSB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZU5scXMge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduU3VydmV5VGVtcGxhdGVObHFzKCk7XHJcblxyXG5cdFx0aWYgKGlzTk9VKGlucHV0KSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXN1bHQuYWN0aXZhdGlvbkV2ZW50ID0gQ2FtcGFpZ25TdXJ2ZXlFdmVudC5kZXNlcmlhbGl6ZShpbnB1dC5BY3RpdmF0aW9uRXZlbnQpO1xyXG5cdFx0cmVzdWx0LmNvbnRlbnQgPSBDYW1wYWlnblN1cnZleUNvbnRlbnQuZGVzZXJpYWxpemUoaW5wdXQuQ29udGVudCk7XHJcblxyXG5cdFx0aWYgKCFyZXN1bHQudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gcHVibGljIGZvciBVVCBvbmx5XHJcblx0cHVibGljIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcblxyXG5cdHByb3RlY3RlZCB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdGlmICghc3VwZXIudmFsaWRhdGUoKSB8fCBpc05PVSh0aGlzLmNvbnRlbnQpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnblN1cnZleVRlbXBsYXRlTnBzIGV4dGVuZHMgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZSB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZU5wcyB7XHJcblx0XHRjb25zdCByZXN1bHQgPSBuZXcgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZU5wcygpO1xyXG5cclxuXHRcdGlmIChpc05PVShpbnB1dCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmVzdWx0LmFjdGl2YXRpb25FdmVudCA9IENhbXBhaWduU3VydmV5RXZlbnQuZGVzZXJpYWxpemUoaW5wdXQuQWN0aXZhdGlvbkV2ZW50KTtcclxuXHRcdHJlc3VsdC5jb250ZW50ID0gQ2FtcGFpZ25TdXJ2ZXlDb250ZW50LmRlc2VyaWFsaXplKGlucHV0LkNvbnRlbnQpO1xyXG5cclxuXHRcdGlmICghcmVzdWx0LnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIHB1YmxpYyBmb3IgVVQgb25seVxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG5cclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIXN1cGVyLnZhbGlkYXRlKCkgfHwgaXNOT1UodGhpcy5jb250ZW50KSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZU5wczVQb2ludFN0YXRpYyBleHRlbmRzIENhbXBhaWduU3VydmV5VGVtcGxhdGUge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduU3VydmV5VGVtcGxhdGVOcHM1UG9pbnRTdGF0aWMge1xyXG5cdFx0Y29uc3QgcmVzdWx0ID0gbmV3IENhbXBhaWduU3VydmV5VGVtcGxhdGVOcHM1UG9pbnRTdGF0aWMoKTtcclxuXHJcblx0XHRpZiAoaXNOT1UoaW5wdXQpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJlc3VsdC5hY3RpdmF0aW9uRXZlbnQgPSBDYW1wYWlnblN1cnZleUV2ZW50LmRlc2VyaWFsaXplKGlucHV0LkFjdGl2YXRpb25FdmVudCk7XHJcblxyXG5cdFx0aWYgKCFyZXN1bHQudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gcHVibGljIGZvciBVVCBvbmx5XHJcblx0cHVibGljIGNvbnN0cnVjdG9yKCkgeyBzdXBlcigpOyB9XHJcblxyXG5cdHByb3RlY3RlZCB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdGlmICghc3VwZXIudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZU5wczExUG9pbnRTdGF0aWMgZXh0ZW5kcyBDYW1wYWlnblN1cnZleVRlbXBsYXRlIHtcclxuXHRwdWJsaWMgc3RhdGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBDYW1wYWlnblN1cnZleVRlbXBsYXRlTnBzMTFQb2ludFN0YXRpYyB7XHJcblx0XHRjb25zdCByZXN1bHQgPSBuZXcgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZU5wczExUG9pbnRTdGF0aWMoKTtcclxuXHJcblx0XHRpZiAoaXNOT1UoaW5wdXQpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJlc3VsdC5hY3RpdmF0aW9uRXZlbnQgPSBDYW1wYWlnblN1cnZleUV2ZW50LmRlc2VyaWFsaXplKGlucHV0LkFjdGl2YXRpb25FdmVudCk7XHJcblxyXG5cdFx0aWYgKCFyZXN1bHQudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG5cclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIXN1cGVyLnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduU3VydmV5VGVtcGxhdGVHZW5lcmljTWVzc2FnaW5nU3VyZmFjZSBleHRlbmRzIENhbXBhaWduU3VydmV5VGVtcGxhdGUge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduU3VydmV5VGVtcGxhdGVHZW5lcmljTWVzc2FnaW5nU3VyZmFjZSB7XHJcblx0XHRpZiAoaXNOT1UoaW5wdXQpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHJlc3VsdCA9IG5ldyBDYW1wYWlnblN1cnZleVRlbXBsYXRlR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2UoKTtcclxuXHRcdHJlc3VsdC5hY3RpdmF0aW9uRXZlbnQgPSBDYW1wYWlnblN1cnZleUV2ZW50LmRlc2VyaWFsaXplKGlucHV0LkFjdGl2YXRpb25FdmVudCk7XHJcblx0XHRyZXN1bHQubWV0YWRhdGEgPSBDYW1wYWlnblN1cnZleU1ldGFkYXRhLmRlc2VyaWFsaXplKGlucHV0Lk1ldGFkYXRhKTtcclxuXHJcblx0XHRpZiAoIXJlc3VsdC52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuXHJcblx0cHJvdGVjdGVkIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFzdXBlci52YWxpZGF0ZSgpIHx8IGlzTk9VKHRoaXMubWV0YWRhdGEpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnblN1cnZleVRlbXBsYXRlSW50ZXJjZXB0IGV4dGVuZHMgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZSB7XHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZUludGVyY2VwdCB7XHJcblx0XHRjb25zdCByZXN1bHQgPSBuZXcgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZUludGVyY2VwdCgpO1xyXG5cclxuXHRcdGlmIChpc05PVShpbnB1dCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmVzdWx0LmFjdGl2YXRpb25FdmVudCA9IENhbXBhaWduU3VydmV5RXZlbnQuZGVzZXJpYWxpemUoaW5wdXQuQWN0aXZhdGlvbkV2ZW50KTtcclxuXHRcdHJlc3VsdC5jb250ZW50ID0gQ2FtcGFpZ25TdXJ2ZXlDb250ZW50LmRlc2VyaWFsaXplKGlucHV0LkNvbnRlbnQpO1xyXG5cclxuXHRcdGlmICghcmVzdWx0LnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIHB1YmxpYyBmb3IgVVQgb25seVxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG5cclxuXHRwcm90ZWN0ZWQgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIXN1cGVyLnZhbGlkYXRlKCkgfHwgaXNOT1UodGhpcy5jb250ZW50KSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG4vLyBlbmRyZWdpb25cclxuXHJcbi8vIHJlZ2lvbiBDYW1wYWlnbiBEZWZpbml0aW9uXHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25EZWZpbml0aW9uIHtcclxuXHQvKipcclxuXHQgKiBNZXRob2QgdG8gZGVzZXJpYWxpemUgYSBKU09OIG9iamVjdCB0byBjbGFzcyBvYmplY3RcclxuXHQgKiBAcGFyYW0gaW5wdXQ6IEpTT04gb2JqZWN0XHJcblx0ICogUmV0dXJucyByZXN1bHQgb2YgdmFsaWRhdGlvbiBjaGVja1xyXG5cdCAqL1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduRGVmaW5pdGlvbiB7XHJcblx0XHRjb25zdCByZXN1bHQ6IENhbXBhaWduRGVmaW5pdGlvbiA9IG5ldyBDYW1wYWlnbkRlZmluaXRpb24oKTtcclxuXHJcblx0XHRpZiAoaXNOT1UoaW5wdXQpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJlc3VsdC5jYW1wYWlnbklkID0gaW5wdXQuQ2FtcGFpZ25JZDtcclxuXHRcdHJlc3VsdC5nb3Zlcm5lZENoYW5uZWxUeXBlID0gaW5wdXQuR292ZXJuZWRDaGFubmVsVHlwZTtcclxuXHRcdHJlc3VsdC5zdGFydFRpbWUgPSBpbnB1dC5TdGFydFRpbWVVdGM7XHJcblx0XHRyZXN1bHQuZW5kVGltZSA9IGlucHV0LkVuZFRpbWVVdGM7XHJcblx0XHRyZXN1bHQubGF1bmNoZXJUeXBlID0gaW5wdXQuTGF1bmNoZXJUeXBlO1xyXG5cclxuXHRcdGNvbnN0IGFkZGl0aW9uYWxEYXRhUmVxdWVzdGVkOiBDYW1wYWlnbkFkZGl0aW9uYWxEYXRhUmVxdWVzdGVkID0gQ2FtcGFpZ25BZGRpdGlvbmFsRGF0YVJlcXVlc3RlZC5kZXNlcmlhbGl6ZShcclxuXHRcdFx0aW5wdXQuQWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQpO1xyXG5cdFx0cmVzdWx0LmFkZGl0aW9uYWxEYXRhUmVxdWVzdGVkID0gYWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQgPyBhZGRpdGlvbmFsRGF0YVJlcXVlc3RlZC5hZGRpdGlvbmFsRGF0YSA6IFtdO1xyXG5cclxuXHRcdGlmIChpbnB1dC5TdXJ2ZXlUZW1wbGF0ZSkge1xyXG5cdFx0XHRyZXN1bHQuc3VydmV5VGVtcGxhdGUgPSBDYW1wYWlnblN1cnZleVRlbXBsYXRlLmRlc2VyaWFsaXplKGlucHV0LlN1cnZleVRlbXBsYXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5wdXQuTm9taW5hdGlvblNjaGVtZSkge1xyXG5cdFx0XHRyZXN1bHQubm9taW5hdGlvblNjaGVtZSA9IENhbXBhaWduTm9taW5hdGlvblNjaGVtZS5kZXNlcmlhbGl6ZShpbnB1dC5Ob21pbmF0aW9uU2NoZW1lKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5wdXQuU2NvcGUpIHtcclxuXHRcdFx0cmVzdWx0LnNjb3BlID0gQ2FtcGFpZ25TY29wZS5kZXNlcmlhbGl6ZShpbnB1dC5TY29wZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFyZXN1bHQudmFsaWRhdGUoKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiQ2FtcGFpZ25JZFwiKVxyXG5cdHB1YmxpYyBjYW1wYWlnbklkOiBzdHJpbmc7XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIkdvdmVybmVkQ2hhbm5lbFR5cGVcIilcclxuXHRwdWJsaWMgZ292ZXJuZWRDaGFubmVsVHlwZTogR292ZXJuZWRDaGFubmVsVHlwZTtcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiU2NvcGVcIilcclxuXHRwdWJsaWMgc2NvcGU6IENhbXBhaWduU2NvcGU7XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIk5vbWluYXRpb25TY2hlbWVcIilcclxuXHRwdWJsaWMgbm9taW5hdGlvblNjaGVtZTogQ2FtcGFpZ25Ob21pbmF0aW9uU2NoZW1lO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJTdXJ2ZXlUZW1wbGF0ZVwiKVxyXG5cdHB1YmxpYyBzdXJ2ZXlUZW1wbGF0ZTogQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZTtcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiU3RhcnRUaW1lVXRjXCIpXHJcblx0cHVibGljIHN0YXJ0VGltZTogRGF0ZTtcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiRW5kVGltZVV0Y1wiKVxyXG5cdHB1YmxpYyBlbmRUaW1lOiBEYXRlO1xyXG5cclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJBZGRpdGlvbmFsRGF0YVJlcXVlc3RlZFwiKVxyXG5cdHB1YmxpYyBhZGRpdGlvbmFsRGF0YVJlcXVlc3RlZDogSVN1cnZleUluZm8uQWRkaXRpb25hbERhdGFUeXBlW107XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIkxhdW5jaGVyVHlwZVwiKVxyXG5cdHB1YmxpYyBsYXVuY2hlclR5cGU6IHN0cmluZztcclxuXHJcblx0cHVibGljIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKGlzTk9VKHRoaXMuc2NvcGUpKSB7XHJcblx0XHRcdHRoaXMuc2NvcGUgPSBuZXcgQ2FtcGFpZ25TY29wZUFueSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpc05PVSh0aGlzLmNhbXBhaWduSWQpIHx8ICFpc1N0cmluZyh0aGlzLmNhbXBhaWduSWQpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIWlzTnVtYmVyKHRoaXMuZ292ZXJuZWRDaGFubmVsVHlwZSkgfHwgIVV0aWxzLmlzRW51bVZhbHVlKHRoaXMuZ292ZXJuZWRDaGFubmVsVHlwZSwgR292ZXJuZWRDaGFubmVsVHlwZSkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpc05PVSh0aGlzLm5vbWluYXRpb25TY2hlbWUpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaXNOT1UodGhpcy5zdXJ2ZXlUZW1wbGF0ZSkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghaXNOT1UodGhpcy5sYXVuY2hlclR5cGUpICYmICFpc1N0cmluZyh0aGlzLmxhdW5jaGVyVHlwZSkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIENhbXBhaWducyB3aXRoIG5vIHN0YXJ0IGRhdGUgYXJlIGVmZmVjdGl2ZWx5IGRpc2FibGVkLCBpbiBmYWN0LCB0aGlzIGlzIHRoZSBzdXBwb3J0ZWQgd2F5IHRvIHN0YWdlIGEgZGVmaW5pdGlvbiBidXQgaGF2ZSBpdCBiZSB0dXJuZWQgb2ZmXHJcblx0XHRpZiAoaXNOT1UodGhpcy5zdGFydFRpbWUpKSB7XHJcblx0XHRcdHRoaXMuc3RhcnRUaW1lID0gZ2V0RGlzdGFudEZ1dHVyZSgpO1xyXG5cdFx0fSBlbHNlIGlmIChpc1V0Y0RhdGV0aW1lU3RyaW5nKHRoaXMuc3RhcnRUaW1lKSkge1xyXG5cdFx0XHR0aGlzLnN0YXJ0VGltZSA9IHN0cmluZ1RvRGF0ZSh0aGlzLnN0YXJ0VGltZSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQ2FtcGFpZ25zIHdpdGggbm8gZW5kIGRhdGUgYXJlIGVmZmVjdGl2ZWx5IG9uIGluZGVmaW5pdGVseVxyXG5cdFx0aWYgKGlzTk9VKHRoaXMuZW5kVGltZSkpIHtcclxuXHRcdFx0dGhpcy5lbmRUaW1lID0gZ2V0RGlzdGFudEZ1dHVyZSgpO1xyXG5cdFx0fSBlbHNlIGlmIChpc1V0Y0RhdGV0aW1lU3RyaW5nKHRoaXMuZW5kVGltZSkpIHtcclxuXHRcdFx0dGhpcy5lbmRUaW1lID0gc3RyaW5nVG9EYXRlKHRoaXMuZW5kVGltZSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogR2l2ZW4gYW4gYXJyYXkgb2YgY2FtcGFpZ24gZGVmaW5pdGlvbnMsIHJldHVybnMgdGhlIHZhbGlkIG9uZXMgYW5kIGVycm9ycyBpZiBhbnkgYXJlIGludmFsaWQuXHJcbiAqIEBwYXJhbSBpbnB1dDogSlNPTiBvYmplY3RcclxuICogUmV0dXJucyB0aGUgdmFsaWQgZGVmaW5pdGlvbnMgYW5kIHRoZSBlcnJvciBhcyBzdHJpbmcgaWYgYW55LlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIEZpbHRlclZhbGlkQ2FtcGFpZ25EZWZpbml0aW9ucyhjYW1wYWlnbkRlZmluaXRpb25zOiBhbnkpOiB7IHJlc3VsdDogQ2FtcGFpZ25EZWZpbml0aW9uW10sIGVycm9yOiBzdHJpbmcgfSB7XHJcblx0Y29uc3QgcmVzdWx0OiBDYW1wYWlnbkRlZmluaXRpb25bXSA9IFtdO1xyXG5cclxuXHRpZiAoaXNOT1UoY2FtcGFpZ25EZWZpbml0aW9ucykpIHtcclxuXHRcdHJldHVybiB7IHJlc3VsdCwgZXJyb3I6IFwiRW1wdHlcIiB9O1xyXG5cdH1cclxuXHJcblx0aWYgKCFBcnJheS5pc0FycmF5KGNhbXBhaWduRGVmaW5pdGlvbnMpKSB7XHJcblx0XHRyZXR1cm4geyByZXN1bHQsIGVycm9yOiBcIk5vdCBhbiBhcnJheVwiIH07XHJcblx0fVxyXG5cclxuXHRjb25zdCBiYWRJbmRleGVzOiBudW1iZXJbXSA9IFtdO1xyXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgY2FtcGFpZ25EZWZpbml0aW9ucy5sZW5ndGg7IGkrKykge1xyXG5cdFx0Y29uc3QgZGVmaW5pdGlvbjogYW55ID0gY2FtcGFpZ25EZWZpbml0aW9uc1tpXTtcclxuXHJcblx0XHRpZiAoZGVmaW5pdGlvbikge1xyXG5cdFx0XHRjb25zdCBuZXdEZWZpbml0aW9uOiBDYW1wYWlnbkRlZmluaXRpb24gPSBDYW1wYWlnbkRlZmluaXRpb24uZGVzZXJpYWxpemUoZGVmaW5pdGlvbik7XHJcblxyXG5cdFx0XHRuZXdEZWZpbml0aW9uXHJcblx0XHRcdFx0PyByZXN1bHQucHVzaChuZXdEZWZpbml0aW9uKVxyXG5cdFx0XHRcdDogYmFkSW5kZXhlcy5wdXNoKGkpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0YmFkSW5kZXhlcy5wdXNoKGkpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Y29uc3QgZXJyb3I6IHN0cmluZyA9IGJhZEluZGV4ZXMubGVuZ3RoID4gMCA/IFwiSW52YWxpZCBjYW1wYWlnbiBkZWZpbml0aW9ucyBhdCBpbmRleGVzOiBcIiArIGJhZEluZGV4ZXMudG9TdHJpbmcoKSA6IHVuZGVmaW5lZDtcclxuXHRyZXR1cm4geyByZXN1bHQsIGVycm9yIH07XHJcbn1cclxuXHJcbi8vIGVuZHJlZ2lvblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJQ2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXIge1xyXG5cdGxvYWQoKTogQ2FtcGFpZ25EZWZpbml0aW9uW107XHJcblx0bG9hZEFzeW5jKCk6IFByb21pc2U8Q2FtcGFpZ25EZWZpbml0aW9uW10+O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRmlsZVN5c3RlbUNhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyIGltcGxlbWVudHMgSUNhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyIHtcclxuXHRwcml2YXRlIHN0b3JhZ2U6IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXI7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihzdG9yYWdlOiBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyKSB7XHJcblx0XHRpZiAoaXNOT1Uoc3RvcmFnZSkpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwic3RvcmFnZSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuc3RvcmFnZSA9IHN0b3JhZ2U7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgbG9hZCgpOiBDYW1wYWlnbkRlZmluaXRpb25bXSB7XHJcblx0XHRjb25zdCBkZWZpbml0aW9uU3RyaW5nOiBzdHJpbmcgPSB0aGlzLnN0b3JhZ2UucmVhZChJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLkZpbGVUeXBlLkNhbXBhaWduRGVmaW5pdGlvbnMpO1xyXG5cdFx0aWYgKGlzTk9VKGRlZmluaXRpb25TdHJpbmcpKSB7XHJcblx0XHRcdHJldHVybiBbXTtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgcmVhZERlZmluaXRpb25zOiBhbnk7XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0cmVhZERlZmluaXRpb25zID0gSlNPTi5wYXJzZShkZWZpbml0aW9uU3RyaW5nKTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19DYW1wYWlnbkxvYWRfRmFpbGVkKGUudG9TdHJpbmcoKSk7XHJcblx0XHRcdHJldHVybiBbXTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBUaGlzIGlnbm9yZXMgZXJyb3JzIGluIHZhbGlkYXRpb24gZm9yIG5vdy5cclxuXHRcdHJldHVybiBGaWx0ZXJWYWxpZENhbXBhaWduRGVmaW5pdGlvbnMocmVhZERlZmluaXRpb25zKS5yZXN1bHQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgbG9hZEFzeW5jKCk6IFByb21pc2U8Q2FtcGFpZ25EZWZpbml0aW9uW10+IHtcclxuXHRcdGNvbnN0IGRlZmluaXRpb25zID0gdGhpcy5sb2FkKCk7XHJcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoXHJcblx0XHRcdGZ1bmN0aW9uIG9uRnVsZmlsbGVkKHJlc29sdmUsIHJlamVjdCkge1xyXG5cdFx0XHRcdHJlc29sdmUoZGVmaW5pdGlvbnMpO1xyXG5cdFx0XHR9LFxyXG5cdFx0KTtcclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Campaign/CampaignDefinitionProvider.js\n')},"../FloodgateCore/dist/src/Campaign/CampaignManager.js":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.CampaignManager = void 0;\nvar FloodgateEngine_1 = __webpack_require__(/*! ../FloodgateEngine */ "../FloodgateCore/dist/src/FloodgateEngine.js");\nvar Utils = __webpack_require__(/*! ../Utils */ "../FloodgateCore/dist/src/Utils.js");\nvar CampaignDefinitionProvider_1 = __webpack_require__(/*! ./CampaignDefinitionProvider */ "../FloodgateCore/dist/src/Campaign/CampaignDefinitionProvider.js");\nvar CampaignStateProvider_1 = __webpack_require__(/*! ./CampaignStateProvider */ "../FloodgateCore/dist/src/Campaign/CampaignStateProvider.js");\nvar CampaignSurveyFactory_1 = __webpack_require__(/*! ./CampaignSurveyFactory */ "../FloodgateCore/dist/src/Campaign/CampaignSurveyFactory.js");\nvar Constants_1 = __webpack_require__(/*! ../Constants */ "../FloodgateCore/dist/src/Constants.js");\nvar getDistantFuture = Utils.getDistantFuture, getDistantPast = Utils.getDistantPast, isArray = Utils.isArray, isNOU = Utils.isNOU;\n/**\n * The standard campaign manager implementation.\n */\nvar CampaignManager = /** @class */ (function () {\n    function CampaignManager(stateProvider, definitionProviders, stringProvider, environmentProvider, currentBuildNumber, currentDate, userFactsProvider) {\n        if (!stateProvider) {\n            throw new Error("stateProvider must not be null");\n        }\n        if (!isArray(definitionProviders)) {\n            throw new Error("definitionProviders is either null or not an array type");\n        }\n        if (!stringProvider) {\n            throw new Error("stringProvider must not be null");\n        }\n        if (isNOU(currentBuildNumber)) {\n            throw new Error("currentBuildNumber must not be null");\n        }\n        this.campaignStates = {};\n        this.campaignDefinitions = {};\n        this.userFacts = [];\n        this.stateProvider = stateProvider;\n        this.definitionProviders = definitionProviders;\n        this.stringProvider = stringProvider;\n        this.userFactsProvider = userFactsProvider;\n        this.environmentProvider = environmentProvider; // Can be null\n        this.currentBuildNumber = currentBuildNumber;\n        currentDate = currentDate ? currentDate : new Date();\n    }\n    CampaignManager.isStateUpForNomination = function (state, definition, date, buildNumber) {\n        if (!state || !definition) {\n            return false;\n        }\n        date = date ? date : new Date();\n        // Check manual override\n        if (state.ForceCandidacy) {\n            return true;\n        }\n        // Figure out which duration we\'re using based on whether or not the user triggered the survey\n        var campaignCooldownDuration = definition.nominationScheme.getCampaignCooldown(state.IsCandidate && state.DidCandidateTriggerSurvey);\n        if (!campaignCooldownDuration) {\n            return false;\n        }\n        // First check for build-based rules. Eventually this could get more complex if we supported counting differently seen build numbers\n        if (CampaignManager.hasBuildChangeDurationElapsed(campaignCooldownDuration, state.LastNominationBuildNumber, buildNumber)) {\n            return true;\n        }\n        // Next check date rules\n        return CampaignManager.hasTimeIntervalDurationElapsed(campaignCooldownDuration, state.getCooldownStartDate(), date);\n    };\n    CampaignManager.isDateInRange = function (date, startDate, endDate) {\n        date = date ? date : new Date();\n        startDate = startDate ? startDate : getDistantPast();\n        endDate = endDate ? endDate : getDistantFuture();\n        // Check Start/Expire date range\n        if (startDate.getTime() <= date.getTime() && endDate.getTime() >= date.getTime()) {\n            return true;\n        }\n        return false;\n    };\n    CampaignManager.hasTimeIntervalDurationElapsed = function (duration, startDate, date) {\n        if (isNOU(duration) || !(duration instanceof CampaignDefinitionProvider_1.CampaignDurationTimeInterval)) {\n            return false;\n        }\n        if (!startDate || !date) {\n            return false;\n        }\n        var endDate = Utils.addSecondsWithoutOverflow(startDate, duration.intervalSeconds);\n        return date.getTime() >= endDate.getTime();\n    };\n    CampaignManager.hasBuildChangeDurationElapsed = function (duration, startBuild, build) {\n        if (isNOU(duration) || !(duration instanceof CampaignDefinitionProvider_1.CampaignDurationSingleBuildChange)) {\n            return false;\n        }\n        if (isNOU(startBuild) || isNOU(build)) {\n            return (startBuild === null) !== (build === null);\n        }\n        return !(startBuild === build);\n    };\n    CampaignManager.isCampaignInScope = function (definition, date, environmentProvider, userFactsProvider) {\n        if (!definition) {\n            return false;\n        }\n        date = date ? date : new Date();\n        // Check Start/Expire date range\n        if (!CampaignManager.isDateInRangeWithDefinition(date, definition)) {\n            return false;\n        }\n        if (definition.scope) {\n            if (definition.scope instanceof CampaignDefinitionProvider_1.CampaignScopeUserFactAny || definition.scope instanceof CampaignDefinitionProvider_1.CampaignScopeUserFactAll) {\n                definition.scope.setUserFactsProvider(userFactsProvider);\n            }\n            if (definition.scope instanceof CampaignDefinitionProvider_1.CampaignScopeEnvironmentCrossProduct) {\n                definition.scope.setEnvironmentProvider(environmentProvider);\n            }\n            if (!definition.scope.isInScope()) {\n                return false;\n            }\n        }\n        // If we get here, the definition is relevant\n        return true;\n    };\n    CampaignManager.isDateInRangeWithDefinition = function (date, definition) {\n        if (!definition) {\n            return false;\n        }\n        date = date ? date : new Date();\n        return CampaignManager.isDateInRange(date, \n        // null start dates should be impossible, but if set, should mean the campaign is disabled\n        definition.startTime ? definition.startTime : getDistantFuture(), definition.endTime);\n    };\n    // @Override\n    CampaignManager.prototype.getActiveSurveys = function () {\n        var surveys = {};\n        for (var key in this.campaignStates) {\n            if (this.campaignStates.hasOwnProperty(key)) {\n                var state = this.campaignStates[key];\n                if (!state.IsCandidate) {\n                    continue;\n                }\n                // This is a requirement because we keep some otherwise "stale" campaigns around for the save routine\n                var definition = this.campaignDefinitions[state.CampaignId];\n                if (!definition) {\n                    continue;\n                }\n                var survey = CampaignSurveyFactory_1.CampaignSurveyFactory.makeSurvey(state, definition.governedChannelType, definition.surveyTemplate, this.stringProvider, definition.additionalDataRequested, definition.launcherType);\n                if (!survey) {\n                    continue;\n                }\n                surveys[survey.getSurveyInfo().getId()] = survey;\n            }\n        }\n        return surveys;\n    };\n    // @Override\n    CampaignManager.prototype.onCampaignSurveyActivated = function (campaignId, takenDate) {\n        var state = this.campaignStates[campaignId];\n        if (!state) {\n            return;\n        }\n        takenDate = takenDate ? takenDate : new Date();\n        state.markCurrentSurveyTakenOnDate(takenDate, this.campaignDefinitions[campaignId].nominationScheme.cooldownPeriod.asTimeIntervalSeconds());\n        this.saveCurrentState();\n    };\n    CampaignManager.prototype.getCampaignStates = function () {\n        return this.campaignStates;\n    };\n    CampaignManager.prototype.getCampaignDefinitions = function () {\n        return this.campaignDefinitions;\n    };\n    CampaignManager.prototype.getUserFacts = function () {\n        return this.userFacts;\n    };\n    // region ISurveyClient methods\n    // @Override\n    CampaignManager.prototype.onSurveyActivated = function (surveyInfo) {\n        if (!surveyInfo) {\n            return;\n        }\n        this.onCampaignSurveyActivated(surveyInfo.getBackEndId(), new Date());\n    };\n    // @Override\n    CampaignManager.prototype.refreshSurveyDefinitions = function (channelTypes, date) {\n        this.refreshSurveyDefinitionsPrivate(channelTypes, (date ? date : new Date()));\n    };\n    // @Override\n    CampaignManager.prototype.refreshSurveyDefinitionsAsync = function (channelTypes, date) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this.refreshSurveyDefinitionsPrivateAsync(channelTypes, (date ? date : new Date())).then(function onFulfilled() {\n                resolve();\n            }).catch(function OnRejected(errReason) {\n                reject(errReason);\n            });\n        });\n    };\n    // @Override\n    CampaignManager.prototype.getAppSurveys = function () {\n        return this.getActiveSurveys();\n    };\n    // @Override\n    CampaignManager.prototype.saveCurrentState = function () {\n        // Sort by campaignId, ascending for uniformity\n        var states = Utils.makeArrayFromObjectValuesSortedByKeyString(this.campaignStates);\n        this.stateProvider.save(states);\n    };\n    // endregion\n    CampaignManager.prototype.refreshSurveyDefinitionsPrivate = function (channelTypes, date) {\n        this.campaignStates = {};\n        this.campaignDefinitions = {};\n        this.userFacts = [];\n        this.loadAndFilterCampaignData(date, channelTypes);\n        this.evaluateCampaigns(date);\n    };\n    CampaignManager.prototype.refreshSurveyDefinitionsPrivateAsync = function (channelTypes, date) {\n        this.campaignStates = {};\n        this.campaignDefinitions = {};\n        this.userFacts = [];\n        var thisCampaignManager = this;\n        return new Promise(function (resolve, reject) {\n            thisCampaignManager.loadAndFilterCampaignDataAsync(date, channelTypes).then(function onFulfilled() {\n                thisCampaignManager.evaluateCampaigns(date);\n                resolve();\n            }).catch(function OnRejected(errReason) {\n                reject(errReason);\n            });\n        });\n    };\n    /**\n     * Load and filter the campaigns definitions and states\n     */\n    CampaignManager.prototype.loadAndFilterCampaignDataAsync = function (currentDate, channelTypes) {\n        currentDate = currentDate ? currentDate : new Date();\n        var loadedDefinitions = [];\n        var promises = [];\n        var userFactsPromise = this.userFactsProvider && this.userFactsProvider.loadAsync();\n        for (var _i = 0, _a = Object.keys(this.definitionProviders); _i < _a.length; _i++) {\n            var i = _a[_i];\n            var provider = this.definitionProviders[i];\n            var promise = provider && provider.loadAsync();\n            if (!isNOU(promise)) {\n                // Promise.all fails even if one promise fails.\n                // We want to ignore the promise that failed and continue with the ones\n                // those are succesful, hence overriding the catch to always resolve.\n                // responsibility of logging failures should be with the provider.\n                promise = promise.catch(function () {\n                    FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_CampaignLoad_Failed("Failed to load from campaign definition provider");\n                    Promise.resolve();\n                });\n                promises.push(promise);\n            }\n        }\n        var thisCampaignManager = this;\n        return new Promise(function (resolve, reject) {\n            Promise.all(promises).then(function onFulfilled(values) {\n                for (var _i = 0, _a = Object.keys(values); _i < _a.length; _i++) {\n                    var i = _a[_i];\n                    var campaignDefinitions = values[i];\n                    if (isArray(campaignDefinitions)) {\n                        // If there are campaign defintions with duplicate campaign Id\'s\n                        // Floodgate will load the last one it found. FilterCampaignData does this filteration\n                        loadedDefinitions = loadedDefinitions.concat(campaignDefinitions);\n                    }\n                }\n                var setUserFacts = function (userFacts) {\n                    thisCampaignManager.userFacts = userFacts || [];\n                    thisCampaignManager.FilterCampaignData(currentDate, channelTypes, loadedDefinitions);\n                    resolve();\n                };\n                // Before filtering and evaluating the campaign definitions,\n                // wait until the user facts are loaded as they will be used in evaluating campaign scopes\n                if (!isNOU(userFactsPromise)) {\n                    userFactsPromise.then(function (userFacts) {\n                        setUserFacts(userFacts);\n                    }).catch(function () {\n                        // this should never happen as user facts promise will always be resolved by the user facts provider\n                        FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsLoad.Failed, "Failed to load from user facts provider");\n                        setUserFacts();\n                    });\n                }\n                else {\n                    setUserFacts();\n                }\n            }).catch(function OnRejected(error) {\n                // this should never happen as Promise.all will always be resolved\n                // because of hack at the top of the function.\n                FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_CampaignLoad_Failed("Failed to load from campaign definition provider");\n            });\n        });\n    };\n    CampaignManager.prototype.loadAndFilterCampaignData = function (currentDate, channelTypes) {\n        currentDate = currentDate ? currentDate : new Date();\n        var loadedDefinitions = [];\n        for (var _i = 0, _a = Object.keys(this.definitionProviders); _i < _a.length; _i++) {\n            var index = _a[_i];\n            try {\n                var definitions = this.definitionProviders[index] && this.definitionProviders[index].load();\n                if (isArray(definitions)) {\n                    // If there are campaign defintions with duplicate campaign Id\'s\n                    // Floodgate will load the last one it found. FilterCampaignData does this filteration\n                    loadedDefinitions = loadedDefinitions.concat(definitions);\n                }\n            }\n            catch (error) {\n                // Log error, but continue with other providers\n                // It should be the responsibility of provider to log detailed errors\n                FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_CampaignLoad_Failed("Failed to load from campaign definition provider. " + error.toString());\n            }\n        }\n        // Load the user facts before all the campaign definitions are evaluated\n        try {\n            this.userFacts = (this.userFactsProvider && this.userFactsProvider.load()) || [];\n        }\n        catch (error) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsLoad.Failed, "Failed to load from user facts provider. " + error);\n        }\n        this.FilterCampaignData(currentDate, channelTypes, loadedDefinitions);\n    };\n    /**\n     * Load and filter the campaigns definitions and states\n     */\n    CampaignManager.prototype.FilterCampaignData = function (currentDate, channelTypes, loadedDefinitions) {\n        var loadedDefinitionsMap = {};\n        // Load filtered campaign definitions\n        for (var key in loadedDefinitions) {\n            if (loadedDefinitions.hasOwnProperty(key)) {\n                var definition = loadedDefinitions[key];\n                loadedDefinitionsMap[definition.campaignId] = definition;\n                if (channelTypes && (channelTypes.indexOf(definition.governedChannelType) < 0)) {\n                    continue;\n                }\n                if (!CampaignManager.isCampaignInScope(definition, currentDate, this.environmentProvider, this.userFactsProvider)) {\n                    continue;\n                }\n                this.campaignDefinitions[definition.campaignId] = definition;\n            }\n        }\n        // Load campaign state, filtering out the expired definitions\n        var loadedStates = this.stateProvider.load();\n        var staleLoadedStates = [];\n        for (var key in loadedStates) {\n            if (loadedStates.hasOwnProperty(key)) {\n                var state = loadedStates[key];\n                if (!this.campaignDefinitions.hasOwnProperty(state.CampaignId)) {\n                    staleLoadedStates.push(state);\n                }\n                this.campaignStates[state.CampaignId] = state;\n            }\n        }\n        /*\n         * Stale State data cleanup\n         * State needs to be cleaned up when:\n         * 1) The campaign has expired\n         * 2) The campaign is no longer present in the definitions (think ECS or other outages or very old expirations)\n         *    In this case the state should still be cleaned up on it\'s reelection date\n         * 3) When the user is out of scope (for an otherwise active campaign) and is up for nomination\n\r\n         * This optimizes the user experience in case the campaign pops up or gets renewed when we would have preferred the user remain in cool down\n\r\n         * 2&3 are basically the same, and 1 is a special case optimization on top of 2&3 for earlier clean up\n\r\n         * To do 2 & 3, we just look at states with no matching definition (after filtering), and reject them if they are past their nomination period\n         * To do 1, we just need to keep a list/hash of the definitions that we filtered out this load cycle, specifically for expiration dates, and bypass\n         * the cool down "wait" for these specifically\n\r\n         * For now, allowing some "grace" for "missing"/"blippy" campaign definitions (in case they pop in and out of ECS) by deferring missing\n         * deletion by a delay-time specified by the original campaign.\n         */\n        for (var key in staleLoadedStates) {\n            if (staleLoadedStates.hasOwnProperty(key)) {\n                var state = staleLoadedStates[key];\n                if (!state) {\n                    continue;\n                }\n                var definition = loadedDefinitionsMap[state.CampaignId];\n                var shouldRemove = false;\n                if (!definition) {\n                    if (state.LastNominationTimeUtc.getTime() <= Utils.subtractSecondsWithoutOverflow(currentDate, state.DeleteAfterSecondsWhenStale).getTime()) {\n                        shouldRemove = true;\n                    }\n                }\n                else if (CampaignManager.isStateUpForNomination(state, definition, currentDate, this.currentBuildNumber)) {\n                    shouldRemove = true;\n                }\n                // The next time we write to storage, these will be removed\n                if (shouldRemove) {\n                    delete this.campaignStates[state.CampaignId];\n                }\n            }\n        }\n    };\n    /**\n     * Given the loaded campaign definitions and states from previous sessions, run anything up for nomination\n     */\n    CampaignManager.prototype.evaluateCampaigns = function (currentDate) {\n        // Loop through campaigns definitions, and update their state if necessary\n        currentDate = currentDate ? currentDate : new Date();\n        for (var key in this.campaignDefinitions) {\n            if (this.campaignDefinitions.hasOwnProperty(key)) {\n                var definition = this.campaignDefinitions[key];\n                var state = this.campaignStates[definition.campaignId];\n                if (!state || CampaignManager.isStateUpForNomination(state, definition, currentDate, this.currentBuildNumber)) {\n                    var lastSurveyId = state ? state.LastSurveyId : "";\n                    var lastSurveyStartTime = state ? state.LastSurveyStartTimeUtc : getDistantPast();\n                    var lastSurveyExpirationTime = state ? state.LastSurveyExpirationTimeUtc : getDistantPast();\n                    var lastSurveyActivatedTime = state ? state.LastSurveyActivatedTimeUtc : getDistantPast();\n                    var lastCooldownEndTimeUtc = state ? state.LastCooldownEndTimeUtc : getDistantPast();\n                    // Run the nomination\n                    var isCandidate = (state && state.ForceCandidacy) || definition.nominationScheme.evaluateNominationRules();\n                    if (isCandidate) {\n                        // Make new survey properties for the next call to get the active surveys\n                        lastSurveyId = Utils.guid();\n                        lastSurveyStartTime = definition.nominationScheme.calculateSurveyStartTimeFromDate(currentDate);\n                        lastSurveyExpirationTime = definition.nominationScheme.calculateSurveyExpirationTimeFromSurveyStartTime(lastSurveyStartTime);\n                    }\n                    var newState = new CampaignStateProvider_1.CampaignState(definition.campaignId, currentDate, this.currentBuildNumber, definition.nominationScheme.getActiveSurveyTimeIntervalSeconds(), false, isCandidate, false, lastSurveyActivatedTime, lastSurveyId, lastSurveyStartTime, lastSurveyExpirationTime, lastCooldownEndTimeUtc);\n                    // Save the new state to our local cache\n                    this.campaignStates[newState.CampaignId] = newState;\n                }\n            }\n        }\n    };\n    return CampaignManager;\n}());\nexports.CampaignManager = CampaignManager;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0NhbXBhaWduL0NhbXBhaWduTWFuYWdlci50cz85MDQ3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUlBLHNIQUFxRDtBQUlyRCxzRkFBa0M7QUFDbEMsK0pBR3NDO0FBQ3RDLGdKQUFnRjtBQUNoRixnSkFBZ0U7QUFHaEUsb0dBQThDO0FBRXRDLG9CQUFnQixHQUFxQyxLQUFLLGlCQUExQyxFQUFFLGNBQWMsR0FBcUIsS0FBSyxlQUExQixFQUFFLE9BQU8sR0FBWSxLQUFLLFFBQWpCLEVBQUUsS0FBSyxHQUFLLEtBQUssTUFBVixDQUFXO0FBY25FOztHQUVHO0FBQ0g7SUF3SEMseUJBQW1CLGFBQXFDLEVBQ3ZELG1CQUFrRCxFQUNsRCxjQUF3QyxFQUN4QyxtQkFBa0QsRUFDbEQsa0JBQTBCLEVBQzFCLFdBQWlCLEVBQ2pCLGlCQUFxQztRQUVyQyxJQUFJLENBQUMsYUFBYSxFQUFFO1lBQ25CLE1BQU0sSUFBSSxLQUFLLENBQUMsZ0NBQWdDLENBQUMsQ0FBQztTQUNsRDtRQUVELElBQUksQ0FBQyxPQUFPLENBQUMsbUJBQW1CLENBQUMsRUFBRTtZQUNsQyxNQUFNLElBQUksS0FBSyxDQUFDLHlEQUF5RCxDQUFDLENBQUM7U0FDM0U7UUFFRCxJQUFJLENBQUMsY0FBYyxFQUFFO1lBQ3BCLE1BQU0sSUFBSSxLQUFLLENBQUMsaUNBQWlDLENBQUMsQ0FBQztTQUNuRDtRQUVELElBQUksS0FBSyxDQUFDLGtCQUFrQixDQUFDLEVBQUU7WUFDOUIsTUFBTSxJQUFJLEtBQUssQ0FBQyxxQ0FBcUMsQ0FBQyxDQUFDO1NBQ3ZEO1FBRUQsSUFBSSxDQUFDLGNBQWMsR0FBRyxFQUFFLENBQUM7UUFDekIsSUFBSSxDQUFDLG1CQUFtQixHQUFHLEVBQUUsQ0FBQztRQUM5QixJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztRQUNwQixJQUFJLENBQUMsYUFBYSxHQUFHLGFBQWEsQ0FBQztRQUNuQyxJQUFJLENBQUMsbUJBQW1CLEdBQUcsbUJBQW1CLENBQUM7UUFDL0MsSUFBSSxDQUFDLGNBQWMsR0FBRyxjQUFjLENBQUM7UUFDckMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLGlCQUFpQixDQUFDO1FBQzNDLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxtQkFBbUIsQ0FBQyxDQUFDLGNBQWM7UUFDOUQsSUFBSSxDQUFDLGtCQUFrQixHQUFHLGtCQUFrQixDQUFDO1FBRTdDLFdBQVcsR0FBRyxXQUFXLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQztJQUN0RCxDQUFDO0lBMUphLHNDQUFzQixHQUFwQyxVQUFxQyxLQUFvQixFQUFFLFVBQThCLEVBQUUsSUFBVSxFQUFFLFdBQW1CO1FBQ3pILElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDMUIsT0FBTyxLQUFLLENBQUM7U0FDYjtRQUVELElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUVoQyx3QkFBd0I7UUFDeEIsSUFBSSxLQUFLLENBQUMsY0FBYyxFQUFFO1lBQ3pCLE9BQU8sSUFBSSxDQUFDO1NBQ1o7UUFFRCw4RkFBOEY7UUFDOUYsSUFBTSx3QkFBd0IsR0FDM0IsVUFBVSxDQUFDLGdCQUFnQixDQUFDLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxXQUFXLElBQUksS0FBSyxDQUFDLHlCQUF5QixDQUFDLENBQUM7UUFFekcsSUFBSSxDQUFDLHdCQUF3QixFQUFFO1lBQzlCLE9BQU8sS0FBSyxDQUFDO1NBQ2I7UUFDRCxvSUFBb0k7UUFDcEksSUFBSSxlQUFlLENBQUMsNkJBQTZCLENBQUMsd0JBQXdCLEVBQUUsS0FBSyxDQUFDLHlCQUF5QixFQUFFLFdBQVcsQ0FBQyxFQUFFO1lBQzFILE9BQU8sSUFBSSxDQUFDO1NBQ1o7UUFFRCx3QkFBd0I7UUFDeEIsT0FBTyxlQUFlLENBQUMsOEJBQThCLENBQUMsd0JBQXdCLEVBQUUsS0FBSyxDQUFDLG9CQUFvQixFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDckgsQ0FBQztJQUVhLDZCQUFhLEdBQTNCLFVBQTRCLElBQVUsRUFBRSxTQUFlLEVBQUUsT0FBYTtRQUNyRSxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxFQUFFLENBQUM7UUFDaEMsU0FBUyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUNyRCxPQUFPLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFFakQsZ0NBQWdDO1FBQ2hDLElBQUksU0FBUyxDQUFDLE9BQU8sRUFBRSxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxPQUFPLENBQUMsT0FBTyxFQUFFLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRSxFQUFFO1lBQ2pGLE9BQU8sSUFBSSxDQUFDO1NBQ1o7UUFFRCxPQUFPLEtBQUssQ0FBQztJQUNkLENBQUM7SUFFYSw4Q0FBOEIsR0FBNUMsVUFBNkMsUUFBMEIsRUFBRSxTQUFlLEVBQUUsSUFBVTtRQUNuRyxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxZQUFZLHlEQUE0QixDQUFDLEVBQUU7WUFDM0UsT0FBTyxLQUFLLENBQUM7U0FDYjtRQUNELElBQUksQ0FBQyxTQUFTLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDeEIsT0FBTyxLQUFLLENBQUM7U0FDYjtRQUVELElBQU0sT0FBTyxHQUFTLEtBQUssQ0FBQyx5QkFBeUIsQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQzNGLE9BQU8sSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLE9BQU8sQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUM1QyxDQUFDO0lBRWEsNkNBQTZCLEdBQTNDLFVBQTRDLFFBQTBCLEVBQUUsVUFBa0IsRUFBRSxLQUFhO1FBQ3hHLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLFlBQVksOERBQWlDLENBQUMsRUFBRTtZQUNoRixPQUFPLEtBQUssQ0FBQztTQUNiO1FBQ0QsSUFBSSxLQUFLLENBQUMsVUFBVSxDQUFDLElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQ3RDLE9BQU8sQ0FBQyxVQUFVLEtBQUssSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEtBQUssSUFBSSxDQUFDLENBQUM7U0FDbEQ7UUFFRCxPQUFPLENBQUMsQ0FBQyxVQUFVLEtBQUssS0FBSyxDQUFDLENBQUM7SUFDaEMsQ0FBQztJQUVjLGlDQUFpQixHQUFoQyxVQUNDLFVBQThCLEVBQzlCLElBQVUsRUFDVixtQkFBa0QsRUFDbEQsaUJBQW9DO1FBQ3BDLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDaEIsT0FBTyxLQUFLLENBQUM7U0FDYjtRQUVELElBQUksR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUVoQyxnQ0FBZ0M7UUFDaEMsSUFBSSxDQUFDLGVBQWUsQ0FBQywyQkFBMkIsQ0FBQyxJQUFJLEVBQUUsVUFBVSxDQUFDLEVBQUU7WUFDbkUsT0FBTyxLQUFLLENBQUM7U0FDYjtRQUVELElBQUksVUFBVSxDQUFDLEtBQUssRUFBRTtZQUNyQixJQUFJLFVBQVUsQ0FBQyxLQUFLLFlBQVkscURBQXdCLElBQUksVUFBVSxDQUFDLEtBQUssWUFBWSxxREFBd0IsRUFBRTtnQkFDakgsVUFBVSxDQUFDLEtBQUssQ0FBQyxvQkFBb0IsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO2FBQ3pEO1lBQ0QsSUFBSSxVQUFVLENBQUMsS0FBSyxZQUFZLGlFQUFvQyxFQUFFO2dCQUNyRSxVQUFVLENBQUMsS0FBSyxDQUFDLHNCQUFzQixDQUFDLG1CQUFtQixDQUFDLENBQUM7YUFDN0Q7WUFDRCxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxTQUFTLEVBQUUsRUFBRTtnQkFDbEMsT0FBTyxLQUFLLENBQUM7YUFDYjtTQUNEO1FBRUQsNkNBQTZDO1FBQzdDLE9BQU8sSUFBSSxDQUFDO0lBQ2IsQ0FBQztJQUVjLDJDQUEyQixHQUExQyxVQUEyQyxJQUFVLEVBQUUsVUFBOEI7UUFDcEYsSUFBSSxDQUFDLFVBQVUsRUFBRTtZQUNoQixPQUFPLEtBQUssQ0FBQztTQUNiO1FBRUQsSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDO1FBRWhDLE9BQU8sZUFBZSxDQUFDLGFBQWEsQ0FBQyxJQUFJO1FBQ3hDLDBGQUEwRjtRQUMxRixVQUFVLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsRUFBRSxFQUNoRSxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDdEIsQ0FBQztJQWlERCxZQUFZO0lBQ0wsMENBQWdCLEdBQXZCO1FBQ0MsSUFBTSxPQUFPLEdBQXlCLEVBQUUsQ0FBQztRQUV6QyxLQUFLLElBQU0sR0FBRyxJQUFJLElBQUksQ0FBQyxjQUFjLEVBQUU7WUFDdEMsSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsRUFBRTtnQkFDNUMsSUFBTSxLQUFLLEdBQWtCLElBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ3RELElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFO29CQUN2QixTQUFTO2lCQUNUO2dCQUVELHFHQUFxRztnQkFDckcsSUFBTSxVQUFVLEdBQXVCLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQ2xGLElBQUksQ0FBQyxVQUFVLEVBQUU7b0JBQ2hCLFNBQVM7aUJBQ1Q7Z0JBRUQsSUFBTSxNQUFNLEdBQVksNkNBQXFCLENBQUMsVUFBVSxDQUFFLEtBQUssRUFBRSxVQUFVLENBQUMsbUJBQW1CLEVBQUUsVUFBVSxDQUFDLGNBQWMsRUFDekgsSUFBSSxDQUFDLGNBQWMsRUFBRSxVQUFVLENBQUMsdUJBQXVCLEVBQUUsVUFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDO2dCQUNuRixJQUFJLENBQUMsTUFBTSxFQUFFO29CQUNaLFNBQVM7aUJBQ1Q7Z0JBRUQsT0FBTyxDQUFDLE1BQU0sQ0FBQyxhQUFhLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQzthQUNqRDtTQUNEO1FBRUQsT0FBTyxPQUFPLENBQUM7SUFDaEIsQ0FBQztJQUVELFlBQVk7SUFDTCxtREFBeUIsR0FBaEMsVUFBaUMsVUFBa0IsRUFBRSxTQUFlO1FBQ25FLElBQU0sS0FBSyxHQUFrQixJQUFJLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQzdELElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDWCxPQUFPO1NBQ1A7UUFFRCxTQUFTLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxFQUFFLENBQUM7UUFFL0MsS0FBSyxDQUFDLDRCQUE0QixDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsbUJBQW1CLENBQUMsVUFBVSxDQUFDLENBQUMsZ0JBQWdCLENBQUMsY0FBYyxDQUFDLHFCQUFxQixFQUFFLENBQUMsQ0FBQztRQUU1SSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBRU0sMkNBQWlCLEdBQXhCO1FBQ0MsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDO0lBQzVCLENBQUM7SUFFTSxnREFBc0IsR0FBN0I7UUFDQyxPQUFPLElBQUksQ0FBQyxtQkFBbUIsQ0FBQztJQUNqQyxDQUFDO0lBRU0sc0NBQVksR0FBbkI7UUFDQyxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDdkIsQ0FBQztJQUVELCtCQUErQjtJQUUvQixZQUFZO0lBQ0wsMkNBQWlCLEdBQXhCLFVBQXlCLFVBQXVCO1FBQy9DLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDaEIsT0FBTztTQUNQO1FBRUQsSUFBSSxDQUFDLHlCQUF5QixDQUFDLFVBQVUsQ0FBQyxZQUFZLEVBQUUsRUFBRSxJQUFJLElBQUksRUFBRSxDQUFDLENBQUM7SUFDdkUsQ0FBQztJQUVELFlBQVk7SUFDTCxrREFBd0IsR0FBL0IsVUFBZ0MsWUFBb0MsRUFBRSxJQUFXO1FBQ2hGLElBQUksQ0FBQywrQkFBK0IsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDaEYsQ0FBQztJQUVELFlBQVk7SUFDTCx1REFBNkIsR0FBcEMsVUFBcUMsWUFBb0MsRUFBRSxJQUFXO1FBQXRGLGlCQVlDO1FBWEEsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNO1lBQ2xDLEtBQUksQ0FBQyxvQ0FBb0MsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUN2RixTQUFTLFdBQVc7Z0JBQ25CLE9BQU8sRUFBRSxDQUFDO1lBQ1gsQ0FBQyxDQUNELENBQUMsS0FBSyxDQUNOLFNBQVMsVUFBVSxDQUFDLFNBQVM7Z0JBQzVCLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUNuQixDQUFDLENBQ0QsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUFDO0lBQ0osQ0FBQztJQUVELFlBQVk7SUFDTCx1Q0FBYSxHQUFwQjtRQUNDLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7SUFDaEMsQ0FBQztJQUVELFlBQVk7SUFDTCwwQ0FBZ0IsR0FBdkI7UUFDQywrQ0FBK0M7UUFDL0MsSUFBTSxNQUFNLEdBQW9CLEtBQUssQ0FBQywwQ0FBMEMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7UUFFdEcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDakMsQ0FBQztJQUVELFlBQVk7SUFFSix5REFBK0IsR0FBdkMsVUFBd0MsWUFBbUMsRUFBRSxJQUFVO1FBQ3RGLElBQUksQ0FBQyxjQUFjLEdBQUcsRUFBRSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxFQUFFLENBQUM7UUFDOUIsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7UUFFcEIsSUFBSSxDQUFDLHlCQUF5QixDQUFDLElBQUksRUFBRSxZQUFZLENBQUMsQ0FBQztRQUNuRCxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDOUIsQ0FBQztJQUVPLDhEQUFvQyxHQUE1QyxVQUE2QyxZQUFtQyxFQUFFLElBQVU7UUFDM0YsSUFBSSxDQUFDLGNBQWMsR0FBRyxFQUFFLENBQUM7UUFDekIsSUFBSSxDQUFDLG1CQUFtQixHQUFHLEVBQUUsQ0FBQztRQUM5QixJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztRQUVwQixJQUFNLG1CQUFtQixHQUFHLElBQUksQ0FBQztRQUNqQyxPQUFPLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBTyxFQUFFLE1BQU07WUFDbEMsbUJBQW1CLENBQUMsOEJBQThCLENBQUMsSUFBSSxFQUFFLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FDMUUsU0FBUyxXQUFXO2dCQUNuQixtQkFBbUIsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDNUMsT0FBTyxFQUFFLENBQUM7WUFDWCxDQUFDLENBQ0QsQ0FBQyxLQUFLLENBQ04sU0FBUyxVQUFVLENBQUMsU0FBUztnQkFDNUIsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ25CLENBQUMsQ0FDRCxDQUFDO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDSixDQUFDO0lBRUQ7O09BRUc7SUFDSyx3REFBOEIsR0FBdEMsVUFBdUMsV0FBaUIsRUFBRSxZQUFtQztRQUM1RixXQUFXLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxFQUFFLENBQUM7UUFDckQsSUFBSSxpQkFBaUIsR0FBeUIsRUFBRSxDQUFDO1FBQ2pELElBQU0sUUFBUSxHQUFHLEVBQUUsQ0FBQztRQUVwQixJQUFNLGdCQUFnQixHQUFHLElBQUksQ0FBQyxpQkFBaUIsSUFBSSxJQUFJLENBQUMsaUJBQWlCLENBQUMsU0FBUyxFQUEwQixDQUFDO1FBRTlHLEtBQWdCLFVBQXFDLEVBQXJDLFdBQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLEVBQXJDLGNBQXFDLEVBQXJDLElBQXFDLEVBQUU7WUFBbEQsSUFBTSxDQUFDO1lBQ1gsSUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzdDLElBQUksT0FBTyxHQUFRLFFBQVEsSUFBSSxRQUFRLENBQUMsU0FBUyxFQUFFLENBQUM7WUFDcEQsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsRUFBRTtnQkFDcEIsK0NBQStDO2dCQUMvQyx1RUFBdUU7Z0JBQ3ZFLHFFQUFxRTtnQkFDckUsa0VBQWtFO2dCQUNsRSxPQUFPLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQztvQkFDdkIsaUNBQWUsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLHVCQUF1QixDQUFDLGtEQUFrRCxDQUFDLENBQUM7b0JBQ2pILE9BQU8sQ0FBQyxPQUFPLEVBQUUsQ0FBQztnQkFDbkIsQ0FBQyxDQUFDLENBQUM7Z0JBQ0gsUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQzthQUN2QjtTQUNEO1FBRUQsSUFBTSxtQkFBbUIsR0FBRyxJQUFJLENBQUM7UUFDakMsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNO1lBQ2xDLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUN6QixTQUFTLFdBQVcsQ0FBQyxNQUFNO2dCQUMxQixLQUFnQixVQUFtQixFQUFuQixXQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFuQixjQUFtQixFQUFuQixJQUFtQixFQUFFO29CQUFoQyxJQUFNLENBQUM7b0JBQ1gsSUFBTSxtQkFBbUIsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3RDLElBQUksT0FBTyxDQUFDLG1CQUFtQixDQUFDLEVBQUU7d0JBQ2pDLGdFQUFnRTt3QkFDaEUsc0ZBQXNGO3dCQUN0RixpQkFBaUIsR0FBRyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsbUJBQW1CLENBQUMsQ0FBQztxQkFDbEU7aUJBQ0Q7Z0JBRUQsSUFBTSxZQUFZLEdBQUcsVUFBQyxTQUF1QjtvQkFDNUMsbUJBQW1CLENBQUMsU0FBUyxHQUFHLFNBQVMsSUFBSSxFQUFFLENBQUM7b0JBQ2hELG1CQUFtQixDQUFDLGtCQUFrQixDQUFDLFdBQVcsRUFBRSxZQUFZLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztvQkFDckYsT0FBTyxFQUFFLENBQUM7Z0JBQ1gsQ0FBQyxDQUFDO2dCQUVGLDREQUE0RDtnQkFDNUQsMEZBQTBGO2dCQUMxRixJQUFJLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLEVBQUU7b0JBQzdCLGdCQUFnQixDQUFDLElBQUksQ0FBQyxVQUFDLFNBQXNCO3dCQUM1QyxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUM7b0JBQ3pCLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQzt3QkFDUixvR0FBb0c7d0JBQ3BHLGlDQUFlLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxTQUFTLENBQUMsMEJBQWMsQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLE1BQU0sRUFBRSx5Q0FBeUMsQ0FBQyxDQUFDO3dCQUN6SSxZQUFZLEVBQUUsQ0FBQztvQkFDaEIsQ0FBQyxDQUFDLENBQUM7aUJBQ0g7cUJBQU07b0JBQ04sWUFBWSxFQUFFLENBQUM7aUJBQ2Y7WUFDRixDQUFDLENBQ0QsQ0FBQyxLQUFLLENBQ04sU0FBUyxVQUFVLENBQUMsS0FBSztnQkFDeEIsa0VBQWtFO2dCQUNsRSw4Q0FBOEM7Z0JBQzlDLGlDQUFlLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyx1QkFBdUIsQ0FBQyxrREFBa0QsQ0FBQyxDQUFDO1lBQ2xILENBQUMsQ0FDRCxDQUFDO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDSixDQUFDO0lBRU8sbURBQXlCLEdBQWpDLFVBQWtDLFdBQWlCLEVBQUUsWUFBbUM7UUFDdkYsV0FBVyxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDO1FBQ3JELElBQUksaUJBQWlCLEdBQXlCLEVBQUUsQ0FBQztRQUVqRCxLQUFvQixVQUFxQyxFQUFyQyxXQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxFQUFyQyxjQUFxQyxFQUFyQyxJQUFxQyxFQUFFO1lBQXRELElBQU0sS0FBSztZQUNmLElBQUk7Z0JBQ0gsSUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztnQkFDOUYsSUFBSSxPQUFPLENBQUMsV0FBVyxDQUFDLEVBQUU7b0JBQ3pCLGdFQUFnRTtvQkFDaEUsc0ZBQXNGO29CQUN0RixpQkFBaUIsR0FBRyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7aUJBQzFEO2FBQ0Q7WUFBQyxPQUFPLEtBQUssRUFBRTtnQkFDZiwrQ0FBK0M7Z0JBQy9DLHFFQUFxRTtnQkFDckUsaUNBQWUsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLHVCQUF1QixDQUFDLG9EQUFvRCxHQUFHLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO2FBQ3RJO1NBQ0Q7UUFFRCx3RUFBd0U7UUFDeEUsSUFBSTtZQUNILElBQUksQ0FBQyxTQUFTLEdBQUcsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLElBQUksSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDO1NBQ2pGO1FBQUMsT0FBTyxLQUFLLEVBQUU7WUFDZixpQ0FBZSxDQUFDLGtCQUFrQixFQUFFLENBQUMsU0FBUyxDQUM3QywwQkFBYyxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsTUFBTSxFQUFFLDJDQUEyQyxHQUFHLEtBQUssQ0FBQyxDQUFDO1NBQ3JHO1FBRUQsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFdBQVcsRUFBRSxZQUFZLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztJQUN2RSxDQUFDO0lBRUQ7O09BRUc7SUFDSyw0Q0FBa0IsR0FBMUIsVUFBMkIsV0FBaUIsRUFBRSxZQUFtQyxFQUFFLGlCQUF1QztRQUN6SCxJQUFNLG9CQUFvQixHQUFvQyxFQUFFLENBQUM7UUFFakUscUNBQXFDO1FBQ3JDLEtBQUssSUFBTSxHQUFHLElBQUksaUJBQWlCLEVBQUU7WUFDcEMsSUFBSSxpQkFBaUIsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLEVBQUU7Z0JBQzFDLElBQU0sVUFBVSxHQUF1QixpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFFOUQsb0JBQW9CLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxHQUFHLFVBQVUsQ0FBQztnQkFFekQsSUFBSSxZQUFZLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFO29CQUMvRSxTQUFTO2lCQUNUO2dCQUVELElBQUksQ0FBQyxlQUFlLENBQUMsaUJBQWlCLENBQUMsVUFBVSxFQUFFLFdBQVcsRUFBRSxJQUFJLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEVBQUU7b0JBQ2xILFNBQVM7aUJBQ1Q7Z0JBRUQsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsR0FBRyxVQUFVLENBQUM7YUFDN0Q7U0FDRDtRQUVELDZEQUE2RDtRQUM3RCxJQUFNLFlBQVksR0FBb0IsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNoRSxJQUFNLGlCQUFpQixHQUFvQixFQUFFLENBQUM7UUFFOUMsS0FBSyxJQUFNLEdBQUcsSUFBSSxZQUFZLEVBQUU7WUFDL0IsSUFBSSxZQUFZLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxFQUFFO2dCQUNyQyxJQUFNLEtBQUssR0FBa0IsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUUvQyxJQUFJLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLEVBQUU7b0JBQy9ELGlCQUFpQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztpQkFDOUI7Z0JBRUQsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLEdBQUcsS0FBSyxDQUFDO2FBQzlDO1NBQ0Q7UUFFRDs7Ozs7Ozs7Ozs7Ozs7Ozs7O1dBa0JHO1FBQ0gsS0FBSyxJQUFNLEdBQUcsSUFBSSxpQkFBaUIsRUFBRTtZQUNwQyxJQUFJLGlCQUFpQixDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsRUFBRTtnQkFDMUMsSUFBTSxLQUFLLEdBQWtCLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNwRCxJQUFJLENBQUMsS0FBSyxFQUFFO29CQUNYLFNBQVM7aUJBQ1Q7Z0JBRUQsSUFBTSxVQUFVLEdBQXVCLG9CQUFvQixDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFDOUUsSUFBSSxZQUFZLEdBQUcsS0FBSyxDQUFDO2dCQUV6QixJQUFJLENBQUMsVUFBVSxFQUFFO29CQUNoQixJQUFJLEtBQUssQ0FBQyxxQkFBcUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxLQUFLLENBQUMsOEJBQThCLENBQUMsV0FBVyxFQUFFLEtBQUssQ0FBQywyQkFBMkIsQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO3dCQUM1SSxZQUFZLEdBQUcsSUFBSSxDQUFDO3FCQUNwQjtpQkFDRDtxQkFBTSxJQUFJLGVBQWUsQ0FBQyxzQkFBc0IsQ0FBQyxLQUFLLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsRUFBRTtvQkFDM0csWUFBWSxHQUFHLElBQUksQ0FBQztpQkFDcEI7Z0JBRUQsMkRBQTJEO2dCQUMzRCxJQUFJLFlBQVksRUFBRTtvQkFDakIsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQztpQkFDN0M7YUFDRDtTQUNEO0lBQ0YsQ0FBQztJQUVEOztPQUVHO0lBQ0ssMkNBQWlCLEdBQXpCLFVBQTBCLFdBQWlCO1FBQzFDLDBFQUEwRTtRQUMxRSxXQUFXLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxFQUFFLENBQUM7UUFFckQsS0FBSyxJQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsbUJBQW1CLEVBQUU7WUFDM0MsSUFBSSxJQUFJLENBQUMsbUJBQW1CLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxFQUFFO2dCQUNqRCxJQUFNLFVBQVUsR0FBdUIsSUFBSSxDQUFDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNyRSxJQUFNLEtBQUssR0FBa0IsSUFBSSxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBRXhFLElBQUksQ0FBQyxLQUFLLElBQUksZUFBZSxDQUFDLHNCQUFzQixDQUFDLEtBQUssRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFO29CQUM5RyxJQUFJLFlBQVksR0FBVyxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztvQkFDM0QsSUFBSSxtQkFBbUIsR0FBUyxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7b0JBQ3hGLElBQUksd0JBQXdCLEdBQVMsS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsMkJBQTJCLENBQUMsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO29CQUNsRyxJQUFNLHVCQUF1QixHQUFTLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLDBCQUEwQixDQUFDLENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztvQkFDbEcsSUFBTSxzQkFBc0IsR0FBUyxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7b0JBRTdGLHFCQUFxQjtvQkFDckIsSUFBTSxXQUFXLEdBQVksQ0FBQyxLQUFLLElBQUksS0FBSyxDQUFDLGNBQWMsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyx1QkFBdUIsRUFBRSxDQUFDO29CQUN0SCxJQUFJLFdBQVcsRUFBRTt3QkFDaEIseUVBQXlFO3dCQUN6RSxZQUFZLEdBQUcsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDO3dCQUM1QixtQkFBbUIsR0FBRyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsZ0NBQWdDLENBQUMsV0FBVyxDQUFDLENBQUM7d0JBQ2hHLHdCQUF3QixHQUFHLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxnREFBZ0QsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO3FCQUM3SDtvQkFFRCxJQUFNLFFBQVEsR0FBa0IsSUFBSSxxQ0FBYSxDQUNoRCxVQUFVLENBQUMsVUFBVSxFQUNyQixXQUFXLEVBQ1gsSUFBSSxDQUFDLGtCQUFrQixFQUN2QixVQUFVLENBQUMsZ0JBQWdCLENBQUMsa0NBQWtDLEVBQUUsRUFDaEUsS0FBSyxFQUNMLFdBQVcsRUFDWCxLQUFLLEVBQ0wsdUJBQXVCLEVBQ3ZCLFlBQVksRUFDWixtQkFBbUIsRUFDbkIsd0JBQXdCLEVBQ3hCLHNCQUFzQixDQUN0QixDQUFDO29CQUVGLHdDQUF3QztvQkFDeEMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLEdBQUcsUUFBUSxDQUFDO2lCQUNwRDthQUNEO1NBQ0Q7SUFDRixDQUFDO0lBQ0Ysc0JBQUM7QUFBRCxDQUFDO0FBMWdCWSwwQ0FBZSIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL0NhbXBhaWduL0NhbXBhaWduTWFuYWdlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElGbG9vZGdhdGVFbnZpcm9ubWVudFByb3ZpZGVyIH0gZnJvbSBcIi4uL0FwaS9JRmxvb2RnYXRlRW52aXJvbm1lbnRQcm92aWRlclwiO1xyXG5pbXBvcnQgKiBhcyBJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIgZnJvbSBcIi4uL0FwaS9JRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXJcIjtcclxuaW1wb3J0ICogYXMgSVN1cnZleSBmcm9tIFwiLi4vQXBpL0lTdXJ2ZXlcIjtcclxuaW1wb3J0IHsgSURpY3Rpb25hcnkgfSBmcm9tIFwiLi4vQ29tbW9uXCI7XHJcbmltcG9ydCB7IEZsb29kZ2F0ZUVuZ2luZSB9IGZyb20gXCIuLi9GbG9vZGdhdGVFbmdpbmVcIjtcclxuaW1wb3J0IHsgR292ZXJuZWRDaGFubmVsVHlwZSB9IGZyb20gXCIuLi9Hb3Zlcm5lZENoYW5uZWxcIjtcclxuaW1wb3J0IHsgSVN1cnZleUNsaWVudCB9IGZyb20gXCIuLi9JU3VydmV5Q2xpZW50XCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXlJbmZvIGZyb20gXCIuLi9JU3VydmV5SW5mb1wiO1xyXG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tIFwiLi4vVXRpbHNcIjtcclxuaW1wb3J0IHtcclxuXHRDYW1wYWlnbkRlZmluaXRpb24sIENhbXBhaWduRHVyYXRpb24sIENhbXBhaWduRHVyYXRpb25TaW5nbGVCdWlsZENoYW5nZSxcclxuXHRDYW1wYWlnbkR1cmF0aW9uVGltZUludGVydmFsLCBDYW1wYWlnblNjb3BlRW52aXJvbm1lbnRDcm9zc1Byb2R1Y3QsIENhbXBhaWduU2NvcGVVc2VyRmFjdEFsbCwgQ2FtcGFpZ25TY29wZVVzZXJGYWN0QW55LCBJQ2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXIsXHJcbn0gZnJvbSBcIi4vQ2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXJcIjtcclxuaW1wb3J0IHsgQ2FtcGFpZ25TdGF0ZSwgSUNhbXBhaWduU3RhdGVQcm92aWRlciB9IGZyb20gXCIuL0NhbXBhaWduU3RhdGVQcm92aWRlclwiO1xyXG5pbXBvcnQgeyBDYW1wYWlnblN1cnZleUZhY3RvcnkgfSBmcm9tIFwiLi9DYW1wYWlnblN1cnZleUZhY3RvcnlcIjtcclxuXHJcbmltcG9ydCB7IElVc2VyRmFjdCwgSVVzZXJGYWN0UHJvdmlkZXIgfSBmcm9tIFwiLi4vQXBpL0FwaVwiO1xyXG5pbXBvcnQgeyBUZWxlbWV0cnlFdmVudCB9IGZyb20gXCIuLi9Db25zdGFudHNcIjtcclxuXHJcbmNvbnN0IHsgZ2V0RGlzdGFudEZ1dHVyZSwgZ2V0RGlzdGFudFBhc3QsIGlzQXJyYXksIGlzTk9VIH0gPSBVdGlscztcclxuXHJcbi8qKlxyXG4gKiBUaGUgQ2FtcGFpZ25NYW5hZ2VyIGlzIHJlc3BvbnNpYmxlIGZvciBjb21iaW5pbmcgcmVhZC1vbmx5IGNhbXBhaWduIGRlZmluaXRpb25zIHdpdGggcHJldmlvdXNseSBzdG9yZWQgY2FtcGFpZ24gc3RhdGUsXHJcbiAqIHJ1bm5pbmcgcmUtbm9taW5hdGlvbiBlbGVjdGlvbnMsIGFuZCB1bHRpbWF0ZWx5IGdlbmVyYXRpbmcgc3VydmV5c1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJQ2FtcGFpZ25NYW5hZ2VyIHtcclxuXHQvLyBHZXQgdGhlIGxpc3Qgb2YgYWN0aXZlIHN1cnZleXMgdGFyZ2V0aW5nIHRoaXMgdXNlclxyXG5cdGdldEFjdGl2ZVN1cnZleXMoKTogSURpY3Rpb25hcnk8SVN1cnZleT47XHJcblxyXG5cdC8vIFVwZGF0ZXMgdGhlIGNhbXBhaWduIHN0YXRlIGJhc2VkIG9uIHRoZSBmYWN0IHRoYXQgdGhlIHVzZXIganVzdCB0b29rIHRoYXQgY2FtcGFpZ24ncyBzdXJ2ZXlcclxuXHRvbkNhbXBhaWduU3VydmV5QWN0aXZhdGVkKGNhbXBhaWduSWQ6IHN0cmluZywgZGF0ZTogRGF0ZSk6IHZvaWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgc3RhbmRhcmQgY2FtcGFpZ24gbWFuYWdlciBpbXBsZW1lbnRhdGlvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnbk1hbmFnZXIgaW1wbGVtZW50cyBJQ2FtcGFpZ25NYW5hZ2VyLCBJU3VydmV5Q2xpZW50IHtcclxuXHRwdWJsaWMgc3RhdGljIGlzU3RhdGVVcEZvck5vbWluYXRpb24oc3RhdGU6IENhbXBhaWduU3RhdGUsIGRlZmluaXRpb246IENhbXBhaWduRGVmaW5pdGlvbiwgZGF0ZTogRGF0ZSwgYnVpbGROdW1iZXI6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFzdGF0ZSB8fCAhZGVmaW5pdGlvbikge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0ZGF0ZSA9IGRhdGUgPyBkYXRlIDogbmV3IERhdGUoKTtcclxuXHJcblx0XHQvLyBDaGVjayBtYW51YWwgb3ZlcnJpZGVcclxuXHRcdGlmIChzdGF0ZS5Gb3JjZUNhbmRpZGFjeSkge1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBGaWd1cmUgb3V0IHdoaWNoIGR1cmF0aW9uIHdlJ3JlIHVzaW5nIGJhc2VkIG9uIHdoZXRoZXIgb3Igbm90IHRoZSB1c2VyIHRyaWdnZXJlZCB0aGUgc3VydmV5XHJcblx0XHRjb25zdCBjYW1wYWlnbkNvb2xkb3duRHVyYXRpb246IENhbXBhaWduRHVyYXRpb25cclxuXHRcdFx0PSBkZWZpbml0aW9uLm5vbWluYXRpb25TY2hlbWUuZ2V0Q2FtcGFpZ25Db29sZG93bihzdGF0ZS5Jc0NhbmRpZGF0ZSAmJiBzdGF0ZS5EaWRDYW5kaWRhdGVUcmlnZ2VyU3VydmV5KTtcclxuXHJcblx0XHRpZiAoIWNhbXBhaWduQ29vbGRvd25EdXJhdGlvbikge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0XHQvLyBGaXJzdCBjaGVjayBmb3IgYnVpbGQtYmFzZWQgcnVsZXMuIEV2ZW50dWFsbHkgdGhpcyBjb3VsZCBnZXQgbW9yZSBjb21wbGV4IGlmIHdlIHN1cHBvcnRlZCBjb3VudGluZyBkaWZmZXJlbnRseSBzZWVuIGJ1aWxkIG51bWJlcnNcclxuXHRcdGlmIChDYW1wYWlnbk1hbmFnZXIuaGFzQnVpbGRDaGFuZ2VEdXJhdGlvbkVsYXBzZWQoY2FtcGFpZ25Db29sZG93bkR1cmF0aW9uLCBzdGF0ZS5MYXN0Tm9taW5hdGlvbkJ1aWxkTnVtYmVyLCBidWlsZE51bWJlcikpIHtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gTmV4dCBjaGVjayBkYXRlIHJ1bGVzXHJcblx0XHRyZXR1cm4gQ2FtcGFpZ25NYW5hZ2VyLmhhc1RpbWVJbnRlcnZhbER1cmF0aW9uRWxhcHNlZChjYW1wYWlnbkNvb2xkb3duRHVyYXRpb24sIHN0YXRlLmdldENvb2xkb3duU3RhcnREYXRlKCksIGRhdGUpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHN0YXRpYyBpc0RhdGVJblJhbmdlKGRhdGU6IERhdGUsIHN0YXJ0RGF0ZTogRGF0ZSwgZW5kRGF0ZTogRGF0ZSk6IGJvb2xlYW4ge1xyXG5cdFx0ZGF0ZSA9IGRhdGUgPyBkYXRlIDogbmV3IERhdGUoKTtcclxuXHRcdHN0YXJ0RGF0ZSA9IHN0YXJ0RGF0ZSA/IHN0YXJ0RGF0ZSA6IGdldERpc3RhbnRQYXN0KCk7XHJcblx0XHRlbmREYXRlID0gZW5kRGF0ZSA/IGVuZERhdGUgOiBnZXREaXN0YW50RnV0dXJlKCk7XHJcblxyXG5cdFx0Ly8gQ2hlY2sgU3RhcnQvRXhwaXJlIGRhdGUgcmFuZ2VcclxuXHRcdGlmIChzdGFydERhdGUuZ2V0VGltZSgpIDw9IGRhdGUuZ2V0VGltZSgpICYmIGVuZERhdGUuZ2V0VGltZSgpID49IGRhdGUuZ2V0VGltZSgpKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgaGFzVGltZUludGVydmFsRHVyYXRpb25FbGFwc2VkKGR1cmF0aW9uOiBDYW1wYWlnbkR1cmF0aW9uLCBzdGFydERhdGU6IERhdGUsIGRhdGU6IERhdGUpOiBib29sZWFuIHtcclxuXHRcdGlmIChpc05PVShkdXJhdGlvbikgfHwgIShkdXJhdGlvbiBpbnN0YW5jZW9mIENhbXBhaWduRHVyYXRpb25UaW1lSW50ZXJ2YWwpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHRcdGlmICghc3RhcnREYXRlIHx8ICFkYXRlKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBlbmREYXRlOiBEYXRlID0gVXRpbHMuYWRkU2Vjb25kc1dpdGhvdXRPdmVyZmxvdyhzdGFydERhdGUsIGR1cmF0aW9uLmludGVydmFsU2Vjb25kcyk7XHJcblx0XHRyZXR1cm4gZGF0ZS5nZXRUaW1lKCkgPj0gZW5kRGF0ZS5nZXRUaW1lKCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhdGljIGhhc0J1aWxkQ2hhbmdlRHVyYXRpb25FbGFwc2VkKGR1cmF0aW9uOiBDYW1wYWlnbkR1cmF0aW9uLCBzdGFydEJ1aWxkOiBzdHJpbmcsIGJ1aWxkOiBzdHJpbmcpOiBib29sZWFuIHtcclxuXHRcdGlmIChpc05PVShkdXJhdGlvbikgfHwgIShkdXJhdGlvbiBpbnN0YW5jZW9mIENhbXBhaWduRHVyYXRpb25TaW5nbGVCdWlsZENoYW5nZSkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGlzTk9VKHN0YXJ0QnVpbGQpIHx8IGlzTk9VKGJ1aWxkKSkge1xyXG5cdFx0XHRyZXR1cm4gKHN0YXJ0QnVpbGQgPT09IG51bGwpICE9PSAoYnVpbGQgPT09IG51bGwpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiAhKHN0YXJ0QnVpbGQgPT09IGJ1aWxkKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIGlzQ2FtcGFpZ25JblNjb3BlKFxyXG5cdFx0ZGVmaW5pdGlvbjogQ2FtcGFpZ25EZWZpbml0aW9uLFxyXG5cdFx0ZGF0ZTogRGF0ZSxcclxuXHRcdGVudmlyb25tZW50UHJvdmlkZXI6IElGbG9vZGdhdGVFbnZpcm9ubWVudFByb3ZpZGVyLFxyXG5cdFx0dXNlckZhY3RzUHJvdmlkZXI6IElVc2VyRmFjdFByb3ZpZGVyKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIWRlZmluaXRpb24pIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGRhdGUgPSBkYXRlID8gZGF0ZSA6IG5ldyBEYXRlKCk7XHJcblxyXG5cdFx0Ly8gQ2hlY2sgU3RhcnQvRXhwaXJlIGRhdGUgcmFuZ2VcclxuXHRcdGlmICghQ2FtcGFpZ25NYW5hZ2VyLmlzRGF0ZUluUmFuZ2VXaXRoRGVmaW5pdGlvbihkYXRlLCBkZWZpbml0aW9uKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGRlZmluaXRpb24uc2NvcGUpIHtcclxuXHRcdFx0aWYgKGRlZmluaXRpb24uc2NvcGUgaW5zdGFuY2VvZiBDYW1wYWlnblNjb3BlVXNlckZhY3RBbnkgfHwgZGVmaW5pdGlvbi5zY29wZSBpbnN0YW5jZW9mIENhbXBhaWduU2NvcGVVc2VyRmFjdEFsbCkge1xyXG5cdFx0XHRcdGRlZmluaXRpb24uc2NvcGUuc2V0VXNlckZhY3RzUHJvdmlkZXIodXNlckZhY3RzUHJvdmlkZXIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChkZWZpbml0aW9uLnNjb3BlIGluc3RhbmNlb2YgQ2FtcGFpZ25TY29wZUVudmlyb25tZW50Q3Jvc3NQcm9kdWN0KSB7XHJcblx0XHRcdFx0ZGVmaW5pdGlvbi5zY29wZS5zZXRFbnZpcm9ubWVudFByb3ZpZGVyKGVudmlyb25tZW50UHJvdmlkZXIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICghZGVmaW5pdGlvbi5zY29wZS5pc0luU2NvcGUoKSkge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIElmIHdlIGdldCBoZXJlLCB0aGUgZGVmaW5pdGlvbiBpcyByZWxldmFudFxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBpc0RhdGVJblJhbmdlV2l0aERlZmluaXRpb24oZGF0ZTogRGF0ZSwgZGVmaW5pdGlvbjogQ2FtcGFpZ25EZWZpbml0aW9uKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIWRlZmluaXRpb24pIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGRhdGUgPSBkYXRlID8gZGF0ZSA6IG5ldyBEYXRlKCk7XHJcblxyXG5cdFx0cmV0dXJuIENhbXBhaWduTWFuYWdlci5pc0RhdGVJblJhbmdlKGRhdGUsXHJcblx0XHRcdC8vIG51bGwgc3RhcnQgZGF0ZXMgc2hvdWxkIGJlIGltcG9zc2libGUsIGJ1dCBpZiBzZXQsIHNob3VsZCBtZWFuIHRoZSBjYW1wYWlnbiBpcyBkaXNhYmxlZFxyXG5cdFx0XHRkZWZpbml0aW9uLnN0YXJ0VGltZSA/IGRlZmluaXRpb24uc3RhcnRUaW1lIDogZ2V0RGlzdGFudEZ1dHVyZSgpLFxyXG5cdFx0XHRkZWZpbml0aW9uLmVuZFRpbWUpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBjYW1wYWlnblN0YXRlczogSURpY3Rpb25hcnk8Q2FtcGFpZ25TdGF0ZT47XHJcblx0cHJpdmF0ZSBjYW1wYWlnbkRlZmluaXRpb25zOiBJRGljdGlvbmFyeTxDYW1wYWlnbkRlZmluaXRpb24+O1xyXG5cdHByaXZhdGUgdXNlckZhY3RzOiBJVXNlckZhY3RbXTtcclxuXHRwcml2YXRlIGN1cnJlbnRCdWlsZE51bWJlcjogc3RyaW5nO1xyXG5cdHByaXZhdGUgc3RhdGVQcm92aWRlcjogSUNhbXBhaWduU3RhdGVQcm92aWRlcjtcclxuXHRwcml2YXRlIGRlZmluaXRpb25Qcm92aWRlcnM6IElDYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlcltdO1xyXG5cdHByaXZhdGUgc3RyaW5nUHJvdmlkZXI6IElGbG9vZGdhdGVTdHJpbmdQcm92aWRlcjtcclxuXHRwcml2YXRlIGVudmlyb25tZW50UHJvdmlkZXI6IElGbG9vZGdhdGVFbnZpcm9ubWVudFByb3ZpZGVyO1xyXG5cdHByaXZhdGUgdXNlckZhY3RzUHJvdmlkZXI6IElVc2VyRmFjdFByb3ZpZGVyO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3Ioc3RhdGVQcm92aWRlcjogSUNhbXBhaWduU3RhdGVQcm92aWRlcixcclxuXHRcdGRlZmluaXRpb25Qcm92aWRlcnM6IElDYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlcltdLFxyXG5cdFx0c3RyaW5nUHJvdmlkZXI6IElGbG9vZGdhdGVTdHJpbmdQcm92aWRlcixcclxuXHRcdGVudmlyb25tZW50UHJvdmlkZXI6IElGbG9vZGdhdGVFbnZpcm9ubWVudFByb3ZpZGVyLFxyXG5cdFx0Y3VycmVudEJ1aWxkTnVtYmVyOiBzdHJpbmcsXHJcblx0XHRjdXJyZW50RGF0ZTogRGF0ZSxcclxuXHRcdHVzZXJGYWN0c1Byb3ZpZGVyPzogSVVzZXJGYWN0UHJvdmlkZXIpIHtcclxuXHJcblx0XHRpZiAoIXN0YXRlUHJvdmlkZXIpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwic3RhdGVQcm92aWRlciBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghaXNBcnJheShkZWZpbml0aW9uUHJvdmlkZXJzKSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkZWZpbml0aW9uUHJvdmlkZXJzIGlzIGVpdGhlciBudWxsIG9yIG5vdCBhbiBhcnJheSB0eXBlXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghc3RyaW5nUHJvdmlkZXIpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwic3RyaW5nUHJvdmlkZXIgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaXNOT1UoY3VycmVudEJ1aWxkTnVtYmVyKSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJjdXJyZW50QnVpbGROdW1iZXIgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmNhbXBhaWduU3RhdGVzID0ge307XHJcblx0XHR0aGlzLmNhbXBhaWduRGVmaW5pdGlvbnMgPSB7fTtcclxuXHRcdHRoaXMudXNlckZhY3RzID0gW107XHJcblx0XHR0aGlzLnN0YXRlUHJvdmlkZXIgPSBzdGF0ZVByb3ZpZGVyO1xyXG5cdFx0dGhpcy5kZWZpbml0aW9uUHJvdmlkZXJzID0gZGVmaW5pdGlvblByb3ZpZGVycztcclxuXHRcdHRoaXMuc3RyaW5nUHJvdmlkZXIgPSBzdHJpbmdQcm92aWRlcjtcclxuXHRcdHRoaXMudXNlckZhY3RzUHJvdmlkZXIgPSB1c2VyRmFjdHNQcm92aWRlcjtcclxuXHRcdHRoaXMuZW52aXJvbm1lbnRQcm92aWRlciA9IGVudmlyb25tZW50UHJvdmlkZXI7IC8vIENhbiBiZSBudWxsXHJcblx0XHR0aGlzLmN1cnJlbnRCdWlsZE51bWJlciA9IGN1cnJlbnRCdWlsZE51bWJlcjtcclxuXHJcblx0XHRjdXJyZW50RGF0ZSA9IGN1cnJlbnREYXRlID8gY3VycmVudERhdGUgOiBuZXcgRGF0ZSgpO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldEFjdGl2ZVN1cnZleXMoKTogSURpY3Rpb25hcnk8SVN1cnZleT4ge1xyXG5cdFx0Y29uc3Qgc3VydmV5czogSURpY3Rpb25hcnk8SVN1cnZleT4gPSB7fTtcclxuXHJcblx0XHRmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmNhbXBhaWduU3RhdGVzKSB7XHJcblx0XHRcdGlmICh0aGlzLmNhbXBhaWduU3RhdGVzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRjb25zdCBzdGF0ZTogQ2FtcGFpZ25TdGF0ZSA9IHRoaXMuY2FtcGFpZ25TdGF0ZXNba2V5XTtcclxuXHRcdFx0XHRpZiAoIXN0YXRlLklzQ2FuZGlkYXRlKSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIFRoaXMgaXMgYSByZXF1aXJlbWVudCBiZWNhdXNlIHdlIGtlZXAgc29tZSBvdGhlcndpc2UgXCJzdGFsZVwiIGNhbXBhaWducyBhcm91bmQgZm9yIHRoZSBzYXZlIHJvdXRpbmVcclxuXHRcdFx0XHRjb25zdCBkZWZpbml0aW9uOiBDYW1wYWlnbkRlZmluaXRpb24gPSB0aGlzLmNhbXBhaWduRGVmaW5pdGlvbnNbc3RhdGUuQ2FtcGFpZ25JZF07XHJcblx0XHRcdFx0aWYgKCFkZWZpbml0aW9uKSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGNvbnN0IHN1cnZleTogSVN1cnZleSA9IENhbXBhaWduU3VydmV5RmFjdG9yeS5tYWtlU3VydmV5KCBzdGF0ZSwgZGVmaW5pdGlvbi5nb3Zlcm5lZENoYW5uZWxUeXBlLCBkZWZpbml0aW9uLnN1cnZleVRlbXBsYXRlLFxyXG5cdFx0XHRcdFx0dGhpcy5zdHJpbmdQcm92aWRlciwgZGVmaW5pdGlvbi5hZGRpdGlvbmFsRGF0YVJlcXVlc3RlZCwgZGVmaW5pdGlvbi5sYXVuY2hlclR5cGUpO1xyXG5cdFx0XHRcdGlmICghc3VydmV5KSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHN1cnZleXNbc3VydmV5LmdldFN1cnZleUluZm8oKS5nZXRJZCgpXSA9IHN1cnZleTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBzdXJ2ZXlzO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIG9uQ2FtcGFpZ25TdXJ2ZXlBY3RpdmF0ZWQoY2FtcGFpZ25JZDogc3RyaW5nLCB0YWtlbkRhdGU6IERhdGUpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHN0YXRlOiBDYW1wYWlnblN0YXRlID0gdGhpcy5jYW1wYWlnblN0YXRlc1tjYW1wYWlnbklkXTtcclxuXHRcdGlmICghc3RhdGUpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRha2VuRGF0ZSA9IHRha2VuRGF0ZSA/IHRha2VuRGF0ZSA6IG5ldyBEYXRlKCk7XHJcblxyXG5cdFx0c3RhdGUubWFya0N1cnJlbnRTdXJ2ZXlUYWtlbk9uRGF0ZSh0YWtlbkRhdGUsIHRoaXMuY2FtcGFpZ25EZWZpbml0aW9uc1tjYW1wYWlnbklkXS5ub21pbmF0aW9uU2NoZW1lLmNvb2xkb3duUGVyaW9kLmFzVGltZUludGVydmFsU2Vjb25kcygpKTtcclxuXHJcblx0XHR0aGlzLnNhdmVDdXJyZW50U3RhdGUoKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRDYW1wYWlnblN0YXRlcygpOiBJRGljdGlvbmFyeTxDYW1wYWlnblN0YXRlPiB7XHJcblx0XHRyZXR1cm4gdGhpcy5jYW1wYWlnblN0YXRlcztcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRDYW1wYWlnbkRlZmluaXRpb25zKCk6IElEaWN0aW9uYXJ5PENhbXBhaWduRGVmaW5pdGlvbj4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuY2FtcGFpZ25EZWZpbml0aW9ucztcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRVc2VyRmFjdHMoKTogSVVzZXJGYWN0W10ge1xyXG5cdFx0cmV0dXJuIHRoaXMudXNlckZhY3RzO1xyXG5cdH1cclxuXHJcblx0Ly8gcmVnaW9uIElTdXJ2ZXlDbGllbnQgbWV0aG9kc1xyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgb25TdXJ2ZXlBY3RpdmF0ZWQoc3VydmV5SW5mbzogSVN1cnZleUluZm8pOiB2b2lkIHtcclxuXHRcdGlmICghc3VydmV5SW5mbykge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5vbkNhbXBhaWduU3VydmV5QWN0aXZhdGVkKHN1cnZleUluZm8uZ2V0QmFja0VuZElkKCksIG5ldyBEYXRlKCkpO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIHJlZnJlc2hTdXJ2ZXlEZWZpbml0aW9ucyhjaGFubmVsVHlwZXM/OiBHb3Zlcm5lZENoYW5uZWxUeXBlW10sIGRhdGU/OiBEYXRlKTogdm9pZCB7XHJcblx0XHR0aGlzLnJlZnJlc2hTdXJ2ZXlEZWZpbml0aW9uc1ByaXZhdGUoY2hhbm5lbFR5cGVzLCAoZGF0ZSA/IGRhdGUgOiBuZXcgRGF0ZSgpKSk7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgcmVmcmVzaFN1cnZleURlZmluaXRpb25zQXN5bmMoY2hhbm5lbFR5cGVzPzogR292ZXJuZWRDaGFubmVsVHlwZVtdLCBkYXRlPzogRGF0ZSk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdFx0dGhpcy5yZWZyZXNoU3VydmV5RGVmaW5pdGlvbnNQcml2YXRlQXN5bmMoY2hhbm5lbFR5cGVzLCAoZGF0ZSA/IGRhdGUgOiBuZXcgRGF0ZSgpKSkudGhlbihcclxuXHRcdFx0XHRmdW5jdGlvbiBvbkZ1bGZpbGxlZCgpIHtcclxuXHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHQpLmNhdGNoKFxyXG5cdFx0XHRcdGZ1bmN0aW9uIE9uUmVqZWN0ZWQoZXJyUmVhc29uKSB7XHJcblx0XHRcdFx0XHRyZWplY3QoZXJyUmVhc29uKTtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHQpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0QXBwU3VydmV5cygpOiB7IFtpZDogc3RyaW5nXTogSVN1cnZleSB9IHtcclxuXHRcdHJldHVybiB0aGlzLmdldEFjdGl2ZVN1cnZleXMoKTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBzYXZlQ3VycmVudFN0YXRlKCk6IHZvaWQge1xyXG5cdFx0Ly8gU29ydCBieSBjYW1wYWlnbklkLCBhc2NlbmRpbmcgZm9yIHVuaWZvcm1pdHlcclxuXHRcdGNvbnN0IHN0YXRlczogQ2FtcGFpZ25TdGF0ZVtdID0gVXRpbHMubWFrZUFycmF5RnJvbU9iamVjdFZhbHVlc1NvcnRlZEJ5S2V5U3RyaW5nKHRoaXMuY2FtcGFpZ25TdGF0ZXMpO1xyXG5cclxuXHRcdHRoaXMuc3RhdGVQcm92aWRlci5zYXZlKHN0YXRlcyk7XHJcblx0fVxyXG5cclxuXHQvLyBlbmRyZWdpb25cclxuXHJcblx0cHJpdmF0ZSByZWZyZXNoU3VydmV5RGVmaW5pdGlvbnNQcml2YXRlKGNoYW5uZWxUeXBlczogR292ZXJuZWRDaGFubmVsVHlwZVtdLCBkYXRlOiBEYXRlKTogdm9pZCB7XHJcblx0XHR0aGlzLmNhbXBhaWduU3RhdGVzID0ge307XHJcblx0XHR0aGlzLmNhbXBhaWduRGVmaW5pdGlvbnMgPSB7fTtcclxuXHRcdHRoaXMudXNlckZhY3RzID0gW107XHJcblxyXG5cdFx0dGhpcy5sb2FkQW5kRmlsdGVyQ2FtcGFpZ25EYXRhKGRhdGUsIGNoYW5uZWxUeXBlcyk7XHJcblx0XHR0aGlzLmV2YWx1YXRlQ2FtcGFpZ25zKGRhdGUpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSByZWZyZXNoU3VydmV5RGVmaW5pdGlvbnNQcml2YXRlQXN5bmMoY2hhbm5lbFR5cGVzOiBHb3Zlcm5lZENoYW5uZWxUeXBlW10sIGRhdGU6IERhdGUpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRcdHRoaXMuY2FtcGFpZ25TdGF0ZXMgPSB7fTtcclxuXHRcdHRoaXMuY2FtcGFpZ25EZWZpbml0aW9ucyA9IHt9O1xyXG5cdFx0dGhpcy51c2VyRmFjdHMgPSBbXTtcclxuXHJcblx0XHRjb25zdCB0aGlzQ2FtcGFpZ25NYW5hZ2VyID0gdGhpcztcclxuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdHRoaXNDYW1wYWlnbk1hbmFnZXIubG9hZEFuZEZpbHRlckNhbXBhaWduRGF0YUFzeW5jKGRhdGUsIGNoYW5uZWxUeXBlcykudGhlbihcclxuXHRcdFx0XHRmdW5jdGlvbiBvbkZ1bGZpbGxlZCgpIHtcclxuXHRcdFx0XHRcdHRoaXNDYW1wYWlnbk1hbmFnZXIuZXZhbHVhdGVDYW1wYWlnbnMoZGF0ZSk7XHJcblx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0KS5jYXRjaChcclxuXHRcdFx0XHRmdW5jdGlvbiBPblJlamVjdGVkKGVyclJlYXNvbikge1xyXG5cdFx0XHRcdFx0cmVqZWN0KGVyclJlYXNvbik7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9hZCBhbmQgZmlsdGVyIHRoZSBjYW1wYWlnbnMgZGVmaW5pdGlvbnMgYW5kIHN0YXRlc1xyXG5cdCAqL1xyXG5cdHByaXZhdGUgbG9hZEFuZEZpbHRlckNhbXBhaWduRGF0YUFzeW5jKGN1cnJlbnREYXRlOiBEYXRlLCBjaGFubmVsVHlwZXM6IEdvdmVybmVkQ2hhbm5lbFR5cGVbXSk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Y3VycmVudERhdGUgPSBjdXJyZW50RGF0ZSA/IGN1cnJlbnREYXRlIDogbmV3IERhdGUoKTtcclxuXHRcdGxldCBsb2FkZWREZWZpbml0aW9uczogQ2FtcGFpZ25EZWZpbml0aW9uW10gPSBbXTtcclxuXHRcdGNvbnN0IHByb21pc2VzID0gW107XHJcblxyXG5cdFx0Y29uc3QgdXNlckZhY3RzUHJvbWlzZSA9IHRoaXMudXNlckZhY3RzUHJvdmlkZXIgJiYgdGhpcy51c2VyRmFjdHNQcm92aWRlci5sb2FkQXN5bmMoKSBhcyBQcm9taXNlPElVc2VyRmFjdFtdPjtcclxuXHJcblx0XHRmb3IgKGNvbnN0IGkgb2YgT2JqZWN0LmtleXModGhpcy5kZWZpbml0aW9uUHJvdmlkZXJzKSkge1xyXG5cdFx0XHRjb25zdCBwcm92aWRlciA9IHRoaXMuZGVmaW5pdGlvblByb3ZpZGVyc1tpXTtcclxuXHRcdFx0bGV0IHByb21pc2U6IGFueSA9IHByb3ZpZGVyICYmIHByb3ZpZGVyLmxvYWRBc3luYygpO1xyXG5cdFx0XHRpZiAoIWlzTk9VKHByb21pc2UpKSB7XHJcblx0XHRcdFx0Ly8gUHJvbWlzZS5hbGwgZmFpbHMgZXZlbiBpZiBvbmUgcHJvbWlzZSBmYWlscy5cclxuXHRcdFx0XHQvLyBXZSB3YW50IHRvIGlnbm9yZSB0aGUgcHJvbWlzZSB0aGF0IGZhaWxlZCBhbmQgY29udGludWUgd2l0aCB0aGUgb25lc1xyXG5cdFx0XHRcdC8vIHRob3NlIGFyZSBzdWNjZXNmdWwsIGhlbmNlIG92ZXJyaWRpbmcgdGhlIGNhdGNoIHRvIGFsd2F5cyByZXNvbHZlLlxyXG5cdFx0XHRcdC8vIHJlc3BvbnNpYmlsaXR5IG9mIGxvZ2dpbmcgZmFpbHVyZXMgc2hvdWxkIGJlIHdpdGggdGhlIHByb3ZpZGVyLlxyXG5cdFx0XHRcdHByb21pc2UgPSBwcm9taXNlLmNhdGNoKCgpID0+IHtcclxuXHRcdFx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfQ2FtcGFpZ25Mb2FkX0ZhaWxlZChcIkZhaWxlZCB0byBsb2FkIGZyb20gY2FtcGFpZ24gZGVmaW5pdGlvbiBwcm92aWRlclwiKTtcclxuXHRcdFx0XHRcdFByb21pc2UucmVzb2x2ZSgpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdHByb21pc2VzLnB1c2gocHJvbWlzZSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCB0aGlzQ2FtcGFpZ25NYW5hZ2VyID0gdGhpcztcclxuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKFxyXG5cdFx0XHRcdGZ1bmN0aW9uIG9uRnVsZmlsbGVkKHZhbHVlcykge1xyXG5cdFx0XHRcdFx0Zm9yIChjb25zdCBpIG9mIE9iamVjdC5rZXlzKHZhbHVlcykpIHtcclxuXHRcdFx0XHRcdFx0Y29uc3QgY2FtcGFpZ25EZWZpbml0aW9ucyA9IHZhbHVlc1tpXTtcclxuXHRcdFx0XHRcdFx0aWYgKGlzQXJyYXkoY2FtcGFpZ25EZWZpbml0aW9ucykpIHtcclxuXHRcdFx0XHRcdFx0XHQvLyBJZiB0aGVyZSBhcmUgY2FtcGFpZ24gZGVmaW50aW9ucyB3aXRoIGR1cGxpY2F0ZSBjYW1wYWlnbiBJZCdzXHJcblx0XHRcdFx0XHRcdFx0Ly8gRmxvb2RnYXRlIHdpbGwgbG9hZCB0aGUgbGFzdCBvbmUgaXQgZm91bmQuIEZpbHRlckNhbXBhaWduRGF0YSBkb2VzIHRoaXMgZmlsdGVyYXRpb25cclxuXHRcdFx0XHRcdFx0XHRsb2FkZWREZWZpbml0aW9ucyA9IGxvYWRlZERlZmluaXRpb25zLmNvbmNhdChjYW1wYWlnbkRlZmluaXRpb25zKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGNvbnN0IHNldFVzZXJGYWN0cyA9ICh1c2VyRmFjdHM/OiBJVXNlckZhY3RbXSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzQ2FtcGFpZ25NYW5hZ2VyLnVzZXJGYWN0cyA9IHVzZXJGYWN0cyB8fCBbXTtcclxuXHRcdFx0XHRcdFx0dGhpc0NhbXBhaWduTWFuYWdlci5GaWx0ZXJDYW1wYWlnbkRhdGEoY3VycmVudERhdGUsIGNoYW5uZWxUeXBlcywgbG9hZGVkRGVmaW5pdGlvbnMpO1xyXG5cdFx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRcdC8vIEJlZm9yZSBmaWx0ZXJpbmcgYW5kIGV2YWx1YXRpbmcgdGhlIGNhbXBhaWduIGRlZmluaXRpb25zLFxyXG5cdFx0XHRcdFx0Ly8gd2FpdCB1bnRpbCB0aGUgdXNlciBmYWN0cyBhcmUgbG9hZGVkIGFzIHRoZXkgd2lsbCBiZSB1c2VkIGluIGV2YWx1YXRpbmcgY2FtcGFpZ24gc2NvcGVzXHJcblx0XHRcdFx0XHRpZiAoIWlzTk9VKHVzZXJGYWN0c1Byb21pc2UpKSB7XHJcblx0XHRcdFx0XHRcdHVzZXJGYWN0c1Byb21pc2UudGhlbigodXNlckZhY3RzOiBJVXNlckZhY3RbXSkgPT4ge1xyXG5cdFx0XHRcdFx0XHRcdHNldFVzZXJGYWN0cyh1c2VyRmFjdHMpO1xyXG5cdFx0XHRcdFx0XHR9KS5jYXRjaCgoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gdGhpcyBzaG91bGQgbmV2ZXIgaGFwcGVuIGFzIHVzZXIgZmFjdHMgcHJvbWlzZSB3aWxsIGFsd2F5cyBiZSByZXNvbHZlZCBieSB0aGUgdXNlciBmYWN0cyBwcm92aWRlclxyXG5cdFx0XHRcdFx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXJyb3IoVGVsZW1ldHJ5RXZlbnQuRmxvb2RnYXRlLlVzZXJGYWN0c0xvYWQuRmFpbGVkLCBcIkZhaWxlZCB0byBsb2FkIGZyb20gdXNlciBmYWN0cyBwcm92aWRlclwiKTtcclxuXHRcdFx0XHRcdFx0XHRzZXRVc2VyRmFjdHMoKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRzZXRVc2VyRmFjdHMoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9LFxyXG5cdFx0XHQpLmNhdGNoKFxyXG5cdFx0XHRcdGZ1bmN0aW9uIE9uUmVqZWN0ZWQoZXJyb3IpIHtcclxuXHRcdFx0XHRcdC8vIHRoaXMgc2hvdWxkIG5ldmVyIGhhcHBlbiBhcyBQcm9taXNlLmFsbCB3aWxsIGFsd2F5cyBiZSByZXNvbHZlZFxyXG5cdFx0XHRcdFx0Ly8gYmVjYXVzZSBvZiBoYWNrIGF0IHRoZSB0b3Agb2YgdGhlIGZ1bmN0aW9uLlxyXG5cdFx0XHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19DYW1wYWlnbkxvYWRfRmFpbGVkKFwiRmFpbGVkIHRvIGxvYWQgZnJvbSBjYW1wYWlnbiBkZWZpbml0aW9uIHByb3ZpZGVyXCIpO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgbG9hZEFuZEZpbHRlckNhbXBhaWduRGF0YShjdXJyZW50RGF0ZTogRGF0ZSwgY2hhbm5lbFR5cGVzOiBHb3Zlcm5lZENoYW5uZWxUeXBlW10pOiB2b2lkIHtcclxuXHRcdGN1cnJlbnREYXRlID0gY3VycmVudERhdGUgPyBjdXJyZW50RGF0ZSA6IG5ldyBEYXRlKCk7XHJcblx0XHRsZXQgbG9hZGVkRGVmaW5pdGlvbnM6IENhbXBhaWduRGVmaW5pdGlvbltdID0gW107XHJcblxyXG5cdFx0Zm9yIChjb25zdCBpbmRleCBvZiBPYmplY3Qua2V5cyh0aGlzLmRlZmluaXRpb25Qcm92aWRlcnMpKSB7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0Y29uc3QgZGVmaW5pdGlvbnMgPSB0aGlzLmRlZmluaXRpb25Qcm92aWRlcnNbaW5kZXhdICYmIHRoaXMuZGVmaW5pdGlvblByb3ZpZGVyc1tpbmRleF0ubG9hZCgpO1xyXG5cdFx0XHRcdGlmIChpc0FycmF5KGRlZmluaXRpb25zKSkge1xyXG5cdFx0XHRcdFx0Ly8gSWYgdGhlcmUgYXJlIGNhbXBhaWduIGRlZmludGlvbnMgd2l0aCBkdXBsaWNhdGUgY2FtcGFpZ24gSWQnc1xyXG5cdFx0XHRcdFx0Ly8gRmxvb2RnYXRlIHdpbGwgbG9hZCB0aGUgbGFzdCBvbmUgaXQgZm91bmQuIEZpbHRlckNhbXBhaWduRGF0YSBkb2VzIHRoaXMgZmlsdGVyYXRpb25cclxuXHRcdFx0XHRcdGxvYWRlZERlZmluaXRpb25zID0gbG9hZGVkRGVmaW5pdGlvbnMuY29uY2F0KGRlZmluaXRpb25zKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRcdFx0Ly8gTG9nIGVycm9yLCBidXQgY29udGludWUgd2l0aCBvdGhlciBwcm92aWRlcnNcclxuXHRcdFx0XHQvLyBJdCBzaG91bGQgYmUgdGhlIHJlc3BvbnNpYmlsaXR5IG9mIHByb3ZpZGVyIHRvIGxvZyBkZXRhaWxlZCBlcnJvcnNcclxuXHRcdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0NhbXBhaWduTG9hZF9GYWlsZWQoXCJGYWlsZWQgdG8gbG9hZCBmcm9tIGNhbXBhaWduIGRlZmluaXRpb24gcHJvdmlkZXIuIFwiICsgZXJyb3IudG9TdHJpbmcoKSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBMb2FkIHRoZSB1c2VyIGZhY3RzIGJlZm9yZSBhbGwgdGhlIGNhbXBhaWduIGRlZmluaXRpb25zIGFyZSBldmFsdWF0ZWRcclxuXHRcdHRyeSB7XHJcblx0XHRcdHRoaXMudXNlckZhY3RzID0gKHRoaXMudXNlckZhY3RzUHJvdmlkZXIgJiYgdGhpcy51c2VyRmFjdHNQcm92aWRlci5sb2FkKCkpIHx8IFtdO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FcnJvcihcclxuXHRcdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGUuVXNlckZhY3RzTG9hZC5GYWlsZWQsIFwiRmFpbGVkIHRvIGxvYWQgZnJvbSB1c2VyIGZhY3RzIHByb3ZpZGVyLiBcIiArIGVycm9yKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLkZpbHRlckNhbXBhaWduRGF0YShjdXJyZW50RGF0ZSwgY2hhbm5lbFR5cGVzLCBsb2FkZWREZWZpbml0aW9ucyk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBMb2FkIGFuZCBmaWx0ZXIgdGhlIGNhbXBhaWducyBkZWZpbml0aW9ucyBhbmQgc3RhdGVzXHJcblx0ICovXHJcblx0cHJpdmF0ZSBGaWx0ZXJDYW1wYWlnbkRhdGEoY3VycmVudERhdGU6IERhdGUsIGNoYW5uZWxUeXBlczogR292ZXJuZWRDaGFubmVsVHlwZVtdLCBsb2FkZWREZWZpbml0aW9uczogQ2FtcGFpZ25EZWZpbml0aW9uW10pOiB2b2lkIHtcclxuXHRcdGNvbnN0IGxvYWRlZERlZmluaXRpb25zTWFwOiBJRGljdGlvbmFyeTxDYW1wYWlnbkRlZmluaXRpb24+ID0ge307XHJcblxyXG5cdFx0Ly8gTG9hZCBmaWx0ZXJlZCBjYW1wYWlnbiBkZWZpbml0aW9uc1xyXG5cdFx0Zm9yIChjb25zdCBrZXkgaW4gbG9hZGVkRGVmaW5pdGlvbnMpIHtcclxuXHRcdFx0aWYgKGxvYWRlZERlZmluaXRpb25zLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRjb25zdCBkZWZpbml0aW9uOiBDYW1wYWlnbkRlZmluaXRpb24gPSBsb2FkZWREZWZpbml0aW9uc1trZXldO1xyXG5cclxuXHRcdFx0XHRsb2FkZWREZWZpbml0aW9uc01hcFtkZWZpbml0aW9uLmNhbXBhaWduSWRdID0gZGVmaW5pdGlvbjtcclxuXHJcblx0XHRcdFx0aWYgKGNoYW5uZWxUeXBlcyAmJiAoY2hhbm5lbFR5cGVzLmluZGV4T2YoZGVmaW5pdGlvbi5nb3Zlcm5lZENoYW5uZWxUeXBlKSA8IDApKSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmICghQ2FtcGFpZ25NYW5hZ2VyLmlzQ2FtcGFpZ25JblNjb3BlKGRlZmluaXRpb24sIGN1cnJlbnREYXRlLCB0aGlzLmVudmlyb25tZW50UHJvdmlkZXIsIHRoaXMudXNlckZhY3RzUHJvdmlkZXIpKSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHRoaXMuY2FtcGFpZ25EZWZpbml0aW9uc1tkZWZpbml0aW9uLmNhbXBhaWduSWRdID0gZGVmaW5pdGlvbjtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIExvYWQgY2FtcGFpZ24gc3RhdGUsIGZpbHRlcmluZyBvdXQgdGhlIGV4cGlyZWQgZGVmaW5pdGlvbnNcclxuXHRcdGNvbnN0IGxvYWRlZFN0YXRlczogQ2FtcGFpZ25TdGF0ZVtdID0gdGhpcy5zdGF0ZVByb3ZpZGVyLmxvYWQoKTtcclxuXHRcdGNvbnN0IHN0YWxlTG9hZGVkU3RhdGVzOiBDYW1wYWlnblN0YXRlW10gPSBbXTtcclxuXHJcblx0XHRmb3IgKGNvbnN0IGtleSBpbiBsb2FkZWRTdGF0ZXMpIHtcclxuXHRcdFx0aWYgKGxvYWRlZFN0YXRlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0Y29uc3Qgc3RhdGU6IENhbXBhaWduU3RhdGUgPSBsb2FkZWRTdGF0ZXNba2V5XTtcclxuXHJcblx0XHRcdFx0aWYgKCF0aGlzLmNhbXBhaWduRGVmaW5pdGlvbnMuaGFzT3duUHJvcGVydHkoc3RhdGUuQ2FtcGFpZ25JZCkpIHtcclxuXHRcdFx0XHRcdHN0YWxlTG9hZGVkU3RhdGVzLnB1c2goc3RhdGUpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0dGhpcy5jYW1wYWlnblN0YXRlc1tzdGF0ZS5DYW1wYWlnbklkXSA9IHN0YXRlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0LypcclxuXHRcdCAqIFN0YWxlIFN0YXRlIGRhdGEgY2xlYW51cFxyXG5cdFx0ICogU3RhdGUgbmVlZHMgdG8gYmUgY2xlYW5lZCB1cCB3aGVuOlxyXG5cdFx0ICogMSkgVGhlIGNhbXBhaWduIGhhcyBleHBpcmVkXHJcblx0XHQgKiAyKSBUaGUgY2FtcGFpZ24gaXMgbm8gbG9uZ2VyIHByZXNlbnQgaW4gdGhlIGRlZmluaXRpb25zICh0aGluayBFQ1Mgb3Igb3RoZXIgb3V0YWdlcyBvciB2ZXJ5IG9sZCBleHBpcmF0aW9ucylcclxuXHRcdCAqICAgIEluIHRoaXMgY2FzZSB0aGUgc3RhdGUgc2hvdWxkIHN0aWxsIGJlIGNsZWFuZWQgdXAgb24gaXQncyByZWVsZWN0aW9uIGRhdGVcclxuXHRcdCAqIDMpIFdoZW4gdGhlIHVzZXIgaXMgb3V0IG9mIHNjb3BlIChmb3IgYW4gb3RoZXJ3aXNlIGFjdGl2ZSBjYW1wYWlnbikgYW5kIGlzIHVwIGZvciBub21pbmF0aW9uXHJcblxyXG5cdFx0ICogVGhpcyBvcHRpbWl6ZXMgdGhlIHVzZXIgZXhwZXJpZW5jZSBpbiBjYXNlIHRoZSBjYW1wYWlnbiBwb3BzIHVwIG9yIGdldHMgcmVuZXdlZCB3aGVuIHdlIHdvdWxkIGhhdmUgcHJlZmVycmVkIHRoZSB1c2VyIHJlbWFpbiBpbiBjb29sIGRvd25cclxuXHJcblx0XHQgKiAyJjMgYXJlIGJhc2ljYWxseSB0aGUgc2FtZSwgYW5kIDEgaXMgYSBzcGVjaWFsIGNhc2Ugb3B0aW1pemF0aW9uIG9uIHRvcCBvZiAyJjMgZm9yIGVhcmxpZXIgY2xlYW4gdXBcclxuXHJcblx0XHQgKiBUbyBkbyAyICYgMywgd2UganVzdCBsb29rIGF0IHN0YXRlcyB3aXRoIG5vIG1hdGNoaW5nIGRlZmluaXRpb24gKGFmdGVyIGZpbHRlcmluZyksIGFuZCByZWplY3QgdGhlbSBpZiB0aGV5IGFyZSBwYXN0IHRoZWlyIG5vbWluYXRpb24gcGVyaW9kXHJcblx0XHQgKiBUbyBkbyAxLCB3ZSBqdXN0IG5lZWQgdG8ga2VlcCBhIGxpc3QvaGFzaCBvZiB0aGUgZGVmaW5pdGlvbnMgdGhhdCB3ZSBmaWx0ZXJlZCBvdXQgdGhpcyBsb2FkIGN5Y2xlLCBzcGVjaWZpY2FsbHkgZm9yIGV4cGlyYXRpb24gZGF0ZXMsIGFuZCBieXBhc3NcclxuXHRcdCAqIHRoZSBjb29sIGRvd24gXCJ3YWl0XCIgZm9yIHRoZXNlIHNwZWNpZmljYWxseVxyXG5cclxuXHRcdCAqIEZvciBub3csIGFsbG93aW5nIHNvbWUgXCJncmFjZVwiIGZvciBcIm1pc3NpbmdcIi9cImJsaXBweVwiIGNhbXBhaWduIGRlZmluaXRpb25zIChpbiBjYXNlIHRoZXkgcG9wIGluIGFuZCBvdXQgb2YgRUNTKSBieSBkZWZlcnJpbmcgbWlzc2luZ1xyXG5cdFx0ICogZGVsZXRpb24gYnkgYSBkZWxheS10aW1lIHNwZWNpZmllZCBieSB0aGUgb3JpZ2luYWwgY2FtcGFpZ24uXHJcblx0XHQgKi9cclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHN0YWxlTG9hZGVkU3RhdGVzKSB7XHJcblx0XHRcdGlmIChzdGFsZUxvYWRlZFN0YXRlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0Y29uc3Qgc3RhdGU6IENhbXBhaWduU3RhdGUgPSBzdGFsZUxvYWRlZFN0YXRlc1trZXldO1xyXG5cdFx0XHRcdGlmICghc3RhdGUpIHtcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Y29uc3QgZGVmaW5pdGlvbjogQ2FtcGFpZ25EZWZpbml0aW9uID0gbG9hZGVkRGVmaW5pdGlvbnNNYXBbc3RhdGUuQ2FtcGFpZ25JZF07XHJcblx0XHRcdFx0bGV0IHNob3VsZFJlbW92ZSA9IGZhbHNlO1xyXG5cclxuXHRcdFx0XHRpZiAoIWRlZmluaXRpb24pIHtcclxuXHRcdFx0XHRcdGlmIChzdGF0ZS5MYXN0Tm9taW5hdGlvblRpbWVVdGMuZ2V0VGltZSgpIDw9IFV0aWxzLnN1YnRyYWN0U2Vjb25kc1dpdGhvdXRPdmVyZmxvdyhjdXJyZW50RGF0ZSwgc3RhdGUuRGVsZXRlQWZ0ZXJTZWNvbmRzV2hlblN0YWxlKS5nZXRUaW1lKCkpIHtcclxuXHRcdFx0XHRcdFx0c2hvdWxkUmVtb3ZlID0gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2UgaWYgKENhbXBhaWduTWFuYWdlci5pc1N0YXRlVXBGb3JOb21pbmF0aW9uKHN0YXRlLCBkZWZpbml0aW9uLCBjdXJyZW50RGF0ZSwgdGhpcy5jdXJyZW50QnVpbGROdW1iZXIpKSB7XHJcblx0XHRcdFx0XHRzaG91bGRSZW1vdmUgPSB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gVGhlIG5leHQgdGltZSB3ZSB3cml0ZSB0byBzdG9yYWdlLCB0aGVzZSB3aWxsIGJlIHJlbW92ZWRcclxuXHRcdFx0XHRpZiAoc2hvdWxkUmVtb3ZlKSB7XHJcblx0XHRcdFx0XHRkZWxldGUgdGhpcy5jYW1wYWlnblN0YXRlc1tzdGF0ZS5DYW1wYWlnbklkXTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdpdmVuIHRoZSBsb2FkZWQgY2FtcGFpZ24gZGVmaW5pdGlvbnMgYW5kIHN0YXRlcyBmcm9tIHByZXZpb3VzIHNlc3Npb25zLCBydW4gYW55dGhpbmcgdXAgZm9yIG5vbWluYXRpb25cclxuXHQgKi9cclxuXHRwcml2YXRlIGV2YWx1YXRlQ2FtcGFpZ25zKGN1cnJlbnREYXRlOiBEYXRlKTogdm9pZCB7XHJcblx0XHQvLyBMb29wIHRocm91Z2ggY2FtcGFpZ25zIGRlZmluaXRpb25zLCBhbmQgdXBkYXRlIHRoZWlyIHN0YXRlIGlmIG5lY2Vzc2FyeVxyXG5cdFx0Y3VycmVudERhdGUgPSBjdXJyZW50RGF0ZSA/IGN1cnJlbnREYXRlIDogbmV3IERhdGUoKTtcclxuXHJcblx0XHRmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmNhbXBhaWduRGVmaW5pdGlvbnMpIHtcclxuXHRcdFx0aWYgKHRoaXMuY2FtcGFpZ25EZWZpbml0aW9ucy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0Y29uc3QgZGVmaW5pdGlvbjogQ2FtcGFpZ25EZWZpbml0aW9uID0gdGhpcy5jYW1wYWlnbkRlZmluaXRpb25zW2tleV07XHJcblx0XHRcdFx0Y29uc3Qgc3RhdGU6IENhbXBhaWduU3RhdGUgPSB0aGlzLmNhbXBhaWduU3RhdGVzW2RlZmluaXRpb24uY2FtcGFpZ25JZF07XHJcblxyXG5cdFx0XHRcdGlmICghc3RhdGUgfHwgQ2FtcGFpZ25NYW5hZ2VyLmlzU3RhdGVVcEZvck5vbWluYXRpb24oc3RhdGUsIGRlZmluaXRpb24sIGN1cnJlbnREYXRlLCB0aGlzLmN1cnJlbnRCdWlsZE51bWJlcikpIHtcclxuXHRcdFx0XHRcdGxldCBsYXN0U3VydmV5SWQ6IHN0cmluZyA9IHN0YXRlID8gc3RhdGUuTGFzdFN1cnZleUlkIDogXCJcIjtcclxuXHRcdFx0XHRcdGxldCBsYXN0U3VydmV5U3RhcnRUaW1lOiBEYXRlID0gc3RhdGUgPyBzdGF0ZS5MYXN0U3VydmV5U3RhcnRUaW1lVXRjIDogZ2V0RGlzdGFudFBhc3QoKTtcclxuXHRcdFx0XHRcdGxldCBsYXN0U3VydmV5RXhwaXJhdGlvblRpbWU6IERhdGUgPSBzdGF0ZSA/IHN0YXRlLkxhc3RTdXJ2ZXlFeHBpcmF0aW9uVGltZVV0YyA6IGdldERpc3RhbnRQYXN0KCk7XHJcblx0XHRcdFx0XHRjb25zdCBsYXN0U3VydmV5QWN0aXZhdGVkVGltZTogRGF0ZSA9IHN0YXRlID8gc3RhdGUuTGFzdFN1cnZleUFjdGl2YXRlZFRpbWVVdGMgOiBnZXREaXN0YW50UGFzdCgpO1xyXG5cdFx0XHRcdFx0Y29uc3QgbGFzdENvb2xkb3duRW5kVGltZVV0YzogRGF0ZSA9IHN0YXRlID8gc3RhdGUuTGFzdENvb2xkb3duRW5kVGltZVV0YyA6IGdldERpc3RhbnRQYXN0KCk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gUnVuIHRoZSBub21pbmF0aW9uXHJcblx0XHRcdFx0XHRjb25zdCBpc0NhbmRpZGF0ZTogYm9vbGVhbiA9IChzdGF0ZSAmJiBzdGF0ZS5Gb3JjZUNhbmRpZGFjeSkgfHwgZGVmaW5pdGlvbi5ub21pbmF0aW9uU2NoZW1lLmV2YWx1YXRlTm9taW5hdGlvblJ1bGVzKCk7XHJcblx0XHRcdFx0XHRpZiAoaXNDYW5kaWRhdGUpIHtcclxuXHRcdFx0XHRcdFx0Ly8gTWFrZSBuZXcgc3VydmV5IHByb3BlcnRpZXMgZm9yIHRoZSBuZXh0IGNhbGwgdG8gZ2V0IHRoZSBhY3RpdmUgc3VydmV5c1xyXG5cdFx0XHRcdFx0XHRsYXN0U3VydmV5SWQgPSBVdGlscy5ndWlkKCk7XHJcblx0XHRcdFx0XHRcdGxhc3RTdXJ2ZXlTdGFydFRpbWUgPSBkZWZpbml0aW9uLm5vbWluYXRpb25TY2hlbWUuY2FsY3VsYXRlU3VydmV5U3RhcnRUaW1lRnJvbURhdGUoY3VycmVudERhdGUpO1xyXG5cdFx0XHRcdFx0XHRsYXN0U3VydmV5RXhwaXJhdGlvblRpbWUgPSBkZWZpbml0aW9uLm5vbWluYXRpb25TY2hlbWUuY2FsY3VsYXRlU3VydmV5RXhwaXJhdGlvblRpbWVGcm9tU3VydmV5U3RhcnRUaW1lKGxhc3RTdXJ2ZXlTdGFydFRpbWUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGNvbnN0IG5ld1N0YXRlOiBDYW1wYWlnblN0YXRlID0gbmV3IENhbXBhaWduU3RhdGUoXHJcblx0XHRcdFx0XHRcdGRlZmluaXRpb24uY2FtcGFpZ25JZCxcclxuXHRcdFx0XHRcdFx0Y3VycmVudERhdGUsXHJcblx0XHRcdFx0XHRcdHRoaXMuY3VycmVudEJ1aWxkTnVtYmVyLFxyXG5cdFx0XHRcdFx0XHRkZWZpbml0aW9uLm5vbWluYXRpb25TY2hlbWUuZ2V0QWN0aXZlU3VydmV5VGltZUludGVydmFsU2Vjb25kcygpLFxyXG5cdFx0XHRcdFx0XHRmYWxzZSxcclxuXHRcdFx0XHRcdFx0aXNDYW5kaWRhdGUsXHJcblx0XHRcdFx0XHRcdGZhbHNlLFxyXG5cdFx0XHRcdFx0XHRsYXN0U3VydmV5QWN0aXZhdGVkVGltZSxcclxuXHRcdFx0XHRcdFx0bGFzdFN1cnZleUlkLFxyXG5cdFx0XHRcdFx0XHRsYXN0U3VydmV5U3RhcnRUaW1lLFxyXG5cdFx0XHRcdFx0XHRsYXN0U3VydmV5RXhwaXJhdGlvblRpbWUsXHJcblx0XHRcdFx0XHRcdGxhc3RDb29sZG93bkVuZFRpbWVVdGMsXHJcblx0XHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0XHRcdC8vIFNhdmUgdGhlIG5ldyBzdGF0ZSB0byBvdXIgbG9jYWwgY2FjaGVcclxuXHRcdFx0XHRcdHRoaXMuY2FtcGFpZ25TdGF0ZXNbbmV3U3RhdGUuQ2FtcGFpZ25JZF0gPSBuZXdTdGF0ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Campaign/CampaignManager.js\n')},"../FloodgateCore/dist/src/Campaign/CampaignStateProvider.js":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.FileBasedCampaignStateProvider = exports.HostBasedCampaignStateProvider = exports.CampaignStateProviderFactory = exports.CampaignState = void 0;\nvar IFloodgateStorageProvider = __webpack_require__(/*! ../Api/IFloodgateStorageProvider */ "../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js");\nvar Constants_1 = __webpack_require__(/*! ../Constants */ "../FloodgateCore/dist/src/Constants.js");\nvar FloodgateEngine_1 = __webpack_require__(/*! ../FloodgateEngine */ "../FloodgateCore/dist/src/FloodgateEngine.js");\nvar StateProviderHelpers = __webpack_require__(/*! ../StateProviderHelpers */ "../FloodgateCore/dist/src/StateProviderHelpers.js");\nvar Utils = __webpack_require__(/*! ../Utils */ "../FloodgateCore/dist/src/Utils.js");\nvar FileType = IFloodgateStorageProvider.FileType;\nvar getDistantPast = Utils.getDistantPast, isBoolean = Utils.isBoolean, isDate = Utils.isDate, isNOU = Utils.isNOU, isString = Utils.isString, isUtcDatetimeString = Utils.isUtcDatetimeString, stringToDate = Utils.stringToDate;\nvar CampaignState = /** @class */ (function () {\n    function CampaignState(campaignId, lastNominationTime, lastNominationBuildNumber, deleteAfterSecondsWhenStale, ForceCandidacy, isCandidate, didCandidateTriggerSurvey, lastSurveyActivatedTime, lastSurveyId, lastSurveyStartTime, lastSurveyExpirationTime, lastCooldownEndTimeUtc) {\n        this.CampaignId = campaignId;\n        this.LastNominationTimeUtc = lastNominationTime;\n        this.LastNominationBuildNumber = lastNominationBuildNumber;\n        this.DeleteAfterSecondsWhenStale = deleteAfterSecondsWhenStale;\n        this.ForceCandidacy = ForceCandidacy;\n        this.IsCandidate = isCandidate;\n        this.DidCandidateTriggerSurvey = didCandidateTriggerSurvey;\n        this.LastSurveyActivatedTimeUtc = lastSurveyActivatedTime;\n        this.LastSurveyId = lastSurveyId;\n        this.LastSurveyStartTimeUtc = lastSurveyStartTime;\n        this.LastSurveyExpirationTimeUtc = lastSurveyExpirationTime;\n        this.LastCooldownEndTimeUtc = lastCooldownEndTimeUtc;\n        if (!this.validate()) {\n            throw new Error("Constructor arguments are not valid");\n        }\n    }\n    /**\n     * Method to deserialize a JSON object to class object\n     * @param input: JSON object\n     * Returns class object\n     */\n    CampaignState.deserialize = function (input) {\n        var result;\n        if (!input) {\n            return null;\n        }\n        try {\n            result = new CampaignState(input.CampaignId, input.LastNominationTimeUtc, input.LastNominationBuildNumber, input.DeleteAfterSecondsWhenStale, false, // ForceCandidacy\n            input.IsCandidate, input.DidCandidateTriggerSurvey, input.LastSurveyActivatedTimeUtc, input.LastSurveyId, input.LastSurveyStartTimeUtc, input.LastSurveyExpirationTimeUtc, input.LastCooldownEndTimeUtc);\n        }\n        catch (e) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.CampaignState.Deserialize.Failed, { ErrorMessage: e.toString() });\n            return null;\n        }\n        return result;\n    };\n    CampaignState.prototype.validate = function () {\n        if (!this.CampaignId || !isString(this.CampaignId)) {\n            return false;\n        }\n        if (isNOU(this.LastNominationBuildNumber)\n            || !isString(this.LastNominationBuildNumber)) {\n            return false;\n        }\n        if (!Utils.isNumber(this.DeleteAfterSecondsWhenStale) || this.DeleteAfterSecondsWhenStale < 0) {\n            return false;\n        }\n        if (!isBoolean(this.IsCandidate) || !isBoolean(this.DidCandidateTriggerSurvey)) {\n            return false;\n        }\n        if (this.IsCandidate) {\n            // Disallow the following null\'s if isCandidate == true\n            if (isNOU(this.LastSurveyStartTimeUtc) || isNOU(this.LastSurveyExpirationTimeUtc)) {\n                return false;\n            }\n            // LastSurveyId could be ""\n            if (!isString(this.LastSurveyId)) {\n                return false;\n            }\n        }\n        if (this.DidCandidateTriggerSurvey) {\n            // Disallow the following null\'s if didCandidateTriggerSurvey == true\n            if (isNOU(this.LastSurveyActivatedTimeUtc)) {\n                return false;\n            }\n        }\n        if (isNOU(this.LastSurveyId)) {\n            this.LastSurveyId = "";\n        }\n        else if (!isString(this.LastSurveyId)) {\n            return false;\n        }\n        // LastNominationTime does not allow null\n        if (isUtcDatetimeString(this.LastNominationTimeUtc)) {\n            this.LastNominationTimeUtc = stringToDate(this.LastNominationTimeUtc);\n            // invalidate if it\'s not a Date object\n        }\n        else if (!isDate(this.LastNominationTimeUtc)) {\n            return false;\n        }\n        // Set value to distance past if value not provided\n        if (isNOU(this.LastSurveyActivatedTimeUtc)) {\n            this.LastSurveyActivatedTimeUtc = getDistantPast();\n            // check if it\'s UTC date time string, possibly coming from deserialize method\n        }\n        else if (isUtcDatetimeString(this.LastSurveyActivatedTimeUtc)) {\n            this.LastSurveyActivatedTimeUtc = stringToDate(this.LastSurveyActivatedTimeUtc);\n            // invalidate if it\'s not a Date object\n        }\n        else if (!isDate(this.LastSurveyActivatedTimeUtc)) {\n            return false;\n        }\n        // Set value to distance past if value not provided\n        if (isNOU(this.LastSurveyStartTimeUtc)) {\n            this.LastSurveyStartTimeUtc = getDistantPast();\n            // check if it\'s string, possibly coming from deserialize method\n        }\n        else if (isUtcDatetimeString(this.LastSurveyStartTimeUtc)) {\n            this.LastSurveyStartTimeUtc = stringToDate(this.LastSurveyStartTimeUtc);\n            // invalidate if it\'s not a Date object\n        }\n        else if (!isDate(this.LastSurveyStartTimeUtc)) {\n            return false;\n        }\n        // Set value to distance past if value not provided\n        if (isNOU(this.LastSurveyExpirationTimeUtc)) {\n            this.LastSurveyExpirationTimeUtc = getDistantPast();\n            // check if it\'s string, possibly coming from deserialize method\n        }\n        else if (isUtcDatetimeString(this.LastSurveyExpirationTimeUtc)) {\n            this.LastSurveyExpirationTimeUtc = stringToDate(this.LastSurveyExpirationTimeUtc);\n        }\n        else if (!isDate(this.LastSurveyExpirationTimeUtc)) {\n            return false;\n        }\n        // Set value to distance past if value not provided\n        if (isNOU(this.LastCooldownEndTimeUtc)) {\n            this.LastCooldownEndTimeUtc = getDistantPast();\n            // check if it\'s string, possibly coming from deserialize method\n        }\n        else if (isUtcDatetimeString(this.LastCooldownEndTimeUtc)) {\n            this.LastCooldownEndTimeUtc = stringToDate(this.LastCooldownEndTimeUtc);\n        }\n        else if (!isDate(this.LastCooldownEndTimeUtc)) {\n            return false;\n        }\n        return true;\n    };\n    /**\n     * Record that the current survey was taken on this date\n     *\n     * @param date date\n     * @param cooldownSeconds number\n     */\n    CampaignState.prototype.markCurrentSurveyTakenOnDate = function (date, cooldownSeconds) {\n        this.DidCandidateTriggerSurvey = true;\n        this.LastSurveyActivatedTimeUtc = date != null ? date : new Date();\n        this.LastCooldownEndTimeUtc = Utils.addSecondsWithoutOverflow(this.LastSurveyActivatedTimeUtc, cooldownSeconds);\n    };\n    CampaignState.prototype.getCooldownStartDate = function () {\n        if (!this.IsCandidate) {\n            return this.LastNominationTimeUtc;\n        }\n        if (this.DidCandidateTriggerSurvey) {\n            return this.LastSurveyActivatedTimeUtc;\n        }\n        // In practice this wil be equal to lastNominationTime, but\n        // distribution models like a ramp effectively cause us to\n        // shift our "effective nomination date" forward with the survey start date\n        return this.LastSurveyStartTimeUtc;\n    };\n    return CampaignState;\n}());\nexports.CampaignState = CampaignState;\nvar CampaignStateProviderFactory = /** @class */ (function () {\n    function CampaignStateProviderFactory() {\n    }\n    CampaignStateProviderFactory.make = function (fileBasedStorage, hostBasedStorage) {\n        if (hostBasedStorage) {\n            return new HostBasedCampaignStateProvider(fileBasedStorage, hostBasedStorage);\n        }\n        return new FileBasedCampaignStateProvider(fileBasedStorage);\n    };\n    return CampaignStateProviderFactory;\n}());\nexports.CampaignStateProviderFactory = CampaignStateProviderFactory;\n/**\n * Class representing what is stored in the file.\n */\nvar FileData = /** @class */ (function () {\n    function FileData() {\n    }\n    return FileData;\n}());\nvar HostBasedCampaignStateProvider = /** @class */ (function () {\n    function HostBasedCampaignStateProvider(fileBasedStorage, hostBasedStorage) {\n        if (!hostBasedStorage) {\n            throw new Error("host-based storage must not be null");\n        }\n        this.hostBasedStorage = hostBasedStorage;\n        // file-based provider is optional\n        if (fileBasedStorage) {\n            this.fileBasedStateProvider = new FileBasedCampaignStateProvider(fileBasedStorage);\n        }\n    }\n    // @Override\n    HostBasedCampaignStateProvider.prototype.load = function () {\n        var statesFromHost = this.getStatesFromHost();\n        var statesFromFile;\n        if (this.fileBasedStateProvider) {\n            statesFromFile = this.fileBasedStateProvider.load();\n        }\n        var StateCollections = StateProviderHelpers.MergeAndUpdateCampaignStates(statesFromFile, statesFromHost);\n        return StateCollections.find(0 /* Merged */);\n    };\n    // @Override\n    HostBasedCampaignStateProvider.prototype.save = function (campaignStates) {\n        var _this = this;\n        if (!campaignStates) {\n            return;\n        }\n        var statesFromHost = this.getStatesFromHost();\n        var StateCollections = StateProviderHelpers.MergeAndUpdateCampaignStates(campaignStates, statesFromHost);\n        var toBeUpdatedStates = StateCollections.find(1 /* ToBeUpdated */);\n        var mergedStates = StateCollections.find(0 /* Merged */);\n        // write delta_data to host\n        if (toBeUpdatedStates) {\n            toBeUpdatedStates.forEach(function (state) {\n                var stateValue = StateProviderHelpers.makeSettingItemValue(JSON.stringify(state));\n                _this.hostBasedStorage.upsertSettingItem(FileType[FileType.CampaignStates], state.CampaignId, stateValue);\n            });\n        }\n        // Write merged data to File\n        if (this.fileBasedStateProvider) {\n            this.fileBasedStateProvider.save(mergedStates);\n        }\n    };\n    HostBasedCampaignStateProvider.prototype.getStatesFromHost = function () {\n        var states = [];\n        var settings = this.hostBasedStorage.readSettingList(FileType[FileType.CampaignStates]);\n        for (var key in settings) {\n            if (!settings.hasOwnProperty(key)) {\n                continue;\n            }\n            var value = settings[key];\n            var dataString = StateProviderHelpers.extractSettingItemValueSubString(value);\n            var itemObject = {};\n            try {\n                itemObject = JSON.parse(dataString);\n                var newState = CampaignState.deserialize(itemObject);\n                if (newState) {\n                    states.push(newState);\n                }\n            }\n            catch (e) {\n                FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.HostBasedCampaignStateProvider.GetStatesFromHost.Failed, { ErrorMessage: "Json parsing/deserializing failed. " + e.toString() + ".  Input:" + dataString });\n            }\n        }\n        return states;\n    };\n    return HostBasedCampaignStateProvider;\n}());\nexports.HostBasedCampaignStateProvider = HostBasedCampaignStateProvider;\nvar FileBasedCampaignStateProvider = /** @class */ (function () {\n    function FileBasedCampaignStateProvider(storage) {\n        if (!storage) {\n            throw new Error("storage must not be null");\n        }\n        this.storage = storage;\n    }\n    // @Override\n    FileBasedCampaignStateProvider.prototype.load = function () {\n        var readString = this.storage.read(FileType.CampaignStates);\n        if (!readString) {\n            return [];\n        }\n        var fileData;\n        try {\n            fileData = JSON.parse(readString);\n            var result_1 = [];\n            if (fileData && fileData.CampaignStates) {\n                fileData.CampaignStates.forEach(function (state) {\n                    var newState = CampaignState.deserialize(state);\n                    if (newState) {\n                        result_1.push(newState);\n                    }\n                });\n            }\n            return result_1;\n        }\n        catch (e) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FileBasedCampaignStateProvider.Load.Failed, { ErrorMessage: "Json parsing/deserializing failed. " + e.toString() + ".  Input:" + readString });\n            return [];\n        }\n    };\n    // @Override\n    FileBasedCampaignStateProvider.prototype.save = function (campaignStates) {\n        if (!campaignStates) {\n            return;\n        }\n        var fileData = new FileData();\n        fileData.CampaignStates = campaignStates;\n        var writeString = JSON.stringify(fileData);\n        this.storage.write(FileType.CampaignStates, writeString);\n    };\n    return FileBasedCampaignStateProvider;\n}());\nexports.FileBasedCampaignStateProvider = FileBasedCampaignStateProvider;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0NhbXBhaWduL0NhbXBhaWduU3RhdGVQcm92aWRlci50cz9iZTAxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUVBLDBKQUE4RTtBQUM5RSxvR0FBOEM7QUFDOUMsc0hBQXFEO0FBQ3JELG1JQUFnRTtBQUNoRSxzRkFBa0M7QUFDbEMsSUFBTyxRQUFRLEdBQUcseUJBQXlCLENBQUMsUUFBUSxDQUFDO0FBRzdDLGtCQUFjLEdBQTRFLEtBQUssZUFBakYsRUFBRSxTQUFTLEdBQWlFLEtBQUssVUFBdEUsRUFBRSxNQUFNLEdBQXlELEtBQUssT0FBOUQsRUFBRSxLQUFLLEdBQWtELEtBQUssTUFBdkQsRUFBRSxRQUFRLEdBQXdDLEtBQUssU0FBN0MsRUFBRSxtQkFBbUIsR0FBbUIsS0FBSyxvQkFBeEIsRUFBRSxZQUFZLEdBQUssS0FBSyxhQUFWLENBQVc7QUFFeEc7SUE0RkMsdUJBQW1CLFVBQWtCLEVBQUUsa0JBQXdCLEVBQUUseUJBQWlDLEVBQUUsMkJBQW1DLEVBQ3RJLGNBQXVCLEVBQUUsV0FBb0IsRUFBRSx5QkFBa0MsRUFBRSx1QkFBNkIsRUFDaEgsWUFBb0IsRUFBRSxtQkFBeUIsRUFBRSx3QkFBOEIsRUFBRSxzQkFBNEI7UUFDN0csSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7UUFDN0IsSUFBSSxDQUFDLHFCQUFxQixHQUFHLGtCQUFrQixDQUFDO1FBQ2hELElBQUksQ0FBQyx5QkFBeUIsR0FBRyx5QkFBeUIsQ0FBQztRQUMzRCxJQUFJLENBQUMsMkJBQTJCLEdBQUcsMkJBQTJCLENBQUM7UUFDL0QsSUFBSSxDQUFDLGNBQWMsR0FBRyxjQUFjLENBQUM7UUFDckMsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7UUFDL0IsSUFBSSxDQUFDLHlCQUF5QixHQUFHLHlCQUF5QixDQUFDO1FBQzNELElBQUksQ0FBQywwQkFBMEIsR0FBRyx1QkFBdUIsQ0FBQztRQUMxRCxJQUFJLENBQUMsWUFBWSxHQUFH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YyxDQUFDLDhCQUE4QixDQUFDLElBQUksQ0FBQyxNQUFNLEVBQ3pELEVBQUUsWUFBWSxFQUFFLHFDQUFxQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsR0FBRyxXQUFXLEdBQUcsVUFBVSxFQUFFLENBQUMsQ0FBQztZQUNwRyxPQUFPLEVBQUUsQ0FBQztTQUNWO0lBQ0YsQ0FBQztJQUVELFlBQVk7SUFDTCw2Q0FBSSxHQUFYLFVBQVksY0FBK0I7UUFDMUMsSUFBSSxDQUFDLGNBQWMsRUFBRTtZQUNwQixPQUFPO1NBQ1A7UUFFRCxJQUFNLFFBQVEsR0FBRyxJQUFJLFFBQVEsRUFBRSxDQUFDO1FBQ2hDLFFBQVEsQ0FBQyxjQUFjLEdBQUcsY0FBYyxDQUFDO1FBQ3pDLElBQU0sV0FBVyxHQUFXLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDckQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLGNBQWMsRUFBRSxXQUFXLENBQUMsQ0FBQztJQUMxRCxDQUFDO0lBQ0YscUNBQUM7QUFBRCxDQUFDO0FBckRZLHdFQUE4QiIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL0NhbXBhaWduL0NhbXBhaWduU3RhdGVQcm92aWRlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElGbG9vZGdhdGVTZXR0aW5nIH0gZnJvbSBcIi4uL0FwaS9JRmxvb2RnYXRlU2V0dGluZ1wiO1xyXG5pbXBvcnQgeyBJRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFjayB9IGZyb20gXCIuLi9BcGkvSUZsb29kZ2F0ZVNldHRpbmdTdG9yYWdlQ2FsbGJhY2tcIjtcclxuaW1wb3J0ICogYXMgSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlciBmcm9tIFwiLi4vQXBpL0lGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXJcIjtcclxuaW1wb3J0IHsgVGVsZW1ldHJ5RXZlbnQgfSBmcm9tIFwiLi4vQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IEZsb29kZ2F0ZUVuZ2luZSB9IGZyb20gXCIuLi9GbG9vZGdhdGVFbmdpbmVcIjtcclxuaW1wb3J0ICogYXMgU3RhdGVQcm92aWRlckhlbHBlcnMgZnJvbSBcIi4uL1N0YXRlUHJvdmlkZXJIZWxwZXJzXCI7XHJcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gXCIuLi9VdGlsc1wiO1xyXG5pbXBvcnQgRmlsZVR5cGUgPSBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLkZpbGVUeXBlO1xyXG5pbXBvcnQgU3RhdGVMaXN0VHlwZSA9IFN0YXRlUHJvdmlkZXJIZWxwZXJzLlN0YXRlTGlzdFR5cGU7XHJcblxyXG5jb25zdCB7IGdldERpc3RhbnRQYXN0LCBpc0Jvb2xlYW4sIGlzRGF0ZSwgaXNOT1UsIGlzU3RyaW5nLCBpc1V0Y0RhdGV0aW1lU3RyaW5nLCBzdHJpbmdUb0RhdGUgfSA9IFV0aWxzO1xyXG5cclxuZXhwb3J0IGNsYXNzIENhbXBhaWduU3RhdGUge1xyXG5cdC8qKlxyXG5cdCAqIE1ldGhvZCB0byBkZXNlcmlhbGl6ZSBhIEpTT04gb2JqZWN0IHRvIGNsYXNzIG9iamVjdFxyXG5cdCAqIEBwYXJhbSBpbnB1dDogSlNPTiBvYmplY3RcclxuXHQgKiBSZXR1cm5zIGNsYXNzIG9iamVjdFxyXG5cdCAqL1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUoaW5wdXQ6IGFueSk6IENhbXBhaWduU3RhdGUge1xyXG5cdFx0bGV0IHJlc3VsdDogQ2FtcGFpZ25TdGF0ZTtcclxuXHJcblx0XHRpZiAoIWlucHV0KSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdHJlc3VsdCA9IG5ldyBDYW1wYWlnblN0YXRlKFxyXG5cdFx0XHRcdGlucHV0LkNhbXBhaWduSWQsXHJcblx0XHRcdFx0aW5wdXQuTGFzdE5vbWluYXRpb25UaW1lVXRjLFxyXG5cdFx0XHRcdGlucHV0Lkxhc3ROb21pbmF0aW9uQnVpbGROdW1iZXIsXHJcblx0XHRcdFx0aW5wdXQuRGVsZXRlQWZ0ZXJTZWNvbmRzV2hlblN0YWxlLFxyXG5cdFx0XHRcdGZhbHNlLCAvLyBGb3JjZUNhbmRpZGFjeVxyXG5cdFx0XHRcdGlucHV0LklzQ2FuZGlkYXRlLFxyXG5cdFx0XHRcdGlucHV0LkRpZENhbmRpZGF0ZVRyaWdnZXJTdXJ2ZXksXHJcblx0XHRcdFx0aW5wdXQuTGFzdFN1cnZleUFjdGl2YXRlZFRpbWVVdGMsXHJcblx0XHRcdFx0aW5wdXQuTGFzdFN1cnZleUlkLFxyXG5cdFx0XHRcdGlucHV0Lkxhc3RTdXJ2ZXlTdGFydFRpbWVVdGMsXHJcblx0XHRcdFx0aW5wdXQuTGFzdFN1cnZleUV4cGlyYXRpb25UaW1lVXRjLFxyXG5cdFx0XHRcdGlucHV0Lkxhc3RDb29sZG93bkVuZFRpbWVVdGMsXHJcblx0XHRcdCk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXZlbnQoVGVsZW1ldHJ5RXZlbnQuQ2FtcGFpZ25TdGF0ZS5EZXNlcmlhbGl6ZS5GYWlsZWQsIHsgRXJyb3JNZXNzYWdlOiBlLnRvU3RyaW5nKCkgfSk7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBUaGUgQ2FtcGFpZ24gdG8gd2hpY2ggdGhpcyBzdGF0ZSBjb3JyZXNwb25kc1xyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIkNhbXBhaWduSWRcIilcclxuXHRwdWJsaWMgQ2FtcGFpZ25JZDogc3RyaW5nO1xyXG5cclxuXHQvLyBUaGUgbGFzdCB0aW1lIHRoZSBjYW5kaWRhY3kgd2FzIGV2YWx1YXRlZFxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIkxhc3ROb21pbmF0aW9uVGltZVV0Y1wiKVxyXG5cdHB1YmxpYyBMYXN0Tm9taW5hdGlvblRpbWVVdGM6IERhdGU7XHJcblxyXG5cdC8vIFRoZSBidWlsZCBudW1iZXIgZnJvbSB0aGUgbGFzdCB0aW1lIHRoZSBjYW5kaWRhY3kgd2FzIGV2YWx1YXRlZFxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIkxhc3ROb21pbmF0aW9uQnVpbGROdW1iZXJcIilcclxuXHRwdWJsaWMgTGFzdE5vbWluYXRpb25CdWlsZE51bWJlcjogc3RyaW5nO1xyXG5cclxuXHQvLyBBbW91bnQgb2YgdGltZSB0byBkZWxheSBjbGVhbnVwIG9mIHRoaXMgc3RhdGUgZnJvbSBzdG9yYWdlLCB3aGVuIGl0J3MgY2FtcGFpZ24gZGVmaW5pdGlvbiBpcyBubyBsb25nZXIgcHJlc2VudFxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIkRlbGV0ZUFmdGVyU2Vjb25kc1doZW5TdGFsZVwiKVxyXG5cdHB1YmxpYyBEZWxldGVBZnRlclNlY29uZHNXaGVuU3RhbGU6IG51bWJlcjtcclxuXHJcblx0Ly8gTWFudWFsIHNldHRpbmcgdGhhdCBjYW4gYmUgdXNlZCB0byBmb3JjZSB0aGlzIGNsaWVudCB0byBiZSBhIGNhbmRpZGF0ZSBmb3IgdGhpcyBjYW1wYWlnbi4gTm90IHBlcnNpc3RlZCB0byB0aGUgZmlsZS5cclxuXHRwdWJsaWMgRm9yY2VDYW5kaWRhY3k6IGJvb2xlYW47XHJcblxyXG5cdC8vIFdoZXRoZXIgb3Igbm90IHRoZSB1c2VyIGlzIGN1cnJlbnRseSBhIGNhbmRpZGF0ZSBvciBhbnRpLWNhbmRpZGF0ZVxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIklzQ2FuZGlkYXRlXCIpXHJcblx0cHVibGljIElzQ2FuZGlkYXRlOiBib29sZWFuO1xyXG5cclxuXHQvLyBXaGV0aGVyIG9yIG5vdCB0aGUgdXNlciB0cmlnZ2VyZWQgYSBzdXJ2ZXkgd2hlbiB0aGV5IGFyZSBhIENhbmRpZGF0ZS5cclxuXHQvLyBJZiBpc0NhbmRpZGF0ZSBpcyBmYWxzZSwgdGhlbiB0aGlzIHZhbHVlIGlzIG1lYW5pbmdsZXNzLlxyXG5cdC8vIElmIGlzQ2FuZGlkYXRlIGlzIHRydWUsIHRoZW4gdGhpcyBpcyB1c2VkIHRvIHBpY2sgYSBkaWZmZXJlbnQgY2FtcGFpZ24gY29vbGRvd24gdGltZVxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIkRpZENhbmRpZGF0ZVRyaWdnZXJTdXJ2ZXlcIilcclxuXHRwdWJsaWMgRGlkQ2FuZGlkYXRlVHJpZ2dlclN1cnZleTogYm9vbGVhbjtcclxuXHJcblx0Ly8gVGhlIGRhdGUgdGhlIGxhc3Qgc3VydmV5IHdhcyBhY3RpdmF0ZWRcclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJMYXN0U3VydmV5QWN0aXZhdGVkVGltZVV0Y1wiKVxyXG5cdHB1YmxpYyBMYXN0U3VydmV5QWN0aXZhdGVkVGltZVV0YzogRGF0ZTtcclxuXHJcblx0Ly8gcmVnaW9uIFByb3BlcnRpZXMgb2YgdGhlIG1vc3QgcmVjZW50bHkgZ2VuZXJhdGVkIHN1cnZleS5cdTAwMTBcclxuXHJcblx0Ly8gV2hlbiBpc0NhbmRpZGF0ZSA9PSB0cnVlIGZvciB0aGUgY3VycmVudCBlbGVjdGlvbiB0aW1lLCB0aGlzIGlzIHVzZWQgdG8gcmVnZW5lcmF0ZSB0aGUgc2FtZSBTdXJ2ZXkgZGVmaW5pdGlvblxyXG5cdC8vIGVhY2ggdGltZSB3ZSBhcmUgaW52b2tlZFxyXG5cdC8vIENvbnNpZGVyOiBQdXR0aW5nIHRoaXMgaW4gaXRzIG93biBzdWJjbGFzc1xyXG5cclxuXHQvLyBUaGUgc3VydmV5SWQgZm9yIHRoZSBtb3N0IHJlY2VudGx5IGdlbmVyYXRlZCBzdXJ2ZXkgaW4gdGhpcyBjYW1wYWlnbiAoY2FuIGRpZmZlciBmcm9tIGNhbXBhaWduSWQsIGFuZCBpc1xyXG5cdC8vIHVzZWQgdG8gZ3VhcmFudGVlIGEgZ2l2ZW4gc3VydmV5IGlzIHNob3duIG9uY2UpXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiTGFzdFN1cnZleUlkXCIpXHJcblx0cHVibGljIExhc3RTdXJ2ZXlJZDogc3RyaW5nO1xyXG5cclxuXHQvLyBUaGUgc3RhcnQgdGltZSBvZiB0aGUgbW9zdCByZWNlbnRseSBnZW5lcmF0ZWQgc3VydmV5XHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiTGFzdFN1cnZleVN0YXJ0VGltZVV0Y1wiKVxyXG5cdHB1YmxpYyBMYXN0U3VydmV5U3RhcnRUaW1lVXRjOiBEYXRlO1xyXG5cclxuXHQvLyBUaGUgZXhwaXJhdGlvbiB0aW1lIG9mIHRoZSBtb3N0IHJlY2VudGx5IGdlbmVyYXRlZCBzdXJ2ZXlcclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJMYXN0U3VydmV5RXhwaXJhdGlvblRpbWVVdGNcIilcclxuXHRwdWJsaWMgTGFzdFN1cnZleUV4cGlyYXRpb25UaW1lVXRjOiBEYXRlO1xyXG5cclxuXHQvLyBUaGUgY29vbGRvd24gZW5kIHRpbWUgb2YgdGhlIG1vc3QgcmVjZW50bHkgZ2VuZXJhdGVkIHN1cnZleVxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIkxhc3RDb29sZG93bkVuZFRpbWVVdGNcIilcclxuXHRwdWJsaWMgTGFzdENvb2xkb3duRW5kVGltZVV0YzogRGF0ZTtcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKGNhbXBhaWduSWQ6IHN0cmluZywgbGFzdE5vbWluYXRpb25UaW1lOiBEYXRlLCBsYXN0Tm9taW5hdGlvbkJ1aWxkTnVtYmVyOiBzdHJpbmcsIGRlbGV0ZUFmdGVyU2Vjb25kc1doZW5TdGFsZTogbnVtYmVyLFxyXG5cdFx0Rm9yY2VDYW5kaWRhY3k6IGJvb2xlYW4sIGlzQ2FuZGlkYXRlOiBib29sZWFuLCBkaWRDYW5kaWRhdGVUcmlnZ2VyU3VydmV5OiBib29sZWFuLCBsYXN0U3VydmV5QWN0aXZhdGVkVGltZTogRGF0ZSxcclxuXHRcdGxhc3RTdXJ2ZXlJZDogc3RyaW5nLCBsYXN0U3VydmV5U3RhcnRUaW1lOiBEYXRlLCBsYXN0U3VydmV5RXhwaXJhdGlvblRpbWU6IERhdGUsIGxhc3RDb29sZG93bkVuZFRpbWVVdGM6IERhdGUpIHtcclxuXHRcdHRoaXMuQ2FtcGFpZ25JZCA9IGNhbXBhaWduSWQ7XHJcblx0XHR0aGlzLkxhc3ROb21pbmF0aW9uVGltZVV0YyA9IGxhc3ROb21pbmF0aW9uVGltZTtcclxuXHRcdHRoaXMuTGFzdE5vbWluYXRpb25CdWlsZE51bWJlciA9IGxhc3ROb21pbmF0aW9uQnVpbGROdW1iZXI7XHJcblx0XHR0aGlzLkRlbGV0ZUFmdGVyU2Vjb25kc1doZW5TdGFsZSA9IGRlbGV0ZUFmdGVyU2Vjb25kc1doZW5TdGFsZTtcclxuXHRcdHRoaXMuRm9yY2VDYW5kaWRhY3kgPSBGb3JjZUNhbmRpZGFjeTtcclxuXHRcdHRoaXMuSXNDYW5kaWRhdGUgPSBpc0NhbmRpZGF0ZTtcclxuXHRcdHRoaXMuRGlkQ2FuZGlkYXRlVHJpZ2dlclN1cnZleSA9IGRpZENhbmRpZGF0ZVRyaWdnZXJTdXJ2ZXk7XHJcblx0XHR0aGlzLkxhc3RTdXJ2ZXlBY3RpdmF0ZWRUaW1lVXRjID0gbGFzdFN1cnZleUFjdGl2YXRlZFRpbWU7XHJcblx0XHR0aGlzLkxhc3RTdXJ2ZXlJZCA9IGxhc3RTdXJ2ZXlJZDtcclxuXHRcdHRoaXMuTGFzdFN1cnZleVN0YXJ0VGltZVV0YyA9IGxhc3RTdXJ2ZXlTdGFydFRpbWU7XHJcblx0XHR0aGlzLkxhc3RTdXJ2ZXlFeHBpcmF0aW9uVGltZVV0YyA9IGxhc3RTdXJ2ZXlFeHBpcmF0aW9uVGltZTtcclxuXHRcdHRoaXMuTGFzdENvb2xkb3duRW5kVGltZVV0YyA9IGxhc3RDb29sZG93bkVuZFRpbWVVdGM7XHJcblxyXG5cdFx0aWYgKCF0aGlzLnZhbGlkYXRlKCkpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiQ29uc3RydWN0b3IgYXJndW1lbnRzIGFyZSBub3QgdmFsaWRcIik7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgdmFsaWRhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIXRoaXMuQ2FtcGFpZ25JZCB8fCAhaXNTdHJpbmcodGhpcy5DYW1wYWlnbklkKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlzTk9VKHRoaXMuTGFzdE5vbWluYXRpb25CdWlsZE51bWJlcilcclxuXHRcdFx0fHwgIWlzU3RyaW5nKHRoaXMuTGFzdE5vbWluYXRpb25CdWlsZE51bWJlcikpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghVXRpbHMuaXNOdW1iZXIodGhpcy5EZWxldGVBZnRlclNlY29uZHNXaGVuU3RhbGUpIHx8IHRoaXMuRGVsZXRlQWZ0ZXJTZWNvbmRzV2hlblN0YWxlIDwgMCkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFpc0Jvb2xlYW4odGhpcy5Jc0NhbmRpZGF0ZSkgfHwgIWlzQm9vbGVhbih0aGlzLkRpZENhbmRpZGF0ZVRyaWdnZXJTdXJ2ZXkpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5Jc0NhbmRpZGF0ZSkge1xyXG5cdFx0XHQvLyBEaXNhbGxvdyB0aGUgZm9sbG93aW5nIG51bGwncyBpZiBpc0NhbmRpZGF0ZSA9PSB0cnVlXHJcblx0XHRcdGlmIChpc05PVSh0aGlzLkxhc3RTdXJ2ZXlTdGFydFRpbWVVdGMpIHx8IGlzTk9VKHRoaXMuTGFzdFN1cnZleUV4cGlyYXRpb25UaW1lVXRjKSkge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gTGFzdFN1cnZleUlkIGNvdWxkIGJlIFwiXCJcclxuXHRcdFx0aWYgKCFpc1N0cmluZyh0aGlzLkxhc3RTdXJ2ZXlJZCkpIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5EaWRDYW5kaWRhdGVUcmlnZ2VyU3VydmV5KSB7XHJcblx0XHRcdC8vIERpc2FsbG93IHRoZSBmb2xsb3dpbmcgbnVsbCdzIGlmIGRpZENhbmRpZGF0ZVRyaWdnZXJTdXJ2ZXkgPT0gdHJ1ZVxyXG5cdFx0XHRpZiAoaXNOT1UodGhpcy5MYXN0U3VydmV5QWN0aXZhdGVkVGltZVV0YykpIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaXNOT1UodGhpcy5MYXN0U3VydmV5SWQpKSB7XHJcblx0XHRcdHRoaXMuTGFzdFN1cnZleUlkID0gXCJcIjtcclxuXHRcdH0gZWxzZSBpZiAoIWlzU3RyaW5nKHRoaXMuTGFzdFN1cnZleUlkKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gTGFzdE5vbWluYXRpb25UaW1lIGRvZXMgbm90IGFsbG93IG51bGxcclxuXHRcdGlmIChpc1V0Y0RhdGV0aW1lU3RyaW5nKHRoaXMuTGFzdE5vbWluYXRpb25UaW1lVXRjKSkge1xyXG5cdFx0XHR0aGlzLkxhc3ROb21pbmF0aW9uVGltZVV0YyA9IHN0cmluZ1RvRGF0ZSh0aGlzLkxhc3ROb21pbmF0aW9uVGltZVV0Yyk7XHJcblx0XHQvLyBpbnZhbGlkYXRlIGlmIGl0J3Mgbm90IGEgRGF0ZSBvYmplY3RcclxuXHRcdH0gZWxzZSBpZiAoIWlzRGF0ZSh0aGlzLkxhc3ROb21pbmF0aW9uVGltZVV0YykpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFNldCB2YWx1ZSB0byBkaXN0YW5jZSBwYXN0IGlmIHZhbHVlIG5vdCBwcm92aWRlZFxyXG5cdFx0aWYgKGlzTk9VKHRoaXMuTGFzdFN1cnZleUFjdGl2YXRlZFRpbWVVdGMpKSB7XHJcblx0XHRcdHRoaXMuTGFzdFN1cnZleUFjdGl2YXRlZFRpbWVVdGMgPSBnZXREaXN0YW50UGFzdCgpO1xyXG5cdFx0Ly8gY2hlY2sgaWYgaXQncyBVVEMgZGF0ZSB0aW1lIHN0cmluZywgcG9zc2libHkgY29taW5nIGZyb20gZGVzZXJpYWxpemUgbWV0aG9kXHJcblx0XHR9IGVsc2UgaWYgKGlzVXRjRGF0ZXRpbWVTdHJpbmcodGhpcy5MYXN0U3VydmV5QWN0aXZhdGVkVGltZVV0YykpIHtcclxuXHRcdFx0dGhpcy5MYXN0U3VydmV5QWN0aXZhdGVkVGltZVV0YyA9IHN0cmluZ1RvRGF0ZSh0aGlzLkxhc3RTdXJ2ZXlBY3RpdmF0ZWRUaW1lVXRjKTtcclxuXHRcdC8vIGludmFsaWRhdGUgaWYgaXQncyBub3QgYSBEYXRlIG9iamVjdFxyXG5cdFx0fSBlbHNlIGlmICghaXNEYXRlKHRoaXMuTGFzdFN1cnZleUFjdGl2YXRlZFRpbWVVdGMpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBTZXQgdmFsdWUgdG8gZGlzdGFuY2UgcGFzdCBpZiB2YWx1ZSBub3QgcHJvdmlkZWRcclxuXHRcdGlmIChpc05PVSh0aGlzLkxhc3RTdXJ2ZXlTdGFydFRpbWVVdGMpKSB7XHJcblx0XHRcdHRoaXMuTGFzdFN1cnZleVN0YXJ0VGltZVV0YyA9IGdldERpc3RhbnRQYXN0KCk7XHJcblx0XHQvLyBjaGVjayBpZiBpdCdzIHN0cmluZywgcG9zc2libHkgY29taW5nIGZyb20gZGVzZXJpYWxpemUgbWV0aG9kXHJcblx0XHR9IGVsc2UgaWYgKGlzVXRjRGF0ZXRpbWVTdHJpbmcodGhpcy5MYXN0U3VydmV5U3RhcnRUaW1lVXRjKSkge1xyXG5cdFx0XHR0aGlzLkxhc3RTdXJ2ZXlTdGFydFRpbWVVdGMgPSBzdHJpbmdUb0RhdGUodGhpcy5MYXN0U3VydmV5U3RhcnRUaW1lVXRjKTtcclxuXHRcdC8vIGludmFsaWRhdGUgaWYgaXQncyBub3QgYSBEYXRlIG9iamVjdFxyXG5cdFx0fSBlbHNlIGlmICghaXNEYXRlKHRoaXMuTGFzdFN1cnZleVN0YXJ0VGltZVV0YykpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFNldCB2YWx1ZSB0byBkaXN0YW5jZSBwYXN0IGlmIHZhbHVlIG5vdCBwcm92aWRlZFxyXG5cdFx0aWYgKGlzTk9VKHRoaXMuTGFzdFN1cnZleUV4cGlyYXRpb25UaW1lVXRjKSkge1xyXG5cdFx0XHR0aGlzLkxhc3RTdXJ2ZXlFeHBpcmF0aW9uVGltZVV0YyA9IGdldERpc3RhbnRQYXN0KCk7XHJcblx0XHQvLyBjaGVjayBpZiBpdCdzIHN0cmluZywgcG9zc2libHkgY29taW5nIGZyb20gZGVzZXJpYWxpemUgbWV0aG9kXHJcblx0XHR9IGVsc2UgaWYgKGlzVXRjRGF0ZXRpbWVTdHJpbmcodGhpcy5MYXN0U3VydmV5RXhwaXJhdGlvblRpbWVVdGMpKSB7XHJcblx0XHRcdHRoaXMuTGFzdFN1cnZleUV4cGlyYXRpb25UaW1lVXRjID0gc3RyaW5nVG9EYXRlKHRoaXMuTGFzdFN1cnZleUV4cGlyYXRpb25UaW1lVXRjKTtcclxuXHRcdH0gZWxzZSBpZiAoIWlzRGF0ZSh0aGlzLkxhc3RTdXJ2ZXlFeHBpcmF0aW9uVGltZVV0YykpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFNldCB2YWx1ZSB0byBkaXN0YW5jZSBwYXN0IGlmIHZhbHVlIG5vdCBwcm92aWRlZFxyXG5cdFx0aWYgKGlzTk9VKHRoaXMuTGFzdENvb2xkb3duRW5kVGltZVV0YykpIHtcclxuXHRcdFx0dGhpcy5MYXN0Q29vbGRvd25FbmRUaW1lVXRjID0gZ2V0RGlzdGFudFBhc3QoKTtcclxuXHRcdC8vIGNoZWNrIGlmIGl0J3Mgc3RyaW5nLCBwb3NzaWJseSBjb21pbmcgZnJvbSBkZXNlcmlhbGl6ZSBtZXRob2RcclxuXHRcdH0gZWxzZSBpZiAoaXNVdGNEYXRldGltZVN0cmluZyh0aGlzLkxhc3RDb29sZG93bkVuZFRpbWVVdGMpKSB7XHJcblx0XHRcdHRoaXMuTGFzdENvb2xkb3duRW5kVGltZVV0YyA9IHN0cmluZ1RvRGF0ZSh0aGlzLkxhc3RDb29sZG93bkVuZFRpbWVVdGMpO1xyXG5cdFx0fSBlbHNlIGlmICghaXNEYXRlKHRoaXMuTGFzdENvb2xkb3duRW5kVGltZVV0YykpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVjb3JkIHRoYXQgdGhlIGN1cnJlbnQgc3VydmV5IHdhcyB0YWtlbiBvbiB0aGlzIGRhdGVcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSBkYXRlIGRhdGVcclxuXHQgKiBAcGFyYW0gY29vbGRvd25TZWNvbmRzIG51bWJlclxyXG5cdCAqL1xyXG5cdHB1YmxpYyBtYXJrQ3VycmVudFN1cnZleVRha2VuT25EYXRlKGRhdGU6IERhdGUsIGNvb2xkb3duU2Vjb25kczogbnVtYmVyKTogdm9pZCB7XHJcblx0XHR0aGlzLkRpZENhbmRpZGF0ZVRyaWdnZXJTdXJ2ZXkgPSB0cnVlO1xyXG5cdFx0dGhpcy5MYXN0U3VydmV5QWN0aXZhdGVkVGltZVV0YyA9IGRhdGUgIT0gbnVsbCA/IGRhdGUgOiBuZXcgRGF0ZSgpO1xyXG5cdFx0dGhpcy5MYXN0Q29vbGRvd25FbmRUaW1lVXRjID0gVXRpbHMuYWRkU2Vjb25kc1dpdGhvdXRPdmVyZmxvdyh0aGlzLkxhc3RTdXJ2ZXlBY3RpdmF0ZWRUaW1lVXRjLCBjb29sZG93blNlY29uZHMpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENvb2xkb3duU3RhcnREYXRlKCk6IERhdGUge1xyXG5cdFx0aWYgKCF0aGlzLklzQ2FuZGlkYXRlKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLkxhc3ROb21pbmF0aW9uVGltZVV0YztcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5EaWRDYW5kaWRhdGVUcmlnZ2VyU3VydmV5KSB7XHJcblx0XHRcdHJldHVybiB0aGlzLkxhc3RTdXJ2ZXlBY3RpdmF0ZWRUaW1lVXRjO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEluIHByYWN0aWNlIHRoaXMgd2lsIGJlIGVxdWFsIHRvIGxhc3ROb21pbmF0aW9uVGltZSwgYnV0XHJcblx0XHQvLyBkaXN0cmlidXRpb24gbW9kZWxzIGxpa2UgYSByYW1wIGVmZmVjdGl2ZWx5IGNhdXNlIHVzIHRvXHJcblx0XHQvLyBzaGlmdCBvdXIgXCJlZmZlY3RpdmUgbm9taW5hdGlvbiBkYXRlXCIgZm9yd2FyZCB3aXRoIHRoZSBzdXJ2ZXkgc3RhcnQgZGF0ZVxyXG5cdFx0cmV0dXJuIHRoaXMuTGFzdFN1cnZleVN0YXJ0VGltZVV0YztcclxuXHR9XHJcblxyXG5cdC8vIGVuZHJlZ2lvblxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElDYW1wYWlnblN0YXRlUHJvdmlkZXIge1xyXG5cdGxvYWQoKTogQ2FtcGFpZ25TdGF0ZVtdO1xyXG5cclxuXHRzYXZlKGNhbXBhaWduU3RhdGVzOiBDYW1wYWlnblN0YXRlW10pOiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FtcGFpZ25TdGF0ZVByb3ZpZGVyRmFjdG9yeSB7XHJcblx0cHVibGljIHN0YXRpYyBtYWtlKGZpbGVCYXNlZFN0b3JhZ2U6IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIsXHJcblx0XHRob3N0QmFzZWRTdG9yYWdlOiBJRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFjayk6IElDYW1wYWlnblN0YXRlUHJvdmlkZXIge1xyXG5cdFx0aWYgKGhvc3RCYXNlZFN0b3JhZ2UpIHtcclxuXHRcdFx0cmV0dXJuIG5ldyBIb3N0QmFzZWRDYW1wYWlnblN0YXRlUHJvdmlkZXIoZmlsZUJhc2VkU3RvcmFnZSwgaG9zdEJhc2VkU3RvcmFnZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG5ldyBGaWxlQmFzZWRDYW1wYWlnblN0YXRlUHJvdmlkZXIoZmlsZUJhc2VkU3RvcmFnZSk7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogQ2xhc3MgcmVwcmVzZW50aW5nIHdoYXQgaXMgc3RvcmVkIGluIHRoZSBmaWxlLlxyXG4gKi9cclxuY2xhc3MgRmlsZURhdGEge1xyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIkNhbXBhaWduU3RhdGVzXCIpXHJcblx0cHVibGljIENhbXBhaWduU3RhdGVzOiBDYW1wYWlnblN0YXRlW107XHJcblxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgSG9zdEJhc2VkQ2FtcGFpZ25TdGF0ZVByb3ZpZGVyIGltcGxlbWVudHMgSUNhbXBhaWduU3RhdGVQcm92aWRlciB7XHJcblx0cHJpdmF0ZSBmaWxlQmFzZWRTdGF0ZVByb3ZpZGVyOiBJQ2FtcGFpZ25TdGF0ZVByb3ZpZGVyO1xyXG5cdHByaXZhdGUgaG9zdEJhc2VkU3RvcmFnZTogSUZsb29kZ2F0ZVNldHRpbmdTdG9yYWdlQ2FsbGJhY2s7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihmaWxlQmFzZWRTdG9yYWdlOiBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLCBob3N0QmFzZWRTdG9yYWdlOiBJRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFjaykge1xyXG5cdFx0aWYgKCFob3N0QmFzZWRTdG9yYWdlKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImhvc3QtYmFzZWQgc3RvcmFnZSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuaG9zdEJhc2VkU3RvcmFnZSA9IGhvc3RCYXNlZFN0b3JhZ2U7XHJcblxyXG5cdFx0Ly8gZmlsZS1iYXNlZCBwcm92aWRlciBpcyBvcHRpb25hbFxyXG5cdFx0aWYgKGZpbGVCYXNlZFN0b3JhZ2UpIHtcclxuXHRcdFx0dGhpcy5maWxlQmFzZWRTdGF0ZVByb3ZpZGVyID0gbmV3IEZpbGVCYXNlZENhbXBhaWduU3RhdGVQcm92aWRlcihmaWxlQmFzZWRTdG9yYWdlKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBsb2FkKCk6IENhbXBhaWduU3RhdGVbXSB7XHJcblx0XHRjb25zdCBzdGF0ZXNGcm9tSG9zdDogQ2FtcGFpZ25TdGF0ZVtdID0gdGhpcy5nZXRTdGF0ZXNGcm9tSG9zdCgpO1xyXG5cclxuXHRcdGxldCBzdGF0ZXNGcm9tRmlsZTogQ2FtcGFpZ25TdGF0ZVtdO1xyXG5cdFx0aWYgKHRoaXMuZmlsZUJhc2VkU3RhdGVQcm92aWRlcikge1xyXG5cdFx0XHRzdGF0ZXNGcm9tRmlsZSA9IHRoaXMuZmlsZUJhc2VkU3RhdGVQcm92aWRlci5sb2FkKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgU3RhdGVDb2xsZWN0aW9ucyA9IFN0YXRlUHJvdmlkZXJIZWxwZXJzLk1lcmdlQW5kVXBkYXRlQ2FtcGFpZ25TdGF0ZXMoc3RhdGVzRnJvbUZpbGUsIHN0YXRlc0Zyb21Ib3N0KTtcclxuXHRcdHJldHVybiBTdGF0ZUNvbGxlY3Rpb25zLmZpbmQoU3RhdGVMaXN0VHlwZS5NZXJnZWQpO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIHNhdmUoY2FtcGFpZ25TdGF0ZXM6IENhbXBhaWduU3RhdGVbXSk6IHZvaWQge1xyXG5cdFx0aWYgKCFjYW1wYWlnblN0YXRlcykge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgc3RhdGVzRnJvbUhvc3Q6IENhbXBhaWduU3RhdGVbXSA9IHRoaXMuZ2V0U3RhdGVzRnJvbUhvc3QoKTtcclxuXHRcdGNvbnN0IFN0YXRlQ29sbGVjdGlvbnMgPSBTdGF0ZVByb3ZpZGVySGVscGVycy5NZXJnZUFuZFVwZGF0ZUNhbXBhaWduU3RhdGVzKGNhbXBhaWduU3RhdGVzLCBzdGF0ZXNGcm9tSG9zdCk7XHJcblx0XHRjb25zdCB0b0JlVXBkYXRlZFN0YXRlczogQ2FtcGFpZ25TdGF0ZVtdID0gU3RhdGVDb2xsZWN0aW9ucy5maW5kKFN0YXRlTGlzdFR5cGUuVG9CZVVwZGF0ZWQpO1xyXG5cdFx0Y29uc3QgbWVyZ2VkU3RhdGVzOiBDYW1wYWlnblN0YXRlW10gPSBTdGF0ZUNvbGxlY3Rpb25zLmZpbmQoU3RhdGVMaXN0VHlwZS5NZXJnZWQpO1xyXG5cclxuXHRcdC8vIHdyaXRlIGRlbHRhX2RhdGEgdG8gaG9zdFxyXG5cdFx0aWYgKHRvQmVVcGRhdGVkU3RhdGVzKSB7XHJcblx0XHRcdHRvQmVVcGRhdGVkU3RhdGVzLmZvckVhY2goKHN0YXRlKSA9PiB7XHJcblx0XHRcdFx0Y29uc3Qgc3RhdGVWYWx1ZTogc3RyaW5nID0gU3RhdGVQcm92aWRlckhlbHBlcnMubWFrZVNldHRpbmdJdGVtVmFsdWUoSlNPTi5zdHJpbmdpZnkoc3RhdGUpKTtcclxuXHRcdFx0XHR0aGlzLmhvc3RCYXNlZFN0b3JhZ2UudXBzZXJ0U2V0dGluZ0l0ZW0oRmlsZVR5cGVbRmlsZVR5cGUuQ2FtcGFpZ25TdGF0ZXNdLCBzdGF0ZS5DYW1wYWlnbklkLCBzdGF0ZVZhbHVlKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gV3JpdGUgbWVyZ2VkIGRhdGEgdG8gRmlsZVxyXG5cdFx0aWYgKHRoaXMuZmlsZUJhc2VkU3RhdGVQcm92aWRlcikge1xyXG5cdFx0XHR0aGlzLmZpbGVCYXNlZFN0YXRlUHJvdmlkZXIuc2F2ZShtZXJnZWRTdGF0ZXMpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXRTdGF0ZXNGcm9tSG9zdCgpOiBDYW1wYWlnblN0YXRlW10ge1xyXG5cdFx0Y29uc3Qgc3RhdGVzOiBDYW1wYWlnblN0YXRlW10gPSBbXTtcclxuXHRcdGNvbnN0IHNldHRpbmdzOiBJRmxvb2RnYXRlU2V0dGluZyA9IHRoaXMuaG9zdEJhc2VkU3RvcmFnZS5yZWFkU2V0dGluZ0xpc3QoRmlsZVR5cGVbRmlsZVR5cGUuQ2FtcGFpZ25TdGF0ZXNdKTtcclxuXHJcblx0XHRmb3IgKGNvbnN0IGtleSBpbiBzZXR0aW5ncykge1xyXG5cdFx0XHRpZiAoIXNldHRpbmdzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgdmFsdWUgPSBzZXR0aW5nc1trZXldO1xyXG5cdFx0XHRjb25zdCBkYXRhU3RyaW5nOiBzdHJpbmcgPSBTdGF0ZVByb3ZpZGVySGVscGVycy5leHRyYWN0U2V0dGluZ0l0ZW1WYWx1ZVN1YlN0cmluZyh2YWx1ZSk7XHJcblxyXG5cdFx0XHRsZXQgaXRlbU9iamVjdDogYW55ID0ge307XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0aXRlbU9iamVjdCA9IEpTT04ucGFyc2UoZGF0YVN0cmluZyk7XHJcblxyXG5cdFx0XHRcdGNvbnN0IG5ld1N0YXRlOiBDYW1wYWlnblN0YXRlID0gQ2FtcGFpZ25TdGF0ZS5kZXNlcmlhbGl6ZShpdGVtT2JqZWN0KTtcclxuXHRcdFx0XHRpZiAobmV3U3RhdGUpIHtcclxuXHRcdFx0XHRcdHN0YXRlcy5wdXNoKG5ld1N0YXRlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFxyXG5cdFx0XHRcdFx0VGVsZW1ldHJ5RXZlbnQuSG9zdEJhc2VkQ2FtcGFpZ25TdGF0ZVByb3ZpZGVyLkdldFN0YXRlc0Zyb21Ib3N0LkZhaWxlZCxcclxuXHRcdFx0XHRcdHsgRXJyb3JNZXNzYWdlOiBcIkpzb24gcGFyc2luZy9kZXNlcmlhbGl6aW5nIGZhaWxlZC4gXCIgKyBlLnRvU3RyaW5nKCkgKyBcIi4gIElucHV0OlwiICsgZGF0YVN0cmluZyB9KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBzdGF0ZXM7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRmlsZUJhc2VkQ2FtcGFpZ25TdGF0ZVByb3ZpZGVyIGltcGxlbWVudHMgSUNhbXBhaWduU3RhdGVQcm92aWRlciB7XHJcblx0cHJpdmF0ZSBzdG9yYWdlOiBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3Ioc3RvcmFnZTogSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlcikge1xyXG5cdFx0aWYgKCFzdG9yYWdlKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcInN0b3JhZ2UgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnN0b3JhZ2UgPSBzdG9yYWdlO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGxvYWQoKTogQ2FtcGFpZ25TdGF0ZVtdIHtcclxuXHRcdGNvbnN0IHJlYWRTdHJpbmc6IHN0cmluZyA9IHRoaXMuc3RvcmFnZS5yZWFkKEZpbGVUeXBlLkNhbXBhaWduU3RhdGVzKTtcclxuXHRcdGlmICghcmVhZFN0cmluZykge1xyXG5cdFx0XHRyZXR1cm4gW107XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IGZpbGVEYXRhOiBGaWxlRGF0YTtcclxuXHRcdHRyeSB7XHJcblx0XHRcdGZpbGVEYXRhID0gSlNPTi5wYXJzZShyZWFkU3RyaW5nKTtcclxuXHJcblx0XHRcdGNvbnN0IHJlc3VsdDogQ2FtcGFpZ25TdGF0ZVtdID0gW107XHJcblx0XHRcdGlmIChmaWxlRGF0YSAmJiBmaWxlRGF0YS5DYW1wYWlnblN0YXRlcykge1xyXG5cdFx0XHRcdGZpbGVEYXRhLkNhbXBhaWduU3RhdGVzLmZvckVhY2goKHN0YXRlKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBuZXdTdGF0ZTogQ2FtcGFpZ25TdGF0ZSA9IENhbXBhaWduU3RhdGUuZGVzZXJpYWxpemUoc3RhdGUpO1xyXG5cclxuXHRcdFx0XHRcdGlmIChuZXdTdGF0ZSkge1xyXG5cdFx0XHRcdFx0XHRyZXN1bHQucHVzaChuZXdTdGF0ZSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiByZXN1bHQ7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXZlbnQoXHJcblx0XHRcdFx0VGVsZW1ldHJ5RXZlbnQuRmlsZUJhc2VkQ2FtcGFpZ25TdGF0ZVByb3ZpZGVyLkxvYWQuRmFpbGVkLFxyXG5cdFx0XHRcdHsgRXJyb3JNZXNzYWdlOiBcIkpzb24gcGFyc2luZy9kZXNlcmlhbGl6aW5nIGZhaWxlZC4gXCIgKyBlLnRvU3RyaW5nKCkgKyBcIi4gIElucHV0OlwiICsgcmVhZFN0cmluZyB9KTtcclxuXHRcdFx0cmV0dXJuIFtdO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIHNhdmUoY2FtcGFpZ25TdGF0ZXM6IENhbXBhaWduU3RhdGVbXSk6IHZvaWQge1xyXG5cdFx0aWYgKCFjYW1wYWlnblN0YXRlcykge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZmlsZURhdGEgPSBuZXcgRmlsZURhdGEoKTtcclxuXHRcdGZpbGVEYXRhLkNhbXBhaWduU3RhdGVzID0gY2FtcGFpZ25TdGF0ZXM7XHJcblx0XHRjb25zdCB3cml0ZVN0cmluZzogc3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoZmlsZURhdGEpO1xyXG5cdFx0dGhpcy5zdG9yYWdlLndyaXRlKEZpbGVUeXBlLkNhbXBhaWduU3RhdGVzLCB3cml0ZVN0cmluZyk7XHJcblx0fVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Campaign/CampaignStateProvider.js\n')},"../FloodgateCore/dist/src/Campaign/CampaignSurveyFactory.js":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.CampaignSurveyFactory = void 0;\nvar ISurvey = __webpack_require__(/*! ../Api/ISurvey */ "../FloodgateCore/dist/src/Api/ISurvey.js");\nvar SurveyEvents_1 = __webpack_require__(/*! ../SurveyEvents */ "../FloodgateCore/dist/src/SurveyEvents.js");\nvar SurveyMetadata_1 = __webpack_require__(/*! ../SurveyMetadata */ "../FloodgateCore/dist/src/SurveyMetadata.js");\nvar FpsSurvey = __webpack_require__(/*! ../Surveys/FpsSurvey */ "../FloodgateCore/dist/src/Surveys/FpsSurvey.js");\nvar GenericMessagingSurfaceSurvey = __webpack_require__(/*! ../Surveys/GenericMessagingSurfaceSurvey */ "../FloodgateCore/dist/src/Surveys/GenericMessagingSurfaceSurvey.js");\nvar InterceptSurvey = __webpack_require__(/*! ../Surveys/InterceptSurvey */ "../FloodgateCore/dist/src/Surveys/InterceptSurvey.js");\nvar NlqsSurvey = __webpack_require__(/*! ../Surveys/NlqsSurvey */ "../FloodgateCore/dist/src/Surveys/NlqsSurvey.js");\nvar NpsSurvey = __webpack_require__(/*! ../Surveys/NpsSurvey */ "../FloodgateCore/dist/src/Surveys/NpsSurvey.js");\nvar SurveyDataSource = __webpack_require__(/*! ../Surveys/SurveyDataSource */ "../FloodgateCore/dist/src/Surveys/SurveyDataSource.js");\nvar Utils = __webpack_require__(/*! ../Utils */ "../FloodgateCore/dist/src/Utils.js");\nvar CampaignDefinitionProvider_1 = __webpack_require__(/*! ./CampaignDefinitionProvider */ "../FloodgateCore/dist/src/Campaign/CampaignDefinitionProvider.js");\nvar dateToShortUtcString = Utils.dateToShortUtcString, isNOU = Utils.isNOU;\n/**\n * Contains methods to take a campaign definition + state and generate an ISurvey\n */\nvar CampaignSurveyFactory = /** @class */ (function () {\n    function CampaignSurveyFactory() {\n    }\n    CampaignSurveyFactory.makeSurvey = function (state, governedChannelType, surveyModel, stringProvider, additionalDataRequested, launcherType) {\n        if (!state || !surveyModel || !stringProvider) {\n            return null;\n        }\n        if (surveyModel instanceof CampaignDefinitionProvider_1.CampaignSurveyTemplateNps5PointStatic) {\n            return NpsSurvey.make5Point(CampaignSurveyFactory.makeSurveyDataSourceData(state, governedChannelType, surveyModel, additionalDataRequested, launcherType), stringProvider);\n        }\n        else if (surveyModel instanceof CampaignDefinitionProvider_1.CampaignSurveyTemplateNps11PointStatic) {\n            return NpsSurvey.make11Point(CampaignSurveyFactory.makeSurveyDataSourceData(state, governedChannelType, surveyModel, additionalDataRequested, launcherType), stringProvider);\n        }\n        else if (surveyModel instanceof CampaignDefinitionProvider_1.CampaignSurveyTemplateFps) {\n            return FpsSurvey.makeFps(CampaignSurveyFactory.makeSurveyDataSourceData(state, governedChannelType, surveyModel, additionalDataRequested, launcherType), stringProvider, surveyModel);\n        }\n        else if (surveyModel instanceof CampaignDefinitionProvider_1.CampaignSurveyTemplateNlqs) {\n            return NlqsSurvey.makeNlqs(CampaignSurveyFactory.makeSurveyDataSourceData(state, governedChannelType, surveyModel, additionalDataRequested, launcherType), stringProvider, surveyModel);\n        }\n        else if (surveyModel instanceof CampaignDefinitionProvider_1.CampaignSurveyTemplateNps) {\n            return NpsSurvey.makeCustom(CampaignSurveyFactory.makeSurveyDataSourceData(state, governedChannelType, surveyModel, additionalDataRequested, launcherType), stringProvider, surveyModel);\n        }\n        else if (surveyModel instanceof CampaignDefinitionProvider_1.CampaignSurveyTemplateGenericMessagingSurface) {\n            return GenericMessagingSurfaceSurvey.makeCustom(CampaignSurveyFactory.makeSurveyDataSourceData(state, governedChannelType, surveyModel, additionalDataRequested, launcherType));\n        }\n        else if (surveyModel instanceof CampaignDefinitionProvider_1.CampaignSurveyTemplateIntercept) {\n            return InterceptSurvey.makeIntercept(CampaignSurveyFactory.makeSurveyDataSourceData(state, governedChannelType, surveyModel, additionalDataRequested, launcherType), stringProvider, surveyModel);\n        }\n        else {\n            return null;\n        }\n    };\n    CampaignSurveyFactory.makeSurveyDataSourceData = function (state, governedChannelType, surveyModel, additionalDataRequested, launcherType) {\n        if (!state || !surveyModel) {\n            return null;\n        }\n        var surveyData = new SurveyDataSource.SurveyDataSourceData();\n        surveyData.activationEvent = CampaignSurveyFactory.makeEvent(state, surveyModel.activationEvent);\n        surveyData.metadata = CampaignSurveyFactory.makeMetadata(surveyModel.metadata);\n        surveyData.id = state.LastSurveyId;\n        surveyData.backEndIdentifier = state.CampaignId;\n        surveyData.expirationTimeUtc = dateToShortUtcString(state.LastSurveyExpirationTimeUtc);\n        surveyData.governedChannelType = governedChannelType;\n        surveyData.startTimeUtc = dateToShortUtcString(state.LastSurveyStartTimeUtc);\n        surveyData.additionalDataRequested = additionalDataRequested || [];\n        surveyData.launcherType = launcherType || ISurvey.LAUNCHER_TYPE_DEFAULT;\n        return surveyData;\n    };\n    CampaignSurveyFactory.makeCountedActivityEventData = function (eventModel) {\n        if (!eventModel) {\n            return null;\n        }\n        var eventData = new SurveyEvents_1.CountedActivityEventData();\n        eventData.activity = eventModel.activity;\n        eventData.count = eventModel.count;\n        eventData.isAggregate = eventModel.isAggregate;\n        return eventData;\n    };\n    CampaignSurveyFactory.makeCountedActivityEvent = function (state, eventModel) {\n        if (!state || !eventModel) {\n            return null;\n        }\n        var eventData = CampaignSurveyFactory.makeCountedActivityEventData(eventModel);\n        if (!eventData) {\n            return null;\n        }\n        return new SurveyEvents_1.CountedActivityEvent(eventData);\n    };\n    CampaignSurveyFactory.makeCountedActivitySequenceEvent = function (state, eventModel) {\n        if (!state || !eventModel) {\n            return null;\n        }\n        var sequenceEventData = new SurveyEvents_1.CountedActivitySequenceEventData();\n        sequenceEventData.sequence = [];\n        for (var _i = 0, _a = eventModel.sequence; _i < _a.length; _i++) {\n            var event_1 = _a[_i];\n            var eventData = CampaignSurveyFactory.makeCountedActivityEventData(event_1);\n            if (!eventData) {\n                return null;\n            }\n            sequenceEventData.sequence.push(eventData);\n        }\n        return new SurveyEvents_1.CountedActivitySequenceEvent(sequenceEventData);\n    };\n    CampaignSurveyFactory.makeEvent = function (state, eventModel) {\n        if (eventModel instanceof CampaignDefinitionProvider_1.CampaignSurveyEventCountedActivity) {\n            return CampaignSurveyFactory.makeCountedActivityEvent(state, eventModel);\n        }\n        else if (eventModel instanceof CampaignDefinitionProvider_1.CampaignSurveyEventCountedActivitySequence) {\n            return CampaignSurveyFactory.makeCountedActivitySequenceEvent(state, eventModel);\n        }\n        else {\n            return null;\n        }\n    };\n    CampaignSurveyFactory.makeMetadata = function (metadataModel) {\n        if (isNOU(metadataModel) || isNOU(metadataModel.contentMetadata)) {\n            return null;\n        }\n        var metadata = new SurveyMetadata_1.Metadata();\n        metadata.contentMetadata = metadataModel.contentMetadata;\n        return new SurveyMetadata_1.SurveyMetadata(metadata);\n    };\n    return CampaignSurveyFactory;\n}());\nexports.CampaignSurveyFactory = CampaignSurveyFactory;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0NhbXBhaWduL0NhbXBhaWduU3VydmV5RmFjdG9yeS50cz8xZGQwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLG9HQUEwQztBQUsxQyw2R0FHeUI7QUFDekIsbUhBQTZEO0FBQzdELGtIQUFrRDtBQUNsRCw4S0FBMEY7QUFDMUYsb0lBQThEO0FBQzlELHFIQUFvRDtBQUNwRCxrSEFBa0Q7QUFDbEQsdUlBQWdFO0FBQ2hFLHNGQUFrQztBQUNsQywrSkFJc0M7QUFHOUIsd0JBQW9CLEdBQVksS0FBSyxxQkFBakIsRUFBRSxLQUFLLEdBQUssS0FBSyxNQUFWLENBQVc7QUFFOUM7O0dBRUc7QUFDSDtJQUFBO0lBMEhBLENBQUM7SUF6SGMsZ0NBQVUsR0FBeEIsVUFBeUIsS0FBb0IsRUFBRSxtQkFBd0MsRUFBRSxXQUFtQyxFQUMzSCxjQUF3QyxFQUFFLHVCQUEwRCxFQUFFLFlBQXFCO1FBQzNILElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxXQUFXLElBQUksQ0FBQyxjQUFjLEVBQUU7WUFDOUMsT0FBTyxJQUFJLENBQUM7U0FDWjtRQUVELElBQUksV0FBVyxZQUFZLGtFQUFxQyxFQUFFO1lBQ2pFLE9BQU8sU0FBUyxDQUFDLFVBQVUsQ0FBQyxxQkFBcUIsQ0FBQyx3QkFBd0IsQ0FDekUsS0FBSyxFQUFFLG1CQUFtQixFQUFFLFdBQVcsRUFBRSx1QkFBdUIsRUFBRSxZQUFZLENBQUMsRUFBRSxjQUFjLENBQUMsQ0FBQztTQUNsRzthQUFNLElBQUksV0FBVyxZQUFZLG1FQUFzQyxFQUFFO1lBQ3pFLE9BQU8sU0FBUyxDQUFDLFdBQVcsQ0FBQyxxQkFBcUIsQ0FBQyx3QkFBd0IsQ0FDMUUsS0FBSyxFQUFFLG1CQUFtQixFQUFFLFdBQVcsRUFBRSx1QkFBdUIsRUFBRSxZQUFZLENBQUMsRUFBRSxjQUFjLENBQUMsQ0FBQztTQUNsRzthQUFNLElBQUksV0FBVyxZQUFZLHNEQUF5QixFQUFFO1lBQzVELE9BQU8sU0FBUyxDQUFD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eEIsVUFBeUIsS0FBb0IsRUFBRSxVQUErQjtRQUM3RSxJQUFJLFVBQVUsWUFBWSwrREFBa0MsRUFBRTtZQUM3RCxPQUFPLHFCQUFxQixDQUFDLHdCQUF3QixDQUFDLEtBQUssRUFBRSxVQUFnRCxDQUFDLENBQUM7U0FDL0c7YUFBTSxJQUFJLFVBQVUsWUFBWSx1RUFBMEMsRUFBRTtZQUM1RSxPQUFPLHFCQUFxQixDQUFDLGdDQUFnQyxDQUFDLEtBQUssRUFBRSxVQUF3RCxDQUFDLENBQUM7U0FDL0g7YUFBTTtZQUNOLE9BQU8sSUFBSSxDQUFDO1NBQ1o7SUFDRixDQUFDO0lBRWMsa0NBQVksR0FBM0IsVUFBNEIsYUFBcUM7UUFDaEUsSUFBSSxLQUFLLENBQUMsYUFBYSxDQUFDLElBQUksS0FBSyxDQUFDLGFBQWEsQ0FBQyxlQUFlLENBQUMsRUFBRTtZQUNqRSxPQUFPLElBQUksQ0FBQztTQUNaO1FBRUQsSUFBTSxRQUFRLEdBQUcsSUFBSSx5QkFBUSxFQUFFLENBQUM7UUFDaEMsUUFBUSxDQUFDLGVBQWUsR0FBRyxhQUFhLENBQUMsZUFBZSxDQUFDO1FBRXpELE9BQU8sSUFBSSwrQkFBYyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFDRiw0QkFBQztBQUFELENBQUM7QUExSFksc0RBQXFCIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvQ2FtcGFpZ24vQ2FtcGFpZ25TdXJ2ZXlGYWN0b3J5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyIGZyb20gXCIuLi9BcGkvSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyXCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXkgZnJvbSBcIi4uL0FwaS9JU3VydmV5XCI7XHJcbmltcG9ydCB7IEdvdmVybmVkQ2hhbm5lbFR5cGUgfSBmcm9tIFwiLi4vR292ZXJuZWRDaGFubmVsXCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXlFdmVudCBmcm9tIFwiLi4vSVN1cnZleUV2ZW50XCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXlJbmZvIGZyb20gXCIuLi9JU3VydmV5SW5mb1wiO1xyXG5pbXBvcnQgeyBJU3VydmV5TWV0YWRhdGEgfSBmcm9tIFwiLi4vSVN1cnZleU1ldGFkYXRhXCI7XHJcbmltcG9ydCB7XHJcblx0Q291bnRlZEFjdGl2aXR5RXZlbnQsIENvdW50ZWRBY3Rpdml0eUV2ZW50RGF0YSwgQ291bnRlZEFjdGl2aXR5U2VxdWVuY2VFdmVudCwgQ291bnRlZEFjdGl2aXR5U2VxdWVuY2VFdmVudERhdGEsXHJcblx0SUNvdW50ZWRBY3Rpdml0eUV2ZW50LCBJQ291bnRlZEFjdGl2aXR5U2VxdWVuY2VFdmVudCxcclxufSBmcm9tIFwiLi4vU3VydmV5RXZlbnRzXCI7XHJcbmltcG9ydCB7IE1ldGFkYXRhLCBTdXJ2ZXlNZXRhZGF0YSB9IGZyb20gXCIuLi9TdXJ2ZXlNZXRhZGF0YVwiO1xyXG5pbXBvcnQgKiBhcyBGcHNTdXJ2ZXkgZnJvbSBcIi4uL1N1cnZleXMvRnBzU3VydmV5XCI7XHJcbmltcG9ydCAqIGFzIEdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlU3VydmV5IGZyb20gXCIuLi9TdXJ2ZXlzL0dlbmVyaWNNZXNzYWdpbmdTdXJmYWNlU3VydmV5XCI7XHJcbmltcG9ydCAqIGFzIEludGVyY2VwdFN1cnZleSBmcm9tIFwiLi4vU3VydmV5cy9JbnRlcmNlcHRTdXJ2ZXlcIjtcclxuaW1wb3J0ICogYXMgTmxxc1N1cnZleSBmcm9tIFwiLi4vU3VydmV5cy9ObHFzU3VydmV5XCI7XHJcbmltcG9ydCAqIGFzIE5wc1N1cnZleSBmcm9tIFwiLi4vU3VydmV5cy9OcHNTdXJ2ZXlcIjtcclxuaW1wb3J0ICogYXMgU3VydmV5RGF0YVNvdXJjZSBmcm9tIFwiLi4vU3VydmV5cy9TdXJ2ZXlEYXRhU291cmNlXCI7XHJcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gXCIuLi9VdGlsc1wiO1xyXG5pbXBvcnQge1xyXG5cdENhbXBhaWduU3VydmV5RXZlbnQsIENhbXBhaWduU3VydmV5RXZlbnRDb3VudGVkQWN0aXZpdHksIENhbXBhaWduU3VydmV5RXZlbnRDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZSwgQ2FtcGFpZ25TdXJ2ZXlNZXRhZGF0YSxcclxuXHRDYW1wYWlnblN1cnZleVRlbXBsYXRlLCBDYW1wYWlnblN1cnZleVRlbXBsYXRlRnBzLCBDYW1wYWlnblN1cnZleVRlbXBsYXRlR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2UsIENhbXBhaWduU3VydmV5VGVtcGxhdGVJbnRlcmNlcHQsXHJcblx0Q2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZU5scXMsIENhbXBhaWduU3VydmV5VGVtcGxhdGVOcHMsIENhbXBhaWduU3VydmV5VGVtcGxhdGVOcHMxMVBvaW50U3RhdGljLCBDYW1wYWlnblN1cnZleVRlbXBsYXRlTnBzNVBvaW50U3RhdGljLFxyXG59IGZyb20gXCIuL0NhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyXCI7XHJcbmltcG9ydCB7IENhbXBhaWduU3RhdGUgfSBmcm9tIFwiLi9DYW1wYWlnblN0YXRlUHJvdmlkZXJcIjtcclxuXHJcbmNvbnN0IHsgZGF0ZVRvU2hvcnRVdGNTdHJpbmcsIGlzTk9VIH0gPSBVdGlscztcclxuXHJcbi8qKlxyXG4gKiBDb250YWlucyBtZXRob2RzIHRvIHRha2UgYSBjYW1wYWlnbiBkZWZpbml0aW9uICsgc3RhdGUgYW5kIGdlbmVyYXRlIGFuIElTdXJ2ZXlcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDYW1wYWlnblN1cnZleUZhY3Rvcnkge1xyXG5cdHB1YmxpYyBzdGF0aWMgbWFrZVN1cnZleShzdGF0ZTogQ2FtcGFpZ25TdGF0ZSwgZ292ZXJuZWRDaGFubmVsVHlwZTogR292ZXJuZWRDaGFubmVsVHlwZSwgc3VydmV5TW9kZWw6IENhbXBhaWduU3VydmV5VGVtcGxhdGUsXHJcblx0XHRzdHJpbmdQcm92aWRlcjogSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLCBhZGRpdGlvbmFsRGF0YVJlcXVlc3RlZD86IElTdXJ2ZXlJbmZvLkFkZGl0aW9uYWxEYXRhVHlwZVtdLCBsYXVuY2hlclR5cGU/OiBzdHJpbmcpOiBJU3VydmV5IHtcclxuXHRcdGlmICghc3RhdGUgfHwgIXN1cnZleU1vZGVsIHx8ICFzdHJpbmdQcm92aWRlcikge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoc3VydmV5TW9kZWwgaW5zdGFuY2VvZiBDYW1wYWlnblN1cnZleVRlbXBsYXRlTnBzNVBvaW50U3RhdGljKSB7XHJcblx0XHRcdHJldHVybiBOcHNTdXJ2ZXkubWFrZTVQb2ludChDYW1wYWlnblN1cnZleUZhY3RvcnkubWFrZVN1cnZleURhdGFTb3VyY2VEYXRhKFxyXG5cdFx0XHRcdHN0YXRlLCBnb3Zlcm5lZENoYW5uZWxUeXBlLCBzdXJ2ZXlNb2RlbCwgYWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQsIGxhdW5jaGVyVHlwZSksIHN0cmluZ1Byb3ZpZGVyKTtcclxuXHRcdH0gZWxzZSBpZiAoc3VydmV5TW9kZWwgaW5zdGFuY2VvZiBDYW1wYWlnblN1cnZleVRlbXBsYXRlTnBzMTFQb2ludFN0YXRpYykge1xyXG5cdFx0XHRyZXR1cm4gTnBzU3VydmV5Lm1ha2UxMVBvaW50KENhbXBhaWduU3VydmV5RmFjdG9yeS5tYWtlU3VydmV5RGF0YVNvdXJjZURhdGEoXHJcblx0XHRcdFx0c3RhdGUsIGdvdmVybmVkQ2hhbm5lbFR5cGUsIHN1cnZleU1vZGVsLCBhZGRpdGlvbmFsRGF0YVJlcXVlc3RlZCwgbGF1bmNoZXJUeXBlKSwgc3RyaW5nUHJvdmlkZXIpO1xyXG5cdFx0fSBlbHNlIGlmIChzdXJ2ZXlNb2RlbCBpbnN0YW5jZW9mIENhbXBhaWduU3VydmV5VGVtcGxhdGVGcHMpIHtcclxuXHRcdFx0cmV0dXJuIEZwc1N1cnZleS5tYWtlRnBzKENhbXBhaWduU3VydmV5RmFjdG9yeS5tYWtlU3VydmV5RGF0YVNvdXJjZURhdGEoXHJcblx0XHRcdFx0c3RhdGUsIGdvdmVybmVkQ2hhbm5lbFR5cGUsIHN1cnZleU1vZGVsLCBhZGRpdGlvbmFsRGF0YVJlcXVlc3RlZCwgbGF1bmNoZXJUeXBlKSwgc3RyaW5nUHJvdmlkZXIsIHN1cnZleU1vZGVsKTtcclxuXHRcdH0gZWxzZSBpZiAoc3VydmV5TW9kZWwgaW5zdGFuY2VvZiBDYW1wYWlnblN1cnZleVRlbXBsYXRlTmxxcykge1xyXG5cdFx0XHRyZXR1cm4gTmxxc1N1cnZleS5tYWtlTmxxcyhDYW1wYWlnblN1cnZleUZhY3RvcnkubWFrZVN1cnZleURhdGFTb3VyY2VEYXRhKFxyXG5cdFx0XHRcdHN0YXRlLCBnb3Zlcm5lZENoYW5uZWxUeXBlLCBzdXJ2ZXlNb2RlbCwgYWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQsIGxhdW5jaGVyVHlwZSksIHN0cmluZ1Byb3ZpZGVyLCBzdXJ2ZXlNb2RlbCk7XHJcblx0XHR9IGVsc2UgaWYgKHN1cnZleU1vZGVsIGluc3RhbmNlb2YgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZU5wcykge1xyXG5cdFx0XHRyZXR1cm4gTnBzU3VydmV5Lm1ha2VDdXN0b20oQ2FtcGFpZ25TdXJ2ZXlGYWN0b3J5Lm1ha2VTdXJ2ZXlEYXRhU291cmNlRGF0YShcclxuXHRcdFx0XHRzdGF0ZSwgZ292ZXJuZWRDaGFubmVsVHlwZSwgc3VydmV5TW9kZWwsIGFkZGl0aW9uYWxEYXRhUmVxdWVzdGVkLCBsYXVuY2hlclR5cGUpLCBzdHJpbmdQcm92aWRlciwgc3VydmV5TW9kZWwpO1xyXG5cdFx0fSBlbHNlIGlmIChzdXJ2ZXlNb2RlbCBpbnN0YW5jZW9mIENhbXBhaWduU3VydmV5VGVtcGxhdGVHZW5lcmljTWVzc2FnaW5nU3VyZmFjZSkge1xyXG5cdFx0XHRyZXR1cm4gR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2VTdXJ2ZXkubWFrZUN1c3RvbShDYW1wYWlnblN1cnZleUZhY3RvcnkubWFrZVN1cnZleURhdGFTb3VyY2VEYXRhKFxyXG5cdFx0XHRcdHN0YXRlLCBnb3Zlcm5lZENoYW5uZWxUeXBlLCBzdXJ2ZXlNb2RlbCwgYWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQsIGxhdW5jaGVyVHlwZSkpO1xyXG5cdFx0fSBlbHNlIGlmIChzdXJ2ZXlNb2RlbCBpbnN0YW5jZW9mIENhbXBhaWduU3VydmV5VGVtcGxhdGVJbnRlcmNlcHQpIHtcclxuXHRcdFx0cmV0dXJuIEludGVyY2VwdFN1cnZleS5tYWtlSW50ZXJjZXB0KENhbXBhaWduU3VydmV5RmFjdG9yeS5tYWtlU3VydmV5RGF0YVNvdXJjZURhdGEoXHJcblx0XHRcdFx0c3RhdGUsIGdvdmVybmVkQ2hhbm5lbFR5cGUsIHN1cnZleU1vZGVsLCBhZGRpdGlvbmFsRGF0YVJlcXVlc3RlZCwgbGF1bmNoZXJUeXBlKSwgc3RyaW5nUHJvdmlkZXIsIHN1cnZleU1vZGVsKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgbWFrZVN1cnZleURhdGFTb3VyY2VEYXRhKHN0YXRlOiBDYW1wYWlnblN0YXRlLCBnb3Zlcm5lZENoYW5uZWxUeXBlOiBHb3Zlcm5lZENoYW5uZWxUeXBlLCBzdXJ2ZXlNb2RlbDogQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZSxcclxuXHRcdGFkZGl0aW9uYWxEYXRhUmVxdWVzdGVkPzogSVN1cnZleUluZm8uQWRkaXRpb25hbERhdGFUeXBlW10sIGxhdW5jaGVyVHlwZT86IHN0cmluZyk6IFN1cnZleURhdGFTb3VyY2UuU3VydmV5RGF0YVNvdXJjZURhdGEge1xyXG5cclxuXHRcdGlmICghc3RhdGUgfHwgIXN1cnZleU1vZGVsKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHN1cnZleURhdGEgPSBuZXcgU3VydmV5RGF0YVNvdXJjZS5TdXJ2ZXlEYXRhU291cmNlRGF0YSgpO1xyXG5cdFx0c3VydmV5RGF0YS5hY3RpdmF0aW9uRXZlbnQgPSBDYW1wYWlnblN1cnZleUZhY3RvcnkubWFrZUV2ZW50KHN0YXRlLCBzdXJ2ZXlNb2RlbC5hY3RpdmF0aW9uRXZlbnQpO1xyXG5cdFx0c3VydmV5RGF0YS5tZXRhZGF0YSA9IENhbXBhaWduU3VydmV5RmFjdG9yeS5tYWtlTWV0YWRhdGEoc3VydmV5TW9kZWwubWV0YWRhdGEpO1xyXG5cdFx0c3VydmV5RGF0YS5pZCA9IHN0YXRlLkxhc3RTdXJ2ZXlJZDtcclxuXHRcdHN1cnZleURhdGEuYmFja0VuZElkZW50aWZpZXIgPSBzdGF0ZS5DYW1wYWlnbklkO1xyXG5cdFx0c3VydmV5RGF0YS5leHBpcmF0aW9uVGltZVV0YyA9IGRhdGVUb1Nob3J0VXRjU3RyaW5nKHN0YXRlLkxhc3RTdXJ2ZXlFeHBpcmF0aW9uVGltZVV0Yyk7XHJcblx0XHRzdXJ2ZXlEYXRhLmdvdmVybmVkQ2hhbm5lbFR5cGUgPSBnb3Zlcm5lZENoYW5uZWxUeXBlO1xyXG5cdFx0c3VydmV5RGF0YS5zdGFydFRpbWVVdGMgPSBkYXRlVG9TaG9ydFV0Y1N0cmluZyhzdGF0ZS5MYXN0U3VydmV5U3RhcnRUaW1lVXRjKTtcclxuXHRcdHN1cnZleURhdGEuYWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQgPSBhZGRpdGlvbmFsRGF0YVJlcXVlc3RlZCAgfHwgW107XHJcblx0XHRzdXJ2ZXlEYXRhLmxhdW5jaGVyVHlwZSA9IGxhdW5jaGVyVHlwZSB8fCBJU3VydmV5LkxBVU5DSEVSX1RZUEVfREVGQVVMVDtcclxuXHJcblx0XHRyZXR1cm4gc3VydmV5RGF0YTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIG1ha2VDb3VudGVkQWN0aXZpdHlFdmVudERhdGEoZXZlbnRNb2RlbDogQ2FtcGFpZ25TdXJ2ZXlFdmVudENvdW50ZWRBY3Rpdml0eSk6IENvdW50ZWRBY3Rpdml0eUV2ZW50RGF0YSB7XHJcblx0XHRpZiAoIWV2ZW50TW9kZWwpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZXZlbnREYXRhID0gbmV3IENvdW50ZWRBY3Rpdml0eUV2ZW50RGF0YSgpO1xyXG5cdFx0ZXZlbnREYXRhLmFjdGl2aXR5ID0gZXZlbnRNb2RlbC5hY3Rpdml0eTtcclxuXHRcdGV2ZW50RGF0YS5jb3VudCA9IGV2ZW50TW9kZWwuY291bnQ7XHJcblx0XHRldmVudERhdGEuaXNBZ2dyZWdhdGUgPSBldmVudE1vZGVsLmlzQWdncmVnYXRlO1xyXG5cclxuXHRcdHJldHVybiBldmVudERhdGE7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBtYWtlQ291bnRlZEFjdGl2aXR5RXZlbnQoc3RhdGU6IENhbXBhaWduU3RhdGUsIGV2ZW50TW9kZWw6IENhbXBhaWduU3VydmV5RXZlbnRDb3VudGVkQWN0aXZpdHkpOiBJQ291bnRlZEFjdGl2aXR5RXZlbnQge1xyXG5cdFx0aWYgKCFzdGF0ZSB8fCAhZXZlbnRNb2RlbCkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBldmVudERhdGE6IENvdW50ZWRBY3Rpdml0eUV2ZW50RGF0YSA9IENhbXBhaWduU3VydmV5RmFjdG9yeS5tYWtlQ291bnRlZEFjdGl2aXR5RXZlbnREYXRhKGV2ZW50TW9kZWwpO1xyXG5cdFx0aWYgKCFldmVudERhdGEpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG5ldyBDb3VudGVkQWN0aXZpdHlFdmVudChldmVudERhdGEpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgbWFrZUNvdW50ZWRBY3Rpdml0eVNlcXVlbmNlRXZlbnQoc3RhdGU6IENhbXBhaWduU3RhdGUsXHJcblx0XHRldmVudE1vZGVsOiBDYW1wYWlnblN1cnZleUV2ZW50Q291bnRlZEFjdGl2aXR5U2VxdWVuY2UpOiBJQ291bnRlZEFjdGl2aXR5U2VxdWVuY2VFdmVudCB7XHJcblxyXG5cdFx0aWYgKCFzdGF0ZSB8fCAhZXZlbnRNb2RlbCkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBzZXF1ZW5jZUV2ZW50RGF0YSA9IG5ldyBDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZUV2ZW50RGF0YSgpO1xyXG5cdFx0c2VxdWVuY2VFdmVudERhdGEuc2VxdWVuY2UgPSBbXTtcclxuXHJcblx0XHRmb3IgKGNvbnN0IGV2ZW50IG9mIGV2ZW50TW9kZWwuc2VxdWVuY2UpIHtcclxuXHRcdFx0Y29uc3QgZXZlbnREYXRhOiBDb3VudGVkQWN0aXZpdHlFdmVudERhdGEgPSBDYW1wYWlnblN1cnZleUZhY3RvcnkubWFrZUNvdW50ZWRBY3Rpdml0eUV2ZW50RGF0YShldmVudCk7XHJcblx0XHRcdGlmICghZXZlbnREYXRhKSB7XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHNlcXVlbmNlRXZlbnREYXRhLnNlcXVlbmNlLnB1c2goZXZlbnREYXRhKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbmV3IENvdW50ZWRBY3Rpdml0eVNlcXVlbmNlRXZlbnQoc2VxdWVuY2VFdmVudERhdGEpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgbWFrZUV2ZW50KHN0YXRlOiBDYW1wYWlnblN0YXRlLCBldmVudE1vZGVsOiBDYW1wYWlnblN1cnZleUV2ZW50KTogSVN1cnZleUV2ZW50IHtcclxuXHRcdGlmIChldmVudE1vZGVsIGluc3RhbmNlb2YgQ2FtcGFpZ25TdXJ2ZXlFdmVudENvdW50ZWRBY3Rpdml0eSkge1xyXG5cdFx0XHRyZXR1cm4gQ2FtcGFpZ25TdXJ2ZXlGYWN0b3J5Lm1ha2VDb3VudGVkQWN0aXZpdHlFdmVudChzdGF0ZSwgZXZlbnRNb2RlbCBhcyBDYW1wYWlnblN1cnZleUV2ZW50Q291bnRlZEFjdGl2aXR5KTtcclxuXHRcdH0gZWxzZSBpZiAoZXZlbnRNb2RlbCBpbnN0YW5jZW9mIENhbXBhaWduU3VydmV5RXZlbnRDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZSkge1xyXG5cdFx0XHRyZXR1cm4gQ2FtcGFpZ25TdXJ2ZXlGYWN0b3J5Lm1ha2VDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZUV2ZW50KHN0YXRlLCBldmVudE1vZGVsIGFzIENhbXBhaWduU3VydmV5RXZlbnRDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIG1ha2VNZXRhZGF0YShtZXRhZGF0YU1vZGVsOiBDYW1wYWlnblN1cnZleU1ldGFkYXRhKTogSVN1cnZleU1ldGFkYXRhIHtcclxuXHRcdGlmIChpc05PVShtZXRhZGF0YU1vZGVsKSB8fCBpc05PVShtZXRhZGF0YU1vZGVsLmNvbnRlbnRNZXRhZGF0YSkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgbWV0YWRhdGEgPSBuZXcgTWV0YWRhdGEoKTtcclxuXHRcdG1ldGFkYXRhLmNvbnRlbnRNZXRhZGF0YSA9IG1ldGFkYXRhTW9kZWwuY29udGVudE1ldGFkYXRhO1xyXG5cclxuXHRcdHJldHVybiBuZXcgU3VydmV5TWV0YWRhdGEobWV0YWRhdGEpO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Campaign/CampaignSurveyFactory.js\n')},"../FloodgateCore/dist/src/Constants.js":function(module,exports,__webpack_require__){"use strict";eval('\n/**\n * Constants.ts\n *\n * A module for all the constants.\n */\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.TelemetryEvent = void 0;\n/**\n * Telemetry events\n */\nvar TelemetryEvent = /** @class */ (function () {\n    function TelemetryEvent() {\n    }\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10;\n    TelemetryEvent.CampaignState = (_a = /** @class */ (function () {\n            function class_1() {\n            }\n            return class_1;\n        }()),\n        _a.Deserialize = (_b = /** @class */ (function () {\n                function class_2() {\n                }\n                return class_2;\n            }()),\n            _b.Failed = "FloodgateCore_CampaignState_Deserialize_Failed",\n            _b),\n        _a);\n    TelemetryEvent.FileBasedCampaignStateProvider = (_c = /** @class */ (function () {\n            function class_3() {\n            }\n            return class_3;\n        }()),\n        _c.Load = (_d = /** @class */ (function () {\n                function class_4() {\n                }\n                return class_4;\n            }()),\n            _d.Failed = "FloodgateCore_FileBasedCampaignStateProvider_Load_Failed",\n            _d),\n        _c);\n    TelemetryEvent.HostBasedCampaignStateProvider = (_e = /** @class */ (function () {\n            function class_5() {\n            }\n            return class_5;\n        }()),\n        _e.GetStatesFromHost = (_f = /** @class */ (function () {\n                function class_6() {\n                }\n                return class_6;\n            }()),\n            _f.Failed = "FloodgateCore_HostBasedCampaignStateProvider_GetStatesFromHost_Failed",\n            _f),\n        _e);\n    TelemetryEvent.Floodgate = (_g = /** @class */ (function () {\n            function class_7() {\n            }\n            return class_7;\n        }()),\n        _g.Initialize = (_h = /** @class */ (function () {\n                function class_8() {\n                }\n                return class_8;\n            }()),\n            _h.Failed = "FloodgateCore_Floodgate_Initialize_Failed",\n            _h),\n        _g.Start = (_j = /** @class */ (function () {\n                function class_9() {\n                }\n                return class_9;\n            }()),\n            _j.Failed = "FloodgateCore_Floodgate_Start_Failed",\n            _j.Warning = "FloodgateCore_Floodgate_Start_Warning",\n            _j.SurveysDisabled = "FloodgateCore_Floodgate_Start_SurveysDisabled",\n            _j),\n        _g.UserFactsLoad = (_k = /** @class */ (function () {\n                function class_10() {\n                }\n                return class_10;\n            }()),\n            _k.Failed = "FloodgateCore_Floodgate_UserFactsLoad_Failed",\n            _k),\n        _g.UserFactsSpecDeserialization = (_l = /** @class */ (function () {\n                function class_11() {\n                }\n                return class_11;\n            }()),\n            _l.Failed = "FloodgateCore_Floodgate_UserFactsSpecDeserialization_Failed",\n            _l),\n        _g.UserFactsSpecIsAMatch = (_m = /** @class */ (function () {\n                function class_12() {\n                }\n                return class_12;\n            }()),\n            _m.Failed = "FloodgateCore_Floodgate_UserFactsSpecIsAMatch_Failed",\n            _m),\n        _g);\n    TelemetryEvent.FloodgateEngine = (_o = /** @class */ (function () {\n            function class_13() {\n            }\n            return class_13;\n        }()),\n        _o.Make = (_p = /** @class */ (function () {\n                function class_14() {\n                }\n                return class_14;\n            }()),\n            _p.Failed = "FloodgateCore_FloodgateEngine_Make_Failed",\n            _p),\n        _o.Common = (_q = /** @class */ (function () {\n                function class_15() {\n                }\n                return class_15;\n            }()),\n            _q.Error = "FloodgateCore_FloodgateEngine_Common_Error",\n            _q),\n        _o.Start = (_r = /** @class */ (function () {\n                function class_16() {\n                }\n                return class_16;\n            }()),\n            _r.Failed = "FloodgateCore_FloodgateEngine_Start_Failed",\n            _r),\n        _o.StartAsync = (_s = /** @class */ (function () {\n                function class_17() {\n                }\n                return class_17;\n            }()),\n            _s.Failed = "FloodgateCore_FloodgateEngine_StartAsync_Failed",\n            _s.Stopped = "FloodgateCore_FloodgateEngine_StartAsync_Stopped",\n            _s),\n        _o.OnSurveyActivated = (_t = /** @class */ (function () {\n                function class_18() {\n                }\n                return class_18;\n            }()),\n            _t.ActivationStatsSuppressedSurvey = "FloodgateCore_FloodgateEngine_OnSurveyActivated_ActivationStatsSuppressedSurvey",\n            _t.ClosedChannelType = "FloodgateCore_FloodgateEngine_OnSurveyActivated_ClosedChannelType",\n            _t.SurveyNotDefined = "FloodgateCore_FloodgateEngine_OnSurveyActivated_SurveyNotDefined",\n            _t),\n        _o);\n    TelemetryEvent.GovernedChannelState = (_u = /** @class */ (function () {\n            function class_19() {\n            }\n            return class_19;\n        }()),\n        _u.Deserialize = (_v = /** @class */ (function () {\n                function class_20() {\n                }\n                return class_20;\n            }()),\n            _v.Failed = "FloodgateCore_GovernedChannelState_Deserialize_Failed",\n            _v),\n        _u);\n    TelemetryEvent.FileBasedGovernedChannelStateProvider = (_w = /** @class */ (function () {\n            function class_21() {\n            }\n            return class_21;\n        }()),\n        _w.Load = (_x = /** @class */ (function () {\n                function class_22() {\n                }\n                return class_22;\n            }()),\n            _x.Failed = "FloodgateCore_FileBasedGovernedChannelStateProvider_Load_Failed",\n            _x),\n        _w);\n    TelemetryEvent.HostBasedGovernedChannelStateProvider = (_y = /** @class */ (function () {\n            function class_23() {\n            }\n            return class_23;\n        }()),\n        _y.GetStatesFromHost = (_z = /** @class */ (function () {\n                function class_24() {\n                }\n                return class_24;\n            }()),\n            _z.Failed = "FloodgateCore_HostBasedGovernedChannelStateProvider_GetStatesFromHost_Failed",\n            _z),\n        _y);\n    TelemetryEvent.SurveyStatCollectionActivation = (_0 = /** @class */ (function () {\n            function class_25() {\n            }\n            return class_25;\n        }()),\n        _0.FromJson = (_1 = /** @class */ (function () {\n                function class_26() {\n                }\n                return class_26;\n            }()),\n            _1.Failed = "FloodgateCore_SurveyStatCollectionActivation_FromJson_Failed",\n            _1),\n        _0.ToJson = (_2 = /** @class */ (function () {\n                function class_27() {\n                }\n                return class_27;\n            }()),\n            _2.Failed = "FloodgateCore_SurveyStatCollectionActivation_ToJson_Failed",\n            _2),\n        _0);\n    TelemetryEvent.HostBasedSurveyActivationStatsProvider = (_3 = /** @class */ (function () {\n            function class_28() {\n            }\n            return class_28;\n        }()),\n        _3.GetSurveyStatsFromHost = (_4 = /** @class */ (function () {\n                function class_29() {\n                }\n                return class_29;\n            }()),\n            _4.Failed = "FloodgateCore_HostBasedSurveyActivationStatsProvider_GetSurveyStatsFromHost_Failed",\n            _4),\n        _3);\n    TelemetryEvent.SurveyStatCollectionEventActivity = (_5 = /** @class */ (function () {\n            function class_30() {\n            }\n            return class_30;\n        }()),\n        _5.FromJson = (_6 = /** @class */ (function () {\n                function class_31() {\n                }\n                return class_31;\n            }()),\n            _6.Failed = "FloodgateCore_SurveyStatCollectionEventActivity_FromJson_Failed",\n            _6),\n        _5.ToJson = (_7 = /** @class */ (function () {\n                function class_32() {\n                }\n                return class_32;\n            }()),\n            _7.Failed = "FloodgateCore_SurveyStatCollectionEventActivity_ToJson_Failed",\n            _7),\n        _5);\n    TelemetryEvent.SurveyActivity = (_8 = /** @class */ (function () {\n            function class_33() {\n            }\n            return class_33;\n        }()),\n        _8.LogActivity = (_9 = /** @class */ (function () {\n                function class_34() {\n                }\n                return class_34;\n            }()),\n            _9.EventsReprocessed = "FloodgateCore_SurveyActivity_LogActivity_EventsReprocessed",\n            _9),\n        _8.SetActivityTrackingContracts = (_10 = /** @class */ (function () {\n                function class_35() {\n                }\n                return class_35;\n            }()),\n            _10.DuplicateSurveyID = "FloodgateCore_SurveyActivity_SetActivityTrackingContracts_DuplicateSurveyID",\n            _10),\n        _8);\n    return TelemetryEvent;\n}());\nexports.TelemetryEvent = TelemetryEvent;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0NvbnN0YW50cy50cz8wNjEwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7OztHQUlHOzs7QUFFSDs7R0FFRztBQUNIO0lBQUE7SUF5SEEsQ0FBQzs7SUF4SGMsNEJBQWE7WUFBRztZQUk5QixDQUFDO1lBQUQsY0FBQztRQUFELENBQUM7UUFIYyxjQUFXO2dCQUFHO2dCQUU1QixDQUFDO2dCQUFELGNBQUM7WUFBRCxDQUFDO1lBRGMsU0FBTSxHQUFXLGdEQUFpRDtlQUMvRTtZQUNEO0lBRVksNkNBQThCO1lBQUc7WUFJL0MsQ0FBQztZQUFELGNBQUM7UUFBRCxDQUFDO1FBSGMsT0FBSTtnQkFBRztnQkFFckIsQ0FBQztnQkFBRCxjQUFDO1lBQUQsQ0FBQztZQURjLFNBQU0sR0FBVywwREFBMkQ7ZUFDekY7WUFDRDtJQUVZLDZDQUE4QjtZQUFHO1lBSS9DLENBQUM7WUFBRCxjQUFDO1FBQUQsQ0FBQztRQUhjLG9CQUFpQjtnQkFBRztnQkFFbEMsQ0FBQztnQkFBRCxjQUFDO1lBQUQsQ0FBQztZQURjLFNBQU0sR0FBVyx1RUFBd0U7ZUFDdEc7WUFDRDtJQUVZLHdCQUFTO1lBQUc7WUFzQjFCLENBQUM7WUFBRCxjQUFDO1FBQUQsQ0FBQztRQXJCYyxhQUFVO2dCQUFHO2dCQUUzQixDQUFDO2dCQUFELGNBQUM7WUFBRCxDQUFDO1lBRGMsU0FBTSxHQUFXLDJDQUE0QztlQUMxRTtRQUVZLFFBQUs7Z0JBQUc7Z0JBSXRCLENBQUM7Z0JBQUQsY0FBQztZQUFELENBQUM7WUFIYyxTQUFNLEdBQVcsc0NBQXVDO1lBQ3hELFVBQU8sR0FBVyx1Q0FBd0M7WUFDMUQsa0JBQWUsR0FBVywrQ0FBZ0Q7ZUFDdkY7UUFFWSxnQkFBYTtnQkFBRztnQkFFOUIsQ0FBQztnQkFBRCxlQUFDO1lBQUQsQ0FBQztZQURjLFNBQU0sR0FBVyw4Q0FBK0M7ZUFDN0U7UUFFWSwrQkFBNEI7Z0JBQUc7Z0JBRTdDLENBQUM7Z0JBQUQsZUFBQztZQUFELENB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ekhZLHdDQUFjIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvQ29uc3RhbnRzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvbnN0YW50cy50c1xyXG4gKlxyXG4gKiBBIG1vZHVsZSBmb3IgYWxsIHRoZSBjb25zdGFudHMuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFRlbGVtZXRyeSBldmVudHNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBUZWxlbWV0cnlFdmVudCB7XHJcblx0cHVibGljIHN0YXRpYyBDYW1wYWlnblN0YXRlID0gY2xhc3Mge1xyXG5cdFx0cHVibGljIHN0YXRpYyBEZXNlcmlhbGl6ZSA9IGNsYXNzIHtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBGYWlsZWQ6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9DYW1wYWlnblN0YXRlX0Rlc2VyaWFsaXplX0ZhaWxlZFwiO1xyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHRwdWJsaWMgc3RhdGljIEZpbGVCYXNlZENhbXBhaWduU3RhdGVQcm92aWRlciA9IGNsYXNzIHtcclxuXHRcdHB1YmxpYyBzdGF0aWMgTG9hZCA9IGNsYXNzIHtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBGYWlsZWQ6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9GaWxlQmFzZWRDYW1wYWlnblN0YXRlUHJvdmlkZXJfTG9hZF9GYWlsZWRcIjtcclxuXHRcdH07XHJcblx0fTtcclxuXHJcblx0cHVibGljIHN0YXRpYyBIb3N0QmFzZWRDYW1wYWlnblN0YXRlUHJvdmlkZXIgPSBjbGFzcyB7XHJcblx0XHRwdWJsaWMgc3RhdGljIEdldFN0YXRlc0Zyb21Ib3N0ID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEZhaWxlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0hvc3RCYXNlZENhbXBhaWduU3RhdGVQcm92aWRlcl9HZXRTdGF0ZXNGcm9tSG9zdF9GYWlsZWRcIjtcclxuXHRcdH07XHJcblx0fTtcclxuXHJcblx0cHVibGljIHN0YXRpYyBGbG9vZGdhdGUgPSBjbGFzcyB7XHJcblx0XHRwdWJsaWMgc3RhdGljIEluaXRpYWxpemUgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRmFpbGVkOiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfRmxvb2RnYXRlX0luaXRpYWxpemVfRmFpbGVkXCI7XHJcblx0XHR9O1xyXG5cclxuXHRcdHB1YmxpYyBzdGF0aWMgU3RhcnQgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRmFpbGVkOiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfRmxvb2RnYXRlX1N0YXJ0X0ZhaWxlZFwiO1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIFdhcm5pbmc6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9GbG9vZGdhdGVfU3RhcnRfV2FybmluZ1wiO1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIFN1cnZleXNEaXNhYmxlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0Zsb29kZ2F0ZV9TdGFydF9TdXJ2ZXlzRGlzYWJsZWRcIjtcclxuXHRcdH07XHJcblxyXG5cdFx0cHVibGljIHN0YXRpYyBVc2VyRmFjdHNMb2FkID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEZhaWxlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0Zsb29kZ2F0ZV9Vc2VyRmFjdHNMb2FkX0ZhaWxlZFwiO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwdWJsaWMgc3RhdGljIFVzZXJGYWN0c1NwZWNEZXNlcmlhbGl6YXRpb24gPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRmFpbGVkOiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfRmxvb2RnYXRlX1VzZXJGYWN0c1NwZWNEZXNlcmlhbGl6YXRpb25fRmFpbGVkXCI7XHJcblx0XHR9O1xyXG5cclxuXHRcdHB1YmxpYyBzdGF0aWMgVXNlckZhY3RzU3BlY0lzQU1hdGNoID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEZhaWxlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0Zsb29kZ2F0ZV9Vc2VyRmFjdHNTcGVjSXNBTWF0Y2hfRmFpbGVkXCI7XHJcblx0XHR9O1xyXG5cdH07XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgRmxvb2RnYXRlRW5naW5lID0gY2xhc3Mge1xyXG5cdFx0cHVibGljIHN0YXRpYyBNYWtlID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEZhaWxlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0Zsb29kZ2F0ZUVuZ2luZV9NYWtlX0ZhaWxlZFwiO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwdWJsaWMgc3RhdGljIENvbW1vbiA9IGNsYXNzIHtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBFcnJvcjogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0Zsb29kZ2F0ZUVuZ2luZV9Db21tb25fRXJyb3JcIjtcclxuXHRcdH07XHJcblxyXG5cdFx0cHVibGljIHN0YXRpYyBTdGFydCA9IGNsYXNzIHtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBGYWlsZWQ6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9GbG9vZGdhdGVFbmdpbmVfU3RhcnRfRmFpbGVkXCI7XHJcblx0XHR9O1xyXG5cclxuXHRcdHB1YmxpYyBzdGF0aWMgU3RhcnRBc3luYyA9IGNsYXNzIHtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBGYWlsZWQ6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9GbG9vZGdhdGVFbmdpbmVfU3RhcnRBc3luY19GYWlsZWRcIjtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBTdG9wcGVkOiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfRmxvb2RnYXRlRW5naW5lX1N0YXJ0QXN5bmNfU3RvcHBlZFwiO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwdWJsaWMgc3RhdGljIE9uU3VydmV5QWN0aXZhdGVkID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEFjdGl2YXRpb25TdGF0c1N1cHByZXNzZWRTdXJ2ZXk6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9GbG9vZGdhdGVFbmdpbmVfT25TdXJ2ZXlBY3RpdmF0ZWRfQWN0aXZhdGlvblN0YXRzU3VwcHJlc3NlZFN1cnZleVwiO1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIENsb3NlZENoYW5uZWxUeXBlOiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfRmxvb2RnYXRlRW5naW5lX09uU3VydmV5QWN0aXZhdGVkX0Nsb3NlZENoYW5uZWxUeXBlXCI7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgU3VydmV5Tm90RGVmaW5lZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0Zsb29kZ2F0ZUVuZ2luZV9PblN1cnZleUFjdGl2YXRlZF9TdXJ2ZXlOb3REZWZpbmVkXCI7XHJcblx0XHR9O1xyXG5cdH07XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgR292ZXJuZWRDaGFubmVsU3RhdGUgPSBjbGFzcyB7XHJcblx0XHRwdWJsaWMgc3RhdGljIERlc2VyaWFsaXplID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEZhaWxlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0dvdmVybmVkQ2hhbm5lbFN0YXRlX0Rlc2VyaWFsaXplX0ZhaWxlZFwiO1xyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHRwdWJsaWMgc3RhdGljIEZpbGVCYXNlZEdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIgPSBjbGFzcyB7XHJcblx0XHRwdWJsaWMgc3RhdGljIExvYWQgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRmFpbGVkOiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfRmlsZUJhc2VkR292ZXJuZWRDaGFubmVsU3RhdGVQcm92aWRlcl9Mb2FkX0ZhaWxlZFwiO1xyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHRwdWJsaWMgc3RhdGljIEhvc3RCYXNlZEdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIgPSBjbGFzcyB7XHJcblx0XHRwdWJsaWMgc3RhdGljIEdldFN0YXRlc0Zyb21Ib3N0ID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEZhaWxlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX0hvc3RCYXNlZEdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXJfR2V0U3RhdGVzRnJvbUhvc3RfRmFpbGVkXCI7XHJcblx0XHR9O1xyXG5cdH07XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uID0gY2xhc3Mge1xyXG5cdFx0cHVibGljIHN0YXRpYyBGcm9tSnNvbiA9IGNsYXNzIHtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBGYWlsZWQ6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9TdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb25fRnJvbUpzb25fRmFpbGVkXCI7XHJcblx0XHR9O1xyXG5cclxuXHRcdHB1YmxpYyBzdGF0aWMgVG9Kc29uID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEZhaWxlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX1N1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbl9Ub0pzb25fRmFpbGVkXCI7XHJcblx0XHR9O1xyXG5cdH07XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgSG9zdEJhc2VkU3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXIgPSBjbGFzcyB7XHJcblx0XHRwdWJsaWMgc3RhdGljIEdldFN1cnZleVN0YXRzRnJvbUhvc3QgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRmFpbGVkOiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfSG9zdEJhc2VkU3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXJfR2V0U3VydmV5U3RhdHNGcm9tSG9zdF9GYWlsZWRcIjtcclxuXHRcdH07XHJcblx0fTtcclxuXHJcblx0cHVibGljIHN0YXRpYyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHkgPSBjbGFzcyB7XHJcblx0XHRwdWJsaWMgc3RhdGljIEZyb21Kc29uID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEZhaWxlZDogc3RyaW5nID0gXCJGbG9vZGdhdGVDb3JlX1N1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eV9Gcm9tSnNvbl9GYWlsZWRcIjtcclxuXHRcdH07XHJcblxyXG5cdFx0cHVibGljIHN0YXRpYyBUb0pzb24gPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRmFpbGVkOiBzdHJpbmcgPSBcIkZsb29kZ2F0ZUNvcmVfU3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5X1RvSnNvbl9GYWlsZWRcIjtcclxuXHRcdH07XHJcblx0fTtcclxuXHJcblx0cHVibGljIHN0YXRpYyBTdXJ2ZXlBY3Rpdml0eSA9IGNsYXNzIHtcclxuXHRcdHB1YmxpYyBzdGF0aWMgTG9nQWN0aXZpdHkgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRXZlbnRzUmVwcm9jZXNzZWQ6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9TdXJ2ZXlBY3Rpdml0eV9Mb2dBY3Rpdml0eV9FdmVudHNSZXByb2Nlc3NlZFwiO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwdWJsaWMgc3RhdGljIFNldEFjdGl2aXR5VHJhY2tpbmdDb250cmFjdHMgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRHVwbGljYXRlU3VydmV5SUQ6IHN0cmluZyA9IFwiRmxvb2RnYXRlQ29yZV9TdXJ2ZXlBY3Rpdml0eV9TZXRBY3Rpdml0eVRyYWNraW5nQ29udHJhY3RzX0R1cGxpY2F0ZVN1cnZleUlEXCI7XHJcblx0XHR9O1xyXG5cdH07XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Constants.js\n')},"../FloodgateCore/dist/src/FloodgateEngine.js":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.FloodgateEngine = void 0;\nvar IFloodgateStorageProvider = __webpack_require__(/*! ./Api/IFloodgateStorageProvider */ "../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js");\nvar CampaignDefinitionProvider_1 = __webpack_require__(/*! ./Campaign/CampaignDefinitionProvider */ "../FloodgateCore/dist/src/Campaign/CampaignDefinitionProvider.js");\nvar CampaignManager_1 = __webpack_require__(/*! ./Campaign/CampaignManager */ "../FloodgateCore/dist/src/Campaign/CampaignManager.js");\nvar CampaignStateProvider_1 = __webpack_require__(/*! ./Campaign/CampaignStateProvider */ "../FloodgateCore/dist/src/Campaign/CampaignStateProvider.js");\nvar Constants_1 = __webpack_require__(/*! ./Constants */ "../FloodgateCore/dist/src/Constants.js");\nvar FloodgateSettings_1 = __webpack_require__(/*! ./FloodgateSettings */ "../FloodgateCore/dist/src/FloodgateSettings.js");\nvar GovernedChannel_1 = __webpack_require__(/*! ./GovernedChannel */ "../FloodgateCore/dist/src/GovernedChannel.js");\nvar GovernedChannelStateProvider_1 = __webpack_require__(/*! ./GovernedChannelStateProvider */ "../FloodgateCore/dist/src/GovernedChannelStateProvider.js");\nvar Governor_1 = __webpack_require__(/*! ./Governor */ "../FloodgateCore/dist/src/Governor.js");\nvar SurveyActivityListener = __webpack_require__(/*! ./SurveyActivityListener */ "../FloodgateCore/dist/src/SurveyActivityListener.js");\nvar SurveyStatCollectionActivation_1 = __webpack_require__(/*! ./SurveyStatCollectionActivation */ "../FloodgateCore/dist/src/SurveyStatCollectionActivation.js");\nvar SurveyStatCollectionEventActivity_1 = __webpack_require__(/*! ./SurveyStatCollectionEventActivity */ "../FloodgateCore/dist/src/SurveyStatCollectionEventActivity.js");\nvar FileType = IFloodgateStorageProvider.FileType;\nvar ActivityTrackingContract_1 = __webpack_require__(/*! ./ActivityTrackingContract */ "../FloodgateCore/dist/src/ActivityTrackingContract.js");\nvar Utils_1 = __webpack_require__(/*! ./Utils */ "../FloodgateCore/dist/src/Utils.js");\n// Telemetry logger with no-op logger\nvar DefaultFloodgateTelemetryLogger = /** @class */ (function () {\n    function DefaultFloodgateTelemetryLogger() {\n    }\n    // @Override\n    DefaultFloodgateTelemetryLogger.prototype.log_TriggerMet = function (campaignId, surveyId, surveyType) { };\n    // @Override\n    DefaultFloodgateTelemetryLogger.prototype.log_UserSelected = function (campaignId, surveyId, surveyType) { };\n    // @Override\n    DefaultFloodgateTelemetryLogger.prototype.log_CampaignLoad_Failed = function (errorMessage) { };\n    // @Override\n    DefaultFloodgateTelemetryLogger.prototype.log_Error = function (eventId, errorMessage) { };\n    // @Override\n    DefaultFloodgateTelemetryLogger.prototype.log_Event = function (eventId, properties) { };\n    return DefaultFloodgateTelemetryLogger;\n}());\nvar defaultSurveyActivityListener = {\n    run: function (survey) {\n    },\n    shouldAcceptActivity: function (activityName) {\n        return true;\n    },\n};\n/**\n * Floodgate Engine class.  The main wiring hub and the brains responsible for\n * linking together the survey definitions, governance, activity tracking, and\n * survey launchers.  Only one-instance-at-a-time of these should be created\n * per app session.\n */\nvar FloodgateEngine = /** @class */ (function () {\n    function FloodgateEngine(surveyClient, activityListener, launcherFactory, onSurveyActivatedCallback, storage, governor, surveyActivationStatsProvider, transporterFactory) {\n        this.initializationStatus = 0 /* None */;\n        this.candidateSurveys = {};\n        this.launchedSurveys = {};\n        this.launchedLaunchers = [];\n        this.surveyEventSent = [];\n        if (!surveyClient) {\n            throw new Error("surveyClient must not be null");\n        }\n        if (!activityListener) {\n            throw new Error("activityListener must not be null");\n        }\n        if (!launcherFactory) {\n            throw new Error("launcherFactory must not be null");\n        }\n        if (!onSurveyActivatedCallback) {\n            throw new Error("onSurveyActivatedCallback must not be null");\n        }\n        if (!storage) {\n            throw new Error("storage must not be null");\n        }\n        if (!governor) {\n            throw new Error("governor must not be null");\n        }\n        if (!transporterFactory) {\n            throw new Error("transporterFactory must not be null");\n        }\n        this.surveyClient = surveyClient;\n        this.activityListener = activityListener;\n        this.launcherFactory = launcherFactory;\n        this.onSurveyActivatedCallback = onSurveyActivatedCallback;\n        this.storage = storage;\n        this.governor = governor;\n        this.surveyActivationStatsProvider = surveyActivationStatsProvider;\n        FloodgateEngine.transporterFactory = transporterFactory;\n        this.loggedFirstStart = false;\n        // Initialize our list to a valid, empty collection\n        this.setPendingSurveys(null);\n        // If the listener was pre-configured with survey for some reason, clear it now\n        this.activityListener.clearSurveys();\n        // Link ourselves with the listener\n        var thisObj = this; // Save current object in a variable to allow access from callback.\n        this.activityListener.setCallback({\n            run: function (surveyId) {\n                thisObj.onSurveyActivated(surveyId);\n            },\n            shouldAcceptActivity: function (activityName) {\n                return thisObj.shouldAcceptActivity(activityName);\n            },\n        });\n    }\n    FloodgateEngine.setTelemetryLogger = function (telemetryLogger) {\n        if (!telemetryLogger) {\n            throw new Error("telemetryLogger must not be null");\n        }\n        FloodgateEngine.telemetryLogger = telemetryLogger;\n    };\n    FloodgateEngine.getTelemetryLogger = function () {\n        return FloodgateEngine.telemetryLogger;\n    };\n    FloodgateEngine.getTransportFactory = function () {\n        return FloodgateEngine.transporterFactory;\n    };\n    FloodgateEngine.make = function (buildVersion, launcherFactory, onSurveyActivatedCallback, fileBasedStorageProvider, hostBasedStorageProvider, stringProvider, environmentProvider, transporterFactory, campaignDefinitionProviders, userFactsProvider) {\n        try {\n            var governedChannelStateProvider = GovernedChannelStateProvider_1.GovernedChannelStateProviderFactory.make(fileBasedStorageProvider, hostBasedStorageProvider);\n            var surveyActivationStatsProvider = SurveyStatCollectionActivation_1.SurveyActivationStatsProviderFactory.make(fileBasedStorageProvider, hostBasedStorageProvider);\n            var campaignStateProvider = CampaignStateProvider_1.CampaignStateProviderFactory.make(fileBasedStorageProvider, hostBasedStorageProvider);\n            campaignDefinitionProviders.push(new CampaignDefinitionProvider_1.FileSystemCampaignDefinitionProvider(fileBasedStorageProvider));\n            return new FloodgateEngine(new CampaignManager_1.CampaignManager(campaignStateProvider, campaignDefinitionProviders, stringProvider, environmentProvider, buildVersion, new Date(), userFactsProvider), new SurveyActivityListener(defaultSurveyActivityListener, this.getTelemetryLogger), launcherFactory, onSurveyActivatedCallback, fileBasedStorageProvider, new Governor_1.Governor(governedChannelStateProvider), surveyActivationStatsProvider, transporterFactory);\n        }\n        catch (e) {\n            this.telemetryLogger.log_Event(Constants_1.TelemetryEvent.FloodgateEngine.Make.Failed, { ErrorMessage: e && e.toString(), ErrorDetails: e && e.stack });\n        }\n    };\n    /**\n     * Save all internal stats and floodgateSettings (merging with existing file contents), without stopping the engine.\n     */\n    FloodgateEngine.prototype.mergeAndSave = function () {\n        this.saveSettings();\n        this.saveSurveyActivationHistory();\n        this.saveSurveyEventActivityHistory();\n        // Inform surveyClient to save its state\n        this.surveyClient.saveCurrentState();\n        // Save governed channel states\n        this.governor.saveChannelStates();\n    };\n    /**\n     * Start the engine.  Checks feature enable state, causes survey definitions to be read, and tracked activities to be set on the listener.\n     */\n    FloodgateEngine.prototype.start = function () {\n        if (this.initializationStatus === 2 /* Initializing */ ||\n            this.initializationStatus === 3 /* Started */) {\n            return;\n        }\n        try {\n            this.setInitializationStatus(2 /* Initializing */);\n            this.loadSettingsAndPriorEventCounts();\n            var channelTypes = this.getAvailableChannelTypes();\n            this.surveyClient.refreshSurveyDefinitions(channelTypes);\n            this.setPendingSurveysAndStartFloodgate();\n            this.setInitializationStatus(3 /* Started */);\n        }\n        catch (e) {\n            this.setInitializationStatus(1 /* Error */);\n            FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.Start.Failed, { ErrorMessage: e && e.toString(), ErrorDetails: e && e.stack });\n        }\n    };\n    /**\n     * Start the engine.  Checks feature enable state, causes survey definitions to be read, and tracked activities to be set on the listener.\n     */\n    FloodgateEngine.prototype.startAsync = function () {\n        if (this.initializationStatus === 2 /* Initializing */ ||\n            this.initializationStatus === 3 /* Started */) {\n            return Promise.resolve();\n        }\n        try {\n            this.setInitializationStatus(2 /* Initializing */);\n            this.loadSettingsAndPriorEventCounts();\n            var channelTypes_1 = this.getAvailableChannelTypes();\n            var thisFloodgateEngine_1 = this;\n            return new Promise(function (resolve, reject) {\n                thisFloodgateEngine_1.surveyClient.refreshSurveyDefinitionsAsync(channelTypes_1).then(function onFulfilled() {\n                    // Handle any stop() calls that happened while initializing\n                    if (thisFloodgateEngine_1.initializationStatus === 4 /* Stopped */) {\n                        thisFloodgateEngine_1.setInitializationStatus(3 /* Started */);\n                        thisFloodgateEngine_1.stop();\n                        FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.StartAsync.Stopped, { ErrorMessage: "Stopped because of a pending stop() call" });\n                    }\n                    else {\n                        thisFloodgateEngine_1.setPendingSurveysAndStartFloodgate();\n                    }\n                    resolve();\n                }).catch(function OnRejected(error) {\n                    thisFloodgateEngine_1.setInitializationStatus(1 /* Error */);\n                    FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.StartAsync.Failed, { ErrorMessage: "Survey refresh error " + (error && error.message) });\n                    reject(error);\n                });\n            });\n        }\n        catch (e) {\n            this.setInitializationStatus(1 /* Error */);\n            FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.StartAsync.Failed, { ErrorMessage: e && e.toString(), ErrorDetails: e && e.stack });\n            return Promise.resolve();\n        }\n    };\n    /**\n     * Stop the engine.  Causes tracked activities to be cleared and any in-progress counters not otherwise saved to be thrown out.\n     */\n    FloodgateEngine.prototype.stop = function () {\n        if (this.initializationStatus === 3 /* Started */) {\n            this.mergeAndSave();\n            // Clear our Survey list, and push that through to the listener\n            this.setPendingSurveys(null);\n            this.updateActivityListenerWithCurrentSurveyDefinitions();\n        }\n        this.setInitializationStatus(4 /* Stopped */);\n    };\n    /**\n     * Gets the IActivityListener logging interface for callers that want to log directly rather than through telemetry\n     */\n    FloodgateEngine.prototype.getActivityListener = function () {\n        return this.activityListener;\n    };\n    FloodgateEngine.prototype.setInitializationStatus = function (status) {\n        this.initializationStatus = status;\n    };\n    FloodgateEngine.prototype.saveSettings = function () {\n        this.storage.fileLock(FileType.FloodgateSettings);\n        try {\n            this.writeString(FileType.FloodgateSettings, FloodgateSettings_1.FloodgateSettings.toJson(this.floodgateSettings));\n        }\n        finally {\n            this.storage.fileUnlock(FileType.FloodgateSettings);\n        }\n    };\n    FloodgateEngine.prototype.loadSettingsAndPriorEventCounts = function () {\n        try {\n            // Load up the prior survey history and prior event counts\n            this.previousSurveyActivationStats = this.surveyActivationStatsProvider.load();\n            this.previousSurveyEventActivityStats =\n                SurveyStatCollectionEventActivity_1.SurveyStatCollectionEventActivity.fromJson(this.readString(FileType.SurveyEventActivityStats));\n            // get the list of survey Id - all the survey should have event sent already\n            var stats = this.previousSurveyEventActivityStats.getStats();\n            for (var key in stats) {\n                if (stats.hasOwnProperty(key)) {\n                    this.surveyEventSent.push(key);\n                }\n            }\n            // Load up the general floodgateSettings\n            this.floodgateSettings = FloodgateSettings_1.FloodgateSettings.fromJson(this.readString(FileType.FloodgateSettings));\n        }\n        catch (e) {\n            FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.Common.Error, { ErrorMessage: "Error loading prior settings/events " + (e && e.toString()) });\n        }\n    };\n    FloodgateEngine.prototype.getAvailableChannelTypes = function () {\n        // Make sure we\'ve loaded the current survey definitions\n        var channels = this.governor.getAvailableChannelData();\n        var channelTypes = [];\n        channels.forEach(function (channel) {\n            if (channel) {\n                channelTypes.push(channel.getType());\n            }\n        });\n        return channelTypes;\n    };\n    FloodgateEngine.prototype.setPendingSurveysAndStartFloodgate = function () {\n        // Update our survey list, and push that through to the listener\n        this.setPendingSurveys(this.surveyClient.getAppSurveys());\n        this.updateActivityListenerWithCurrentSurveyDefinitions();\n        // Mark us as started\n        this.setInitializationStatus(3 /* Started */);\n        // Log our first start (aka floodgate boot) event\n        if (!this.loggedFirstStart) {\n            this.loggedFirstStart = true;\n            this.getActivityListener().logActivity(SurveyActivityListener.FloodgateStartActivityName);\n        }\n    };\n    FloodgateEngine.prototype.saveSurveyActivationHistory = function () {\n        this.storage.fileLock(FileType.SurveyActivationStats);\n        try {\n            var statCollection = this.surveyActivationStatsProvider.load();\n            // Build the update collection\n            var updateCollection = new SurveyStatCollectionActivation_1.SurveyStatCollectionActivation();\n            for (var key in this.launchedSurveys) {\n                if (this.launchedSurveys.hasOwnProperty(key)) {\n                    var stats = new SurveyStatCollectionActivation_1.SurveyActivationStats();\n                    var survey = this.launchedSurveys[key];\n                    stats.Type = survey.getType();\n                    stats.ExpirationTimeUtc = survey.getSurveyInfo().getExpirationTimeUtc();\n                    stats.ActivationTimeUtc = new Date();\n                    // Make this part of the update list\n                    updateCollection.addStats(survey.getSurveyInfo().getId(), stats);\n                }\n            }\n            // Actually merge our updates into the full collection\n            statCollection.accumulate(updateCollection);\n            this.surveyActivationStatsProvider.save(statCollection);\n            // Make sure to keep our internal collection consistent with what we just wrote\n            this.previousSurveyActivationStats = statCollection;\n        }\n        finally {\n            this.storage.fileUnlock(FileType.SurveyActivationStats);\n        }\n    };\n    FloodgateEngine.prototype.saveSurveyEventActivityHistory = function () {\n        this.storage.fileLock(FileType.SurveyEventActivityStats);\n        try {\n            var statCollection = SurveyStatCollectionEventActivity_1.SurveyStatCollectionEventActivity.fromJson(this.readString(FileType.SurveyEventActivityStats));\n            var now = new Date();\n            // Fill out our list of updates\n            var updateCollection = new SurveyStatCollectionEventActivity_1.SurveyStatCollectionEventActivity();\n            var _loop_1 = function (key) {\n                if (this_1.candidateSurveys.hasOwnProperty(key)) {\n                    var stats = new SurveyStatCollectionEventActivity_1.SurveyEventActivityStats();\n                    var survey = this_1.candidateSurveys[key];\n                    if (!survey.getSurveyInfo().isActiveForDate(now)) {\n                        return "continue";\n                    }\n                    stats.ExpirationTimeUtc = survey.getSurveyInfo().getExpirationTimeUtc();\n                    // Get the activities which are aggregated, if there aren\'t any continue\n                    var allActivities = survey.getSurveyInfo().getActivationEvent().getTrackingSet();\n                    var aggregateActivities_1 = [];\n                    allActivities.getList().forEach(function (data) {\n                        if (data && data.getIsAggregate()) {\n                            aggregateActivities_1.push(data.getActivity());\n                        }\n                    });\n                    if (aggregateActivities_1.length === 0) {\n                        return "continue";\n                    }\n                    stats.Counts = new Array(aggregateActivities_1.length);\n                    // Save off the counts we\'ve added for this session\n                    for (var i = 0; i < aggregateActivities_1.length; i++) {\n                        stats.Counts[i] = this_1.activityListener.moveSessionCountIntoBaseCount(aggregateActivities_1[i], survey.getSurveyInfo().getId());\n                    }\n                    // Make this part of the update list\n                    updateCollection.addStats(survey.getSurveyInfo().getId(), stats);\n                }\n            };\n            var this_1 = this;\n            for (var key in this.candidateSurveys) {\n                _loop_1(key);\n            }\n            // Actually merge our updates into the full collection\n            statCollection.accumulate(updateCollection);\n            this.writeString(FileType.SurveyEventActivityStats, SurveyStatCollectionEventActivity_1.SurveyStatCollectionEventActivity.toJson(statCollection));\n            // Make sure to keep our internal collection consistent with what we just wrote\n            this.previousSurveyEventActivityStats = statCollection;\n        }\n        finally {\n            this.storage.fileUnlock(FileType.SurveyEventActivityStats);\n        }\n    };\n    FloodgateEngine.prototype.setPendingSurveys = function (pendingSurveys) {\n        this.candidateSurveys = {};\n        if (pendingSurveys) {\n            for (var key in pendingSurveys) {\n                if (pendingSurveys.hasOwnProperty(key)) {\n                    var survey = pendingSurveys[key];\n                    if (this.launcherFactory.AcceptsSurvey(survey)) {\n                        this.candidateSurveys[key] = survey;\n                    }\n                }\n            }\n        }\n    };\n    FloodgateEngine.prototype.getCurrentSurveyDefinitions = function () {\n        // Get a vector of Surveys from our id-based map\n        var surveyList = new Array();\n        for (var key in this.candidateSurveys) {\n            if (this.candidateSurveys.hasOwnProperty(key)) {\n                var survey = this.candidateSurveys[key];\n                // Skip over any candidate surveys that have been previously completed\n                if (this.previousSurveyActivationStats.getBySurveyId(survey.getSurveyInfo().getId())) {\n                    continue;\n                }\n                if (!survey.getSurveyInfo().isActiveForDate(new Date())) {\n                    continue;\n                }\n                // send the UserSelected event if it is not sent before\n                if (this.surveyEventSent.indexOf(key) < 0) {\n                    this.surveyEventSent.push(key);\n                    FloodgateEngine.telemetryLogger.log_UserSelected(survey.getSurveyInfo().getBackEndId(), survey.getSurveyInfo().getId(), survey.getType());\n                }\n                surveyList.push(survey);\n            }\n        }\n        return surveyList;\n    };\n    FloodgateEngine.prototype.updateActivityListenerWithCurrentSurveyDefinitions = function () {\n        var surveyList = this.getCurrentSurveyDefinitions();\n        var trackingContractList = [];\n        for (var _i = 0, surveyList_1 = surveyList; _i < surveyList_1.length; _i++) {\n            var survey = surveyList_1[_i];\n            var surveyInfo = survey.getSurveyInfo();\n            var trackingContract = new ActivityTrackingContract_1.ActivityTrackingContract(surveyInfo.getId(), surveyInfo.getActivationEvent().getTrackingSet());\n            trackingContractList.push(trackingContract);\n        }\n        this.activityListener.SetActivityTrackingContracts(trackingContractList, this.previousSurveyEventActivityStats);\n    };\n    FloodgateEngine.prototype.shouldAcceptActivity = function (activityName) {\n        return this.initializationStatus === 3 /* Started */ ||\n            activityName === SurveyActivityListener.FloodgateStartActivityName;\n    };\n    FloodgateEngine.prototype.onSurveyActivated = function (surveyId) {\n        // Find the survey object that corresponds to the surveyId passed\n        var surveys = this.getCurrentSurveyDefinitions();\n        var survey;\n        for (var _i = 0, surveys_1 = surveys; _i < surveys_1.length; _i++) {\n            var tempSurvey = surveys_1[_i];\n            if (tempSurvey.getSurveyInfo().getId() === surveyId) {\n                survey = tempSurvey;\n                break;\n            }\n        }\n        if (Utils_1.isNOU(survey)) {\n            FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.FloodgateEngine.OnSurveyActivated.SurveyNotDefined, "Survey is not defined in the current survey definitions.");\n            return;\n        }\n        FloodgateEngine.telemetryLogger.log_TriggerMet(survey.getSurveyInfo().getBackEndId(), survey.getSurveyInfo().getId(), survey.getType());\n        var launchSurvey = false;\n        var governedChannelType = survey.getSurveyInfo().getGovernedChannelType();\n        // Figure out if the activated survey is still relevant\n        if (!this.candidateSurveys[survey.getSurveyInfo().getId()]) {\n            // Survey is no longer relevant but was activated. Suppress it.\n        }\n        else if (!survey.getSurveyInfo().isActiveForDate(new Date())) {\n            // Survey is no longer active (e.g. it was when we registered it but it has now expired)\n        }\n        else {\n            // Refresh channels\n            this.governor.refreshChannelData();\n            if (!this.governor.isChannelOpen(governedChannelType)) {\n                // Channel has closed, suppress the survey\n                FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.OnSurveyActivated.ClosedChannelType, { ClosedChannelType: GovernedChannel_1.GovernedChannelType[governedChannelType] });\n            }\n            else {\n                // Get latest survey states from provider\n                var refreshedSurveyActivationStats = this.surveyActivationStatsProvider.load();\n                if (refreshedSurveyActivationStats.getBySurveyId(survey.getSurveyInfo().getId())) {\n                    // Survey stats exists already, don\'t launch\n                    FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FloodgateEngine.OnSurveyActivated.ActivationStatsSuppressedSurvey, {\n                        CampaignId: survey.getSurveyInfo().getBackEndId(),\n                        SurveyId: survey.getSurveyInfo().getId(),\n                    });\n                }\n                else if (Object.keys(this.launchedSurveys).length === 0) {\n                    // for now we only support launching one survey per session\n                    // Track this survey activation for the launch history tracker\n                    this.launchedSurveys[survey.getSurveyInfo().getId()] = survey;\n                    launchSurvey = true;\n                }\n            }\n        }\n        // At this point, regardless of whether or not the survey is still relevant, we should flush out the stats, and shut off further survey launches\n        this.mergeAndSave();\n        this.activityListener.clearSurveys();\n        // Actually launch the survey\n        if (launchSurvey) {\n            this.governor.startChannelCooldown(governedChannelType);\n            this.surveyClient.onSurveyActivated(survey.getSurveyInfo());\n            this.launchLauncher(survey);\n        }\n    };\n    FloodgateEngine.prototype.readString = function (fileType) {\n        return this.storage.read(fileType);\n    };\n    FloodgateEngine.prototype.writeString = function (fileType, str) {\n        this.storage.write(fileType, str);\n    };\n    FloodgateEngine.prototype.launchLauncher = function (survey) {\n        var launcher = this.launcherFactory.makeSurveyLauncher(survey);\n        if (launcher) {\n            this.launchedLaunchers.push(launcher);\n            this.onSurveyActivatedCallback.onSurveyActivated(launcher, survey);\n        }\n    };\n    // Initialize telemetry logger with no-op logger\n    FloodgateEngine.telemetryLogger = new DefaultFloodgateTelemetryLogger();\n    return FloodgateEngine;\n}());\nexports.FloodgateEngine = FloodgateEngine;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0Zsb29kZ2F0ZUVuZ2luZS50cz80YWM1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUtBLHlKQUE2RTtBQVM3RSx3S0FBMEg7QUFDMUgsdUlBQTZEO0FBQzdELHlKQUF3RztBQUV4RyxtR0FBNkM7QUFDN0MsMkhBQXdEO0FBQ3hELHFIQUE4RTtBQUM5RSw0SkFBb0g7QUFDcEgsZ0dBQWlEO0FBRWpELHdJQUFtRTtBQUNuRSxrS0FDMEU7QUFDMUUsMktBQWtIO0FBRWxILElBQU8sUUFBUSxHQUFHLHlCQUF5QixDQUFDLFFBQVEsQ0FBQztBQUNyRCxnSkFBc0U7QUFDdEUsdUZBQWdDO0FBRWhDLHFDQUFxQztBQUNyQztJQUFBO0lBZUEsQ0FBQztJQWRBLFlBQVk7SUFDTCx3REFBYyxHQUFyQixVQUFzQixVQUFrQixFQUFFLFFBQWdCLEVBQUUsVUFBd0IsSUFBUyxDQUFDO0lBRTlGLFlBQVk7SUFDTCwwREFBZ0IsR0FBdkIsVUFBd0IsVUFBa0IsRUFBRSxRQUFnQixFQUFFLFVBQXdCLElBQVMsQ0FBQztJQUVoRyxZQUFZO0lBQ0wsaUVBQXVCLEdBQTlCLFVBQStCLFlBQW9CLElBQVMsQ0FBQztJQUU3RCxZQUFZO0lBQ0wsbURBQVMsR0FBaEIsVUFBaUIsT0FBZSxFQUFFLFlBQW9CLElBQVMsQ0FBQztJQUVoRSxZQUFZO0lBQ0wsbURBQVMsR0FBaEIsVUFBaUIsT0FBZSxFQUFFLFVBQWdDLElBQVMsQ0FBQztJQUM3RSxzQ0FBQztBQUFELENBQUM7QUFVRCxJQUFNLDZCQUE2QixHQUFxRDtJQUN2RixHQUFHLFlBQUMsTUFBTTtJQUNWLENBQUM7SUFDRCxvQkFBb0IsWUFBQyxZQUFZO1FBQ2hDLE9BQU8sSUFBSSxDQUFDO0lBQ2IsQ0FBQztDQUNELENBQUM7QUFFRjs7Ozs7R0FLRztBQUNIO0lBNkZDLHlCQUFtQixZQUEyQixFQUFFLGdCQUF3QyxFQUFFLGVBQXVDLEVBQ2hJLHlCQUFxRCxFQUFFLE9BQWtDLEVBQUUsUUFBbUIs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NUI7SUFDRixDQUFDO0lBRU8sb0NBQVUsR0FBbEIsVUFBbUIsUUFBa0I7UUFDcEMsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNwQyxDQUFDO0lBRU8scUNBQVcsR0FBbkIsVUFBb0IsUUFBa0IsRUFBRSxHQUFXO1FBQ2xELElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNuQyxDQUFDO0lBRU8sd0NBQWMsR0FBdEIsVUFBdUIsTUFBZTtRQUNyQyxJQUFNLFFBQVEsR0FBb0IsSUFBSSxDQUFDLGVBQWUsQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNsRixJQUFJLFFBQVEsRUFBRTtZQUNiLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDdEMsSUFBSSxDQUFDLHlCQUF5QixDQUFDLGlCQUFpQixDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUMsQ0FBQztTQUNuRTtJQUNGLENBQUM7SUEvZUQsZ0RBQWdEO0lBQ2pDLCtCQUFlLEdBQThCLElBQUksK0JBQStCLEVBQUUsQ0FBQztJQStlbkcsc0JBQUM7Q0FBQTtBQXJqQlksMENBQWUiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9GbG9vZGdhdGVFbmdpbmUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBY3Rpdml0eVRyYWNraW5nU2V0IH0gZnJvbSBcIi4vQWN0aXZpdHlUcmFja2luZ1NldFwiO1xyXG5pbXBvcnQgeyBJVXNlckZhY3RQcm92aWRlciB9IGZyb20gXCIuL0FwaS9BcGlcIjtcclxuaW1wb3J0ICogYXMgSUFjdGl2aXR5TGlzdGVuZXIgZnJvbSBcIi4vQXBpL0lBY3Rpdml0eUxpc3RlbmVyXCI7XHJcbmltcG9ydCB7IElGbG9vZGdhdGVFbnZpcm9ubWVudFByb3ZpZGVyIH0gZnJvbSBcIi4vQXBpL0lGbG9vZGdhdGVFbnZpcm9ubWVudFByb3ZpZGVyXCI7XHJcbmltcG9ydCB7IElGbG9vZGdhdGVTZXR0aW5nU3RvcmFnZUNhbGxiYWNrIH0gZnJvbSBcIi4vQXBpL0lGbG9vZGdhdGVTZXR0aW5nU3RvcmFnZUNhbGxiYWNrXCI7XHJcbmltcG9ydCAqIGFzIElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIgZnJvbSBcIi4vQXBpL0lGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXJcIjtcclxuaW1wb3J0ICogYXMgSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyIGZyb20gXCIuL0FwaS9JRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXJcIjtcclxuaW1wb3J0IHsgSUZsb29kZ2F0ZVRlbGVtZXRyeUxvZ2dlciB9IGZyb20gXCIuL0FwaS9JRmxvb2RnYXRlVGVsZW1ldHJ5TG9nZ2VyXCI7XHJcbmltcG9ydCB7IElPblN1cnZleUFjdGl2YXRlZENhbGxiYWNrIH0gZnJvbSBcIi4vQXBpL0lPblN1cnZleUFjdGl2YXRlZENhbGxiYWNrXCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXkgZnJvbSBcIi4vQXBpL0lTdXJ2ZXlcIjtcclxuaW1wb3J0IHsgSVN1cnZleUxhdW5jaGVyIH0gZnJvbSBcIi4vQXBpL0lTdXJ2ZXlMYXVuY2hlclwiO1xyXG5pbXBvcnQgeyBJU3VydmV5TGF1bmNoZXJGYWN0b3J5IH0gZnJvbSBcIi4vQXBpL0lTdXJ2ZXlMYXVuY2hlckZhY3RvcnlcIjtcclxuaW1wb3J0IHsgSVRlbGVtZXRyeVByb3BlcnRpZXMgfSBmcm9tIFwiLi9BcGkvSVRlbGVtZXRyeVByb3BlcnRpZXNcIjtcclxuaW1wb3J0IHsgSVRyYW5zcG9ydGVyRmFjdG9yeSB9IGZyb20gXCIuL0FwaS9JVHJhbnNwb3J0ZXJGYWN0b3J5XCI7XHJcbmltcG9ydCB7IEZpbGVTeXN0ZW1DYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlciwgSUNhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyIH0gZnJvbSBcIi4vQ2FtcGFpZ24vQ2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXJcIjtcclxuaW1wb3J0IHsgQ2FtcGFpZ25NYW5hZ2VyIH0gZnJvbSBcIi4vQ2FtcGFpZ24vQ2FtcGFpZ25NYW5hZ2VyXCI7XHJcbmltcG9ydCB7IENhbXBhaWduU3RhdGVQcm92aWRlckZhY3RvcnksIElDYW1wYWlnblN0YXRlUHJvdmlkZXIgfSBmcm9tIFwiLi9DYW1wYWlnbi9DYW1wYWlnblN0YXRlUHJvdmlkZXJcIjtcclxuaW1wb3J0IHsgSURpY3Rpb25hcnkgfSBmcm9tIFwiLi9Db21tb25cIjtcclxuaW1wb3J0IHsgVGVsZW1ldHJ5RXZlbnQgfSBmcm9tIFwiLi9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgRmxvb2RnYXRlU2V0dGluZ3MgfSBmcm9tIFwiLi9GbG9vZGdhdGVTZXR0aW5nc1wiO1xyXG5pbXBvcnQgeyBHb3Zlcm5lZENoYW5uZWxUeXBlLCBJR292ZXJuZWRDaGFubmVsRGF0YSB9IGZyb20gXCIuL0dvdmVybmVkQ2hhbm5lbFwiO1xyXG5pbXBvcnQgeyBHb3Zlcm5lZENoYW5uZWxTdGF0ZVByb3ZpZGVyRmFjdG9yeSwgSUdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIgfSBmcm9tIFwiLi9Hb3Zlcm5lZENoYW5uZWxTdGF0ZVByb3ZpZGVyXCI7XHJcbmltcG9ydCB7IEdvdmVybm9yLCBJR292ZXJub3IgfSBmcm9tIFwiLi9Hb3Zlcm5vclwiO1xyXG5pbXBvcnQgeyBJU3VydmV5Q2xpZW50IH0gZnJvbSBcIi4vSVN1cnZleUNsaWVudFwiO1xyXG5pbXBvcnQgKiBhcyBTdXJ2ZXlBY3Rpdml0eUxpc3RlbmVyIGZyb20gXCIuL1N1cnZleUFjdGl2aXR5TGlzdGVuZXJcIjtcclxuaW1wb3J0IHsgSVN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyLCBTdXJ2ZXlBY3RpdmF0aW9uU3RhdHMsIFN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyRmFjdG9yeSxcclxuXHRTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24gfSBmcm9tIFwiLi9TdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb25cIjtcclxuaW1wb3J0IHsgU3VydmV5RXZlbnRBY3Rpdml0eVN0YXRzLCBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHkgfSBmcm9tIFwiLi9TdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHlcIjtcclxuXHJcbmltcG9ydCBGaWxlVHlwZSA9IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIuRmlsZVR5cGU7XHJcbmltcG9ydCB7IEFjdGl2aXR5VHJhY2tpbmdDb250cmFjdCB9IGZyb20gXCIuL0FjdGl2aXR5VHJhY2tpbmdDb250cmFjdFwiO1xyXG5pbXBvcnQgeyBpc05PVSB9IGZyb20gXCIuL1V0aWxzXCI7XHJcblxyXG4vLyBUZWxlbWV0cnkgbG9nZ2VyIHdpdGggbm8tb3AgbG9nZ2VyXHJcbmNsYXNzIERlZmF1bHRGbG9vZGdhdGVUZWxlbWV0cnlMb2dnZXIgaW1wbGVtZW50cyBJRmxvb2RnYXRlVGVsZW1ldHJ5TG9nZ2VyIHtcclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgbG9nX1RyaWdnZXJNZXQoY2FtcGFpZ25JZDogc3RyaW5nLCBzdXJ2ZXlJZDogc3RyaW5nLCBzdXJ2ZXlUeXBlOiBJU3VydmV5LlR5cGUpOiB2b2lkIHt9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBsb2dfVXNlclNlbGVjdGVkKGNhbXBhaWduSWQ6IHN0cmluZywgc3VydmV5SWQ6IHN0cmluZywgc3VydmV5VHlwZTogSVN1cnZleS5UeXBlKTogdm9pZCB7fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgbG9nX0NhbXBhaWduTG9hZF9GYWlsZWQoZXJyb3JNZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHt9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBsb2dfRXJyb3IoZXZlbnRJZDogc3RyaW5nLCBlcnJvck1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge31cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGxvZ19FdmVudChldmVudElkOiBzdHJpbmcsIHByb3BlcnRpZXM6IElUZWxlbWV0cnlQcm9wZXJ0aWVzKTogdm9pZCB7fVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgZW51bSBJbml0aWFsaXphdGlvblN0YXR1cyB7XHJcblx0Tm9uZSA9IDAsXHJcblx0RXJyb3IsXHJcblx0SW5pdGlhbGl6aW5nLFxyXG5cdFN0YXJ0ZWQsXHJcblx0U3RvcHBlZCxcclxufVxyXG5cclxuY29uc3QgZGVmYXVsdFN1cnZleUFjdGl2aXR5TGlzdGVuZXI6IFN1cnZleUFjdGl2aXR5TGlzdGVuZXIuSUFjdGl2aXR5TGlzdGVuZXJDYWxsYmFjayA9IHtcclxuXHRydW4oc3VydmV5KSB7XHJcblx0fSxcclxuXHRzaG91bGRBY2NlcHRBY3Rpdml0eShhY3Rpdml0eU5hbWUpIHtcclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH0sXHJcbn07XHJcblxyXG4vKipcclxuICogRmxvb2RnYXRlIEVuZ2luZSBjbGFzcy4gIFRoZSBtYWluIHdpcmluZyBodWIgYW5kIHRoZSBicmFpbnMgcmVzcG9uc2libGUgZm9yXHJcbiAqIGxpbmtpbmcgdG9nZXRoZXIgdGhlIHN1cnZleSBkZWZpbml0aW9ucywgZ292ZXJuYW5jZSwgYWN0aXZpdHkgdHJhY2tpbmcsIGFuZFxyXG4gKiBzdXJ2ZXkgbGF1bmNoZXJzLiAgT25seSBvbmUtaW5zdGFuY2UtYXQtYS10aW1lIG9mIHRoZXNlIHNob3VsZCBiZSBjcmVhdGVkXHJcbiAqIHBlciBhcHAgc2Vzc2lvbi5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBGbG9vZGdhdGVFbmdpbmUge1xyXG5cdHB1YmxpYyBzdGF0aWMgc2V0VGVsZW1ldHJ5TG9nZ2VyKHRlbGVtZXRyeUxvZ2dlcjogSUZsb29kZ2F0ZVRlbGVtZXRyeUxvZ2dlcik6IHZvaWQge1xyXG5cdFx0aWYgKCF0ZWxlbWV0cnlMb2dnZXIpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwidGVsZW1ldHJ5TG9nZ2VyIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0Rmxvb2RnYXRlRW5naW5lLnRlbGVtZXRyeUxvZ2dlciA9IHRlbGVtZXRyeUxvZ2dlcjtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgZ2V0VGVsZW1ldHJ5TG9nZ2VyKCk6IElGbG9vZGdhdGVUZWxlbWV0cnlMb2dnZXIge1xyXG5cdFx0cmV0dXJuIEZsb29kZ2F0ZUVuZ2luZS50ZWxlbWV0cnlMb2dnZXI7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhdGljIGdldFRyYW5zcG9ydEZhY3RvcnkoKTogSVRyYW5zcG9ydGVyRmFjdG9yeSB7XHJcblx0XHRyZXR1cm4gRmxvb2RnYXRlRW5naW5lLnRyYW5zcG9ydGVyRmFjdG9yeTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgbWFrZShcclxuXHRcdGJ1aWxkVmVyc2lvbjogc3RyaW5nLFxyXG5cdFx0bGF1bmNoZXJGYWN0b3J5OiBJU3VydmV5TGF1bmNoZXJGYWN0b3J5LFxyXG5cdFx0b25TdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFjazogSU9uU3VydmV5QWN0aXZhdGVkQ2FsbGJhY2ssXHJcblx0XHRmaWxlQmFzZWRTdG9yYWdlUHJvdmlkZXI6IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIsXHJcblx0XHRob3N0QmFzZWRTdG9yYWdlUHJvdmlkZXI6IElGbG9vZGdhdGVTZXR0aW5nU3RvcmFnZUNhbGxiYWNrLFxyXG5cdFx0c3RyaW5nUHJvdmlkZXI6IElGbG9vZGdhdGVTdHJpbmdQcm92aWRlcixcclxuXHRcdGVudmlyb25tZW50UHJvdmlkZXI6IElGbG9vZGdhdGVFbnZpcm9ubWVudFByb3ZpZGVyLFxyXG5cdFx0dHJhbnNwb3J0ZXJGYWN0b3J5OiBJVHJhbnNwb3J0ZXJGYWN0b3J5LFxyXG5cdFx0Y2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXJzOiBJQ2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXJbXSxcclxuXHRcdHVzZXJGYWN0c1Byb3ZpZGVyOiBJVXNlckZhY3RQcm92aWRlcik6IEZsb29kZ2F0ZUVuZ2luZSB7XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgZ292ZXJuZWRDaGFubmVsU3RhdGVQcm92aWRlcjogSUdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXJcclxuXHRcdFx0XHQ9IEdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXJGYWN0b3J5Lm1ha2UoZmlsZUJhc2VkU3RvcmFnZVByb3ZpZGVyLCBob3N0QmFzZWRTdG9yYWdlUHJvdmlkZXIpO1xyXG5cclxuXHRcdFx0Y29uc3Qgc3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXI6IElTdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlclxyXG5cdFx0XHRcdD0gU3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXJGYWN0b3J5Lm1ha2UoZmlsZUJhc2VkU3RvcmFnZVByb3ZpZGVyLCBob3N0QmFzZWRTdG9yYWdlUHJvdmlkZXIpO1xyXG5cclxuXHRcdFx0Y29uc3QgY2FtcGFpZ25TdGF0ZVByb3ZpZGVyOiBJQ2FtcGFpZ25TdGF0ZVByb3ZpZGVyXHJcblx0XHRcdFx0PSBDYW1wYWlnblN0YXRlUHJvdmlkZXJGYWN0b3J5Lm1ha2UoZmlsZUJhc2VkU3RvcmFnZVByb3ZpZGVyLCBob3N0QmFzZWRTdG9yYWdlUHJvdmlkZXIpO1xyXG5cclxuXHRcdFx0Y2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXJzLnB1c2gobmV3IEZpbGVTeXN0ZW1DYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlcihmaWxlQmFzZWRTdG9yYWdlUHJvdmlkZXIpKTtcclxuXHRcdFx0cmV0dXJuIG5ldyBGbG9vZGdhdGVFbmdpbmUoXHJcblx0XHRcdFx0bmV3IENhbXBhaWduTWFuYWdlcihcclxuXHRcdFx0XHRcdGNhbXBhaWduU3RhdGVQcm92aWRlcixcclxuXHRcdFx0XHRcdGNhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVycyxcclxuXHRcdFx0XHRcdHN0cmluZ1Byb3ZpZGVyLFxyXG5cdFx0XHRcdFx0ZW52aXJvbm1lbnRQcm92aWRlcixcclxuXHRcdFx0XHRcdGJ1aWxkVmVyc2lvbixcclxuXHRcdFx0XHRcdG5ldyBEYXRlKCksXHJcblx0XHRcdFx0XHR1c2VyRmFjdHNQcm92aWRlcixcclxuXHRcdFx0XHQpLFxyXG5cdFx0XHRcdG5ldyBTdXJ2ZXlBY3Rpdml0eUxpc3RlbmVyKFxyXG5cdFx0XHRcdFx0ZGVmYXVsdFN1cnZleUFjdGl2aXR5TGlzdGVuZXIsXHJcblx0XHRcdFx0XHR0aGlzLmdldFRlbGVtZXRyeUxvZ2dlcixcclxuXHRcdFx0XHQpLFxyXG5cdFx0XHRcdGxhdW5jaGVyRmFjdG9yeSxcclxuXHRcdFx0XHRvblN1cnZleUFjdGl2YXRlZENhbGxiYWNrLFxyXG5cdFx0XHRcdGZpbGVCYXNlZFN0b3JhZ2VQcm92aWRlcixcclxuXHRcdFx0XHRuZXcgR292ZXJub3IoXHJcblx0XHRcdFx0XHRnb3Zlcm5lZENoYW5uZWxTdGF0ZVByb3ZpZGVyLFxyXG5cdFx0XHRcdCksXHJcblx0XHRcdFx0c3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXIsXHJcblx0XHRcdFx0dHJhbnNwb3J0ZXJGYWN0b3J5LFxyXG5cdFx0XHQpO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHR0aGlzLnRlbGVtZXRyeUxvZ2dlci5sb2dfRXZlbnQoVGVsZW1ldHJ5RXZlbnQuRmxvb2RnYXRlRW5naW5lLk1ha2UuRmFpbGVkLFxyXG5cdFx0XHRcdHsgRXJyb3JNZXNzYWdlOiBlICYmIGUudG9TdHJpbmcoKSwgRXJyb3JEZXRhaWxzOiBlICYmIGUuc3RhY2sgfSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBJbml0aWFsaXplIHRlbGVtZXRyeSBsb2dnZXIgd2l0aCBuby1vcCBsb2dnZXJcclxuXHRwcml2YXRlIHN0YXRpYyB0ZWxlbWV0cnlMb2dnZXI6IElGbG9vZGdhdGVUZWxlbWV0cnlMb2dnZXIgPSBuZXcgRGVmYXVsdEZsb29kZ2F0ZVRlbGVtZXRyeUxvZ2dlcigpO1xyXG5cdHByaXZhdGUgc3RhdGljIHRyYW5zcG9ydGVyRmFjdG9yeTogSVRyYW5zcG9ydGVyRmFjdG9yeTtcclxuXHJcblx0cHJpdmF0ZSBzdXJ2ZXlDbGllbnQ6IElTdXJ2ZXlDbGllbnQ7XHJcblx0cHJpdmF0ZSBhY3Rpdml0eUxpc3RlbmVyOiBTdXJ2ZXlBY3Rpdml0eUxpc3RlbmVyO1xyXG5cdHByaXZhdGUgb25TdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFjazogSU9uU3VydmV5QWN0aXZhdGVkQ2FsbGJhY2s7XHJcblx0cHJpdmF0ZSBsYXVuY2hlckZhY3Rvcnk6IElTdXJ2ZXlMYXVuY2hlckZhY3Rvcnk7XHJcblx0cHJpdmF0ZSBzdG9yYWdlOiBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyO1xyXG5cdHByaXZhdGUgZ292ZXJub3I6IElHb3Zlcm5vcjtcclxuXHRwcml2YXRlIGluaXRpYWxpemF0aW9uU3RhdHVzOiBJbml0aWFsaXphdGlvblN0YXR1cyA9IEluaXRpYWxpemF0aW9uU3RhdHVzLk5vbmU7XHJcblx0cHJpdmF0ZSBsb2dnZWRGaXJzdFN0YXJ0OiBib29sZWFuO1xyXG5cclxuXHRwcml2YXRlIGZsb29kZ2F0ZVNldHRpbmdzOiBGbG9vZGdhdGVTZXR0aW5ncztcclxuXHRwcml2YXRlIHByZXZpb3VzU3VydmV5QWN0aXZhdGlvblN0YXRzOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb247XHJcblx0cHJpdmF0ZSBwcmV2aW91c1N1cnZleUV2ZW50QWN0aXZpdHlTdGF0czogU3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5O1xyXG5cclxuXHRwcml2YXRlIGNhbmRpZGF0ZVN1cnZleXM6IElEaWN0aW9uYXJ5PElTdXJ2ZXk+ID0ge307XHJcblx0cHJpdmF0ZSBsYXVuY2hlZFN1cnZleXM6IElEaWN0aW9uYXJ5PElTdXJ2ZXk+ID0ge307XHJcblx0cHJpdmF0ZSBsYXVuY2hlZExhdW5jaGVyczogSVN1cnZleUxhdW5jaGVyW10gPSBbXTtcclxuXHRwcml2YXRlIHN1cnZleUV2ZW50U2VudDogc3RyaW5nW10gPSBbXTtcclxuXHJcblx0cHJpdmF0ZSBzdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlcjogSVN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3Ioc3VydmV5Q2xpZW50OiBJU3VydmV5Q2xpZW50LCBhY3Rpdml0eUxpc3RlbmVyOiBTdXJ2ZXlBY3Rpdml0eUxpc3RlbmVyLCBsYXVuY2hlckZhY3Rvcnk6IElTdXJ2ZXlMYXVuY2hlckZhY3RvcnksXHJcblx0XHRvblN1cnZleUFjdGl2YXRlZENhbGxiYWNrOiBJT25TdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFjaywgc3RvcmFnZTogSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlciwgZ292ZXJub3I6IElHb3Zlcm5vcixcclxuXHRcdHN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyOiBJU3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXIsIHRyYW5zcG9ydGVyRmFjdG9yeTogSVRyYW5zcG9ydGVyRmFjdG9yeSkge1xyXG5cclxuXHRcdGlmICghc3VydmV5Q2xpZW50KSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcInN1cnZleUNsaWVudCBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFhY3Rpdml0eUxpc3RlbmVyKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImFjdGl2aXR5TGlzdGVuZXIgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghbGF1bmNoZXJGYWN0b3J5KSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImxhdW5jaGVyRmFjdG9yeSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFvblN1cnZleUFjdGl2YXRlZENhbGxiYWNrKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm9uU3VydmV5QWN0aXZhdGVkQ2FsbGJhY2sgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghc3RvcmFnZSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJzdG9yYWdlIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIWdvdmVybm9yKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImdvdmVybm9yIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIXRyYW5zcG9ydGVyRmFjdG9yeSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJ0cmFuc3BvcnRlckZhY3RvcnkgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnN1cnZleUNsaWVudCA9IHN1cnZleUNsaWVudDtcclxuXHRcdHRoaXMuYWN0aXZpdHlMaXN0ZW5lciA9IGFjdGl2aXR5TGlzdGVuZXI7XHJcblx0XHR0aGlzLmxhdW5jaGVyRmFjdG9yeSA9IGxhdW5jaGVyRmFjdG9yeTtcclxuXHRcdHRoaXMub25TdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFjayA9IG9uU3VydmV5QWN0aXZhdGVkQ2FsbGJhY2s7XHJcblx0XHR0aGlzLnN0b3JhZ2UgPSBzdG9yYWdlO1xyXG5cdFx0dGhpcy5nb3Zlcm5vciA9IGdvdmVybm9yO1xyXG5cdFx0dGhpcy5zdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlciA9IHN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyO1xyXG5cdFx0Rmxvb2RnYXRlRW5naW5lLnRyYW5zcG9ydGVyRmFjdG9yeSA9IHRyYW5zcG9ydGVyRmFjdG9yeTtcclxuXHJcblx0XHR0aGlzLmxvZ2dlZEZpcnN0U3RhcnQgPSBmYWxzZTtcclxuXHJcblx0XHQvLyBJbml0aWFsaXplIG91ciBsaXN0IHRvIGEgdmFsaWQsIGVtcHR5IGNvbGxlY3Rpb25cclxuXHRcdHRoaXMuc2V0UGVuZGluZ1N1cnZleXMobnVsbCk7XHJcblxyXG5cdFx0Ly8gSWYgdGhlIGxpc3RlbmVyIHdhcyBwcmUtY29uZmlndXJlZCB3aXRoIHN1cnZleSBmb3Igc29tZSByZWFzb24sIGNsZWFyIGl0IG5vd1xyXG5cdFx0dGhpcy5hY3Rpdml0eUxpc3RlbmVyLmNsZWFyU3VydmV5cygpO1xyXG5cclxuXHRcdC8vIExpbmsgb3Vyc2VsdmVzIHdpdGggdGhlIGxpc3RlbmVyXHJcblx0XHRjb25zdCB0aGlzT2JqID0gdGhpczsgLy8gU2F2ZSBjdXJyZW50IG9iamVjdCBpbiBhIHZhcmlhYmxlIHRvIGFsbG93IGFjY2VzcyBmcm9tIGNhbGxiYWNrLlxyXG5cdFx0dGhpcy5hY3Rpdml0eUxpc3RlbmVyLnNldENhbGxiYWNrKHtcclxuXHRcdFx0cnVuKHN1cnZleUlkOiBzdHJpbmcpIHtcclxuXHRcdFx0XHR0aGlzT2JqLm9uU3VydmV5QWN0aXZhdGVkKHN1cnZleUlkKTtcclxuXHRcdFx0fSxcclxuXHRcdFx0c2hvdWxkQWNjZXB0QWN0aXZpdHkoYWN0aXZpdHlOYW1lOiBzdHJpbmcpIHtcclxuXHRcdFx0XHRyZXR1cm4gdGhpc09iai5zaG91bGRBY2NlcHRBY3Rpdml0eShhY3Rpdml0eU5hbWUpO1xyXG5cdFx0XHR9LFxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTYXZlIGFsbCBpbnRlcm5hbCBzdGF0cyBhbmQgZmxvb2RnYXRlU2V0dGluZ3MgKG1lcmdpbmcgd2l0aCBleGlzdGluZyBmaWxlIGNvbnRlbnRzKSwgd2l0aG91dCBzdG9wcGluZyB0aGUgZW5naW5lLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyBtZXJnZUFuZFNhdmUoKTogdm9pZCB7XHJcblx0XHR0aGlzLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0dGhpcy5zYXZlU3VydmV5QWN0aXZhdGlvbkhpc3RvcnkoKTtcclxuXHRcdHRoaXMuc2F2ZVN1cnZleUV2ZW50QWN0aXZpdHlIaXN0b3J5KCk7XHJcblxyXG5cdFx0Ly8gSW5mb3JtIHN1cnZleUNsaWVudCB0byBzYXZlIGl0cyBzdGF0ZVxyXG5cdFx0dGhpcy5zdXJ2ZXlDbGllbnQuc2F2ZUN1cnJlbnRTdGF0ZSgpO1xyXG5cclxuXHRcdC8vIFNhdmUgZ292ZXJuZWQgY2hhbm5lbCBzdGF0ZXNcclxuXHRcdHRoaXMuZ292ZXJub3Iuc2F2ZUNoYW5uZWxTdGF0ZXMoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFN0YXJ0IHRoZSBlbmdpbmUuICBDaGVja3MgZmVhdHVyZSBlbmFibGUgc3RhdGUsIGNhdXNlcyBzdXJ2ZXkgZGVmaW5pdGlvbnMgdG8gYmUgcmVhZCwgYW5kIHRyYWNrZWQgYWN0aXZpdGllcyB0byBiZSBzZXQgb24gdGhlIGxpc3RlbmVyLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyBzdGFydCgpOiB2b2lkIHtcclxuXHRcdGlmICh0aGlzLmluaXRpYWxpemF0aW9uU3RhdHVzID09PSBJbml0aWFsaXphdGlvblN0YXR1cy5Jbml0aWFsaXppbmcgfHxcclxuXHRcdFx0dGhpcy5pbml0aWFsaXphdGlvblN0YXR1cyA9PT0gSW5pdGlhbGl6YXRpb25TdGF0dXMuU3RhcnRlZCkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0dGhpcy5zZXRJbml0aWFsaXphdGlvblN0YXR1cyhJbml0aWFsaXphdGlvblN0YXR1cy5Jbml0aWFsaXppbmcpO1xyXG5cdFx0XHR0aGlzLmxvYWRTZXR0aW5nc0FuZFByaW9yRXZlbnRDb3VudHMoKTtcclxuXHJcblx0XHRcdGNvbnN0IGNoYW5uZWxUeXBlczogR292ZXJuZWRDaGFubmVsVHlwZVtdID0gdGhpcy5nZXRBdmFpbGFibGVDaGFubmVsVHlwZXMoKTtcclxuXHJcblx0XHRcdHRoaXMuc3VydmV5Q2xpZW50LnJlZnJlc2hTdXJ2ZXlEZWZpbml0aW9ucyhjaGFubmVsVHlwZXMpO1xyXG5cclxuXHRcdFx0dGhpcy5zZXRQZW5kaW5nU3VydmV5c0FuZFN0YXJ0Rmxvb2RnYXRlKCk7XHJcblx0XHRcdHRoaXMuc2V0SW5pdGlhbGl6YXRpb25TdGF0dXMoSW5pdGlhbGl6YXRpb25TdGF0dXMuU3RhcnRlZCk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdHRoaXMuc2V0SW5pdGlhbGl6YXRpb25TdGF0dXMoSW5pdGlhbGl6YXRpb25TdGF0dXMuRXJyb3IpO1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZUVuZ2luZS5TdGFydC5GYWlsZWQsXHJcblx0XHRcdFx0eyBFcnJvck1lc3NhZ2U6IGUgJiYgZS50b1N0cmluZygpLCBFcnJvckRldGFpbHM6IGUgJiYgZS5zdGFjayB9KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFN0YXJ0IHRoZSBlbmdpbmUuICBDaGVja3MgZmVhdHVyZSBlbmFibGUgc3RhdGUsIGNhdXNlcyBzdXJ2ZXkgZGVmaW5pdGlvbnMgdG8gYmUgcmVhZCwgYW5kIHRyYWNrZWQgYWN0aXZpdGllcyB0byBiZSBzZXQgb24gdGhlIGxpc3RlbmVyLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyBzdGFydEFzeW5jKCk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0aWYgKHRoaXMuaW5pdGlhbGl6YXRpb25TdGF0dXMgPT09IEluaXRpYWxpemF0aW9uU3RhdHVzLkluaXRpYWxpemluZyB8fFxyXG5cdFx0XHR0aGlzLmluaXRpYWxpemF0aW9uU3RhdHVzID09PSBJbml0aWFsaXphdGlvblN0YXR1cy5TdGFydGVkKSB7XHJcblx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuXHRcdH1cclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHR0aGlzLnNldEluaXRpYWxpemF0aW9uU3RhdHVzKEluaXRpYWxpemF0aW9uU3RhdHVzLkluaXRpYWxpemluZyk7XHJcblx0XHRcdHRoaXMubG9hZFNldHRpbmdzQW5kUHJpb3JFdmVudENvdW50cygpO1xyXG5cclxuXHRcdFx0Y29uc3QgY2hhbm5lbFR5cGVzOiBHb3Zlcm5lZENoYW5uZWxUeXBlW10gPSB0aGlzLmdldEF2YWlsYWJsZUNoYW5uZWxUeXBlcygpO1xyXG5cclxuXHRcdFx0Y29uc3QgdGhpc0Zsb29kZ2F0ZUVuZ2luZSA9IHRoaXM7XHJcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0dGhpc0Zsb29kZ2F0ZUVuZ2luZS5zdXJ2ZXlDbGllbnQucmVmcmVzaFN1cnZleURlZmluaXRpb25zQXN5bmMoY2hhbm5lbFR5cGVzKS50aGVuKFxyXG5cdFx0XHRcdFx0ZnVuY3Rpb24gb25GdWxmaWxsZWQoKSB7XHJcblx0XHRcdFx0XHRcdC8vIEhhbmRsZSBhbnkgc3RvcCgpIGNhbGxzIHRoYXQgaGFwcGVuZWQgd2hpbGUgaW5pdGlhbGl6aW5nXHJcblx0XHRcdFx0XHRcdGlmICh0aGlzRmxvb2RnYXRlRW5naW5lLmluaXRpYWxpemF0aW9uU3RhdHVzID09PSBJbml0aWFsaXphdGlvblN0YXR1cy5TdG9wcGVkKSB7XHJcblx0XHRcdFx0XHRcdFx0dGhpc0Zsb29kZ2F0ZUVuZ2luZS5zZXRJbml0aWFsaXphdGlvblN0YXR1cyhJbml0aWFsaXphdGlvblN0YXR1cy5TdGFydGVkKTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzRmxvb2RnYXRlRW5naW5lLnN0b3AoKTtcclxuXHRcdFx0XHRcdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZUVuZ2luZS5TdGFydEFzeW5jLlN0b3BwZWQsXHJcblx0XHRcdFx0XHRcdFx0XHR7IEVycm9yTWVzc2FnZTogXCJTdG9wcGVkIGJlY2F1c2Ugb2YgYSBwZW5kaW5nIHN0b3AoKSBjYWxsXCIgfSk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0dGhpc0Zsb29kZ2F0ZUVuZ2luZS5zZXRQZW5kaW5nU3VydmV5c0FuZFN0YXJ0Rmxvb2RnYXRlKCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0KS5jYXRjaChcclxuXHRcdFx0XHRcdGZ1bmN0aW9uIE9uUmVqZWN0ZWQoZXJyb3I6IEVycm9yKSB7XHJcblx0XHRcdFx0XHRcdHRoaXNGbG9vZGdhdGVFbmdpbmUuc2V0SW5pdGlhbGl6YXRpb25TdGF0dXMoSW5pdGlhbGl6YXRpb25TdGF0dXMuRXJyb3IpO1xyXG5cdFx0XHRcdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZUVuZ2luZS5TdGFydEFzeW5jLkZhaWxlZCxcclxuXHRcdFx0XHRcdFx0XHR7IEVycm9yTWVzc2FnZTogXCJTdXJ2ZXkgcmVmcmVzaCBlcnJvciBcIiArIChlcnJvciAmJiBlcnJvci5tZXNzYWdlKSB9KTtcclxuXHJcblx0XHRcdFx0XHRcdHJlamVjdChlcnJvcik7XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHR0aGlzLnNldEluaXRpYWxpemF0aW9uU3RhdHVzKEluaXRpYWxpemF0aW9uU3RhdHVzLkVycm9yKTtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FdmVudChUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGVFbmdpbmUuU3RhcnRBc3luYy5GYWlsZWQsXHJcblx0XHRcdFx0eyBFcnJvck1lc3NhZ2U6IGUgJiYgZS50b1N0cmluZygpLCBFcnJvckRldGFpbHM6IGUgJiYgZS5zdGFjayB9KTtcclxuXHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU3RvcCB0aGUgZW5naW5lLiAgQ2F1c2VzIHRyYWNrZWQgYWN0aXZpdGllcyB0byBiZSBjbGVhcmVkIGFuZCBhbnkgaW4tcHJvZ3Jlc3MgY291bnRlcnMgbm90IG90aGVyd2lzZSBzYXZlZCB0byBiZSB0aHJvd24gb3V0LlxyXG5cdCAqL1xyXG5cdHB1YmxpYyBzdG9wKCk6IHZvaWQge1xyXG5cdFx0aWYgKHRoaXMuaW5pdGlhbGl6YXRpb25TdGF0dXMgPT09IEluaXRpYWxpemF0aW9uU3RhdHVzLlN0YXJ0ZWQpIHtcclxuXHRcdFx0dGhpcy5tZXJnZUFuZFNhdmUoKTtcclxuXHJcblx0XHRcdC8vIENsZWFyIG91ciBTdXJ2ZXkgbGlzdCwgYW5kIHB1c2ggdGhhdCB0aHJvdWdoIHRvIHRoZSBsaXN0ZW5lclxyXG5cdFx0XHR0aGlzLnNldFBlbmRpbmdTdXJ2ZXlzKG51bGwpO1xyXG5cdFx0XHR0aGlzLnVwZGF0ZUFjdGl2aXR5TGlzdGVuZXJXaXRoQ3VycmVudFN1cnZleURlZmluaXRpb25zKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5zZXRJbml0aWFsaXphdGlvblN0YXR1cyhJbml0aWFsaXphdGlvblN0YXR1cy5TdG9wcGVkKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldHMgdGhlIElBY3Rpdml0eUxpc3RlbmVyIGxvZ2dpbmcgaW50ZXJmYWNlIGZvciBjYWxsZXJzIHRoYXQgd2FudCB0byBsb2cgZGlyZWN0bHkgcmF0aGVyIHRoYW4gdGhyb3VnaCB0ZWxlbWV0cnlcclxuXHQgKi9cclxuXHRwdWJsaWMgZ2V0QWN0aXZpdHlMaXN0ZW5lcigpOiBJQWN0aXZpdHlMaXN0ZW5lciB7XHJcblx0XHRyZXR1cm4gdGhpcy5hY3Rpdml0eUxpc3RlbmVyO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzZXRJbml0aWFsaXphdGlvblN0YXR1cyhzdGF0dXM6IEluaXRpYWxpemF0aW9uU3RhdHVzKTogdm9pZCB7XHJcblx0XHR0aGlzLmluaXRpYWxpemF0aW9uU3RhdHVzID0gc3RhdHVzO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzYXZlU2V0dGluZ3MoKTogdm9pZCB7XHJcblx0XHR0aGlzLnN0b3JhZ2UuZmlsZUxvY2soRmlsZVR5cGUuRmxvb2RnYXRlU2V0dGluZ3MpO1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdHRoaXMud3JpdGVTdHJpbmcoRmlsZVR5cGUuRmxvb2RnYXRlU2V0dGluZ3MsIEZsb29kZ2F0ZVNldHRpbmdzLnRvSnNvbih0aGlzLmZsb29kZ2F0ZVNldHRpbmdzKSk7XHJcblx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHR0aGlzLnN0b3JhZ2UuZmlsZVVubG9jayhGaWxlVHlwZS5GbG9vZGdhdGVTZXR0aW5ncyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGxvYWRTZXR0aW5nc0FuZFByaW9yRXZlbnRDb3VudHMoKTogdm9pZCB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHQvLyBMb2FkIHVwIHRoZSBwcmlvciBzdXJ2ZXkgaGlzdG9yeSBhbmQgcHJpb3IgZXZlbnQgY291bnRzXHJcblx0XHRcdHRoaXMucHJldmlvdXNTdXJ2ZXlBY3RpdmF0aW9uU3RhdHMgPSB0aGlzLnN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyLmxvYWQoKTtcclxuXHJcblx0XHRcdHRoaXMucHJldmlvdXNTdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHMgPVxyXG5cdFx0XHRcdFN1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eS5mcm9tSnNvbih0aGlzLnJlYWRTdHJpbmcoRmlsZVR5cGUuU3VydmV5RXZlbnRBY3Rpdml0eVN0YXRzKSk7XHJcblxyXG5cdFx0XHQvLyBnZXQgdGhlIGxpc3Qgb2Ygc3VydmV5IElkIC0gYWxsIHRoZSBzdXJ2ZXkgc2hvdWxkIGhhdmUgZXZlbnQgc2VudCBhbHJlYWR5XHJcblx0XHRcdGNvbnN0IHN0YXRzOiBJRGljdGlvbmFyeTxTdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHM+ID0gdGhpcy5wcmV2aW91c1N1cnZleUV2ZW50QWN0aXZpdHlTdGF0cy5nZXRTdGF0cygpO1xyXG5cdFx0XHRmb3IgKGNvbnN0IGtleSBpbiBzdGF0cykge1xyXG5cdFx0XHRcdGlmIChzdGF0cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0XHR0aGlzLnN1cnZleUV2ZW50U2VudC5wdXNoKGtleSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBMb2FkIHVwIHRoZSBnZW5lcmFsIGZsb29kZ2F0ZVNldHRpbmdzXHJcblx0XHRcdHRoaXMuZmxvb2RnYXRlU2V0dGluZ3MgPSBGbG9vZGdhdGVTZXR0aW5ncy5mcm9tSnNvbih0aGlzLnJlYWRTdHJpbmcoRmlsZVR5cGUuRmxvb2RnYXRlU2V0dGluZ3MpKTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FdmVudChUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGVFbmdpbmUuQ29tbW9uLkVycm9yLFxyXG5cdFx0XHRcdHsgRXJyb3JNZXNzYWdlOiBcIkVycm9yIGxvYWRpbmcgcHJpb3Igc2V0dGluZ3MvZXZlbnRzIFwiICsgKGUgJiYgZS50b1N0cmluZygpKSB9KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0QXZhaWxhYmxlQ2hhbm5lbFR5cGVzKCk6IEdvdmVybmVkQ2hhbm5lbFR5cGVbXSB7XHJcblx0XHQvLyBNYWtlIHN1cmUgd2UndmUgbG9hZGVkIHRoZSBjdXJyZW50IHN1cnZleSBkZWZpbml0aW9uc1xyXG5cdFx0Y29uc3QgY2hhbm5lbHM6IElHb3Zlcm5lZENoYW5uZWxEYXRhW10gPSB0aGlzLmdvdmVybm9yLmdldEF2YWlsYWJsZUNoYW5uZWxEYXRhKCk7XHJcblx0XHRjb25zdCBjaGFubmVsVHlwZXM6IEdvdmVybmVkQ2hhbm5lbFR5cGVbXSA9IFtdO1xyXG5cclxuXHRcdGNoYW5uZWxzLmZvckVhY2goKGNoYW5uZWwpID0+IHtcclxuXHRcdFx0aWYgKGNoYW5uZWwpIHtcclxuXHRcdFx0XHRjaGFubmVsVHlwZXMucHVzaChjaGFubmVsLmdldFR5cGUoKSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHJldHVybiBjaGFubmVsVHlwZXM7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHNldFBlbmRpbmdTdXJ2ZXlzQW5kU3RhcnRGbG9vZGdhdGUoKTogdm9pZCB7XHJcblx0XHQvLyBVcGRhdGUgb3VyIHN1cnZleSBsaXN0LCBhbmQgcHVzaCB0aGF0IHRocm91Z2ggdG8gdGhlIGxpc3RlbmVyXHJcblx0XHR0aGlzLnNldFBlbmRpbmdTdXJ2ZXlzKHRoaXMuc3VydmV5Q2xpZW50LmdldEFwcFN1cnZleXMoKSk7XHJcblx0XHR0aGlzLnVwZGF0ZUFjdGl2aXR5TGlzdGVuZXJXaXRoQ3VycmVudFN1cnZleURlZmluaXRpb25zKCk7XHJcblxyXG5cdFx0Ly8gTWFyayB1cyBhcyBzdGFydGVkXHJcblx0XHR0aGlzLnNldEluaXRpYWxpemF0aW9uU3RhdHVzKEluaXRpYWxpemF0aW9uU3RhdHVzLlN0YXJ0ZWQpO1xyXG5cclxuXHRcdC8vIExvZyBvdXIgZmlyc3Qgc3RhcnQgKGFrYSBmbG9vZGdhdGUgYm9vdCkgZXZlbnRcclxuXHRcdGlmICghdGhpcy5sb2dnZWRGaXJzdFN0YXJ0KSB7XHJcblx0XHRcdHRoaXMubG9nZ2VkRmlyc3RTdGFydCA9IHRydWU7XHJcblx0XHRcdHRoaXMuZ2V0QWN0aXZpdHlMaXN0ZW5lcigpLmxvZ0FjdGl2aXR5KFN1cnZleUFjdGl2aXR5TGlzdGVuZXIuRmxvb2RnYXRlU3RhcnRBY3Rpdml0eU5hbWUpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzYXZlU3VydmV5QWN0aXZhdGlvbkhpc3RvcnkoKTogdm9pZCB7XHJcblx0XHR0aGlzLnN0b3JhZ2UuZmlsZUxvY2soRmlsZVR5cGUuU3VydmV5QWN0aXZhdGlvblN0YXRzKTtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCBzdGF0Q29sbGVjdGlvbjogU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uID0gdGhpcy5zdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlci5sb2FkKCk7XHJcblxyXG5cdFx0XHQvLyBCdWlsZCB0aGUgdXBkYXRlIGNvbGxlY3Rpb25cclxuXHRcdFx0Y29uc3QgdXBkYXRlQ29sbGVjdGlvbiA9IG5ldyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24oKTtcclxuXHRcdFx0Zm9yIChjb25zdCBrZXkgaW4gdGhpcy5sYXVuY2hlZFN1cnZleXMpIHtcclxuXHRcdFx0XHRpZiAodGhpcy5sYXVuY2hlZFN1cnZleXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdFx0Y29uc3Qgc3RhdHM6IFN1cnZleUFjdGl2YXRpb25TdGF0cyA9IG5ldyBTdXJ2ZXlBY3RpdmF0aW9uU3RhdHMoKTtcclxuXHRcdFx0XHRcdGNvbnN0IHN1cnZleTogSVN1cnZleSA9IHRoaXMubGF1bmNoZWRTdXJ2ZXlzW2tleV07XHJcblx0XHRcdFx0XHRzdGF0cy5UeXBlID0gc3VydmV5LmdldFR5cGUoKTtcclxuXHRcdFx0XHRcdHN0YXRzLkV4cGlyYXRpb25UaW1lVXRjID0gc3VydmV5LmdldFN1cnZleUluZm8oKS5nZXRFeHBpcmF0aW9uVGltZVV0YygpO1xyXG5cdFx0XHRcdFx0c3RhdHMuQWN0aXZhdGlvblRpbWVVdGMgPSBuZXcgRGF0ZSgpO1xyXG5cclxuXHRcdFx0XHRcdC8vIE1ha2UgdGhpcyBwYXJ0IG9mIHRoZSB1cGRhdGUgbGlzdFxyXG5cdFx0XHRcdFx0dXBkYXRlQ29sbGVjdGlvbi5hZGRTdGF0cyhzdXJ2ZXkuZ2V0U3VydmV5SW5mbygpLmdldElkKCksIHN0YXRzKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIEFjdHVhbGx5IG1lcmdlIG91ciB1cGRhdGVzIGludG8gdGhlIGZ1bGwgY29sbGVjdGlvblxyXG5cdFx0XHRzdGF0Q29sbGVjdGlvbi5hY2N1bXVsYXRlKHVwZGF0ZUNvbGxlY3Rpb24pO1xyXG5cdFx0XHR0aGlzLnN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyLnNhdmUoc3RhdENvbGxlY3Rpb24pO1xyXG5cclxuXHRcdFx0Ly8gTWFrZSBzdXJlIHRvIGtlZXAgb3VyIGludGVybmFsIGNvbGxlY3Rpb24gY29uc2lzdGVudCB3aXRoIHdoYXQgd2UganVzdCB3cm90ZVxyXG5cdFx0XHR0aGlzLnByZXZpb3VzU3VydmV5QWN0aXZhdGlvblN0YXRzID0gc3RhdENvbGxlY3Rpb247XHJcblx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHR0aGlzLnN0b3JhZ2UuZmlsZVVubG9jayhGaWxlVHlwZS5TdXJ2ZXlBY3RpdmF0aW9uU3RhdHMpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzYXZlU3VydmV5RXZlbnRBY3Rpdml0eUhpc3RvcnkoKTogdm9pZCB7XHJcblx0XHR0aGlzLnN0b3JhZ2UuZmlsZUxvY2soRmlsZVR5cGUuU3VydmV5RXZlbnRBY3Rpdml0eVN0YXRzKTtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCBzdGF0Q29sbGVjdGlvbjogU3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5ID1cclxuXHRcdFx0XHRTdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHkuZnJvbUpzb24odGhpcy5yZWFkU3RyaW5nKEZpbGVUeXBlLlN1cnZleUV2ZW50QWN0aXZpdHlTdGF0cykpO1xyXG5cclxuXHRcdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKTtcclxuXHRcdFx0Ly8gRmlsbCBvdXQgb3VyIGxpc3Qgb2YgdXBkYXRlc1xyXG5cdFx0XHRjb25zdCB1cGRhdGVDb2xsZWN0aW9uID0gbmV3IFN1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eSgpO1xyXG5cdFx0XHRmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmNhbmRpZGF0ZVN1cnZleXMpIHtcclxuXHRcdFx0XHRpZiAodGhpcy5jYW5kaWRhdGVTdXJ2ZXlzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRcdGNvbnN0IHN0YXRzOiBTdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHMgPSBuZXcgU3VydmV5RXZlbnRBY3Rpdml0eVN0YXRzKCk7XHJcblx0XHRcdFx0XHRjb25zdCBzdXJ2ZXk6IElTdXJ2ZXkgPSB0aGlzLmNhbmRpZGF0ZVN1cnZleXNba2V5XTtcclxuXHJcblx0XHRcdFx0XHRpZiAoIXN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuaXNBY3RpdmVGb3JEYXRlKG5vdykpIHtcclxuXHRcdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0c3RhdHMuRXhwaXJhdGlvblRpbWVVdGMgPSBzdXJ2ZXkuZ2V0U3VydmV5SW5mbygpLmdldEV4cGlyYXRpb25UaW1lVXRjKCk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gR2V0IHRoZSBhY3Rpdml0aWVzIHdoaWNoIGFyZSBhZ2dyZWdhdGVkLCBpZiB0aGVyZSBhcmVuJ3QgYW55IGNvbnRpbnVlXHJcblx0XHRcdFx0XHRjb25zdCBhbGxBY3Rpdml0aWVzOiBBY3Rpdml0eVRyYWNraW5nU2V0ID0gc3VydmV5LmdldFN1cnZleUluZm8oKS5nZXRBY3RpdmF0aW9uRXZlbnQoKS5nZXRUcmFja2luZ1NldCgpO1xyXG5cdFx0XHRcdFx0Y29uc3QgYWdncmVnYXRlQWN0aXZpdGllczogc3RyaW5nW10gPSBbXTtcclxuXHJcblx0XHRcdFx0XHRhbGxBY3Rpdml0aWVzLmdldExpc3QoKS5mb3JFYWNoKChkYXRhKSA9PiB7XHJcblx0XHRcdFx0XHRcdGlmIChkYXRhICYmIGRhdGEuZ2V0SXNBZ2dyZWdhdGUoKSkge1xyXG5cdFx0XHRcdFx0XHRcdGFnZ3JlZ2F0ZUFjdGl2aXRpZXMucHVzaChkYXRhLmdldEFjdGl2aXR5KCkpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRpZiAoYWdncmVnYXRlQWN0aXZpdGllcy5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0c3RhdHMuQ291bnRzID0gbmV3IEFycmF5KGFnZ3JlZ2F0ZUFjdGl2aXRpZXMubGVuZ3RoKTtcclxuXHJcblx0XHRcdFx0XHQvLyBTYXZlIG9mZiB0aGUgY291bnRzIHdlJ3ZlIGFkZGVkIGZvciB0aGlzIHNlc3Npb25cclxuXHRcdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYWdncmVnYXRlQWN0aXZpdGllcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdFx0XHRzdGF0cy5Db3VudHNbaV0gPSB0aGlzLmFjdGl2aXR5TGlzdGVuZXIubW92ZVNlc3Npb25Db3VudEludG9CYXNlQ291bnQoYWdncmVnYXRlQWN0aXZpdGllc1tpXSwgc3VydmV5LmdldFN1cnZleUluZm8oKS5nZXRJZCgpKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyBNYWtlIHRoaXMgcGFydCBvZiB0aGUgdXBkYXRlIGxpc3RcclxuXHRcdFx0XHRcdHVwZGF0ZUNvbGxlY3Rpb24uYWRkU3RhdHMoc3VydmV5LmdldFN1cnZleUluZm8oKS5nZXRJZCgpLCBzdGF0cyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBBY3R1YWxseSBtZXJnZSBvdXIgdXBkYXRlcyBpbnRvIHRoZSBmdWxsIGNvbGxlY3Rpb25cclxuXHRcdFx0c3RhdENvbGxlY3Rpb24uYWNjdW11bGF0ZSh1cGRhdGVDb2xsZWN0aW9uKTtcclxuXHJcblx0XHRcdHRoaXMud3JpdGVTdHJpbmcoRmlsZVR5cGUuU3VydmV5RXZlbnRBY3Rpdml0eVN0YXRzLCBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHkudG9Kc29uKHN0YXRDb2xsZWN0aW9uKSk7XHJcblx0XHRcdC8vIE1ha2Ugc3VyZSB0byBrZWVwIG91ciBpbnRlcm5hbCBjb2xsZWN0aW9uIGNvbnNpc3RlbnQgd2l0aCB3aGF0IHdlIGp1c3Qgd3JvdGVcclxuXHRcdFx0dGhpcy5wcmV2aW91c1N1cnZleUV2ZW50QWN0aXZpdHlTdGF0cyA9IHN0YXRDb2xsZWN0aW9uO1xyXG5cdFx0fSBmaW5hbGx5IHtcclxuXHRcdFx0dGhpcy5zdG9yYWdlLmZpbGVVbmxvY2soRmlsZVR5cGUuU3VydmV5RXZlbnRBY3Rpdml0eVN0YXRzKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc2V0UGVuZGluZ1N1cnZleXMocGVuZGluZ1N1cnZleXM6IElEaWN0aW9uYXJ5PElTdXJ2ZXk+KTogdm9pZCB7XHJcblx0XHR0aGlzLmNhbmRpZGF0ZVN1cnZleXMgPSB7fTtcclxuXHRcdGlmIChwZW5kaW5nU3VydmV5cykge1xyXG5cdFx0XHRmb3IgKGNvbnN0IGtleSBpbiBwZW5kaW5nU3VydmV5cykge1xyXG5cdFx0XHRcdGlmIChwZW5kaW5nU3VydmV5cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0XHRjb25zdCBzdXJ2ZXk6IElTdXJ2ZXkgPSBwZW5kaW5nU3VydmV5c1trZXldO1xyXG5cdFx0XHRcdFx0aWYgKHRoaXMubGF1bmNoZXJGYWN0b3J5LkFjY2VwdHNTdXJ2ZXkoc3VydmV5KSkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLmNhbmRpZGF0ZVN1cnZleXNba2V5XSA9IHN1cnZleTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0Q3VycmVudFN1cnZleURlZmluaXRpb25zKCk6IElTdXJ2ZXlbXSB7XHJcblx0XHQvLyBHZXQgYSB2ZWN0b3Igb2YgU3VydmV5cyBmcm9tIG91ciBpZC1iYXNlZCBtYXBcclxuXHRcdGNvbnN0IHN1cnZleUxpc3Q6IElTdXJ2ZXlbXSA9IG5ldyBBcnJheTxJU3VydmV5PigpO1xyXG5cclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHRoaXMuY2FuZGlkYXRlU3VydmV5cykge1xyXG5cdFx0XHRpZiAodGhpcy5jYW5kaWRhdGVTdXJ2ZXlzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHRjb25zdCBzdXJ2ZXk6IElTdXJ2ZXkgPSB0aGlzLmNhbmRpZGF0ZVN1cnZleXNba2V5XTtcclxuXHJcblx0XHRcdFx0Ly8gU2tpcCBvdmVyIGFueSBjYW5kaWRhdGUgc3VydmV5cyB0aGF0IGhhdmUgYmVlbiBwcmV2aW91c2x5IGNvbXBsZXRlZFxyXG5cdFx0XHRcdGlmICh0aGlzLnByZXZpb3VzU3VydmV5QWN0aXZhdGlvblN0YXRzLmdldEJ5U3VydmV5SWQoc3VydmV5LmdldFN1cnZleUluZm8oKS5nZXRJZCgpKSkge1xyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoIXN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuaXNBY3RpdmVGb3JEYXRlKG5ldyBEYXRlKCkpKSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIHNlbmQgdGhlIFVzZXJTZWxlY3RlZCBldmVudCBpZiBpdCBpcyBub3Qgc2VudCBiZWZvcmVcclxuXHRcdFx0XHRpZiAodGhpcy5zdXJ2ZXlFdmVudFNlbnQuaW5kZXhPZihrZXkpIDwgMCkge1xyXG5cdFx0XHRcdFx0dGhpcy5zdXJ2ZXlFdmVudFNlbnQucHVzaChrZXkpO1xyXG5cdFx0XHRcdFx0Rmxvb2RnYXRlRW5naW5lLnRlbGVtZXRyeUxvZ2dlci5sb2dfVXNlclNlbGVjdGVkKHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0QmFja0VuZElkKCksIHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0SWQoKSwgc3VydmV5LmdldFR5cGUoKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHN1cnZleUxpc3QucHVzaChzdXJ2ZXkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHN1cnZleUxpc3Q7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHVwZGF0ZUFjdGl2aXR5TGlzdGVuZXJXaXRoQ3VycmVudFN1cnZleURlZmluaXRpb25zKCk6IHZvaWQge1xyXG5cdFx0Y29uc3Qgc3VydmV5TGlzdDogSVN1cnZleVtdID0gdGhpcy5nZXRDdXJyZW50U3VydmV5RGVmaW5pdGlvbnMoKTtcclxuXHRcdGNvbnN0IHRyYWNraW5nQ29udHJhY3RMaXN0OiBBY3Rpdml0eVRyYWNraW5nQ29udHJhY3RbXSA9IFtdO1xyXG5cclxuXHRcdGZvciAoY29uc3Qgc3VydmV5IG9mIHN1cnZleUxpc3QpIHtcclxuXHRcdFx0Y29uc3Qgc3VydmV5SW5mbyA9IHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCk7XHJcblx0XHRcdGNvbnN0IHRyYWNraW5nQ29udHJhY3QgPSBuZXcgQWN0aXZpdHlUcmFja2luZ0NvbnRyYWN0KHN1cnZleUluZm8uZ2V0SWQoKSwgc3VydmV5SW5mby5nZXRBY3RpdmF0aW9uRXZlbnQoKS5nZXRUcmFja2luZ1NldCgpKTtcclxuXHRcdFx0dHJhY2tpbmdDb250cmFjdExpc3QucHVzaCh0cmFja2luZ0NvbnRyYWN0KTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmFjdGl2aXR5TGlzdGVuZXIuU2V0QWN0aXZpdHlUcmFja2luZ0NvbnRyYWN0cyh0cmFja2luZ0NvbnRyYWN0TGlzdCwgdGhpcy5wcmV2aW91c1N1cnZleUV2ZW50QWN0aXZpdHlTdGF0cyk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHNob3VsZEFjY2VwdEFjdGl2aXR5KGFjdGl2aXR5TmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbml0aWFsaXphdGlvblN0YXR1cyA9PT0gSW5pdGlhbGl6YXRpb25TdGF0dXMuU3RhcnRlZCB8fFxyXG5cdFx0XHRhY3Rpdml0eU5hbWUgPT09IFN1cnZleUFjdGl2aXR5TGlzdGVuZXIuRmxvb2RnYXRlU3RhcnRBY3Rpdml0eU5hbWU7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIG9uU3VydmV5QWN0aXZhdGVkKHN1cnZleUlkOiBzdHJpbmcpOiB2b2lkIHtcclxuXHRcdC8vIEZpbmQgdGhlIHN1cnZleSBvYmplY3QgdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgc3VydmV5SWQgcGFzc2VkXHJcblx0XHRjb25zdCBzdXJ2ZXlzOiBJU3VydmV5W10gPSB0aGlzLmdldEN1cnJlbnRTdXJ2ZXlEZWZpbml0aW9ucygpO1xyXG5cdFx0bGV0IHN1cnZleTogSVN1cnZleTtcclxuXHJcblx0XHRmb3IgKGNvbnN0IHRlbXBTdXJ2ZXkgb2Ygc3VydmV5cykge1xyXG5cdFx0XHRpZiAodGVtcFN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0SWQoKSA9PT0gc3VydmV5SWQpIHtcclxuXHRcdFx0XHRzdXJ2ZXkgPSB0ZW1wU3VydmV5O1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlzTk9VKHN1cnZleSkpIHtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FcnJvcihcclxuXHRcdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGVFbmdpbmUuT25TdXJ2ZXlBY3RpdmF0ZWQuU3VydmV5Tm90RGVmaW5lZCxcclxuXHRcdFx0XHRcIlN1cnZleSBpcyBub3QgZGVmaW5lZCBpbiB0aGUgY3VycmVudCBzdXJ2ZXkgZGVmaW5pdGlvbnMuXCIsXHJcblx0XHRcdCk7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRGbG9vZGdhdGVFbmdpbmUudGVsZW1ldHJ5TG9nZ2VyLmxvZ19UcmlnZ2VyTWV0KHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0QmFja0VuZElkKCksIHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0SWQoKSwgc3VydmV5LmdldFR5cGUoKSk7XHJcblxyXG5cdFx0bGV0IGxhdW5jaFN1cnZleTogYm9vbGVhbiA9IGZhbHNlO1xyXG5cdFx0Y29uc3QgZ292ZXJuZWRDaGFubmVsVHlwZTogR292ZXJuZWRDaGFubmVsVHlwZSA9IHN1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0R292ZXJuZWRDaGFubmVsVHlwZSgpO1xyXG5cclxuXHRcdC8vIEZpZ3VyZSBvdXQgaWYgdGhlIGFjdGl2YXRlZCBzdXJ2ZXkgaXMgc3RpbGwgcmVsZXZhbnRcclxuXHRcdGlmICghdGhpcy5jYW5kaWRhdGVTdXJ2ZXlzW3N1cnZleS5nZXRTdXJ2ZXlJbmZvKCkuZ2V0SWQoKV0pIHtcclxuXHRcdFx0Ly8gU3VydmV5IGlzIG5vIGxvbmdlciByZWxldmFudCBidXQgd2FzIGFjdGl2YXRlZC4gU3VwcHJlc3MgaXQuXHJcblx0XHR9IGVsc2UgaWYgKCFzdXJ2ZXkuZ2V0U3VydmV5SW5mbygpLmlzQWN0aXZlRm9yRGF0ZShuZXcgRGF0ZSgpKSkge1xyXG5cdFx0XHQvLyBTdXJ2ZXkgaXMgbm8gbG9uZ2VyIGFjdGl2ZSAoZS5nLiBpdCB3YXMgd2hlbiB3ZSByZWdpc3RlcmVkIGl0IGJ1dCBpdCBoYXMgbm93IGV4cGlyZWQpXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBSZWZyZXNoIGNoYW5uZWxzXHJcblx0XHRcdHRoaXMuZ292ZXJub3IucmVmcmVzaENoYW5uZWxEYXRhKCk7XHJcblxyXG5cdFx0XHRpZiAoIXRoaXMuZ292ZXJub3IuaXNDaGFubmVsT3Blbihnb3Zlcm5lZENoYW5uZWxUeXBlKSkge1xyXG5cdFx0XHRcdC8vIENoYW5uZWwgaGFzIGNsb3NlZCwgc3VwcHJlc3MgdGhlIHN1cnZleVxyXG5cdFx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXZlbnQoXHJcblx0XHRcdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGVFbmdpbmUuT25TdXJ2ZXlBY3RpdmF0ZWQuQ2xvc2VkQ2hhbm5lbFR5cGUsXHJcblx0XHRcdFx0XHR7IENsb3NlZENoYW5uZWxUeXBlOiBHb3Zlcm5lZENoYW5uZWxUeXBlW2dvdmVybmVkQ2hhbm5lbFR5cGVdIH0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vIEdldCBsYXRlc3Qgc3VydmV5IHN0YXRlcyBmcm9tIHByb3ZpZGVyXHJcblx0XHRcdFx0Y29uc3QgcmVmcmVzaGVkU3VydmV5QWN0aXZhdGlvblN0YXRzID0gdGhpcy5zdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlci5sb2FkKCk7XHJcblxyXG5cdFx0XHRcdGlmIChyZWZyZXNoZWRTdXJ2ZXlBY3RpdmF0aW9uU3RhdHMuZ2V0QnlTdXJ2ZXlJZChzdXJ2ZXkuZ2V0U3VydmV5SW5mbygpLmdldElkKCkpKSB7XHJcblx0XHRcdFx0XHQvLyBTdXJ2ZXkgc3RhdHMgZXhpc3RzIGFscmVhZHksIGRvbid0IGxhdW5jaFxyXG5cdFx0XHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FdmVudChcclxuXHRcdFx0XHRcdFx0VGVsZW1ldHJ5RXZlbnQuRmxvb2RnYXRlRW5naW5lLk9uU3VydmV5QWN0aXZhdGVkLkFjdGl2YXRpb25TdGF0c1N1cHByZXNzZWRTdXJ2ZXksXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRDYW1wYWlnbklkOiBzdXJ2ZXkuZ2V0U3VydmV5SW5mbygpLmdldEJhY2tFbmRJZCgpLFxyXG5cdFx0XHRcdFx0XHRcdFN1cnZleUlkOiBzdXJ2ZXkuZ2V0U3VydmV5SW5mbygpLmdldElkKCksXHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoT2JqZWN0LmtleXModGhpcy5sYXVuY2hlZFN1cnZleXMpLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHRcdFx0Ly8gZm9yIG5vdyB3ZSBvbmx5IHN1cHBvcnQgbGF1bmNoaW5nIG9uZSBzdXJ2ZXkgcGVyIHNlc3Npb25cclxuXHRcdFx0XHRcdC8vIFRyYWNrIHRoaXMgc3VydmV5IGFjdGl2YXRpb24gZm9yIHRoZSBsYXVuY2ggaGlzdG9yeSB0cmFja2VyXHJcblx0XHRcdFx0XHR0aGlzLmxhdW5jaGVkU3VydmV5c1tzdXJ2ZXkuZ2V0U3VydmV5SW5mbygpLmdldElkKCldID0gc3VydmV5O1xyXG5cdFx0XHRcdFx0bGF1bmNoU3VydmV5ID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBBdCB0aGlzIHBvaW50LCByZWdhcmRsZXNzIG9mIHdoZXRoZXIgb3Igbm90IHRoZSBzdXJ2ZXkgaXMgc3RpbGwgcmVsZXZhbnQsIHdlIHNob3VsZCBmbHVzaCBvdXQgdGhlIHN0YXRzLCBhbmQgc2h1dCBvZmYgZnVydGhlciBzdXJ2ZXkgbGF1bmNoZXNcclxuXHRcdHRoaXMubWVyZ2VBbmRTYXZlKCk7XHJcblx0XHR0aGlzLmFjdGl2aXR5TGlzdGVuZXIuY2xlYXJTdXJ2ZXlzKCk7XHJcblxyXG5cdFx0Ly8gQWN0dWFsbHkgbGF1bmNoIHRoZSBzdXJ2ZXlcclxuXHRcdGlmIChsYXVuY2hTdXJ2ZXkpIHtcclxuXHRcdFx0dGhpcy5nb3Zlcm5vci5zdGFydENoYW5uZWxDb29sZG93bihnb3Zlcm5lZENoYW5uZWxUeXBlKTtcclxuXHRcdFx0dGhpcy5zdXJ2ZXlDbGllbnQub25TdXJ2ZXlBY3RpdmF0ZWQoc3VydmV5LmdldFN1cnZleUluZm8oKSk7XHJcblx0XHRcdHRoaXMubGF1bmNoTGF1bmNoZXIoc3VydmV5KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcmVhZFN0cmluZyhmaWxlVHlwZTogRmlsZVR5cGUpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuc3RvcmFnZS5yZWFkKGZpbGVUeXBlKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgd3JpdGVTdHJpbmcoZmlsZVR5cGU6IEZpbGVUeXBlLCBzdHI6IHN0cmluZyk6IHZvaWQge1xyXG5cdFx0dGhpcy5zdG9yYWdlLndyaXRlKGZpbGVUeXBlLCBzdHIpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBsYXVuY2hMYXVuY2hlcihzdXJ2ZXk6IElTdXJ2ZXkpOiB2b2lkIHtcclxuXHRcdGNvbnN0IGxhdW5jaGVyOiBJU3VydmV5TGF1bmNoZXIgPSB0aGlzLmxhdW5jaGVyRmFjdG9yeS5tYWtlU3VydmV5TGF1bmNoZXIoc3VydmV5KTtcclxuXHRcdGlmIChsYXVuY2hlcikge1xyXG5cdFx0XHR0aGlzLmxhdW5jaGVkTGF1bmNoZXJzLnB1c2gobGF1bmNoZXIpO1xyXG5cdFx0XHR0aGlzLm9uU3VydmV5QWN0aXZhdGVkQ2FsbGJhY2sub25TdXJ2ZXlBY3RpdmF0ZWQobGF1bmNoZXIsIHN1cnZleSk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/FloodgateEngine.js\n')},"../FloodgateCore/dist/src/FloodgateSettings.js":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.FloodgateSettings = void 0;\n/**\n * General floodgate settings\n */\nvar FloodgateSettings = /** @class */ (function () {\n    function FloodgateSettings() {\n    }\n    /**\n     * Convert to Json\n     */\n    FloodgateSettings.toJson = function (object) {\n        return JSON.stringify(object);\n    };\n    /**\n     * Load from Json\n     */\n    FloodgateSettings.fromJson = function (json) {\n        return JSON.parse(json);\n    };\n    return FloodgateSettings;\n}());\nexports.FloodgateSettings = FloodgateSettings;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0Zsb29kZ2F0ZVNldHRpbmdzLnRzPzRmMjUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7O0dBRUc7QUFDSDtJQUFBO0lBY0EsQ0FBQztJQWJBOztPQUVHO0lBQ1csd0JBQU0sR0FBcEIsVUFBcUIsTUFBeUI7UUFDN0MsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFFRDs7T0FFRztJQUNXLDBCQUFRLEdBQXRCLFVBQXVCLElBQVk7UUFDbEMsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3pCLENBQUM7SUFDRix3QkFBQztBQUFELENBQUM7QUFkWSw4Q0FBaUIiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9GbG9vZGdhdGVTZXR0aW5ncy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBHZW5lcmFsIGZsb29kZ2F0ZSBzZXR0aW5nc1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEZsb29kZ2F0ZVNldHRpbmdzIHtcclxuXHQvKipcclxuXHQgKiBDb252ZXJ0IHRvIEpzb25cclxuXHQgKi9cclxuXHRwdWJsaWMgc3RhdGljIHRvSnNvbihvYmplY3Q6IEZsb29kZ2F0ZVNldHRpbmdzKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeShvYmplY3QpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9hZCBmcm9tIEpzb25cclxuXHQgKi9cclxuXHRwdWJsaWMgc3RhdGljIGZyb21Kc29uKGpzb246IHN0cmluZyk6IEZsb29kZ2F0ZVNldHRpbmdzIHtcclxuXHRcdHJldHVybiBKU09OLnBhcnNlKGpzb24pO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/FloodgateSettings.js\n')},"../FloodgateCore/dist/src/GovernedChannel.js":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.GovernedChannel = exports.GovernedChannelType = void 0;\nvar Utils = __webpack_require__(/*! ./Utils */ "../FloodgateCore/dist/src/Utils.js");\nvar GovernedChannelType;\n(function (GovernedChannelType) {\n    GovernedChannelType[GovernedChannelType["Standard"] = 0] = "Standard";\n    GovernedChannelType[GovernedChannelType["Urgent"] = 1] = "Urgent";\n    GovernedChannelType[GovernedChannelType["Banner"] = 2] = "Banner";\n    GovernedChannelType[GovernedChannelType["TeachingMessage"] = 3] = "TeachingMessage";\n})(GovernedChannelType = exports.GovernedChannelType || (exports.GovernedChannelType = {}));\n(function (GovernedChannelType) {\n    function getDefault() { return GovernedChannelType.Standard; }\n    GovernedChannelType.getDefault = getDefault;\n})(GovernedChannelType = exports.GovernedChannelType || (exports.GovernedChannelType = {}));\nvar GovernedChannel = /** @class */ (function () {\n    function GovernedChannel(type, name, cooldownSeconds, cooldownStartTime) {\n        if (!Utils.isEnumValue(type, GovernedChannelType)) {\n            throw new Error("type is not a valid GovernedChannelType");\n        }\n        if (!name) {\n            throw new Error("name must not be null or empty");\n        }\n        if (cooldownSeconds < 0) {\n            throw new Error("cooldownSeconds must not be negative");\n        }\n        this.type = type;\n        this.name = name;\n        this.cooldownSeconds = cooldownSeconds;\n        this.setCooldownStartTime(cooldownStartTime);\n    }\n    GovernedChannel.prototype.setCooldownStartTime = function (cooldownStartTime) {\n        // Set the start time\n        this.cooldownStartTime = cooldownStartTime;\n        if (Utils.isNOU(this.cooldownStartTime)) {\n            // Null cooldownStartTime means cool down has never been initiated, so set the cooldownEndTime to distant past\n            this.cooldownEndTime = Utils.getDistantPast();\n            return;\n        }\n        // Calculate the end time, but don\'t overflow past max.\n        this.cooldownEndTime = Utils.addSecondsWithoutOverflow(this.cooldownStartTime, this.cooldownSeconds);\n    };\n    // @Override\n    GovernedChannel.prototype.isOpen = function () {\n        return this.isOpenAtDate(new Date());\n    };\n    // @Override\n    GovernedChannel.prototype.isOpenAtDate = function (date) {\n        if (!date) {\n            return false;\n        }\n        return (date > this.cooldownEndTime);\n    };\n    // @Override\n    GovernedChannel.prototype.getType = function () {\n        return this.type;\n    };\n    // @Override\n    GovernedChannel.prototype.getName = function () {\n        return this.name;\n    };\n    // @Override\n    GovernedChannel.prototype.getCooldownSeconds = function () {\n        return this.cooldownSeconds;\n    };\n    // @Override\n    GovernedChannel.prototype.getCooldownStartTime = function () {\n        return this.cooldownStartTime;\n    };\n    // @Override\n    GovernedChannel.prototype.getCooldownEndTime = function () {\n        return this.cooldownEndTime;\n    };\n    return GovernedChannel;\n}());\nexports.GovernedChannel = GovernedChannel;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0dvdmVybmVkQ2hhbm5lbC50cz8zMDU5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLHFGQUFpQztBQUVqQyxJQUFZLG1CQUtYO0FBTEQsV0FBWSxtQkFBbUI7SUFDOUIscUVBQVE7SUFDUixpRUFBTTtJQUNOLGlFQUFNO0lBQ04sbUZBQWU7QUFDaEIsQ0FBQyxFQUxXLG1CQUFtQixHQUFuQiwyQkFBbUIsS0FBbkIsMkJBQW1CLFFBSzlCO0FBRUQsV0FBaUIsbUJBQW1CO0lBQ25DLFNBQWdCLFVBQVUsS0FBMEIsT0FBTyxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBQTFFLDhCQUFVLGFBQWdFO0FBQzNGLENBQUMsRUFGZ0IsbUJBQW1CLEdBQW5CLDJCQUFtQixLQUFuQiwyQkFBbUIsUUFFbkM7QUF5Q0Q7SUFPQyx5QkFBbUIsSUFBeUIsRUFBRSxJQUFZLEVBQUUsZUFBdUIsRUFBRSxpQkFBdUI7UUFDM0csSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLG1CQUFtQixDQUFDLEVBQUU7WUFDbEQsTUFBTSxJQUFJLEtBQUssQ0FBQyx5Q0FBeUMsQ0FBQyxDQUFDO1NBQzNEO1FBRUQsSUFBSSxDQUFDLElBQUksRUFBRTtZQUNWLE1BQU0sSUFBSSxLQUFLLENBQUMsZ0NBQWdDLENBQUMsQ0FBQztTQUNsRDtRQUVELElBQUksZUFBZSxHQUFHLENBQUMsRUFBRTtZQUN4QixNQUFNLElBQUksS0FBSyxDQUFDLHNDQUFzQyxDQUFDLENBQUM7U0FDeEQ7UUFFRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsZUFBZSxHQUFHLGVBQWUsQ0FBQztRQUN2QyxJQUFJLENBQUMsb0JBQW9CLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUM5QyxDQUFDO0lBRU0sOENBQW9CLEdBQTNCLFVBQTRCLGlCQUF1QjtRQUNsRCxxQkFBcUI7UUFDckIsSUFBSSxDQUFDLGlCQUFpQixHQUFHLGlCQUFpQixDQUFDO1FBRTNDLElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsRUFBRTtZQUN4Qyw4R0FBOEc7WUFDOUcsSUFBSSxDQUFDLGVBQWUsR0FBRyxLQUFLLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDOUMsT0FBTztTQUNQO1FBRUQsdURBQXVEO1FBQ3ZELElBQUksQ0FBQyxlQUFlLEdBQUcsS0FBSyxDQUFDLHlCQUF5QixDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDdEcsQ0FBQztJQUVELFlBQVk7SUFDTCxnQ0FBTSxHQUFiO1FBQ0MsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBRUQsWUFBWTtJQUNMLHNDQUFZLEdBQW5CLFVBQW9CLElBQVU7UUFDN0IsSUFBSSxDQUFDLElBQUksRUFBRTtZQUNWLE9BQU8sS0FBSyxDQUFDO1NBQ2I7UUFFRCxPQUFPLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBRUQsWUFBWTtJQUNMLGlDQUFPLEdBQWQ7UUFDQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDbEIsQ0FBQztJQUVELFlBQVk7SUFDTCxpQ0FBTyxHQUFkO1FBQ0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ2xCLENBQUM7SUFFRCxZQUFZO0lBQ0wsNENBQWtCLEdBQXpCO1FBQ0MsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDO0lBQzdCLENBQUM7SUFFRCxZQUFZO0lBQ0wsOENBQW9CLEdBQTNCO1FBQ0MsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUM7SUFDL0IsQ0FBQztJQUVELFlBQVk7SUFDTCw0Q0FBa0IsR0FBekI7UUFDQyxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUM7SUFDN0IsQ0FBQztJQUNGLHNCQUFDO0FBQUQsQ0FBQztBQTlFWSwwQ0FBZSIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL0dvdmVybmVkQ2hhbm5lbC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFV0aWxzIGZyb20gXCIuL1V0aWxzXCI7XHJcblxyXG5leHBvcnQgZW51bSBHb3Zlcm5lZENoYW5uZWxUeXBlIHtcclxuXHRTdGFuZGFyZCwgLy8gMFxyXG5cdFVyZ2VudCwgLy8gMVxyXG5cdEJhbm5lciwgLy8gMlxyXG5cdFRlYWNoaW5nTWVzc2FnZSwgLy8gM1xyXG59XHJcblxyXG5leHBvcnQgbmFtZXNwYWNlIEdvdmVybmVkQ2hhbm5lbFR5cGUge1xyXG5cdGV4cG9ydCBmdW5jdGlvbiBnZXREZWZhdWx0KCk6IEdvdmVybmVkQ2hhbm5lbFR5cGUgeyByZXR1cm4gR292ZXJuZWRDaGFubmVsVHlwZS5TdGFuZGFyZDsgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElHb3Zlcm5lZENoYW5uZWxEYXRhIHtcclxuXHQvKipcclxuXHQgKiBHZXRzIHRoZSB0eXBlIG9mIEdvdmVybmVkQ2hhbm5lbCB0aGlzIG9iamVjdCByZXByZXNlbnRzXHJcblx0ICovXHJcblx0Z2V0VHlwZSgpOiBHb3Zlcm5lZENoYW5uZWxUeXBlO1xyXG5cclxuXHQvKipcclxuXHQgKiBHZXRzIHRoZSBuYW1lIG9mIHRoaXMgR292ZXJuZWRDaGFubmVsXHJcblx0ICovXHJcblx0Z2V0TmFtZSgpOiBzdHJpbmc7XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldHMgdGhlIGFtb3VudCBvZiB0aW1lIGR1cmluZyB3aGljaCB0aGlzIGNoYW5uZWwgd2lsbCByZWZ1c2UgbmV3IHN1cnZleXMgYWZ0ZXIgYSBzdWNjZXNzZnVsIHByb21wdFxyXG5cdCAqL1xyXG5cdGdldENvb2xkb3duU2Vjb25kcygpOiBudW1iZXI7XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldHMgdGhlIGxhc3QgdGltZSB0aGlzIGNoYW5uZWwgc3RhcnRlZCBhIGNvb2wgZG93biAoYWthIHRoZSBsYXN0IHRpbWUgYSBzdXJ2ZXkgd2FzIHN1Y2Nlc3NmdWxseSBzaG93bikuXHJcblx0ICogTnVsbCBpZiBjb29sIGRvd24gaGFzIG5ldmVyIGJlZW4gaW5pdGlhdGVkXHJcblx0ICovXHJcblx0Z2V0Q29vbGRvd25TdGFydFRpbWUoKTogRGF0ZTtcclxuXHJcblx0LyoqXHJcblx0ICogSWYgaW4gY29vbCBkb3duLCByZXR1cm5zIHRoZSB0aW1lIGluIHdoaWNoIHRoaXMgY2hhbm5lbCB3aWxsIG5leHQgYmUgXCJPcGVuXCIuXHJcblx0ICogRWxzZSByZXR1cm5zIHRoZSBsYXN0IHRpbWUgdGhpcyBjaGFubmVsIGJlY2FtZSBcIk9wZW5cIi5cclxuXHQgKi9cclxuXHRnZXRDb29sZG93bkVuZFRpbWUoKTogRGF0ZTtcclxuXHJcblx0LyoqXHJcblx0ICogV2hldGhlciBvciBub3QgdGhpcyBjaGFubmVsIGlzIG9wZW4gdG8gbmV3IHN1cnZleXMgYXQgdGhpcyBjdXJyZW50IHBvaW50IGluIHRpbWUgKGFrYSBOb3cpXHJcblx0ICovXHJcblx0aXNPcGVuKCk6IGJvb2xlYW47XHJcblxyXG5cdC8qKlxyXG5cdCAqIFdoZXRoZXIgb3Igbm90IHRoaXMgY2hhbm5lbCBpcyBvcGVuIHRvIG5ldyBzdXJ2ZXlzIGF0IHRoZSBzcGVjaWZpZWQgcG9pbnQgaW4gdGltZVxyXG5cdCAqL1xyXG5cdGlzT3BlbkF0RGF0ZShkYXRlOiBEYXRlKTogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEdvdmVybmVkQ2hhbm5lbCBpbXBsZW1lbnRzIElHb3Zlcm5lZENoYW5uZWxEYXRhIHtcclxuXHRwcml2YXRlIHR5cGU6IEdvdmVybmVkQ2hhbm5lbFR5cGU7XHJcblx0cHJpdmF0ZSBuYW1lOiBzdHJpbmc7XHJcblx0cHJpdmF0ZSBjb29sZG93blNlY29uZHM6IG51bWJlcjtcclxuXHRwcml2YXRlIGNvb2xkb3duU3RhcnRUaW1lOiBEYXRlO1xyXG5cdHByaXZhdGUgY29vbGRvd25FbmRUaW1lOiBEYXRlO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IodHlwZTogR292ZXJuZWRDaGFubmVsVHlwZSwgbmFtZTogc3RyaW5nLCBjb29sZG93blNlY29uZHM6IG51bWJlciwgY29vbGRvd25TdGFydFRpbWU6IERhdGUpIHtcclxuXHRcdGlmICghVXRpbHMuaXNFbnVtVmFsdWUodHlwZSwgR292ZXJuZWRDaGFubmVsVHlwZSkpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwidHlwZSBpcyBub3QgYSB2YWxpZCBHb3Zlcm5lZENoYW5uZWxUeXBlXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghbmFtZSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJuYW1lIG11c3Qgbm90IGJlIG51bGwgb3IgZW1wdHlcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGNvb2xkb3duU2Vjb25kcyA8IDApIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiY29vbGRvd25TZWNvbmRzIG11c3Qgbm90IGJlIG5lZ2F0aXZlXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMudHlwZSA9IHR5cGU7XHJcblx0XHR0aGlzLm5hbWUgPSBuYW1lO1xyXG5cdFx0dGhpcy5jb29sZG93blNlY29uZHMgPSBjb29sZG93blNlY29uZHM7XHJcblx0XHR0aGlzLnNldENvb2xkb3duU3RhcnRUaW1lKGNvb2xkb3duU3RhcnRUaW1lKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRDb29sZG93blN0YXJ0VGltZShjb29sZG93blN0YXJ0VGltZTogRGF0ZSk6IHZvaWQge1xyXG5cdFx0Ly8gU2V0IHRoZSBzdGFydCB0aW1lXHJcblx0XHR0aGlzLmNvb2xkb3duU3RhcnRUaW1lID0gY29vbGRvd25TdGFydFRpbWU7XHJcblxyXG5cdFx0aWYgKFV0aWxzLmlzTk9VKHRoaXMuY29vbGRvd25TdGFydFRpbWUpKSB7XHJcblx0XHRcdC8vIE51bGwgY29vbGRvd25TdGFydFRpbWUgbWVhbnMgY29vbCBkb3duIGhhcyBuZXZlciBiZWVuIGluaXRpYXRlZCwgc28gc2V0IHRoZSBjb29sZG93bkVuZFRpbWUgdG8gZGlzdGFudCBwYXN0XHJcblx0XHRcdHRoaXMuY29vbGRvd25FbmRUaW1lID0gVXRpbHMuZ2V0RGlzdGFudFBhc3QoKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIENhbGN1bGF0ZSB0aGUgZW5kIHRpbWUsIGJ1dCBkb24ndCBvdmVyZmxvdyBwYXN0IG1heC5cclxuXHRcdHRoaXMuY29vbGRvd25FbmRUaW1lID0gVXRpbHMuYWRkU2Vjb25kc1dpdGhvdXRPdmVyZmxvdyh0aGlzLmNvb2xkb3duU3RhcnRUaW1lLCB0aGlzLmNvb2xkb3duU2Vjb25kcyk7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgaXNPcGVuKCk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNPcGVuQXREYXRlKG5ldyBEYXRlKCkpO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGlzT3BlbkF0RGF0ZShkYXRlOiBEYXRlKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIWRhdGUpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiAoZGF0ZSA+IHRoaXMuY29vbGRvd25FbmRUaW1lKTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRUeXBlKCk6IEdvdmVybmVkQ2hhbm5lbFR5cGUge1xyXG5cdFx0cmV0dXJuIHRoaXMudHlwZTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXROYW1lKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5uYW1lO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldENvb2xkb3duU2Vjb25kcygpOiBudW1iZXIge1xyXG5cdFx0cmV0dXJuIHRoaXMuY29vbGRvd25TZWNvbmRzO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldENvb2xkb3duU3RhcnRUaW1lKCk6IERhdGUge1xyXG5cdFx0cmV0dXJuIHRoaXMuY29vbGRvd25TdGFydFRpbWU7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0Q29vbGRvd25FbmRUaW1lKCk6IERhdGUge1xyXG5cdFx0cmV0dXJuIHRoaXMuY29vbGRvd25FbmRUaW1lO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/GovernedChannel.js\n')},"../FloodgateCore/dist/src/GovernedChannelStateProvider.js":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.FileBasedGovernedChannelStateProvider = exports.HostBasedGovernedChannelStateProvider = exports.GovernedChannelStateProviderFactory = exports.GovernedChannelState = void 0;\nvar IFloodgateStorageProvider = __webpack_require__(/*! ./Api/IFloodgateStorageProvider */ "../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js");\nvar Constants_1 = __webpack_require__(/*! ./Constants */ "../FloodgateCore/dist/src/Constants.js");\nvar FloodgateEngine_1 = __webpack_require__(/*! ./FloodgateEngine */ "../FloodgateCore/dist/src/FloodgateEngine.js");\nvar GovernedChannel_1 = __webpack_require__(/*! ./GovernedChannel */ "../FloodgateCore/dist/src/GovernedChannel.js");\nvar StateProviderHelpers = __webpack_require__(/*! ./StateProviderHelpers */ "../FloodgateCore/dist/src/StateProviderHelpers.js");\nvar Utils = __webpack_require__(/*! ./Utils */ "../FloodgateCore/dist/src/Utils.js");\nvar FileType = IFloodgateStorageProvider.FileType;\nvar GovernedChannelState = /** @class */ (function () {\n    function GovernedChannelState(type, cooldownStartTime) {\n        this.ChannelType = type;\n        this.CooldownStartTimeUtc = cooldownStartTime;\n        if (!this.validate()) {\n            throw new Error("Constructor arguments are not valid");\n        }\n    }\n    /**\n     * Method to deserialize a JSON object to class object\n     * @param input: JSON object\n     * Returns class object\n     */\n    GovernedChannelState.deserialize = function (input) {\n        var result;\n        if (!input) {\n            return null;\n        }\n        // Validation is handled by GovernedChannelState\'s constructor\n        try {\n            result = new GovernedChannelState(input.ChannelType, input.CooldownStartTimeUtc);\n        }\n        catch (e) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.GovernedChannelState.Deserialize.Failed, { ErrorMessage: e.toString() });\n            return null;\n        }\n        return result;\n    };\n    GovernedChannelState.prototype.validate = function () {\n        if (!Utils.isEnumValue(this.ChannelType, GovernedChannel_1.GovernedChannelType)) {\n            return false;\n        }\n        // make it a date object if it\'s a valid UTC date time value\n        if (Utils.isUtcDatetimeString(this.CooldownStartTimeUtc)) {\n            this.CooldownStartTimeUtc = Utils.stringToDate(this.CooldownStartTimeUtc);\n            // Allow null and bad cooldownStartTime\n        }\n        else if (Utils.isNOU(this.CooldownStartTimeUtc) || !Utils.isDate(this.CooldownStartTimeUtc)) {\n            this.CooldownStartTimeUtc = Utils.getDistantPast();\n        }\n        return true;\n    };\n    GovernedChannelState.prototype.getType = function () {\n        return this.ChannelType;\n    };\n    GovernedChannelState.prototype.getCooldownStartTime = function () {\n        return this.CooldownStartTimeUtc;\n    };\n    return GovernedChannelState;\n}());\nexports.GovernedChannelState = GovernedChannelState;\nvar GovernedChannelStateProviderFactory = /** @class */ (function () {\n    function GovernedChannelStateProviderFactory() {\n    }\n    GovernedChannelStateProviderFactory.make = function (fileBasedStorage, hostBasedStorage) {\n        if (hostBasedStorage) {\n            return new HostBasedGovernedChannelStateProvider(fileBasedStorage, hostBasedStorage);\n        }\n        return new FileBasedGovernedChannelStateProvider(fileBasedStorage);\n    };\n    return GovernedChannelStateProviderFactory;\n}());\nexports.GovernedChannelStateProviderFactory = GovernedChannelStateProviderFactory;\n/**\n * Class representing what is stored in the file.\n */\nvar FileData = /** @class */ (function () {\n    function FileData() {\n    }\n    return FileData;\n}());\nvar HostBasedGovernedChannelStateProvider = /** @class */ (function () {\n    function HostBasedGovernedChannelStateProvider(fileBasedStorage, hostBasedStorage) {\n        if (!hostBasedStorage) {\n            throw new Error("host-based storage must not be null");\n        }\n        this.hostBasedStorage = hostBasedStorage;\n        // file-based provider is optional\n        if (fileBasedStorage) {\n            this.fileBasedStateProvider = new FileBasedGovernedChannelStateProvider(fileBasedStorage);\n        }\n    }\n    // @Override\n    HostBasedGovernedChannelStateProvider.prototype.load = function () {\n        var statesFromHost = this.getStatesFromHost();\n        var statesFromFile;\n        if (this.fileBasedStateProvider) {\n            statesFromFile = this.fileBasedStateProvider.load();\n        }\n        var StateCollections = StateProviderHelpers.MergeAndUpdateGovernedChannelStates(statesFromFile, statesFromHost);\n        return StateCollections.find(0 /* Merged */);\n    };\n    // @Override\n    HostBasedGovernedChannelStateProvider.prototype.save = function (states) {\n        var _this = this;\n        if (!states) {\n            return;\n        }\n        var statesFromHost = this.getStatesFromHost();\n        var StateCollections = StateProviderHelpers.MergeAndUpdateGovernedChannelStates(states, statesFromHost);\n        var toBeUpdatedStates = StateCollections.find(1 /* ToBeUpdated */);\n        var mergedStates = StateCollections.find(0 /* Merged */);\n        // write delta_data to Host\n        if (toBeUpdatedStates) {\n            toBeUpdatedStates.forEach(function (state) {\n                var stateValue = StateProviderHelpers.makeSettingItemValue(JSON.stringify(state));\n                _this.hostBasedStorage.upsertSettingItem(FileType[FileType.GovernedChannelStates], String(state.getType()), stateValue);\n            });\n        }\n        // Write merged data to File\n        if (this.fileBasedStateProvider) {\n            this.fileBasedStateProvider.save(mergedStates);\n        }\n    };\n    HostBasedGovernedChannelStateProvider.prototype.getStatesFromHost = function () {\n        var states = [];\n        var settings = this.hostBasedStorage.readSettingList(FileType[FileType.GovernedChannelStates]);\n        for (var key in settings) {\n            if (!settings.hasOwnProperty(key)) {\n                continue;\n            }\n            var value = settings[key];\n            var dataString = StateProviderHelpers.extractSettingItemValueSubString(value);\n            var itemObject = {};\n            try {\n                itemObject = JSON.parse(dataString);\n                var newState = GovernedChannelState.deserialize(itemObject);\n                if (newState) {\n                    states.push(newState);\n                }\n            }\n            catch (e) {\n                FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.HostBasedGovernedChannelStateProvider.GetStatesFromHost.Failed, { ErrorMessage: "Json parsing/deserializing failed. " + e.toString() + ".  Input:" + dataString });\n            }\n        }\n        return states;\n    };\n    return HostBasedGovernedChannelStateProvider;\n}());\nexports.HostBasedGovernedChannelStateProvider = HostBasedGovernedChannelStateProvider;\nvar FileBasedGovernedChannelStateProvider = /** @class */ (function () {\n    function FileBasedGovernedChannelStateProvider(storage) {\n        if (!storage) {\n            throw new Error("storage must not be null");\n        }\n        this.storage = storage;\n    }\n    // @Override\n    FileBasedGovernedChannelStateProvider.prototype.load = function () {\n        // Load channel state from file using _storageProvider (get back string)\n        var readString = this.storage.read(FileType.GovernedChannelStates);\n        if (!readString) {\n            return [];\n        }\n        var fileData;\n        try {\n            fileData = JSON.parse(readString);\n            var result_1 = [];\n            if (fileData && fileData.ChannelStates) {\n                fileData.ChannelStates.forEach(function (state) {\n                    var newState = GovernedChannelState.deserialize(state);\n                    if (newState) {\n                        result_1.push(newState);\n                    }\n                });\n            }\n            return result_1;\n        }\n        catch (e) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.FileBasedGovernedChannelStateProvider.Load.Failed, { ErrorMessage: "Json parsing/deserializing failed. " + e.toString() + ".  Input:" + readString });\n            return [];\n        }\n    };\n    // @Override\n    FileBasedGovernedChannelStateProvider.prototype.save = function (states) {\n        if (!states) {\n            return;\n        }\n        var fileData = new FileData();\n        fileData.ChannelStates = states;\n        var writeString = JSON.stringify(fileData);\n        this.storage.write(FileType.GovernedChannelStates, writeString);\n    };\n    return FileBasedGovernedChannelStateProvider;\n}());\nexports.FileBasedGovernedChannelStateProvider = FileBasedGovernedChannelStateProvider;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0dvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIudHM/ZjBmOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFFQSx5SkFBNkU7QUFDN0UsbUdBQTZDO0FBQzdDLHFIQUFvRDtBQUNwRCxxSEFBd0Q7QUFDeEQsa0lBQStEO0FBQy9ELHFGQUFpQztBQUNqQyxJQUFPLFFBQVEsR0FBRyx5QkFBeUIsQ0FBQyxRQUFRLENBQUM7QUFHckQ7SUFrQ0MsOEJBQW1CLElBQXlCLEVBQUUsaUJBQXVCO1FBQ3BFLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO1FBQ3hCLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxpQkFBaUIsQ0FBQztRQUU5QyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxFQUFFO1lBQ3JCLE1BQU0sSUFBSSxLQUFLLENBQUMscUNBQXFDLENBQUMsQ0FBQztTQUN2RDtJQUNGLENBQUM7SUF4Q0Q7Ozs7T0FJRztJQUNXLGdDQUFXLEdBQXpCLFVBQTBCLEtBQVU7UUFDbkMsSUFBSSxNQUE0QixDQUFDO1FBRWpDLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDWCxPQUFPLElBQUksQ0FBQztTQUNaO1FBRUQsOERBQThEO1FBQzlELElBQUk7WUFDSCxNQUFNLEdBQUcsSUFBSSxvQkFBb0IsQ0FDaEMsS0FBSyxDQUFDLFdBQVcsRUFDakIsS0FBSyxDQUFDLG9CQUFvQixDQUMxQixDQUFDO1NBQ0Y7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNYLGlDQUFlLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxTQUFTLENBQzdDLDBCQUFjLENBQUMsb0JBQW9CLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxFQUFFLFlBQVksRUFBRSxDQUFDLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ3pGLE9BQU8sSUFBSSxDQUFDO1NBQ1o7UUFFRCxPQUFPLE1BQU0sQ0FBQztJQUNmLENBQUM7SUFpQk0sdUNBQVEsR0FBZjtRQUNDLElB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QUFRLEdBQXlCLG9CQUFvQixDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztvQkFFL0UsSUFBSSxRQUFRLEVBQUU7d0JBQ2IsUUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztxQkFDdEI7Z0JBQ0YsQ0FBQyxDQUFDLENBQUM7YUFDSDtZQUVELE9BQU8sUUFBTSxDQUFDO1NBQ2Q7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNYLGlDQUFlLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxTQUFTLENBQzdDLDBCQUFjLENBQUMscUNBQXFDLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFDaEUsRUFBRSxZQUFZLEVBQUUscUNBQXFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRSxHQUFHLFdBQVcsR0FBRyxVQUFVLEVBQUUsQ0FBQyxDQUFDO1lBQ3BHLE9BQU8sRUFBRSxDQUFDO1NBQ1Y7SUFDRixDQUFDO0lBRUQsWUFBWTtJQUNMLG9EQUFJLEdBQVgsVUFBWSxNQUE4QjtRQUN6QyxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ1osT0FBTztTQUNQO1FBRUQsSUFBTSxRQUFRLEdBQUcsSUFBSSxRQUFRLEVBQUUsQ0FBQztRQUNoQyxRQUFRLENBQUMsYUFBYSxHQUFHLE1BQU0sQ0FBQztRQUNoQyxJQUFNLFdBQVcsR0FBVyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBRXJELElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxxQkFBcUIsRUFBRSxXQUFXLENBQUMsQ0FBQztJQUNqRSxDQUFDO0lBQ0YsNENBQUM7QUFBRCxDQUFDO0FBeERZLHNGQUFxQyIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL0dvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJRmxvb2RnYXRlU2V0dGluZyB9IGZyb20gXCIuL0FwaS9JRmxvb2RnYXRlU2V0dGluZ1wiO1xyXG5pbXBvcnQgeyBJRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFjayB9IGZyb20gXCIuL0FwaS9JRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFja1wiO1xyXG5pbXBvcnQgKiBhcyBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyIGZyb20gXCIuL0FwaS9JRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyXCI7XHJcbmltcG9ydCB7IFRlbGVtZXRyeUV2ZW50IH0gZnJvbSBcIi4vQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IEZsb29kZ2F0ZUVuZ2luZSB9IGZyb20gXCIuL0Zsb29kZ2F0ZUVuZ2luZVwiO1xyXG5pbXBvcnQgeyBHb3Zlcm5lZENoYW5uZWxUeXBlIH0gZnJvbSBcIi4vR292ZXJuZWRDaGFubmVsXCI7XHJcbmltcG9ydCAqIGFzIFN0YXRlUHJvdmlkZXJIZWxwZXJzIGZyb20gXCIuL1N0YXRlUHJvdmlkZXJIZWxwZXJzXCI7XHJcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gXCIuL1V0aWxzXCI7XHJcbmltcG9ydCBGaWxlVHlwZSA9IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIuRmlsZVR5cGU7XHJcbmltcG9ydCBTdGF0ZUxpc3RUeXBlID0gU3RhdGVQcm92aWRlckhlbHBlcnMuU3RhdGVMaXN0VHlwZTtcclxuXHJcbmV4cG9ydCBjbGFzcyBHb3Zlcm5lZENoYW5uZWxTdGF0ZSB7XHJcblx0LyoqXHJcblx0ICogTWV0aG9kIHRvIGRlc2VyaWFsaXplIGEgSlNPTiBvYmplY3QgdG8gY2xhc3Mgb2JqZWN0XHJcblx0ICogQHBhcmFtIGlucHV0OiBKU09OIG9iamVjdFxyXG5cdCAqIFJldHVybnMgY2xhc3Mgb2JqZWN0XHJcblx0ICovXHJcblx0cHVibGljIHN0YXRpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogR292ZXJuZWRDaGFubmVsU3RhdGUge1xyXG5cdFx0bGV0IHJlc3VsdDogR292ZXJuZWRDaGFubmVsU3RhdGU7XHJcblxyXG5cdFx0aWYgKCFpbnB1dCkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBWYWxpZGF0aW9uIGlzIGhhbmRsZWQgYnkgR292ZXJuZWRDaGFubmVsU3RhdGUncyBjb25zdHJ1Y3RvclxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0cmVzdWx0ID0gbmV3IEdvdmVybmVkQ2hhbm5lbFN0YXRlKFxyXG5cdFx0XHRcdGlucHV0LkNoYW5uZWxUeXBlLFxyXG5cdFx0XHRcdGlucHV0LkNvb2xkb3duU3RhcnRUaW1lVXRjLFxyXG5cdFx0XHQpO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LkdvdmVybmVkQ2hhbm5lbFN0YXRlLkRlc2VyaWFsaXplLkZhaWxlZCwgeyBFcnJvck1lc3NhZ2U6IGUudG9TdHJpbmcoKSB9KTtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIEBTZXJpYWxpemVkTmFtZShcIkNoYW5uZWxUeXBlXCIpXHJcblx0cHJpdmF0ZSBDaGFubmVsVHlwZTogR292ZXJuZWRDaGFubmVsVHlwZTtcclxuXHJcblx0Ly8gQFNlcmlhbGl6ZWROYW1lKFwiQ29vbGRvd25TdGFydFRpbWVVdGNcIilcclxuXHRwcml2YXRlIENvb2xkb3duU3RhcnRUaW1lVXRjOiBEYXRlO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IodHlwZTogR292ZXJuZWRDaGFubmVsVHlwZSwgY29vbGRvd25TdGFydFRpbWU6IERhdGUpIHtcclxuXHRcdHRoaXMuQ2hhbm5lbFR5cGUgPSB0eXBlO1xyXG5cdFx0dGhpcy5Db29sZG93blN0YXJ0VGltZVV0YyA9IGNvb2xkb3duU3RhcnRUaW1lO1xyXG5cclxuXHRcdGlmICghdGhpcy52YWxpZGF0ZSgpKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkNvbnN0cnVjdG9yIGFyZ3VtZW50cyBhcmUgbm90IHZhbGlkXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCFVdGlscy5pc0VudW1WYWx1ZSh0aGlzLkNoYW5uZWxUeXBlLCBHb3Zlcm5lZENoYW5uZWxUeXBlKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gbWFrZSBpdCBhIGRhdGUgb2JqZWN0IGlmIGl0J3MgYSB2YWxpZCBVVEMgZGF0ZSB0aW1lIHZhbHVlXHJcblx0XHRpZiAoVXRpbHMuaXNVdGNEYXRldGltZVN0cmluZyh0aGlzLkNvb2xkb3duU3RhcnRUaW1lVXRjKSkge1xyXG5cdFx0XHR0aGlzLkNvb2xkb3duU3RhcnRUaW1lVXRjID0gVXRpbHMuc3RyaW5nVG9EYXRlKHRoaXMuQ29vbGRvd25TdGFydFRpbWVVdGMpO1xyXG5cdFx0Ly8gQWxsb3cgbnVsbCBhbmQgYmFkIGNvb2xkb3duU3RhcnRUaW1lXHJcblx0XHR9IGVsc2UgaWYgKFV0aWxzLmlzTk9VKHRoaXMuQ29vbGRvd25TdGFydFRpbWVVdGMpIHx8ICFVdGlscy5pc0RhdGUodGhpcy5Db29sZG93blN0YXJ0VGltZVV0YykpIHtcclxuXHRcdFx0dGhpcy5Db29sZG93blN0YXJ0VGltZVV0YyA9IFV0aWxzLmdldERpc3RhbnRQYXN0KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0VHlwZSgpOiBHb3Zlcm5lZENoYW5uZWxUeXBlIHtcclxuXHRcdHJldHVybiB0aGlzLkNoYW5uZWxUeXBlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENvb2xkb3duU3RhcnRUaW1lKCk6IERhdGUge1xyXG5cdFx0cmV0dXJuIHRoaXMuQ29vbGRvd25TdGFydFRpbWVVdGM7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElHb3Zlcm5lZENoYW5uZWxTdGF0ZVByb3ZpZGVyIHtcclxuXHRsb2FkKCk6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW107XHJcblxyXG5cdHNhdmUoY2hhbm5lbHM6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10pOiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgR292ZXJuZWRDaGFubmVsU3RhdGVQcm92aWRlckZhY3Rvcnkge1xyXG5cdHB1YmxpYyBzdGF0aWMgbWFrZShmaWxlQmFzZWRTdG9yYWdlOiBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLFxyXG5cdFx0aG9zdEJhc2VkU3RvcmFnZTogSUZsb29kZ2F0ZVNldHRpbmdTdG9yYWdlQ2FsbGJhY2spOiBJR292ZXJuZWRDaGFubmVsU3RhdGVQcm92aWRlciB7XHJcblx0XHRpZiAoaG9zdEJhc2VkU3RvcmFnZSkge1xyXG5cdFx0XHRyZXR1cm4gbmV3IEhvc3RCYXNlZEdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIoZmlsZUJhc2VkU3RvcmFnZSwgaG9zdEJhc2VkU3RvcmFnZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG5ldyBGaWxlQmFzZWRHb3Zlcm5lZENoYW5uZWxTdGF0ZVByb3ZpZGVyKGZpbGVCYXNlZFN0b3JhZ2UpO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIENsYXNzIHJlcHJlc2VudGluZyB3aGF0IGlzIHN0b3JlZCBpbiB0aGUgZmlsZS5cclxuICovXHJcbmNsYXNzIEZpbGVEYXRhIHtcclxuXHQvLyBAU2VyaWFsaXplZE5hbWUoXCJDaGFubmVsU3RhdGVzXCIpXHJcblx0cHVibGljIENoYW5uZWxTdGF0ZXM6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW107XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBIb3N0QmFzZWRHb3Zlcm5lZENoYW5uZWxTdGF0ZVByb3ZpZGVyIGltcGxlbWVudHMgSUdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIge1xyXG5cdHByaXZhdGUgZmlsZUJhc2VkU3RhdGVQcm92aWRlcjogSUdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXI7XHJcblx0cHJpdmF0ZSBob3N0QmFzZWRTdG9yYWdlOiBJRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFjaztcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKGZpbGVCYXNlZFN0b3JhZ2U6IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIsIGhvc3RCYXNlZFN0b3JhZ2U6IElGbG9vZGdhdGVTZXR0aW5nU3RvcmFnZUNhbGxiYWNrKSB7XHJcblx0XHRpZiAoIWhvc3RCYXNlZFN0b3JhZ2UpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiaG9zdC1iYXNlZCBzdG9yYWdlIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5ob3N0QmFzZWRTdG9yYWdlID0gaG9zdEJhc2VkU3RvcmFnZTtcclxuXHJcblx0XHQvLyBmaWxlLWJhc2VkIHByb3ZpZGVyIGlzIG9wdGlvbmFsXHJcblx0XHRpZiAoZmlsZUJhc2VkU3RvcmFnZSkge1xyXG5cdFx0XHR0aGlzLmZpbGVCYXNlZFN0YXRlUHJvdmlkZXIgPSBuZXcgRmlsZUJhc2VkR292ZXJuZWRDaGFubmVsU3RhdGVQcm92aWRlcihmaWxlQmFzZWRTdG9yYWdlKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBsb2FkKCk6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10ge1xyXG5cdFx0Y29uc3Qgc3RhdGVzRnJvbUhvc3Q6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10gPSB0aGlzLmdldFN0YXRlc0Zyb21Ib3N0KCk7XHJcblxyXG5cdFx0bGV0IHN0YXRlc0Zyb21GaWxlOiBHb3Zlcm5lZENoYW5uZWxTdGF0ZVtdO1xyXG5cdFx0aWYgKHRoaXMuZmlsZUJhc2VkU3RhdGVQcm92aWRlcikge1xyXG5cdFx0XHRzdGF0ZXNGcm9tRmlsZSA9IHRoaXMuZmlsZUJhc2VkU3RhdGVQcm92aWRlci5sb2FkKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgU3RhdGVDb2xsZWN0aW9ucyA9IFN0YXRlUHJvdmlkZXJIZWxwZXJzLk1lcmdlQW5kVXBkYXRlR292ZXJuZWRDaGFubmVsU3RhdGVzKHN0YXRlc0Zyb21GaWxlLCBzdGF0ZXNGcm9tSG9zdCk7XHJcblx0XHRyZXR1cm4gU3RhdGVDb2xsZWN0aW9ucy5maW5kKFN0YXRlTGlzdFR5cGUuTWVyZ2VkKTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBzYXZlKHN0YXRlczogR292ZXJuZWRDaGFubmVsU3RhdGVbXSk6IHZvaWQge1xyXG5cdFx0aWYgKCFzdGF0ZXMpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHN0YXRlc0Zyb21Ib3N0OiBHb3Zlcm5lZENoYW5uZWxTdGF0ZVtdID0gdGhpcy5nZXRTdGF0ZXNGcm9tSG9zdCgpO1xyXG5cdFx0Y29uc3QgU3RhdGVDb2xsZWN0aW9ucyA9IFN0YXRlUHJvdmlkZXJIZWxwZXJzLk1lcmdlQW5kVXBkYXRlR292ZXJuZWRDaGFubmVsU3RhdGVzKHN0YXRlcywgc3RhdGVzRnJvbUhvc3QpO1xyXG5cdFx0Y29uc3QgdG9CZVVwZGF0ZWRTdGF0ZXM6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10gPSBTdGF0ZUNvbGxlY3Rpb25zLmZpbmQoU3RhdGVMaXN0VHlwZS5Ub0JlVXBkYXRlZCk7XHJcblx0XHRjb25zdCBtZXJnZWRTdGF0ZXM6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10gPSBTdGF0ZUNvbGxlY3Rpb25zLmZpbmQoU3RhdGVMaXN0VHlwZS5NZXJnZWQpO1xyXG5cclxuXHRcdC8vIHdyaXRlIGRlbHRhX2RhdGEgdG8gSG9zdFxyXG5cdFx0aWYgKHRvQmVVcGRhdGVkU3RhdGVzKSB7XHJcblx0XHRcdHRvQmVVcGRhdGVkU3RhdGVzLmZvckVhY2goKHN0YXRlKSA9PiB7XHJcblx0XHRcdFx0Y29uc3Qgc3RhdGVWYWx1ZTogc3RyaW5nID0gU3RhdGVQcm92aWRlckhlbHBlcnMubWFrZVNldHRpbmdJdGVtVmFsdWUoSlNPTi5zdHJpbmdpZnkoc3RhdGUpKTtcclxuXHRcdFx0XHR0aGlzLmhvc3RCYXNlZFN0b3JhZ2UudXBzZXJ0U2V0dGluZ0l0ZW0oRmlsZVR5cGVbRmlsZVR5cGUuR292ZXJuZWRDaGFubmVsU3RhdGVzXSwgU3RyaW5nKHN0YXRlLmdldFR5cGUoKSksIHN0YXRlVmFsdWUpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBXcml0ZSBtZXJnZWQgZGF0YSB0byBGaWxlXHJcblx0XHRpZiAodGhpcy5maWxlQmFzZWRTdGF0ZVByb3ZpZGVyKSB7XHJcblx0XHRcdHRoaXMuZmlsZUJhc2VkU3RhdGVQcm92aWRlci5zYXZlKG1lcmdlZFN0YXRlcyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldFN0YXRlc0Zyb21Ib3N0KCk6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10ge1xyXG5cdFx0Y29uc3Qgc3RhdGVzOiBHb3Zlcm5lZENoYW5uZWxTdGF0ZVtdID0gW107XHJcblx0XHRjb25zdCBzZXR0aW5nczogSUZsb29kZ2F0ZVNldHRpbmcgPSB0aGlzLmhvc3RCYXNlZFN0b3JhZ2UucmVhZFNldHRpbmdMaXN0KEZpbGVUeXBlW0ZpbGVUeXBlLkdvdmVybmVkQ2hhbm5lbFN0YXRlc10pO1xyXG5cclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHNldHRpbmdzKSB7XHJcblx0XHRcdGlmICghc2V0dGluZ3MuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCB2YWx1ZSA9IHNldHRpbmdzW2tleV07XHJcblx0XHRcdGNvbnN0IGRhdGFTdHJpbmc6IHN0cmluZyA9IFN0YXRlUHJvdmlkZXJIZWxwZXJzLmV4dHJhY3RTZXR0aW5nSXRlbVZhbHVlU3ViU3RyaW5nKHZhbHVlKTtcclxuXHJcblx0XHRcdGxldCBpdGVtT2JqZWN0OiBhbnkgPSB7fTtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRpdGVtT2JqZWN0ID0gSlNPTi5wYXJzZShkYXRhU3RyaW5nKTtcclxuXHJcblx0XHRcdFx0Y29uc3QgbmV3U3RhdGU6IEdvdmVybmVkQ2hhbm5lbFN0YXRlID0gR292ZXJuZWRDaGFubmVsU3RhdGUuZGVzZXJpYWxpemUoaXRlbU9iamVjdCk7XHJcblx0XHRcdFx0aWYgKG5ld1N0YXRlKSB7XHJcblx0XHRcdFx0XHRzdGF0ZXMucHVzaChuZXdTdGF0ZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FdmVudChcclxuXHRcdFx0XHRcdFRlbGVtZXRyeUV2ZW50Lkhvc3RCYXNlZEdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIuR2V0U3RhdGVzRnJvbUhvc3QuRmFpbGVkLFxyXG5cdFx0XHRcdFx0eyBFcnJvck1lc3NhZ2U6IFwiSnNvbiBwYXJzaW5nL2Rlc2VyaWFsaXppbmcgZmFpbGVkLiBcIiArIGUudG9TdHJpbmcoKSArIFwiLiAgSW5wdXQ6XCIgKyBkYXRhU3RyaW5nIH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHN0YXRlcztcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBGaWxlQmFzZWRHb3Zlcm5lZENoYW5uZWxTdGF0ZVByb3ZpZGVyIGltcGxlbWVudHMgSUdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIge1xyXG5cdHByaXZhdGUgc3RvcmFnZTogSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlcjtcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKHN0b3JhZ2U6IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIpIHtcclxuXHRcdGlmICghc3RvcmFnZSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJzdG9yYWdlIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5zdG9yYWdlID0gc3RvcmFnZTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBsb2FkKCk6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10ge1xyXG5cdFx0Ly8gTG9hZCBjaGFubmVsIHN0YXRlIGZyb20gZmlsZSB1c2luZyBfc3RvcmFnZVByb3ZpZGVyIChnZXQgYmFjayBzdHJpbmcpXHJcblx0XHRjb25zdCByZWFkU3RyaW5nOiBzdHJpbmcgPSB0aGlzLnN0b3JhZ2UucmVhZChGaWxlVHlwZS5Hb3Zlcm5lZENoYW5uZWxTdGF0ZXMpO1xyXG5cdFx0aWYgKCFyZWFkU3RyaW5nKSB7XHJcblx0XHRcdHJldHVybiBbXTtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgZmlsZURhdGE6IEZpbGVEYXRhO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0ZmlsZURhdGEgPSBKU09OLnBhcnNlKHJlYWRTdHJpbmcpO1xyXG5cclxuXHRcdFx0Y29uc3QgcmVzdWx0OiBHb3Zlcm5lZENoYW5uZWxTdGF0ZVtdID0gW107XHJcblxyXG5cdFx0XHRpZiAoZmlsZURhdGEgJiYgZmlsZURhdGEuQ2hhbm5lbFN0YXRlcykge1xyXG5cdFx0XHRcdGZpbGVEYXRhLkNoYW5uZWxTdGF0ZXMuZm9yRWFjaCgoc3RhdGUpID0+IHtcclxuXHRcdFx0XHRcdGNvbnN0IG5ld1N0YXRlOiBHb3Zlcm5lZENoYW5uZWxTdGF0ZSA9IEdvdmVybmVkQ2hhbm5lbFN0YXRlLmRlc2VyaWFsaXplKHN0YXRlKTtcclxuXHJcblx0XHRcdFx0XHRpZiAobmV3U3RhdGUpIHtcclxuXHRcdFx0XHRcdFx0cmVzdWx0LnB1c2gobmV3U3RhdGUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LkZpbGVCYXNlZEdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXIuTG9hZC5GYWlsZWQsXHJcblx0XHRcdFx0eyBFcnJvck1lc3NhZ2U6IFwiSnNvbiBwYXJzaW5nL2Rlc2VyaWFsaXppbmcgZmFpbGVkLiBcIiArIGUudG9TdHJpbmcoKSArIFwiLiAgSW5wdXQ6XCIgKyByZWFkU3RyaW5nIH0pO1xyXG5cdFx0XHRyZXR1cm4gW107XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgc2F2ZShzdGF0ZXM6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10pOiB2b2lkIHtcclxuXHRcdGlmICghc3RhdGVzKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBmaWxlRGF0YSA9IG5ldyBGaWxlRGF0YSgpO1xyXG5cdFx0ZmlsZURhdGEuQ2hhbm5lbFN0YXRlcyA9IHN0YXRlcztcclxuXHRcdGNvbnN0IHdyaXRlU3RyaW5nOiBzdHJpbmcgPSBKU09OLnN0cmluZ2lmeShmaWxlRGF0YSk7XHJcblxyXG5cdFx0dGhpcy5zdG9yYWdlLndyaXRlKEZpbGVUeXBlLkdvdmVybmVkQ2hhbm5lbFN0YXRlcywgd3JpdGVTdHJpbmcpO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/GovernedChannelStateProvider.js\n')},"../FloodgateCore/dist/src/Governor.js":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.Governor = exports.DEFAULT_TEACHING_MESSAGE_COOLDOWN = void 0;\nvar GovernedChannel_1 = __webpack_require__(/*! ./GovernedChannel */ "../FloodgateCore/dist/src/GovernedChannel.js");\nvar GovernedChannelStateProvider_1 = __webpack_require__(/*! ./GovernedChannelStateProvider */ "../FloodgateCore/dist/src/GovernedChannelStateProvider.js");\nvar Utils = __webpack_require__(/*! ./Utils */ "../FloodgateCore/dist/src/Utils.js");\nvar isNOU = Utils.isNOU;\nexports.DEFAULT_TEACHING_MESSAGE_COOLDOWN = 15;\nvar DefaultChannelData = /** @class */ (function () {\n    function DefaultChannelData(name, cooldownSeconds) {\n        this.name = name;\n        this.cooldownSeconds = cooldownSeconds;\n    }\n    return DefaultChannelData;\n}());\nvar Governor = /** @class */ (function () {\n    function Governor(channelStateProvider) {\n        this.channels = [];\n        if (!channelStateProvider) {\n            throw new Error("channelStateProvider must not be null");\n        }\n        this.channelStateProvider = channelStateProvider;\n        this.loadChannels();\n    }\n    Governor.GetChannelCoolDown = function (channelType) {\n        var channelData = Governor.defaultChannelData[channelType];\n        return channelData ? channelData.cooldownSeconds : 0;\n    };\n    Governor.SetDefaultChannelCoolDown = function (channelType, cooldownSeconds) {\n        var channelData = Governor.defaultChannelData[channelType];\n        if (channelData) {\n            channelData.cooldownSeconds = cooldownSeconds;\n        }\n    };\n    // @Override\n    Governor.prototype.refreshChannelData = function () {\n        this.loadChannels();\n    };\n    // @Override\n    Governor.prototype.getAvailableChannelData = function () {\n        var channelData = [];\n        for (var key in this.channels) {\n            if (this.channels.hasOwnProperty(key)) {\n                var channel = this.channels[key];\n                if (channel.isOpen()) {\n                    channelData.push(channel);\n                }\n            }\n        }\n        return channelData;\n    };\n    // @Override\n    Governor.prototype.isChannelOpen = function (type) {\n        if (isNOU(type)) {\n            throw new Error("type must not be null");\n        }\n        return this.channels[type].isOpen();\n    };\n    // @Override\n    Governor.prototype.startChannelCooldown = function (type, date) {\n        if (isNOU(type)) {\n            throw new Error("type must not be null");\n        }\n        date = date ? date : new Date();\n        // Start the cool down\n        this.channels[type].setCooldownStartTime(date);\n        // Save the new channel state for future sessions\n        this.saveChannelStates();\n    };\n    Governor.prototype.saveChannelStates = function () {\n        // Build up the list of channel states\n        var channelStates = [];\n        for (var key in this.channels) {\n            if (this.channels.hasOwnProperty(key)) {\n                var channel = this.channels[key];\n                var channelState = new GovernedChannelStateProvider_1.GovernedChannelState(channel.getType(), channel.getCooldownStartTime());\n                channelStates.push(channelState);\n            }\n        }\n        this.channelStateProvider.save(channelStates);\n    };\n    Governor.prototype.loadChannels = function () {\n        // Load up state from previous sessions\n        this.loadChannelStatesFromProvider();\n        // For any missing channels, init them from scratch\n        // There\'s no straightforward way to iterate enums, we need to iterate through the enum array\n        //    filtering out just the numeric enum values (excluding enum names).\n        for (var item in GovernedChannel_1.GovernedChannelType) {\n            if (GovernedChannel_1.GovernedChannelType.hasOwnProperty(item)) {\n                var key = Number(item);\n                // skip if key is not numeric enum value, or if already exists\n                if (isNaN(key) || this.channels[key]) {\n                    continue;\n                }\n                var defaultData = Governor.defaultChannelData[key];\n                var newChannel = new GovernedChannel_1.GovernedChannel(key, defaultData.name, defaultData.cooldownSeconds, null);\n                this.channels[key] = newChannel;\n            }\n        }\n    };\n    Governor.prototype.loadChannelStatesFromProvider = function () {\n        this.channels = [];\n        var channelStates = this.channelStateProvider.load();\n        for (var key in channelStates) {\n            if (channelStates.hasOwnProperty(key)) {\n                var channelState = channelStates[key];\n                var type = channelState.getType();\n                var defaultData = Governor.defaultChannelData[type];\n                var newChannel = new GovernedChannel_1.GovernedChannel(type, defaultData.name, defaultData.cooldownSeconds, channelState.getCooldownStartTime());\n                this.channels[newChannel.getType()] = newChannel;\n            }\n        }\n    };\n    Governor.minute = 60;\n    Governor.hour = 60 * Governor.minute;\n    Governor.day = 24 * Governor.hour;\n    // Array of default values for each channel type. Indexed by the GovernedChannelType enum name.\n    Governor.defaultChannelData = [\n        new DefaultChannelData(GovernedChannel_1.GovernedChannelType[GovernedChannel_1.GovernedChannelType.Standard], 14 * Governor.day),\n        new DefaultChannelData(GovernedChannel_1.GovernedChannelType[GovernedChannel_1.GovernedChannelType.Urgent], 0),\n        new DefaultChannelData(GovernedChannel_1.GovernedChannelType[GovernedChannel_1.GovernedChannelType.Banner], 15 * Governor.day),\n        new DefaultChannelData(GovernedChannel_1.GovernedChannelType[GovernedChannel_1.GovernedChannelType.TeachingMessage], exports.DEFAULT_TEACHING_MESSAGE_COOLDOWN * Governor.day),\n    ];\n    return Governor;\n}());\nexports.Governor = Governor;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0dvdmVybm9yLnRzPzI5YzEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEscUhBQStGO0FBQy9GLDRKQUFxRztBQUNyRyxxRkFBaUM7QUFFekIsU0FBSyxHQUFLLEtBQUssTUFBVixDQUFXO0FBRVgseUNBQWlDLEdBQUcsRUFBRSxDQUFDO0FBY3BEO0lBSUMsNEJBQW1CLElBQVksRUFBRSxlQUF1QjtRQUN2RCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsZUFBZSxHQUFHLGVBQWUsQ0FBQztJQUN4QyxDQUFDO0lBQ0YseUJBQUM7QUFBRCxDQUFDO0FBRUQ7SUE0QkMsa0JBQW1CLG9CQUFtRDtRQUY5RCxhQUFRLEdBQXNCLEVBQUUsQ0FBQztRQUd4QyxJQUFJLENBQUMsb0JBQW9CLEVBQUU7WUFDMUIsTUFBTSxJQUFJLEtBQUssQ0FBQyx1Q0FBdUMsQ0FBQyxDQUFDO1NBQ3pEO1FBRUQsSUFBSSxDQUFDLG9CQUFvQixHQUFHLG9CQUFvQixDQUFDO1FBQ2pELElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUNyQixDQUFDO0lBbENhLDJCQUFrQixHQUFoQyxVQUFpQyxXQUFnQztRQUNoRSxJQUFNLFdBQVcsR0FBRyxRQUFRLENBQUMsa0JBQWtCLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDN0QsT0FBTyxXQUFXLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN0RCxDQUFDO0lBRWEsa0NBQXlCLEdBQXZDLFVBQXdDLFdBQWdDLEVBQUUsZUFBdUI7UUFDaEcsSUFBTSxXQUFXLEdBQUcsUUFBUSxDQUFDLGtCQUFrQixDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzdELElBQUksV0FBVyxFQUFFO1lBQ2hCLFdBQVcsQ0FBQyxlQUFlLEdBQUcsZUFBZSxDQUFDO1NBQzlDO0lBQ0YsQ0FBQztJQTBCRCxZQUFZO0lBQ0wscUNBQWtCLEdBQXpC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QUFDLEVBQUUsRUFBRSxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUM7UUFDNUYsSUFBSSxrQkFBa0IsQ0FBQyxxQ0FBbUIsQ0FBQyxxQ0FBbUIsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDMUUsSUFBSSxrQkFBa0IsQ0FBQyxxQ0FBbUIsQ0FBQyxxQ0FBbUIsQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQztRQUMxRixJQUFJLGtCQUFrQixDQUFDLHFDQUFtQixDQUFDLHFDQUFtQixDQUFDLGVBQWUsQ0FBQyxFQUFFLHlDQUFpQyxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUM7S0FDbEksQ0FBQztJQXVISCxlQUFDO0NBQUE7QUE5SVksNEJBQVEiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9Hb3Zlcm5vci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdvdmVybmVkQ2hhbm5lbCwgR292ZXJuZWRDaGFubmVsVHlwZSwgSUdvdmVybmVkQ2hhbm5lbERhdGEgfSBmcm9tIFwiLi9Hb3Zlcm5lZENoYW5uZWxcIjtcclxuaW1wb3J0IHsgR292ZXJuZWRDaGFubmVsU3RhdGUsIElHb3Zlcm5lZENoYW5uZWxTdGF0ZVByb3ZpZGVyIH0gZnJvbSBcIi4vR292ZXJuZWRDaGFubmVsU3RhdGVQcm92aWRlclwiO1xyXG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tIFwiLi9VdGlsc1wiO1xyXG5cclxuY29uc3QgeyBpc05PVSB9ID0gVXRpbHM7XHJcblxyXG5leHBvcnQgY29uc3QgREVGQVVMVF9URUFDSElOR19NRVNTQUdFX0NPT0xET1dOID0gMTU7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElHb3Zlcm5vciB7XHJcblx0Z2V0QXZhaWxhYmxlQ2hhbm5lbERhdGEoKTogSUdvdmVybmVkQ2hhbm5lbERhdGFbXTtcclxuXHJcblx0aXNDaGFubmVsT3Blbih0eXBlOiBHb3Zlcm5lZENoYW5uZWxUeXBlKTogYm9vbGVhbjtcclxuXHJcblx0c3RhcnRDaGFubmVsQ29vbGRvd24odHlwZTogR292ZXJuZWRDaGFubmVsVHlwZSwgZGF0ZT86IERhdGUpOiB2b2lkO1xyXG5cclxuXHRyZWZyZXNoQ2hhbm5lbERhdGEoKTogdm9pZDtcclxuXHJcblx0c2F2ZUNoYW5uZWxTdGF0ZXMoKTogdm9pZDtcclxufVxyXG5cclxuY2xhc3MgRGVmYXVsdENoYW5uZWxEYXRhIHtcclxuXHRwdWJsaWMgY29vbGRvd25TZWNvbmRzOiBudW1iZXI7XHJcblx0cHVibGljIG5hbWU6IHN0cmluZztcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgY29vbGRvd25TZWNvbmRzOiBudW1iZXIpIHtcclxuXHRcdHRoaXMubmFtZSA9IG5hbWU7XHJcblx0XHR0aGlzLmNvb2xkb3duU2Vjb25kcyA9IGNvb2xkb3duU2Vjb25kcztcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBHb3Zlcm5vciBpbXBsZW1lbnRzIElHb3Zlcm5vciB7XHJcblx0cHVibGljIHN0YXRpYyBHZXRDaGFubmVsQ29vbERvd24oY2hhbm5lbFR5cGU6IEdvdmVybmVkQ2hhbm5lbFR5cGUpIHtcclxuXHRcdGNvbnN0IGNoYW5uZWxEYXRhID0gR292ZXJub3IuZGVmYXVsdENoYW5uZWxEYXRhW2NoYW5uZWxUeXBlXTtcclxuXHRcdHJldHVybiBjaGFubmVsRGF0YSA/IGNoYW5uZWxEYXRhLmNvb2xkb3duU2Vjb25kcyA6IDA7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhdGljIFNldERlZmF1bHRDaGFubmVsQ29vbERvd24oY2hhbm5lbFR5cGU6IEdvdmVybmVkQ2hhbm5lbFR5cGUsIGNvb2xkb3duU2Vjb25kczogbnVtYmVyKSB7XHJcblx0XHRjb25zdCBjaGFubmVsRGF0YSA9IEdvdmVybm9yLmRlZmF1bHRDaGFubmVsRGF0YVtjaGFubmVsVHlwZV07XHJcblx0XHRpZiAoY2hhbm5lbERhdGEpIHtcclxuXHRcdFx0Y2hhbm5lbERhdGEuY29vbGRvd25TZWNvbmRzID0gY29vbGRvd25TZWNvbmRzO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgbWludXRlOiBudW1iZXIgPSA2MDtcclxuXHRwcml2YXRlIHN0YXRpYyBob3VyOiBudW1iZXIgPSA2MCAqIEdvdmVybm9yLm1pbnV0ZTtcclxuXHRwcml2YXRlIHN0YXRpYyBkYXk6IG51bWJlciA9IDI0ICogR292ZXJub3IuaG91cjtcclxuXHJcblx0Ly8gQXJyYXkgb2YgZGVmYXVsdCB2YWx1ZXMgZm9yIGVhY2ggY2hhbm5lbCB0eXBlLiBJbmRleGVkIGJ5IHRoZSBHb3Zlcm5lZENoYW5uZWxUeXBlIGVudW0gbmFtZS5cclxuXHRwcml2YXRlIHN0YXRpYyBkZWZhdWx0Q2hhbm5lbERhdGE6IERlZmF1bHRDaGFubmVsRGF0YVtdID0gW1xyXG5cdFx0bmV3IERlZmF1bHRDaGFubmVsRGF0YShHb3Zlcm5lZENoYW5uZWxUeXBlW0dvdmVybmVkQ2hhbm5lbFR5cGUuU3RhbmRhcmRdLCAxNCAqIEdvdmVybm9yLmRheSksXHJcblx0XHRuZXcgRGVmYXVsdENoYW5uZWxEYXRhKEdvdmVybmVkQ2hhbm5lbFR5cGVbR292ZXJuZWRDaGFubmVsVHlwZS5VcmdlbnRdLCAwKSxcclxuXHRcdG5ldyBEZWZhdWx0Q2hhbm5lbERhdGEoR292ZXJuZWRDaGFubmVsVHlwZVtHb3Zlcm5lZENoYW5uZWxUeXBlLkJhbm5lcl0sIDE1ICogR292ZXJub3IuZGF5KSxcclxuXHRcdG5ldyBEZWZhdWx0Q2hhbm5lbERhdGEoR292ZXJuZWRDaGFubmVsVHlwZVtHb3Zlcm5lZENoYW5uZWxUeXBlLlRlYWNoaW5nTWVzc2FnZV0sIERFRkFVTFRfVEVBQ0hJTkdfTUVTU0FHRV9DT09MRE9XTiAqIEdvdmVybm9yLmRheSksXHJcblx0XTtcclxuXHJcblx0cHJpdmF0ZSBjaGFubmVsU3RhdGVQcm92aWRlcjogSUdvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXI7XHJcblx0cHJpdmF0ZSBjaGFubmVsczogR292ZXJuZWRDaGFubmVsW10gPSBbXTtcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKGNoYW5uZWxTdGF0ZVByb3ZpZGVyOiBJR292ZXJuZWRDaGFubmVsU3RhdGVQcm92aWRlcikge1xyXG5cdFx0aWYgKCFjaGFubmVsU3RhdGVQcm92aWRlcikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJjaGFubmVsU3RhdGVQcm92aWRlciBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuY2hhbm5lbFN0YXRlUHJvdmlkZXIgPSBjaGFubmVsU3RhdGVQcm92aWRlcjtcclxuXHRcdHRoaXMubG9hZENoYW5uZWxzKCk7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgcmVmcmVzaENoYW5uZWxEYXRhKCk6IHZvaWQge1xyXG5cdFx0dGhpcy5sb2FkQ2hhbm5lbHMoKTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRBdmFpbGFibGVDaGFubmVsRGF0YSgpOiBJR292ZXJuZWRDaGFubmVsRGF0YVtdIHtcclxuXHRcdGNvbnN0IGNoYW5uZWxEYXRhOiBJR292ZXJuZWRDaGFubmVsRGF0YVtdID0gW107XHJcblxyXG5cdFx0Zm9yIChjb25zdCBrZXkgaW4gdGhpcy5jaGFubmVscykge1xyXG5cdFx0XHRpZiAodGhpcy5jaGFubmVscy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0Y29uc3QgY2hhbm5lbDogR292ZXJuZWRDaGFubmVsID0gdGhpcy5jaGFubmVsc1trZXldO1xyXG5cclxuXHRcdFx0XHRpZiAoY2hhbm5lbC5pc09wZW4oKSkge1xyXG5cdFx0XHRcdFx0Y2hhbm5lbERhdGEucHVzaChjaGFubmVsKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gY2hhbm5lbERhdGE7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgaXNDaGFubmVsT3Blbih0eXBlOiBHb3Zlcm5lZENoYW5uZWxUeXBlKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoaXNOT1UodHlwZSkpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwidHlwZSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLmNoYW5uZWxzW3R5cGVdLmlzT3BlbigpO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIHN0YXJ0Q2hhbm5lbENvb2xkb3duKHR5cGU6IEdvdmVybmVkQ2hhbm5lbFR5cGUsIGRhdGU/OiBEYXRlKTogdm9pZCB7XHJcblx0XHRpZiAoaXNOT1UodHlwZSkpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwidHlwZSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGRhdGUgPSBkYXRlID8gZGF0ZSA6IG5ldyBEYXRlKCk7XHJcblxyXG5cdFx0Ly8gU3RhcnQgdGhlIGNvb2wgZG93blxyXG5cdFx0dGhpcy5jaGFubmVsc1t0eXBlXS5zZXRDb29sZG93blN0YXJ0VGltZShkYXRlKTtcclxuXHJcblx0XHQvLyBTYXZlIHRoZSBuZXcgY2hhbm5lbCBzdGF0ZSBmb3IgZnV0dXJlIHNlc3Npb25zXHJcblx0XHR0aGlzLnNhdmVDaGFubmVsU3RhdGVzKCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2F2ZUNoYW5uZWxTdGF0ZXMoKTogdm9pZCB7XHJcblx0XHQvLyBCdWlsZCB1cCB0aGUgbGlzdCBvZiBjaGFubmVsIHN0YXRlc1xyXG5cdFx0Y29uc3QgY2hhbm5lbFN0YXRlczogR292ZXJuZWRDaGFubmVsU3RhdGVbXSA9IFtdO1xyXG5cclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHRoaXMuY2hhbm5lbHMpIHtcclxuXHRcdFx0aWYgKHRoaXMuY2hhbm5lbHMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdGNvbnN0IGNoYW5uZWw6IEdvdmVybmVkQ2hhbm5lbCA9IHRoaXMuY2hhbm5lbHNba2V5XTtcclxuXHRcdFx0XHRjb25zdCBjaGFubmVsU3RhdGU6IEdvdmVybmVkQ2hhbm5lbFN0YXRlID1cclxuXHRcdFx0XHRcdG5ldyBHb3Zlcm5lZENoYW5uZWxTdGF0ZShjaGFubmVsLmdldFR5cGUoKSwgY2hhbm5lbC5nZXRDb29sZG93blN0YXJ0VGltZSgpKTtcclxuXHJcblx0XHRcdFx0Y2hhbm5lbFN0YXRlcy5wdXNoKGNoYW5uZWxTdGF0ZSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmNoYW5uZWxTdGF0ZVByb3ZpZGVyLnNhdmUoY2hhbm5lbFN0YXRlcyk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGxvYWRDaGFubmVscygpOiB2b2lkIHtcclxuXHRcdC8vIExvYWQgdXAgc3RhdGUgZnJvbSBwcmV2aW91cyBzZXNzaW9uc1xyXG5cdFx0dGhpcy5sb2FkQ2hhbm5lbFN0YXRlc0Zyb21Qcm92aWRlcigpO1xyXG5cclxuXHRcdC8vIEZvciBhbnkgbWlzc2luZyBjaGFubmVscywgaW5pdCB0aGVtIGZyb20gc2NyYXRjaFxyXG5cdFx0Ly8gVGhlcmUncyBubyBzdHJhaWdodGZvcndhcmQgd2F5IHRvIGl0ZXJhdGUgZW51bXMsIHdlIG5lZWQgdG8gaXRlcmF0ZSB0aHJvdWdoIHRoZSBlbnVtIGFycmF5XHJcblx0XHQvLyAgICBmaWx0ZXJpbmcgb3V0IGp1c3QgdGhlIG51bWVyaWMgZW51bSB2YWx1ZXMgKGV4Y2x1ZGluZyBlbnVtIG5hbWVzKS5cclxuXHRcdGZvciAoY29uc3QgaXRlbSBpbiBHb3Zlcm5lZENoYW5uZWxUeXBlKSB7XHJcblx0XHRcdGlmIChHb3Zlcm5lZENoYW5uZWxUeXBlLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XHJcblx0XHRcdFx0Y29uc3Qga2V5OiBudW1iZXIgPSBOdW1iZXIoaXRlbSk7XHJcblxyXG5cdFx0XHRcdC8vIHNraXAgaWYga2V5IGlzIG5vdCBudW1lcmljIGVudW0gdmFsdWUsIG9yIGlmIGFscmVhZHkgZXhpc3RzXHJcblx0XHRcdFx0aWYgKGlzTmFOKGtleSkgfHwgdGhpcy5jaGFubmVsc1trZXldKSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGNvbnN0IGRlZmF1bHREYXRhOiBEZWZhdWx0Q2hhbm5lbERhdGEgPSBHb3Zlcm5vci5kZWZhdWx0Q2hhbm5lbERhdGFba2V5XTtcclxuXHRcdFx0XHRjb25zdCBuZXdDaGFubmVsOiBHb3Zlcm5lZENoYW5uZWwgPVxyXG5cdFx0XHRcdFx0bmV3IEdvdmVybmVkQ2hhbm5lbChrZXksIGRlZmF1bHREYXRhLm5hbWUsIGRlZmF1bHREYXRhLmNvb2xkb3duU2Vjb25kcywgbnVsbCk7XHJcblx0XHRcdFx0dGhpcy5jaGFubmVsc1trZXldID0gbmV3Q2hhbm5lbDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBsb2FkQ2hhbm5lbFN0YXRlc0Zyb21Qcm92aWRlcigpOiB2b2lkIHtcclxuXHRcdHRoaXMuY2hhbm5lbHMgPSBbXTtcclxuXHJcblx0XHRjb25zdCBjaGFubmVsU3RhdGVzOiBHb3Zlcm5lZENoYW5uZWxTdGF0ZVtdID0gdGhpcy5jaGFubmVsU3RhdGVQcm92aWRlci5sb2FkKCk7XHJcblxyXG5cdFx0Zm9yIChjb25zdCBrZXkgaW4gY2hhbm5lbFN0YXRlcykge1xyXG5cdFx0XHRpZiAoY2hhbm5lbFN0YXRlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0Y29uc3QgY2hhbm5lbFN0YXRlOiBHb3Zlcm5lZENoYW5uZWxTdGF0ZSA9IGNoYW5uZWxTdGF0ZXNba2V5XTtcclxuXHJcblx0XHRcdFx0Y29uc3QgdHlwZTogR292ZXJuZWRDaGFubmVsVHlwZSA9IGNoYW5uZWxTdGF0ZS5nZXRUeXBlKCk7XHJcblx0XHRcdFx0Y29uc3QgZGVmYXVsdERhdGE6IERlZmF1bHRDaGFubmVsRGF0YSA9IEdvdmVybm9yLmRlZmF1bHRDaGFubmVsRGF0YVt0eXBlXTtcclxuXHRcdFx0XHRjb25zdCBuZXdDaGFubmVsOiBHb3Zlcm5lZENoYW5uZWwgPVxyXG5cdFx0XHRcdFx0bmV3IEdvdmVybmVkQ2hhbm5lbCh0eXBlLCBkZWZhdWx0RGF0YS5uYW1lLCBkZWZhdWx0RGF0YS5jb29sZG93blNlY29uZHMsIGNoYW5uZWxTdGF0ZS5nZXRDb29sZG93blN0YXJ0VGltZSgpKTtcclxuXHJcblx0XHRcdFx0dGhpcy5jaGFubmVsc1tuZXdDaGFubmVsLmdldFR5cGUoKV0gPSBuZXdDaGFubmVsO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Governor.js\n')},"../FloodgateCore/dist/src/ISurveyInfo.js":function(module,exports,__webpack_require__){"use strict";eval('\nvar ISurveyInfo;\n(function (ISurveyInfo) {\n    ISurveyInfo.DOM_TYPE_TAGNAME = "Type";\n    ISurveyInfo.DOM_TYPE_VALUE = "Survey";\n    ISurveyInfo.DOM_ID_TAGNAME = "SurveyID";\n    ISurveyInfo.JSON_SURVEY_KEYNAME = "survey";\n    ISurveyInfo.JSON_ID_KEYNAME = "surveyId";\n})(ISurveyInfo || (ISurveyInfo = {}));\nmodule.exports = ISurveyInfo;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0lTdXJ2ZXlJbmZvLnRzP2ZmYTUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQTBGQSxJQUFPLFdBQVcsQ0FvQmpCO0FBcEJELFdBQU8sV0FBVztJQWVKLDRCQUFnQixHQUFHLE1BQU0sQ0FBQztJQUMxQiwwQkFBYyxHQUFHLFFBQVEsQ0FBQztJQUMxQiwwQkFBYyxHQUFHLFVBQVUsQ0FBQztJQUM1QiwrQkFBbUIsR0FBRyxRQUFRLENBQUM7SUFDL0IsMkJBQWUsR0FBRyxVQUFVLENBQUM7QUFDM0MsQ0FBQyxFQXBCTSxXQUFXLEtBQVgsV0FBVyxRQW9CakI7QUFFRCxpQkFBUyxXQUFXLENBQUMiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9JU3VydmV5SW5mby5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElTdXJ2ZXlEb21Xcml0ZXIgfSBmcm9tIFwiLi9BcGkvSVN1cnZleURvbVdyaXRlclwiO1xyXG5pbXBvcnQgeyBJU3VydmV5SnNvbldyaXRlciB9IGZyb20gXCIuL0FwaS9JU3VydmV5SnNvbldyaXRlclwiO1xyXG5pbXBvcnQgeyBHb3Zlcm5lZENoYW5uZWxUeXBlIH0gZnJvbSBcIi4vR292ZXJuZWRDaGFubmVsXCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXlFdmVudCBmcm9tIFwiLi9JU3VydmV5RXZlbnRcIjtcclxuaW1wb3J0IHsgSVN1cnZleU1ldGFkYXRhIH0gZnJvbSBcIi4vSVN1cnZleU1ldGFkYXRhXCI7XHJcblxyXG4vKipcclxuICogSW50ZXJmYWNlIHRoYXQgY2FuIGJlIHVzZWQgdG8gYWNjZXNzIHRoZSBiYXNpY3Mgb2YgYSBTdXJ2ZXlcclxuICovXHJcbmludGVyZmFjZSBJU3VydmV5SW5mbyBleHRlbmRzIElTdXJ2ZXlEb21Xcml0ZXIsIElTdXJ2ZXlKc29uV3JpdGVyIHtcclxuXHQvKipcclxuXHQgKiBBIGdsb2JhbGx5IHVuaXF1ZSwgYnV0IG90aGVyd2lzZSBvcGFxdWUsIGlkZW50aXR5IGZvciB0aGlzIHBhcnRpY3VsYXIgc3VydmV5XHJcblx0ICovXHJcblx0Z2V0SWQoKTogc3RyaW5nO1xyXG5cclxuXHQvKipcclxuXHQgKiBBIGdsb2JhbGx5IHVuaXF1ZSwgYnV0IG90aGVyd2lzZSBvcGFxdWUsIGlkZW50aXR5IGZvciB0aGlzIHBhcnRpY3VsYXIgc3VydmV5IG9uIHRoZSBPQ1YgYmFja2VuZFxyXG5cdCAqIE1heSBiZSB0aGUgc2FtZSwgb3IgZGlmZmVyZW50IHRoYW4gZ2V0SWRcclxuXHQgKi9cclxuXHRnZXRCYWNrRW5kSWQoKTogc3RyaW5nO1xyXG5cclxuXHQvKipcclxuXHQgKiBUaGUgZ292ZXJlbmQgY2hhbm5lbCB0aGF0IHRoaXMgc3VydmV5IHdpbGwgYmUgZGVsaXZlcmVkL2ZpbHRlcmVkIHRocm91Z2hcclxuXHQgKi9cclxuXHRnZXRHb3Zlcm5lZENoYW5uZWxUeXBlKCk6IEdvdmVybmVkQ2hhbm5lbFR5cGU7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRoZSByYXcgc3RyaW5nIHByb3ZpZGVkIGFzIHRoZSBzdXJ2ZXkncyBzdGFydCBkYXRlLCB3aXRoIG5vIGVycm9yIGNoZWNraW5nXHJcblx0ICovXHJcblx0Z2V0UmF3U3RhcnRUaW1lVXRjKCk6IHN0cmluZztcclxuXHJcblx0LyoqXHJcblx0ICogVGhlIHN0YXJ0IHRpbWUsIGluIFVUQywgb2YgdGhpcyBTdXJ2ZXkuICBCZWZvcmUgdGhlIGNsaWVudCBoYXMgcGFzc2VkIHRoaXMgZGF0ZVxyXG5cdCAqIHRoZSBzdXJ2ZXkgd2lsbCB3b24ndCBiZSBsb2FkZWQgaW50byB0aGUgc3VydmV5IGFjdGl2aXR5IGxpc3RlbmVyLlxyXG5cdCAqIElmIG5vIHN0YXJ0IGRhdGUgaXMgZ2l2ZW4sIHJldHVybnMgZGlzdGFudFBhc3QuXHJcblx0ICogSWYgYmFkIHN0YXJ0IGRhdGUgZ2l2ZW4sIHJldHVybnMgZGlzdGFudEZ1dHVyZVxyXG5cdCAqIE90aGVyd2lzZSwgcmV0dXJucyBkYXRlXHJcblx0ICovXHJcblx0Z2V0U3RhcnRUaW1lVXRjKCk6IERhdGU7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRoZSBleHBpcmF0aW9uIHRpbWUsIGluIFVUQywgb2YgdGhpcyBTdXJ2ZXkuIE9uY2UgdGhlIGNsaWVudCBoYXMgcGFzc2VkIHRoaXMgZGF0ZSwgaXQgc2hvdWxkIGNsZWFuIGFueVxyXG5cdCAqIGNhY2hlZCBkYXRhLCBhbmQgc2hvdWxkIHJlamVjdCBhbnkgaW5jb21pbmcgc3VydmV5cyB0aGF0IGhhdmUgb3RoZXJ3aXNlIGV4cGlyZWQgYnV0IGFyZSBzdGlsbCBhY3RpdmVcclxuXHQgKiBpbiB0aGUgZmxpZ2h0aW5nIHN5c3RlbVxyXG5cdCAqIElmIG5vL2JhZCBleHBpcmF0aW9uIGRhdGUgZ2l2ZW4sIHJldHVybnMgZGlzdGFudFBhc3QgdG8gbWFrZSBzdXJlIHRoaXMgc3VydmV5IGlzIGFsd2F5cyBleHBpcmVkLlxyXG5cdCAqL1xyXG5cdGdldEV4cGlyYXRpb25UaW1lVXRjKCk6IERhdGU7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFRoZSBleHBpcmF0aW9uIHRpbWUsIGluIFVUQywgb2YgdGhpcyBTdXJ2ZXkuICBPbmNlIHRoZSBjbGllbnQgaGFzIHBhc3NlZCB0aGlzIGRhdGUsIGl0IHNob3VsZCBjbGVhbiBhbnlcclxuXHQgKiBjYWNoZWQgZGF0YSwgYW5kIHNob3VsZCByZWplY3QgYW55IGluY29taW5nIHN1cnZleXMgdGhhdCBoYXZlIG90aGVyd2lzZSBleHBpcmVkIGJ1dCBhcmUgc3RpbGwgYWN0aXZlXHJcblx0ICogaW4gdGhlIGZsaWdodGluZyBzeXN0ZW1cclxuXHQgKi9cclxuXHRnZXRSYXdFeHBpcmF0aW9uVGltZVV0YygpOiBzdHJpbmc7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlICdkYXRlJyBpcyBiZXR3ZWVuIHRoZSBzdGFydC9leHBpcmF0aW9uIGRhdGVzIGZvciB0aGlzIHN1cnZleS5cclxuXHQgKi9cclxuXHRpc0FjdGl2ZUZvckRhdGUoZGF0ZTogRGF0ZSk6IGJvb2xlYW47XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldHMgdGhlIGFjdGl2YXRpb24gZXZlbnQgdGhhdCBzaG91bGQgYmUgcGx1bWJlZCB0aHJvdWdoIHRvIHRoZSBGbG9vZGdhdGVFbmdpbmUvU3VydmV5QWN0aXZpeXRMaXN0ZW5lci5cclxuXHQgKiBXaGVuIGFjdGl2YXRlZCwgdGhpcyBzdXJ2ZXkgc2hvdWxkIGJlIHNob3duIHRvIHRoZSB1c2VyLlxyXG5cdCAqL1xyXG5cdGdldEFjdGl2YXRpb25FdmVudCgpOiBJU3VydmV5RXZlbnQ7XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdldHMgdGhlIHByZWZlcnJlZCBsYXVuY2ggbWVjaGFuaXNtIGJhc2VkIG9uIHRoaXMgc3VydmV5J3MgZGF0YSBwYXlsb2FkLiAgVGhpcyBtYXkgb3IgbWF5IG5vdCBiZVxyXG5cdCAqIHJlc3BlY3RlZCBieSB0aGUgTGF1bmNoZXJGYWN0b3J5IGRlcGVuZGluZyBvbiB0aGUgcGxhdGZvcm0gYW5kIGltcGxlbWVudGF0aW9uLCBhbmQgaXMgc3RyaWN0bHkgY29uc2lkZXJlZFxyXG5cdCAqIGEgYmVoYXZpb3JhbCBoaW50XHJcblx0ICovXHJcblx0Z2V0UHJlZmVycmVkTGF1bmNoVHlwZSgpOiBJU3VydmV5SW5mby5MYXVuY2hUeXBlO1xyXG5cclxuXHQvKipcclxuXHQgKiBSZXR1cm4gYWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQgYXJyYXlcclxuXHQgKi9cclxuXHRpc0FkZGl0aW9uYWxEYXRhUmVxdWVzdGVkKGFkZGl0aW9uYWxEYXRhOiBJU3VydmV5SW5mby5BZGRpdGlvbmFsRGF0YVR5cGUpOiBib29sZWFuO1xyXG5cclxuXHQvKipcclxuXHQgKiBSZXR1cm4gdGhlIGxhdW5jaGVyIHR5cGUgc3RyaW5nXHJcblx0ICovXHJcblx0Z2V0TGF1bmNoZXJUeXBlKCk6IHN0cmluZztcclxuXHJcblx0LyoqXHJcblx0ICogR2V0cyB0aGUgbWV0YWRhdGEgb2YgdGhlIHN1cnZleSwgdGhpcyBpcyBvcHRpb25hbCBidXQgaWYgYXZhaWxhYmxlIGl0IGNhbiBiZSB1c2VkIGJ5IGxhdW5jaGVyIHRvXHJcblx0ICogbWFrZSBhcHByb3ByaWF0ZSBkZWNpc2lvbnMgd2hpbGUgbGF1bmNoaW5nIGEgc3VyZmFjZS5cclxuXHQgKi9cclxuXHRnZXRNZXRhZGF0YSgpOiBJU3VydmV5TWV0YWRhdGE7XHJcbn1cclxuXHJcbm1vZHVsZSBJU3VydmV5SW5mbyB7XHJcblx0ZXhwb3J0IGNvbnN0IGVudW0gTGF1bmNoVHlwZSB7XHJcblx0XHQvLyBObyBsYXVuY2ggdHlwZSBzcGVjaWZpZWQsIGRlZmVyIHRvIHRoZSBsYXVuY2hlciBmYWN0b3J5IGNvZGVcclxuXHRcdERlZmF1bHQgPSBcIkRlZmF1bHRcIixcclxuXHRcdC8vIFByZWZlciBhIG5vdGlmaWNhdGlvbi1iYXNlZCBsYXVuY2hlciAobGlrZSB0aGUgd2luZG93cyB0b2FzdCBsYXVuY2hlciB3aGVuIHByZXNlbnQpXHJcblx0XHROb3RpZmljYXRpb24gPSBcIk5vdGlmaWNhdGlvblwiLFxyXG5cdFx0Ly8gUHJlZmVyIGEgbW9kYWwtZGlhbG9nIGJhc2VkIGxhdW5jaGVyXHJcblx0XHRNb2RhbCA9IFwiTW9kYWxcIixcclxuXHR9XHJcblxyXG5cdGV4cG9ydCBjb25zdCBlbnVtIEFkZGl0aW9uYWxEYXRhVHlwZSB7XHJcblx0XHQvLyBSZXF1ZXN0IGVtYWlsIGFkZHJlc3NcclxuXHRcdEVtYWlsQWRkcmVzcyxcclxuXHR9XHJcblxyXG5cdGV4cG9ydCBjb25zdCBET01fVFlQRV9UQUdOQU1FID0gXCJUeXBlXCI7XHJcblx0ZXhwb3J0IGNvbnN0IERPTV9UWVBFX1ZBTFVFID0gXCJTdXJ2ZXlcIjtcclxuXHRleHBvcnQgY29uc3QgRE9NX0lEX1RBR05BTUUgPSBcIlN1cnZleUlEXCI7XHJcblx0ZXhwb3J0IGNvbnN0IEpTT05fU1VSVkVZX0tFWU5BTUUgPSBcInN1cnZleVwiO1xyXG5cdGV4cG9ydCBjb25zdCBKU09OX0lEX0tFWU5BTUUgPSBcInN1cnZleUlkXCI7XHJcbn1cclxuXHJcbmV4cG9ydCA9IElTdXJ2ZXlJbmZvO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/ISurveyInfo.js\n')},"../FloodgateCore/dist/src/IndexedTracker.js":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.IndexedTracker = void 0;\nvar IndexedTracker = /** @class */ (function () {\n    function IndexedTracker() {\n    }\n    return IndexedTracker;\n}());\nexports.IndexedTracker = IndexedTracker;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL0luZGV4ZWRUcmFja2VyLnRzPzE5ZmQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBR0E7SUFBQTtJQUlBLENBQUM7SUFBRCxxQkFBQztBQUFELENBQUM7QUFKWSx3Q0FBYyIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL0luZGV4ZWRUcmFja2VyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFjdGl2aXR5VHJhY2tlciA9IHJlcXVpcmUoXCIuL0FjdGl2aXR5VHJhY2tlclwiKTtcclxuaW1wb3J0IElTdXJ2ZXkgPSByZXF1aXJlKFwiLi9BcGkvSVN1cnZleVwiKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBJbmRleGVkVHJhY2tlciB7XHJcblx0cHVibGljIGluZGV4OiBudW1iZXI7XHJcblx0cHVibGljIHN1cnZleUlkOiBzdHJpbmc7XHJcblx0cHVibGljIHRyYWNrZXI6IEFjdGl2aXR5VHJhY2tlcjtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/IndexedTracker.js\n')},"../FloodgateCore/dist/src/StateProviderHelpers.js":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.MergeAndUpdateSurveyActivationStats = exports.MergeAndUpdateCampaignStates = exports.MergeAndUpdateGovernedChannelStates = exports.makeSettingItemValue = exports.extractSettingItemValueSubString = exports.ItemCollection = void 0;\nvar SurveyStatCollectionActivation_1 = __webpack_require__(/*! ../src/SurveyStatCollectionActivation */ "../FloodgateCore/dist/src/SurveyStatCollectionActivation.js");\nvar ItemCollection = /** @class */ (function () {\n    function ItemCollection() {\n        this.items = {};\n        this.itemCount = 0;\n    }\n    ItemCollection.prototype.add = function (key, value) {\n        if (!this.items[key]) {\n            this.itemCount++;\n        }\n        this.items[key] = value;\n    };\n    ItemCollection.prototype.find = function (key) {\n        return this.items[key];\n    };\n    ItemCollection.prototype.remove = function (key) {\n        var item = this.items[key];\n        if (item) {\n            delete this.items[key];\n            this.itemCount--;\n        }\n        return item;\n    };\n    ItemCollection.prototype.count = function () {\n        return this.itemCount;\n    };\n    return ItemCollection;\n}());\nexports.ItemCollection = ItemCollection;\nfunction extractSettingItemValueSubString(itemValue) {\n    if (!itemValue) {\n        return itemValue;\n    }\n    var beginPos = itemValue.indexOf(SETTING_DATA_OPEN_TAG) + SETTING_DATA_OPEN_TAG.length;\n    var endPos = itemValue.indexOf(SETTING_DATA_CLOSE_TAG);\n    if (beginPos < 0 || endPos < 0) {\n        return itemValue;\n    }\n    return itemValue.substring(beginPos, endPos);\n}\nexports.extractSettingItemValueSubString = extractSettingItemValueSubString;\nfunction makeSettingItemValue(value) {\n    if (!value) {\n        return SETTING_DATA_OPEN_TAG + SETTING_DATA_CLOSE_TAG;\n    }\n    return SETTING_DATA_OPEN_TAG + value + SETTING_DATA_CLOSE_TAG;\n}\nexports.makeSettingItemValue = makeSettingItemValue;\nfunction MergeAndUpdateGovernedChannelStates(previousStates, currentStates) {\n    var stateCollections = new ItemCollection();\n    // Todo: move the following into a generic method to be shared\n    if (!previousStates && !currentStates) {\n        return stateCollections;\n    }\n    if (!previousStates) {\n        stateCollections.add(0 /* Merged */, currentStates);\n        return stateCollections;\n    }\n    if (!currentStates) {\n        stateCollections.add(0 /* Merged */, previousStates);\n        stateCollections.add(1 /* ToBeUpdated */, previousStates);\n        return stateCollections;\n    }\n    var mergedStates = [];\n    var toBeUpdatedStates = [];\n    if (previousStates) {\n        previousStates.forEach(function (previousState) {\n            // find matching in current states\n            var pos = -1;\n            var currentState;\n            for (var i = 0; i < currentStates.length; i++) {\n                currentState = currentStates[i];\n                if (currentState.getType() === previousState.getType()) {\n                    pos = i;\n                    break;\n                }\n            }\n            // if previous state is not in current states\n            if (pos === -1) {\n                // add previous state to merged\n                mergedStates.push(previousState);\n                // add previous state to toUpdated\n                toBeUpdatedStates.push(previousState);\n                return;\n            }\n            // if ActivationTimeUtc of previous is greater than current\n            if (previousState.getCooldownStartTime() > currentState.getCooldownStartTime()) {\n                // add previous state to merged\n                mergedStates.push(previousState);\n                // add previous state to toUpdated\n                toBeUpdatedStates.push(previousState);\n            }\n            else {\n                // add current state to merged\n                mergedStates.push(currentState);\n            }\n            // remove state from current states\n            currentStates.splice(pos, 1);\n        });\n    }\n    // for the remaining current states\n    if (currentStates) {\n        currentStates.forEach(function (currentState) {\n            // add current state to merged\n            mergedStates.push(currentState);\n        });\n    }\n    stateCollections.add(0 /* Merged */, mergedStates);\n    if (toBeUpdatedStates.length > 0) {\n        stateCollections.add(1 /* ToBeUpdated */, toBeUpdatedStates);\n    }\n    return stateCollections;\n}\nexports.MergeAndUpdateGovernedChannelStates = MergeAndUpdateGovernedChannelStates;\nfunction MergeAndUpdateCampaignStates(previousStates, currentStates) {\n    var stateCollections = new ItemCollection();\n    if (!previousStates && !currentStates) {\n        return stateCollections;\n    }\n    if (!previousStates) {\n        stateCollections.add(0 /* Merged */, currentStates);\n        return stateCollections;\n    }\n    if (!currentStates) {\n        stateCollections.add(0 /* Merged */, previousStates);\n        stateCollections.add(1 /* ToBeUpdated */, previousStates);\n        return stateCollections;\n    }\n    var mergedStates = [];\n    var toBeUpdatedStates = [];\n    if (previousStates) {\n        previousStates.forEach(function (previousState) {\n            var current = new Date();\n            // find matching in current states\n            var pos = -1;\n            var currentState;\n            for (var i = 0; i < currentStates.length; i++) {\n                currentState = currentStates[i];\n                if (currentState.CampaignId === previousState.CampaignId) {\n                    pos = i;\n                    break;\n                }\n            }\n            // if previous state is not in current states\n            if (pos === -1) {\n                // add previous state to merged\n                mergedStates.push(previousState);\n                // add previous state to toUpdated\n                toBeUpdatedStates.push(previousState);\n                return;\n            }\n            // if current state is in cooldown, add to merged list\n            if (currentState.LastCooldownEndTimeUtc > current) {\n                // add previous state to merged list\n                mergedStates.push(currentState);\n                // emove state from current states\n                currentStates.splice(pos, 1);\n                return;\n            }\n            // if previous state is in cooldown, add to merged and toUpdated lists\n            if (previousState.LastCooldownEndTimeUtc > current) {\n                // add previous state to merged list\n                mergedStates.push(previousState);\n                // add previous state to to-be-updated list\n                toBeUpdatedStates.push(previousState);\n                // emove state from current states\n                currentStates.splice(pos, 1);\n                return;\n            }\n            // add previous state to toUpdated and merged for the following two conditions:\n            //  1. previous cooldown time wins, or\n            //  2. cooldown times are the same and previous nomination wins\n            if (previousState.getCooldownStartDate() > currentState.getCooldownStartDate()\n                || (previousState.getCooldownStartDate() === currentState.getCooldownStartDate()\n                    && previousState.LastNominationTimeUtc > currentState.LastNominationTimeUtc)) {\n                mergedStates.push(previousState);\n                toBeUpdatedStates.push(previousState);\n            }\n            else {\n                // add current state to merged\n                mergedStates.push(currentState);\n            }\n            // remove state from current states\n            currentStates.splice(pos, 1);\n        });\n    }\n    // for the remaining current states\n    if (currentStates) {\n        currentStates.forEach(function (current) {\n            // add current state to merged\n            mergedStates.push(current);\n        });\n    }\n    stateCollections.add(0 /* Merged */, mergedStates);\n    if (toBeUpdatedStates.length > 0) {\n        stateCollections.add(1 /* ToBeUpdated */, toBeUpdatedStates);\n    }\n    return stateCollections;\n}\nexports.MergeAndUpdateCampaignStates = MergeAndUpdateCampaignStates;\nfunction MergeAndUpdateSurveyActivationStats(previousStats, currentStats) {\n    var statsCollections = new ItemCollection();\n    // Handle previousStats and/or currentStats equal to null\n    if (!previousStats && !currentStats) {\n        return statsCollections;\n    }\n    if (!previousStats) {\n        statsCollections.add(0 /* Merged */, currentStats);\n        return statsCollections;\n    }\n    if (!currentStats) {\n        statsCollections.add(0 /* Merged */, previousStats);\n        statsCollections.add(1 /* ToBeUpdated */, previousStats);\n        return statsCollections;\n    }\n    // Enumerate preivous stats\n    var mergedStats = new SurveyStatCollectionActivation_1.SurveyStatCollectionActivation();\n    var toBeUpdatedStats = new SurveyStatCollectionActivation_1.SurveyStatCollectionActivation();\n    var previousStatsDictionary = previousStats.getStats();\n    var currentStatsDictionary = currentStats.getStats();\n    for (var surveyId in previousStatsDictionary) {\n        if (previousStatsDictionary.hasOwnProperty(surveyId)) {\n            // if an updated stat is not found\n            var currentActivationStats = currentStatsDictionary[surveyId];\n            if (!currentActivationStats) {\n                // add to merged collection\n                mergedStats.addStats(surveyId, previousStatsDictionary[surveyId]);\n                // add to-be-updated collection\n                toBeUpdatedStats.addStats(surveyId, previousStatsDictionary[surveyId]);\n                continue;\n            }\n            // if previous stat has higher activation time\n            var previousActivationStats = previousStatsDictionary[surveyId];\n            if (previousActivationStats.ActivationTimeUtc > currentActivationStats.ActivationTimeUtc) {\n                // add to merged collection\n                mergedStats.addStats(surveyId, previousStatsDictionary[surveyId]);\n                // add to-be-updated collection\n                toBeUpdatedStats.addStats(surveyId, previousStatsDictionary[surveyId]);\n            }\n            else {\n                // add to current stat merged collection\n                mergedStats.addStats(surveyId, currentStatsDictionary[surveyId]);\n            }\n            // delete from stats\n            delete currentStatsDictionary[surveyId];\n        }\n    }\n    // merge any remaining stats\n    for (var surveyId in currentStatsDictionary) {\n        if (currentStatsDictionary.hasOwnProperty(surveyId)) {\n            mergedStats.addStats(surveyId, currentStatsDictionary[surveyId]);\n        }\n    }\n    // always return merged list\n    statsCollections.add(0 /* Merged */, mergedStats);\n    // since dictionaries don\'t have an empty check, enumerate the  first entry to check for non-empty\n    var toBeUpdatedStatsDictionary = toBeUpdatedStats.getStats();\n    for (var toBeUpdated in toBeUpdatedStatsDictionary) {\n        if (toBeUpdatedStatsDictionary.hasOwnProperty(toBeUpdated)) {\n            // not empty, return to-be-updated\n            statsCollections.add(1 /* ToBeUpdated */, toBeUpdatedStats);\n            break;\n        }\n    }\n    return statsCollections;\n}\nexports.MergeAndUpdateSurveyActivationStats = MergeAndUpdateSurveyActivationStats;\nvar SETTING_DATA_OPEN_TAG = "<data>";\nvar SETTING_DATA_CLOSE_TAG = "</data>";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N0YXRlUHJvdmlkZXJIZWxwZXJzLnRzPzQwYmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsdUtBQThHO0FBb0I5RztJQUFBO1FBQ1MsVUFBSyxHQUF5QixFQUFFLENBQUM7UUFDakMsY0FBUyxHQUFXLENBQUMsQ0FBQztJQTJCL0IsQ0FBQztJQXpCTyw0QkFBRyxHQUFWLFVBQVcsR0FBVyxFQUFFLEtBQVE7UUFDL0IsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDckIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1NBQ2pCO1FBQ0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUM7SUFDekIsQ0FBQztJQUVNLDZCQUFJLEdBQVgsVUFBWSxHQUFXO1FBQ3RCLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN4QixDQUFDO0lBRU0sK0JBQU0sR0FBYixVQUFjLEdBQVc7UUFDeEIsSUFBTSxJQUFJLEdBQU0sSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUVoQyxJQUFJLElBQUksRUFBRTtZQUNULE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN2QixJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7U0FDakI7UUFFRCxPQUFPLElBQUksQ0FBQztJQUNiLENBQUM7SUFFTSw4QkFBSyxHQUFaO1FBQ0MsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQ3ZCLENBQUM7SUFDRixxQkFBQztBQUFELENBQUM7QUE3Qlksd0NBQWM7QUErQjNCLFNBQWdCLGdDQUFnQyxDQUFDLFNBQWlCO0lBQ2pFLElBQUksQ0FBQyxTQUFTLEVBQUU7UUFDZixPQUFPLFNBQVMsQ0FBQztLQUNqQjtJQUVELElBQU0sUUFBUSxHQUFXLFNBQVMsQ0FBQyxPQUFPLENBQUMscUJBQXFCLENBQUMsR0FBRyxx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QUE3RUQsa0ZBNkVDO0FBRUQsSUFBTSxxQkFBcUIsR0FBRyxRQUFRLENBQUM7QUFDdkMsSUFBTSxzQkFBc0IsR0FBRyxTQUFTLENBQUMiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9TdGF0ZVByb3ZpZGVySGVscGVycy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN1cnZleUFjdGl2YXRpb25TdGF0cywgU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uIH0gZnJvbSBcIi4uL3NyYy9TdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb25cIjtcclxuaW1wb3J0IHsgQ2FtcGFpZ25TdGF0ZSB9IGZyb20gXCIuL0NhbXBhaWduL0NhbXBhaWduU3RhdGVQcm92aWRlclwiO1xyXG5pbXBvcnQgeyBJRGljdGlvbmFyeSB9IGZyb20gXCIuL0NvbW1vblwiO1xyXG5pbXBvcnQgeyBHb3Zlcm5lZENoYW5uZWxTdGF0ZSB9IGZyb20gXCIuL0dvdmVybmVkQ2hhbm5lbFN0YXRlUHJvdmlkZXJcIjtcclxuXHJcbi8qKlxyXG4gKiBWYWx1ZXMgZm9yIHRoZSBzdGF0ZSBsaXN0IHR5cGVzXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZW51bSBTdGF0ZUxpc3RUeXBlIHtcclxuXHRNZXJnZWQsXHJcblx0VG9CZVVwZGF0ZWQsXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUtleWVkQ29sbGVjdGlvbjxUPiB7XHJcblx0YWRkKGtleTogbnVtYmVyLCB2YWx1ZTogVCk7XHJcblx0ZmluZChrZXk6IG51bWJlcik6IFQ7XHJcblx0cmVtb3ZlKGtleTogbnVtYmVyKTtcclxuXHRjb3VudCgpOiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBJdGVtQ29sbGVjdGlvbjxUPiBpbXBsZW1lbnRzIElLZXllZENvbGxlY3Rpb248VD4ge1xyXG5cdHByaXZhdGUgaXRlbXM6IHsgW2tleTogbnVtYmVyXTogVCB9ID0ge307XHJcblx0cHJpdmF0ZSBpdGVtQ291bnQ6IG51bWJlciA9IDA7XHJcblxyXG5cdHB1YmxpYyBhZGQoa2V5OiBudW1iZXIsIHZhbHVlOiBUKSB7XHJcblx0XHRpZiAoIXRoaXMuaXRlbXNba2V5XSkge1xyXG5cdFx0XHR0aGlzLml0ZW1Db3VudCsrO1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5pdGVtc1trZXldID0gdmFsdWU7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZmluZChrZXk6IG51bWJlcik6IFQge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXRlbXNba2V5XTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyByZW1vdmUoa2V5OiBudW1iZXIpOiBUIHtcclxuXHRcdGNvbnN0IGl0ZW06IFQgPSB0aGlzLml0ZW1zW2tleV07XHJcblxyXG5cdFx0aWYgKGl0ZW0pIHtcclxuXHRcdFx0ZGVsZXRlIHRoaXMuaXRlbXNba2V5XTtcclxuXHRcdFx0dGhpcy5pdGVtQ291bnQtLTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gaXRlbTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBjb3VudCgpOiBudW1iZXIge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXRlbUNvdW50O1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RTZXR0aW5nSXRlbVZhbHVlU3ViU3RyaW5nKGl0ZW1WYWx1ZTogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRpZiAoIWl0ZW1WYWx1ZSkge1xyXG5cdFx0cmV0dXJuIGl0ZW1WYWx1ZTtcclxuXHR9XHJcblxyXG5cdGNvbnN0IGJlZ2luUG9zOiBudW1iZXIgPSBpdGVtVmFsdWUuaW5kZXhPZihTRVRUSU5HX0RBVEFfT1BFTl9UQUcpICsgU0VUVElOR19EQVRBX09QRU5fVEFHLmxlbmd0aDtcclxuXHRjb25zdCBlbmRQb3M6IG51bWJlciA9IGl0ZW1WYWx1ZS5pbmRleE9mKFNFVFRJTkdfREFUQV9DTE9TRV9UQUcpO1xyXG5cclxuXHRpZiAoYmVnaW5Qb3MgPCAwIHx8IGVuZFBvcyA8IDApIHtcclxuXHRcdHJldHVybiBpdGVtVmFsdWU7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gaXRlbVZhbHVlLnN1YnN0cmluZyhiZWdpblBvcywgZW5kUG9zKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VTZXR0aW5nSXRlbVZhbHVlKHZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdGlmICghdmFsdWUpIHtcclxuXHRcdHJldHVybiBTRVRUSU5HX0RBVEFfT1BFTl9UQUcgKyBTRVRUSU5HX0RBVEFfQ0xPU0VfVEFHO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIFNFVFRJTkdfREFUQV9PUEVOX1RBRyArIHZhbHVlICsgU0VUVElOR19EQVRBX0NMT1NFX1RBRztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIE1lcmdlQW5kVXBkYXRlR292ZXJuZWRDaGFubmVsU3RhdGVzKHByZXZpb3VzU3RhdGVzOiBHb3Zlcm5lZENoYW5uZWxTdGF0ZVtdLFxyXG5cdGN1cnJlbnRTdGF0ZXM6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10pOiBJS2V5ZWRDb2xsZWN0aW9uPEdvdmVybmVkQ2hhbm5lbFN0YXRlW10+IHtcclxuXHRjb25zdCBzdGF0ZUNvbGxlY3Rpb25zOiBJS2V5ZWRDb2xsZWN0aW9uPEdvdmVybmVkQ2hhbm5lbFN0YXRlW10+ID0gbmV3IEl0ZW1Db2xsZWN0aW9uPEdvdmVybmVkQ2hhbm5lbFN0YXRlW10+KCk7XHJcblxyXG5cdC8vIFRvZG86IG1vdmUgdGhlIGZvbGxvd2luZyBpbnRvIGEgZ2VuZXJpYyBtZXRob2QgdG8gYmUgc2hhcmVkXHJcblx0aWYgKCFwcmV2aW91c1N0YXRlcyAmJiAhY3VycmVudFN0YXRlcykge1xyXG5cdFx0cmV0dXJuIHN0YXRlQ29sbGVjdGlvbnM7XHJcblx0fVxyXG5cclxuXHRpZiAoIXByZXZpb3VzU3RhdGVzKSB7XHJcblx0XHRzdGF0ZUNvbGxlY3Rpb25zLmFkZChTdGF0ZUxpc3RUeXBlLk1lcmdlZCwgY3VycmVudFN0YXRlcyk7XHJcblx0XHRyZXR1cm4gc3RhdGVDb2xsZWN0aW9ucztcclxuXHR9XHJcblxyXG5cdGlmICghY3VycmVudFN0YXRlcykge1xyXG5cdFx0c3RhdGVDb2xsZWN0aW9ucy5hZGQoU3RhdGVMaXN0VHlwZS5NZXJnZWQsIHByZXZpb3VzU3RhdGVzKTtcclxuXHRcdHN0YXRlQ29sbGVjdGlvbnMuYWRkKFN0YXRlTGlzdFR5cGUuVG9CZVVwZGF0ZWQsIHByZXZpb3VzU3RhdGVzKTtcclxuXHRcdHJldHVybiBzdGF0ZUNvbGxlY3Rpb25zO1xyXG5cdH1cclxuXHJcblx0Y29uc3QgbWVyZ2VkU3RhdGVzOiBHb3Zlcm5lZENoYW5uZWxTdGF0ZVtdID0gW107XHJcblx0Y29uc3QgdG9CZVVwZGF0ZWRTdGF0ZXM6IEdvdmVybmVkQ2hhbm5lbFN0YXRlW10gPSBbXTtcclxuXHJcblx0aWYgKHByZXZpb3VzU3RhdGVzKSB7XHJcblx0XHRwcmV2aW91c1N0YXRlcy5mb3JFYWNoKChwcmV2aW91c1N0YXRlKSA9PiB7XHJcblx0XHRcdC8vIGZpbmQgbWF0Y2hpbmcgaW4gY3VycmVudCBzdGF0ZXNcclxuXHRcdFx0bGV0IHBvcyA9IC0xO1xyXG5cdFx0XHRsZXQgY3VycmVudFN0YXRlOiBHb3Zlcm5lZENoYW5uZWxTdGF0ZTtcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50U3RhdGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0Y3VycmVudFN0YXRlID0gY3VycmVudFN0YXRlc1tpXTtcclxuXHRcdFx0XHRpZiAoY3VycmVudFN0YXRlLmdldFR5cGUoKSA9PT0gcHJldmlvdXNTdGF0ZS5nZXRUeXBlKCkpIHtcclxuXHRcdFx0XHRcdHBvcyA9IGk7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGlmIHByZXZpb3VzIHN0YXRlIGlzIG5vdCBpbiBjdXJyZW50IHN0YXRlc1xyXG5cdFx0XHRpZiAocG9zID09PSAtMSkge1xyXG5cdFx0XHRcdC8vIGFkZCBwcmV2aW91cyBzdGF0ZSB0byBtZXJnZWRcclxuXHRcdFx0XHRtZXJnZWRTdGF0ZXMucHVzaChwcmV2aW91c1N0YXRlKTtcclxuXHJcblx0XHRcdFx0Ly8gYWRkIHByZXZpb3VzIHN0YXRlIHRvIHRvVXBkYXRlZFxyXG5cdFx0XHRcdHRvQmVVcGRhdGVkU3RhdGVzLnB1c2gocHJldmlvdXNTdGF0ZSk7XHJcblxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gaWYgQWN0aXZhdGlvblRpbWVVdGMgb2YgcHJldmlvdXMgaXMgZ3JlYXRlciB0aGFuIGN1cnJlbnRcclxuXHRcdFx0aWYgKHByZXZpb3VzU3RhdGUuZ2V0Q29vbGRvd25TdGFydFRpbWUoKSA+IGN1cnJlbnRTdGF0ZS5nZXRDb29sZG93blN0YXJ0VGltZSgpKSB7XHJcblx0XHRcdFx0Ly8gYWRkIHByZXZpb3VzIHN0YXRlIHRvIG1lcmdlZFxyXG5cdFx0XHRcdG1lcmdlZFN0YXRlcy5wdXNoKHByZXZpb3VzU3RhdGUpO1xyXG5cclxuXHRcdFx0XHQvLyBhZGQgcHJldmlvdXMgc3RhdGUgdG8gdG9VcGRhdGVkXHJcblx0XHRcdFx0dG9CZVVwZGF0ZWRTdGF0ZXMucHVzaChwcmV2aW91c1N0YXRlKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBhZGQgY3VycmVudCBzdGF0ZSB0byBtZXJnZWRcclxuXHRcdFx0XHRtZXJnZWRTdGF0ZXMucHVzaChjdXJyZW50U3RhdGUpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyByZW1vdmUgc3RhdGUgZnJvbSBjdXJyZW50IHN0YXRlc1xyXG5cdFx0XHRjdXJyZW50U3RhdGVzLnNwbGljZShwb3MsIDEpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvLyBmb3IgdGhlIHJlbWFpbmluZyBjdXJyZW50IHN0YXRlc1xyXG5cdGlmIChjdXJyZW50U3RhdGVzKSB7XHJcblx0XHRjdXJyZW50U3RhdGVzLmZvckVhY2goKGN1cnJlbnRTdGF0ZSkgPT4ge1xyXG5cdFx0XHQvLyBhZGQgY3VycmVudCBzdGF0ZSB0byBtZXJnZWRcclxuXHRcdFx0bWVyZ2VkU3RhdGVzLnB1c2goY3VycmVudFN0YXRlKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0c3RhdGVDb2xsZWN0aW9ucy5hZGQoU3RhdGVMaXN0VHlwZS5NZXJnZWQsIG1lcmdlZFN0YXRlcyk7XHJcblxyXG5cdGlmICh0b0JlVXBkYXRlZFN0YXRlcy5sZW5ndGggPiAwKSB7XHJcblx0XHRzdGF0ZUNvbGxlY3Rpb25zLmFkZChTdGF0ZUxpc3RUeXBlLlRvQmVVcGRhdGVkLCB0b0JlVXBkYXRlZFN0YXRlcyk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gc3RhdGVDb2xsZWN0aW9ucztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIE1lcmdlQW5kVXBkYXRlQ2FtcGFpZ25TdGF0ZXMocHJldmlvdXNTdGF0ZXM6IENhbXBhaWduU3RhdGVbXSxcclxuXHRjdXJyZW50U3RhdGVzOiBDYW1wYWlnblN0YXRlW10pOiBJS2V5ZWRDb2xsZWN0aW9uPENhbXBhaWduU3RhdGVbXT4ge1xyXG5cdGNvbnN0IHN0YXRlQ29sbGVjdGlvbnM6IElLZXllZENvbGxlY3Rpb248Q2FtcGFpZ25TdGF0ZVtdPiA9IG5ldyBJdGVtQ29sbGVjdGlvbjxDYW1wYWlnblN0YXRlW10+KCk7XHJcblxyXG5cdGlmICghcHJldmlvdXNTdGF0ZXMgJiYgIWN1cnJlbnRTdGF0ZXMpIHtcclxuXHRcdHJldHVybiBzdGF0ZUNvbGxlY3Rpb25zO1xyXG5cdH1cclxuXHJcblx0aWYgKCFwcmV2aW91c1N0YXRlcykge1xyXG5cdFx0c3RhdGVDb2xsZWN0aW9ucy5hZGQoU3RhdGVMaXN0VHlwZS5NZXJnZWQsIGN1cnJlbnRTdGF0ZXMpO1xyXG5cdFx0cmV0dXJuIHN0YXRlQ29sbGVjdGlvbnM7XHJcblx0fVxyXG5cclxuXHRpZiAoIWN1cnJlbnRTdGF0ZXMpIHtcclxuXHRcdHN0YXRlQ29sbGVjdGlvbnMuYWRkKFN0YXRlTGlzdFR5cGUuTWVyZ2VkLCBwcmV2aW91c1N0YXRlcyk7XHJcblx0XHRzdGF0ZUNvbGxlY3Rpb25zLmFkZChTdGF0ZUxpc3RUeXBlLlRvQmVVcGRhdGVkLCBwcmV2aW91c1N0YXRlcyk7XHJcblx0XHRyZXR1cm4gc3RhdGVDb2xsZWN0aW9ucztcclxuXHR9XHJcblxyXG5cdGNvbnN0IG1lcmdlZFN0YXRlczogQ2FtcGFpZ25TdGF0ZVtdID0gW107XHJcblx0Y29uc3QgdG9CZVVwZGF0ZWRTdGF0ZXM6IENhbXBhaWduU3RhdGVbXSA9IFtdO1xyXG5cclxuXHRpZiAocHJldmlvdXNTdGF0ZXMpIHtcclxuXHRcdHByZXZpb3VzU3RhdGVzLmZvckVhY2goKHByZXZpb3VzU3RhdGUpID0+IHtcclxuXHRcdFx0Y29uc3QgY3VycmVudCA9IG5ldyBEYXRlKCk7XHJcblxyXG5cdFx0XHQvLyBmaW5kIG1hdGNoaW5nIGluIGN1cnJlbnQgc3RhdGVzXHJcblx0XHRcdGxldCBwb3MgPSAtMTtcclxuXHRcdFx0bGV0IGN1cnJlbnRTdGF0ZTogQ2FtcGFpZ25TdGF0ZTtcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50U3RhdGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0Y3VycmVudFN0YXRlID0gY3VycmVudFN0YXRlc1tpXTtcclxuXHRcdFx0XHRpZiAoY3VycmVudFN0YXRlLkNhbXBhaWduSWQgPT09IHByZXZpb3VzU3RhdGUuQ2FtcGFpZ25JZCkge1xyXG5cdFx0XHRcdFx0cG9zID0gaTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gaWYgcHJldmlvdXMgc3RhdGUgaXMgbm90IGluIGN1cnJlbnQgc3RhdGVzXHJcblx0XHRcdGlmIChwb3MgPT09IC0xKSB7XHJcblx0XHRcdFx0Ly8gYWRkIHByZXZpb3VzIHN0YXRlIHRvIG1lcmdlZFxyXG5cdFx0XHRcdG1lcmdlZFN0YXRlcy5wdXNoKHByZXZpb3VzU3RhdGUpO1xyXG5cclxuXHRcdFx0XHQvLyBhZGQgcHJldmlvdXMgc3RhdGUgdG8gdG9VcGRhdGVkXHJcblx0XHRcdFx0dG9CZVVwZGF0ZWRTdGF0ZXMucHVzaChwcmV2aW91c1N0YXRlKTtcclxuXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBpZiBjdXJyZW50IHN0YXRlIGlzIGluIGNvb2xkb3duLCBhZGQgdG8gbWVyZ2VkIGxpc3RcclxuXHRcdFx0aWYgKGN1cnJlbnRTdGF0ZS5MYXN0Q29vbGRvd25FbmRUaW1lVXRjID4gY3VycmVudCkge1xyXG5cdFx0XHRcdC8vIGFkZCBwcmV2aW91cyBzdGF0ZSB0byBtZXJnZWQgbGlzdFxyXG5cdFx0XHRcdG1lcmdlZFN0YXRlcy5wdXNoKGN1cnJlbnRTdGF0ZSk7XHJcblxyXG5cdFx0XHRcdC8vIGVtb3ZlIHN0YXRlIGZyb20gY3VycmVudCBzdGF0ZXNcclxuXHRcdFx0XHRjdXJyZW50U3RhdGVzLnNwbGljZShwb3MsIDEpO1xyXG5cclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGlmIHByZXZpb3VzIHN0YXRlIGlzIGluIGNvb2xkb3duLCBhZGQgdG8gbWVyZ2VkIGFuZCB0b1VwZGF0ZWQgbGlzdHNcclxuXHRcdFx0aWYgKHByZXZpb3VzU3RhdGUuTGFzdENvb2xkb3duRW5kVGltZVV0YyA+IGN1cnJlbnQpIHtcclxuXHRcdFx0XHQvLyBhZGQgcHJldmlvdXMgc3RhdGUgdG8gbWVyZ2VkIGxpc3RcclxuXHRcdFx0XHRtZXJnZWRTdGF0ZXMucHVzaChwcmV2aW91c1N0YXRlKTtcclxuXHJcblx0XHRcdFx0Ly8gYWRkIHByZXZpb3VzIHN0YXRlIHRvIHRvLWJlLXVwZGF0ZWQgbGlzdFxyXG5cdFx0XHRcdHRvQmVVcGRhdGVkU3RhdGVzLnB1c2gocHJldmlvdXNTdGF0ZSk7XHJcblxyXG5cdFx0XHRcdC8vIGVtb3ZlIHN0YXRlIGZyb20gY3VycmVudCBzdGF0ZXNcclxuXHRcdFx0XHRjdXJyZW50U3RhdGVzLnNwbGljZShwb3MsIDEpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gYWRkIHByZXZpb3VzIHN0YXRlIHRvIHRvVXBkYXRlZCBhbmQgbWVyZ2VkIGZvciB0aGUgZm9sbG93aW5nIHR3byBjb25kaXRpb25zOlxyXG5cdFx0XHQvLyAgMS4gcHJldmlvdXMgY29vbGRvd24gdGltZSB3aW5zLCBvclxyXG5cdFx0XHQvLyAgMi4gY29vbGRvd24gdGltZXMgYXJlIHRoZSBzYW1lIGFuZCBwcmV2aW91cyBub21pbmF0aW9uIHdpbnNcclxuXHRcdFx0aWYgKHByZXZpb3VzU3RhdGUuZ2V0Q29vbGRvd25TdGFydERhdGUoKSA+IGN1cnJlbnRTdGF0ZS5nZXRDb29sZG93blN0YXJ0RGF0ZSgpXHJcblx0XHRcdFx0fHwgKHByZXZpb3VzU3RhdGUuZ2V0Q29vbGRvd25TdGFydERhdGUoKSA9PT0gY3VycmVudFN0YXRlLmdldENvb2xkb3duU3RhcnREYXRlKClcclxuXHRcdFx0XHRcdCYmIHByZXZpb3VzU3RhdGUuTGFzdE5vbWluYXRpb25UaW1lVXRjID4gY3VycmVudFN0YXRlLkxhc3ROb21pbmF0aW9uVGltZVV0YylcclxuXHRcdFx0KSB7XHJcblx0XHRcdFx0bWVyZ2VkU3RhdGVzLnB1c2gocHJldmlvdXNTdGF0ZSk7XHJcblxyXG5cdFx0XHRcdHRvQmVVcGRhdGVkU3RhdGVzLnB1c2gocHJldmlvdXNTdGF0ZSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly8gYWRkIGN1cnJlbnQgc3RhdGUgdG8gbWVyZ2VkXHJcblx0XHRcdFx0bWVyZ2VkU3RhdGVzLnB1c2goY3VycmVudFN0YXRlKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gcmVtb3ZlIHN0YXRlIGZyb20gY3VycmVudCBzdGF0ZXNcclxuXHRcdFx0Y3VycmVudFN0YXRlcy5zcGxpY2UocG9zLCAxKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0Ly8gZm9yIHRoZSByZW1haW5pbmcgY3VycmVudCBzdGF0ZXNcclxuXHRpZiAoY3VycmVudFN0YXRlcykge1xyXG5cdFx0Y3VycmVudFN0YXRlcy5mb3JFYWNoKChjdXJyZW50KSA9PiB7XHJcblx0XHRcdC8vIGFkZCBjdXJyZW50IHN0YXRlIHRvIG1lcmdlZFxyXG5cdFx0XHRtZXJnZWRTdGF0ZXMucHVzaChjdXJyZW50KTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0c3RhdGVDb2xsZWN0aW9ucy5hZGQoU3RhdGVMaXN0VHlwZS5NZXJnZWQsIG1lcmdlZFN0YXRlcyk7XHJcblxyXG5cdGlmICh0b0JlVXBkYXRlZFN0YXRlcy5sZW5ndGggPiAwKSB7XHJcblx0XHRzdGF0ZUNvbGxlY3Rpb25zLmFkZChTdGF0ZUxpc3RUeXBlLlRvQmVVcGRhdGVkLCB0b0JlVXBkYXRlZFN0YXRlcyk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gc3RhdGVDb2xsZWN0aW9ucztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIE1lcmdlQW5kVXBkYXRlU3VydmV5QWN0aXZhdGlvblN0YXRzKHByZXZpb3VzU3RhdHM6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbixcclxuXHRjdXJyZW50U3RhdHM6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbik6IElLZXllZENvbGxlY3Rpb248U3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uPiB7XHJcblxyXG5cdGNvbnN0IHN0YXRzQ29sbGVjdGlvbnM6IElLZXllZENvbGxlY3Rpb248U3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uPiA9IG5ldyBJdGVtQ29sbGVjdGlvbjxTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24+KCk7XHJcblxyXG5cdC8vIEhhbmRsZSBwcmV2aW91c1N0YXRzIGFuZC9vciBjdXJyZW50U3RhdHMgZXF1YWwgdG8gbnVsbFxyXG5cdGlmICghcHJldmlvdXNTdGF0cyAmJiAhY3VycmVudFN0YXRzKSB7XHJcblx0XHRyZXR1cm4gc3RhdHNDb2xsZWN0aW9ucztcclxuXHR9XHJcblxyXG5cdGlmICghcHJldmlvdXNTdGF0cykge1xyXG5cdFx0c3RhdHNDb2xsZWN0aW9ucy5hZGQoU3RhdGVMaXN0VHlwZS5NZXJnZWQsIGN1cnJlbnRTdGF0cyk7XHJcblx0XHRyZXR1cm4gc3RhdHNDb2xsZWN0aW9ucztcclxuXHR9XHJcblxyXG5cdGlmICghY3VycmVudFN0YXRzKSB7XHJcblx0XHRzdGF0c0NvbGxlY3Rpb25zLmFkZChTdGF0ZUxpc3RUeXBlLk1lcmdlZCwgcHJldmlvdXNTdGF0cyk7XHJcblx0XHRzdGF0c0NvbGxlY3Rpb25zLmFkZChTdGF0ZUxpc3RUeXBlLlRvQmVVcGRhdGVkLCBwcmV2aW91c1N0YXRzKTtcclxuXHRcdHJldHVybiBzdGF0c0NvbGxlY3Rpb25zO1xyXG5cdH1cclxuXHJcblx0Ly8gRW51bWVyYXRlIHByZWl2b3VzIHN0YXRzXHJcblx0Y29uc3QgbWVyZ2VkU3RhdHM6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbiA9IG5ldyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24oKTtcclxuXHRjb25zdCB0b0JlVXBkYXRlZFN0YXRzOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24gPSBuZXcgU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uKCk7XHJcblxyXG5cdGNvbnN0IHByZXZpb3VzU3RhdHNEaWN0aW9uYXJ5OiBJRGljdGlvbmFyeTxTdXJ2ZXlBY3RpdmF0aW9uU3RhdHM+ID0gcHJldmlvdXNTdGF0cy5nZXRTdGF0cygpO1xyXG5cdGNvbnN0IGN1cnJlbnRTdGF0c0RpY3Rpb25hcnk6IElEaWN0aW9uYXJ5PFN1cnZleUFjdGl2YXRpb25TdGF0cz4gPSBjdXJyZW50U3RhdHMuZ2V0U3RhdHMoKTtcclxuXHJcblx0Zm9yIChjb25zdCBzdXJ2ZXlJZCBpbiBwcmV2aW91c1N0YXRzRGljdGlvbmFyeSkge1xyXG5cdFx0aWYgKHByZXZpb3VzU3RhdHNEaWN0aW9uYXJ5Lmhhc093blByb3BlcnR5KHN1cnZleUlkKSkge1xyXG5cdFx0XHQvLyBpZiBhbiB1cGRhdGVkIHN0YXQgaXMgbm90IGZvdW5kXHJcblx0XHRcdGNvbnN0IGN1cnJlbnRBY3RpdmF0aW9uU3RhdHM6IFN1cnZleUFjdGl2YXRpb25TdGF0cyA9IGN1cnJlbnRTdGF0c0RpY3Rpb25hcnlbc3VydmV5SWRdO1xyXG5cdFx0XHRpZiAoIWN1cnJlbnRBY3RpdmF0aW9uU3RhdHMpIHtcclxuXHRcdFx0XHQvLyBhZGQgdG8gbWVyZ2VkIGNvbGxlY3Rpb25cclxuXHRcdFx0XHRtZXJnZWRTdGF0cy5hZGRTdGF0cyhzdXJ2ZXlJZCwgcHJldmlvdXNTdGF0c0RpY3Rpb25hcnlbc3VydmV5SWRdKTtcclxuXHRcdFx0XHQvLyBhZGQgdG8tYmUtdXBkYXRlZCBjb2xsZWN0aW9uXHJcblx0XHRcdFx0dG9CZVVwZGF0ZWRTdGF0cy5hZGRTdGF0cyhzdXJ2ZXlJZCwgcHJldmlvdXNTdGF0c0RpY3Rpb25hcnlbc3VydmV5SWRdKTtcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyBpZiBwcmV2aW91cyBzdGF0IGhhcyBoaWdoZXIgYWN0aXZhdGlvbiB0aW1lXHJcblx0XHRcdGNvbnN0IHByZXZpb3VzQWN0aXZhdGlvblN0YXRzOiBTdXJ2ZXlBY3RpdmF0aW9uU3RhdHMgPSBwcmV2aW91c1N0YXRzRGljdGlvbmFyeVtzdXJ2ZXlJZF07XHJcblx0XHRcdGlmIChwcmV2aW91c0FjdGl2YXRpb25TdGF0cy5BY3RpdmF0aW9uVGltZVV0YyA+IGN1cnJlbnRBY3RpdmF0aW9uU3RhdHMuQWN0aXZhdGlvblRpbWVVdGMpIHtcclxuXHRcdFx0XHQvLyBhZGQgdG8gbWVyZ2VkIGNvbGxlY3Rpb25cclxuXHRcdFx0XHRtZXJnZWRTdGF0cy5hZGRTdGF0cyhzdXJ2ZXlJZCwgcHJldmlvdXNTdGF0c0RpY3Rpb25hcnlbc3VydmV5SWRdKTtcclxuXHRcdFx0XHQvLyBhZGQgdG8tYmUtdXBkYXRlZCBjb2xsZWN0aW9uXHJcblx0XHRcdFx0dG9CZVVwZGF0ZWRTdGF0cy5hZGRTdGF0cyhzdXJ2ZXlJZCwgcHJldmlvdXNTdGF0c0RpY3Rpb25hcnlbc3VydmV5SWRdKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBhZGQgdG8gY3VycmVudCBzdGF0IG1lcmdlZCBjb2xsZWN0aW9uXHJcblx0XHRcdFx0bWVyZ2VkU3RhdHMuYWRkU3RhdHMoc3VydmV5SWQsIGN1cnJlbnRTdGF0c0RpY3Rpb25hcnlbc3VydmV5SWRdKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gZGVsZXRlIGZyb20gc3RhdHNcclxuXHRcdFx0ZGVsZXRlIGN1cnJlbnRTdGF0c0RpY3Rpb25hcnlbc3VydmV5SWRdO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gbWVyZ2UgYW55IHJlbWFpbmluZyBzdGF0c1xyXG5cdGZvciAoY29uc3Qgc3VydmV5SWQgaW4gY3VycmVudFN0YXRzRGljdGlvbmFyeSkge1xyXG5cdFx0aWYgKGN1cnJlbnRTdGF0c0RpY3Rpb25hcnkuaGFzT3duUHJvcGVydHkoc3VydmV5SWQpKSB7XHJcblx0XHRcdG1lcmdlZFN0YXRzLmFkZFN0YXRzKHN1cnZleUlkLCBjdXJyZW50U3RhdHNEaWN0aW9uYXJ5W3N1cnZleUlkXSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBhbHdheXMgcmV0dXJuIG1lcmdlZCBsaXN0XHJcblx0c3RhdHNDb2xsZWN0aW9ucy5hZGQoU3RhdGVMaXN0VHlwZS5NZXJnZWQsIG1lcmdlZFN0YXRzKTtcclxuXHJcblx0Ly8gc2luY2UgZGljdGlvbmFyaWVzIGRvbid0IGhhdmUgYW4gZW1wdHkgY2hlY2ssIGVudW1lcmF0ZSB0aGUgIGZpcnN0IGVudHJ5IHRvIGNoZWNrIGZvciBub24tZW1wdHlcclxuXHRjb25zdCB0b0JlVXBkYXRlZFN0YXRzRGljdGlvbmFyeTogSURpY3Rpb25hcnk8U3VydmV5QWN0aXZhdGlvblN0YXRzPiA9IHRvQmVVcGRhdGVkU3RhdHMuZ2V0U3RhdHMoKTtcclxuXHRmb3IgKGNvbnN0IHRvQmVVcGRhdGVkIGluIHRvQmVVcGRhdGVkU3RhdHNEaWN0aW9uYXJ5KSB7XHJcblx0XHRpZiAodG9CZVVwZGF0ZWRTdGF0c0RpY3Rpb25hcnkuaGFzT3duUHJvcGVydHkodG9CZVVwZGF0ZWQpKSB7XHJcblx0XHRcdC8vIG5vdCBlbXB0eSwgcmV0dXJuIHRvLWJlLXVwZGF0ZWRcclxuXHRcdFx0c3RhdHNDb2xsZWN0aW9ucy5hZGQoU3RhdGVMaXN0VHlwZS5Ub0JlVXBkYXRlZCwgdG9CZVVwZGF0ZWRTdGF0cyk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmV0dXJuIHN0YXRzQ29sbGVjdGlvbnM7XHJcbn1cclxuXHJcbmNvbnN0IFNFVFRJTkdfREFUQV9PUEVOX1RBRyA9IFwiPGRhdGE+XCI7XHJcbmNvbnN0IFNFVFRJTkdfREFUQV9DTE9TRV9UQUcgPSBcIjwvZGF0YT5cIjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/StateProviderHelpers.js\n')},"../FloodgateCore/dist/src/SurveyActivityListener.js":function(module,exports,__webpack_require__){"use strict";eval('\nvar ActivityTracker = __webpack_require__(/*! ./ActivityTracker */ "../FloodgateCore/dist/src/ActivityTracker.js");\nvar Constants_1 = __webpack_require__(/*! ./Constants */ "../FloodgateCore/dist/src/Constants.js");\nvar IndexedTracker_1 = __webpack_require__(/*! ./IndexedTracker */ "../FloodgateCore/dist/src/IndexedTracker.js");\nvar SurveyStatCollectionEventActivity_1 = __webpack_require__(/*! ./SurveyStatCollectionEventActivity */ "../FloodgateCore/dist/src/SurveyStatCollectionEventActivity.js");\nvar Utils_1 = __webpack_require__(/*! ./Utils */ "../FloodgateCore/dist/src/Utils.js");\nvar queuedActivities = [];\nvar pendingActivityCount = 0;\n/**\n * This class tracks log calls against named activity strings (matched on strict case-sensitive equality)\n * and calls the provided callback when all activity thresholds for a given survey have been crossed\n */\nvar SurveyActivityListener = /** @class */ (function () {\n    function SurveyActivityListener(callback, loggerCallback) {\n        if (!callback) {\n            throw new Error("callback must not be null");\n        }\n        this.trackedActivityMap = {};\n        this.callback = callback;\n        this.loggerCallback = loggerCallback;\n    }\n    SurveyActivityListener.prototype.logActivity = function (activityName, increment) {\n        if (increment === void 0) { increment = 1; }\n        this.logActivity_private(activityName, 0 /* Increment */, increment, null);\n    };\n    SurveyActivityListener.prototype.logActivityStartTime = function (activityName, startTime) {\n        this.logActivity_private(activityName, 1 /* StartTime */, 0, startTime);\n    };\n    SurveyActivityListener.prototype.logActivityStopTime = function (activityName, stopTime) {\n        this.logActivity_private(activityName, 2 /* StopTime */, 0, stopTime);\n    };\n    SurveyActivityListener.prototype.SetActivityTrackingContracts = function (activityTrackingContracts, baseline) {\n        if (baseline === void 0) { baseline = new SurveyStatCollectionEventActivity_1.SurveyStatCollectionEventActivity(); }\n        var duplicateCounter = 0;\n        if (!activityTrackingContracts || activityTrackingContracts.length === 0 || !baseline) {\n            return;\n        }\n        // Populate a new map based on the passed in surveys, but propagating and tracking activity counts\n        // we may have seen against those events\n        // NOTE: We will lose activity counts for survey events that are no longer relevant.\n        var newMap = {};\n        var trackedSurveyIds = [];\n        for (var _i = 0, activityTrackingContracts_1 = activityTrackingContracts; _i < activityTrackingContracts_1.length; _i++) {\n            var activityTrackingContract = activityTrackingContracts_1[_i];\n            var trackingSet = activityTrackingContract.trackingSet;\n            // Added to the new set to make sure they are not duplicated. Based on MSO.\n            if (trackedSurveyIds.indexOf(activityTrackingContract.surveyId) === -1) {\n                trackedSurveyIds.push(activityTrackingContract.surveyId);\n            }\n            else {\n                // Duplicate surveyId being added, count it for the log.\n                duplicateCounter++;\n                continue;\n            }\n            // At this point, the survey\'s activities are safe to add.\n            // Set up the structures we need to transfer baseline counts (from previous sessions) or current counts (from previous trackers)\n            // Both vectors must be sorted in the same order as the trackingSet.List items\n            var baselineStats = baseline.getBySurveyId(activityTrackingContract.surveyId);\n            var baselineCounts = [trackingSet.getList().length];\n            var currentIndexedTrackers = new Array(trackingSet.getList().length);\n            var currentBaselineIndex = 0;\n            var currentIndex = 0;\n            for (var _a = 0, _b = trackingSet.getList(); _a < _b.length; _a++) {\n                var trackingData = _b[_a];\n                // Baseline stats are only stored for events with "IsAggregate = true"\n                baselineCounts[currentIndex] = 0;\n                if (trackingData.getIsAggregate() && baselineStats && currentBaselineIndex < baselineStats.Counts.length) {\n                    baselineCounts[currentIndex] = baselineStats.Counts[currentBaselineIndex++];\n                }\n                // Session stats may be available in the previous trackedActivityMap\n                // Transfer the old "current session" count to the new tracker\n                // Is set to null if not available\n                if (this.trackedActivityMap[trackingData.getActivity()]) {\n                    for (var _c = 0, _d = this.trackedActivityMap[trackingData.getActivity()]; _c < _d.length; _c++) {\n                        var tracker = _d[_c];\n                        if (tracker.surveyId === activityTrackingContract.surveyId) {\n                            currentIndexedTrackers[currentIndex] = tracker;\n                            break;\n                        }\n                    }\n                }\n                currentIndex++;\n            }\n            // Make a new tracker and init the counts appropriately.\n            var newTracker = new ActivityTracker(trackingSet);\n            // If in a future change we start keeping trackers registered past activation, this will change\n            newTracker.initCounts(baselineCounts, currentIndexedTrackers, false /*wasActivatedThisSession*/);\n            // Setup the indexed trackers\n            for (var _e = 0, _f = newTracker.generateActivityIndexList(); _e < _f.length; _e++) {\n                var activityIndex = _f[_e];\n                var indexedTracker = new IndexedTracker_1.IndexedTracker();\n                indexedTracker.index = activityIndex.index;\n                indexedTracker.surveyId = activityTrackingContract.surveyId;\n                indexedTracker.tracker = newTracker;\n                if (!newMap[activityIndex.activity]) {\n                    newMap[activityIndex.activity] = [];\n                }\n                // Register the new tracker in our new map\n                newMap[activityIndex.activity].push(indexedTracker);\n            }\n        }\n        if (duplicateCounter > 0) {\n            var telemetryLogger = this.loggerCallback && this.loggerCallback();\n            if (telemetryLogger) {\n                telemetryLogger.log_Error(Constants_1.TelemetryEvent.SurveyActivity.SetActivityTrackingContracts.DuplicateSurveyID, "Duplicate surveyId passed in activityTrackingContracts. Duplicate count: " + duplicateCounter);\n            }\n        }\n        // Set the new map in place of the old\n        this.copyObject(this.trackedActivityMap, newMap);\n    };\n    SurveyActivityListener.prototype.clearSurveys = function () {\n        var _this = this;\n        Object.getOwnPropertyNames(this.trackedActivityMap).forEach(function (key) {\n            delete _this.trackedActivityMap[key];\n        });\n    };\n    // Get the indexedTracker that corresponds to the SurveyID and return that count. otherwise return 0.\n    SurveyActivityListener.prototype.getCount = function (activity, surveyId) {\n        var indexedTracker = this.getIndexedTracker(activity, surveyId);\n        if (!indexedTracker) {\n            return 0;\n        }\n        return indexedTracker.tracker.getCount(indexedTracker.index);\n    };\n    SurveyActivityListener.prototype.getSessionCount = function (activity, surveyId) {\n        var indexedTracker = this.getIndexedTracker(activity, surveyId);\n        if (!indexedTracker) {\n            return 0;\n        }\n        return indexedTracker.tracker.getSessionCount(indexedTracker.index);\n    };\n    /**\n     * An atomic get-and-set method.  Returns the current SessionCount, resetting it to zero and adding it into the established baseline\n     */\n    SurveyActivityListener.prototype.moveSessionCountIntoBaseCount = function (activity, surveyId) {\n        var indexedTracker = this.getIndexedTracker(activity, surveyId);\n        if (!indexedTracker) {\n            return 0;\n        }\n        return indexedTracker.tracker.moveSessionCountIntoBaseCount(indexedTracker.index);\n    };\n    SurveyActivityListener.prototype.getSurveyIds = function (activity) {\n        if (Utils_1.isNOU(activity)) {\n            return undefined;\n        }\n        var indexedTrackers = this.trackedActivityMap[activity];\n        if (!indexedTrackers) {\n            return undefined;\n        }\n        var surveyIds = indexedTrackers.map(function (indexedTracker) { return indexedTracker.surveyId; });\n        return surveyIds;\n    };\n    SurveyActivityListener.prototype.setCallback = function (callback) {\n        this.callback = callback;\n    };\n    SurveyActivityListener.prototype.getIndexedTracker = function (activity, surveyId) {\n        var indexedTrackers = this.trackedActivityMap[activity];\n        if (!indexedTrackers) {\n            return undefined;\n        }\n        var indexedTracker;\n        for (var _i = 0, indexedTrackers_1 = indexedTrackers; _i < indexedTrackers_1.length; _i++) {\n            var tracker = indexedTrackers_1[_i];\n            if (tracker.surveyId === surveyId) {\n                indexedTracker = tracker;\n                break;\n            }\n        }\n        return indexedTracker;\n    };\n    SurveyActivityListener.prototype.resetQueuedActivities = function () {\n        queuedActivities = [];\n    };\n    SurveyActivityListener.prototype.logActivity_private = function (activityName, logType, increment, timestamp) {\n        var _this = this;\n        if (this.callback && !this.callback.shouldAcceptActivity(activityName)) {\n            pendingActivityCount++;\n            if (queuedActivities.length < SurveyActivityListener.MaxPendingActivitiesQueueSize) {\n                queuedActivities.push({ activityName: activityName, logType: logType, increment: increment, timestamp: timestamp });\n            }\n        }\n        // Count any activities that are posted before \'FloodgateFirstStart\' activity happens\n        if (activityName === SurveyActivityListener.FloodgateStartActivityName) {\n            if (pendingActivityCount > 0) {\n                var telemetryLogger = this.loggerCallback && this.loggerCallback();\n                if (telemetryLogger) {\n                    telemetryLogger.log_Event(Constants_1.TelemetryEvent.SurveyActivity.LogActivity.EventsReprocessed, {\n                        Count: queuedActivities.length, Dropped: pendingActivityCount - queuedActivities.length\n                    });\n                }\n                // replay all the queued activities one by one as the floodgate engine has started now\n                queuedActivities.map(function (queuedActivity) { return _this.logActivity_core(queuedActivity.activityName, queuedActivity.logType, queuedActivity.increment, queuedActivity.timestamp); });\n            }\n            pendingActivityCount = 0;\n            this.resetQueuedActivities();\n        }\n        this.logActivity_core(activityName, logType, increment, timestamp);\n    };\n    SurveyActivityListener.prototype.logActivity_core = function (activityName, logType, increment, timestamp) {\n        var indexedTrackers = this.trackedActivityMap[activityName];\n        if (!indexedTrackers || indexedTrackers.length === 0) {\n            return;\n        }\n        var indices = [];\n        // If we have more than one tracker shuffle trackers to randomize which is evaluated first\n        if (indexedTrackers.length > 1) {\n            indices = new Array(indexedTrackers.length);\n            for (var i = 0; i < indices.length; i++) {\n                indices[i] = i;\n            }\n            indices = Utils_1.fyShuffle(indices); // shuffle and reassign\n        }\n        else {\n            indices.push(0); // just have a zero. Shuffling is not needed.\n        }\n        // Loop through trackers in shuffled order\n        for (var _i = 0, indices_1 = indices; _i < indices_1.length; _i++) {\n            var index = indices_1[_i];\n            var tracker = indexedTrackers[index];\n            switch (logType) {\n                case 1 /* StartTime */: {\n                    tracker.tracker.startTime(tracker.index, timestamp);\n                    continue; // Look at the next tracker. Increment not needed.\n                }\n                case 2 /* StopTime */: {\n                    increment = tracker.tracker.stopTime(tracker.index, timestamp);\n                    // fall through to increment the activity as well.\n                }\n                case 0 /* Increment */: {\n                    break;\n                }\n                default: {\n                    continue;\n                }\n            }\n            var result = tracker.tracker.incrementActivity(tracker.index, increment);\n            if (result === 2 /* AllActivitiesActivated */) {\n                this.executeCallback(tracker.surveyId);\n                break;\n                /* Breaking here to let one and only one callback to be made from a logActivity call.\n                This ensures only one survey can fully \'trigger\' for a logActivity call. Others that would also\n                have triggered must wait until the next call to trigger (without there being a cooldown, of course).\n                */\n            }\n        }\n    };\n    SurveyActivityListener.prototype.executeCallback = function (surveyId) {\n        this.callback.run(surveyId);\n    };\n    SurveyActivityListener.prototype.copyObject = function (target, source) {\n        Object.keys(source).forEach(function (key) {\n            target[key] = source[key];\n        });\n    };\n    SurveyActivityListener.FloodgateStartActivityName = "FloodgateFirstStart";\n    // The size of the dropped activities is set to 100 due to the following two reasons.\n    // 1) To prevent the array growing too big and causing memory issues.\n    // 2) Based on the telemetry analysis of number of dropped activities, the count is very small and much lesser than 100.\n    SurveyActivityListener.MaxPendingActivitiesQueueSize = 100;\n    return SurveyActivityListener;\n}());\nmodule.exports = SurveyActivityListener;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleUFjdGl2aXR5TGlzdGVuZXIudHM/MWNiZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsbUhBQXFEO0FBS3JELG1HQUE2QztBQUM3QyxrSEFBa0Q7QUFDbEQsMktBQWtIO0FBQ2xILHVGQUEyQztBQUUzQyxJQUFJLGdCQUFnQixHQUFtRCxFQUFFLENBQUM7QUFDMUUsSUFBSSxvQkFBb0IsR0FBVyxDQUFDLENBQUM7QUFFckM7OztHQUdHO0FBQ0g7SUFXQyxnQ0FBbUIsUUFBMEQsRUFBRSxjQUFnRDtRQUM5SCxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ2QsTUFBTSxJQUFJLEtBQUssQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO1NBQzdDO1FBRUQsSUFBSSxDQUFDLGtCQUFrQixHQUFHLEVBQUUsQ0FBQztRQUM3QixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsY0FBYyxHQUFHLGNBQWMsQ0FBQztJQUN0QyxDQUFDO0lBRU0sNENBQVcsR0FBbEIsVUFBbUIsWUFBb0IsRUFBRSxTQUFxQjtRQUFyQix5Q0FBcUI7UUFDN0QsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFlBQVkscUJBQWtELFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN6RyxDQUFDO0lBRU0scURBQW9CLEdBQTNCLFVBQTRCLFlBQW9CLEVBQUUsU0FBZ0I7UUFDakUsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFlBQVkscUJBQWtELENBQUMsRUFBRSxTQUFTLENBQUMsQ0FBQztJQUN0RyxDQUFDO0lBRU0sb0RBQW1CLEdBQTFCLFVBQTJCLFlBQW9CLEVBQUUsUUFBZTtRQUMvRCxJQUFJLENBQUMsbUJBQW1CLENBQUMsWUFBWSxvQkFBaUQsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ3BHLENBQUM7SUFFTSw2REFBNEIsR0FBbkMsVUFBb0MseUJBQXFELEVBQ3hGLFFBQWtEO1FBQWxELDBDQUFlLHFFQUFpQyxFQUFFO1FB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aUJBQ047Z0JBQ0QsT0FBTyxDQUFDLENBQUM7b0JBQ1IsU0FBUztpQkFDVDthQUNEO1lBRUQsSUFBTSxNQUFNLEdBQW9DLE9BQU8sQ0FBQyxPQUFPLENBQUMsaUJBQWlCLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxTQUFTLENBQUMsQ0FBQztZQUM1RyxJQUFJLE1BQU0sbUNBQTJELEVBQUU7Z0JBQ3RFLElBQUksQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUN2QyxNQUFNO2dCQUNOOzs7a0JBR0U7YUFDRjtTQUNEO0lBQ0YsQ0FBQztJQUVPLGdEQUFlLEdBQXZCLFVBQXdCLFFBQWdCO1FBQ3ZDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzdCLENBQUM7SUFFTywyQ0FBVSxHQUFsQixVQUFtQixNQUFVLEVBQUUsTUFBVTtRQUN4QyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFDLEdBQUc7WUFDL0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUMzQixDQUFDLENBQUMsQ0FBQztJQUNKLENBQUM7SUFsU2EsaURBQTBCLEdBQUcscUJBQXFCLENBQUM7SUFDakUscUZBQXFGO0lBQ3JGLHFFQUFxRTtJQUNyRSx3SEFBd0g7SUFDMUcsb0RBQTZCLEdBQUcsR0FBRyxDQUFDO0lBK1JuRCw2QkFBQztDQUFBO0FBc0JELGlCQUFTLHNCQUFzQixDQUFDIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5QWN0aXZpdHlMaXN0ZW5lci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIEFjdGl2aXR5VHJhY2tlciBmcm9tIFwiLi9BY3Rpdml0eVRyYWNrZXJcIjtcclxuaW1wb3J0IHsgQWN0aXZpdHlUcmFja2luZ0NvbnRyYWN0IH0gZnJvbSBcIi4vQWN0aXZpdHlUcmFja2luZ0NvbnRyYWN0XCI7XHJcbmltcG9ydCB7IEFjdGl2aXR5VHJhY2tpbmdTZXQgfSBmcm9tIFwiLi9BY3Rpdml0eVRyYWNraW5nU2V0XCI7XHJcbmltcG9ydCAqIGFzIElBY3Rpdml0eUxpc3RlbmVyIGZyb20gXCIuL0FwaS9JQWN0aXZpdHlMaXN0ZW5lclwiO1xyXG5pbXBvcnQgeyBJRmxvb2RnYXRlVGVsZW1ldHJ5TG9nZ2VyIH0gZnJvbSBcIi4vQXBpL0lGbG9vZGdhdGVUZWxlbWV0cnlMb2dnZXJcIjtcclxuaW1wb3J0IHsgVGVsZW1ldHJ5RXZlbnQgfSBmcm9tIFwiLi9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgSW5kZXhlZFRyYWNrZXIgfSBmcm9tIFwiLi9JbmRleGVkVHJhY2tlclwiO1xyXG5pbXBvcnQgeyBTdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHMsIFN1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eSB9IGZyb20gXCIuL1N1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eVwiO1xyXG5pbXBvcnQgeyBmeVNodWZmbGUsIGlzTk9VIH0gZnJvbSBcIi4vVXRpbHNcIjtcclxuXHJcbmxldCBxdWV1ZWRBY3Rpdml0aWVzOiBTdXJ2ZXlBY3Rpdml0eUxpc3RlbmVyLklRdWV1ZWRBY3Rpdml0eVBhcmFtc1tdID0gW107XHJcbmxldCBwZW5kaW5nQWN0aXZpdHlDb3VudDogbnVtYmVyID0gMDtcclxuXHJcbi8qKlxyXG4gKiBUaGlzIGNsYXNzIHRyYWNrcyBsb2cgY2FsbHMgYWdhaW5zdCBuYW1lZCBhY3Rpdml0eSBzdHJpbmdzIChtYXRjaGVkIG9uIHN0cmljdCBjYXNlLXNlbnNpdGl2ZSBlcXVhbGl0eSlcclxuICogYW5kIGNhbGxzIHRoZSBwcm92aWRlZCBjYWxsYmFjayB3aGVuIGFsbCBhY3Rpdml0eSB0aHJlc2hvbGRzIGZvciBhIGdpdmVuIHN1cnZleSBoYXZlIGJlZW4gY3Jvc3NlZFxyXG4gKi9cclxuY2xhc3MgU3VydmV5QWN0aXZpdHlMaXN0ZW5lciBpbXBsZW1lbnRzIElBY3Rpdml0eUxpc3RlbmVyIHtcclxuXHRwdWJsaWMgc3RhdGljIEZsb29kZ2F0ZVN0YXJ0QWN0aXZpdHlOYW1lID0gXCJGbG9vZGdhdGVGaXJzdFN0YXJ0XCI7XHJcblx0Ly8gVGhlIHNpemUgb2YgdGhlIGRyb3BwZWQgYWN0aXZpdGllcyBpcyBzZXQgdG8gMTAwIGR1ZSB0byB0aGUgZm9sbG93aW5nIHR3byByZWFzb25zLlxyXG5cdC8vIDEpIFRvIHByZXZlbnQgdGhlIGFycmF5IGdyb3dpbmcgdG9vIGJpZyBhbmQgY2F1c2luZyBtZW1vcnkgaXNzdWVzLlxyXG5cdC8vIDIpIEJhc2VkIG9uIHRoZSB0ZWxlbWV0cnkgYW5hbHlzaXMgb2YgbnVtYmVyIG9mIGRyb3BwZWQgYWN0aXZpdGllcywgdGhlIGNvdW50IGlzIHZlcnkgc21hbGwgYW5kIG11Y2ggbGVzc2VyIHRoYW4gMTAwLlxyXG5cdHB1YmxpYyBzdGF0aWMgTWF4UGVuZGluZ0FjdGl2aXRpZXNRdWV1ZVNpemUgPSAxMDA7XHJcblxyXG5cdHByaXZhdGUgdHJhY2tlZEFjdGl2aXR5TWFwOiB7IFtpZDogc3RyaW5nXTogSW5kZXhlZFRyYWNrZXJbXSB9O1xyXG5cdHByaXZhdGUgY2FsbGJhY2s6IFN1cnZleUFjdGl2aXR5TGlzdGVuZXIuSUFjdGl2aXR5TGlzdGVuZXJDYWxsYmFjaztcclxuXHRwcml2YXRlIGxvZ2dlckNhbGxiYWNrOiAoKSA9PiBJRmxvb2RnYXRlVGVsZW1ldHJ5TG9nZ2VyO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoY2FsbGJhY2s6IFN1cnZleUFjdGl2aXR5TGlzdGVuZXIuSUFjdGl2aXR5TGlzdGVuZXJDYWxsYmFjaywgbG9nZ2VyQ2FsbGJhY2s/OiAoKSA9PiBJRmxvb2RnYXRlVGVsZW1ldHJ5TG9nZ2VyKSB7XHJcblx0XHRpZiAoIWNhbGxiYWNrKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImNhbGxiYWNrIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy50cmFja2VkQWN0aXZpdHlNYXAgPSB7fTtcclxuXHRcdHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcclxuXHRcdHRoaXMubG9nZ2VyQ2FsbGJhY2sgPSBsb2dnZXJDYWxsYmFjaztcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBsb2dBY3Rpdml0eShhY3Rpdml0eU5hbWU6IHN0cmluZywgaW5jcmVtZW50OiBudW1iZXIgPSAxKTogdm9pZCB7XHJcblx0XHR0aGlzLmxvZ0FjdGl2aXR5X3ByaXZhdGUoYWN0aXZpdHlOYW1lLCBTdXJ2ZXlBY3Rpdml0eUxpc3RlbmVyLkxvZ0FjdGlvblR5cGUuSW5jcmVtZW50LCBpbmNyZW1lbnQsIG51bGwpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGxvZ0FjdGl2aXR5U3RhcnRUaW1lKGFjdGl2aXR5TmFtZTogc3RyaW5nLCBzdGFydFRpbWU/OiBEYXRlKTogdm9pZCB7XHJcblx0XHR0aGlzLmxvZ0FjdGl2aXR5X3ByaXZhdGUoYWN0aXZpdHlOYW1lLCBTdXJ2ZXlBY3Rpdml0eUxpc3RlbmVyLkxvZ0FjdGlvblR5cGUuU3RhcnRUaW1lLCAwLCBzdGFydFRpbWUpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGxvZ0FjdGl2aXR5U3RvcFRpbWUoYWN0aXZpdHlOYW1lOiBzdHJpbmcsIHN0b3BUaW1lPzogRGF0ZSk6IHZvaWQge1xyXG5cdFx0dGhpcy5sb2dBY3Rpdml0eV9wcml2YXRlKGFjdGl2aXR5TmFtZSwgU3VydmV5QWN0aXZpdHlMaXN0ZW5lci5Mb2dBY3Rpb25UeXBlLlN0b3BUaW1lLCAwLCBzdG9wVGltZSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgU2V0QWN0aXZpdHlUcmFja2luZ0NvbnRyYWN0cyhhY3Rpdml0eVRyYWNraW5nQ29udHJhY3RzOiBBY3Rpdml0eVRyYWNraW5nQ29udHJhY3RbXSxcclxuXHRcdGJhc2VsaW5lID0gbmV3IFN1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eSgpKTogdm9pZCB7XHJcblxyXG5cdFx0bGV0IGR1cGxpY2F0ZUNvdW50ZXIgPSAwO1xyXG5cclxuXHRcdGlmICghYWN0aXZpdHlUcmFja2luZ0NvbnRyYWN0cyB8fCBhY3Rpdml0eVRyYWNraW5nQ29udHJhY3RzLmxlbmd0aCA9PT0gMCB8fCAhYmFzZWxpbmUpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFBvcHVsYXRlIGEgbmV3IG1hcCBiYXNlZCBvbiB0aGUgcGFzc2VkIGluIHN1cnZleXMsIGJ1dCBwcm9wYWdhdGluZyBhbmQgdHJhY2tpbmcgYWN0aXZpdHkgY291bnRzXHJcblx0XHQvLyB3ZSBtYXkgaGF2ZSBzZWVuIGFnYWluc3QgdGhvc2UgZXZlbnRzXHJcblx0XHQvLyBOT1RFOiBXZSB3aWxsIGxvc2UgYWN0aXZpdHkgY291bnRzIGZvciBzdXJ2ZXkgZXZlbnRzIHRoYXQgYXJlIG5vIGxvbmdlciByZWxldmFudC5cclxuXHRcdGNvbnN0IG5ld01hcDogeyBbaWQ6IHN0cmluZ106IEluZGV4ZWRUcmFja2VyW10gfSA9IHt9O1xyXG5cdFx0Y29uc3QgdHJhY2tlZFN1cnZleUlkczogc3RyaW5nW10gPSBbXTtcclxuXHJcblx0XHRmb3IgKGNvbnN0IGFjdGl2aXR5VHJhY2tpbmdDb250cmFjdCBvZiBhY3Rpdml0eVRyYWNraW5nQ29udHJhY3RzKSB7XHJcblx0XHRcdGNvbnN0IHRyYWNraW5nU2V0OiBBY3Rpdml0eVRyYWNraW5nU2V0ID0gYWN0aXZpdHlUcmFja2luZ0NvbnRyYWN0LnRyYWNraW5nU2V0O1xyXG5cclxuXHRcdFx0Ly8gQWRkZWQgdG8gdGhlIG5ldyBzZXQgdG8gbWFrZSBzdXJlIHRoZXkgYXJlIG5vdCBkdXBsaWNhdGVkLiBCYXNlZCBvbiBNU08uXHJcblx0XHRcdGlmICh0cmFja2VkU3VydmV5SWRzLmluZGV4T2YoYWN0aXZpdHlUcmFja2luZ0NvbnRyYWN0LnN1cnZleUlkKSA9PT0gLTEpIHtcclxuXHRcdFx0XHR0cmFja2VkU3VydmV5SWRzLnB1c2goYWN0aXZpdHlUcmFja2luZ0NvbnRyYWN0LnN1cnZleUlkKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBEdXBsaWNhdGUgc3VydmV5SWQgYmVpbmcgYWRkZWQsIGNvdW50IGl0IGZvciB0aGUgbG9nLlxyXG5cdFx0XHRcdGR1cGxpY2F0ZUNvdW50ZXIrKztcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gQXQgdGhpcyBwb2ludCwgdGhlIHN1cnZleSdzIGFjdGl2aXRpZXMgYXJlIHNhZmUgdG8gYWRkLlxyXG5cdFx0XHQvLyBTZXQgdXAgdGhlIHN0cnVjdHVyZXMgd2UgbmVlZCB0byB0cmFuc2ZlciBiYXNlbGluZSBjb3VudHMgKGZyb20gcHJldmlvdXMgc2Vzc2lvbnMpIG9yIGN1cnJlbnQgY291bnRzIChmcm9tIHByZXZpb3VzIHRyYWNrZXJzKVxyXG5cdFx0XHQvLyBCb3RoIHZlY3RvcnMgbXVzdCBiZSBzb3J0ZWQgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlIHRyYWNraW5nU2V0Lkxpc3QgaXRlbXNcclxuXHRcdFx0Y29uc3QgYmFzZWxpbmVTdGF0czogU3VydmV5RXZlbnRBY3Rpdml0eVN0YXRzID0gYmFzZWxpbmUuZ2V0QnlTdXJ2ZXlJZChhY3Rpdml0eVRyYWNraW5nQ29udHJhY3Quc3VydmV5SWQpO1xyXG5cdFx0XHRjb25zdCBiYXNlbGluZUNvdW50czogbnVtYmVyW10gPSBbdHJhY2tpbmdTZXQuZ2V0TGlzdCgpLmxlbmd0aF07XHJcblx0XHRcdGNvbnN0IGN1cnJlbnRJbmRleGVkVHJhY2tlcnM6IEluZGV4ZWRUcmFja2VyW10gPSBuZXcgQXJyYXk8SW5kZXhlZFRyYWNrZXI+KHRyYWNraW5nU2V0LmdldExpc3QoKS5sZW5ndGgpO1xyXG5cclxuXHRcdFx0bGV0IGN1cnJlbnRCYXNlbGluZUluZGV4ID0gMDtcclxuXHRcdFx0bGV0IGN1cnJlbnRJbmRleCA9IDA7XHJcblxyXG5cdFx0XHRmb3IgKGNvbnN0IHRyYWNraW5nRGF0YSBvZiB0cmFja2luZ1NldC5nZXRMaXN0KCkpIHtcclxuXHRcdFx0XHQvLyBCYXNlbGluZSBzdGF0cyBhcmUgb25seSBzdG9yZWQgZm9yIGV2ZW50cyB3aXRoIFwiSXNBZ2dyZWdhdGUgPSB0cnVlXCJcclxuXHRcdFx0XHRiYXNlbGluZUNvdW50c1tjdXJyZW50SW5kZXhdID0gMDtcclxuXHRcdFx0XHRpZiAodHJhY2tpbmdEYXRhLmdldElzQWdncmVnYXRlKCkgJiYgYmFzZWxpbmVTdGF0cyAmJiBjdXJyZW50QmFzZWxpbmVJbmRleCA8IGJhc2VsaW5lU3RhdHMuQ291bnRzLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0YmFzZWxpbmVDb3VudHNbY3VycmVudEluZGV4XSA9IGJhc2VsaW5lU3RhdHMuQ291bnRzW2N1cnJlbnRCYXNlbGluZUluZGV4KytdO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gU2Vzc2lvbiBzdGF0cyBtYXkgYmUgYXZhaWxhYmxlIGluIHRoZSBwcmV2aW91cyB0cmFja2VkQWN0aXZpdHlNYXBcclxuXHRcdFx0XHQvLyBUcmFuc2ZlciB0aGUgb2xkIFwiY3VycmVudCBzZXNzaW9uXCIgY291bnQgdG8gdGhlIG5ldyB0cmFja2VyXHJcblx0XHRcdFx0Ly8gSXMgc2V0IHRvIG51bGwgaWYgbm90IGF2YWlsYWJsZVxyXG5cdFx0XHRcdGlmICh0aGlzLnRyYWNrZWRBY3Rpdml0eU1hcFt0cmFja2luZ0RhdGEuZ2V0QWN0aXZpdHkoKV0pIHtcclxuXHRcdFx0XHRcdGZvciAoY29uc3QgdHJhY2tlciBvZiB0aGlzLnRyYWNrZWRBY3Rpdml0eU1hcFt0cmFja2luZ0RhdGEuZ2V0QWN0aXZpdHkoKV0pIHtcclxuXHRcdFx0XHRcdFx0aWYgKHRyYWNrZXIuc3VydmV5SWQgPT09IGFjdGl2aXR5VHJhY2tpbmdDb250cmFjdC5zdXJ2ZXlJZCkge1xyXG5cdFx0XHRcdFx0XHRcdGN1cnJlbnRJbmRleGVkVHJhY2tlcnNbY3VycmVudEluZGV4XSA9IHRyYWNrZXI7XHJcblx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGN1cnJlbnRJbmRleCsrO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBNYWtlIGEgbmV3IHRyYWNrZXIgYW5kIGluaXQgdGhlIGNvdW50cyBhcHByb3ByaWF0ZWx5LlxyXG5cdFx0XHRjb25zdCBuZXdUcmFja2VyID0gbmV3IEFjdGl2aXR5VHJhY2tlcih0cmFja2luZ1NldCk7XHJcblx0XHRcdC8vIElmIGluIGEgZnV0dXJlIGNoYW5nZSB3ZSBzdGFydCBrZWVwaW5nIHRyYWNrZXJzIHJlZ2lzdGVyZWQgcGFzdCBhY3RpdmF0aW9uLCB0aGlzIHdpbGwgY2hhbmdlXHJcblx0XHRcdG5ld1RyYWNrZXIuaW5pdENvdW50cyhiYXNlbGluZUNvdW50cywgY3VycmVudEluZGV4ZWRUcmFja2VycywgZmFsc2UgLyp3YXNBY3RpdmF0ZWRUaGlzU2Vzc2lvbiovKTtcclxuXHJcblx0XHRcdC8vIFNldHVwIHRoZSBpbmRleGVkIHRyYWNrZXJzXHJcblx0XHRcdGZvciAoY29uc3QgYWN0aXZpdHlJbmRleCBvZiBuZXdUcmFja2VyLmdlbmVyYXRlQWN0aXZpdHlJbmRleExpc3QoKSkge1xyXG5cdFx0XHRcdGNvbnN0IGluZGV4ZWRUcmFja2VyID0gbmV3IEluZGV4ZWRUcmFja2VyKCk7XHJcblx0XHRcdFx0aW5kZXhlZFRyYWNrZXIuaW5kZXggPSBhY3Rpdml0eUluZGV4LmluZGV4O1xyXG5cdFx0XHRcdGluZGV4ZWRUcmFja2VyLnN1cnZleUlkID0gYWN0aXZpdHlUcmFja2luZ0NvbnRyYWN0LnN1cnZleUlkO1xyXG5cdFx0XHRcdGluZGV4ZWRUcmFja2VyLnRyYWNrZXIgPSBuZXdUcmFja2VyO1xyXG5cclxuXHRcdFx0XHRpZiAoIW5ld01hcFthY3Rpdml0eUluZGV4LmFjdGl2aXR5XSkge1xyXG5cdFx0XHRcdFx0bmV3TWFwW2FjdGl2aXR5SW5kZXguYWN0aXZpdHldID0gW107XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBSZWdpc3RlciB0aGUgbmV3IHRyYWNrZXIgaW4gb3VyIG5ldyBtYXBcclxuXHRcdFx0XHRuZXdNYXBbYWN0aXZpdHlJbmRleC5hY3Rpdml0eV0ucHVzaChpbmRleGVkVHJhY2tlcik7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoZHVwbGljYXRlQ291bnRlciA+IDApIHtcclxuXHRcdFx0Y29uc3QgdGVsZW1ldHJ5TG9nZ2VyID0gdGhpcy5sb2dnZXJDYWxsYmFjayAmJiB0aGlzLmxvZ2dlckNhbGxiYWNrKCk7XHJcblx0XHRcdGlmICh0ZWxlbWV0cnlMb2dnZXIpIHtcclxuXHRcdFx0XHR0ZWxlbWV0cnlMb2dnZXIubG9nX0Vycm9yKFRlbGVtZXRyeUV2ZW50LlN1cnZleUFjdGl2aXR5LlNldEFjdGl2aXR5VHJhY2tpbmdDb250cmFjdHMuRHVwbGljYXRlU3VydmV5SUQsXHJcblx0XHRcdFx0XHRcIkR1cGxpY2F0ZSBzdXJ2ZXlJZCBwYXNzZWQgaW4gYWN0aXZpdHlUcmFja2luZ0NvbnRyYWN0cy4gRHVwbGljYXRlIGNvdW50OiBcIiArIGR1cGxpY2F0ZUNvdW50ZXIpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gU2V0IHRoZSBuZXcgbWFwIGluIHBsYWNlIG9mIHRoZSBvbGRcclxuXHRcdHRoaXMuY29weU9iamVjdCh0aGlzLnRyYWNrZWRBY3Rpdml0eU1hcCwgbmV3TWFwKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBjbGVhclN1cnZleXMoKTogdm9pZCB7XHJcblx0XHRPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzLnRyYWNrZWRBY3Rpdml0eU1hcCkuZm9yRWFjaCgoa2V5KSA9PiB7XHJcblx0XHRcdGRlbGV0ZSB0aGlzLnRyYWNrZWRBY3Rpdml0eU1hcFtrZXldO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvLyBHZXQgdGhlIGluZGV4ZWRUcmFja2VyIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIFN1cnZleUlEIGFuZCByZXR1cm4gdGhhdCBjb3VudC4gb3RoZXJ3aXNlIHJldHVybiAwLlxyXG5cdHB1YmxpYyBnZXRDb3VudChhY3Rpdml0eTogc3RyaW5nLCBzdXJ2ZXlJZDogc3RyaW5nKTogbnVtYmVyIHtcclxuXHRcdGNvbnN0IGluZGV4ZWRUcmFja2VyID0gdGhpcy5nZXRJbmRleGVkVHJhY2tlcihhY3Rpdml0eSwgc3VydmV5SWQpO1xyXG5cdFx0aWYgKCFpbmRleGVkVHJhY2tlcikge1xyXG5cdFx0XHRyZXR1cm4gMDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gaW5kZXhlZFRyYWNrZXIudHJhY2tlci5nZXRDb3VudChpbmRleGVkVHJhY2tlci5pbmRleCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0U2Vzc2lvbkNvdW50KGFjdGl2aXR5OiBzdHJpbmcsIHN1cnZleUlkOiBzdHJpbmcpOiBudW1iZXIge1xyXG5cdFx0Y29uc3QgaW5kZXhlZFRyYWNrZXIgPSB0aGlzLmdldEluZGV4ZWRUcmFja2VyKGFjdGl2aXR5LCBzdXJ2ZXlJZCk7XHJcblx0XHRpZiAoIWluZGV4ZWRUcmFja2VyKSB7XHJcblx0XHRcdHJldHVybiAwO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBpbmRleGVkVHJhY2tlci50cmFja2VyLmdldFNlc3Npb25Db3VudChpbmRleGVkVHJhY2tlci5pbmRleCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBBbiBhdG9taWMgZ2V0LWFuZC1zZXQgbWV0aG9kLiAgUmV0dXJucyB0aGUgY3VycmVudCBTZXNzaW9uQ291bnQsIHJlc2V0dGluZyBpdCB0byB6ZXJvIGFuZCBhZGRpbmcgaXQgaW50byB0aGUgZXN0YWJsaXNoZWQgYmFzZWxpbmVcclxuXHQgKi9cclxuXHRwdWJsaWMgbW92ZVNlc3Npb25Db3VudEludG9CYXNlQ291bnQoYWN0aXZpdHk6IHN0cmluZywgc3VydmV5SWQ6IHN0cmluZyk6IG51bWJlciB7XHJcblx0XHRjb25zdCBpbmRleGVkVHJhY2tlciA9IHRoaXMuZ2V0SW5kZXhlZFRyYWNrZXIoYWN0aXZpdHksIHN1cnZleUlkKTtcclxuXHRcdGlmICghaW5kZXhlZFRyYWNrZXIpIHtcclxuXHRcdFx0cmV0dXJuIDA7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGluZGV4ZWRUcmFja2VyLnRyYWNrZXIubW92ZVNlc3Npb25Db3VudEludG9CYXNlQ291bnQoaW5kZXhlZFRyYWNrZXIuaW5kZXgpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFN1cnZleUlkcyhhY3Rpdml0eTogc3RyaW5nKTogc3RyaW5nW10gfCB1bmRlZmluZWQge1xyXG5cdFx0aWYgKGlzTk9VKGFjdGl2aXR5KSkge1xyXG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGluZGV4ZWRUcmFja2VycyA9IHRoaXMudHJhY2tlZEFjdGl2aXR5TWFwW2FjdGl2aXR5XTtcclxuXHRcdGlmICghaW5kZXhlZFRyYWNrZXJzKSB7XHJcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgc3VydmV5SWRzID0gaW5kZXhlZFRyYWNrZXJzLm1hcCgoaW5kZXhlZFRyYWNrZXIpID0+IGluZGV4ZWRUcmFja2VyLnN1cnZleUlkKTtcclxuXHRcdHJldHVybiBzdXJ2ZXlJZHM7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0Q2FsbGJhY2soY2FsbGJhY2s6IFN1cnZleUFjdGl2aXR5TGlzdGVuZXIuSUFjdGl2aXR5TGlzdGVuZXJDYWxsYmFjayk6IHZvaWQge1xyXG5cdFx0dGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXRJbmRleGVkVHJhY2tlcihhY3Rpdml0eTogc3RyaW5nLCBzdXJ2ZXlJZDogc3RyaW5nKTogSW5kZXhlZFRyYWNrZXIgfCB1bmRlZmluZWQge1xyXG5cdFx0Y29uc3QgaW5kZXhlZFRyYWNrZXJzID0gdGhpcy50cmFja2VkQWN0aXZpdHlNYXBbYWN0aXZpdHldO1xyXG5cclxuXHRcdGlmICghaW5kZXhlZFRyYWNrZXJzKSB7XHJcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IGluZGV4ZWRUcmFja2VyOiBJbmRleGVkVHJhY2tlciB8IHVuZGVmaW5lZDtcclxuXHRcdGZvciAoY29uc3QgdHJhY2tlciBvZiBpbmRleGVkVHJhY2tlcnMpIHtcclxuXHRcdFx0aWYgKHRyYWNrZXIuc3VydmV5SWQgPT09IHN1cnZleUlkKSB7XHJcblx0XHRcdFx0aW5kZXhlZFRyYWNrZXIgPSB0cmFja2VyO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGluZGV4ZWRUcmFja2VyO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSByZXNldFF1ZXVlZEFjdGl2aXRpZXMoKTogdm9pZCB7XHJcblx0XHRxdWV1ZWRBY3Rpdml0aWVzID0gW107XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGxvZ0FjdGl2aXR5X3ByaXZhdGUoYWN0aXZpdHlOYW1lOiBzdHJpbmcsIGxvZ1R5cGU6IFN1cnZleUFjdGl2aXR5TGlzdGVuZXIuTG9nQWN0aW9uVHlwZSwgaW5jcmVtZW50OiBudW1iZXIsIHRpbWVzdGFtcDogRGF0ZSk6IHZvaWQge1xyXG5cdFx0aWYgKHRoaXMuY2FsbGJhY2sgJiYgIXRoaXMuY2FsbGJhY2suc2hvdWxkQWNjZXB0QWN0aXZpdHkoYWN0aXZpdHlOYW1lKSkge1xyXG5cdFx0XHRwZW5kaW5nQWN0aXZpdHlDb3VudCsrO1xyXG5cdFx0XHRpZiAocXVldWVkQWN0aXZpdGllcy5sZW5ndGggPCBTdXJ2ZXlBY3Rpdml0eUxpc3RlbmVyLk1heFBlbmRpbmdBY3Rpdml0aWVzUXVldWVTaXplKSB7XHJcblx0XHRcdFx0cXVldWVkQWN0aXZpdGllcy5wdXNoKHthY3Rpdml0eU5hbWUsIGxvZ1R5cGUsIGluY3JlbWVudCwgdGltZXN0YW1wfSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBDb3VudCBhbnkgYWN0aXZpdGllcyB0aGF0IGFyZSBwb3N0ZWQgYmVmb3JlICdGbG9vZGdhdGVGaXJzdFN0YXJ0JyBhY3Rpdml0eSBoYXBwZW5zXHJcblx0XHRpZiAoYWN0aXZpdHlOYW1lID09PSBTdXJ2ZXlBY3Rpdml0eUxpc3RlbmVyLkZsb29kZ2F0ZVN0YXJ0QWN0aXZpdHlOYW1lKSB7XHJcblx0XHRcdGlmIChwZW5kaW5nQWN0aXZpdHlDb3VudCA+IDApIHtcclxuXHRcdFx0XHRjb25zdCB0ZWxlbWV0cnlMb2dnZXIgPSB0aGlzLmxvZ2dlckNhbGxiYWNrICYmIHRoaXMubG9nZ2VyQ2FsbGJhY2soKTtcclxuXHRcdFx0XHRpZiAodGVsZW1ldHJ5TG9nZ2VyKSB7XHJcblx0XHRcdFx0XHR0ZWxlbWV0cnlMb2dnZXIubG9nX0V2ZW50KFRlbGVtZXRyeUV2ZW50LlN1cnZleUFjdGl2aXR5LkxvZ0FjdGl2aXR5LkV2ZW50c1JlcHJvY2Vzc2VkLCB7XHJcblx0XHRcdFx0XHRcdENvdW50OiBxdWV1ZWRBY3Rpdml0aWVzLmxlbmd0aCwgRHJvcHBlZDogcGVuZGluZ0FjdGl2aXR5Q291bnQgLSBxdWV1ZWRBY3Rpdml0aWVzLmxlbmd0aCB9KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIHJlcGxheSBhbGwgdGhlIHF1ZXVlZCBhY3Rpdml0aWVzIG9uZSBieSBvbmUgYXMgdGhlIGZsb29kZ2F0ZSBlbmdpbmUgaGFzIHN0YXJ0ZWQgbm93XHJcblx0XHRcdFx0cXVldWVkQWN0aXZpdGllcy5tYXAoKHF1ZXVlZEFjdGl2aXR5KSA9PiB0aGlzLmxvZ0FjdGl2aXR5X2NvcmUoXHJcblx0XHRcdFx0XHRxdWV1ZWRBY3Rpdml0eS5hY3Rpdml0eU5hbWUsIHF1ZXVlZEFjdGl2aXR5LmxvZ1R5cGUsIHF1ZXVlZEFjdGl2aXR5LmluY3JlbWVudCwgcXVldWVkQWN0aXZpdHkudGltZXN0YW1wKSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHBlbmRpbmdBY3Rpdml0eUNvdW50ID0gMDtcclxuXHRcdFx0dGhpcy5yZXNldFF1ZXVlZEFjdGl2aXRpZXMoKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmxvZ0FjdGl2aXR5X2NvcmUoYWN0aXZpdHlOYW1lLCBsb2dUeXBlLCBpbmNyZW1lbnQsIHRpbWVzdGFtcCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGxvZ0FjdGl2aXR5X2NvcmUoYWN0aXZpdHlOYW1lOiBzdHJpbmcsIGxvZ1R5cGU6IFN1cnZleUFjdGl2aXR5TGlzdGVuZXIuTG9nQWN0aW9uVHlwZSwgaW5jcmVtZW50OiBudW1iZXIsIHRpbWVzdGFtcDogRGF0ZSk6IHZvaWQge1xyXG5cdFx0Y29uc3QgaW5kZXhlZFRyYWNrZXJzOiBJbmRleGVkVHJhY2tlcltdID0gdGhpcy50cmFja2VkQWN0aXZpdHlNYXBbYWN0aXZpdHlOYW1lXTtcclxuXHRcdGlmICghaW5kZXhlZFRyYWNrZXJzIHx8IGluZGV4ZWRUcmFja2Vycy5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBpbmRpY2VzOiBudW1iZXJbXSA9IFtdO1xyXG5cclxuXHRcdC8vIElmIHdlIGhhdmUgbW9yZSB0aGFuIG9uZSB0cmFja2VyIHNodWZmbGUgdHJhY2tlcnMgdG8gcmFuZG9taXplIHdoaWNoIGlzIGV2YWx1YXRlZCBmaXJzdFxyXG5cdFx0aWYgKGluZGV4ZWRUcmFja2Vycy5sZW5ndGggPiAxKSB7XHJcblx0XHRcdGluZGljZXMgPSBuZXcgQXJyYXk8bnVtYmVyPihpbmRleGVkVHJhY2tlcnMubGVuZ3RoKTtcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBpbmRpY2VzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0aW5kaWNlc1tpXSA9IGk7XHJcblx0XHRcdH1cclxuXHRcdFx0aW5kaWNlcyA9IGZ5U2h1ZmZsZShpbmRpY2VzKTsgLy8gc2h1ZmZsZSBhbmQgcmVhc3NpZ25cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluZGljZXMucHVzaCgwKTsgLy8ganVzdCBoYXZlIGEgemVyby4gU2h1ZmZsaW5nIGlzIG5vdCBuZWVkZWQuXHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gTG9vcCB0aHJvdWdoIHRyYWNrZXJzIGluIHNodWZmbGVkIG9yZGVyXHJcblx0XHRmb3IgKGNvbnN0IGluZGV4IG9mIGluZGljZXMpIHtcclxuXHRcdFx0Y29uc3QgdHJhY2tlcjogSW5kZXhlZFRyYWNrZXIgPSBpbmRleGVkVHJhY2tlcnNbaW5kZXhdO1xyXG5cclxuXHRcdFx0c3dpdGNoIChsb2dUeXBlKSB7XHJcblx0XHRcdFx0Y2FzZSBTdXJ2ZXlBY3Rpdml0eUxpc3RlbmVyLkxvZ0FjdGlvblR5cGUuU3RhcnRUaW1lOiB7XHJcblx0XHRcdFx0XHR0cmFja2VyLnRyYWNrZXIuc3RhcnRUaW1lKHRyYWNrZXIuaW5kZXgsIHRpbWVzdGFtcCk7XHJcblx0XHRcdFx0XHRjb250aW51ZTsgLy8gTG9vayBhdCB0aGUgbmV4dCB0cmFja2VyLiBJbmNyZW1lbnQgbm90IG5lZWRlZC5cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Y2FzZSBTdXJ2ZXlBY3Rpdml0eUxpc3RlbmVyLkxvZ0FjdGlvblR5cGUuU3RvcFRpbWU6IHtcclxuXHRcdFx0XHRcdGluY3JlbWVudCA9IHRyYWNrZXIudHJhY2tlci5zdG9wVGltZSh0cmFja2VyLmluZGV4LCB0aW1lc3RhbXApO1xyXG5cdFx0XHRcdFx0Ly8gZmFsbCB0aHJvdWdoIHRvIGluY3JlbWVudCB0aGUgYWN0aXZpdHkgYXMgd2VsbC5cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Y2FzZSBTdXJ2ZXlBY3Rpdml0eUxpc3RlbmVyLkxvZ0FjdGlvblR5cGUuSW5jcmVtZW50OiB7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZGVmYXVsdDoge1xyXG5cdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCByZXN1bHQ6IEFjdGl2aXR5VHJhY2tlci5JbmNyZW1lbnRSZXN1bHQgPSB0cmFja2VyLnRyYWNrZXIuaW5jcmVtZW50QWN0aXZpdHkodHJhY2tlci5pbmRleCwgaW5jcmVtZW50KTtcclxuXHRcdFx0aWYgKHJlc3VsdCA9PT0gQWN0aXZpdHlUcmFja2VyLkluY3JlbWVudFJlc3VsdC5BbGxBY3Rpdml0aWVzQWN0aXZhdGVkKSB7XHJcblx0XHRcdFx0dGhpcy5leGVjdXRlQ2FsbGJhY2sodHJhY2tlci5zdXJ2ZXlJZCk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0LyogQnJlYWtpbmcgaGVyZSB0byBsZXQgb25lIGFuZCBvbmx5IG9uZSBjYWxsYmFjayB0byBiZSBtYWRlIGZyb20gYSBsb2dBY3Rpdml0eSBjYWxsLlxyXG5cdFx0XHRcdFRoaXMgZW5zdXJlcyBvbmx5IG9uZSBzdXJ2ZXkgY2FuIGZ1bGx5ICd0cmlnZ2VyJyBmb3IgYSBsb2dBY3Rpdml0eSBjYWxsLiBPdGhlcnMgdGhhdCB3b3VsZCBhbHNvXHJcblx0XHRcdFx0aGF2ZSB0cmlnZ2VyZWQgbXVzdCB3YWl0IHVudGlsIHRoZSBuZXh0IGNhbGwgdG8gdHJpZ2dlciAod2l0aG91dCB0aGVyZSBiZWluZyBhIGNvb2xkb3duLCBvZiBjb3Vyc2UpLlxyXG5cdFx0XHRcdCovXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZXhlY3V0ZUNhbGxiYWNrKHN1cnZleUlkOiBzdHJpbmcpOiB2b2lkIHtcclxuXHRcdHRoaXMuY2FsbGJhY2sucnVuKHN1cnZleUlkKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY29weU9iamVjdCh0YXJnZXQ6IHt9LCBzb3VyY2U6IHt9KSB7XHJcblx0XHRPYmplY3Qua2V5cyhzb3VyY2UpLmZvckVhY2goKGtleSkgPT4ge1xyXG5cdFx0XHR0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xyXG5cdFx0fSk7XHJcblx0fVxyXG59XHJcblxyXG5tb2R1bGUgU3VydmV5QWN0aXZpdHlMaXN0ZW5lciB7XHJcblx0ZXhwb3J0IGludGVyZmFjZSBJQWN0aXZpdHlMaXN0ZW5lckNhbGxiYWNrIHtcclxuXHRcdHJ1bihzdXJ2ZXlJZDogc3RyaW5nKTogdm9pZDtcclxuXHRcdHNob3VsZEFjY2VwdEFjdGl2aXR5KGFjdGl2aXR5TmFtZTogc3RyaW5nKTogYm9vbGVhbjtcclxuXHR9XHJcblxyXG5cdGV4cG9ydCBjb25zdCBlbnVtIExvZ0FjdGlvblR5cGUge1xyXG5cdFx0SW5jcmVtZW50LFxyXG5cdFx0U3RhcnRUaW1lLFxyXG5cdFx0U3RvcFRpbWUsXHJcblx0fVxyXG5cclxuXHRleHBvcnQgaW50ZXJmYWNlIElRdWV1ZWRBY3Rpdml0eVBhcmFtcyB7XHJcblx0XHRhY3Rpdml0eU5hbWU6IHN0cmluZztcclxuXHRcdGxvZ1R5cGU6IFN1cnZleUFjdGl2aXR5TGlzdGVuZXIuTG9nQWN0aW9uVHlwZTtcclxuXHRcdGluY3JlbWVudDogbnVtYmVyO1xyXG5cdFx0dGltZXN0YW1wOiBEYXRlO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0ID0gU3VydmV5QWN0aXZpdHlMaXN0ZW5lcjtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyActivityListener.js\n')},"../FloodgateCore/dist/src/SurveyComponents/CommentComponent.js":function(module,exports,__webpack_require__){"use strict";eval('\nvar ISurveyComponent = __webpack_require__(/*! ./../Api/ISurveyComponent */ "../FloodgateCore/dist/src/Api/ISurveyComponent.js");\nvar CommentComponent = /** @class */ (function () {\n    function CommentComponent(data) {\n        if (!data) {\n            throw new Error("data must not be null");\n        }\n        if (!data.question) {\n            throw new Error("data.question must not be null or empty");\n        }\n        this.data = data;\n        this.userComment = "";\n    }\n    CommentComponent.make = function (data) {\n        try {\n            return new CommentComponent(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    // @Override\n    CommentComponent.prototype.getType = function () {\n        return "Comment" /* Comment */;\n    };\n    // @Override\n    CommentComponent.prototype.getQuestion = function () {\n        return this.data.question;\n    };\n    // @Override\n    CommentComponent.prototype.setSubmittedText = function (userComment) {\n        this.userComment = userComment;\n    };\n    // @Override\n    CommentComponent.prototype.getSubmittedText = function () {\n        return this.userComment;\n    };\n    // @Override\n    CommentComponent.prototype.getDomElements = function (doc) {\n        if (!doc) {\n            throw new Error("Document must not be null");\n        }\n        var element = doc.createElement(ISurveyComponent.DOM_COMMENT_TAGNAME);\n        element.appendChild(doc.createTextNode(this.getSubmittedText()));\n        return [element];\n    };\n    // @Override\n    CommentComponent.prototype.getJsonElements = function () {\n        var result = {};\n        result[ISurveyComponent.JSON_COMMENT_KEYNAME] = this.getSubmittedText();\n        return result;\n    };\n    // @Override\n    CommentComponent.prototype.getComponentJson = function () {\n        var _a;\n        return _a = {},\n            _a[ISurveyComponent.JSON_QUESTION_KEYNAME] = this.getQuestion(),\n            _a;\n    };\n    return CommentComponent;\n}());\n(function (CommentComponent) {\n    var CommentComponentData = /** @class */ (function () {\n        function CommentComponentData() {\n        }\n        return CommentComponentData;\n    }());\n    CommentComponent.CommentComponentData = CommentComponentData;\n})(CommentComponent || (CommentComponent = {}));\nmodule.exports = CommentComponent;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleUNvbXBvbmVudHMvQ29tbWVudENvbXBvbmVudC50cz8zODJiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSxpSUFBK0Q7QUFFL0Q7SUFZQywwQkFBbUIsSUFBMkM7UUFDN0QsSUFBSSxDQUFDLElBQUksRUFBRTtZQUNWLE1BQU0sSUFBSSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQztTQUN6QztRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ25CLE1BQU0sSUFBSSxLQUFLLENBQUMseUNBQXlDLENBQUMsQ0FBQztTQUMzRDtRQUVELElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDO0lBQ3ZCLENBQUM7SUFyQmEscUJBQUksR0FBbEIsVUFBbUIsSUFBMkM7UUFDN0QsSUFBSTtZQUNILE9BQU8sSUFBSSxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNsQztRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1gsT0FBTyxJQUFJLENBQUM7U0FDWjtJQUNGLENBQUM7SUFpQkQsWUFBWTtJQUNMLGtDQUFPLEdBQWQ7UUFDQywrQkFBcUM7SUFDdEMsQ0FBQztJQUVELFlBQVk7SUFDTCxzQ0FBVyxHQUFsQjtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDM0IsQ0FBQztJQUVELFlBQVk7SUFDTCwyQ0FBZ0IsR0FBdkIsVUFBd0IsV0FBbUI7UUFDMUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7SUFDaEMsQ0FBQztJQUVELFlBQVk7SUFDTCwyQ0FBZ0IsR0FBdkI7UUFDQyxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUM7SUFDekIsQ0FBQztJQUVELFlBQVk7SUFDTCx5Q0FBYyxHQUFyQixVQUFzQixHQUFhO1FBQ2xDLElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDVCxNQUFNLElBQUksS0FBSyxDQUFDLDJCQUEyQixDQUFDLENBQUM7U0FDN0M7UUFFRCxJQUFNLE9BQU8sR0FBWSxHQUFHLENBQUMsYUFBYSxDQUFDLGdCQUFnQixDQUFDLG1CQUFtQixDQUFDLENBQUM7UUFDakYsT0FBTyxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUVqRSxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDbEIsQ0FBQztJQUVELFlBQVk7SUFDTCwwQ0FBZSxHQUF0QjtRQUNDLElBQU0sTUFBTSxHQUFXLEVBQUUsQ0FBQztRQUMxQixNQUFNLENBQUMsZ0JBQWdCLENBQUMsb0JBQW9CLENBQUMsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUN4RSxPQUFPLE1BQU0sQ0FBQztJQUNmLENBQUM7SUFFRCxZQUFZO0lBQ0wsMkNBQWdCLEdBQXZCOztRQUNDO1lBQ0MsR0FBQyxnQkFBZ0IsQ0FBQyxxQkFBcUIsSUFBRyxJQUFJLENBQUMsV0FBVyxFQUFFO2VBQzNEO0lBQ0gsQ0FBQztJQUNGLHVCQUFDO0FBQUQsQ0FBQztBQUVELFdBQU8sZ0JBQWdCO0lBQ3RCO1FBQUE7UUFFQSxDQUFDO1FBQUQsMkJBQUM7SUFBRCxDQUFDO0lBRlkscUNBQW9CLHVCQUVoQztBQUNGLENBQUMsRUFKTSxnQkFBZ0IsS0FBaEIsZ0JBQWdCLFFBSXRCO0FBRUQsaUJBQVMsZ0JBQWdCLENBQUMiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9TdXJ2ZXlDb21wb25lbnRzL0NvbW1lbnRDb21wb25lbnQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJQ29tbWVudENvbXBvbmVudCB9IGZyb20gXCIuLy4uL0FwaS9JQ29tbWVudENvbXBvbmVudFwiO1xyXG5pbXBvcnQgSVN1cnZleUNvbXBvbmVudCA9IHJlcXVpcmUoXCIuLy4uL0FwaS9JU3VydmV5Q29tcG9uZW50XCIpO1xyXG5cclxuY2xhc3MgQ29tbWVudENvbXBvbmVudCBpbXBsZW1lbnRzIElDb21tZW50Q29tcG9uZW50IHtcclxuXHRwdWJsaWMgc3RhdGljIG1ha2UoZGF0YTogQ29tbWVudENvbXBvbmVudC5Db21tZW50Q29tcG9uZW50RGF0YSk6IElDb21tZW50Q29tcG9uZW50IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdHJldHVybiBuZXcgQ29tbWVudENvbXBvbmVudChkYXRhKTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGRhdGE6IENvbW1lbnRDb21wb25lbnQuQ29tbWVudENvbXBvbmVudERhdGE7XHJcblx0cHJpdmF0ZSB1c2VyQ29tbWVudDogc3RyaW5nO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoZGF0YTogQ29tbWVudENvbXBvbmVudC5Db21tZW50Q29tcG9uZW50RGF0YSkge1xyXG5cdFx0aWYgKCFkYXRhKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghZGF0YS5xdWVzdGlvbikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhLnF1ZXN0aW9uIG11c3Qgbm90IGJlIG51bGwgb3IgZW1wdHlcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5kYXRhID0gZGF0YTtcclxuXHRcdHRoaXMudXNlckNvbW1lbnQgPSBcIlwiO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldFR5cGUoKTogSVN1cnZleUNvbXBvbmVudC5UeXBlIHtcclxuXHRcdHJldHVybiBJU3VydmV5Q29tcG9uZW50LlR5cGUuQ29tbWVudDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRRdWVzdGlvbigpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5xdWVzdGlvbjtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBzZXRTdWJtaXR0ZWRUZXh0KHVzZXJDb21tZW50OiBzdHJpbmcpOiB2b2lkIHtcclxuXHRcdHRoaXMudXNlckNvbW1lbnQgPSB1c2VyQ29tbWVudDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRTdWJtaXR0ZWRUZXh0KCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy51c2VyQ29tbWVudDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXREb21FbGVtZW50cyhkb2M6IERvY3VtZW50KTogRWxlbWVudFtdIHtcclxuXHRcdGlmICghZG9jKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkRvY3VtZW50IG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZWxlbWVudDogRWxlbWVudCA9IGRvYy5jcmVhdGVFbGVtZW50KElTdXJ2ZXlDb21wb25lbnQuRE9NX0NPTU1FTlRfVEFHTkFNRSk7XHJcblx0XHRlbGVtZW50LmFwcGVuZENoaWxkKGRvYy5jcmVhdGVUZXh0Tm9kZSh0aGlzLmdldFN1Ym1pdHRlZFRleHQoKSkpO1xyXG5cclxuXHRcdHJldHVybiBbZWxlbWVudF07XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0SnNvbkVsZW1lbnRzKCk6IG9iamVjdCB7XHJcblx0XHRjb25zdCByZXN1bHQ6IG9iamVjdCA9IHt9O1xyXG5cdFx0cmVzdWx0W0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9DT01NRU5UX0tFWU5BTUVdID0gdGhpcy5nZXRTdWJtaXR0ZWRUZXh0KCk7XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldENvbXBvbmVudEpzb24oKTogb2JqZWN0IHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdFtJU3VydmV5Q29tcG9uZW50LkpTT05fUVVFU1RJT05fS0VZTkFNRV06IHRoaXMuZ2V0UXVlc3Rpb24oKSxcclxuXHRcdH07XHJcblx0fVxyXG59XHJcblxyXG5tb2R1bGUgQ29tbWVudENvbXBvbmVudCB7XHJcblx0ZXhwb3J0IGNsYXNzIENvbW1lbnRDb21wb25lbnREYXRhIHtcclxuXHRcdHB1YmxpYyBxdWVzdGlvbjogc3RyaW5nO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0ID0gQ29tbWVudENvbXBvbmVudDtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyComponents/CommentComponent.js\n')},"../FloodgateCore/dist/src/SurveyComponents/InterceptComponent.js":function(module,exports,__webpack_require__){"use strict";eval('\nvar ISurveyComponent = __webpack_require__(/*! ../Api/ISurveyComponent */ "../FloodgateCore/dist/src/Api/ISurveyComponent.js");\nvar InterceptComponent = /** @class */ (function () {\n    function InterceptComponent(data) {\n        if (!data) {\n            throw new Error("data must not be null");\n        }\n        if (!data.question) {\n            throw new Error("data.question must not be null or empty");\n        }\n        if (!data.title) {\n            throw new Error("data.title must not be null or empty");\n        }\n        if (!data.url) {\n            throw new Error("data.url must not be null or empty");\n        }\n        this.data = data;\n    }\n    InterceptComponent.make = function (data) {\n        try {\n            return new InterceptComponent(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    // @Override\n    InterceptComponent.prototype.getType = function () {\n        return "Intercept" /* Intercept */;\n    };\n    // @Override\n    InterceptComponent.prototype.getTitle = function () {\n        return this.data.title;\n    };\n    // @Override\n    InterceptComponent.prototype.getQuestion = function () {\n        return this.data.question;\n    };\n    // @Override\n    InterceptComponent.prototype.getUrl = function () {\n        return this.data.url;\n    };\n    // @Override\n    InterceptComponent.prototype.getDomElements = function (doc) {\n        if (!doc) {\n            throw new Error("Document must not be null");\n        }\n        return [doc.createElement(ISurveyComponent.DOM_INTERCEPT_TAGNAME)];\n    };\n    // @Override\n    InterceptComponent.prototype.getJsonElements = function () {\n        var _a;\n        return _a = {}, _a[ISurveyComponent.JSON_INTERCEPT_KEYNAME] = "", _a;\n    };\n    // @Override\n    InterceptComponent.prototype.getComponentJson = function () {\n        var _a;\n        return _a = {},\n            _a[ISurveyComponent.JSON_TITLE_KEYNAME] = this.getTitle(),\n            _a[ISurveyComponent.JSON_QUESTION_KEYNAME] = this.getQuestion(),\n            _a[ISurveyComponent.JSON_INTERCEPTURL_KEYNAME] = this.getUrl(),\n            _a;\n    };\n    return InterceptComponent;\n}());\n(function (InterceptComponent) {\n    var InterceptComponentData = /** @class */ (function () {\n        function InterceptComponentData() {\n        }\n        return InterceptComponentData;\n    }());\n    InterceptComponent.InterceptComponentData = InterceptComponentData;\n})(InterceptComponent || (InterceptComponent = {}));\nmodule.exports = InterceptComponent;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleUNvbXBvbmVudHMvSW50ZXJjZXB0Q29tcG9uZW50LnRzPzMyNDgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLCtIQUE0RDtBQUc1RDtJQVdDLDRCQUFtQixJQUErQztRQUNqRSxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1YsTUFBTSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1NBQ3pDO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDbkIsTUFBTSxJQUFJLEtBQUssQ0FBQyx5Q0FBeUMsQ0FBQyxDQUFDO1NBQzNEO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDaEIsTUFBTSxJQUFJLEtBQUssQ0FBQyxzQ0FBc0MsQ0FBQyxDQUFDO1NBQ3hEO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDZCxNQUFNLElBQUksS0FBSyxDQUFDLG9DQUFvQyxDQUFDLENBQUM7U0FDdEQ7UUFFRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNsQixDQUFDO0lBekJhLHVCQUFJLEdBQWxCLFVBQW1CLElBQStDO1FBQ2pFLElBQUk7WUFDSCxPQUFPLElBQUksa0JBQWtCLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDcEM7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNYLE9BQU8sSUFBSSxDQUFDO1NBQ1o7SUFDRixDQUFDO0lBcUJELFlBQVk7SUFDTCxvQ0FBTyxHQUFkO1FBQ0MsbUNBQXVDO0lBQ3hDLENBQUM7SUFFRCxZQUFZO0lBQ0wscUNBQVEsR0FBZjtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDeEIsQ0FBQztJQUVELFlBQVk7SUFDTCx3Q0FBVyxHQUFsQjtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDM0IsQ0FBQztJQUVELFlBQVk7SUFDTCxtQ0FBTSxHQUFiO1FBQ0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQztJQUN0QixDQUFDO0lBRUQsWUFBWTtJQUNMLDJDQUFjLEdBQXJCLFVBQXNCLEdBQWE7UUFDbEMsSUFBSSxDQUFDLEdBQUcsRUFBRTtZQUNULE1BQU0sSUFBSSxLQUFLLENBQUMsMkJBQTJCLENBQUMsQ0FBQztTQUM3QztRQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLGdCQUFnQixDQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQztJQUNwRSxDQUFDO0lBRUQsWUFBWTtJQUNMLDRDQUFlLEdBQXRCOztRQUNDLGdCQUFRLEdBQUMsZ0JBQWdCLENBQUMsc0JBQXNCLElBQUcsRUFBRSxLQUFFO0lBQ3hELENBQUM7SUFFRCxZQUFZO0lBQ0wsNkNBQWdCLEdBQXZCOztRQUNDO1lBQ0MsR0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsSUFBRyxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ3RELEdBQUMsZ0JBQWdCLENBQUMscUJBQXFCLElBQUcsSUFBSSxDQUFDLFdBQVcsRUFBRTtZQUM1RCxHQUFDLGdCQUFnQixDQUFDLHlCQUF5QixJQUFHLElBQUksQ0FBQyxNQUFNLEVBQUU7ZUFDMUQ7SUFDSCxDQUFDO0lBQ0YseUJBQUM7QUFBRCxDQUFDO0FBRUQsV0FBTyxrQkFBa0I7SUFDeEI7UUFBQTtRQUlBLENBQUM7UUFBRCw2QkFBQztJQUFELENBQUM7SUFKWSx5Q0FBc0IseUJBSWxDO0FBQ0YsQ0FBQyxFQU5NLGtCQUFrQixLQUFsQixrQkFBa0IsUUFNeEI7QUFFRCxpQkFBUyxrQkFBa0IsQ0FBQyIsImZpbGUiOiIuLi9GbG9vZGdhdGVDb3JlL2Rpc3Qvc3JjL1N1cnZleUNvbXBvbmVudHMvSW50ZXJjZXB0Q29tcG9uZW50LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgSVN1cnZleUNvbXBvbmVudCBmcm9tIFwiLi4vQXBpL0lTdXJ2ZXlDb21wb25lbnRcIjtcclxuaW1wb3J0IHsgSUludGVyY2VwdENvbXBvbmVudCB9IGZyb20gXCIuLy4uL0FwaS9JSW50ZXJjZXB0Q29tcG9uZW50XCI7XHJcblxyXG5jbGFzcyBJbnRlcmNlcHRDb21wb25lbnQgaW1wbGVtZW50cyBJSW50ZXJjZXB0Q29tcG9uZW50IHtcclxuXHRwdWJsaWMgc3RhdGljIG1ha2UoZGF0YTogSW50ZXJjZXB0Q29tcG9uZW50LkludGVyY2VwdENvbXBvbmVudERhdGEpOiBJSW50ZXJjZXB0Q29tcG9uZW50IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdHJldHVybiBuZXcgSW50ZXJjZXB0Q29tcG9uZW50KGRhdGEpO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZGF0YTogSW50ZXJjZXB0Q29tcG9uZW50LkludGVyY2VwdENvbXBvbmVudERhdGE7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihkYXRhOiBJbnRlcmNlcHRDb21wb25lbnQuSW50ZXJjZXB0Q29tcG9uZW50RGF0YSkge1xyXG5cdFx0aWYgKCFkYXRhKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghZGF0YS5xdWVzdGlvbikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhLnF1ZXN0aW9uIG11c3Qgbm90IGJlIG51bGwgb3IgZW1wdHlcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIWRhdGEudGl0bGUpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiZGF0YS50aXRsZSBtdXN0IG5vdCBiZSBudWxsIG9yIGVtcHR5XCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFkYXRhLnVybCkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhLnVybCBtdXN0IG5vdCBiZSBudWxsIG9yIGVtcHR5XCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuZGF0YSA9IGRhdGE7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0VHlwZSgpOiBJU3VydmV5Q29tcG9uZW50LlR5cGUge1xyXG5cdFx0cmV0dXJuIElTdXJ2ZXlDb21wb25lbnQuVHlwZS5JbnRlcmNlcHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0VGl0bGUoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEudGl0bGU7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0UXVlc3Rpb24oKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEucXVlc3Rpb247XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0VXJsKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5kYXRhLnVybDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXREb21FbGVtZW50cyhkb2M6IERvY3VtZW50KTogRWxlbWVudFtdICB7XHJcblx0XHRpZiAoIWRvYykge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJEb2N1bWVudCBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIFtkb2MuY3JlYXRlRWxlbWVudChJU3VydmV5Q29tcG9uZW50LkRPTV9JTlRFUkNFUFRfVEFHTkFNRSldO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldEpzb25FbGVtZW50cygpOiBvYmplY3Qge1xyXG5cdFx0cmV0dXJuIHtbSVN1cnZleUNvbXBvbmVudC5KU09OX0lOVEVSQ0VQVF9LRVlOQU1FXTogXCJcIn07XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0Q29tcG9uZW50SnNvbigpOiBvYmplY3Qge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0W0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9USVRMRV9LRVlOQU1FXTogdGhpcy5nZXRUaXRsZSgpLFxyXG5cdFx0XHRbSVN1cnZleUNvbXBvbmVudC5KU09OX1FVRVNUSU9OX0tFWU5BTUVdOiB0aGlzLmdldFF1ZXN0aW9uKCksXHJcblx0XHRcdFtJU3VydmV5Q29tcG9uZW50LkpTT05fSU5URVJDRVBUVVJMX0tFWU5BTUVdOiB0aGlzLmdldFVybCgpLFxyXG5cdFx0fTtcclxuXHR9XHJcbn1cclxuXHJcbm1vZHVsZSBJbnRlcmNlcHRDb21wb25lbnQge1xyXG5cdGV4cG9ydCBjbGFzcyBJbnRlcmNlcHRDb21wb25lbnREYXRhIHtcclxuXHRcdHB1YmxpYyBxdWVzdGlvbjogc3RyaW5nO1xyXG5cdFx0cHVibGljIHRpdGxlOiBzdHJpbmc7XHJcblx0XHRwdWJsaWMgdXJsOiBzdHJpbmc7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgPSBJbnRlcmNlcHRDb21wb25lbnQ7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyComponents/InterceptComponent.js\n')},"../FloodgateCore/dist/src/SurveyComponents/MultipleChoiceComponent.js":function(module,exports,__webpack_require__){"use strict";eval('\nvar ISurveyComponent = __webpack_require__(/*! ../Api/ISurveyComponent */ "../FloodgateCore/dist/src/Api/ISurveyComponent.js");\nvar MultipleChoiceComponent = /** @class */ (function () {\n    function MultipleChoiceComponent(data) {\n        if (!data) {\n            throw new Error("data must not be null");\n        }\n        if (!data.question) {\n            throw new Error("data.question must not be null or empty");\n        }\n        if (!data.availableOptions || data.availableOptions.length < 2) {\n            throw new Error("data.availableOptions must not be null or have less than two choices");\n        }\n        data.availableOptions.forEach(function (option) {\n            if (!option) {\n                throw new Error("Option values must not contain null or empty");\n            }\n        });\n        this.data = data;\n        this.optionStates = new Array(data.availableOptions.length);\n        // Initialize with all false values\n        for (var i = 0; i < this.optionStates.length; i++) {\n            this.optionStates[i] = false;\n        }\n    }\n    MultipleChoiceComponent.make = function (data) {\n        try {\n            return new MultipleChoiceComponent(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    MultipleChoiceComponent.prototype.getType = function () {\n        return "MultipleChoice" /* MultipleChoice */;\n    };\n    MultipleChoiceComponent.prototype.getQuestion = function () {\n        return this.data.question;\n    };\n    MultipleChoiceComponent.prototype.getAvailableOptions = function () {\n        return this.data.availableOptions;\n    };\n    MultipleChoiceComponent.prototype.getOptionSelectedStates = function () {\n        return this.optionStates;\n    };\n    MultipleChoiceComponent.prototype.getMinNumberofSelectedOptions = function () {\n        return this.data.minNumberOfSelectedOptions;\n    };\n    MultipleChoiceComponent.prototype.getMaxNumberofSelectedOptions = function () {\n        return this.data.maxNumberOfSelectedOptions;\n    };\n    MultipleChoiceComponent.prototype.setOptionSelectedStates = function (selectedStates) {\n        for (var i = 0; i < selectedStates.length; i++) {\n            this.optionStates[i] = selectedStates[i];\n        }\n    };\n    MultipleChoiceComponent.prototype.ValidateMinNumberofSelectedOptions = function () {\n        var result = 0;\n        this.optionStates.forEach(function (element) {\n            if (element) {\n                result++;\n            }\n        });\n        return (result >= this.getMinNumberofSelectedOptions());\n    };\n    MultipleChoiceComponent.prototype.ValidateMaxNumberofSelectedOptions = function () {\n        var result = 0;\n        this.optionStates.forEach(function (element) {\n            if (element) {\n                result++;\n            }\n        });\n        return (result <= this.getMaxNumberofSelectedOptions());\n    };\n    MultipleChoiceComponent.prototype.getDomElements = function (doc) {\n        if (!doc) {\n            throw new Error("Document must not be null");\n        }\n        var element = doc.createElement(ISurveyComponent.DOM_MULTIPLECHOICE_TAGNAME);\n        element.appendChild(doc.createTextNode(this.getOptionSelectedStates().toString()));\n        return [element];\n    };\n    // @Override\n    MultipleChoiceComponent.prototype.getJsonElements = function () {\n        var result = {};\n        result[ISurveyComponent.JSON_MULTIPLECHOICE_KEYNAME] = this.getOptionSelectedStates().toString();\n        return result;\n    };\n    // @Override\n    MultipleChoiceComponent.prototype.getComponentJson = function () {\n        var _a;\n        return _a = {},\n            _a[ISurveyComponent.JSON_QUESTION_KEYNAME] = this.getQuestion(),\n            _a[ISurveyComponent.JSON_RATINGOPTIONS_KEYNAME] = this.getAvailableOptions(),\n            _a;\n    };\n    return MultipleChoiceComponent;\n}());\n(function (MultipleChoiceComponent) {\n    var MultipleChoiceComponentData = /** @class */ (function () {\n        function MultipleChoiceComponentData() {\n        }\n        return MultipleChoiceComponentData;\n    }());\n    MultipleChoiceComponent.MultipleChoiceComponentData = MultipleChoiceComponentData;\n})(MultipleChoiceComponent || (MultipleChoiceComponent = {}));\nmodule.exports = MultipleChoiceComponent;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleUNvbXBvbmVudHMvTXVsdGlwbGVDaG9pY2VDb21wb25lbnQudHM/MDBkNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsK0hBQTREO0FBRzVEO0lBWUMsaUNBQW1CLElBQXlEO1FBQzNFLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDVixNQUFNLElBQUksS0FBSyxDQUFDLHVCQUF1QixDQUFDLENBQUM7U0FDekM7UUFDRCxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNuQixNQUFNLElBQUksS0FBSyxDQUFDLHlDQUF5QyxDQUFDLENBQUM7U0FDM0Q7UUFDRCxJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixJQUFJLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1lBQy9ELE1BQU0sSUFBSSxLQUFLLENBQUMsc0VBQXNFLENBQUMsQ0FBQztTQUN4RjtRQUVELElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsVUFBQyxNQUFNO1lBQ3BDLElBQUksQ0FBQyxNQUFNLEVBQUU7Z0JBQ1osTUFBTSxJQUFJLEtBQUssQ0FBQyw4Q0FBOEMsQ0FBQyxDQUFDO2FBQ2hFO1FBQ0YsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksS0FBSyxDQUFVLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNyRSxtQ0FBbUM7UUFDbkMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ2xELElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDO1NBQzdCO0lBQ0YsQ0FBQztJQWxDYSw0QkFBSSxHQUFsQixVQUFtQixJQUF5RDtRQUMzRSxJ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LENBQUM7QUFFRCxXQUFPLHVCQUF1QjtJQUM3QjtRQUFBO1FBS0EsQ0FBQztRQUFELGtDQUFDO0lBQUQsQ0FBQztJQUxZLG1EQUEyQiw4QkFLdkM7QUFDRixDQUFDLEVBUE0sdUJBQXVCLEtBQXZCLHVCQUF1QixRQU83QjtBQUVELGlCQUFTLHVCQUF1QixDQUFDIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5Q29tcG9uZW50cy9NdWx0aXBsZUNob2ljZUNvbXBvbmVudC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIElTdXJ2ZXlDb21wb25lbnQgZnJvbSBcIi4uL0FwaS9JU3VydmV5Q29tcG9uZW50XCI7XHJcbmltcG9ydCB7IElNdWx0aXBsZUNob2ljZUNvbXBvbmVudCB9IGZyb20gXCIuLy4uL0FwaS9JTXVsdGlwbGVDaG9pY2VDb21wb25lbnRcIjtcclxuXHJcbmNsYXNzIE11bHRpcGxlQ2hvaWNlQ29tcG9uZW50IGltcGxlbWVudHMgSU11bHRpcGxlQ2hvaWNlQ29tcG9uZW50IHtcclxuXHRwdWJsaWMgc3RhdGljIG1ha2UoZGF0YTogTXVsdGlwbGVDaG9pY2VDb21wb25lbnQuTXVsdGlwbGVDaG9pY2VDb21wb25lbnREYXRhKTogSU11bHRpcGxlQ2hvaWNlQ29tcG9uZW50IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdHJldHVybiBuZXcgTXVsdGlwbGVDaG9pY2VDb21wb25lbnQoZGF0YSk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBkYXRhOiBNdWx0aXBsZUNob2ljZUNvbXBvbmVudC5NdWx0aXBsZUNob2ljZUNvbXBvbmVudERhdGE7XHJcblx0cHJpdmF0ZSBvcHRpb25TdGF0ZXM6IGJvb2xlYW5bXTtcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKGRhdGE6IE11bHRpcGxlQ2hvaWNlQ29tcG9uZW50Lk11bHRpcGxlQ2hvaWNlQ29tcG9uZW50RGF0YSkge1xyXG5cdFx0aWYgKCFkYXRhKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghZGF0YS5xdWVzdGlvbikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhLnF1ZXN0aW9uIG11c3Qgbm90IGJlIG51bGwgb3IgZW1wdHlcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIWRhdGEuYXZhaWxhYmxlT3B0aW9ucyB8fCBkYXRhLmF2YWlsYWJsZU9wdGlvbnMubGVuZ3RoIDwgMikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhLmF2YWlsYWJsZU9wdGlvbnMgbXVzdCBub3QgYmUgbnVsbCBvciBoYXZlIGxlc3MgdGhhbiB0d28gY2hvaWNlc1wiKTtcclxuXHRcdH1cclxuXHJcblx0XHRkYXRhLmF2YWlsYWJsZU9wdGlvbnMuZm9yRWFjaCgob3B0aW9uKSA9PiB7XHJcblx0XHRcdGlmICghb3B0aW9uKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiT3B0aW9uIHZhbHVlcyBtdXN0IG5vdCBjb250YWluIG51bGwgb3IgZW1wdHlcIik7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHRoaXMuZGF0YSA9IGRhdGE7XHJcblx0XHR0aGlzLm9wdGlvblN0YXRlcyA9IG5ldyBBcnJheTxib29sZWFuPihkYXRhLmF2YWlsYWJsZU9wdGlvbnMubGVuZ3RoKTtcclxuXHRcdC8vIEluaXRpYWxpemUgd2l0aCBhbGwgZmFsc2UgdmFsdWVzXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub3B0aW9uU3RhdGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHRoaXMub3B0aW9uU3RhdGVzW2ldID0gZmFsc2U7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0VHlwZSgpOiBJU3VydmV5Q29tcG9uZW50LlR5cGUge1xyXG5cdFx0cmV0dXJuIElTdXJ2ZXlDb21wb25lbnQuVHlwZS5NdWx0aXBsZUNob2ljZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRRdWVzdGlvbigpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5xdWVzdGlvbjtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRBdmFpbGFibGVPcHRpb25zKCk6IHN0cmluZ1tdIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEuYXZhaWxhYmxlT3B0aW9ucztcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRPcHRpb25TZWxlY3RlZFN0YXRlcygpOiBib29sZWFuW10ge1xyXG5cdFx0cmV0dXJuIHRoaXMub3B0aW9uU3RhdGVzO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldE1pbk51bWJlcm9mU2VsZWN0ZWRPcHRpb25zKCk6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gdGhpcy5kYXRhLm1pbk51bWJlck9mU2VsZWN0ZWRPcHRpb25zO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldE1heE51bWJlcm9mU2VsZWN0ZWRPcHRpb25zKCk6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gdGhpcy5kYXRhLm1heE51bWJlck9mU2VsZWN0ZWRPcHRpb25zO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNldE9wdGlvblNlbGVjdGVkU3RhdGVzKHNlbGVjdGVkU3RhdGVzOiBib29sZWFuW10pOiB2b2lkIHtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0ZWRTdGF0ZXMubGVuZ3RoOyBpICsrKSB7XHJcblx0XHRcdHRoaXMub3B0aW9uU3RhdGVzW2ldID0gc2VsZWN0ZWRTdGF0ZXNbaV07XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgVmFsaWRhdGVNaW5OdW1iZXJvZlNlbGVjdGVkT3B0aW9ucygpOiBib29sZWFuIHtcclxuXHRcdGxldCByZXN1bHQ6IG51bWJlciA9IDA7XHJcblx0XHR0aGlzLm9wdGlvblN0YXRlcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcblx0XHRcdGlmIChlbGVtZW50KSB7XHJcblx0XHRcdFx0cmVzdWx0Kys7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHJldHVybiAocmVzdWx0ID49IHRoaXMuZ2V0TWluTnVtYmVyb2ZTZWxlY3RlZE9wdGlvbnMoKSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgVmFsaWRhdGVNYXhOdW1iZXJvZlNlbGVjdGVkT3B0aW9ucygpOiBib29sZWFuIHtcclxuXHRcdGxldCByZXN1bHQ6IG51bWJlciA9IDA7XHJcblx0XHR0aGlzLm9wdGlvblN0YXRlcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcblx0XHRcdGlmIChlbGVtZW50KSB7XHJcblx0XHRcdFx0cmVzdWx0Kys7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHJldHVybiAocmVzdWx0IDw9IHRoaXMuZ2V0TWF4TnVtYmVyb2ZTZWxlY3RlZE9wdGlvbnMoKSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0RG9tRWxlbWVudHMoZG9jOiBEb2N1bWVudCk6IEVsZW1lbnRbXSB7XHJcblx0XHRpZiAoIWRvYykge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJEb2N1bWVudCBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGVsZW1lbnQ6IEVsZW1lbnQgPSBkb2MuY3JlYXRlRWxlbWVudChJU3VydmV5Q29tcG9uZW50LkRPTV9NVUxUSVBMRUNIT0lDRV9UQUdOQU1FKTtcclxuXHJcblx0XHRlbGVtZW50LmFwcGVuZENoaWxkKGRvYy5jcmVhdGVUZXh0Tm9kZSh0aGlzLmdldE9wdGlvblNlbGVjdGVkU3RhdGVzKCkudG9TdHJpbmcoKSkpO1xyXG5cclxuXHRcdHJldHVybiBbZWxlbWVudF07XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0SnNvbkVsZW1lbnRzKCk6IG9iamVjdCB7XHJcblx0XHRjb25zdCByZXN1bHQ6IG9iamVjdCA9IHt9O1xyXG5cdFx0cmVzdWx0W0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9NVUxUSVBMRUNIT0lDRV9LRVlOQU1FXSA9IHRoaXMuZ2V0T3B0aW9uU2VsZWN0ZWRTdGF0ZXMoKS50b1N0cmluZygpO1xyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0Q29tcG9uZW50SnNvbigpOiBvYmplY3Qge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0W0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9RVUVTVElPTl9LRVlOQU1FXTogdGhpcy5nZXRRdWVzdGlvbigpLFxyXG5cdFx0XHRbSVN1cnZleUNvbXBvbmVudC5KU09OX1JBVElOR09QVElPTlNfS0VZTkFNRV06IHRoaXMuZ2V0QXZhaWxhYmxlT3B0aW9ucygpLFxyXG5cdFx0fTtcclxuXHR9XHJcbn1cclxuXHJcbm1vZHVsZSBNdWx0aXBsZUNob2ljZUNvbXBvbmVudCB7XHJcblx0ZXhwb3J0IGNsYXNzIE11bHRpcGxlQ2hvaWNlQ29tcG9uZW50RGF0YSB7XHJcblx0XHRwdWJsaWMgcXVlc3Rpb246IHN0cmluZztcclxuXHRcdHB1YmxpYyBhdmFpbGFibGVPcHRpb25zOiBzdHJpbmdbXTtcclxuXHRcdHB1YmxpYyBtaW5OdW1iZXJPZlNlbGVjdGVkT3B0aW9uczogbnVtYmVyO1xyXG5cdFx0cHVibGljIG1heE51bWJlck9mU2VsZWN0ZWRPcHRpb25zOiBudW1iZXI7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgPSBNdWx0aXBsZUNob2ljZUNvbXBvbmVudDtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyComponents/MultipleChoiceComponent.js\n')},"../FloodgateCore/dist/src/SurveyComponents/PromptComponent.js":function(module,exports,__webpack_require__){"use strict";eval('\nvar ISurveyComponent = __webpack_require__(/*! ../Api/ISurveyComponent */ "../FloodgateCore/dist/src/Api/ISurveyComponent.js");\nvar PromptComponent = /** @class */ (function () {\n    function PromptComponent(data) {\n        if (!data) {\n            throw new Error("data must not be null");\n        }\n        if (!data.question) {\n            throw new Error("data.question must not be null or empty");\n        }\n        if (!data.title) {\n            throw new Error("data.title must not be null or empty");\n        }\n        if (!data.yesButtonLabel) {\n            throw new Error("data.yesButtonLabel must not be null or empty");\n        }\n        if (!data.noButtonLabel) {\n            throw new Error("data.noButtonLabel must not be null or empty");\n        }\n        this.data = data;\n        this.selectedButton = 0 /* Unselected */;\n    }\n    PromptComponent.make = function (data) {\n        try {\n            return new PromptComponent(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    // @Override\n    PromptComponent.prototype.getType = function () {\n        return "Prompt" /* Prompt */;\n    };\n    // @Override\n    PromptComponent.prototype.getTitle = function () {\n        return this.data.title;\n    };\n    // @Override\n    PromptComponent.prototype.getQuestion = function () {\n        return this.data.question;\n    };\n    // @Override\n    PromptComponent.prototype.getYesButtonText = function () {\n        return this.data.yesButtonLabel;\n    };\n    // @Override\n    PromptComponent.prototype.getNoButtonText = function () {\n        return this.data.noButtonLabel;\n    };\n    // @Override\n    PromptComponent.prototype.setButtonSelected = function (selected) {\n        if (selected) {\n            this.selectedButton = selected;\n        }\n    };\n    // @Override\n    PromptComponent.prototype.getButtonSelected = function () {\n        return this.selectedButton;\n    };\n    // @Override\n    PromptComponent.prototype.getDomElements = function (doc) {\n        if (!doc) {\n            throw new Error("Document must not be null");\n        }\n        var element = doc.createElement(ISurveyComponent.DOM_PROMPT_TAGNAME);\n        element.appendChild(doc.createTextNode(this.promptButtonToString(this.getButtonSelected())));\n        return [element];\n    };\n    // @Override\n    PromptComponent.prototype.getJsonElements = function () {\n        var result = {};\n        result[ISurveyComponent.JSON_PROMPT_KEYNAME] = this.promptButtonToString(this.getButtonSelected());\n        return result;\n    };\n    // @Override\n    PromptComponent.prototype.getComponentJson = function () {\n        var _a;\n        return _a = {},\n            _a[ISurveyComponent.JSON_TITLE_KEYNAME] = this.getTitle(),\n            _a[ISurveyComponent.JSON_QUESTION_KEYNAME] = this.getQuestion(),\n            _a[ISurveyComponent.JSON_PROMPTYESTEXT_KEYNAME] = this.getYesButtonText(),\n            _a[ISurveyComponent.JSON_PROMPTNOTEXT_KEYNAME] = this.getNoButtonText(),\n            _a;\n    };\n    PromptComponent.prototype.promptButtonToString = function (value) {\n        switch (value) {\n            case 0 /* Unselected */:\n                return "Unselected";\n            case 1 /* Yes */:\n                return "Yes";\n            case 2 /* No */:\n                return "No";\n            default:\n                return "Unknown";\n        }\n    };\n    return PromptComponent;\n}());\n(function (PromptComponent) {\n    var PromptComponentData = /** @class */ (function () {\n        function PromptComponentData() {\n        }\n        return PromptComponentData;\n    }());\n    PromptComponent.PromptComponentData = PromptComponentData;\n})(PromptComponent || (PromptComponent = {}));\nmodule.exports = PromptComponent;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleUNvbXBvbmVudHMvUHJvbXB0Q29tcG9uZW50LnRzPzRjZTMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLCtIQUE0RDtBQUk1RDtJQVlDLHlCQUFtQixJQUF5QztRQUMzRCxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1YsTUFBTSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1NBQ3pDO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDbkIsTUFBTSxJQUFJLEtBQUssQ0FBQyx5Q0FBeUMsQ0FBQyxDQUFDO1NBQzNEO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDaEIsTUFBTSxJQUFJLEtBQUssQ0FBQyxzQ0FBc0MsQ0FBQyxDQUFDO1NBQ3hEO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUU7WUFDekIsTUFBTSxJQUFJLEtBQUssQ0FBQywrQ0FBK0MsQ0FBQyxDQUFDO1NBQ2pFO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUU7WUFDeEIsTUFBTSxJQUFJLEtBQUssQ0FBQyw4Q0FBOEMsQ0FBQyxDQUFDO1NBQ2hFO1FBRUQsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLGNBQWMscUJBQWtDLENBQUM7SUFDdkQsQ0FBQztJQTlCYSxvQkFBSSxHQUFsQixVQUFtQixJQUF5QztRQUMzRCxJQUFJO1lBQ0gsT0FBTyxJQUFJLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNqQztRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1gsT0FBTyxJQUFJLENBQUM7U0FDWjtJQUNGLENBQUM7SUEwQkQsWUFBWTtJQUNMLGlDQUFPLEdBQWQ7UUFDQyw2QkFBb0M7SUFDckMsQ0FBQztJQUVELFlBQVk7SUFDTCxrQ0FBUSxHQUFmO1FBQ0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztJQUN4QixDQUFDO0lBRUQsWUFBWTtJQUNMLHFDQUFXLEdBQWxCO1FBQ0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUMzQixDQUFDO0lBRUQsWUFBWTtJQUNMLDBDQUFnQixHQUF2QjtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUM7SUFDakMsQ0FBQztJQUVELFlBQVk7SUFDTCx5Q0FBZSxHQUF0QjtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUM7SUFDaEMsQ0FBQztJQUVELFlBQVk7SUFDTCwyQ0FBaUIsR0FBeEIsVUFBeUIsUUFBOEI7UUFDdEQsSUFBSSxRQUFRLEVBQUU7WUFDYixJQUFJLENBQUMsY0FBYyxHQUFHLFFBQVEsQ0FBQztTQUMvQjtJQUNGLENBQUM7SUFFRCxZQUFZO0lBQ0wsMkNBQWlCLEdBQXhCO1FBQ0MsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDO0lBQzVCLENBQUM7SUFFRCxZQUFZO0lBQ0wsd0NBQWMsR0FBckIsVUFBc0IsR0FBYTtRQUNsQyxJQUFJLENBQUMsR0FBRyxFQUFFO1lBQ1QsTUFBTSxJQUFJLEtBQUssQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO1NBQzdDO1FBRUQsSUFBTSxPQUFPLEdBQVksR0FBRyxDQUFDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQ2hGLE9BQU8sQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFN0YsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ2xCLENBQUM7SUFFRCxZQUFZO0lBQ0wseUNBQWUsR0FBdEI7UUFDQyxJQUFNLE1BQU0sR0FBVyxFQUFFLENBQUM7UUFDMUIsTUFBTSxDQUFDLGdCQUFnQixDQUFDLG1CQUFtQixDQUFDLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUM7UUFDbkcsT0FBTyxNQUFNLENBQUM7SUFDZixDQUFDO0lBRUQsWUFBWTtJQUNMLDBDQUFnQixHQUF2Qjs7UUFDQztZQUNDLEdBQUMsZ0JBQWdCLENBQUMsa0JBQWtCLElBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUN0RCxHQUFDLGdCQUFnQixDQUFDLHFCQUFxQixJQUFHLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDNUQsR0FBQyxnQkFBZ0IsQ0FBQywwQkFBMEIsSUFBRyxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7WUFDdEUsR0FBQyxnQkFBZ0IsQ0FBQyx5QkFBeUIsSUFBRyxJQUFJLENBQUMsZUFBZSxFQUFFO2VBQ25FO0lBQ0gsQ0FBQztJQUVPLDhDQUFvQixHQUE1QixVQUE2QixLQUEyQjtRQUN2RCxRQUFRLEtBQUssRUFBRTtZQUNkO2dCQUNDLE9BQU8sWUFBWSxDQUFDO1lBQ3JCO2dCQUNDLE9BQU8sS0FBSyxDQUFDO1lBQ2Q7Z0JBQ0MsT0FBTyxJQUFJLENBQUM7WUFDYjtnQkFDQyxPQUFPLFNBQVMsQ0FBQztTQUNsQjtJQUNGLENBQUM7SUFDRixzQkFBQztBQUFELENBQUM7QUFFRCxXQUFPLGVBQWU7SUFDckI7UUFBQTtRQUtBLENBQUM7UUFBRCwwQkFBQztJQUFELENBQUM7SUFMWSxtQ0FBbUIsc0JBSy9CO0FBQ0YsQ0FBQyxFQVBNLGVBQWUsS0FBZixlQUFlLFFBT3JCO0FBRUQsaUJBQVMsZUFBZSxDQUFDIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5Q29tcG9uZW50cy9Qcm9tcHRDb21wb25lbnQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBJU3VydmV5Q29tcG9uZW50IGZyb20gXCIuLi9BcGkvSVN1cnZleUNvbXBvbmVudFwiO1xyXG5pbXBvcnQgKiBhcyBJUHJvbXB0IGZyb20gXCIuLy4uL0FwaS9JUHJvbXB0XCI7XHJcbmltcG9ydCB7IElQcm9tcHRDb21wb25lbnQgfSBmcm9tIFwiLi8uLi9BcGkvSVByb21wdENvbXBvbmVudFwiO1xyXG5cclxuY2xhc3MgUHJvbXB0Q29tcG9uZW50IGltcGxlbWVudHMgSVByb21wdENvbXBvbmVudCB7XHJcblx0cHVibGljIHN0YXRpYyBtYWtlKGRhdGE6IFByb21wdENvbXBvbmVudC5Qcm9tcHRDb21wb25lbnREYXRhKTogSVByb21wdENvbXBvbmVudCB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRyZXR1cm4gbmV3IFByb21wdENvbXBvbmVudChkYXRhKTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGRhdGE6IFByb21wdENvbXBvbmVudC5Qcm9tcHRDb21wb25lbnREYXRhO1xyXG5cdHByaXZhdGUgc2VsZWN0ZWRCdXR0b246IElQcm9tcHQuUHJvbXB0QnV0dG9uO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoZGF0YTogUHJvbXB0Q29tcG9uZW50LlByb21wdENvbXBvbmVudERhdGEpIHtcclxuXHRcdGlmICghZGF0YSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIWRhdGEucXVlc3Rpb24pIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiZGF0YS5xdWVzdGlvbiBtdXN0IG5vdCBiZSBudWxsIG9yIGVtcHR5XCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFkYXRhLnRpdGxlKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEudGl0bGUgbXVzdCBub3QgYmUgbnVsbCBvciBlbXB0eVwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghZGF0YS55ZXNCdXR0b25MYWJlbCkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhLnllc0J1dHRvbkxhYmVsIG11c3Qgbm90IGJlIG51bGwgb3IgZW1wdHlcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIWRhdGEubm9CdXR0b25MYWJlbCkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhLm5vQnV0dG9uTGFiZWwgbXVzdCBub3QgYmUgbnVsbCBvciBlbXB0eVwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmRhdGEgPSBkYXRhO1xyXG5cdFx0dGhpcy5zZWxlY3RlZEJ1dHRvbiA9IElQcm9tcHQuUHJvbXB0QnV0dG9uLlVuc2VsZWN0ZWQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0VHlwZSgpOiBJU3VydmV5Q29tcG9uZW50LlR5cGUge1xyXG5cdFx0cmV0dXJuIElTdXJ2ZXlDb21wb25lbnQuVHlwZS5Qcm9tcHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0VGl0bGUoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEudGl0bGU7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0UXVlc3Rpb24oKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEucXVlc3Rpb247XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0WWVzQnV0dG9uVGV4dCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS55ZXNCdXR0b25MYWJlbDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXROb0J1dHRvblRleHQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEubm9CdXR0b25MYWJlbDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBzZXRCdXR0b25TZWxlY3RlZChzZWxlY3RlZDogSVByb21wdC5Qcm9tcHRCdXR0b24pOiB2b2lkIHtcclxuXHRcdGlmIChzZWxlY3RlZCkge1xyXG5cdFx0XHR0aGlzLnNlbGVjdGVkQnV0dG9uID0gc2VsZWN0ZWQ7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0QnV0dG9uU2VsZWN0ZWQoKTogSVByb21wdC5Qcm9tcHRCdXR0b24ge1xyXG5cdFx0cmV0dXJuIHRoaXMuc2VsZWN0ZWRCdXR0b247XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0RG9tRWxlbWVudHMoZG9jOiBEb2N1bWVudCk6IEVsZW1lbnRbXSAge1xyXG5cdFx0aWYgKCFkb2MpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiRG9jdW1lbnQgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBlbGVtZW50OiBFbGVtZW50ID0gZG9jLmNyZWF0ZUVsZW1lbnQoSVN1cnZleUNvbXBvbmVudC5ET01fUFJPTVBUX1RBR05BTUUpO1xyXG5cdFx0ZWxlbWVudC5hcHBlbmRDaGlsZChkb2MuY3JlYXRlVGV4dE5vZGUodGhpcy5wcm9tcHRCdXR0b25Ub1N0cmluZyh0aGlzLmdldEJ1dHRvblNlbGVjdGVkKCkpKSk7XHJcblxyXG5cdFx0cmV0dXJuIFtlbGVtZW50XTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRKc29uRWxlbWVudHMoKTogb2JqZWN0IHtcclxuXHRcdGNvbnN0IHJlc3VsdDogb2JqZWN0ID0ge307XHJcblx0XHRyZXN1bHRbSVN1cnZleUNvbXBvbmVudC5KU09OX1BST01QVF9LRVlOQU1FXSA9IHRoaXMucHJvbXB0QnV0dG9uVG9TdHJpbmcodGhpcy5nZXRCdXR0b25TZWxlY3RlZCgpKTtcclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0Q29tcG9uZW50SnNvbigpOiBvYmplY3Qge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0W0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9USVRMRV9LRVlOQU1FXTogdGhpcy5nZXRUaXRsZSgpLFxyXG5cdFx0XHRbSVN1cnZleUNvbXBvbmVudC5KU09OX1FVRVNUSU9OX0tFWU5BTUVdOiB0aGlzLmdldFF1ZXN0aW9uKCksXHJcblx0XHRcdFtJU3VydmV5Q29tcG9uZW50LkpTT05fUFJPTVBUWUVTVEVYVF9LRVlOQU1FXTogdGhpcy5nZXRZZXNCdXR0b25UZXh0KCksXHJcblx0XHRcdFtJU3VydmV5Q29tcG9uZW50LkpTT05fUFJPTVBUTk9URVhUX0tFWU5BTUVdOiB0aGlzLmdldE5vQnV0dG9uVGV4dCgpLFxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcHJvbXB0QnV0dG9uVG9TdHJpbmcodmFsdWU6IElQcm9tcHQuUHJvbXB0QnV0dG9uKTogc3RyaW5nIHtcclxuXHRcdHN3aXRjaCAodmFsdWUpIHtcclxuXHRcdFx0Y2FzZSBJUHJvbXB0LlByb21wdEJ1dHRvbi5VbnNlbGVjdGVkOlxyXG5cdFx0XHRcdHJldHVybiBcIlVuc2VsZWN0ZWRcIjtcclxuXHRcdFx0Y2FzZSBJUHJvbXB0LlByb21wdEJ1dHRvbi5ZZXM6XHJcblx0XHRcdFx0cmV0dXJuIFwiWWVzXCI7XHJcblx0XHRcdGNhc2UgSVByb21wdC5Qcm9tcHRCdXR0b24uTm86XHJcblx0XHRcdFx0cmV0dXJuIFwiTm9cIjtcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRyZXR1cm4gXCJVbmtub3duXCI7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5tb2R1bGUgUHJvbXB0Q29tcG9uZW50IHtcclxuXHRleHBvcnQgY2xhc3MgUHJvbXB0Q29tcG9uZW50RGF0YSB7XHJcblx0XHRwdWJsaWMgcXVlc3Rpb246IHN0cmluZztcclxuXHRcdHB1YmxpYyB0aXRsZTogc3RyaW5nO1xyXG5cdFx0cHVibGljIHllc0J1dHRvbkxhYmVsOiBzdHJpbmc7XHJcblx0XHRwdWJsaWMgbm9CdXR0b25MYWJlbDogc3RyaW5nO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0ID0gUHJvbXB0Q29tcG9uZW50O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyComponents/PromptComponent.js\n')},"../FloodgateCore/dist/src/SurveyComponents/RatingComponent.js":function(module,exports,__webpack_require__){"use strict";eval('\nvar ISurveyComponent = __webpack_require__(/*! ../Api/ISurveyComponent */ "../FloodgateCore/dist/src/Api/ISurveyComponent.js");\nvar RatingComponent = /** @class */ (function () {\n    function RatingComponent(data) {\n        if (!data) {\n            throw new Error("data must not be null");\n        }\n        if (!data.question) {\n            throw new Error("data.question must not be null or empty");\n        }\n        if (!data.ratingValuesAscending || data.ratingValuesAscending.length < 2) {\n            throw new Error("data.ratingValuesAscending must not be null or have less than two choices");\n        }\n        data.ratingValuesAscending.forEach(function (rating) {\n            if (!rating) {\n                throw new Error("rating values must not contain null or empty");\n            }\n        });\n        this.data = data;\n        this.selectedIndex = -1;\n    }\n    RatingComponent.make = function (data) {\n        try {\n            return new RatingComponent(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    RatingComponent.prototype.getType = function () {\n        return "Rating" /* Rating */;\n    };\n    RatingComponent.prototype.getQuestion = function () {\n        return this.data.question;\n    };\n    RatingComponent.prototype.getRatingValuesAscending = function () {\n        return this.data.ratingValuesAscending;\n    };\n    RatingComponent.prototype.getSelectedRating = function () {\n        if (!this.isRatingIndexValid(this.selectedIndex)) {\n            return "";\n        }\n        return this.data.ratingValuesAscending[this.selectedIndex];\n    };\n    RatingComponent.prototype.setSelectedRatingIndex = function (selected) {\n        if (this.isRatingIndexValid(selected)) {\n            this.selectedIndex = selected;\n        }\n        else {\n            this.selectedIndex = -1;\n        }\n    };\n    RatingComponent.prototype.getSelectedRatingIndex = function () {\n        return this.selectedIndex;\n    };\n    RatingComponent.prototype.getDomElements = function (doc) {\n        if (!doc) {\n            throw new Error("Document must not be null");\n        }\n        var element = doc.createElement(ISurveyComponent.DOM_RATING_TAGNAME);\n        if (!this.isRatingIndexValid(this.getSelectedRatingIndex())) {\n            element.appendChild(doc.createTextNode("Not rated"));\n        }\n        else {\n            // Enforce six digits after the decimal\n            element.appendChild(doc.createTextNode(this.getNormalizedRatingScore().toFixed(6)));\n        }\n        return [element];\n    };\n    // @Override\n    RatingComponent.prototype.getJsonElements = function () {\n        var result = {};\n        if (!this.isRatingIndexValid(this.getSelectedRatingIndex())) {\n            result[ISurveyComponent.JSON_RATING_KEYNAME] = "Not rated";\n        }\n        else {\n            result[ISurveyComponent.JSON_RATING_KEYNAME] = this.getNormalizedRatingScore();\n        }\n        return result;\n    };\n    // @Override\n    RatingComponent.prototype.getComponentJson = function () {\n        var _a;\n        return _a = {},\n            _a[ISurveyComponent.JSON_QUESTION_KEYNAME] = this.getQuestion(),\n            _a[ISurveyComponent.JSON_RATINGOPTIONS_KEYNAME] = this.getRatingValuesAscending(),\n            _a;\n    };\n    RatingComponent.prototype.getNormalizedRatingScore = function () {\n        if (!this.isRatingIndexValid(this.getSelectedRatingIndex())) {\n            return -1;\n        }\n        if (this.data.isZeroBased) {\n            return (this.selectedIndex) / (this.data.ratingValuesAscending.length - 1);\n        }\n        else {\n            return (this.selectedIndex + 1.0) / this.data.ratingValuesAscending.length;\n        }\n    };\n    RatingComponent.prototype.isRatingIndexValid = function (index) {\n        return (index >= 0 && index < this.data.ratingValuesAscending.length);\n    };\n    return RatingComponent;\n}());\n(function (RatingComponent) {\n    var RatingComponentData = /** @class */ (function () {\n        function RatingComponentData() {\n        }\n        return RatingComponentData;\n    }());\n    RatingComponent.RatingComponentData = RatingComponentData;\n})(RatingComponent || (RatingComponent = {}));\nmodule.exports = RatingComponent;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleUNvbXBvbmVudHMvUmF0aW5nQ29tcG9uZW50LnRzP2UwNjQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLCtIQUE0RDtBQUc1RDtJQVlDLHlCQUFtQixJQUF5QztRQUMzRCxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1YsTUFBTSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1NBQ3pDO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDbkIsTUFBTSxJQUFJLEtBQUssQ0FBQyx5Q0FBeUMsQ0FBQyxDQUFDO1NBQzNEO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsSUFBSSxJQUFJLENBQUMscUJBQXFCLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtZQUN6RSxNQUFNLElBQUksS0FBSyxDQUFDLDJFQUEyRSxDQUFDLENBQUM7U0FDN0Y7UUFFRCxJQUFJLENBQUMscUJBQXFCLENBQUMsT0FBTyxDQUFDLFVBQUMsTUFBTTtZQUN6QyxJQUFJLENBQUMsTUFBTSxFQUFFO2dCQUNaLE1BQU0sSUFBSSxLQUFLLENBQUMsOENBQThDLENBQUMsQ0FBQzthQUNoRTtRQUNGLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUN6QixDQUFDO0lBOUJhLG9CQUFJLEdBQWxCLFVBQW1CLElBQXlDO1FBQzNELElBQUk7WUFDSCxPQUFPLElBQUksZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ2pDO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDWCxPQUFPLElBQUksQ0FBQztTQUNaO0lBQ0YsQ0FBQztJQTBCTSxpQ0FBTyxHQUFkO1FBQ0MsNkJBQW9DO0lBQ3JDLENBQUM7SUFFTSxxQ0FBVyxHQUFsQjtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7SUFD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QUMsTUFBTSxDQUFDO1NBQzNFO0lBQ0YsQ0FBQztJQUVPLDRDQUFrQixHQUExQixVQUEyQixLQUFhO1FBQ3ZDLE9BQU8sQ0FBQyxLQUFLLElBQUksQ0FBQyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3ZFLENBQUM7SUFFRixzQkFBQztBQUFELENBQUM7QUFFRCxXQUFPLGVBQWU7SUFDckI7UUFBQTtRQUlBLENBQUM7UUFBRCwwQkFBQztJQUFELENBQUM7SUFKWSxtQ0FBbUIsc0JBSS9CO0FBQ0YsQ0FBQyxFQU5NLGVBQWUsS0FBZixlQUFlLFFBTXJCO0FBRUQsaUJBQVMsZUFBZSxDQUFDIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5Q29tcG9uZW50cy9SYXRpbmdDb21wb25lbnQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBJU3VydmV5Q29tcG9uZW50IGZyb20gXCIuLi9BcGkvSVN1cnZleUNvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBJUmF0aW5nQ29tcG9uZW50IH0gZnJvbSBcIi4vLi4vQXBpL0lSYXRpbmdDb21wb25lbnRcIjtcclxuXHJcbmNsYXNzIFJhdGluZ0NvbXBvbmVudCBpbXBsZW1lbnRzIElSYXRpbmdDb21wb25lbnQge1xyXG5cdHB1YmxpYyBzdGF0aWMgbWFrZShkYXRhOiBSYXRpbmdDb21wb25lbnQuUmF0aW5nQ29tcG9uZW50RGF0YSk6IElSYXRpbmdDb21wb25lbnQge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0cmV0dXJuIG5ldyBSYXRpbmdDb21wb25lbnQoZGF0YSk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBkYXRhOiBSYXRpbmdDb21wb25lbnQuUmF0aW5nQ29tcG9uZW50RGF0YTtcclxuXHRwcml2YXRlIHNlbGVjdGVkSW5kZXg6IG51bWJlcjtcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKGRhdGE6IFJhdGluZ0NvbXBvbmVudC5SYXRpbmdDb21wb25lbnREYXRhKSB7XHJcblx0XHRpZiAoIWRhdGEpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiZGF0YSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFkYXRhLnF1ZXN0aW9uKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEucXVlc3Rpb24gbXVzdCBub3QgYmUgbnVsbCBvciBlbXB0eVwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghZGF0YS5yYXRpbmdWYWx1ZXNBc2NlbmRpbmcgfHwgZGF0YS5yYXRpbmdWYWx1ZXNBc2NlbmRpbmcubGVuZ3RoIDwgMikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhLnJhdGluZ1ZhbHVlc0FzY2VuZGluZyBtdXN0IG5vdCBiZSBudWxsIG9yIGhhdmUgbGVzcyB0aGFuIHR3byBjaG9pY2VzXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGRhdGEucmF0aW5nVmFsdWVzQXNjZW5kaW5nLmZvckVhY2goKHJhdGluZykgPT4ge1xyXG5cdFx0XHRpZiAoIXJhdGluZykge1xyXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcInJhdGluZyB2YWx1ZXMgbXVzdCBub3QgY29udGFpbiBudWxsIG9yIGVtcHR5XCIpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmRhdGEgPSBkYXRhO1xyXG5cdFx0dGhpcy5zZWxlY3RlZEluZGV4ID0gLTE7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0VHlwZSgpOiBJU3VydmV5Q29tcG9uZW50LlR5cGUge1xyXG5cdFx0cmV0dXJuIElTdXJ2ZXlDb21wb25lbnQuVHlwZS5SYXRpbmc7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0UXVlc3Rpb24oKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEucXVlc3Rpb247XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0UmF0aW5nVmFsdWVzQXNjZW5kaW5nKCk6IHN0cmluZ1tdIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEucmF0aW5nVmFsdWVzQXNjZW5kaW5nO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFNlbGVjdGVkUmF0aW5nKCk6IHN0cmluZyB7XHJcblx0XHRpZiAoIXRoaXMuaXNSYXRpbmdJbmRleFZhbGlkKHRoaXMuc2VsZWN0ZWRJbmRleCkpIHtcclxuXHRcdFx0cmV0dXJuIFwiXCI7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5yYXRpbmdWYWx1ZXNBc2NlbmRpbmdbdGhpcy5zZWxlY3RlZEluZGV4XTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRTZWxlY3RlZFJhdGluZ0luZGV4KHNlbGVjdGVkOiBudW1iZXIpOiB2b2lkIHtcclxuXHRcdGlmICh0aGlzLmlzUmF0aW5nSW5kZXhWYWxpZChzZWxlY3RlZCkpIHtcclxuXHRcdFx0dGhpcy5zZWxlY3RlZEluZGV4ID0gc2VsZWN0ZWQ7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLnNlbGVjdGVkSW5kZXggPSAtMTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRTZWxlY3RlZFJhdGluZ0luZGV4KCk6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gdGhpcy5zZWxlY3RlZEluZGV4O1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldERvbUVsZW1lbnRzKGRvYzogRG9jdW1lbnQpOiBFbGVtZW50W10ge1xyXG5cdFx0aWYgKCFkb2MpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiRG9jdW1lbnQgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBlbGVtZW50OiBFbGVtZW50ID0gZG9jLmNyZWF0ZUVsZW1lbnQoSVN1cnZleUNvbXBvbmVudC5ET01fUkFUSU5HX1RBR05BTUUpO1xyXG5cclxuXHRcdGlmICghdGhpcy5pc1JhdGluZ0luZGV4VmFsaWQodGhpcy5nZXRTZWxlY3RlZFJhdGluZ0luZGV4KCkpKSB7XHJcblx0XHRcdGVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZVRleHROb2RlKFwiTm90IHJhdGVkXCIpKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIEVuZm9yY2Ugc2l4IGRpZ2l0cyBhZnRlciB0aGUgZGVjaW1hbFxyXG5cdFx0XHRlbGVtZW50LmFwcGVuZENoaWxkKGRvYy5jcmVhdGVUZXh0Tm9kZSh0aGlzLmdldE5vcm1hbGl6ZWRSYXRpbmdTY29yZSgpLnRvRml4ZWQoNikpKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gW2VsZW1lbnRdO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldEpzb25FbGVtZW50cygpOiBvYmplY3Qge1xyXG5cdFx0Y29uc3QgcmVzdWx0OiBvYmplY3QgPSB7fTtcclxuXHJcblx0XHRpZiAoIXRoaXMuaXNSYXRpbmdJbmRleFZhbGlkKHRoaXMuZ2V0U2VsZWN0ZWRSYXRpbmdJbmRleCgpKSkge1xyXG5cdFx0XHRyZXN1bHRbSVN1cnZleUNvbXBvbmVudC5KU09OX1JBVElOR19LRVlOQU1FXSA9IFwiTm90IHJhdGVkXCI7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXN1bHRbSVN1cnZleUNvbXBvbmVudC5KU09OX1JBVElOR19LRVlOQU1FXSA9IHRoaXMuZ2V0Tm9ybWFsaXplZFJhdGluZ1Njb3JlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRDb21wb25lbnRKc29uKCk6IG9iamVjdCB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRbSVN1cnZleUNvbXBvbmVudC5KU09OX1FVRVNUSU9OX0tFWU5BTUVdOiB0aGlzLmdldFF1ZXN0aW9uKCksXHJcblx0XHRcdFtJU3VydmV5Q29tcG9uZW50LkpTT05fUkFUSU5HT1BUSU9OU19LRVlOQU1FXTogdGhpcy5nZXRSYXRpbmdWYWx1ZXNBc2NlbmRpbmcoKSxcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0Tm9ybWFsaXplZFJhdGluZ1Njb3JlKCk6IG51bWJlciB7XHJcblx0XHRpZiAoIXRoaXMuaXNSYXRpbmdJbmRleFZhbGlkKHRoaXMuZ2V0U2VsZWN0ZWRSYXRpbmdJbmRleCgpKSkge1xyXG5cdFx0XHRyZXR1cm4gLTE7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMuZGF0YS5pc1plcm9CYXNlZCkge1xyXG5cdFx0XHRyZXR1cm4gKHRoaXMuc2VsZWN0ZWRJbmRleCkgLyAodGhpcy5kYXRhLnJhdGluZ1ZhbHVlc0FzY2VuZGluZy5sZW5ndGggLSAxKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiAodGhpcy5zZWxlY3RlZEluZGV4ICsgMS4wKSAvIHRoaXMuZGF0YS5yYXRpbmdWYWx1ZXNBc2NlbmRpbmcubGVuZ3RoO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBpc1JhdGluZ0luZGV4VmFsaWQoaW5kZXg6IG51bWJlcik6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIChpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy5kYXRhLnJhdGluZ1ZhbHVlc0FzY2VuZGluZy5sZW5ndGgpO1xyXG5cdH1cclxuXHJcbn1cclxuXHJcbm1vZHVsZSBSYXRpbmdDb21wb25lbnQge1xyXG5cdGV4cG9ydCBjbGFzcyBSYXRpbmdDb21wb25lbnREYXRhIHtcclxuXHRcdHB1YmxpYyBxdWVzdGlvbjogc3RyaW5nO1xyXG5cdFx0cHVibGljIHJhdGluZ1ZhbHVlc0FzY2VuZGluZzogc3RyaW5nW107XHJcblx0XHRwdWJsaWMgaXNaZXJvQmFzZWQ6IGJvb2xlYW47XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgPSBSYXRpbmdDb21wb25lbnQ7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyComponents/RatingComponent.js\n')},"../FloodgateCore/dist/src/SurveyEvents.js":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.CountedActivitySequenceEventData = exports.CountedActivitySequenceEvent = exports.CountedActivityEventData = exports.CountedActivityEvent = void 0;\nvar ActivityTrackingData_1 = __webpack_require__(/*! ./ActivityTrackingData */ "../FloodgateCore/dist/src/ActivityTrackingData.js");\nvar ActivityTrackingSet_1 = __webpack_require__(/*! ./ActivityTrackingSet */ "../FloodgateCore/dist/src/ActivityTrackingSet.js");\nvar CountedActivityEvent = /** @class */ (function () {\n    function CountedActivityEvent(data) {\n        if (!data) {\n            throw new Error("data must not be null");\n        }\n        if (data.count <= 0) {\n            throw new Error("count must be greater than 0");\n        }\n        if (!data.activity || data.activity.length === 0) {\n            throw new Error("activity must not be null or an empty string");\n        }\n        this.data = data;\n    }\n    CountedActivityEvent.make = function (data) {\n        try {\n            return new CountedActivityEvent(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    CountedActivityEvent.prototype.getActivity = function () {\n        return this.data.activity;\n    };\n    CountedActivityEvent.prototype.getCount = function () {\n        return this.data.count;\n    };\n    CountedActivityEvent.prototype.isAggregate = function () {\n        return this.data.isAggregate;\n    };\n    CountedActivityEvent.prototype.getType = function () {\n        return "CountedActivity" /* CountedActivity */;\n    };\n    CountedActivityEvent.prototype.getTrackingSet = function () {\n        var trackingDataList = new Array();\n        trackingDataList.push(new ActivityTrackingData_1.ActivityTrackingData(this.data.activity, this.data.count, this.data.isAggregate));\n        return new ActivityTrackingSet_1.ActivityTrackingSet(false, trackingDataList);\n    };\n    return CountedActivityEvent;\n}());\nexports.CountedActivityEvent = CountedActivityEvent;\n/**\n * Data class for serialization and deserialization. Do not add logic in here.\n */\nvar CountedActivityEventData = /** @class */ (function () {\n    function CountedActivityEventData() {\n    }\n    return CountedActivityEventData;\n}());\nexports.CountedActivityEventData = CountedActivityEventData;\nvar CountedActivitySequenceEvent = /** @class */ (function () {\n    function CountedActivitySequenceEvent(data) {\n        if (!data) {\n            throw new Error("data must not be null");\n        }\n        if (!data.sequence) {\n            throw new Error("data.sequence must not be null");\n        }\n        if (data.sequence.length === 0) {\n            throw new Error("data.sequence size must be greater than 0");\n        }\n        this.data = [];\n        for (var _i = 0, _a = data.sequence; _i < _a.length; _i++) {\n            var countedActivityEventData = _a[_i];\n            this.data.push(new CountedActivityEvent(countedActivityEventData));\n        }\n    }\n    CountedActivitySequenceEvent.make = function (data) {\n        try {\n            return new CountedActivitySequenceEvent(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    CountedActivitySequenceEvent.prototype.getSequence = function () {\n        return this.data;\n    };\n    CountedActivitySequenceEvent.prototype.getType = function () {\n        return "CountedActivitySequence" /* CountedActivitySequence */;\n    };\n    CountedActivitySequenceEvent.prototype.getTrackingSet = function () {\n        var trackingDataList = new Array();\n        for (var _i = 0, _a = this.data; _i < _a.length; _i++) {\n            var countedActivityEvent = _a[_i];\n            trackingDataList.push(new ActivityTrackingData_1.ActivityTrackingData(countedActivityEvent.getActivity(), countedActivityEvent.getCount(), countedActivityEvent.isAggregate()));\n        }\n        return new ActivityTrackingSet_1.ActivityTrackingSet(true, trackingDataList);\n    };\n    return CountedActivitySequenceEvent;\n}());\nexports.CountedActivitySequenceEvent = CountedActivitySequenceEvent;\n/**\n * Data class for serialization and deserialization. Do not add logic in here.\n */\nvar CountedActivitySequenceEventData = /** @class */ (function () {\n    function CountedActivitySequenceEventData() {\n    }\n    /**\n     * No args constructor needed for serialization.\n     */\n    CountedActivitySequenceEventData.prototype.CountedActivitySequenceEventData = function () {\n    };\n    return CountedActivitySequenceEventData;\n}());\nexports.CountedActivitySequenceEventData = CountedActivitySequenceEventData;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleUV2ZW50cy50cz9mYWVmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLG9JQUE4RDtBQUM5RCxpSUFBNEQ7QUE0QjVEO0lBV0MsOEJBQW1CLElBQThCO1FBQ2hELElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDVixNQUFNLElBQUksS0FBSyxDQUFDLHVCQUF1QixDQUFDLENBQUM7U0FDekM7UUFDRCxJQUFJLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxFQUFFO1lBQ3BCLE1BQU0sSUFBSSxLQUFLLENBQUMsOEJBQThCLENBQUMsQ0FBQztTQUNoRDtRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtZQUNqRCxNQUFNLElBQUksS0FBSyxDQUFDLDhDQUE4QyxDQUFDLENBQUM7U0FDaEU7UUFFRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNsQixDQUFDO0lBdEJhLHlCQUFJLEdBQWxCLFVBQW1CLElBQThCO1FBQ2hELElBQUk7WUFDSCxPQUFPLElBQUksb0JBQW9CLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDdEM7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNYLE9BQU8sSUFBSSxDQUFDO1NBQ1o7SUFDRixDQUFDO0lBa0JNLDBDQUFXLEdBQWxCO1FBQ0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUMzQixDQUFDO0lBRU0sdUNBQVEsR0FBZjtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDeEIsQ0FBQztJQUVNLDBDQUFXLEdBQWxCO1FBQ0MsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQztJQUM5QixDQUFDO0lBRU0sc0NBQU8sR0FBZDtRQUNDLCtDQUF5QztJQUMxQyxDQUFDO0lBRU0sNkNBQWMsR0FBckI7UUFDQyxJQUFNLGdCQUFnQixHQUFHLElBQUksS0FBSyxFQUF3QixDQUFDO1FBQzNELGdCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLDJDQUFvQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztRQUM1RyxPQUFPLElBQUkseUNBQW1CLENBQUMsS0FBSyxFQUFFLGdCQUFnQixDQUFDLENBQUM7SUFDekQsQ0FBQztJQUNGLDJCQUFDO0FBQUQsQ0FBQztBQTlDWSxvREFBb0I7QUFnRGpDOztHQUVHO0FBQ0g7SUFBQTtJQUlBLENBQUM7SUFBRCwrQkFBQztBQUFELENBQUM7QUFKWSw0REFBd0I7QUFNckM7SUFXQyxzQ0FBbUIsSUFBc0M7UUFDeEQsSUFBSSxDQUFDLElBQUksRUFBRTtZQUNWLE1BQU0sSUFBSSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQztTQUN6QztRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ25CLE1BQU0sSUFBSSxLQUFLLENBQUMsZ0NBQWdDLENBQUMsQ0FBQztTQUNsRDtRQUNELElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQy9CLE1BQU0sSUFBSSxLQUFLLENBQUMsMkNBQTJDLENBQUMsQ0FBQztTQUM3RDtRQUVELElBQUksQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO1FBQ2YsS0FBdUMsVUFBYSxFQUFiLFNBQUksQ0FBQyxRQUFRLEVBQWIsY0FBYSxFQUFiLElBQWEsRUFBRTtZQUFqRCxJQUFNLHdCQUF3QjtZQUNsQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLG9CQUFvQixDQUFDLHdCQUF3QixDQUFDLENBQUMsQ0FBQztTQUNuRTtJQUNGLENBQUM7SUF6QmEsaUNBQUksR0FBbEIsVUFBbUIsSUFBc0M7UUFDeEQsSUFBSTtZQUNILE9BQU8sSUFBSSw0QkFBNEIsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUM5QztRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1gsT0FBTyxJQUFJLENBQUM7U0FDWjtJQUNGLENBQUM7SUFxQk0sa0RBQVcsR0FBbEI7UUFDQyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDbEIsQ0FBQztJQUVNLDhDQUFPLEdBQWQ7UUFDQywrREFBaUQ7SUFDbEQsQ0FBQztJQUVNLHFEQUFjLEdBQXJCO1FBQ0MsSUFBTSxnQkFBZ0IsR0FBRyxJQUFJLEtBQUssRUFBd0IsQ0FBQztRQUUzRCxLQUFtQyxVQUFTLEVBQVQsU0FBSSxDQUFDLElBQUksRUFBVCxjQUFTLEVBQVQsSUFBUyxFQUFFO1lBQXpDLElBQU0sb0JBQW9CO1lBQzlCLGdCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLDJDQUFvQixDQUFDLG9CQUFvQixDQUFDLFdBQVcsRUFBRSxFQUFFLG9CQUFvQixDQUFDLFFBQVEsRUFBRSxFQUNqSCxvQkFBb0IsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDdEM7UUFFRCxPQUFPLElBQUkseUNBQW1CLENBQUMsSUFBSSxFQUFFLGdCQUFnQixDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUNGLG1DQUFDO0FBQUQsQ0FBQztBQTlDWSxvRUFBNEI7QUFnRHpDOztHQUVHO0FBQ0g7SUFBQTtJQVFBLENBQUM7SUFMQTs7T0FFRztJQUNJLDJFQUFnQyxHQUF2QztJQUNBLENBQUM7SUFDRix1Q0FBQztBQUFELENBQUM7QUFSWSw0RUFBZ0MiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9TdXJ2ZXlFdmVudHMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBY3Rpdml0eVRyYWNraW5nRGF0YSB9IGZyb20gXCIuL0FjdGl2aXR5VHJhY2tpbmdEYXRhXCI7XHJcbmltcG9ydCB7IEFjdGl2aXR5VHJhY2tpbmdTZXQgfSBmcm9tIFwiLi9BY3Rpdml0eVRyYWNraW5nU2V0XCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXlFdmVudCBmcm9tIFwiLi9JU3VydmV5RXZlbnRcIjtcclxuXHJcbi8qKlxyXG4gKiBBIFN1cnZleUV2ZW50IHRoYXQgY291bnRzIG9jY3VycmVuY2VzIG9mIGEgbGl0ZXJhbCBzdHJpbmcgbG9nZ2VkIGJ5IHRoZSBwcm9kdWN0LlxyXG4gKiBTdXJ2ZXkgaXMgYWN0aXZhdGVkIG9uY2UgdGhlIGFjdGl2aXR5IG9jY3VycyBDb3VudCB0aW1lcy5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUNvdW50ZWRBY3Rpdml0eUV2ZW50IGV4dGVuZHMgSVN1cnZleUV2ZW50IHtcclxuXHQvKipcclxuXHQgKiBOYW1lIG9mIHRoZSBhY3Rpdml0eSB0byBsaXN0ZW4gZm9yXHJcblx0ICovXHJcblx0Z2V0QWN0aXZpdHkoKTogc3RyaW5nO1xyXG5cclxuXHQvKipcclxuXHQgKiBOdW1iZXIgb2YgdGltZXMgdGhlIG5hbWVkIGFjdGl2aXR5IG11c3QgYmUgbG9nZ2VkIHRvIGFjdGl2YXRlXHJcblx0ICovXHJcblx0Z2V0Q291bnQoKTogbnVtYmVyO1xyXG5cclxuXHQvKipcclxuXHQgKiBXaGV0aGVyIG9yIG5vdCB0aGUgY291bnQgc2hvdWxkIGJlIHBlcnNpc3RlZCBhY3Jvc3MgYXBwIHNlc3Npb25zXHJcblx0ICovXHJcblx0aXNBZ2dyZWdhdGUoKTogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJQ291bnRlZEFjdGl2aXR5U2VxdWVuY2VFdmVudCBleHRlbmRzIElTdXJ2ZXlFdmVudCB7XHJcblx0Z2V0U2VxdWVuY2UoKTogSUNvdW50ZWRBY3Rpdml0eUV2ZW50W107XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDb3VudGVkQWN0aXZpdHlFdmVudCBpbXBsZW1lbnRzIElDb3VudGVkQWN0aXZpdHlFdmVudCB7XHJcblx0cHVibGljIHN0YXRpYyBtYWtlKGRhdGE6IENvdW50ZWRBY3Rpdml0eUV2ZW50RGF0YSk6IElDb3VudGVkQWN0aXZpdHlFdmVudCB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRyZXR1cm4gbmV3IENvdW50ZWRBY3Rpdml0eUV2ZW50KGRhdGEpO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZGF0YTogQ291bnRlZEFjdGl2aXR5RXZlbnREYXRhO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoZGF0YTogQ291bnRlZEFjdGl2aXR5RXZlbnREYXRhKSB7XHJcblx0XHRpZiAoIWRhdGEpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiZGF0YSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGRhdGEuY291bnQgPD0gMCkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJjb3VudCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwXCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFkYXRhLmFjdGl2aXR5IHx8IGRhdGEuYWN0aXZpdHkubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImFjdGl2aXR5IG11c3Qgbm90IGJlIG51bGwgb3IgYW4gZW1wdHkgc3RyaW5nXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuZGF0YSA9IGRhdGE7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0QWN0aXZpdHkoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEuYWN0aXZpdHk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0Q291bnQoKTogbnVtYmVyIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEuY291bnQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgaXNBZ2dyZWdhdGUoKTogYm9vbGVhbiB7XHJcblx0XHRyZXR1cm4gdGhpcy5kYXRhLmlzQWdncmVnYXRlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFR5cGUoKTogSVN1cnZleUV2ZW50LlR5cGUge1xyXG5cdFx0cmV0dXJuIElTdXJ2ZXlFdmVudC5UeXBlLkNvdW50ZWRBY3Rpdml0eTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRUcmFja2luZ1NldCgpOiBBY3Rpdml0eVRyYWNraW5nU2V0IHtcclxuXHRcdGNvbnN0IHRyYWNraW5nRGF0YUxpc3QgPSBuZXcgQXJyYXk8QWN0aXZpdHlUcmFja2luZ0RhdGE+KCk7XHJcblx0XHR0cmFja2luZ0RhdGFMaXN0LnB1c2gobmV3IEFjdGl2aXR5VHJhY2tpbmdEYXRhKHRoaXMuZGF0YS5hY3Rpdml0eSwgdGhpcy5kYXRhLmNvdW50LCB0aGlzLmRhdGEuaXNBZ2dyZWdhdGUpKTtcclxuXHRcdHJldHVybiBuZXcgQWN0aXZpdHlUcmFja2luZ1NldChmYWxzZSwgdHJhY2tpbmdEYXRhTGlzdCk7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogRGF0YSBjbGFzcyBmb3Igc2VyaWFsaXphdGlvbiBhbmQgZGVzZXJpYWxpemF0aW9uLiBEbyBub3QgYWRkIGxvZ2ljIGluIGhlcmUuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ291bnRlZEFjdGl2aXR5RXZlbnREYXRhIHtcclxuXHRwdWJsaWMgYWN0aXZpdHk6IHN0cmluZztcclxuXHRwdWJsaWMgY291bnQ6IG51bWJlcjtcclxuXHRwdWJsaWMgaXNBZ2dyZWdhdGU6IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZUV2ZW50IGltcGxlbWVudHMgSUNvdW50ZWRBY3Rpdml0eVNlcXVlbmNlRXZlbnQge1xyXG5cdHB1YmxpYyBzdGF0aWMgbWFrZShkYXRhOiBDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZUV2ZW50RGF0YSk6IElDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZUV2ZW50IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdHJldHVybiBuZXcgQ291bnRlZEFjdGl2aXR5U2VxdWVuY2VFdmVudChkYXRhKTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGRhdGE6IElDb3VudGVkQWN0aXZpdHlFdmVudFtdO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoZGF0YTogQ291bnRlZEFjdGl2aXR5U2VxdWVuY2VFdmVudERhdGEpIHtcclxuXHRcdGlmICghZGF0YSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIWRhdGEuc2VxdWVuY2UpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiZGF0YS5zZXF1ZW5jZSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGRhdGEuc2VxdWVuY2UubGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEuc2VxdWVuY2Ugc2l6ZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuZGF0YSA9IFtdO1xyXG5cdFx0Zm9yIChjb25zdCBjb3VudGVkQWN0aXZpdHlFdmVudERhdGEgb2YgZGF0YS5zZXF1ZW5jZSkge1xyXG5cdFx0XHR0aGlzLmRhdGEucHVzaChuZXcgQ291bnRlZEFjdGl2aXR5RXZlbnQoY291bnRlZEFjdGl2aXR5RXZlbnREYXRhKSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0U2VxdWVuY2UoKTogSUNvdW50ZWRBY3Rpdml0eUV2ZW50W10ge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRUeXBlKCk6IElTdXJ2ZXlFdmVudC5UeXBlIHtcclxuXHRcdHJldHVybiBJU3VydmV5RXZlbnQuVHlwZS5Db3VudGVkQWN0aXZpdHlTZXF1ZW5jZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRUcmFja2luZ1NldCgpOiBBY3Rpdml0eVRyYWNraW5nU2V0IHtcclxuXHRcdGNvbnN0IHRyYWNraW5nRGF0YUxpc3QgPSBuZXcgQXJyYXk8QWN0aXZpdHlUcmFja2luZ0RhdGE+KCk7XHJcblxyXG5cdFx0Zm9yIChjb25zdCBjb3VudGVkQWN0aXZpdHlFdmVudCBvZiB0aGlzLmRhdGEpIHtcclxuXHRcdFx0dHJhY2tpbmdEYXRhTGlzdC5wdXNoKG5ldyBBY3Rpdml0eVRyYWNraW5nRGF0YShjb3VudGVkQWN0aXZpdHlFdmVudC5nZXRBY3Rpdml0eSgpLCBjb3VudGVkQWN0aXZpdHlFdmVudC5nZXRDb3VudCgpLFxyXG5cdFx0XHRcdGNvdW50ZWRBY3Rpdml0eUV2ZW50LmlzQWdncmVnYXRlKCkpKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbmV3IEFjdGl2aXR5VHJhY2tpbmdTZXQodHJ1ZSwgdHJhY2tpbmdEYXRhTGlzdCk7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogRGF0YSBjbGFzcyBmb3Igc2VyaWFsaXphdGlvbiBhbmQgZGVzZXJpYWxpemF0aW9uLiBEbyBub3QgYWRkIGxvZ2ljIGluIGhlcmUuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ291bnRlZEFjdGl2aXR5U2VxdWVuY2VFdmVudERhdGEge1xyXG5cdHB1YmxpYyBzZXF1ZW5jZTogQ291bnRlZEFjdGl2aXR5RXZlbnREYXRhW107XHJcblxyXG5cdC8qKlxyXG5cdCAqIE5vIGFyZ3MgY29uc3RydWN0b3IgbmVlZGVkIGZvciBzZXJpYWxpemF0aW9uLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyBDb3VudGVkQWN0aXZpdHlTZXF1ZW5jZUV2ZW50RGF0YSgpIHtcclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyEvents.js\n')},"../FloodgateCore/dist/src/SurveyMetadata.js":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.Metadata = exports.SurveyMetadata = void 0;\nvar Utils = __webpack_require__(/*! ./Utils */ "../FloodgateCore/dist/src/Utils.js");\nvar SurveyMetadata = /** @class */ (function () {\n    function SurveyMetadata(data) {\n        if (!data) {\n            throw new Error("data must not be null");\n        }\n        if (!data.contentMetadata) {\n            throw new Error("content metadata must not be null");\n        }\n        if (!Utils.isObject(data.contentMetadata)) {\n            throw new Error("content metadata must be of object type");\n        }\n        this.data = data;\n    }\n    SurveyMetadata.make = function (data) {\n        try {\n            return new SurveyMetadata(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    SurveyMetadata.prototype.getContentMetadata = function () {\n        return this.data.contentMetadata;\n    };\n    return SurveyMetadata;\n}());\nexports.SurveyMetadata = SurveyMetadata;\n/**\n * Data class for serialization and deserialization. Do not add logic in here.\n */\nvar Metadata = /** @class */ (function () {\n    function Metadata() {\n    }\n    return Metadata;\n}());\nexports.Metadata = Metadata;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleU1ldGFkYXRhLnRzP2U0NzkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EscUZBQWlDO0FBRWpDO0lBV0Msd0JBQW1CLElBQWM7UUFDaEMsSUFBSSxDQUFDLElBQUksRUFBRTtZQUNWLE1BQU0sSUFBSSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQztTQUN6QztRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFO1lBQzFCLE1BQU0sSUFBSSxLQUFLLENBQUMsbUNBQW1DLENBQUMsQ0FBQztTQUNyRDtRQUNELElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsRUFBRTtZQUMxQyxNQUFNLElBQUksS0FBSyxDQUFDLHlDQUF5QyxDQUFDLENBQUM7U0FDM0Q7UUFFRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUNsQixDQUFDO0lBdEJhLG1CQUFJLEdBQWxCLFVBQW1CLElBQWM7UUFDaEMsSUFBSTtZQUNILE9BQU8sSUFBSSxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDaEM7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNYLE9BQU8sSUFBSSxDQUFDO1NBQ1o7SUFDRixDQUFDO0lBa0JNLDJDQUFrQixHQUF6QjtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUM7SUFDbEMsQ0FBQztJQUNGLHFCQUFDO0FBQUQsQ0FBQztBQTVCWSx3Q0FBYztBQThCM0I7O0dBRUc7QUFDSDtJQUFBO0lBRUEsQ0FBQztJQUFELGVBQUM7QUFBRCxDQUFDO0FBRlksNEJBQVEiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9TdXJ2ZXlNZXRhZGF0YS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElTdXJ2ZXlNZXRhZGF0YSB9IGZyb20gXCIuL0lTdXJ2ZXlNZXRhZGF0YVwiO1xyXG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tIFwiLi9VdGlsc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN1cnZleU1ldGFkYXRhIGltcGxlbWVudHMgSVN1cnZleU1ldGFkYXRhIHtcclxuXHRwdWJsaWMgc3RhdGljIG1ha2UoZGF0YTogTWV0YWRhdGEpOiBJU3VydmV5TWV0YWRhdGEge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0cmV0dXJuIG5ldyBTdXJ2ZXlNZXRhZGF0YShkYXRhKTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGRhdGE6IE1ldGFkYXRhO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoZGF0YTogTWV0YWRhdGEpIHtcclxuXHRcdGlmICghZGF0YSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIWRhdGEuY29udGVudE1ldGFkYXRhKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImNvbnRlbnQgbWV0YWRhdGEgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghVXRpbHMuaXNPYmplY3QoZGF0YS5jb250ZW50TWV0YWRhdGEpKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImNvbnRlbnQgbWV0YWRhdGEgbXVzdCBiZSBvZiBvYmplY3QgdHlwZVwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmRhdGEgPSBkYXRhO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENvbnRlbnRNZXRhZGF0YSgpOiBvYmplY3Qge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5jb250ZW50TWV0YWRhdGE7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogRGF0YSBjbGFzcyBmb3Igc2VyaWFsaXphdGlvbiBhbmQgZGVzZXJpYWxpemF0aW9uLiBEbyBub3QgYWRkIGxvZ2ljIGluIGhlcmUuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgTWV0YWRhdGEge1xyXG5cdHB1YmxpYyBjb250ZW50TWV0YWRhdGE6IG9iamVjdDtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyMetadata.js\n')},"../FloodgateCore/dist/src/SurveyStatCollection.js":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.SurveyStatCollection = void 0;\n/**\n * Generic class for managing a collection of survey stats. Includes read-from/write-to json structures or a file,\n * as well as merge routines for combining collections\n */\nvar SurveyStatCollection = /** @class */ (function () {\n    function SurveyStatCollection() {\n        // The following property name matches the JSON root key name for proper serialization/ deserialization\n        this.Surveys = {};\n        this.Surveys = {};\n    }\n    /**\n     * Add stats. Overwrites if already exists.\n     */\n    SurveyStatCollection.prototype.addStats = function (surveyId, stats) {\n        this.Surveys[surveyId] = stats;\n    };\n    /**\n     * Get a SurveyActivationStats object by surveyId. Returns null if surveyId is not found\n     */\n    SurveyStatCollection.prototype.getBySurveyId = function (surveyId) {\n        return (this.Surveys[surveyId]);\n    };\n    /**\n     * Get all stats available\n     */\n    SurveyStatCollection.prototype.getStats = function () {\n        return this.Surveys;\n    };\n    return SurveyStatCollection;\n}());\nexports.SurveyStatCollection = SurveyStatCollection;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleVN0YXRDb2xsZWN0aW9uLnRzPzJkMmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBRUE7OztHQUdHO0FBQ0g7SUFJQztRQUhBLHVHQUF1RztRQUMvRixZQUFPLEdBQXdCLEVBQUUsQ0FBQztRQUd6QyxJQUFJLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQztJQUNuQixDQUFDO0lBRUQ7O09BRUc7SUFDSSx1Q0FBUSxHQUFmLFVBQWdCLFFBQWdCLEVBQUUsS0FBYTtRQUM5QyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxHQUFHLEtBQUssQ0FBQztJQUNoQyxDQUFDO0lBRUQ7O09BRUc7SUFDSSw0Q0FBYSxHQUFwQixVQUFxQixRQUFnQjtRQUNwQyxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBQ2pDLENBQUM7SUFFRDs7T0FFRztJQUNJLHVDQUFRLEdBQWY7UUFDQyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDckIsQ0FBQztJQUNGLDJCQUFDO0FBQUQsQ0FBQztBQTVCcUIsb0RBQW9CIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5U3RhdENvbGxlY3Rpb24uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJRGljdGlvbmFyeSB9IGZyb20gXCIuL0NvbW1vblwiO1xyXG5cclxuLyoqXHJcbiAqIEdlbmVyaWMgY2xhc3MgZm9yIG1hbmFnaW5nIGEgY29sbGVjdGlvbiBvZiBzdXJ2ZXkgc3RhdHMuIEluY2x1ZGVzIHJlYWQtZnJvbS93cml0ZS10byBqc29uIHN0cnVjdHVyZXMgb3IgYSBmaWxlLFxyXG4gKiBhcyB3ZWxsIGFzIG1lcmdlIHJvdXRpbmVzIGZvciBjb21iaW5pbmcgY29sbGVjdGlvbnNcclxuICovXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbjxUU3RhdHM+IHtcclxuXHQvLyBUaGUgZm9sbG93aW5nIHByb3BlcnR5IG5hbWUgbWF0Y2hlcyB0aGUgSlNPTiByb290IGtleSBuYW1lIGZvciBwcm9wZXIgc2VyaWFsaXphdGlvbi8gZGVzZXJpYWxpemF0aW9uXHJcblx0cHJpdmF0ZSBTdXJ2ZXlzOiBJRGljdGlvbmFyeTxUU3RhdHM+ID0ge307XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMuU3VydmV5cyA9IHt9O1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQWRkIHN0YXRzLiBPdmVyd3JpdGVzIGlmIGFscmVhZHkgZXhpc3RzLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyBhZGRTdGF0cyhzdXJ2ZXlJZDogc3RyaW5nLCBzdGF0czogVFN0YXRzKTogdm9pZCB7XHJcblx0XHR0aGlzLlN1cnZleXNbc3VydmV5SWRdID0gc3RhdHM7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBHZXQgYSBTdXJ2ZXlBY3RpdmF0aW9uU3RhdHMgb2JqZWN0IGJ5IHN1cnZleUlkLiBSZXR1cm5zIG51bGwgaWYgc3VydmV5SWQgaXMgbm90IGZvdW5kXHJcblx0ICovXHJcblx0cHVibGljIGdldEJ5U3VydmV5SWQoc3VydmV5SWQ6IHN0cmluZyk6IFRTdGF0cyB7XHJcblx0XHRyZXR1cm4gKHRoaXMuU3VydmV5c1tzdXJ2ZXlJZF0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGFsbCBzdGF0cyBhdmFpbGFibGVcclxuXHQgKi9cclxuXHRwdWJsaWMgZ2V0U3RhdHMoKTogSURpY3Rpb25hcnk8VFN0YXRzPiB7XHJcblx0XHRyZXR1cm4gdGhpcy5TdXJ2ZXlzO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyStatCollection.js\n')},"../FloodgateCore/dist/src/SurveyStatCollectionActivation.js":function(module,exports,__webpack_require__){"use strict";eval('\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.SurveyActivationStats = exports.FileBasedSurveyActivationStatsProvider = exports.HostBasedSurveyActivationStatsProvider = exports.SurveyActivationStatsProviderFactory = exports.SurveyStatCollectionActivation = void 0;\nvar IFloodgateStorageProvider = __webpack_require__(/*! ./Api/IFloodgateStorageProvider */ "../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js");\nvar FileType = IFloodgateStorageProvider.FileType;\nvar ISurvey = __webpack_require__(/*! ./Api/ISurvey */ "../FloodgateCore/dist/src/Api/ISurvey.js");\nvar Constants_1 = __webpack_require__(/*! ./Constants */ "../FloodgateCore/dist/src/Constants.js");\nvar FloodgateEngine_1 = __webpack_require__(/*! ./FloodgateEngine */ "../FloodgateCore/dist/src/FloodgateEngine.js");\nvar StateProviderHelpers = __webpack_require__(/*! ./StateProviderHelpers */ "../FloodgateCore/dist/src/StateProviderHelpers.js");\nvar SurveyStatCollection_1 = __webpack_require__(/*! ./SurveyStatCollection */ "../FloodgateCore/dist/src/SurveyStatCollection.js");\nvar Utils = __webpack_require__(/*! ./Utils */ "../FloodgateCore/dist/src/Utils.js");\n/**\n * StatCollection for activated surveys.  Should be used to track the SurveyIds\n * that have been recently shown to a user\n */\n// TODO (gachoi) Check if this applies - VSOBug: 1443010 One bad Stat object fails the entire serialization\nvar SurveyStatCollectionActivation = /** @class */ (function (_super) {\n    __extends(SurveyStatCollectionActivation, _super);\n    function SurveyStatCollectionActivation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Load from Json\n     */\n    SurveyStatCollectionActivation.fromJson = function (json) {\n        var statCollection = new SurveyStatCollectionActivation();\n        if (!json) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.SurveyStatCollectionActivation.FromJson.Failed, { ErrorMessage: "Input json is null or empty." });\n            return statCollection;\n        }\n        var readStats;\n        try {\n            readStats = JSON.parse(json);\n        }\n        catch (e) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.SurveyStatCollectionActivation.FromJson.Failed, { ErrorMessage: "Json parsing failed. " + e.toString() });\n            return statCollection;\n        }\n        if (!statCollection.deserialize(readStats)) {\n            return new SurveyStatCollectionActivation();\n        }\n        return statCollection;\n    };\n    /**\n     * Convert to Json\n     */\n    SurveyStatCollectionActivation.toJson = function (object) {\n        if (!object) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.SurveyStatCollectionActivation.ToJson.Failed, { ErrorMessage: "Input json is null or empty." });\n            object = new SurveyStatCollectionActivation();\n        }\n        return JSON.stringify(object);\n    };\n    /**\n     * Add another SurveyStatCollectionActivation object\n     */\n    SurveyStatCollectionActivation.prototype.accumulate = function (other) {\n        if (!other) {\n            return;\n        }\n        var stats = other.getStats();\n        // SurveyActivationStats accumulation simply overwrites any keys from \'other\' into our collection\n        for (var key in stats) {\n            if (stats.hasOwnProperty(key)) {\n                this.addStats(key, stats[key]);\n            }\n        }\n    };\n    /**\n     * Method to deserialize SurveyStatCollectionActivation\n     * @param input: collection of SurveyStatCollectionActivation\n     * Returns result of validation check\n     */\n    SurveyStatCollectionActivation.prototype.deserialize = function (input) {\n        var rawStats = input.Surveys;\n        var now = new Date();\n        for (var key in rawStats) {\n            if (rawStats.hasOwnProperty(key)) {\n                var newStat = new SurveyActivationStats();\n                if (newStat.deserialize(rawStats[key]) && newStat.ExpirationTimeUtc > now) {\n                    this.addStats(key, newStat);\n                }\n            }\n        }\n        return this.validate();\n    };\n    /**\n     * Validate the Surveys\n     * Returns false if validation fails\n     */\n    SurveyStatCollectionActivation.prototype.validate = function () {\n        return Utils.isObject(this.getStats());\n    };\n    return SurveyStatCollectionActivation;\n}(SurveyStatCollection_1.SurveyStatCollection));\nexports.SurveyStatCollectionActivation = SurveyStatCollectionActivation;\nvar SurveyActivationStatsProviderFactory = /** @class */ (function () {\n    function SurveyActivationStatsProviderFactory() {\n    }\n    SurveyActivationStatsProviderFactory.make = function (fileBasedStorage, hostBasedStorage) {\n        if (hostBasedStorage) {\n            return new HostBasedSurveyActivationStatsProvider(fileBasedStorage, hostBasedStorage);\n        }\n        return new FileBasedSurveyActivationStatsProvider(fileBasedStorage);\n    };\n    return SurveyActivationStatsProviderFactory;\n}());\nexports.SurveyActivationStatsProviderFactory = SurveyActivationStatsProviderFactory;\nvar HostBasedSurveyActivationStatsProvider = /** @class */ (function () {\n    function HostBasedSurveyActivationStatsProvider(fileBasedStorageProvider, hostBasedStorage) {\n        if (!hostBasedStorage) {\n            throw new Error("host-based storage must not be null");\n        }\n        this.hostBasedStorage = hostBasedStorage;\n        // file based provider is optional\n        if (fileBasedStorageProvider) {\n            this.fileBasedStorageProvider = new FileBasedSurveyActivationStatsProvider(fileBasedStorageProvider);\n        }\n    }\n    // @Override\n    HostBasedSurveyActivationStatsProvider.prototype.load = function () {\n        var surveyStatsFromHost = this.getSurveyStatsFromHost();\n        var surveyStatsFromFile = new SurveyStatCollectionActivation();\n        if (this.fileBasedStorageProvider) {\n            surveyStatsFromFile = this.fileBasedStorageProvider.load();\n        }\n        var surveyStatsCollections = StateProviderHelpers.MergeAndUpdateSurveyActivationStats(surveyStatsFromFile, surveyStatsFromHost);\n        return surveyStatsCollections.find(0 /* Merged */);\n    };\n    // @Override\n    HostBasedSurveyActivationStatsProvider.prototype.save = function (stats) {\n        if (!stats) {\n            return;\n        }\n        var statsFromHost = this.getSurveyStatsFromHost();\n        var statCollection = StateProviderHelpers.MergeAndUpdateSurveyActivationStats(stats, statsFromHost);\n        var toBeUpdatedStats = statCollection.find(1 /* ToBeUpdated */);\n        var mergedStates = statCollection.find(0 /* Merged */);\n        // write delta_data to Roaming\n        if (toBeUpdatedStats) {\n            var toBeUpdatedStatsDictionary = toBeUpdatedStats.getStats();\n            for (var surveyId in toBeUpdatedStatsDictionary) {\n                if (toBeUpdatedStatsDictionary.hasOwnProperty(surveyId)) {\n                    var item = StateProviderHelpers.makeSettingItemValue(JSON.stringify(toBeUpdatedStatsDictionary[surveyId]));\n                    this.hostBasedStorage.upsertSettingItem(FileType[FileType.SurveyActivationStats], surveyId, item);\n                }\n            }\n        }\n        // Write merged data to File\n        if (this.fileBasedStorageProvider) {\n            this.fileBasedStorageProvider.save(mergedStates);\n        }\n    };\n    HostBasedSurveyActivationStatsProvider.prototype.getSurveyStatsFromHost = function () {\n        var statsCollection = new SurveyStatCollectionActivation();\n        var itemData = this.hostBasedStorage.readSettingList(FileType[FileType.SurveyActivationStats]);\n        for (var surveyId in itemData) {\n            if (!itemData.hasOwnProperty(surveyId)) {\n                continue;\n            }\n            var dataString = StateProviderHelpers.extractSettingItemValueSubString(itemData[surveyId]);\n            var newStats = new SurveyActivationStats();\n            var readStats = void 0;\n            try {\n                readStats = JSON.parse(dataString);\n                newStats.deserialize(readStats);\n            }\n            catch (e) {\n                FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.HostBasedSurveyActivationStatsProvider.GetSurveyStatsFromHost.Failed, { ErrorMessage: "Json parsing/deserializing failed. " + e.toString() + ".  Input:" + dataString });\n            }\n            var now = new Date();\n            if (newStats.ExpirationTimeUtc <= now) {\n                // Delete survey stat from host storage if it\'s expired.\n                this.hostBasedStorage.deleteSettingItem(FileType[FileType.SurveyActivationStats], surveyId);\n            }\n            else {\n                statsCollection.addStats(surveyId, newStats);\n            }\n        }\n        return statsCollection;\n    };\n    return HostBasedSurveyActivationStatsProvider;\n}());\nexports.HostBasedSurveyActivationStatsProvider = HostBasedSurveyActivationStatsProvider;\nvar FileBasedSurveyActivationStatsProvider = /** @class */ (function () {\n    function FileBasedSurveyActivationStatsProvider(storage) {\n        if (!storage) {\n            throw new Error("storage must not be null");\n        }\n        this.storage = storage;\n    }\n    // @Override\n    FileBasedSurveyActivationStatsProvider.prototype.load = function () {\n        var readString = this.storage.read(IFloodgateStorageProvider.FileType.SurveyActivationStats);\n        if (!readString) {\n            return new SurveyStatCollectionActivation();\n        }\n        return SurveyStatCollectionActivation.fromJson(readString);\n    };\n    // @Override\n    FileBasedSurveyActivationStatsProvider.prototype.save = function (surveyStatCollectionActivation) {\n        if (!surveyStatCollectionActivation) {\n            return;\n        }\n        var writeString = SurveyStatCollectionActivation.toJson(surveyStatCollectionActivation);\n        this.storage.write(IFloodgateStorageProvider.FileType.SurveyActivationStats, writeString);\n    };\n    return FileBasedSurveyActivationStatsProvider;\n}());\nexports.FileBasedSurveyActivationStatsProvider = FileBasedSurveyActivationStatsProvider;\nvar SurveyActivationStats = /** @class */ (function () {\n    function SurveyActivationStats() {\n    }\n    /**\n     * Method to deserialize a JSON object to class object\n     * @param input: JSON object\n     * Returns result of validation check\n     */\n    SurveyActivationStats.prototype.deserialize = function (input) {\n        this.ActivationTimeUtc = input.ActivationTimeUtc;\n        this.ExpirationTimeUtc = input.ExpirationTimeUtc;\n        this.Type = input.Type;\n        return this.validate();\n    };\n    /**\n     * Method to call after deserialization to validate generated object.\n     * Returns false if not valid.\n     */\n    SurveyActivationStats.prototype.validate = function () {\n        // make it a date object if it\'s a valid UTC date time value\n        if (Utils.isUtcDatetimeString(this.ActivationTimeUtc)) {\n            this.ActivationTimeUtc = Utils.stringToDate(this.ActivationTimeUtc);\n        }\n        else {\n            return false;\n        }\n        // make it a date object if it\'s a valid UTC date time value\n        if (Utils.isUtcDatetimeString(this.ExpirationTimeUtc)) {\n            this.ExpirationTimeUtc = Utils.stringToDate(this.ExpirationTimeUtc);\n        }\n        else {\n            return false;\n        }\n        return Utils.isEnumValue(this.Type, ISurvey.Type);\n    };\n    return SurveyActivationStats;\n}());\nexports.SurveyActivationStats = SurveyActivationStats;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbi50cz9iM2QyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSx5SkFBNkU7QUFDN0UsSUFBTyxRQUFRLEdBQUcseUJBQXlCLENBQUMsUUFBUSxDQUFDO0FBQ3JELG1HQUF5QztBQUV6QyxtR0FBNkM7QUFDN0MscUhBQW9EO0FBQ3BELGtJQUErRDtBQUMvRCxvSUFBOEQ7QUFDOUQscUZBQWlDO0FBRWpDOzs7R0FHRztBQUNILDJHQUEyRztBQUMzRztJQUFvRCxrREFBMkM7SUFBL0Y7O0lBd0ZBLENBQUM7SUF2RkE7O09BRUc7SUFDVyx1Q0FBUSxHQUF0QixVQUF1QixJQUFZO1FBQ2xDLElBQU0sY0FBYyxHQUFHLElBQUksOEJBQThCLEVBQUUsQ0FBQztRQUU1RCxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1YsaUNBQWUsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLFNBQVMsQ0FDN0MsMEJBQWMsQ0FBQyw4QkFBOEIsQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLEVBQUUsWUFBWSxFQUFFLDhCQUE4QixFQUFFLENBQUMsQ0FBQztZQUNsSCxPQUFPLGNBQWMsQ0FBQztTQUN0QjtRQUVELElBQUksU0FBeUMsQ0FBQztRQUM5QyxJQUFJO1lBQ0gsU0FBUyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDN0I7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNYLGlDQUFlLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxTQUFTLENBQzdDLDBCQUFjLENBQUMsOEJBQThCLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxFQUFFLFlBQVksRUFBRSx1QkFBdUIsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQzFILE9BQU8sY0FBYyxDQUFDO1NBQ3RCO1FBRUQsSUFBSSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLEVBQUU7WUFDM0MsT0FBTyxJQUFJLDhCQUE4QixFQUFFLENBQUM7U0FDNUM7UUFFRCxPQUFPLGNBQWMsQ0FBQztJQUN2QixDQUFDO0lBRUQ7O09BRUc7SUFDVyxxQ0FBTSxHQUFwQixVQUFxQixNQUFzQztRQUMxRCxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ1osaUNBQWUsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLFNBQVMsQ0FDN0MsMEJBQWMsQ0FBQyw4QkFBOEIsQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLEVBQUUsWUFBWSxFQUFFLDhCQUE4QixFQUFFLENBQUMsQ0FBQztZQUNoSCxNQUFNLEdBQUcsSUFBSSw4QkFBOEIsRUFBRSxDQUFDO1NBQzlDO1FBRUQsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFFRDs7T0FFRztJQUNJLG1EQUFVLEdBQWpCLFVBQWtCLEtBQXFDO1FBQ3RELElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDWCxPQUFPO1NBQ1A7UUFFRCxJQUFNLEtBQUssR0FBdUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ25FLGlHQUFpRztRQUNqRyxLQUFLLElBQU0sR0FBRyxJQUFJLEtBQUssRUFBRTtZQUN4QixJQUFJLEtBQUssQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLEVBQUU7Z0JBQzlCLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2FBQy9CO1NBQ0Q7SUFDRixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNJLG9EQUFXLEdBQWxCLFVBQW1CLEtBQVU7UUFDNUIsSUFBTSxRQUFRLEdBQXVDLEtBQUssQ0FBQyxPQUFPLENBQUM7UUFDbkUsSUFBTSxHQUFHLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUV2QixLQUFLLElBQU0sR0FBRyxJQUFJLFFBQVEsRUFBRTtZQUMzQixJQUFJLFFBQVEsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLEVBQUU7Z0JBQ2pDLElBQU0sT0FBTyxHQUFHLElBQUkscUJBQXFCLEVBQUUsQ0FBQztnQkFFNUMsSUFBSSxPQUFPLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLE9BQU8sQ0FBQyxpQkFBaUIsR0FBRyxHQUFHLEVBQUU7b0JBQzFFLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO2lCQUM1QjthQUNEO1NBQ0Q7UUFFRCxPQUFPLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUN4QixDQUFDO0lBRUQ7OztPQUdHO0lBQ0ksaURBQVEsR0FBZjtRQUNDLE9BQU8sS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBQ0YscUNBQUM7QUFBRCxDQUFDLENBeEZtRCwyQ0FBb0IsR0F3RnZFO0FBeEZZLHdFQUE4QjtBQWdHM0M7SUFBQTtJQVNBLENBQUM7SUFSYyx5Q0FBSSxHQUFsQixVQUFtQixnQkFBMkMsRUFDN0QsZ0JBQWtEO1FBQ2xELElBQUksZ0JBQWdCLEVBQUU7WUFDckIsT0FBTyxJQUFJLHNDQUFzQyxDQUFDLGdCQUFnQixFQUFFLGdCQUFnQixDQUFDLENBQUM7U0FDdEY7UUFFRCxPQUFPLElBQUksc0NBQXNDLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNyRSxDQUFDO0lBQ0YsMkNBQUM7QUFBRCxDQUFDO0FBVFksb0ZBQW9DO0FBV2pEO0lBSUMsZ0RBQW1CLHdCQUFtRCxFQUFFLGdCQUFrRDtRQUN6SCxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7WUFDdEIsTUFBTSxJQUFJLEtBQUssQ0FBQyxxQ0FBcUMsQ0FBQyxDQUFDO1NBQ3ZEO1FBRUQsSUFBSSxDQUFDLGdCQUFnQixHQUFHLGdCQUFnQixDQUFDO1FBRXpDLGtDQUFrQztRQUNsQyxJQUFJLHdCQUF3QixFQUFFO1lBQzdCLElBQUksQ0FBQyx3QkFBd0IsR0FBRyxJQUFJLHNDQUFzQyxDQUFDLHdCQUF3QixDQUFDLENBQUM7U0FDckc7SUFDRixDQUFDO0lBRUQsWUFBWTtJQUNMLHFEQUFJLEdBQVg7UUFDQyxJQUFNLG1CQUFtQixHQUFtQyxJQUFJLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztRQUUxRixJQUFJLG1CQUFtQixHQUFtQyxJQUFJLDhCQUE4QixFQUFFLENBQUM7UUFDL0YsSUFBSSxJQUFJLENBQUMsd0JBQXdCLEVBQUU7WUFDbEMsbUJBQW1CLEdBQUcsSUFBSSxDQUFDLHdCQUF3QixDQUFDLElBQUksRUFBRSxDQUFDO1NBQzNEO1FBRUQsSUFBTSxzQkFBc0IsR0FBRyxvQkFBb0IsQ0FBQyxtQ0FBbUMsQ0FBQyxtQkFBbUIsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO1FBQ2xJLE9BQU8sc0JBQXNCLENBQUMsSUFBSSxnQkFBMkMsQ0FBQztJQUMvRSxDQUFDO0lBRUQsWUFBWTtJQUNMLHFEQUFJLEdBQVgsVUFBWSxLQUFxQztRQUNoRCxJQUFJLENBQUMsS0FBSyxFQUFFO1lBQ1gsT0FBTztTQUNQO1FBRUQsSUFBTSxhQUFhLEdBQW1DLElBQUksQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO1FBQ3BGLElBQU0sY0FBYyxHQUFHLG9CQUFvQixDQUFDLG1DQUFtQyxDQUFDLEtBQUssRUFBRSxhQUFhLENBQUMsQ0FBQztRQUN0RyxJQUFNLGdCQUFnQixHQUFtQyxjQUFjLENBQUMsSUFBSSxxQkFBZ0QsQ0FBQztRQUM3SCxJQUFNLFlBQVksR0FBbUMsY0FBYyxDQUFDLElBQUksZ0JBQTJDLENBQUM7UUFFcEgsOEJBQThCO1FBQzlCLElBQUksZ0JBQWdCLEVBQUU7WUFDckIsSUFBTSwwQkFBMEIsR0FBdUMsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDbkcsS0FBSyxJQUFNLFFBQVEsSUFBSSwwQkFBMEIsRUFBRTtnQkFDbEQsSUFBSSwwQkFBMEIsQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLEVBQUU7b0JBQ3hELElBQU0sSUFBSSxHQUFXLG9CQUFvQixDQUFDLG9CQUFvQixDQUM3RCxJQUFJLENBQUMsU0FBUyxDQUFDLDBCQUEwQixDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFFdkQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMscUJBQXFCLENBQUMsRUFDL0UsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO2lCQUNqQjthQUNEO1NBQ0Q7UUFFRCw0QkFBNEI7UUFDNUIsSUFBSSxJQUFJLENBQUMsd0JBQXdCLEVBQUU7WUFDbEMsSUFBSSxDQUFDLHdCQUF3QixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztTQUNqRDtJQUNGLENBQUM7SUFFTyx1RUFBc0IsR0FBOUI7UUFDQyxJQUFNLGVBQWUsR0FBbUMsSUFBSyw4QkFBOEIsRUFBRSxDQUFDO1FBQzlGLElBQU0sUUFBUSxHQUFzQixJQUFJLENBQUMsZ0JBQWdCLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMscUJBQXFCLENBQUMsQ0FBQyxDQUFDO1FBRXBILEtBQUssSUFBTSxRQUFRLElBQUksUUFBUSxFQUFFO1lBQ2hDLElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxFQUFFO2dCQUN2QyxTQUFTO2FBQ1Q7WUFFRCxJQUFNLFVBQVUsR0FBVyxvQkFBb0IsQ0FBQyxnQ0FBZ0MsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUNyRyxJQUFNLFFBQVEsR0FBMEIsSUFBSSxxQkFBcUIsRUFBRSxDQUFDO1lBRXBFLElBQUksU0FBUyxTQUF1QixDQUFDO1lBQ3JDLElBQUk7Z0JBQ0gsU0FBUyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBQ25DLFFBQVEsQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUM7YUFDaEM7WUFBQyxPQUFPLENBQUMsRUFBRTtnQkFDWCxpQ0FBZSxDQUFDLGtCQUFrQixFQUFFLENBQUMsU0FBUyxDQUM3QywwQkFBYyxDQUFDLHNDQUFzQyxDQUFDLHNCQUFzQixDQUFDLE1BQU0sRUFDbkYsRUFBRSxZQUFZLEVBQUUscUNBQXFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRSxHQUFHLFdBQVcsR0FBRyxVQUFVLEVBQUUsQ0FBQyxDQUFDO2FBQ3BHO1lBRUQsSUFBTSxHQUFHLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUN2QixJQUFJLFFBQVEsQ0FBQyxpQkFBaUIsSUFBSSxHQUFHLEVBQUU7Z0JBQ3RDLHdEQUF3RDtnQkFDeEQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMscUJBQXFCLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQzthQUM1RjtpQkFBTTtnQkFDTixlQUFlLENBQUMsUUFBUSxDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQzthQUM3QztTQUNEO1FBQ0QsT0FBTyxlQUFlLENBQUM7SUFDeEIsQ0FBQztJQUNGLDZDQUFDO0FBQUQsQ0FBQztBQTdGWSx3RkFBc0M7QUE4Rm5EO0lBR0MsZ0RBQW1CLE9BQWtDO1FBQ3BELElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDYixNQUFNLElBQUksS0FBSyxDQUFDLDBCQUEwQixDQUFDLENBQUM7U0FDNUM7UUFFRCxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztJQUN4QixDQUFDO0lBRUQsWUFBWTtJQUNMLHFEQUFJLEdBQVg7UUFDQyxJQUFNLFVBQVUsR0FBVyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxRQUFRLENBQUMscUJBQXFCLENBQUMsQ0FBQztRQUN2RyxJQUFJLENBQUMsVUFBVSxFQUFFO1lBQ2hCLE9BQU8sSUFBSSw4QkFBOEIsRUFBRSxDQUFDO1NBQzVDO1FBRUQsT0FBTyw4QkFBOEIsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDNUQsQ0FBQztJQUVELFlBQVk7SUFDTCxxREFBSSxHQUFYLFVBQVksOEJBQThEO1FBQ3pFLElBQUksQ0FBQyw4QkFBOEIsRUFBRTtZQUNwQyxPQUFPO1NBQ1A7UUFFRCxJQUFNLFdBQVcsR0FBVyw4QkFBOEIsQ0FBQyxNQUFNLENBQUMsOEJBQThCLENBQUMsQ0FBQztRQUNsRyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyx5QkFBeUIsQ0FBQyxRQUFRLENBQUMscUJBQXFCLEVBQUUsV0FBVyxDQUFDLENBQUM7SUFDM0YsQ0FBQztJQUNGLDZDQUFDO0FBQUQsQ0FBQztBQTlCWSx3RkFBc0M7QUFnQ25EO0lBQUE7SUF3Q0EsQ0FBQztJQWxDQTs7OztPQUlHO0lBQ0ksMkNBQVcsR0FBbEIsVUFBbUIsS0FBVTtRQUM1QixJQUFJLENBQUMsaUJBQWlCLEdBQUcsS0FBSyxDQUFDLGlCQUFpQixDQUFDO1FBQ2pELElBQUksQ0FBQyxpQkFBaUIsR0FBRyxLQUFLLENBQUMsaUJBQWlCLENBQUM7UUFDakQsSUFBSSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDO1FBRXZCLE9BQU8sSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQ3hCLENBQUM7SUFFRDs7O09BR0c7SUFDSSx3Q0FBUSxHQUFmO1FBQ0MsNERBQTREO1FBQzVELElBQUksS0FBSyxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxFQUFFO1lBQ3RELElBQUksQ0FBQyxpQkFBaUIsR0FBRyxLQUFLLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1NBQ3BFO2FBQU07WUFDTixPQUFPLEtBQUssQ0FBQztTQUNiO1FBRUQsNERBQTREO1FBQzVELElBQUksS0FBSyxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxFQUFFO1lBQ3RELElBQUksQ0FBQyxpQkFBaUIsR0FBRyxLQUFLLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1NBQ3BFO2FBQU07WUFDTixPQUFPLEtBQUssQ0FBQztTQUNiO1FBRUQsT0FBTyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFDRiw0QkFBQztBQUFELENBQUM7QUF4Q1ksc0RBQXFCIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSUZsb29kZ2F0ZVNldHRpbmcgfSBmcm9tIFwiLi9BcGkvSUZsb29kZ2F0ZVNldHRpbmdcIjtcclxuaW1wb3J0IHsgSUZsb29kZ2F0ZVNldHRpbmdTdG9yYWdlQ2FsbGJhY2sgfSBmcm9tIFwiLi9BcGkvSUZsb29kZ2F0ZVNldHRpbmdTdG9yYWdlQ2FsbGJhY2tcIjtcclxuaW1wb3J0ICogYXMgSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlciBmcm9tIFwiLi9BcGkvSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlclwiO1xyXG5pbXBvcnQgRmlsZVR5cGUgPSBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLkZpbGVUeXBlO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5IGZyb20gXCIuL0FwaS9JU3VydmV5XCI7XHJcbmltcG9ydCB7IElEaWN0aW9uYXJ5LCBJU2VyaWFsaXphYmxlIH0gZnJvbSBcIi4vQ29tbW9uXCI7XHJcbmltcG9ydCB7IFRlbGVtZXRyeUV2ZW50IH0gZnJvbSBcIi4vQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IEZsb29kZ2F0ZUVuZ2luZSB9IGZyb20gXCIuL0Zsb29kZ2F0ZUVuZ2luZVwiO1xyXG5pbXBvcnQgKiBhcyBTdGF0ZVByb3ZpZGVySGVscGVycyBmcm9tIFwiLi9TdGF0ZVByb3ZpZGVySGVscGVyc1wiO1xyXG5pbXBvcnQgeyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbiB9IGZyb20gXCIuL1N1cnZleVN0YXRDb2xsZWN0aW9uXCI7XHJcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gXCIuL1V0aWxzXCI7XHJcblxyXG4vKipcclxuICogU3RhdENvbGxlY3Rpb24gZm9yIGFjdGl2YXRlZCBzdXJ2ZXlzLiAgU2hvdWxkIGJlIHVzZWQgdG8gdHJhY2sgdGhlIFN1cnZleUlkc1xyXG4gKiB0aGF0IGhhdmUgYmVlbiByZWNlbnRseSBzaG93biB0byBhIHVzZXJcclxuICovXHJcbi8vIFRPRE8gKGdhY2hvaSkgQ2hlY2sgaWYgdGhpcyBhcHBsaWVzIC0gVlNPQnVnOiAxNDQzMDEwIE9uZSBiYWQgU3RhdCBvYmplY3QgZmFpbHMgdGhlIGVudGlyZSBzZXJpYWxpemF0aW9uXHJcbmV4cG9ydCBjbGFzcyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24gZXh0ZW5kcyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbjxTdXJ2ZXlBY3RpdmF0aW9uU3RhdHM+IGltcGxlbWVudHMgSVNlcmlhbGl6YWJsZSB7XHJcblx0LyoqXHJcblx0ICogTG9hZCBmcm9tIEpzb25cclxuXHQgKi9cclxuXHRwdWJsaWMgc3RhdGljIGZyb21Kc29uKGpzb246IHN0cmluZyk6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbiB7XHJcblx0XHRjb25zdCBzdGF0Q29sbGVjdGlvbiA9IG5ldyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24oKTtcclxuXHJcblx0XHRpZiAoIWpzb24pIHtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FdmVudChcclxuXHRcdFx0XHRUZWxlbWV0cnlFdmVudC5TdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24uRnJvbUpzb24uRmFpbGVkLCB7IEVycm9yTWVzc2FnZTogXCJJbnB1dCBqc29uIGlzIG51bGwgb3IgZW1wdHkuXCIgfSk7XHJcblx0XHRcdHJldHVybiBzdGF0Q29sbGVjdGlvbjtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgcmVhZFN0YXRzOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb247XHJcblx0XHR0cnkge1xyXG5cdFx0XHRyZWFkU3RhdHMgPSBKU09OLnBhcnNlKGpzb24pO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LlN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbi5Gcm9tSnNvbi5GYWlsZWQsIHsgRXJyb3JNZXNzYWdlOiBcIkpzb24gcGFyc2luZyBmYWlsZWQuIFwiICsgZS50b1N0cmluZygpIH0pO1xyXG5cdFx0XHRyZXR1cm4gc3RhdENvbGxlY3Rpb247XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFzdGF0Q29sbGVjdGlvbi5kZXNlcmlhbGl6ZShyZWFkU3RhdHMpKSB7XHJcblx0XHRcdHJldHVybiBuZXcgU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHN0YXRDb2xsZWN0aW9uO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQ29udmVydCB0byBKc29uXHJcblx0ICovXHJcblx0cHVibGljIHN0YXRpYyB0b0pzb24ob2JqZWN0OiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24pOiBzdHJpbmcge1xyXG5cdFx0aWYgKCFvYmplY3QpIHtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FdmVudChcclxuXHRcdFx0XHRUZWxlbWV0cnlFdmVudC5TdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24uVG9Kc29uLkZhaWxlZCwgeyBFcnJvck1lc3NhZ2U6IFwiSW5wdXQganNvbiBpcyBudWxsIG9yIGVtcHR5LlwiIH0pO1xyXG5cdFx0XHRvYmplY3QgPSBuZXcgU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iamVjdCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBBZGQgYW5vdGhlciBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24gb2JqZWN0XHJcblx0ICovXHJcblx0cHVibGljIGFjY3VtdWxhdGUob3RoZXI6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbik6IHZvaWQge1xyXG5cdFx0aWYgKCFvdGhlcikge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgc3RhdHM6IElEaWN0aW9uYXJ5PFN1cnZleUFjdGl2YXRpb25TdGF0cz4gPSBvdGhlci5nZXRTdGF0cygpO1xyXG5cdFx0Ly8gU3VydmV5QWN0aXZhdGlvblN0YXRzIGFjY3VtdWxhdGlvbiBzaW1wbHkgb3ZlcndyaXRlcyBhbnkga2V5cyBmcm9tICdvdGhlcicgaW50byBvdXIgY29sbGVjdGlvblxyXG5cdFx0Zm9yIChjb25zdCBrZXkgaW4gc3RhdHMpIHtcclxuXHRcdFx0aWYgKHN0YXRzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0XHR0aGlzLmFkZFN0YXRzKGtleSwgc3RhdHNba2V5XSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIE1ldGhvZCB0byBkZXNlcmlhbGl6ZSBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb25cclxuXHQgKiBAcGFyYW0gaW5wdXQ6IGNvbGxlY3Rpb24gb2YgU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uXHJcblx0ICogUmV0dXJucyByZXN1bHQgb2YgdmFsaWRhdGlvbiBjaGVja1xyXG5cdCAqL1xyXG5cdHB1YmxpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogYm9vbGVhbiB7XHJcblx0XHRjb25zdCByYXdTdGF0czogSURpY3Rpb25hcnk8U3VydmV5QWN0aXZhdGlvblN0YXRzPiA9IGlucHV0LlN1cnZleXM7XHJcblx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG5cclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHJhd1N0YXRzKSB7XHJcblx0XHRcdGlmIChyYXdTdGF0cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0Y29uc3QgbmV3U3RhdCA9IG5ldyBTdXJ2ZXlBY3RpdmF0aW9uU3RhdHMoKTtcclxuXHJcblx0XHRcdFx0aWYgKG5ld1N0YXQuZGVzZXJpYWxpemUocmF3U3RhdHNba2V5XSkgJiYgbmV3U3RhdC5FeHBpcmF0aW9uVGltZVV0YyA+IG5vdykge1xyXG5cdFx0XHRcdFx0dGhpcy5hZGRTdGF0cyhrZXksIG5ld1N0YXQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLnZhbGlkYXRlKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBWYWxpZGF0ZSB0aGUgU3VydmV5c1xyXG5cdCAqIFJldHVybnMgZmFsc2UgaWYgdmFsaWRhdGlvbiBmYWlsc1xyXG5cdCAqL1xyXG5cdHB1YmxpYyB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiBVdGlscy5pc09iamVjdCh0aGlzLmdldFN0YXRzKCkpO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJU3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXIge1xyXG5cdGxvYWQoKTogU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uO1xyXG5cclxuXHRzYXZlKHN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbjogU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uKTogdm9pZDtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyRmFjdG9yeSB7XHJcblx0cHVibGljIHN0YXRpYyBtYWtlKGZpbGVCYXNlZFN0b3JhZ2U6IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIsXHJcblx0XHRob3N0QmFzZWRTdG9yYWdlOiBJRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFjayk6IElTdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlciB7XHJcblx0XHRpZiAoaG9zdEJhc2VkU3RvcmFnZSkge1xyXG5cdFx0XHRyZXR1cm4gbmV3IEhvc3RCYXNlZFN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyKGZpbGVCYXNlZFN0b3JhZ2UsIGhvc3RCYXNlZFN0b3JhZ2UpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBuZXcgRmlsZUJhc2VkU3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXIoZmlsZUJhc2VkU3RvcmFnZSk7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgSG9zdEJhc2VkU3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXIgaW1wbGVtZW50cyBJU3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXIge1xyXG5cdHByaXZhdGUgZmlsZUJhc2VkU3RvcmFnZVByb3ZpZGVyOiBGaWxlQmFzZWRTdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlcjtcclxuXHRwcml2YXRlIGhvc3RCYXNlZFN0b3JhZ2U6IElGbG9vZGdhdGVTZXR0aW5nU3RvcmFnZUNhbGxiYWNrO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoZmlsZUJhc2VkU3RvcmFnZVByb3ZpZGVyOiBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLCBob3N0QmFzZWRTdG9yYWdlOiBJRmxvb2RnYXRlU2V0dGluZ1N0b3JhZ2VDYWxsYmFjaykge1xyXG5cdFx0aWYgKCFob3N0QmFzZWRTdG9yYWdlKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImhvc3QtYmFzZWQgc3RvcmFnZSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuaG9zdEJhc2VkU3RvcmFnZSA9IGhvc3RCYXNlZFN0b3JhZ2U7XHJcblxyXG5cdFx0Ly8gZmlsZSBiYXNlZCBwcm92aWRlciBpcyBvcHRpb25hbFxyXG5cdFx0aWYgKGZpbGVCYXNlZFN0b3JhZ2VQcm92aWRlcikge1xyXG5cdFx0XHR0aGlzLmZpbGVCYXNlZFN0b3JhZ2VQcm92aWRlciA9IG5ldyBGaWxlQmFzZWRTdXJ2ZXlBY3RpdmF0aW9uU3RhdHNQcm92aWRlcihmaWxlQmFzZWRTdG9yYWdlUHJvdmlkZXIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGxvYWQoKTogU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uIHtcclxuXHRcdGNvbnN0IHN1cnZleVN0YXRzRnJvbUhvc3Q6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbiA9IHRoaXMuZ2V0U3VydmV5U3RhdHNGcm9tSG9zdCgpO1xyXG5cclxuXHRcdGxldCBzdXJ2ZXlTdGF0c0Zyb21GaWxlOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24gPSBuZXcgU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uKCk7XHJcblx0XHRpZiAodGhpcy5maWxlQmFzZWRTdG9yYWdlUHJvdmlkZXIpIHtcclxuXHRcdFx0c3VydmV5U3RhdHNGcm9tRmlsZSA9IHRoaXMuZmlsZUJhc2VkU3RvcmFnZVByb3ZpZGVyLmxvYWQoKTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBzdXJ2ZXlTdGF0c0NvbGxlY3Rpb25zID0gU3RhdGVQcm92aWRlckhlbHBlcnMuTWVyZ2VBbmRVcGRhdGVTdXJ2ZXlBY3RpdmF0aW9uU3RhdHMoc3VydmV5U3RhdHNGcm9tRmlsZSwgc3VydmV5U3RhdHNGcm9tSG9zdCk7XHJcblx0XHRyZXR1cm4gc3VydmV5U3RhdHNDb2xsZWN0aW9ucy5maW5kKFN0YXRlUHJvdmlkZXJIZWxwZXJzLlN0YXRlTGlzdFR5cGUuTWVyZ2VkKTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBzYXZlKHN0YXRzOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24pOiB2b2lkIHtcclxuXHRcdGlmICghc3RhdHMpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHN0YXRzRnJvbUhvc3Q6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbiA9IHRoaXMuZ2V0U3VydmV5U3RhdHNGcm9tSG9zdCgpO1xyXG5cdFx0Y29uc3Qgc3RhdENvbGxlY3Rpb24gPSBTdGF0ZVByb3ZpZGVySGVscGVycy5NZXJnZUFuZFVwZGF0ZVN1cnZleUFjdGl2YXRpb25TdGF0cyhzdGF0cywgc3RhdHNGcm9tSG9zdCk7XHJcblx0XHRjb25zdCB0b0JlVXBkYXRlZFN0YXRzOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24gPSBzdGF0Q29sbGVjdGlvbi5maW5kKFN0YXRlUHJvdmlkZXJIZWxwZXJzLlN0YXRlTGlzdFR5cGUuVG9CZVVwZGF0ZWQpO1xyXG5cdFx0Y29uc3QgbWVyZ2VkU3RhdGVzOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24gPSBzdGF0Q29sbGVjdGlvbi5maW5kKFN0YXRlUHJvdmlkZXJIZWxwZXJzLlN0YXRlTGlzdFR5cGUuTWVyZ2VkKTtcclxuXHJcblx0XHQvLyB3cml0ZSBkZWx0YV9kYXRhIHRvIFJvYW1pbmdcclxuXHRcdGlmICh0b0JlVXBkYXRlZFN0YXRzKSB7XHJcblx0XHRcdGNvbnN0IHRvQmVVcGRhdGVkU3RhdHNEaWN0aW9uYXJ5OiBJRGljdGlvbmFyeTxTdXJ2ZXlBY3RpdmF0aW9uU3RhdHM+ID0gdG9CZVVwZGF0ZWRTdGF0cy5nZXRTdGF0cygpO1xyXG5cdFx0XHRmb3IgKGNvbnN0IHN1cnZleUlkIGluIHRvQmVVcGRhdGVkU3RhdHNEaWN0aW9uYXJ5KSB7XHJcblx0XHRcdFx0aWYgKHRvQmVVcGRhdGVkU3RhdHNEaWN0aW9uYXJ5Lmhhc093blByb3BlcnR5KHN1cnZleUlkKSkge1xyXG5cdFx0XHRcdFx0Y29uc3QgaXRlbTogc3RyaW5nID0gU3RhdGVQcm92aWRlckhlbHBlcnMubWFrZVNldHRpbmdJdGVtVmFsdWUoXHJcblx0XHRcdFx0XHRcdEpTT04uc3RyaW5naWZ5KHRvQmVVcGRhdGVkU3RhdHNEaWN0aW9uYXJ5W3N1cnZleUlkXSkpO1xyXG5cclxuXHRcdFx0XHRcdHRoaXMuaG9zdEJhc2VkU3RvcmFnZS51cHNlcnRTZXR0aW5nSXRlbShGaWxlVHlwZVtGaWxlVHlwZS5TdXJ2ZXlBY3RpdmF0aW9uU3RhdHNdLFxyXG5cdFx0XHRcdFx0XHRzdXJ2ZXlJZCwgaXRlbSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gV3JpdGUgbWVyZ2VkIGRhdGEgdG8gRmlsZVxyXG5cdFx0aWYgKHRoaXMuZmlsZUJhc2VkU3RvcmFnZVByb3ZpZGVyKSB7XHJcblx0XHRcdHRoaXMuZmlsZUJhc2VkU3RvcmFnZVByb3ZpZGVyLnNhdmUobWVyZ2VkU3RhdGVzKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0U3VydmV5U3RhdHNGcm9tSG9zdCgpOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24ge1xyXG5cdFx0Y29uc3Qgc3RhdHNDb2xsZWN0aW9uOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24gPSBuZXcgIFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbigpO1xyXG5cdFx0Y29uc3QgaXRlbURhdGE6IElGbG9vZGdhdGVTZXR0aW5nID0gdGhpcy5ob3N0QmFzZWRTdG9yYWdlLnJlYWRTZXR0aW5nTGlzdChGaWxlVHlwZVtGaWxlVHlwZS5TdXJ2ZXlBY3RpdmF0aW9uU3RhdHNdKTtcclxuXHJcblx0XHRmb3IgKGNvbnN0IHN1cnZleUlkIGluIGl0ZW1EYXRhKSB7XHJcblx0XHRcdGlmICghaXRlbURhdGEuaGFzT3duUHJvcGVydHkoc3VydmV5SWQpKSB7XHJcblx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IGRhdGFTdHJpbmc6IHN0cmluZyA9IFN0YXRlUHJvdmlkZXJIZWxwZXJzLmV4dHJhY3RTZXR0aW5nSXRlbVZhbHVlU3ViU3RyaW5nKGl0ZW1EYXRhW3N1cnZleUlkXSk7XHJcblx0XHRcdGNvbnN0IG5ld1N0YXRzOiBTdXJ2ZXlBY3RpdmF0aW9uU3RhdHMgPSBuZXcgU3VydmV5QWN0aXZhdGlvblN0YXRzKCk7XHJcblxyXG5cdFx0XHRsZXQgcmVhZFN0YXRzOiBTdXJ2ZXlBY3RpdmF0aW9uU3RhdHM7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0cmVhZFN0YXRzID0gSlNPTi5wYXJzZShkYXRhU3RyaW5nKTtcclxuXHRcdFx0XHRuZXdTdGF0cy5kZXNlcmlhbGl6ZShyZWFkU3RhdHMpO1xyXG5cdFx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FdmVudChcclxuXHRcdFx0XHRcdFRlbGVtZXRyeUV2ZW50Lkhvc3RCYXNlZFN1cnZleUFjdGl2YXRpb25TdGF0c1Byb3ZpZGVyLkdldFN1cnZleVN0YXRzRnJvbUhvc3QuRmFpbGVkLFxyXG5cdFx0XHRcdFx0eyBFcnJvck1lc3NhZ2U6IFwiSnNvbiBwYXJzaW5nL2Rlc2VyaWFsaXppbmcgZmFpbGVkLiBcIiArIGUudG9TdHJpbmcoKSArIFwiLiAgSW5wdXQ6XCIgKyBkYXRhU3RyaW5nIH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG5cdFx0XHRpZiAobmV3U3RhdHMuRXhwaXJhdGlvblRpbWVVdGMgPD0gbm93KSB7XHJcblx0XHRcdFx0Ly8gRGVsZXRlIHN1cnZleSBzdGF0IGZyb20gaG9zdCBzdG9yYWdlIGlmIGl0J3MgZXhwaXJlZC5cclxuXHRcdFx0XHR0aGlzLmhvc3RCYXNlZFN0b3JhZ2UuZGVsZXRlU2V0dGluZ0l0ZW0oRmlsZVR5cGVbRmlsZVR5cGUuU3VydmV5QWN0aXZhdGlvblN0YXRzXSwgc3VydmV5SWQpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHN0YXRzQ29sbGVjdGlvbi5hZGRTdGF0cyhzdXJ2ZXlJZCwgbmV3U3RhdHMpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gc3RhdHNDb2xsZWN0aW9uO1xyXG5cdH1cclxufVxyXG5leHBvcnQgY2xhc3MgRmlsZUJhc2VkU3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXIgaW1wbGVtZW50cyBJU3VydmV5QWN0aXZhdGlvblN0YXRzUHJvdmlkZXIge1xyXG5cdHByaXZhdGUgc3RvcmFnZTogSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlcjtcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKHN0b3JhZ2U6IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIpIHtcclxuXHRcdGlmICghc3RvcmFnZSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJzdG9yYWdlIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5zdG9yYWdlID0gc3RvcmFnZTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBsb2FkKCk6IFN1cnZleVN0YXRDb2xsZWN0aW9uQWN0aXZhdGlvbiB7XHJcblx0XHRjb25zdCByZWFkU3RyaW5nOiBzdHJpbmcgPSB0aGlzLnN0b3JhZ2UucmVhZChJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLkZpbGVUeXBlLlN1cnZleUFjdGl2YXRpb25TdGF0cyk7XHJcblx0XHRpZiAoIXJlYWRTdHJpbmcpIHtcclxuXHRcdFx0cmV0dXJuIG5ldyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24oKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uLmZyb21Kc29uKHJlYWRTdHJpbmcpO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIHNhdmUoc3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24pOiB2b2lkIHtcclxuXHRcdGlmICghc3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCB3cml0ZVN0cmluZzogc3RyaW5nID0gU3VydmV5U3RhdENvbGxlY3Rpb25BY3RpdmF0aW9uLnRvSnNvbihzdXJ2ZXlTdGF0Q29sbGVjdGlvbkFjdGl2YXRpb24pO1xyXG5cdFx0dGhpcy5zdG9yYWdlLndyaXRlKElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIuRmlsZVR5cGUuU3VydmV5QWN0aXZhdGlvblN0YXRzLCB3cml0ZVN0cmluZyk7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgU3VydmV5QWN0aXZhdGlvblN0YXRzIGltcGxlbWVudHMgSVNlcmlhbGl6YWJsZSB7XHJcblx0Ly8gVGhlIGZvbGxvd2luZyBwcm9wZXJ0eSBuYW1lcyBtYXRjaCBKU09OIHByb3BlcnR5IG5hbWVzIGZvciBwcm9wZXIgc2VyaWFsaXphdGlvbi9kZXNlcmlhbGl6YXRpb25cclxuXHRwdWJsaWMgRXhwaXJhdGlvblRpbWVVdGM6IERhdGU7XHJcblx0cHVibGljIEFjdGl2YXRpb25UaW1lVXRjOiBEYXRlO1xyXG5cdHB1YmxpYyBUeXBlOiBJU3VydmV5LlR5cGU7XHJcblxyXG5cdC8qKlxyXG5cdCAqIE1ldGhvZCB0byBkZXNlcmlhbGl6ZSBhIEpTT04gb2JqZWN0IHRvIGNsYXNzIG9iamVjdFxyXG5cdCAqIEBwYXJhbSBpbnB1dDogSlNPTiBvYmplY3RcclxuXHQgKiBSZXR1cm5zIHJlc3VsdCBvZiB2YWxpZGF0aW9uIGNoZWNrXHJcblx0ICovXHJcblx0cHVibGljIGRlc2VyaWFsaXplKGlucHV0OiBhbnkpOiBib29sZWFuIHtcclxuXHRcdHRoaXMuQWN0aXZhdGlvblRpbWVVdGMgPSBpbnB1dC5BY3RpdmF0aW9uVGltZVV0YztcclxuXHRcdHRoaXMuRXhwaXJhdGlvblRpbWVVdGMgPSBpbnB1dC5FeHBpcmF0aW9uVGltZVV0YztcclxuXHRcdHRoaXMuVHlwZSA9IGlucHV0LlR5cGU7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMudmFsaWRhdGUoKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIE1ldGhvZCB0byBjYWxsIGFmdGVyIGRlc2VyaWFsaXphdGlvbiB0byB2YWxpZGF0ZSBnZW5lcmF0ZWQgb2JqZWN0LlxyXG5cdCAqIFJldHVybnMgZmFsc2UgaWYgbm90IHZhbGlkLlxyXG5cdCAqL1xyXG5cdHB1YmxpYyB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdC8vIG1ha2UgaXQgYSBkYXRlIG9iamVjdCBpZiBpdCdzIGEgdmFsaWQgVVRDIGRhdGUgdGltZSB2YWx1ZVxyXG5cdFx0aWYgKFV0aWxzLmlzVXRjRGF0ZXRpbWVTdHJpbmcodGhpcy5BY3RpdmF0aW9uVGltZVV0YykpIHtcclxuXHRcdFx0dGhpcy5BY3RpdmF0aW9uVGltZVV0YyA9IFV0aWxzLnN0cmluZ1RvRGF0ZSh0aGlzLkFjdGl2YXRpb25UaW1lVXRjKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBtYWtlIGl0IGEgZGF0ZSBvYmplY3QgaWYgaXQncyBhIHZhbGlkIFVUQyBkYXRlIHRpbWUgdmFsdWVcclxuXHRcdGlmIChVdGlscy5pc1V0Y0RhdGV0aW1lU3RyaW5nKHRoaXMuRXhwaXJhdGlvblRpbWVVdGMpKSB7XHJcblx0XHRcdHRoaXMuRXhwaXJhdGlvblRpbWVVdGMgPSBVdGlscy5zdHJpbmdUb0RhdGUodGhpcy5FeHBpcmF0aW9uVGltZVV0Yyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIFV0aWxzLmlzRW51bVZhbHVlKHRoaXMuVHlwZSwgSVN1cnZleS5UeXBlKTtcclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyStatCollectionActivation.js\n')},"../FloodgateCore/dist/src/SurveyStatCollectionEventActivity.js":function(module,exports,__webpack_require__){"use strict";eval('\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.SurveyEventActivityStats = exports.SurveyStatCollectionEventActivity = void 0;\nvar Constants_1 = __webpack_require__(/*! ./Constants */ "../FloodgateCore/dist/src/Constants.js");\nvar FloodgateEngine_1 = __webpack_require__(/*! ./FloodgateEngine */ "../FloodgateCore/dist/src/FloodgateEngine.js");\nvar SurveyStatCollection_1 = __webpack_require__(/*! ./SurveyStatCollection */ "../FloodgateCore/dist/src/SurveyStatCollection.js");\nvar Utils = __webpack_require__(/*! ./Utils */ "../FloodgateCore/dist/src/Utils.js");\n/**\n * StatCollection for EventActivity counts.  Should be used to store/merge\n * aggregate values between sessions tracking the same surveys/events\n * E.g. A survey that activates after 3 boots.\n */\n// TODO (gachoi) check the following - VSOBug: 1443010 One bad Stat object fails the entire serialization\nvar SurveyStatCollectionEventActivity = /** @class */ (function (_super) {\n    __extends(SurveyStatCollectionEventActivity, _super);\n    function SurveyStatCollectionEventActivity() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Load from Json\n     */\n    SurveyStatCollectionEventActivity.fromJson = function (json) {\n        var statCollection = new SurveyStatCollectionEventActivity();\n        if (!json) {\n            return statCollection;\n        }\n        var readStats;\n        try {\n            readStats = JSON.parse(json);\n        }\n        catch (e) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.SurveyStatCollectionEventActivity.FromJson.Failed, { ErrorMessage: "Json parsing failed. " + e.toString() });\n            return statCollection;\n        }\n        if (!statCollection.deserialize(readStats)) {\n            return new SurveyStatCollectionEventActivity();\n        }\n        return statCollection;\n    };\n    /**\n     * Convert to Json\n     */\n    SurveyStatCollectionEventActivity.toJson = function (object) {\n        if (!object) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Event(Constants_1.TelemetryEvent.SurveyStatCollectionEventActivity.ToJson.Failed, { ErrorMessage: "Input json is null or empty." });\n            object = new SurveyStatCollectionEventActivity();\n        }\n        return JSON.stringify(object);\n    };\n    /**\n     * Add another SurveyStatCollectionEventActivity object\n     */\n    SurveyStatCollectionEventActivity.prototype.accumulate = function (other) {\n        if (!other) {\n            return;\n        }\n        var stats = other.getStats();\n        // SurveyEventActivityStats accumulation simply overwrites any keys from \'other\' into our collection\n        for (var key in stats) {\n            if (stats.hasOwnProperty(key)) {\n                var ourStats = this.getBySurveyId(key);\n                // If it does not already exist\n                if (!ourStats) {\n                    ourStats = new SurveyEventActivityStats();\n                    ourStats.Counts = [];\n                    this.addStats(key, ourStats);\n                }\n                ourStats.ExpirationTimeUtc = stats[key].ExpirationTimeUtc;\n                // If for some reason the other counts array is larger, resize ourStats.counts\n                if (ourStats.Counts.length < stats[key].Counts.length) {\n                    var resizedCounts = ourStats.Counts.slice();\n                    ourStats.Counts = resizedCounts;\n                }\n                for (var i = 0; i < stats[key].Counts.length; i++) {\n                    if (!ourStats.Counts[i]) {\n                        ourStats.Counts[i] = 0;\n                    }\n                    ourStats.Counts[i] += stats[key].Counts[i];\n                }\n            }\n        }\n    };\n    /**\n     * Method to deserialize SurveyStatCollectionEventActivity\n     * @param input: collection of SurveyStatCollectionEventActivity\n     * Returns result of validation check\n     */\n    SurveyStatCollectionEventActivity.prototype.deserialize = function (input) {\n        var rawStats = input.Surveys;\n        var now = new Date();\n        for (var key in rawStats) {\n            if (rawStats.hasOwnProperty(key)) {\n                var newStat = new SurveyEventActivityStats();\n                if (newStat.deserialize(rawStats[key]) && newStat.ExpirationTimeUtc > now) {\n                    this.addStats(key, newStat);\n                }\n            }\n        }\n        return this.validate();\n    };\n    /**\n     * Validate the Surveys\n     * Returns false if validation fails\n     */\n    SurveyStatCollectionEventActivity.prototype.validate = function () {\n        return Utils.isObject(this.getStats());\n    };\n    return SurveyStatCollectionEventActivity;\n}(SurveyStatCollection_1.SurveyStatCollection));\nexports.SurveyStatCollectionEventActivity = SurveyStatCollectionEventActivity;\nvar SurveyEventActivityStats = /** @class */ (function () {\n    function SurveyEventActivityStats() {\n    }\n    /**\n     * Method to deserialize a JSON object to class object\n     * @param input: JSON object\n     * Returns result of validation check\n     */\n    SurveyEventActivityStats.prototype.deserialize = function (input) {\n        this.ExpirationTimeUtc = input.ExpirationTimeUtc;\n        this.Counts = input.Counts;\n        return this.validate();\n    };\n    /**\n     * Method to call after deserialization to validate generated object.\n     * Returns false if not valid.\n     */\n    SurveyEventActivityStats.prototype.validate = function () {\n        if (!this.Counts) {\n            return false;\n        }\n        for (var i = 0; i < this.Counts.length; i++) {\n            var val = this.Counts[i];\n            if (!Utils.isNumber(val)) {\n                return false;\n            }\n            if (val < 0) {\n                this.Counts[i] = 0;\n            }\n        }\n        // make it a date object if it\'s a valid UTC date time value\n        if (Utils.isUtcDatetimeString(this.ExpirationTimeUtc)) {\n            this.ExpirationTimeUtc = Utils.stringToDate(this.ExpirationTimeUtc);\n        }\n        else {\n            return false;\n        }\n        return true;\n    };\n    return SurveyEventActivityStats;\n}());\nexports.SurveyEventActivityStats = SurveyEventActivityStats;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eS50cz83ODA5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxtR0FBNkM7QUFDN0MscUhBQW9EO0FBQ3BELG9JQUE4RDtBQUM5RCxxRkFBaUM7QUFFakM7Ozs7R0FJRztBQUNILHlHQUF5RztBQUN6RztJQUF1RCxxREFBOEM7SUFBckc7O0lBZ0hBLENBQUM7SUE5R0E7O09BRUc7SUFDVywwQ0FBUSxHQUF0QixVQUF1QixJQUFZO1FBQ2xDLElBQU0sY0FBYyxHQUFHLElBQUksaUNBQWlDLEVBQUUsQ0FBQztRQUUvRCxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1YsT0FBTyxjQUFjLENBQUM7U0FDdEI7UUFFRCxJQUFJLFNBQTRDLENBQUM7UUFDakQsSUFBSTtZQUNILFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQzdCO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDWCxpQ0FBZSxDQUFDLGtCQUFrQixFQUFFLENBQUMsU0FBUyxDQUM3QywwQkFBYyxDQUFDLGlDQUFpQyxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQ2hFLEVBQUUsWUFBWSxFQUFFLHVCQUF1QixHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDM0QsT0FBTyxjQUFjLENBQUM7U0FDdEI7UUFFRCxJQUFJLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUMzQyxPQUFPLElBQUksaUNBQWlDLEVBQUUsQ0FBQztTQUMvQztRQUVELE9BQU8sY0FBYyxDQUFDO0lBQ3ZCLENBQUM7SUFFRDs7T0FFRztJQUNXLHdDQUFNLEdBQXBCLFVBQXFCLE1BQXlDO1FBQzdELElBQUksQ0FBQyxNQUFNLEVBQUU7WUFDWixpQ0FBZSxDQUFDLGtCQUFrQixFQUFFLENBQUMsU0FBUyxDQUM3QywwQkFBYyxDQUFDLGlD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ZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSURpY3Rpb25hcnksIElTZXJpYWxpemFibGUgfSBmcm9tIFwiLi9Db21tb25cIjtcclxuaW1wb3J0IHsgVGVsZW1ldHJ5RXZlbnQgfSBmcm9tIFwiLi9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgRmxvb2RnYXRlRW5naW5lIH0gZnJvbSBcIi4vRmxvb2RnYXRlRW5naW5lXCI7XHJcbmltcG9ydCB7IFN1cnZleVN0YXRDb2xsZWN0aW9uIH0gZnJvbSBcIi4vU3VydmV5U3RhdENvbGxlY3Rpb25cIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4vVXRpbHNcIjtcclxuXHJcbi8qKlxyXG4gKiBTdGF0Q29sbGVjdGlvbiBmb3IgRXZlbnRBY3Rpdml0eSBjb3VudHMuICBTaG91bGQgYmUgdXNlZCB0byBzdG9yZS9tZXJnZVxyXG4gKiBhZ2dyZWdhdGUgdmFsdWVzIGJldHdlZW4gc2Vzc2lvbnMgdHJhY2tpbmcgdGhlIHNhbWUgc3VydmV5cy9ldmVudHNcclxuICogRS5nLiBBIHN1cnZleSB0aGF0IGFjdGl2YXRlcyBhZnRlciAzIGJvb3RzLlxyXG4gKi9cclxuLy8gVE9ETyAoZ2FjaG9pKSBjaGVjayB0aGUgZm9sbG93aW5nIC0gVlNPQnVnOiAxNDQzMDEwIE9uZSBiYWQgU3RhdCBvYmplY3QgZmFpbHMgdGhlIGVudGlyZSBzZXJpYWxpemF0aW9uXHJcbmV4cG9ydCBjbGFzcyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHkgZXh0ZW5kcyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbjxTdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHM+IGltcGxlbWVudHMgSVNlcmlhbGl6YWJsZSB7XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvYWQgZnJvbSBKc29uXHJcblx0ICovXHJcblx0cHVibGljIHN0YXRpYyBmcm9tSnNvbihqc29uOiBzdHJpbmcpOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHkge1xyXG5cdFx0Y29uc3Qgc3RhdENvbGxlY3Rpb24gPSBuZXcgU3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5KCk7XHJcblxyXG5cdFx0aWYgKCFqc29uKSB7XHJcblx0XHRcdHJldHVybiBzdGF0Q29sbGVjdGlvbjtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgcmVhZFN0YXRzOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHk7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRyZWFkU3RhdHMgPSBKU09OLnBhcnNlKGpzb24pO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LlN1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eS5Gcm9tSnNvbi5GYWlsZWQsXHJcblx0XHRcdFx0eyBFcnJvck1lc3NhZ2U6IFwiSnNvbiBwYXJzaW5nIGZhaWxlZC4gXCIgKyBlLnRvU3RyaW5nKCkgfSk7XHJcblx0XHRcdHJldHVybiBzdGF0Q29sbGVjdGlvbjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXN0YXRDb2xsZWN0aW9uLmRlc2VyaWFsaXplKHJlYWRTdGF0cykpIHtcclxuXHRcdFx0cmV0dXJuIG5ldyBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHkoKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gc3RhdENvbGxlY3Rpb247XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDb252ZXJ0IHRvIEpzb25cclxuXHQgKi9cclxuXHRwdWJsaWMgc3RhdGljIHRvSnNvbihvYmplY3Q6IFN1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eSk6IHN0cmluZyB7XHJcblx0XHRpZiAoIW9iamVjdCkge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0V2ZW50KFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LlN1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eS5Ub0pzb24uRmFpbGVkLFxyXG5cdFx0XHRcdHsgRXJyb3JNZXNzYWdlOiBcIklucHV0IGpzb24gaXMgbnVsbCBvciBlbXB0eS5cIiB9KTtcclxuXHRcdFx0b2JqZWN0ID0gbmV3IFN1cnZleVN0YXRDb2xsZWN0aW9uRXZlbnRBY3Rpdml0eSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeShvYmplY3QpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQWRkIGFub3RoZXIgU3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5IG9iamVjdFxyXG5cdCAqL1xyXG5cdHB1YmxpYyBhY2N1bXVsYXRlKG90aGVyOiBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHkpOiB2b2lkIHtcclxuXHRcdGlmICghb3RoZXIpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHN0YXRzOiBJRGljdGlvbmFyeTxTdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHM+ID0gb3RoZXIuZ2V0U3RhdHMoKTtcclxuXHRcdC8vIFN1cnZleUV2ZW50QWN0aXZpdHlTdGF0cyBhY2N1bXVsYXRpb24gc2ltcGx5IG92ZXJ3cml0ZXMgYW55IGtleXMgZnJvbSAnb3RoZXInIGludG8gb3VyIGNvbGxlY3Rpb25cclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHN0YXRzKSB7XHJcblx0XHRcdGlmIChzdGF0cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0bGV0IG91clN0YXRzOiBTdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHMgPSB0aGlzLmdldEJ5U3VydmV5SWQoa2V5KTtcclxuXHJcblx0XHRcdFx0Ly8gSWYgaXQgZG9lcyBub3QgYWxyZWFkeSBleGlzdFxyXG5cdFx0XHRcdGlmICghb3VyU3RhdHMpIHtcclxuXHRcdFx0XHRcdG91clN0YXRzID0gbmV3IFN1cnZleUV2ZW50QWN0aXZpdHlTdGF0cygpO1xyXG5cdFx0XHRcdFx0b3VyU3RhdHMuQ291bnRzID0gW107XHJcblx0XHRcdFx0XHR0aGlzLmFkZFN0YXRzKGtleSwgb3VyU3RhdHMpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0b3VyU3RhdHMuRXhwaXJhdGlvblRpbWVVdGMgPSBzdGF0c1trZXldLkV4cGlyYXRpb25UaW1lVXRjO1xyXG5cclxuXHRcdFx0XHQvLyBJZiBmb3Igc29tZSByZWFzb24gdGhlIG90aGVyIGNvdW50cyBhcnJheSBpcyBsYXJnZXIsIHJlc2l6ZSBvdXJTdGF0cy5jb3VudHNcclxuXHRcdFx0XHRpZiAob3VyU3RhdHMuQ291bnRzLmxlbmd0aCA8IHN0YXRzW2tleV0uQ291bnRzLmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0Y29uc3QgcmVzaXplZENvdW50czogbnVtYmVyW10gPSBvdXJTdGF0cy5Db3VudHMuc2xpY2UoKTtcclxuXHRcdFx0XHRcdG91clN0YXRzLkNvdW50cyA9IHJlc2l6ZWRDb3VudHM7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHN0YXRzW2tleV0uQ291bnRzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0XHRpZiAoIW91clN0YXRzLkNvdW50c1tpXSkge1xyXG5cdFx0XHRcdFx0XHRvdXJTdGF0cy5Db3VudHNbaV0gPSAwO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdG91clN0YXRzLkNvdW50c1tpXSArPSBzdGF0c1trZXldLkNvdW50c1tpXTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIE1ldGhvZCB0byBkZXNlcmlhbGl6ZSBTdXJ2ZXlTdGF0Q29sbGVjdGlvbkV2ZW50QWN0aXZpdHlcclxuXHQgKiBAcGFyYW0gaW5wdXQ6IGNvbGxlY3Rpb24gb2YgU3VydmV5U3RhdENvbGxlY3Rpb25FdmVudEFjdGl2aXR5XHJcblx0ICogUmV0dXJucyByZXN1bHQgb2YgdmFsaWRhdGlvbiBjaGVja1xyXG5cdCAqL1xyXG5cdHB1YmxpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogYm9vbGVhbiB7XHJcblx0XHRjb25zdCByYXdTdGF0czogSURpY3Rpb25hcnk8U3VydmV5RXZlbnRBY3Rpdml0eVN0YXRzPiA9IGlucHV0LlN1cnZleXM7XHJcblx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG5cclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHJhd1N0YXRzKSB7XHJcblx0XHRcdGlmIChyYXdTdGF0cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdFx0Y29uc3QgbmV3U3RhdCA9IG5ldyBTdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHMoKTtcclxuXHJcblx0XHRcdFx0aWYgKG5ld1N0YXQuZGVzZXJpYWxpemUocmF3U3RhdHNba2V5XSkgJiYgbmV3U3RhdC5FeHBpcmF0aW9uVGltZVV0YyA+IG5vdykge1xyXG5cdFx0XHRcdFx0dGhpcy5hZGRTdGF0cyhrZXksIG5ld1N0YXQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLnZhbGlkYXRlKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBWYWxpZGF0ZSB0aGUgU3VydmV5c1xyXG5cdCAqIFJldHVybnMgZmFsc2UgaWYgdmFsaWRhdGlvbiBmYWlsc1xyXG5cdCAqL1xyXG5cdHB1YmxpYyB2YWxpZGF0ZSgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiBVdGlscy5pc09iamVjdCh0aGlzLmdldFN0YXRzKCkpO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFN1cnZleUV2ZW50QWN0aXZpdHlTdGF0cyBpbXBsZW1lbnRzIElTZXJpYWxpemFibGUge1xyXG5cdC8vIFRoZSBmb2xsb3dpbmcgcHJvcGVydHkgbmFtZXMgbWF0Y2ggSlNPTiBwcm9wZXJ0eSBuYW1lcyBmb3IgcHJvcGVyIHNlcmlhbGl6YXRpb24vZGVzZXJpYWxpemF0aW9uXHJcblx0cHVibGljIEV4cGlyYXRpb25UaW1lVXRjOiBEYXRlO1xyXG5cdHB1YmxpYyBDb3VudHM6IG51bWJlcltdO1xyXG5cclxuXHQvKipcclxuXHQgKiBNZXRob2QgdG8gZGVzZXJpYWxpemUgYSBKU09OIG9iamVjdCB0byBjbGFzcyBvYmplY3RcclxuXHQgKiBAcGFyYW0gaW5wdXQ6IEpTT04gb2JqZWN0XHJcblx0ICogUmV0dXJucyByZXN1bHQgb2YgdmFsaWRhdGlvbiBjaGVja1xyXG5cdCAqL1xyXG5cdHB1YmxpYyBkZXNlcmlhbGl6ZShpbnB1dDogYW55KTogYm9vbGVhbiB7XHJcblx0XHR0aGlzLkV4cGlyYXRpb25UaW1lVXRjID0gaW5wdXQuRXhwaXJhdGlvblRpbWVVdGM7XHJcblx0XHR0aGlzLkNvdW50cyA9IGlucHV0LkNvdW50cztcclxuXHJcblx0XHRyZXR1cm4gdGhpcy52YWxpZGF0ZSgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTWV0aG9kIHRvIGNhbGwgYWZ0ZXIgZGVzZXJpYWxpemF0aW9uIHRvIHZhbGlkYXRlIGdlbmVyYXRlZCBvYmplY3QuXHJcblx0ICogUmV0dXJucyBmYWxzZSBpZiBub3QgdmFsaWQuXHJcblx0ICovXHJcblx0cHVibGljIHZhbGlkYXRlKCk6IGJvb2xlYW4ge1xyXG5cdFx0aWYgKCF0aGlzLkNvdW50cykge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkNvdW50cy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRjb25zdCB2YWw6IG51bWJlciA9IHRoaXMuQ291bnRzW2ldO1xyXG5cclxuXHRcdFx0aWYgKCFVdGlscy5pc051bWJlcih2YWwpKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAodmFsIDwgMCkge1xyXG5cdFx0XHRcdHRoaXMuQ291bnRzW2ldID0gMDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIG1ha2UgaXQgYSBkYXRlIG9iamVjdCBpZiBpdCdzIGEgdmFsaWQgVVRDIGRhdGUgdGltZSB2YWx1ZVxyXG5cdFx0aWYgKFV0aWxzLmlzVXRjRGF0ZXRpbWVTdHJpbmcodGhpcy5FeHBpcmF0aW9uVGltZVV0YykpIHtcclxuXHRcdFx0dGhpcy5FeHBpcmF0aW9uVGltZVV0YyA9IFV0aWxzLnN0cmluZ1RvRGF0ZSh0aGlzLkV4cGlyYXRpb25UaW1lVXRjKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/SurveyStatCollectionEventActivity.js\n')},"../FloodgateCore/dist/src/Surveys/FpsSurvey.js":function(module,exports,__webpack_require__){"use strict";eval('\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar ISurvey = __webpack_require__(/*! ../Api/ISurvey */ "../FloodgateCore/dist/src/Api/ISurvey.js");\nvar ISurveyComponent = __webpack_require__(/*! ../Api/ISurveyComponent */ "../FloodgateCore/dist/src/Api/ISurveyComponent.js");\nvar CommentComponent = __webpack_require__(/*! ../SurveyComponents/CommentComponent */ "../FloodgateCore/dist/src/SurveyComponents/CommentComponent.js");\nvar MultipleChoiceComponent = __webpack_require__(/*! ../SurveyComponents/MultipleChoiceComponent */ "../FloodgateCore/dist/src/SurveyComponents/MultipleChoiceComponent.js");\nvar PromptComponent = __webpack_require__(/*! ../SurveyComponents/PromptComponent */ "../FloodgateCore/dist/src/SurveyComponents/PromptComponent.js");\nvar RatingComponent = __webpack_require__(/*! ../SurveyComponents/RatingComponent */ "../FloodgateCore/dist/src/SurveyComponents/RatingComponent.js");\nvar Utils = __webpack_require__(/*! ../Utils */ "../FloodgateCore/dist/src/Utils.js");\nvar Survey_1 = __webpack_require__(/*! ./Survey */ "../FloodgateCore/dist/src/Surveys/Survey.js");\nvar SurveyDataSource = __webpack_require__(/*! ./SurveyDataSource */ "../FloodgateCore/dist/src/Surveys/SurveyDataSource.js");\nvar isNOU = Utils.isNOU;\nvar FpsSurvey = /** @class */ (function (_super) {\n    __extends(FpsSurvey, _super);\n    function FpsSurvey(data) {\n        var _this = _super.call(this) || this;\n        if (isNOU(data)) {\n            throw new Error("data must not be null");\n        }\n        _this.surveyInfo = new SurveyDataSource(data.baseData);\n        _this.prompt = new PromptComponent(data.promptData);\n        _this.question = data.commentData ? (new CommentComponent(data.commentData)) : null;\n        _this.rating = data.ratingData ? (new RatingComponent(data.ratingData)) : null;\n        _this.multipleChoice = data.multipleChoiceData ? (new MultipleChoiceComponent(data.multipleChoiceData)) : null;\n        return _this;\n    }\n    FpsSurvey.make = function (data) {\n        try {\n            return new FpsSurvey(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    FpsSurvey.makeFps = function (baseData, sp, surveyModel) {\n        if (isNOU(baseData) || isNOU(sp) || isNOU(surveyModel)) {\n            return null;\n        }\n        var ratingValuesAscending = [];\n        var availableOptions = [];\n        var content = surveyModel.content;\n        // Prompt is required and at least one of the other components are required\n        if (isNOU(content) || isNOU(content.prompt) ||\n            (isNOU(content.rating) && isNOU(content.multipleChoice) &&\n                isNOU(content.comment))) {\n            return null;\n        }\n        var data = new FpsSurvey.FpsSurveyData();\n        data.baseData = baseData;\n        data.promptData = new PromptComponent.PromptComponentData();\n        data.promptData.title = sp.getCustomString(content.prompt.title);\n        data.promptData.question = sp.getCustomString(content.prompt.question);\n        data.promptData.yesButtonLabel = sp.getCustomString(content.prompt.yesLabel);\n        data.promptData.noButtonLabel = sp.getCustomString(content.prompt.noLabel);\n        if (isNOU(data.promptData.title)\n            || isNOU(data.promptData.question)\n            || isNOU(data.promptData.yesButtonLabel)\n            || isNOU(data.promptData.noButtonLabel)) {\n            return null;\n        }\n        if (content.rating) {\n            data.ratingData = new RatingComponent.RatingComponentData();\n            data.ratingData.question = sp.getCustomString(content.rating.question);\n            data.ratingData.isZeroBased = content.rating.isZeroBased;\n            for (var _i = 0, _a = content.rating.ratingValuesAscending; _i < _a.length; _i++) {\n                var value = _a[_i];\n                var customString = sp.getCustomString(value);\n                if (isNOU(customString)) {\n                    return null;\n                }\n                ratingValuesAscending.push(customString);\n            }\n            data.ratingData.ratingValuesAscending = ratingValuesAscending;\n            if (isNOU(data.ratingData.question)\n                || isNOU(data.ratingData.ratingValuesAscending)) {\n                return null;\n            }\n        }\n        if (content.multipleChoice) {\n            data.multipleChoiceData = new MultipleChoiceComponent.MultipleChoiceComponentData();\n            data.multipleChoiceData.question = sp.getCustomString(content.multipleChoice.question);\n            data.multipleChoiceData.minNumberOfSelectedOptions = content.multipleChoice.minNumberOfSelectedOptions;\n            data.multipleChoiceData.maxNumberOfSelectedOptions = content.multipleChoice.maxNumberOfSelectedOptions;\n            for (var _b = 0, _c = content.multipleChoice.availableOptions; _b < _c.length; _b++) {\n                var value = _c[_b];\n                var customString = sp.getCustomString(value);\n                if (isNOU(customString)) {\n                    return null;\n                }\n                availableOptions.push(customString);\n            }\n            data.multipleChoiceData.availableOptions = availableOptions;\n            if (isNOU(data.multipleChoiceData.question)\n                || isNOU(data.multipleChoiceData.availableOptions)) {\n                return null;\n            }\n        }\n        if (content.comment) {\n            data.commentData = new CommentComponent.CommentComponentData();\n            data.commentData.question = sp.getCustomString(content.comment.question);\n            if (isNOU(data.commentData.question)) {\n                return null;\n            }\n        }\n        return this.make(data);\n    };\n    // @Override\n    FpsSurvey.prototype.getType = function () {\n        return ISurvey.Type.Fps;\n    };\n    // @Override\n    FpsSurvey.prototype.getSurveyInfo = function () {\n        return this.surveyInfo;\n    };\n    // @Override\n    FpsSurvey.prototype.getCommentComponent = function () {\n        return this.question;\n    };\n    // @Override\n    FpsSurvey.prototype.getPromptComponent = function () {\n        return this.prompt;\n    };\n    // @Override\n    FpsSurvey.prototype.getRatingComponent = function () {\n        return this.rating;\n    };\n    // @Override\n    FpsSurvey.prototype.getMultipleChoiceComponent = function () {\n        return this.multipleChoice;\n    };\n    // @Override\n    FpsSurvey.prototype.getComponent = function (componentType) {\n        switch (componentType) {\n            case "Comment" /* Comment */:\n                return this.getCommentComponent();\n            case "Prompt" /* Prompt */:\n                return this.getPromptComponent();\n            case "Rating" /* Rating */:\n                return this.getRatingComponent();\n            case "MultipleChoice" /* MultipleChoice */:\n                return this.getMultipleChoiceComponent();\n            default:\n                return null;\n        }\n    };\n    // @Override\n    FpsSurvey.prototype.getDomElements = function (doc) {\n        if (isNOU(doc)) {\n            throw new Error("Document must not be null");\n        }\n        var element = doc.createElement(ISurvey.DOM_FPS_TAGNAME);\n        this.getSurveyInfo().getDomElements(doc).forEach(function (child) {\n            if (!isNOU(child)) {\n                element.appendChild(child);\n            }\n        });\n        this.getCommentComponent().getDomElements(doc).forEach(function (child) {\n            if (!isNOU(child)) {\n                element.appendChild(child);\n            }\n        });\n        if (this.getRatingComponent()) {\n            this.getRatingComponent().getDomElements(doc).forEach(function (child) {\n                if (!isNOU(child)) {\n                    element.appendChild(child);\n                }\n            });\n        }\n        if (this.getMultipleChoiceComponent()) {\n            this.getMultipleChoiceComponent().getDomElements(doc).forEach(function (child) {\n                if (!isNOU(child)) {\n                    element.appendChild(child);\n                }\n            });\n        }\n        return [element];\n    };\n    // @Override\n    FpsSurvey.prototype.getJsonElements = function () {\n        var _a;\n        var result = {};\n        result = Utils.overrideValues(this.getSurveyInfo().getJsonElements(), result);\n        result[ISurveyComponent.JSON_APPLICATION_KEYNAME] = {};\n        result[ISurveyComponent.JSON_APPLICATION_KEYNAME][ISurveyComponent.JSON_EXTENDEDMANIFESTDATA_KEYNAME] =\n            JSON.stringify((_a = {},\n                _a[ISurveyComponent.JSON_SURVEYSTRINGS_KEYNAME] = this.makeSurveyStrings(),\n                _a[ISurveyComponent.JSON_SURVEYSPECIFICDATA_KEYNAME] = this.makeResponseString(),\n                _a));\n        return result;\n    };\n    // Makes the string to send to Manifest respecting the components present in the survey\n    FpsSurvey.prototype.makeResponseString = function () {\n        var response = {};\n        if (this.question) {\n            response[ISurveyComponent.JSON_COMMENT_KEYNAME] = [this.getCommentComponent().getSubmittedText()];\n        }\n        if (this.multipleChoice) {\n            response[ISurveyComponent.JSON_MULTIPLECHOICE_KEYNAME] =\n                [this.getMultipleChoiceComponent().getOptionSelectedStates()];\n        }\n        if (this.rating) {\n            response[ISurveyComponent.JSON_RATING_KEYNAME] = [\n                { numberOfOptions: this.getRatingComponent().getRatingValuesAscending().length,\n                    selectedRating: this.getRatingComponent().getSelectedRatingIndex() }\n            ];\n        }\n        return JSON.stringify(response);\n    };\n    // Makes the string to send to Manifest respecting the components present in the survey\n    FpsSurvey.prototype.makeSurveyStrings = function () {\n        var actualStrings = {};\n        if (this.prompt) {\n            actualStrings[ISurveyComponent.JSON_PROMPT_KEYNAME] = this.prompt.getComponentJson();\n        }\n        if (this.rating) {\n            actualStrings[ISurveyComponent.JSON_RATING_KEYNAME] = [this.rating.getComponentJson()];\n        }\n        if (this.question) {\n            actualStrings[ISurveyComponent.JSON_COMMENT_KEYNAME] = [this.question.getComponentJson()];\n        }\n        if (this.multipleChoice) {\n            actualStrings[ISurveyComponent.JSON_MULTIPLECHOICE_KEYNAME] = [this.multipleChoice.getComponentJson()];\n        }\n        return JSON.stringify(actualStrings);\n    };\n    return FpsSurvey;\n}(Survey_1.Survey));\n(function (FpsSurvey) {\n    /**\n     * Data required for a Fps Survey\n     */\n    var FpsSurveyData = /** @class */ (function () {\n        function FpsSurveyData() {\n        }\n        return FpsSurveyData;\n    }());\n    FpsSurvey.FpsSurveyData = FpsSurveyData;\n})(FpsSurvey || (FpsSurvey = {}));\nmodule.exports = FpsSurvey;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleXMvRnBzU3VydmV5LnRzPzIwYzEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFFQSxvR0FBMEM7QUFDMUMsK0hBQTREO0FBRzVELHlKQUF5RTtBQUN6RSw4S0FBdUY7QUFDdkYsc0pBQXVFO0FBQ3ZFLHNKQUF1RTtBQUN2RSxzRkFBa0M7QUFDbEMsa0dBQWtDO0FBQ2xDLDhIQUF1RDtBQUUvQyxTQUFLLEdBQUssS0FBSyxNQUFWLENBQVc7QUFFeEI7SUFBd0IsNkJBQU07SUFnSDdCLG1CQUFvQixJQUE2QjtRQUFqRCxZQUNDLGlCQUFPLFNBVVA7UUFUQSxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNoQixNQUFNLElBQUksS0FBSyxDQUFDLHVCQUF1QixDQUFDLENBQUM7U0FDekM7UUFFRCxLQUFJLENBQUMsVUFBVSxHQUFHLElBQUksZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3RELEtBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxlQUFlLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ25ELEtBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLGdCQUFnQixDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDbkYsS0FBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksZUFBZSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDOUUsS0FBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSx1QkFBdUIsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLENBQUMs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LE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLENBQUM7U0FDdkY7UUFFRCxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7WUFDbEIsYUFBYSxDQUFDLGdCQUFnQixDQUFDLG9CQUFvQixDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLGdCQUFnQixFQUFFLENBQUMsQ0FBQztTQUMxRjtRQUVELElBQUksSUFBSSxDQUFDLGNBQWMsRUFBRTtZQUN4QixhQUFhLENBQUMsZ0JBQWdCLENBQUMsMkJBQTJCLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDO1NBQ3ZHO1FBRUQsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ3RDLENBQUM7SUFDRixnQkFBQztBQUFELENBQUMsQ0E5UXVCLGVBQU0sR0E4UTdCO0FBQ0QsV0FBTyxTQUFTO0lBQ2Y7O09BRUc7SUFDSDtRQUFBO1FBTUEsQ0FBQztRQUFELG9CQUFDO0lBQUQsQ0FBQztJQU5ZLHVCQUFhLGdCQU16QjtBQUNGLENBQUMsRUFYTSxTQUFTLEtBQVQsU0FBUyxRQVdmO0FBRUQsaUJBQVMsU0FBUyxDQUFDIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5cy9GcHNTdXJ2ZXkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIgZnJvbSBcIi4uL0FwaS9JRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXJcIjtcclxuaW1wb3J0IHsgSUZwc1N1cnZleSB9IGZyb20gXCIuLi9BcGkvSUZwc1N1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5IGZyb20gXCIuLi9BcGkvSVN1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5Q29tcG9uZW50IGZyb20gXCIuLi9BcGkvSVN1cnZleUNvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBDYW1wYWlnblN1cnZleUNvbnRlbnQsIENhbXBhaWduU3VydmV5VGVtcGxhdGUgfSBmcm9tIFwiLi4vQ2FtcGFpZ24vQ2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXJcIjtcclxuaW1wb3J0ICogYXMgSVN1cnZleUluZm8gZnJvbSBcIi4uL0lTdXJ2ZXlJbmZvXCI7XHJcbmltcG9ydCAqIGFzIENvbW1lbnRDb21wb25lbnQgZnJvbSBcIi4uL1N1cnZleUNvbXBvbmVudHMvQ29tbWVudENvbXBvbmVudFwiO1xyXG5pbXBvcnQgKiBhcyBNdWx0aXBsZUNob2ljZUNvbXBvbmVudCBmcm9tIFwiLi4vU3VydmV5Q29tcG9uZW50cy9NdWx0aXBsZUNob2ljZUNvbXBvbmVudFwiO1xyXG5pbXBvcnQgKiBhcyBQcm9tcHRDb21wb25lbnQgZnJvbSBcIi4uL1N1cnZleUNvbXBvbmVudHMvUHJvbXB0Q29tcG9uZW50XCI7XHJcbmltcG9ydCAqIGFzIFJhdGluZ0NvbXBvbmVudCBmcm9tIFwiLi4vU3VydmV5Q29tcG9uZW50cy9SYXRpbmdDb21wb25lbnRcIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XHJcbmltcG9ydCB7IFN1cnZleSB9IGZyb20gXCIuL1N1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBTdXJ2ZXlEYXRhU291cmNlIGZyb20gXCIuL1N1cnZleURhdGFTb3VyY2VcIjtcclxuXHJcbmNvbnN0IHsgaXNOT1UgfSA9IFV0aWxzO1xyXG5cclxuY2xhc3MgRnBzU3VydmV5IGV4dGVuZHMgU3VydmV5IGltcGxlbWVudHMgSUZwc1N1cnZleSB7XHJcblx0cHVibGljIHN0YXRpYyBtYWtlKGRhdGE6IEZwc1N1cnZleS5GcHNTdXJ2ZXlEYXRhKTogSUZwc1N1cnZleSB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRyZXR1cm4gbmV3IEZwc1N1cnZleShkYXRhKTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhdGljIG1ha2VGcHMoYmFzZURhdGE6IFN1cnZleURhdGFTb3VyY2UuU3VydmV5RGF0YVNvdXJjZURhdGEsIHNwOiBJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIsXHJcblx0XHRzdXJ2ZXlNb2RlbDogQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZSk6IElGcHNTdXJ2ZXkge1xyXG5cclxuXHRcdGlmIChpc05PVShiYXNlRGF0YSkgfHwgaXNOT1Uoc3ApIHx8IGlzTk9VKHN1cnZleU1vZGVsKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByYXRpbmdWYWx1ZXNBc2NlbmRpbmc6IHN0cmluZ1tdID0gW107XHJcblx0XHRjb25zdCBhdmFpbGFibGVPcHRpb25zOiBzdHJpbmdbXSA9IFtdO1xyXG5cdFx0Y29uc3QgY29udGVudDogQ2FtcGFpZ25TdXJ2ZXlDb250ZW50ID0gc3VydmV5TW9kZWwuY29udGVudDtcclxuXHJcblx0XHQvLyBQcm9tcHQgaXMgcmVxdWlyZWQgYW5kIGF0IGxlYXN0IG9uZSBvZiB0aGUgb3RoZXIgY29tcG9uZW50cyBhcmUgcmVxdWlyZWRcclxuXHRcdGlmIChpc05PVShjb250ZW50KSB8fCBpc05PVShjb250ZW50LnByb21wdCkgfHxcclxuXHRcdFx0KGlzTk9VKGNvbnRlbnQucmF0aW5nKSAmJiBpc05PVShjb250ZW50Lm11bHRpcGxlQ2hvaWNlKSAmJlxyXG5cdFx0XHRpc05PVShjb250ZW50LmNvbW1lbnQpKSkge1xyXG5cclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZGF0YSA9IG5ldyBGcHNTdXJ2ZXkuRnBzU3VydmV5RGF0YSgpO1xyXG5cdFx0ZGF0YS5iYXNlRGF0YSA9IGJhc2VEYXRhO1xyXG5cclxuXHRcdGRhdGEucHJvbXB0RGF0YSA9IG5ldyBQcm9tcHRDb21wb25lbnQuUHJvbXB0Q29tcG9uZW50RGF0YSgpO1xyXG5cdFx0ZGF0YS5wcm9tcHREYXRhLnRpdGxlID0gc3AuZ2V0Q3VzdG9tU3RyaW5nKGNvbnRlbnQucHJvbXB0LnRpdGxlKTtcclxuXHRcdGRhdGEucHJvbXB0RGF0YS5xdWVzdGlvbiA9IHNwLmdldEN1c3RvbVN0cmluZyhjb250ZW50LnByb21wdC5xdWVzdGlvbik7XHJcblx0XHRkYXRhLnByb21wdERhdGEueWVzQnV0dG9uTGFiZWwgPSBzcC5nZXRDdXN0b21TdHJpbmcoY29udGVudC5wcm9tcHQueWVzTGFiZWwpO1xyXG5cdFx0ZGF0YS5wcm9tcHREYXRhLm5vQnV0dG9uTGFiZWwgPSBzcC5nZXRDdXN0b21TdHJpbmcoY29udGVudC5wcm9tcHQubm9MYWJlbCk7XHJcblxyXG5cdFx0aWYgKCBpc05PVShkYXRhLnByb21wdERhdGEudGl0bGUpXHJcblx0XHRcdHx8IGlzTk9VKGRhdGEucHJvbXB0RGF0YS5xdWVzdGlvbilcclxuXHRcdFx0fHwgaXNOT1UoZGF0YS5wcm9tcHREYXRhLnllc0J1dHRvbkxhYmVsKVxyXG5cdFx0XHR8fCBpc05PVShkYXRhLnByb21wdERhdGEubm9CdXR0b25MYWJlbCkpIHtcclxuXHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChjb250ZW50LnJhdGluZykge1xyXG5cdFx0XHRkYXRhLnJhdGluZ0RhdGEgPSBuZXcgUmF0aW5nQ29tcG9uZW50LlJhdGluZ0NvbXBvbmVudERhdGEoKTtcclxuXHRcdFx0ZGF0YS5yYXRpbmdEYXRhLnF1ZXN0aW9uID0gc3AuZ2V0Q3VzdG9tU3RyaW5nKGNvbnRlbnQucmF0aW5nLnF1ZXN0aW9uKTtcclxuXHRcdFx0ZGF0YS5yYXRpbmdEYXRhLmlzWmVyb0Jhc2VkID0gY29udGVudC5yYXRpbmcuaXNaZXJvQmFzZWQ7XHJcblxyXG5cdFx0XHRmb3IgKGNvbnN0IHZhbHVlIG9mIGNvbnRlbnQucmF0aW5nLnJhdGluZ1ZhbHVlc0FzY2VuZGluZykge1xyXG5cdFx0XHRcdGNvbnN0IGN1c3RvbVN0cmluZzogc3RyaW5nID0gc3AuZ2V0Q3VzdG9tU3RyaW5nKHZhbHVlKTtcclxuXHJcblx0XHRcdFx0aWYgKGlzTk9VKGN1c3RvbVN0cmluZykpIHtcclxuXHRcdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmF0aW5nVmFsdWVzQXNjZW5kaW5nLnB1c2goY3VzdG9tU3RyaW5nKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZGF0YS5yYXRpbmdEYXRhLnJhdGluZ1ZhbHVlc0FzY2VuZGluZyA9IHJhdGluZ1ZhbHVlc0FzY2VuZGluZztcclxuXHJcblx0XHRcdGlmIChpc05PVShkYXRhLnJhdGluZ0RhdGEucXVlc3Rpb24pXHJcblx0XHRcdFx0fHwgaXNOT1UoZGF0YS5yYXRpbmdEYXRhLnJhdGluZ1ZhbHVlc0FzY2VuZGluZykpIHtcclxuXHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoY29udGVudC5tdWx0aXBsZUNob2ljZSkge1xyXG5cdFx0XHRkYXRhLm11bHRpcGxlQ2hvaWNlRGF0YSA9IG5ldyBNdWx0aXBsZUNob2ljZUNvbXBvbmVudC5NdWx0aXBsZUNob2ljZUNvbXBvbmVudERhdGEoKTtcclxuXHRcdFx0ZGF0YS5tdWx0aXBsZUNob2ljZURhdGEucXVlc3Rpb24gPSBzcC5nZXRDdXN0b21TdHJpbmcoY29udGVudC5tdWx0aXBsZUNob2ljZS5xdWVzdGlvbik7XHJcblx0XHRcdGRhdGEubXVsdGlwbGVDaG9pY2VEYXRhLm1pbk51bWJlck9mU2VsZWN0ZWRPcHRpb25zID0gY29udGVudC5tdWx0aXBsZUNob2ljZS5taW5OdW1iZXJPZlNlbGVjdGVkT3B0aW9ucztcclxuXHRcdFx0ZGF0YS5tdWx0aXBsZUNob2ljZURhdGEubWF4TnVtYmVyT2ZTZWxlY3RlZE9wdGlvbnMgPSBjb250ZW50Lm11bHRpcGxlQ2hvaWNlLm1heE51bWJlck9mU2VsZWN0ZWRPcHRpb25zO1xyXG5cclxuXHRcdFx0Zm9yIChjb25zdCB2YWx1ZSBvZiBjb250ZW50Lm11bHRpcGxlQ2hvaWNlLmF2YWlsYWJsZU9wdGlvbnMpIHtcclxuXHRcdFx0XHRjb25zdCBjdXN0b21TdHJpbmc6IHN0cmluZyA9IHNwLmdldEN1c3RvbVN0cmluZyh2YWx1ZSk7XHJcblxyXG5cdFx0XHRcdGlmIChpc05PVShjdXN0b21TdHJpbmcpKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGF2YWlsYWJsZU9wdGlvbnMucHVzaChjdXN0b21TdHJpbmcpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRkYXRhLm11bHRpcGxlQ2hvaWNlRGF0YS5hdmFpbGFibGVPcHRpb25zID0gYXZhaWxhYmxlT3B0aW9ucztcclxuXHJcblx0XHRcdGlmIChpc05PVShkYXRhLm11bHRpcGxlQ2hvaWNlRGF0YS5xdWVzdGlvbilcclxuXHRcdFx0XHR8fCBpc05PVShkYXRhLm11bHRpcGxlQ2hvaWNlRGF0YS5hdmFpbGFibGVPcHRpb25zKSkge1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChjb250ZW50LmNvbW1lbnQpIHtcclxuXHRcdFx0ZGF0YS5jb21tZW50RGF0YSA9IG5ldyBDb21tZW50Q29tcG9uZW50LkNvbW1lbnRDb21wb25lbnREYXRhKCk7XHJcblx0XHRcdGRhdGEuY29tbWVudERhdGEucXVlc3Rpb24gPSBzcC5nZXRDdXN0b21TdHJpbmcoY29udGVudC5jb21tZW50LnF1ZXN0aW9uKTtcclxuXHJcblx0XHRcdGlmIChpc05PVShkYXRhLmNvbW1lbnREYXRhLnF1ZXN0aW9uKSkge1xyXG5cdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMubWFrZShkYXRhKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3VydmV5SW5mbzogU3VydmV5RGF0YVNvdXJjZTtcclxuXHRwcml2YXRlIHF1ZXN0aW9uOiBDb21tZW50Q29tcG9uZW50O1xyXG5cdHByaXZhdGUgcHJvbXB0OiBQcm9tcHRDb21wb25lbnQ7XHJcblx0cHJpdmF0ZSByYXRpbmc6IFJhdGluZ0NvbXBvbmVudDtcclxuXHRwcml2YXRlIG11bHRpcGxlQ2hvaWNlOiBNdWx0aXBsZUNob2ljZUNvbXBvbmVudDtcclxuXHJcblx0cHJpdmF0ZSBjb25zdHJ1Y3RvcihkYXRhOiBGcHNTdXJ2ZXkuRnBzU3VydmV5RGF0YSkge1xyXG5cdFx0c3VwZXIoKTtcclxuXHRcdGlmIChpc05PVShkYXRhKSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5zdXJ2ZXlJbmZvID0gbmV3IFN1cnZleURhdGFTb3VyY2UoZGF0YS5iYXNlRGF0YSk7XHJcblx0XHR0aGlzLnByb21wdCA9IG5ldyBQcm9tcHRDb21wb25lbnQoZGF0YS5wcm9tcHREYXRhKTtcclxuXHRcdHRoaXMucXVlc3Rpb24gPSBkYXRhLmNvbW1lbnREYXRhID8gKG5ldyBDb21tZW50Q29tcG9uZW50KGRhdGEuY29tbWVudERhdGEpKSA6IG51bGw7XHJcblx0XHR0aGlzLnJhdGluZyA9IGRhdGEucmF0aW5nRGF0YSA/IChuZXcgUmF0aW5nQ29tcG9uZW50KGRhdGEucmF0aW5nRGF0YSkpIDogbnVsbDtcclxuXHRcdHRoaXMubXVsdGlwbGVDaG9pY2UgPSBkYXRhLm11bHRpcGxlQ2hvaWNlRGF0YSA/IChuZXcgTXVsdGlwbGVDaG9pY2VDb21wb25lbnQoZGF0YS5tdWx0aXBsZUNob2ljZURhdGEpKSA6IG51bGw7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0VHlwZSgpOiBJU3VydmV5LlR5cGUge1xyXG5cdFx0cmV0dXJuIElTdXJ2ZXkuVHlwZS5GcHM7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0U3VydmV5SW5mbygpOiBJU3VydmV5SW5mbyB7XHJcblx0XHRyZXR1cm4gdGhpcy5zdXJ2ZXlJbmZvO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldENvbW1lbnRDb21wb25lbnQoKTogQ29tbWVudENvbXBvbmVudCB7XHJcblx0XHRyZXR1cm4gdGhpcy5xdWVzdGlvbjtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRQcm9tcHRDb21wb25lbnQoKTogUHJvbXB0Q29tcG9uZW50IHtcclxuXHRcdHJldHVybiB0aGlzLnByb21wdDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRSYXRpbmdDb21wb25lbnQoKTogUmF0aW5nQ29tcG9uZW50IHtcclxuXHRcdHJldHVybiB0aGlzLnJhdGluZztcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRNdWx0aXBsZUNob2ljZUNvbXBvbmVudCgpOiBNdWx0aXBsZUNob2ljZUNvbXBvbmVudCB7XHJcblx0XHRyZXR1cm4gdGhpcy5tdWx0aXBsZUNob2ljZTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRDb21wb25lbnQoY29tcG9uZW50VHlwZTogSVN1cnZleUNvbXBvbmVudC5UeXBlKTogSVN1cnZleUNvbXBvbmVudCB7XHJcblx0XHRzd2l0Y2ggKGNvbXBvbmVudFR5cGUpIHtcclxuXHRcdFx0Y2FzZSBJU3VydmV5Q29tcG9uZW50LlR5cGUuQ29tbWVudDpcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5nZXRDb21tZW50Q29tcG9uZW50KCk7XHJcblx0XHRcdGNhc2UgSVN1cnZleUNvbXBvbmVudC5UeXBlLlByb21wdDpcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5nZXRQcm9tcHRDb21wb25lbnQoKTtcclxuXHRcdFx0Y2FzZSBJU3VydmV5Q29tcG9uZW50LlR5cGUuUmF0aW5nOlxyXG5cdFx0XHRcdHJldHVybiB0aGlzLmdldFJhdGluZ0NvbXBvbmVudCgpO1xyXG5cdFx0XHRjYXNlIElTdXJ2ZXlDb21wb25lbnQuVHlwZS5NdWx0aXBsZUNob2ljZTpcclxuXHRcdFx0XHRyZXR1cm4gdGhpcy5nZXRNdWx0aXBsZUNob2ljZUNvbXBvbmVudCgpO1xyXG5cdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldERvbUVsZW1lbnRzKGRvYzogRG9jdW1lbnQpOiBFbGVtZW50W10ge1xyXG5cdFx0aWYgKGlzTk9VKGRvYykpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiRG9jdW1lbnQgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBlbGVtZW50OiBFbGVtZW50ID0gZG9jLmNyZWF0ZUVsZW1lbnQoSVN1cnZleS5ET01fRlBTX1RBR05BTUUpO1xyXG5cclxuXHRcdHRoaXMuZ2V0U3VydmV5SW5mbygpLmdldERvbUVsZW1lbnRzKGRvYykuZm9yRWFjaCgoY2hpbGQpID0+IHtcclxuXHRcdFx0aWYgKCFpc05PVShjaGlsZCkpIHtcclxuXHRcdFx0XHRlbGVtZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5nZXRDb21tZW50Q29tcG9uZW50KCkuZ2V0RG9tRWxlbWVudHMoZG9jKS5mb3JFYWNoKChjaGlsZCkgPT4ge1xyXG5cdFx0XHRpZiAoIWlzTk9VKGNoaWxkKSkge1xyXG5cdFx0XHRcdGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHRpZiAodGhpcy5nZXRSYXRpbmdDb21wb25lbnQoKSkge1xyXG5cdFx0XHR0aGlzLmdldFJhdGluZ0NvbXBvbmVudCgpLmdldERvbUVsZW1lbnRzKGRvYykuZm9yRWFjaCgoY2hpbGQpID0+IHtcclxuXHRcdFx0XHRpZiAoIWlzTk9VKGNoaWxkKSkge1xyXG5cdFx0XHRcdFx0ZWxlbWVudC5hcHBlbmRDaGlsZChjaGlsZCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5nZXRNdWx0aXBsZUNob2ljZUNvbXBvbmVudCgpKSB7XHJcblx0XHRcdHRoaXMuZ2V0TXVsdGlwbGVDaG9pY2VDb21wb25lbnQoKS5nZXREb21FbGVtZW50cyhkb2MpLmZvckVhY2goKGNoaWxkKSA9PiB7XHJcblx0XHRcdFx0aWYgKCFpc05PVShjaGlsZCkpIHtcclxuXHRcdFx0XHRcdGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIFtlbGVtZW50XTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRKc29uRWxlbWVudHMoKTogb2JqZWN0IHtcclxuXHRcdGxldCByZXN1bHQ6IG9iamVjdCA9IHt9O1xyXG5cclxuXHRcdHJlc3VsdCA9IFV0aWxzLm92ZXJyaWRlVmFsdWVzKHRoaXMuZ2V0U3VydmV5SW5mbygpLmdldEpzb25FbGVtZW50cygpLCByZXN1bHQpO1xyXG5cdFx0cmVzdWx0W0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9BUFBMSUNBVElPTl9LRVlOQU1FXSA9IHt9O1xyXG5cclxuXHRcdHJlc3VsdFtJU3VydmV5Q29tcG9uZW50LkpTT05fQVBQTElDQVRJT05fS0VZTkFNRV1bSVN1cnZleUNvbXBvbmVudC5KU09OX0VYVEVOREVETUFOSUZFU1REQVRBX0tFWU5BTUVdID1cclxuXHRcdFx0SlNPTi5zdHJpbmdpZnkoe1xyXG5cdFx0XHRcdFtJU3VydmV5Q29tcG9uZW50LkpTT05fU1VSVkVZU1RSSU5HU19LRVlOQU1FXTogdGhpcy5tYWtlU3VydmV5U3RyaW5ncygpLFxyXG5cdFx0XHRcdFtJU3VydmV5Q29tcG9uZW50LkpTT05fU1VSVkVZU1BFQ0lGSUNEQVRBX0tFWU5BTUVdOiB0aGlzLm1ha2VSZXNwb25zZVN0cmluZygpLFxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gTWFrZXMgdGhlIHN0cmluZyB0byBzZW5kIHRvIE1hbmlmZXN0IHJlc3BlY3RpbmcgdGhlIGNvbXBvbmVudHMgcHJlc2VudCBpbiB0aGUgc3VydmV5XHJcblx0cHJpdmF0ZSBtYWtlUmVzcG9uc2VTdHJpbmcoKTogc3RyaW5nIHtcclxuXHRcdGNvbnN0IHJlc3BvbnNlOiBvYmplY3QgPSB7fTtcclxuXHJcblx0XHRpZiAodGhpcy5xdWVzdGlvbikge1xyXG5cdFx0XHRyZXNwb25zZVtJU3VydmV5Q29tcG9uZW50LkpTT05fQ09NTUVOVF9LRVlOQU1FXSA9IFt0aGlzLmdldENvbW1lbnRDb21wb25lbnQoKS5nZXRTdWJtaXR0ZWRUZXh0KCldO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLm11bHRpcGxlQ2hvaWNlKSB7XHJcblx0XHRcdHJlc3BvbnNlW0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9NVUxUSVBMRUNIT0lDRV9LRVlOQU1FXSA9XHJcblx0XHRcdFx0W3RoaXMuZ2V0TXVsdGlwbGVDaG9pY2VDb21wb25lbnQoKS5nZXRPcHRpb25TZWxlY3RlZFN0YXRlcygpXTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5yYXRpbmcpIHtcclxuXHRcdFx0cmVzcG9uc2VbSVN1cnZleUNvbXBvbmVudC5KU09OX1JBVElOR19LRVlOQU1FXSA9IFtcclxuXHRcdFx0XHR7bnVtYmVyT2ZPcHRpb25zOiB0aGlzLmdldFJhdGluZ0NvbXBvbmVudCgpLmdldFJhdGluZ1ZhbHVlc0FzY2VuZGluZygpLmxlbmd0aCxcclxuXHRcdFx0c2VsZWN0ZWRSYXRpbmc6IHRoaXMuZ2V0UmF0aW5nQ29tcG9uZW50KCkuZ2V0U2VsZWN0ZWRSYXRpbmdJbmRleCgpIH1dO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeShyZXNwb25zZSk7XHJcblx0fVxyXG5cclxuXHQvLyBNYWtlcyB0aGUgc3RyaW5nIHRvIHNlbmQgdG8gTWFuaWZlc3QgcmVzcGVjdGluZyB0aGUgY29tcG9uZW50cyBwcmVzZW50IGluIHRoZSBzdXJ2ZXlcclxuXHRwcml2YXRlIG1ha2VTdXJ2ZXlTdHJpbmdzKCk6IHN0cmluZyB7XHJcblx0XHRjb25zdCBhY3R1YWxTdHJpbmdzOiBvYmplY3QgPSB7fTtcclxuXHJcblx0XHRpZiAodGhpcy5wcm9tcHQpIHtcclxuXHRcdFx0YWN0dWFsU3RyaW5nc1tJU3VydmV5Q29tcG9uZW50LkpTT05fUFJPTVBUX0tFWU5BTUVdID0gdGhpcy5wcm9tcHQuZ2V0Q29tcG9uZW50SnNvbigpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLnJhdGluZykge1xyXG5cdFx0XHRhY3R1YWxTdHJpbmdzW0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9SQVRJTkdfS0VZTkFNRV0gPSBbdGhpcy5yYXRpbmcuZ2V0Q29tcG9uZW50SnNvbigpXTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5xdWVzdGlvbikge1xyXG5cdFx0XHRhY3R1YWxTdHJpbmdzW0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9DT01NRU5UX0tFWU5BTUVdID0gW3RoaXMucXVlc3Rpb24uZ2V0Q29tcG9uZW50SnNvbigpXTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5tdWx0aXBsZUNob2ljZSkge1xyXG5cdFx0XHRhY3R1YWxTdHJpbmdzW0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9NVUxUSVBMRUNIT0lDRV9LRVlOQU1FXSA9IFt0aGlzLm11bHRpcGxlQ2hvaWNlLmdldENvbXBvbmVudEpzb24oKV07XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KGFjdHVhbFN0cmluZ3MpO1xyXG5cdH1cclxufVxyXG5tb2R1bGUgRnBzU3VydmV5IHtcclxuXHQvKipcclxuXHQgKiBEYXRhIHJlcXVpcmVkIGZvciBhIEZwcyBTdXJ2ZXlcclxuXHQgKi9cclxuXHRleHBvcnQgY2xhc3MgRnBzU3VydmV5RGF0YSB7XHJcblx0XHRwdWJsaWMgYmFzZURhdGE6IFN1cnZleURhdGFTb3VyY2UuU3VydmV5RGF0YVNvdXJjZURhdGE7XHJcblx0XHRwdWJsaWMgY29tbWVudERhdGE6IENvbW1lbnRDb21wb25lbnQuQ29tbWVudENvbXBvbmVudERhdGE7XHJcblx0XHRwdWJsaWMgcHJvbXB0RGF0YTogUHJvbXB0Q29tcG9uZW50LlByb21wdENvbXBvbmVudERhdGE7XHJcblx0XHRwdWJsaWMgcmF0aW5nRGF0YTogUmF0aW5nQ29tcG9uZW50LlJhdGluZ0NvbXBvbmVudERhdGE7XHJcblx0XHRwdWJsaWMgbXVsdGlwbGVDaG9pY2VEYXRhOiBNdWx0aXBsZUNob2ljZUNvbXBvbmVudC5NdWx0aXBsZUNob2ljZUNvbXBvbmVudERhdGE7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgPSBGcHNTdXJ2ZXk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Surveys/FpsSurvey.js\n')},"../FloodgateCore/dist/src/Surveys/GenericMessagingSurfaceSurvey.js":function(module,exports,__webpack_require__){"use strict";eval('\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar ISurvey = __webpack_require__(/*! ../Api/ISurvey */ "../FloodgateCore/dist/src/Api/ISurvey.js");\nvar Utils = __webpack_require__(/*! ../Utils */ "../FloodgateCore/dist/src/Utils.js");\nvar Survey_1 = __webpack_require__(/*! ./Survey */ "../FloodgateCore/dist/src/Surveys/Survey.js");\nvar SurveyDataSource = __webpack_require__(/*! ./SurveyDataSource */ "../FloodgateCore/dist/src/Surveys/SurveyDataSource.js");\nvar isNOU = Utils.isNOU;\nvar GenericMessagingSurfaceSurvey = /** @class */ (function (_super) {\n    __extends(GenericMessagingSurfaceSurvey, _super);\n    function GenericMessagingSurfaceSurvey(data) {\n        var _this = _super.call(this) || this;\n        if (!data) {\n            throw new Error("data must not be null");\n        }\n        _this.surveyInfo = new SurveyDataSource(data.baseData);\n        // This check cannot be done in survey info constructor\n        // as metadata is specific to this survey type.\n        if (isNOU(_this.surveyInfo.getMetadata())) {\n            throw new Error("metadata must not be null");\n        }\n        return _this;\n    }\n    GenericMessagingSurfaceSurvey.make = function (data) {\n        try {\n            return new GenericMessagingSurfaceSurvey(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    GenericMessagingSurfaceSurvey.makeCustom = function (baseData) {\n        if (isNOU(baseData)) {\n            return null;\n        }\n        var data = new GenericMessagingSurfaceSurvey.GenericMessagingSurfaceSurveyData();\n        data.baseData = baseData;\n        return this.make(data);\n    };\n    // @Override\n    GenericMessagingSurfaceSurvey.prototype.getType = function () {\n        return ISurvey.Type.GenericMessagingSurface;\n    };\n    // @Override\n    GenericMessagingSurfaceSurvey.prototype.getSurveyInfo = function () {\n        return this.surveyInfo;\n    };\n    // @Override\n    GenericMessagingSurfaceSurvey.prototype.getComponent = function (componentType) {\n        return null;\n    };\n    // @Override\n    GenericMessagingSurfaceSurvey.prototype.getDomElements = function (doc) {\n        return [];\n    };\n    // @Override\n    GenericMessagingSurfaceSurvey.prototype.getJsonElements = function () {\n        return {};\n    };\n    return GenericMessagingSurfaceSurvey;\n}(Survey_1.Survey));\n(function (GenericMessagingSurfaceSurvey) {\n    /**\n     * Data required for a Generic Surface Survey\n     */\n    var GenericMessagingSurfaceSurveyData = /** @class */ (function () {\n        function GenericMessagingSurfaceSurveyData() {\n        }\n        return GenericMessagingSurfaceSurveyData;\n    }());\n    GenericMessagingSurfaceSurvey.GenericMessagingSurfaceSurveyData = GenericMessagingSurfaceSurveyData;\n})(GenericMessagingSurfaceSurvey || (GenericMessagingSurfaceSurvey = {}));\nmodule.exports = GenericMessagingSurfaceSurvey;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleXMvR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2VTdXJ2ZXkudHM/ZWEwMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBLG9HQUEwQztBQUcxQyxzRkFBa0M7QUFDbEMsa0dBQWtDO0FBQ2xDLDhIQUF1RDtBQUUvQyxTQUFLLEdBQUssS0FBSyxNQUFWLENBQVc7QUFFeEI7SUFBNEMsaURBQU07SUFzQmpELHVDQUFvQixJQUFxRTtRQUF6RixZQUNDLGlCQUFPLFNBWVA7UUFYQSxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1YsTUFBTSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1NBQ3pDO1FBRUQsS0FBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLGdCQUFnQixDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUV0RCx1REFBdUQ7UUFDdkQsK0NBQStDO1FBQy9DLElBQUksS0FBSyxDQUFDLEtBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxFQUFFLENBQUMsRUFBRTtZQUN6QyxNQUFNLElBQUksS0FBSyxDQUFDLDJCQUEyQixDQUFDLENBQUM7U0FDN0M7O0lBQ0YsQ0FBQztJQWxDYSxrQ0FBSSxHQUFsQixVQUFtQixJQUFxRTtRQUN2RixJQUFJO1lBQ0gsT0FBTyxJQUFJLDZCQUE2QixDQUFDLElBQUksQ0FBQyxDQUFDO1NBQy9DO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDWCxPQUFPLElBQUksQ0FBQztTQUNaO0lBQ0YsQ0FBQztJQUVhLHdDQUFVLEdBQXhCLFVBQXlCLFFBQStDO1FBQ3ZFLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQ3BCLE9BQU8sSUFBSSxDQUFDO1NBQ1o7UUFFRCxJQUFNLElBQUksR0FBRyxJQUFJLDZCQUE2QixDQUFDLGlDQUFpQyxFQUFFLENBQUM7UUFDbkYsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFFekIsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3hCLENBQUM7SUFtQkQsWUFBWTtJQUNMLCtDQUFPLEdBQWQ7UUFDQyxPQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsdUJBQXVCLENBQUM7SUFDN0MsQ0FBQztJQUVELFlBQVk7SUFDTCxxREFBYSxHQUFwQjtRQUNDLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUN4QixDQUFDO0lBRUQsWUFBWTtJQUNMLG9EQUFZLEdBQW5CLFVBQW9CLGFBQW9DO1FBQ3ZELE9BQU8sSUFBSSxDQUFDO0lBQ2IsQ0FBQztJQUVELFlBQVk7SUFDTCxzREFBYyxHQUFyQixVQUFzQixHQUFhO1FBQ2xDLE9BQU8sRUFBRSxDQUFDO0lBQ1gsQ0FBQztJQUVELFlBQVk7SUFDTCx1REFBZSxHQUF0QjtRQUNDLE9BQU8sRUFBRSxDQUFDO0lBQ1gsQ0FBQztJQUNGLG9DQUFDO0FBQUQsQ0FBQyxDQTdEMkMsZUFBTSxHQTZEakQ7QUFFRCxXQUFPLDZCQUE2QjtJQUNuQzs7T0FFRztJQUNIO1FBQUE7UUFFQSxDQUFDO1FBQUQsd0NBQUM7SUFBRCxDQUFDO0lBRlksK0RBQWlDLG9DQUU3QztBQUNGLENBQUMsRUFQTSw2QkFBNkIsS0FBN0IsNkJBQTZCLFFBT25DO0FBRUQsaUJBQVMsNkJBQTZCLENBQUMiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9TdXJ2ZXlzL0dlbmVyaWNNZXNzYWdpbmdTdXJmYWNlU3VydmV5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgSVN1cnZleSBmcm9tIFwiLi4vQXBpL0lTdXJ2ZXlcIjtcclxuaW1wb3J0ICogYXMgSVN1cnZleUNvbXBvbmVudCBmcm9tIFwiLi4vQXBpL0lTdXJ2ZXlDb21wb25lbnRcIjtcclxuaW1wb3J0ICogYXMgSVN1cnZleUluZm8gZnJvbSBcIi4uL0lTdXJ2ZXlJbmZvXCI7XHJcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gXCIuLi9VdGlsc1wiO1xyXG5pbXBvcnQgeyBTdXJ2ZXkgfSBmcm9tIFwiLi9TdXJ2ZXlcIjtcclxuaW1wb3J0ICogYXMgU3VydmV5RGF0YVNvdXJjZSBmcm9tIFwiLi9TdXJ2ZXlEYXRhU291cmNlXCI7XHJcblxyXG5jb25zdCB7IGlzTk9VIH0gPSBVdGlscztcclxuXHJcbmNsYXNzIEdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlU3VydmV5IGV4dGVuZHMgU3VydmV5IHtcclxuXHRwdWJsaWMgc3RhdGljIG1ha2UoZGF0YTogR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2VTdXJ2ZXkuR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2VTdXJ2ZXlEYXRhKTogSVN1cnZleSB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRyZXR1cm4gbmV3IEdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlU3VydmV5KGRhdGEpO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgbWFrZUN1c3RvbShiYXNlRGF0YTogU3VydmV5RGF0YVNvdXJjZS5TdXJ2ZXlEYXRhU291cmNlRGF0YSk6IElTdXJ2ZXkge1xyXG5cdFx0aWYgKGlzTk9VKGJhc2VEYXRhKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBkYXRhID0gbmV3IEdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlU3VydmV5LkdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlU3VydmV5RGF0YSgpO1xyXG5cdFx0ZGF0YS5iYXNlRGF0YSA9IGJhc2VEYXRhO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLm1ha2UoZGF0YSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN1cnZleUluZm86IFN1cnZleURhdGFTb3VyY2U7XHJcblxyXG5cdHByaXZhdGUgY29uc3RydWN0b3IoZGF0YTogR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2VTdXJ2ZXkuR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2VTdXJ2ZXlEYXRhKSB7XHJcblx0XHRzdXBlcigpO1xyXG5cdFx0aWYgKCFkYXRhKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnN1cnZleUluZm8gPSBuZXcgU3VydmV5RGF0YVNvdXJjZShkYXRhLmJhc2VEYXRhKTtcclxuXHJcblx0XHQvLyBUaGlzIGNoZWNrIGNhbm5vdCBiZSBkb25lIGluIHN1cnZleSBpbmZvIGNvbnN0cnVjdG9yXHJcblx0XHQvLyBhcyBtZXRhZGF0YSBpcyBzcGVjaWZpYyB0byB0aGlzIHN1cnZleSB0eXBlLlxyXG5cdFx0aWYgKGlzTk9VKHRoaXMuc3VydmV5SW5mby5nZXRNZXRhZGF0YSgpKSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJtZXRhZGF0YSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldFR5cGUoKTogSVN1cnZleS5UeXBlIHtcclxuXHRcdHJldHVybiBJU3VydmV5LlR5cGUuR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2U7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0U3VydmV5SW5mbygpOiBJU3VydmV5SW5mbyB7XHJcblx0XHRyZXR1cm4gdGhpcy5zdXJ2ZXlJbmZvO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldENvbXBvbmVudChjb21wb25lbnRUeXBlOiBJU3VydmV5Q29tcG9uZW50LlR5cGUpOiBJU3VydmV5Q29tcG9uZW50IHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldERvbUVsZW1lbnRzKGRvYzogRG9jdW1lbnQpOiBFbGVtZW50W10ge1xyXG5cdFx0cmV0dXJuIFtdO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldEpzb25FbGVtZW50cygpOiBvYmplY3Qge1xyXG5cdFx0cmV0dXJuIHt9O1xyXG5cdH1cclxufVxyXG5cclxubW9kdWxlIEdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlU3VydmV5IHtcclxuXHQvKipcclxuXHQgKiBEYXRhIHJlcXVpcmVkIGZvciBhIEdlbmVyaWMgU3VyZmFjZSBTdXJ2ZXlcclxuXHQgKi9cclxuXHRleHBvcnQgY2xhc3MgR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2VTdXJ2ZXlEYXRhIHtcclxuXHRcdHB1YmxpYyBiYXNlRGF0YTogU3VydmV5RGF0YVNvdXJjZS5TdXJ2ZXlEYXRhU291cmNlRGF0YTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCA9IEdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlU3VydmV5O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Surveys/GenericMessagingSurfaceSurvey.js\n')},"../FloodgateCore/dist/src/Surveys/InterceptSurvey.js":function(module,exports,__webpack_require__){"use strict";eval('\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar ISurvey = __webpack_require__(/*! ../Api/ISurvey */ "../FloodgateCore/dist/src/Api/ISurvey.js");\nvar InterceptComponent = __webpack_require__(/*! ../SurveyComponents/InterceptComponent */ "../FloodgateCore/dist/src/SurveyComponents/InterceptComponent.js");\nvar Utils = __webpack_require__(/*! ../Utils */ "../FloodgateCore/dist/src/Utils.js");\nvar Survey_1 = __webpack_require__(/*! ./Survey */ "../FloodgateCore/dist/src/Surveys/Survey.js");\nvar SurveyDataSource = __webpack_require__(/*! ./SurveyDataSource */ "../FloodgateCore/dist/src/Surveys/SurveyDataSource.js");\nvar isNOU = Utils.isNOU;\nvar InterceptSurvey = /** @class */ (function (_super) {\n    __extends(InterceptSurvey, _super);\n    function InterceptSurvey(data) {\n        var _this = _super.call(this) || this;\n        if (isNOU(data)) {\n            throw new Error("data must not be null");\n        }\n        _this.surveyInfo = new SurveyDataSource(data.baseData);\n        _this.intercept = new InterceptComponent(data.interceptData);\n        return _this;\n    }\n    InterceptSurvey.make = function (data) {\n        try {\n            return new InterceptSurvey(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    InterceptSurvey.makeIntercept = function (baseData, sp, surveyModel) {\n        if (isNOU(baseData) || isNOU(sp) || isNOU(surveyModel)) {\n            return null;\n        }\n        var content = surveyModel.content;\n        // Intercept component is required.\n        if (isNOU(content) || isNOU(content.intercept)) {\n            return null;\n        }\n        var data = new InterceptSurvey.InterceptSurveyData();\n        data.baseData = baseData;\n        data.interceptData = new InterceptComponent.InterceptComponentData();\n        data.interceptData.title = sp.getCustomString(content.intercept.title);\n        data.interceptData.question = sp.getCustomString(content.intercept.question);\n        data.interceptData.url = sp.getCustomString(content.intercept.url);\n        if (isNOU(data.interceptData.title)\n            || isNOU(data.interceptData.question)\n            || isNOU(data.interceptData.url)) {\n            return null;\n        }\n        return this.make(data);\n    };\n    // @Override\n    InterceptSurvey.prototype.getType = function () {\n        return ISurvey.Type.Intercept;\n    };\n    // @Override\n    InterceptSurvey.prototype.getSurveyInfo = function () {\n        return this.surveyInfo;\n    };\n    // @Override\n    InterceptSurvey.prototype.getInterceptComponent = function () {\n        return this.intercept;\n    };\n    // @Override\n    InterceptSurvey.prototype.getComponent = function (componentType) {\n        return (componentType === "Intercept" /* Intercept */) ? this.getInterceptComponent() : null;\n    };\n    // @Override\n    InterceptSurvey.prototype.getDomElements = function (doc) {\n        return [];\n    };\n    // @Override\n    InterceptSurvey.prototype.getJsonElements = function () {\n        return {};\n    };\n    return InterceptSurvey;\n}(Survey_1.Survey));\n(function (InterceptSurvey) {\n    /**\n     * Data required for a Fps Survey\n     */\n    var InterceptSurveyData = /** @class */ (function () {\n        function InterceptSurveyData() {\n        }\n        return InterceptSurveyData;\n    }());\n    InterceptSurvey.InterceptSurveyData = InterceptSurveyData;\n})(InterceptSurvey || (InterceptSurvey = {}));\nmodule.exports = InterceptSurvey;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleXMvSW50ZXJjZXB0U3VydmV5LnRzPzZiM2MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFFQSxvR0FBMEM7QUFJMUMsK0pBQTZFO0FBQzdFLHNGQUFrQztBQUNsQyxrR0FBa0M7QUFDbEMsOEhBQXVEO0FBRS9DLFNBQUssR0FBSyxLQUFLLE1BQVYsQ0FBVztBQUV4QjtJQUE4QixtQ0FBTTtJQTZDbkMseUJBQW9CLElBQXlDO1FBQTdELFlBQ0MsaUJBQU8sU0FPUDtRQU5BLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ2hCLE1BQU0sSUFBSSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQztTQUN6QztRQUVELEtBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDdEQsS0FBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLGtCQUFrQixDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQzs7SUFDN0QsQ0FBQztJQXBEYSxvQkFBSSxHQUFsQixVQUFtQixJQUF5QztRQUMzRCxJQUFJO1lBQ0gsT0FBTyxJQUFJLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNqQztRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1gsT0FBTyxJQUFJLENBQUM7U0FDWjtJQUNGLENBQUM7SUFFYSw2QkFBYSxHQUEzQixVQUE0QixRQUErQyxFQUFFLEVBQTRCLEVBQ3hHLFdBQW1DO1FBRW5DLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEtBQUssQ0FBQyxFQUFFLENBQUMsSUFBSSxLQUFLLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFDdkQsT0FBTyxJQUFJLENBQUM7U0FDWjtRQUVELElBQU0sT0FBTyxHQUEwQixXQUFXLENBQUMsT0FBTyxDQUFDO1FBRTNELG1DQUFtQztRQUNuQyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQy9DLE9BQU8sSUFBSSxDQUFDO1NBQ1o7UUFFRCxJQUFNLElBQUksR0FBRyxJQUFJLGVBQWUsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBQ3ZELElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1FBRXpCLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxrQkFBa0IsQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO1FBRXJFLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN2RSxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDN0UsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRW5FLElBQUssS0FBSyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDO2VBQ2hDLEtBQUssQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQztlQUNsQyxLQUFLLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUVsQyxPQUFPLElBQUksQ0FBQztTQUNaO1FBRUQsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3hCLENBQUM7SUFlRCxZQUFZO0lBQ0wsaUNBQU8sR0FBZDtRQUNDLE9BQU8sT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDL0IsQ0FBQztJQUVELFlBQVk7SUFDTCx1Q0FBYSxHQUFwQjtRQUNDLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUN4QixDQUFDO0lBRUQsWUFBWTtJQUNMLCtDQUFxQixHQUE1QjtRQUNDLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUN2QixDQUFDO0lBRUQsWUFBWTtJQUNMLHNDQUFZLEdBQW5CLFVBQW9CLGFBQW9DO1FBQ3ZELE9BQU8sQ0FBQyxhQUFhLGdDQUFvQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7SUFDbEcsQ0FBQztJQUVELFlBQVk7SUFDTCx3Q0FBYyxHQUFyQixVQUFzQixHQUFhO1FBQ2xDLE9BQU8sRUFBRSxDQUFDO0lBQ1gsQ0FBQztJQUVELFlBQVk7SUFDTCx5Q0FBZSxHQUF0QjtRQUNDLE9BQU8sRUFBRSxDQUFDO0lBQ1gsQ0FBQztJQUNGLHNCQUFDO0FBQUQsQ0FBQyxDQXBGNkIsZUFBTSxHQW9GbkM7QUFDRCxXQUFPLGVBQWU7SUFDckI7O09BRUc7SUFDSDtRQUFBO1FBR0EsQ0FBQztRQUFELDBCQUFDO0lBQUQsQ0FBQztJQUhZLG1DQUFtQixzQkFHL0I7QUFDRixDQUFDLEVBUk0sZUFBZSxLQUFmLGVBQWUsUUFRckI7QUFFRCxpQkFBUyxlQUFlLENBQUMiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9TdXJ2ZXlzL0ludGVyY2VwdFN1cnZleS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIElGbG9vZGdhdGVTdHJpbmdQcm92aWRlciBmcm9tIFwiLi4vQXBpL0lGbG9vZGdhdGVTdHJpbmdQcm92aWRlclwiO1xyXG5pbXBvcnQgeyBJSW50ZXJjZXB0U3VydmV5IH0gZnJvbSBcIi4uL0FwaS9JSW50ZXJjZXB0U3VydmV5XCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXkgZnJvbSBcIi4uL0FwaS9JU3VydmV5XCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXlDb21wb25lbnQgZnJvbSBcIi4uL0FwaS9JU3VydmV5Q29tcG9uZW50XCI7XHJcbmltcG9ydCB7IENhbXBhaWduU3VydmV5Q29udGVudCwgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZSB9IGZyb20gXCIuLi9DYW1wYWlnbi9DYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlclwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5SW5mbyBmcm9tIFwiLi4vSVN1cnZleUluZm9cIjtcclxuaW1wb3J0ICogYXMgSW50ZXJjZXB0Q29tcG9uZW50IGZyb20gXCIuLi9TdXJ2ZXlDb21wb25lbnRzL0ludGVyY2VwdENvbXBvbmVudFwiO1xyXG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tIFwiLi4vVXRpbHNcIjtcclxuaW1wb3J0IHsgU3VydmV5IH0gZnJvbSBcIi4vU3VydmV5XCI7XHJcbmltcG9ydCAqIGFzIFN1cnZleURhdGFTb3VyY2UgZnJvbSBcIi4vU3VydmV5RGF0YVNvdXJjZVwiO1xyXG5cclxuY29uc3QgeyBpc05PVSB9ID0gVXRpbHM7XHJcblxyXG5jbGFzcyBJbnRlcmNlcHRTdXJ2ZXkgZXh0ZW5kcyBTdXJ2ZXkgaW1wbGVtZW50cyBJSW50ZXJjZXB0U3VydmV5IHtcclxuXHRwdWJsaWMgc3RhdGljIG1ha2UoZGF0YTogSW50ZXJjZXB0U3VydmV5LkludGVyY2VwdFN1cnZleURhdGEpOiBJSW50ZXJjZXB0U3VydmV5IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdHJldHVybiBuZXcgSW50ZXJjZXB0U3VydmV5KGRhdGEpO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgbWFrZUludGVyY2VwdChiYXNlRGF0YTogU3VydmV5RGF0YVNvdXJjZS5TdXJ2ZXlEYXRhU291cmNlRGF0YSwgc3A6IElGbG9vZGdhdGVTdHJpbmdQcm92aWRlcixcclxuXHRcdHN1cnZleU1vZGVsOiBDYW1wYWlnblN1cnZleVRlbXBsYXRlKTogSUludGVyY2VwdFN1cnZleSB7XHJcblxyXG5cdFx0aWYgKGlzTk9VKGJhc2VEYXRhKSB8fCBpc05PVShzcCkgfHwgaXNOT1Uoc3VydmV5TW9kZWwpKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGNvbnRlbnQ6IENhbXBhaWduU3VydmV5Q29udGVudCA9IHN1cnZleU1vZGVsLmNvbnRlbnQ7XHJcblxyXG5cdFx0Ly8gSW50ZXJjZXB0IGNvbXBvbmVudCBpcyByZXF1aXJlZC5cclxuXHRcdGlmIChpc05PVShjb250ZW50KSB8fCBpc05PVShjb250ZW50LmludGVyY2VwdCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZGF0YSA9IG5ldyBJbnRlcmNlcHRTdXJ2ZXkuSW50ZXJjZXB0U3VydmV5RGF0YSgpO1xyXG5cdFx0ZGF0YS5iYXNlRGF0YSA9IGJhc2VEYXRhO1xyXG5cclxuXHRcdGRhdGEuaW50ZXJjZXB0RGF0YSA9IG5ldyBJbnRlcmNlcHRDb21wb25lbnQuSW50ZXJjZXB0Q29tcG9uZW50RGF0YSgpO1xyXG5cclxuXHRcdGRhdGEuaW50ZXJjZXB0RGF0YS50aXRsZSA9IHNwLmdldEN1c3RvbVN0cmluZyhjb250ZW50LmludGVyY2VwdC50aXRsZSk7XHJcblx0XHRkYXRhLmludGVyY2VwdERhdGEucXVlc3Rpb24gPSBzcC5nZXRDdXN0b21TdHJpbmcoY29udGVudC5pbnRlcmNlcHQucXVlc3Rpb24pO1xyXG5cdFx0ZGF0YS5pbnRlcmNlcHREYXRhLnVybCA9IHNwLmdldEN1c3RvbVN0cmluZyhjb250ZW50LmludGVyY2VwdC51cmwpO1xyXG5cclxuXHRcdGlmICggaXNOT1UoZGF0YS5pbnRlcmNlcHREYXRhLnRpdGxlKVxyXG5cdFx0XHR8fCBpc05PVShkYXRhLmludGVyY2VwdERhdGEucXVlc3Rpb24pXHJcblx0XHRcdHx8IGlzTk9VKGRhdGEuaW50ZXJjZXB0RGF0YS51cmwpKSB7XHJcblxyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy5tYWtlKGRhdGEpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdXJ2ZXlJbmZvOiBTdXJ2ZXlEYXRhU291cmNlO1xyXG5cdHByaXZhdGUgaW50ZXJjZXB0OiBJbnRlcmNlcHRDb21wb25lbnQ7XHJcblxyXG5cdHByaXZhdGUgY29uc3RydWN0b3IoZGF0YTogSW50ZXJjZXB0U3VydmV5LkludGVyY2VwdFN1cnZleURhdGEpIHtcclxuXHRcdHN1cGVyKCk7XHJcblx0XHRpZiAoaXNOT1UoZGF0YSkpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiZGF0YSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuc3VydmV5SW5mbyA9IG5ldyBTdXJ2ZXlEYXRhU291cmNlKGRhdGEuYmFzZURhdGEpO1xyXG5cdFx0dGhpcy5pbnRlcmNlcHQgPSBuZXcgSW50ZXJjZXB0Q29tcG9uZW50KGRhdGEuaW50ZXJjZXB0RGF0YSk7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0VHlwZSgpOiBJU3VydmV5LlR5cGUge1xyXG5cdFx0cmV0dXJuIElTdXJ2ZXkuVHlwZS5JbnRlcmNlcHQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0U3VydmV5SW5mbygpOiBJU3VydmV5SW5mbyB7XHJcblx0XHRyZXR1cm4gdGhpcy5zdXJ2ZXlJbmZvO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldEludGVyY2VwdENvbXBvbmVudCgpOiBJbnRlcmNlcHRDb21wb25lbnQge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW50ZXJjZXB0O1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldENvbXBvbmVudChjb21wb25lbnRUeXBlOiBJU3VydmV5Q29tcG9uZW50LlR5cGUpOiBJU3VydmV5Q29tcG9uZW50IHtcclxuXHRcdHJldHVybiAoY29tcG9uZW50VHlwZSA9PT0gSVN1cnZleUNvbXBvbmVudC5UeXBlLkludGVyY2VwdCkgPyB0aGlzLmdldEludGVyY2VwdENvbXBvbmVudCgpIDogbnVsbDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXREb21FbGVtZW50cyhkb2M6IERvY3VtZW50KTogRWxlbWVudFtdIHtcclxuXHRcdHJldHVybiBbXTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRKc29uRWxlbWVudHMoKTogb2JqZWN0IHtcclxuXHRcdHJldHVybiB7fTtcclxuXHR9XHJcbn1cclxubW9kdWxlIEludGVyY2VwdFN1cnZleSB7XHJcblx0LyoqXHJcblx0ICogRGF0YSByZXF1aXJlZCBmb3IgYSBGcHMgU3VydmV5XHJcblx0ICovXHJcblx0ZXhwb3J0IGNsYXNzIEludGVyY2VwdFN1cnZleURhdGEge1xyXG5cdFx0cHVibGljIGJhc2VEYXRhOiBTdXJ2ZXlEYXRhU291cmNlLlN1cnZleURhdGFTb3VyY2VEYXRhO1xyXG5cdFx0cHVibGljIGludGVyY2VwdERhdGE6IEludGVyY2VwdENvbXBvbmVudC5JbnRlcmNlcHRDb21wb25lbnREYXRhO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0ID0gSW50ZXJjZXB0U3VydmV5O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Surveys/InterceptSurvey.js\n')},"../FloodgateCore/dist/src/Surveys/NlqsSurvey.js":function(module,exports,__webpack_require__){"use strict";eval('\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar ISurvey = __webpack_require__(/*! ../Api/ISurvey */ "../FloodgateCore/dist/src/Api/ISurvey.js");\nvar CommentComponent = __webpack_require__(/*! ../SurveyComponents/CommentComponent */ "../FloodgateCore/dist/src/SurveyComponents/CommentComponent.js");\nvar PromptComponent = __webpack_require__(/*! ../SurveyComponents/PromptComponent */ "../FloodgateCore/dist/src/SurveyComponents/PromptComponent.js");\nvar RatingComponent = __webpack_require__(/*! ../SurveyComponents/RatingComponent */ "../FloodgateCore/dist/src/SurveyComponents/RatingComponent.js");\nvar Utils = __webpack_require__(/*! ../Utils */ "../FloodgateCore/dist/src/Utils.js");\nvar Survey_1 = __webpack_require__(/*! ./Survey */ "../FloodgateCore/dist/src/Surveys/Survey.js");\nvar SurveyDataSource = __webpack_require__(/*! ./SurveyDataSource */ "../FloodgateCore/dist/src/Surveys/SurveyDataSource.js");\nvar isNOU = Utils.isNOU, overrideValues = Utils.overrideValues;\nvar NlqsSurvey = /** @class */ (function (_super) {\n    __extends(NlqsSurvey, _super);\n    function NlqsSurvey(data) {\n        var _this = _super.call(this) || this;\n        if (isNOU(data)) {\n            throw new Error("data must not be null");\n        }\n        _this.surveyInfo = new SurveyDataSource(data.baseData);\n        _this.prompt = new PromptComponent(data.promptData);\n        _this.question = new CommentComponent(data.commentData);\n        _this.rating = new RatingComponent(data.ratingData);\n        return _this;\n    }\n    NlqsSurvey.make = function (data) {\n        try {\n            return new NlqsSurvey(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    NlqsSurvey.makeNlqs = function (baseData, sp, surveyModel) {\n        if (isNOU(baseData) || isNOU(sp) || isNOU(surveyModel)) {\n            return null;\n        }\n        var ratingValuesAscending = [];\n        var content = surveyModel.content;\n        if (isNOU(content) || isNOU(content.comment)\n            || isNOU(content.prompt) || isNOU(content.rating)) {\n            return null;\n        }\n        var data = new NlqsSurvey.NlqsSurveyData();\n        data.baseData = baseData;\n        data.promptData = new PromptComponent.PromptComponentData();\n        data.ratingData = new RatingComponent.RatingComponentData();\n        data.commentData = new CommentComponent.CommentComponentData();\n        data.promptData.title = sp.getCustomString(content.prompt.title);\n        data.promptData.question = sp.getCustomString(content.prompt.question);\n        data.promptData.yesButtonLabel = sp.getCustomString(content.prompt.yesLabel);\n        data.promptData.noButtonLabel = sp.getCustomString(content.prompt.noLabel);\n        data.ratingData.question = sp.getCustomString(content.rating.question);\n        data.ratingData.isZeroBased = content.rating.isZeroBased;\n        data.commentData.question = sp.getCustomString(content.comment.question);\n        for (var _i = 0, _a = content.rating.ratingValuesAscending; _i < _a.length; _i++) {\n            var value = _a[_i];\n            var customString = sp.getCustomString(value);\n            if (isNOU(customString)) {\n                return null;\n            }\n            ratingValuesAscending.push(customString);\n        }\n        data.ratingData.ratingValuesAscending = ratingValuesAscending;\n        if (isNOU(data.ratingData.question)\n            || isNOU(data.commentData.question)\n            || isNOU(data.promptData.title)\n            || isNOU(data.promptData.question)\n            || isNOU(data.promptData.yesButtonLabel)\n            || isNOU(data.promptData.noButtonLabel)\n            || isNOU(data.ratingData.ratingValuesAscending)) {\n            return null;\n        }\n        return this.make(data);\n    };\n    // @Override\n    NlqsSurvey.prototype.getType = function () {\n        return ISurvey.Type.Nlqs;\n    };\n    // @Override\n    NlqsSurvey.prototype.getSurveyInfo = function () {\n        return this.surveyInfo;\n    };\n    // @Override\n    NlqsSurvey.prototype.getCommentComponent = function () {\n        return this.question;\n    };\n    // @Override\n    NlqsSurvey.prototype.getPromptComponent = function () {\n        return this.prompt;\n    };\n    // @Override\n    NlqsSurvey.prototype.getRatingComponent = function () {\n        return this.rating;\n    };\n    // @Override\n    NlqsSurvey.prototype.getComponent = function (componentType) {\n        switch (componentType) {\n            case "Comment" /* Comment */:\n                return this.getCommentComponent();\n            case "Prompt" /* Prompt */:\n                return this.getPromptComponent();\n            case "Rating" /* Rating */:\n                return this.getRatingComponent();\n            default:\n                return null;\n        }\n    };\n    // @Override\n    NlqsSurvey.prototype.getDomElements = function (doc) {\n        if (isNOU(doc)) {\n            throw new Error("Document must not be null");\n        }\n        var element = doc.createElement(ISurvey.DOM_NLQS_TAGNAME);\n        this.getSurveyInfo().getDomElements(doc).forEach(function (child) {\n            if (!isNOU(child)) {\n                element.appendChild(child);\n            }\n        });\n        this.getCommentComponent().getDomElements(doc).forEach(function (child) {\n            if (!isNOU(child)) {\n                element.appendChild(child);\n            }\n        });\n        this.getRatingComponent().getDomElements(doc).forEach(function (child) {\n            if (!isNOU(child)) {\n                element.appendChild(child);\n            }\n        });\n        return [element];\n    };\n    // @Override\n    NlqsSurvey.prototype.getJsonElements = function () {\n        var result = {};\n        result = overrideValues(this.getSurveyInfo().getJsonElements(), result);\n        result = overrideValues(this.getCommentComponent().getJsonElements(), result);\n        result = overrideValues(this.getRatingComponent().getJsonElements(), result);\n        return result;\n    };\n    return NlqsSurvey;\n}(Survey_1.Survey));\n(function (NlqsSurvey) {\n    /**\n     * Data required for a Nlqs Survey\n     */\n    var NlqsSurveyData = /** @class */ (function () {\n        function NlqsSurveyData() {\n        }\n        return NlqsSurveyData;\n    }());\n    NlqsSurvey.NlqsSurveyData = NlqsSurveyData;\n})(NlqsSurvey || (NlqsSurvey = {}));\nmodule.exports = NlqsSurvey;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleXMvTmxxc1N1cnZleS50cz9jZjU3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBRUEsb0dBQTBDO0FBSTFDLHlKQUF5RTtBQUN6RSxzSkFBdUU7QUFDdkUsc0pBQXVFO0FBQ3ZFLHNGQUFrQztBQUNsQyxrR0FBa0M7QUFDbEMsOEhBQXVEO0FBRS9DLFNBQUssR0FBcUIsS0FBSyxNQUExQixFQUFFLGNBQWMsR0FBSyxLQUFLLGVBQVYsQ0FBVztBQUV4QztJQUF5Qiw4QkFBTTtJQXNFOUIsb0JBQW9CLElBQStCO1FBQW5ELFlBQ0MsaUJBQU8sU0FTUDtRQVJBLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ2hCLE1BQU0sSUFBSSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQztTQUN6QztRQUVELEtBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDdEQsS0FBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLGVBQWUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDbkQsS0FBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLGdCQUFnQixDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUN2RCxLQUFJLENBQUMsTUFBTSxHQUFHLElBQUksZUFBZSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQzs7SUFDcEQsQ0FBQztJQS9FYSxlQUFJLEdBQWxCLFVBQW1CLElBQStCO1FBQ2pELElBQUk7WUFDSCxPQUFPLElBQUksVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQzVCO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDWCxPQUFPLElBQUksQ0FBQztTQUNaO0lBQ0YsQ0FBQztJQUVhLG1CQUFRLEdBQXRCLFVBQXVCLFFBQStDLEVBQUUsRUFBNEIsRUFDbkcsV0FBbUM7UUFFbkMsSUFBSSxLQUFLLENBQUMsUUFBUSxDQUFD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QUM7UUFFN0UsT0FBTyxNQUFNLENBQUM7SUFDZixDQUFDO0lBQ0YsaUJBQUM7QUFBRCxDQUFDLENBaEt3QixlQUFNLEdBZ0s5QjtBQUVELFdBQU8sVUFBVTtJQUNoQjs7T0FFRztJQUNIO1FBQUE7UUFLQSxDQUFDO1FBQUQscUJBQUM7SUFBRCxDQUFDO0lBTFkseUJBQWMsaUJBSzFCO0FBQ0YsQ0FBQyxFQVZNLFVBQVUsS0FBVixVQUFVLFFBVWhCO0FBRUQsaUJBQVMsVUFBVSxDQUFDIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvU3VydmV5cy9ObHFzU3VydmV5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyIGZyb20gXCIuLi9BcGkvSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyXCI7XHJcbmltcG9ydCB7IElObHFzU3VydmV5IH0gZnJvbSBcIi4uL0FwaS9JTmxxc1N1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5IGZyb20gXCIuLi9BcGkvSVN1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5Q29tcG9uZW50IGZyb20gXCIuLi9BcGkvSVN1cnZleUNvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBDYW1wYWlnblN1cnZleUNvbnRlbnQsIENhbXBhaWduU3VydmV5VGVtcGxhdGUgfSBmcm9tIFwiLi4vQ2FtcGFpZ24vQ2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXJcIjtcclxuaW1wb3J0ICogYXMgSVN1cnZleUluZm8gZnJvbSBcIi4uL0lTdXJ2ZXlJbmZvXCI7XHJcbmltcG9ydCAqIGFzIENvbW1lbnRDb21wb25lbnQgZnJvbSBcIi4uL1N1cnZleUNvbXBvbmVudHMvQ29tbWVudENvbXBvbmVudFwiO1xyXG5pbXBvcnQgKiBhcyBQcm9tcHRDb21wb25lbnQgZnJvbSBcIi4uL1N1cnZleUNvbXBvbmVudHMvUHJvbXB0Q29tcG9uZW50XCI7XHJcbmltcG9ydCAqIGFzIFJhdGluZ0NvbXBvbmVudCBmcm9tIFwiLi4vU3VydmV5Q29tcG9uZW50cy9SYXRpbmdDb21wb25lbnRcIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XHJcbmltcG9ydCB7IFN1cnZleSB9IGZyb20gXCIuL1N1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBTdXJ2ZXlEYXRhU291cmNlIGZyb20gXCIuL1N1cnZleURhdGFTb3VyY2VcIjtcclxuXHJcbmNvbnN0IHsgaXNOT1UsIG92ZXJyaWRlVmFsdWVzIH0gPSBVdGlscztcclxuXHJcbmNsYXNzIE5scXNTdXJ2ZXkgZXh0ZW5kcyBTdXJ2ZXkgaW1wbGVtZW50cyBJTmxxc1N1cnZleSB7XHJcblx0cHVibGljIHN0YXRpYyBtYWtlKGRhdGE6IE5scXNTdXJ2ZXkuTmxxc1N1cnZleURhdGEpOiBJTmxxc1N1cnZleSB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRyZXR1cm4gbmV3IE5scXNTdXJ2ZXkoZGF0YSk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIHN0YXRpYyBtYWtlTmxxcyhiYXNlRGF0YTogU3VydmV5RGF0YVNvdXJjZS5TdXJ2ZXlEYXRhU291cmNlRGF0YSwgc3A6IElGbG9vZGdhdGVTdHJpbmdQcm92aWRlcixcclxuXHRcdHN1cnZleU1vZGVsOiBDYW1wYWlnblN1cnZleVRlbXBsYXRlKTogSU5scXNTdXJ2ZXkge1xyXG5cclxuXHRcdGlmIChpc05PVShiYXNlRGF0YSkgfHwgaXNOT1Uoc3ApIHx8IGlzTk9VKHN1cnZleU1vZGVsKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByYXRpbmdWYWx1ZXNBc2NlbmRpbmc6IHN0cmluZ1tdID0gW107XHJcblx0XHRjb25zdCBjb250ZW50OiBDYW1wYWlnblN1cnZleUNvbnRlbnQgPSBzdXJ2ZXlNb2RlbC5jb250ZW50O1xyXG5cclxuXHRcdGlmIChpc05PVShjb250ZW50KSB8fCBpc05PVShjb250ZW50LmNvbW1lbnQpXHJcblx0XHRcdHx8IGlzTk9VKGNvbnRlbnQucHJvbXB0KSB8fCBpc05PVShjb250ZW50LnJhdGluZykpIHtcclxuXHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGRhdGEgPSBuZXcgTmxxc1N1cnZleS5ObHFzU3VydmV5RGF0YSgpO1xyXG5cdFx0ZGF0YS5iYXNlRGF0YSA9IGJhc2VEYXRhO1xyXG5cdFx0ZGF0YS5wcm9tcHREYXRhID0gbmV3IFByb21wdENvbXBvbmVudC5Qcm9tcHRDb21wb25lbnREYXRhKCk7XHJcblx0XHRkYXRhLnJhdGluZ0RhdGEgPSBuZXcgUmF0aW5nQ29tcG9uZW50LlJhdGluZ0NvbXBvbmVudERhdGEoKTtcclxuXHRcdGRhdGEuY29tbWVudERhdGEgPSBuZXcgQ29tbWVudENvbXBvbmVudC5Db21tZW50Q29tcG9uZW50RGF0YSgpO1xyXG5cclxuXHRcdGRhdGEucHJvbXB0RGF0YS50aXRsZSA9IHNwLmdldEN1c3RvbVN0cmluZyhjb250ZW50LnByb21wdC50aXRsZSk7XHJcblx0XHRkYXRhLnByb21wdERhdGEucXVlc3Rpb24gPSBzcC5nZXRDdXN0b21TdHJpbmcoY29udGVudC5wcm9tcHQucXVlc3Rpb24pO1xyXG5cdFx0ZGF0YS5wcm9tcHREYXRhLnllc0J1dHRvbkxhYmVsID0gc3AuZ2V0Q3VzdG9tU3RyaW5nKGNvbnRlbnQucHJvbXB0Lnllc0xhYmVsKTtcclxuXHRcdGRhdGEucHJvbXB0RGF0YS5ub0J1dHRvbkxhYmVsID0gc3AuZ2V0Q3VzdG9tU3RyaW5nKGNvbnRlbnQucHJvbXB0Lm5vTGFiZWwpO1xyXG5cdFx0ZGF0YS5yYXRpbmdEYXRhLnF1ZXN0aW9uID0gc3AuZ2V0Q3VzdG9tU3RyaW5nKGNvbnRlbnQucmF0aW5nLnF1ZXN0aW9uKTtcclxuXHRcdGRhdGEucmF0aW5nRGF0YS5pc1plcm9CYXNlZCA9IGNvbnRlbnQucmF0aW5nLmlzWmVyb0Jhc2VkO1xyXG5cdFx0ZGF0YS5jb21tZW50RGF0YS5xdWVzdGlvbiA9IHNwLmdldEN1c3RvbVN0cmluZyhjb250ZW50LmNvbW1lbnQucXVlc3Rpb24pO1xyXG5cclxuXHRcdGZvciAoY29uc3QgdmFsdWUgb2YgY29udGVudC5yYXRpbmcucmF0aW5nVmFsdWVzQXNjZW5kaW5nKSB7XHJcblx0XHRcdGNvbnN0IGN1c3RvbVN0cmluZzogc3RyaW5nID0gc3AuZ2V0Q3VzdG9tU3RyaW5nKHZhbHVlKTtcclxuXHJcblx0XHRcdGlmIChpc05PVShjdXN0b21TdHJpbmcpKSB7XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJhdGluZ1ZhbHVlc0FzY2VuZGluZy5wdXNoKGN1c3RvbVN0cmluZyk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZGF0YS5yYXRpbmdEYXRhLnJhdGluZ1ZhbHVlc0FzY2VuZGluZyA9IHJhdGluZ1ZhbHVlc0FzY2VuZGluZztcclxuXHJcblx0XHRpZiAoaXNOT1UoZGF0YS5yYXRpbmdEYXRhLnF1ZXN0aW9uKVxyXG5cdFx0XHR8fCBpc05PVShkYXRhLmNvbW1lbnREYXRhLnF1ZXN0aW9uKVxyXG5cdFx0XHR8fCBpc05PVShkYXRhLnByb21wdERhdGEudGl0bGUpXHJcblx0XHRcdHx8IGlzTk9VKGRhdGEucHJvbXB0RGF0YS5xdWVzdGlvbilcclxuXHRcdFx0fHwgaXNOT1UoZGF0YS5wcm9tcHREYXRhLnllc0J1dHRvbkxhYmVsKVxyXG5cdFx0XHR8fCBpc05PVShkYXRhLnByb21wdERhdGEubm9CdXR0b25MYWJlbClcclxuXHRcdFx0fHwgaXNOT1UoZGF0YS5yYXRpbmdEYXRhLnJhdGluZ1ZhbHVlc0FzY2VuZGluZykpIHtcclxuXHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLm1ha2UoZGF0YSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN1cnZleUluZm86IFN1cnZleURhdGFTb3VyY2U7XHJcblx0cHJpdmF0ZSBxdWVzdGlvbjogQ29tbWVudENvbXBvbmVudDtcclxuXHRwcml2YXRlIHByb21wdDogUHJvbXB0Q29tcG9uZW50O1xyXG5cdHByaXZhdGUgcmF0aW5nOiBSYXRpbmdDb21wb25lbnQ7XHJcblxyXG5cdHByaXZhdGUgY29uc3RydWN0b3IoZGF0YTogTmxxc1N1cnZleS5ObHFzU3VydmV5RGF0YSkge1xyXG5cdFx0c3VwZXIoKTtcclxuXHRcdGlmIChpc05PVShkYXRhKSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5zdXJ2ZXlJbmZvID0gbmV3IFN1cnZleURhdGFTb3VyY2UoZGF0YS5iYXNlRGF0YSk7XHJcblx0XHR0aGlzLnByb21wdCA9IG5ldyBQcm9tcHRDb21wb25lbnQoZGF0YS5wcm9tcHREYXRhKTtcclxuXHRcdHRoaXMucXVlc3Rpb24gPSBuZXcgQ29tbWVudENvbXBvbmVudChkYXRhLmNvbW1lbnREYXRhKTtcclxuXHRcdHRoaXMucmF0aW5nID0gbmV3IFJhdGluZ0NvbXBvbmVudChkYXRhLnJhdGluZ0RhdGEpO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldFR5cGUoKTogSVN1cnZleS5UeXBlIHtcclxuXHRcdHJldHVybiBJU3VydmV5LlR5cGUuTmxxcztcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRTdXJ2ZXlJbmZvKCk6IElTdXJ2ZXlJbmZvIHtcclxuXHRcdHJldHVybiB0aGlzLnN1cnZleUluZm87XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0Q29tbWVudENvbXBvbmVudCgpOiBDb21tZW50Q29tcG9uZW50IHtcclxuXHRcdHJldHVybiB0aGlzLnF1ZXN0aW9uO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldFByb21wdENvbXBvbmVudCgpOiBQcm9tcHRDb21wb25lbnQge1xyXG5cdFx0cmV0dXJuIHRoaXMucHJvbXB0O1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldFJhdGluZ0NvbXBvbmVudCgpOiBSYXRpbmdDb21wb25lbnQge1xyXG5cdFx0cmV0dXJuIHRoaXMucmF0aW5nO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldENvbXBvbmVudChjb21wb25lbnRUeXBlOiBJU3VydmV5Q29tcG9uZW50LlR5cGUpOiBJU3VydmV5Q29tcG9uZW50IHtcclxuXHRcdHN3aXRjaCAoY29tcG9uZW50VHlwZSkge1xyXG5cdFx0XHRjYXNlIElTdXJ2ZXlDb21wb25lbnQuVHlwZS5Db21tZW50OlxyXG5cdFx0XHRcdHJldHVybiB0aGlzLmdldENvbW1lbnRDb21wb25lbnQoKTtcclxuXHRcdFx0Y2FzZSBJU3VydmV5Q29tcG9uZW50LlR5cGUuUHJvbXB0OlxyXG5cdFx0XHRcdHJldHVybiB0aGlzLmdldFByb21wdENvbXBvbmVudCgpO1xyXG5cdFx0XHRjYXNlIElTdXJ2ZXlDb21wb25lbnQuVHlwZS5SYXRpbmc6XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0UmF0aW5nQ29tcG9uZW50KCk7XHJcblx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0RG9tRWxlbWVudHMoZG9jOiBEb2N1bWVudCk6IEVsZW1lbnRbXSB7XHJcblx0XHRpZiAoaXNOT1UoZG9jKSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJEb2N1bWVudCBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGVsZW1lbnQ6IEVsZW1lbnQgPSBkb2MuY3JlYXRlRWxlbWVudChJU3VydmV5LkRPTV9OTFFTX1RBR05BTUUpO1xyXG5cclxuXHRcdHRoaXMuZ2V0U3VydmV5SW5mbygpLmdldERvbUVsZW1lbnRzKGRvYykuZm9yRWFjaCgoY2hpbGQpID0+IHtcclxuXHRcdFx0aWYgKCFpc05PVShjaGlsZCkpIHtcclxuXHRcdFx0XHRlbGVtZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5nZXRDb21tZW50Q29tcG9uZW50KCkuZ2V0RG9tRWxlbWVudHMoZG9jKS5mb3JFYWNoKChjaGlsZCkgPT4ge1xyXG5cdFx0XHRpZiAoIWlzTk9VKGNoaWxkKSkge1xyXG5cdFx0XHRcdGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR0aGlzLmdldFJhdGluZ0NvbXBvbmVudCgpLmdldERvbUVsZW1lbnRzKGRvYykuZm9yRWFjaCgoY2hpbGQpID0+IHtcclxuXHRcdFx0aWYgKCFpc05PVShjaGlsZCkpIHtcclxuXHRcdFx0XHRlbGVtZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0cmV0dXJuIFtlbGVtZW50XTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRKc29uRWxlbWVudHMoKTogb2JqZWN0IHtcclxuXHRcdGxldCByZXN1bHQ6IG9iamVjdCA9IHt9O1xyXG5cclxuXHRcdHJlc3VsdCA9IG92ZXJyaWRlVmFsdWVzKHRoaXMuZ2V0U3VydmV5SW5mbygpLmdldEpzb25FbGVtZW50cygpLCByZXN1bHQpO1xyXG5cdFx0cmVzdWx0ID0gb3ZlcnJpZGVWYWx1ZXModGhpcy5nZXRDb21tZW50Q29tcG9uZW50KCkuZ2V0SnNvbkVsZW1lbnRzKCksIHJlc3VsdCk7XHJcblx0XHRyZXN1bHQgPSBvdmVycmlkZVZhbHVlcyh0aGlzLmdldFJhdGluZ0NvbXBvbmVudCgpLmdldEpzb25FbGVtZW50cygpLCByZXN1bHQpO1xyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG59XHJcblxyXG5tb2R1bGUgTmxxc1N1cnZleSB7XHJcblx0LyoqXHJcblx0ICogRGF0YSByZXF1aXJlZCBmb3IgYSBObHFzIFN1cnZleVxyXG5cdCAqL1xyXG5cdGV4cG9ydCBjbGFzcyBObHFzU3VydmV5RGF0YSB7XHJcblx0XHRwdWJsaWMgYmFzZURhdGE6IFN1cnZleURhdGFTb3VyY2UuU3VydmV5RGF0YVNvdXJjZURhdGE7XHJcblx0XHRwdWJsaWMgY29tbWVudERhdGE6IENvbW1lbnRDb21wb25lbnQuQ29tbWVudENvbXBvbmVudERhdGE7XHJcblx0XHRwdWJsaWMgcHJvbXB0RGF0YTogUHJvbXB0Q29tcG9uZW50LlByb21wdENvbXBvbmVudERhdGE7XHJcblx0XHRwdWJsaWMgcmF0aW5nRGF0YTogUmF0aW5nQ29tcG9uZW50LlJhdGluZ0NvbXBvbmVudERhdGE7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgPSBObHFzU3VydmV5O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Surveys/NlqsSurvey.js\n')},"../FloodgateCore/dist/src/Surveys/NpsSurvey.js":function(module,exports,__webpack_require__){"use strict";eval('\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar ISurvey = __webpack_require__(/*! ../Api/ISurvey */ "../FloodgateCore/dist/src/Api/ISurvey.js");\nvar ISurveyComponent = __webpack_require__(/*! ../Api/ISurveyComponent */ "../FloodgateCore/dist/src/Api/ISurveyComponent.js");\nvar CommentComponent = __webpack_require__(/*! ../SurveyComponents/CommentComponent */ "../FloodgateCore/dist/src/SurveyComponents/CommentComponent.js");\nvar PromptComponent = __webpack_require__(/*! ../SurveyComponents/PromptComponent */ "../FloodgateCore/dist/src/SurveyComponents/PromptComponent.js");\nvar RatingComponent = __webpack_require__(/*! ../SurveyComponents/RatingComponent */ "../FloodgateCore/dist/src/SurveyComponents/RatingComponent.js");\nvar Utils = __webpack_require__(/*! ../Utils */ "../FloodgateCore/dist/src/Utils.js");\nvar Survey_1 = __webpack_require__(/*! ./Survey */ "../FloodgateCore/dist/src/Surveys/Survey.js");\nvar SurveyDataSource = __webpack_require__(/*! ./SurveyDataSource */ "../FloodgateCore/dist/src/Surveys/SurveyDataSource.js");\nvar isNOU = Utils.isNOU, overrideValues = Utils.overrideValues;\nvar NpsSurvey = /** @class */ (function (_super) {\n    __extends(NpsSurvey, _super);\n    function NpsSurvey(data) {\n        var _this = _super.call(this) || this;\n        if (!data) {\n            throw new Error("data must not be null");\n        }\n        _this.surveyInfo = new SurveyDataSource(data.baseData);\n        _this.prompt = new PromptComponent(data.promptData);\n        _this.question = new CommentComponent(data.commentData);\n        _this.rating = new RatingComponent(data.ratingData);\n        return _this;\n    }\n    NpsSurvey.make = function (data) {\n        try {\n            return new NpsSurvey(data);\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    NpsSurvey.makeCustom = function (baseData, sp, surveyModel) {\n        if (isNOU(baseData) || isNOU(sp) || isNOU(surveyModel)) {\n            return null;\n        }\n        var ratingValuesAscending = [];\n        var content = surveyModel.content;\n        if (isNOU(content) || isNOU(content.comment)\n            || isNOU(content.prompt) || isNOU(content.rating)) {\n            return null;\n        }\n        var data = new NpsSurvey.NpsSurveyData();\n        data.baseData = baseData;\n        data.promptData = new PromptComponent.PromptComponentData();\n        data.ratingData = new RatingComponent.RatingComponentData();\n        data.commentData = new CommentComponent.CommentComponentData();\n        data.promptData.title = sp.getCustomString(content.prompt.title);\n        data.promptData.question = sp.getCustomString(content.prompt.question);\n        data.promptData.yesButtonLabel = sp.getCustomString(content.prompt.yesLabel);\n        data.promptData.noButtonLabel = sp.getCustomString(content.prompt.noLabel);\n        data.ratingData.question = sp.getCustomString(content.rating.question);\n        data.ratingData.isZeroBased = content.rating.isZeroBased;\n        data.commentData.question = sp.getCustomString(content.comment.question);\n        for (var _i = 0, _a = content.rating.ratingValuesAscending; _i < _a.length; _i++) {\n            var value = _a[_i];\n            var customString = sp.getCustomString(value);\n            if (isNOU(customString)) {\n                return null;\n            }\n            ratingValuesAscending.push(customString);\n        }\n        data.ratingData.ratingValuesAscending = ratingValuesAscending;\n        if (isNOU(data.ratingData.question)\n            || isNOU(data.commentData.question)\n            || isNOU(data.promptData.title)\n            || isNOU(data.promptData.question)\n            || isNOU(data.promptData.yesButtonLabel)\n            || isNOU(data.promptData.noButtonLabel)\n            || isNOU(data.ratingData.ratingValuesAscending)) {\n            return null;\n        }\n        return this.make(data);\n    };\n    NpsSurvey.make5Point = function (baseData, sp) {\n        if (!baseData || !sp) {\n            return null;\n        }\n        var data = new NpsSurvey.NpsSurveyData();\n        data.baseData = baseData;\n        data.ratingData = new RatingComponent.RatingComponentData();\n        data.ratingData.isZeroBased = false;\n        data.commentData = new CommentComponent.CommentComponentData();\n        data.promptData = new PromptComponent.PromptComponentData();\n        data.ratingData.question = sp.loadStringResource(4 /* NpsRatingQuestion */);\n        data.commentData.question = sp.loadStringResource(21 /* NpsCommentQuestion */);\n        data.promptData.title = sp.loadStringResource(0 /* NpsPromptTitle */);\n        data.promptData.question = sp.loadStringResource(1 /* NpsPromptQuestion */);\n        data.promptData.yesButtonLabel = sp.loadStringResource(2 /* NpsPromptYesLabel */);\n        data.promptData.noButtonLabel = sp.loadStringResource(3 /* NpsPromptNotNowLabel */);\n        var ratingValuesAscending = new Array(5);\n        ratingValuesAscending[0] = sp.loadStringResource(16 /* Nps5RatingValue1 */);\n        ratingValuesAscending[1] = sp.loadStringResource(17 /* Nps5RatingValue2 */);\n        ratingValuesAscending[2] = sp.loadStringResource(18 /* Nps5RatingValue3 */);\n        ratingValuesAscending[3] = sp.loadStringResource(19 /* Nps5RatingValue4 */);\n        ratingValuesAscending[4] = sp.loadStringResource(20 /* Nps5RatingValue5 */);\n        if (!data.ratingData.question\n            || !data.commentData.question\n            || !data.promptData.title\n            || !data.promptData.question\n            || !data.promptData.yesButtonLabel\n            || !data.promptData.noButtonLabel\n            || !ratingValuesAscending[0]\n            || !ratingValuesAscending[1]\n            || !ratingValuesAscending[2]\n            || !ratingValuesAscending[3]\n            || !ratingValuesAscending[4]) {\n            return null;\n        }\n        data.ratingData.ratingValuesAscending = ratingValuesAscending;\n        return this.make(data);\n    };\n    NpsSurvey.make11Point = function (baseData, sp) {\n        if (!baseData || !sp) {\n            return null;\n        }\n        var data = new NpsSurvey.NpsSurveyData();\n        data.baseData = baseData;\n        data.ratingData = new RatingComponent.RatingComponentData();\n        data.ratingData.isZeroBased = true;\n        data.commentData = new CommentComponent.CommentComponentData();\n        data.promptData = new PromptComponent.PromptComponentData();\n        data.ratingData.question = sp.loadStringResource(4 /* NpsRatingQuestion */);\n        data.commentData.question = sp.loadStringResource(21 /* NpsCommentQuestion */);\n        data.promptData.title = sp.loadStringResource(0 /* NpsPromptTitle */);\n        data.promptData.question = sp.loadStringResource(1 /* NpsPromptQuestion */);\n        data.promptData.yesButtonLabel = sp.loadStringResource(2 /* NpsPromptYesLabel */);\n        data.promptData.noButtonLabel = sp.loadStringResource(3 /* NpsPromptNotNowLabel */);\n        var ratingValuesAscending = new Array(11);\n        ratingValuesAscending[0] = sp.loadStringResource(5 /* Nps11RatingValue0 */);\n        ratingValuesAscending[1] = sp.loadStringResource(6 /* Nps11RatingValue1 */);\n        ratingValuesAscending[2] = sp.loadStringResource(7 /* Nps11RatingValue2 */);\n        ratingValuesAscending[3] = sp.loadStringResource(8 /* Nps11RatingValue3 */);\n        ratingValuesAscending[4] = sp.loadStringResource(9 /* Nps11RatingValue4 */);\n        ratingValuesAscending[5] = sp.loadStringResource(10 /* Nps11RatingValue5 */);\n        ratingValuesAscending[6] = sp.loadStringResource(11 /* Nps11RatingValue6 */);\n        ratingValuesAscending[7] = sp.loadStringResource(12 /* Nps11RatingValue7 */);\n        ratingValuesAscending[8] = sp.loadStringResource(13 /* Nps11RatingValue8 */);\n        ratingValuesAscending[9] = sp.loadStringResource(14 /* Nps11RatingValue9 */);\n        ratingValuesAscending[10] = sp.loadStringResource(15 /* Nps11RatingValue10 */);\n        if (!data.ratingData.question\n            || !data.commentData.question\n            || !data.promptData.title\n            || !data.promptData.question\n            || !data.promptData.yesButtonLabel\n            || !data.promptData.noButtonLabel\n            || !ratingValuesAscending[0]\n            || !ratingValuesAscending[1]\n            || !ratingValuesAscending[2]\n            || !ratingValuesAscending[3]\n            || !ratingValuesAscending[4]\n            || !ratingValuesAscending[5]\n            || !ratingValuesAscending[6]\n            || !ratingValuesAscending[7]\n            || !ratingValuesAscending[8]\n            || !ratingValuesAscending[9]\n            || !ratingValuesAscending[10]) {\n            return null;\n        }\n        data.ratingData.ratingValuesAscending = ratingValuesAscending;\n        return this.make(data);\n    };\n    // @Override\n    NpsSurvey.prototype.getType = function () {\n        return ISurvey.Type.Nps;\n    };\n    // @Override\n    NpsSurvey.prototype.getSurveyInfo = function () {\n        return this.surveyInfo;\n    };\n    // @Override\n    NpsSurvey.prototype.getCommentComponent = function () {\n        return this.question;\n    };\n    // @Override\n    NpsSurvey.prototype.getPromptComponent = function () {\n        return this.prompt;\n    };\n    // @Override\n    NpsSurvey.prototype.getRatingComponent = function () {\n        return this.rating;\n    };\n    // @Override\n    NpsSurvey.prototype.getComponent = function (componentType) {\n        switch (componentType) {\n            case "Comment" /* Comment */:\n                return this.getCommentComponent();\n            case "Prompt" /* Prompt */:\n                return this.getPromptComponent();\n            case "Rating" /* Rating */:\n                return this.getRatingComponent();\n            default:\n                return null;\n        }\n    };\n    // @Override\n    NpsSurvey.prototype.getDomElements = function (doc) {\n        if (!doc) {\n            throw new Error("Document must not be null");\n        }\n        var element = doc.createElement(ISurvey.DOM_NPS_TAGNAME);\n        this.getSurveyInfo().getDomElements(doc).forEach(function (child) {\n            if (child) {\n                element.appendChild(child);\n            }\n        });\n        this.getCommentComponent().getDomElements(doc).forEach(function (child) {\n            if (child) {\n                element.appendChild(child);\n            }\n        });\n        this.getRatingComponent().getDomElements(doc).forEach(function (child) {\n            if (child) {\n                element.appendChild(child);\n            }\n        });\n        return [element];\n    };\n    // @Override\n    NpsSurvey.prototype.getJsonElements = function () {\n        var _a;\n        var result = {};\n        result = overrideValues(this.getSurveyInfo().getJsonElements(), result);\n        result = overrideValues(this.getCommentComponent().getJsonElements(), result);\n        result = overrideValues(this.getRatingComponent().getJsonElements(), result);\n        result[ISurveyComponent.JSON_APPLICATION_KEYNAME] = {};\n        result[ISurveyComponent.JSON_APPLICATION_KEYNAME][ISurveyComponent.JSON_EXTENDEDMANIFESTDATA_KEYNAME] =\n            JSON.stringify((_a = {}, _a[ISurveyComponent.JSON_SURVEYSTRINGS_KEYNAME] = this.makeSurveyStrings(), _a));\n        return result;\n    };\n    // Makes the string to send to Manifest respecting the components present in the survey\n    NpsSurvey.prototype.makeSurveyStrings = function () {\n        var actualStrings = {};\n        if (this.prompt) {\n            actualStrings[ISurveyComponent.JSON_PROMPT_KEYNAME] = this.prompt.getComponentJson();\n        }\n        if (this.rating) {\n            actualStrings[ISurveyComponent.JSON_RATING_KEYNAME] = [this.rating.getComponentJson()];\n        }\n        if (this.question) {\n            actualStrings[ISurveyComponent.JSON_COMMENT_KEYNAME] = [this.question.getComponentJson()];\n        }\n        return JSON.stringify(actualStrings);\n    };\n    return NpsSurvey;\n}(Survey_1.Survey));\n(function (NpsSurvey) {\n    /**\n     * Data required for a Nps Survey\n     */\n    var NpsSurveyData = /** @class */ (function () {\n        function NpsSurveyData() {\n        }\n        return NpsSurveyData;\n    }());\n    NpsSurvey.NpsSurveyData = NpsSurveyData;\n})(NpsSurvey || (NpsSurvey = {}));\nmodule.exports = NpsSurvey;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleXMvTnBzU3VydmV5LnRzPzQ5YWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFFQSxvR0FBMEM7QUFDMUMsK0hBQTREO0FBRzVELHlKQUF5RTtBQUN6RSxzSkFBdUU7QUFDdkUsc0pBQXVFO0FBQ3ZFLHNGQUFrQztBQUNsQyxrR0FBa0M7QUFDbEMsOEhBQXVEO0FBRS9DLFNBQUssR0FBcUIsS0FBSyxNQUExQixFQUFFLGNBQWMsR0FBSyxLQUFLLGVBQVYsQ0FBVztBQUV4QztJQUF3Qiw2QkFBTTtJQTBLN0IsbUJBQW9CLElBQTZCO1FBQWpELFlBQ0MsaUJBQU8sU0FTUDtRQVJBLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDVixNQUFNLElBQUksS0FBSyxDQUFDLHVCQUF1QixDQUFDLENBQUM7U0FDekM7UUFFRCxLQUFJLENBQUMsVUFBVSxHQUFHLElBQUksZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3RELEtBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxlQUFlLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ25ELEtBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDdkQsS0FBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLGVBQWUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7O0lBQ3BELENBQUM7SUFuTGEsY0FBSSxHQUFsQixVQUFtQixJQUE2QjtRQUMvQyxJQUFJO1lBQ0gsT0FBTyxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUMzQjtRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1gsT0FBTyxJQUFJLENBQUM7U0FDWjtJQUNGLENBQUM7SUFFYSxvQkFBVSxHQUF4QixVQUF5QixRQUErQyxFQUFFLEVBQTRCLEVBQ3JHLFdBQW1DO1FBRW5DLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FB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QyxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLENBQUM7U0FDMUY7UUFFRCxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQUNGLGdCQUFDO0FBQUQsQ0FBQyxDQTNSdUIsZUFBTSxHQTJSN0I7QUFFRCxXQUFPLFNBQVM7SUFDZjs7T0FFRztJQUNIO1FBQUE7UUFLQSxDQUFDO1FBQUQsb0JBQUM7SUFBRCxDQUFDO0lBTFksdUJBQWEsZ0JBS3pCO0FBQ0YsQ0FBQyxFQVZNLFNBQVMsS0FBVCxTQUFTLFFBVWY7QUFFRCxpQkFBUyxTQUFTLENBQUMiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9TdXJ2ZXlzL05wc1N1cnZleS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIElGbG9vZGdhdGVTdHJpbmdQcm92aWRlciBmcm9tIFwiLi4vQXBpL0lGbG9vZGdhdGVTdHJpbmdQcm92aWRlclwiO1xyXG5pbXBvcnQgeyBJTnBzU3VydmV5IH0gZnJvbSBcIi4uL0FwaS9JTnBzU3VydmV5XCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXkgZnJvbSBcIi4uL0FwaS9JU3VydmV5XCI7XHJcbmltcG9ydCAqIGFzIElTdXJ2ZXlDb21wb25lbnQgZnJvbSBcIi4uL0FwaS9JU3VydmV5Q29tcG9uZW50XCI7XHJcbmltcG9ydCB7IENhbXBhaWduU3VydmV5Q29udGVudCwgQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZSB9IGZyb20gXCIuLi9DYW1wYWlnbi9DYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlclwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5SW5mbyBmcm9tIFwiLi4vSVN1cnZleUluZm9cIjtcclxuaW1wb3J0ICogYXMgQ29tbWVudENvbXBvbmVudCBmcm9tIFwiLi4vU3VydmV5Q29tcG9uZW50cy9Db21tZW50Q29tcG9uZW50XCI7XHJcbmltcG9ydCAqIGFzIFByb21wdENvbXBvbmVudCBmcm9tIFwiLi4vU3VydmV5Q29tcG9uZW50cy9Qcm9tcHRDb21wb25lbnRcIjtcclxuaW1wb3J0ICogYXMgUmF0aW5nQ29tcG9uZW50IGZyb20gXCIuLi9TdXJ2ZXlDb21wb25lbnRzL1JhdGluZ0NvbXBvbmVudFwiO1xyXG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tIFwiLi4vVXRpbHNcIjtcclxuaW1wb3J0IHsgU3VydmV5IH0gZnJvbSBcIi4vU3VydmV5XCI7XHJcbmltcG9ydCAqIGFzIFN1cnZleURhdGFTb3VyY2UgZnJvbSBcIi4vU3VydmV5RGF0YVNvdXJjZVwiO1xyXG5cclxuY29uc3QgeyBpc05PVSwgb3ZlcnJpZGVWYWx1ZXMgfSA9IFV0aWxzO1xyXG5cclxuY2xhc3MgTnBzU3VydmV5IGV4dGVuZHMgU3VydmV5IGltcGxlbWVudHMgSU5wc1N1cnZleSB7XHJcblx0cHVibGljIHN0YXRpYyBtYWtlKGRhdGE6IE5wc1N1cnZleS5OcHNTdXJ2ZXlEYXRhKTogSU5wc1N1cnZleSB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRyZXR1cm4gbmV3IE5wc1N1cnZleShkYXRhKTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3RhdGljIG1ha2VDdXN0b20oYmFzZURhdGE6IFN1cnZleURhdGFTb3VyY2UuU3VydmV5RGF0YVNvdXJjZURhdGEsIHNwOiBJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIsXHJcblx0XHRzdXJ2ZXlNb2RlbDogQ2FtcGFpZ25TdXJ2ZXlUZW1wbGF0ZSk6IElOcHNTdXJ2ZXkge1xyXG5cclxuXHRcdGlmIChpc05PVShiYXNlRGF0YSkgfHwgaXNOT1Uoc3ApIHx8IGlzTk9VKHN1cnZleU1vZGVsKSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByYXRpbmdWYWx1ZXNBc2NlbmRpbmc6IHN0cmluZ1tdID0gW107XHJcblx0XHRjb25zdCBjb250ZW50OiBDYW1wYWlnblN1cnZleUNvbnRlbnQgPSBzdXJ2ZXlNb2RlbC5jb250ZW50O1xyXG5cclxuXHRcdGlmIChpc05PVShjb250ZW50KSB8fCBpc05PVShjb250ZW50LmNvbW1lbnQpXHJcblx0XHRcdHx8IGlzTk9VKGNvbnRlbnQucHJvbXB0KSB8fCBpc05PVShjb250ZW50LnJhdGluZykpIHtcclxuXHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGRhdGEgPSBuZXcgTnBzU3VydmV5Lk5wc1N1cnZleURhdGEoKTtcclxuXHRcdGRhdGEuYmFzZURhdGEgPSBiYXNlRGF0YTtcclxuXHRcdGRhdGEucHJvbXB0RGF0YSA9IG5ldyBQcm9tcHRDb21wb25lbnQuUHJvbXB0Q29tcG9uZW50RGF0YSgpO1xyXG5cdFx0ZGF0YS5yYXRpbmdEYXRhID0gbmV3IFJhdGluZ0NvbXBvbmVudC5SYXRpbmdDb21wb25lbnREYXRhKCk7XHJcblx0XHRkYXRhLmNvbW1lbnREYXRhID0gbmV3IENvbW1lbnRDb21wb25lbnQuQ29tbWVudENvbXBvbmVudERhdGEoKTtcclxuXHJcblx0XHRkYXRhLnByb21wdERhdGEudGl0bGUgPSBzcC5nZXRDdXN0b21TdHJpbmcoY29udGVudC5wcm9tcHQudGl0bGUpO1xyXG5cdFx0ZGF0YS5wcm9tcHREYXRhLnF1ZXN0aW9uID0gc3AuZ2V0Q3VzdG9tU3RyaW5nKGNvbnRlbnQucHJvbXB0LnF1ZXN0aW9uKTtcclxuXHRcdGRhdGEucHJvbXB0RGF0YS55ZXNCdXR0b25MYWJlbCA9IHNwLmdldEN1c3RvbVN0cmluZyhjb250ZW50LnByb21wdC55ZXNMYWJlbCk7XHJcblx0XHRkYXRhLnByb21wdERhdGEubm9CdXR0b25MYWJlbCA9IHNwLmdldEN1c3RvbVN0cmluZyhjb250ZW50LnByb21wdC5ub0xhYmVsKTtcclxuXHRcdGRhdGEucmF0aW5nRGF0YS5xdWVzdGlvbiA9IHNwLmdldEN1c3RvbVN0cmluZyhjb250ZW50LnJhdGluZy5xdWVzdGlvbik7XHJcblx0XHRkYXRhLnJhdGluZ0RhdGEuaXNaZXJvQmFzZWQgPSBjb250ZW50LnJhdGluZy5pc1plcm9CYXNlZDtcclxuXHRcdGRhdGEuY29tbWVudERhdGEucXVlc3Rpb24gPSBzcC5nZXRDdXN0b21TdHJpbmcoY29udGVudC5jb21tZW50LnF1ZXN0aW9uKTtcclxuXHJcblx0XHRmb3IgKGNvbnN0IHZhbHVlIG9mIGNvbnRlbnQucmF0aW5nLnJhdGluZ1ZhbHVlc0FzY2VuZGluZykge1xyXG5cdFx0XHRjb25zdCBjdXN0b21TdHJpbmc6IHN0cmluZyA9IHNwLmdldEN1c3RvbVN0cmluZyh2YWx1ZSk7XHJcblxyXG5cdFx0XHRpZiAoaXNOT1UoY3VzdG9tU3RyaW5nKSkge1xyXG5cdFx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyYXRpbmdWYWx1ZXNBc2NlbmRpbmcucHVzaChjdXN0b21TdHJpbmcpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGRhdGEucmF0aW5nRGF0YS5yYXRpbmdWYWx1ZXNBc2NlbmRpbmcgPSByYXRpbmdWYWx1ZXNBc2NlbmRpbmc7XHJcblxyXG5cdFx0aWYgKGlzTk9VKGRhdGEucmF0aW5nRGF0YS5xdWVzdGlvbilcclxuXHRcdFx0fHwgaXNOT1UoZGF0YS5jb21tZW50RGF0YS5xdWVzdGlvbilcclxuXHRcdFx0fHwgaXNOT1UoZGF0YS5wcm9tcHREYXRhLnRpdGxlKVxyXG5cdFx0XHR8fCBpc05PVShkYXRhLnByb21wdERhdGEucXVlc3Rpb24pXHJcblx0XHRcdHx8IGlzTk9VKGRhdGEucHJvbXB0RGF0YS55ZXNCdXR0b25MYWJlbClcclxuXHRcdFx0fHwgaXNOT1UoZGF0YS5wcm9tcHREYXRhLm5vQnV0dG9uTGFiZWwpXHJcblx0XHRcdHx8IGlzTk9VKGRhdGEucmF0aW5nRGF0YS5yYXRpbmdWYWx1ZXNBc2NlbmRpbmcpKSB7XHJcblxyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy5tYWtlKGRhdGEpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIHN0YXRpYyBtYWtlNVBvaW50KGJhc2VEYXRhOiBTdXJ2ZXlEYXRhU291cmNlLlN1cnZleURhdGFTb3VyY2VEYXRhLCBzcDogSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyKTogSU5wc1N1cnZleSB7XHJcblx0XHRpZiAoIWJhc2VEYXRhIHx8ICFzcCkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBkYXRhID0gbmV3IE5wc1N1cnZleS5OcHNTdXJ2ZXlEYXRhKCk7XHJcblx0XHRkYXRhLmJhc2VEYXRhID0gYmFzZURhdGE7XHJcblx0XHRkYXRhLnJhdGluZ0RhdGEgPSBuZXcgUmF0aW5nQ29tcG9uZW50LlJhdGluZ0NvbXBvbmVudERhdGEoKTtcclxuXHRcdGRhdGEucmF0aW5nRGF0YS5pc1plcm9CYXNlZCA9IGZhbHNlO1xyXG5cdFx0ZGF0YS5jb21tZW50RGF0YSA9IG5ldyBDb21tZW50Q29tcG9uZW50LkNvbW1lbnRDb21wb25lbnREYXRhKCk7XHJcblx0XHRkYXRhLnByb21wdERhdGEgPSBuZXcgUHJvbXB0Q29tcG9uZW50LlByb21wdENvbXBvbmVudERhdGEoKTtcclxuXHRcdGRhdGEucmF0aW5nRGF0YS5xdWVzdGlvbiA9IHNwLmxvYWRTdHJpbmdSZXNvdXJjZShJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHNSYXRpbmdRdWVzdGlvbik7XHJcblx0XHRkYXRhLmNvbW1lbnREYXRhLnF1ZXN0aW9uID0gc3AubG9hZFN0cmluZ1Jlc291cmNlKElGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wc0NvbW1lbnRRdWVzdGlvbik7XHJcblx0XHRkYXRhLnByb21wdERhdGEudGl0bGUgPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzUHJvbXB0VGl0bGUpO1xyXG5cdFx0ZGF0YS5wcm9tcHREYXRhLnF1ZXN0aW9uID0gc3AubG9hZFN0cmluZ1Jlc291cmNlKElGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wc1Byb21wdFF1ZXN0aW9uKTtcclxuXHRcdGRhdGEucHJvbXB0RGF0YS55ZXNCdXR0b25MYWJlbCA9IHNwLmxvYWRTdHJpbmdSZXNvdXJjZShJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHNQcm9tcHRZZXNMYWJlbCk7XHJcblx0XHRkYXRhLnByb21wdERhdGEubm9CdXR0b25MYWJlbCA9IHNwLmxvYWRTdHJpbmdSZXNvdXJjZShJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHNQcm9tcHROb3ROb3dMYWJlbCk7XHJcblxyXG5cdFx0Y29uc3QgcmF0aW5nVmFsdWVzQXNjZW5kaW5nOiBzdHJpbmdbXSA9IG5ldyBBcnJheSg1KTtcclxuXHRcdHJhdGluZ1ZhbHVlc0FzY2VuZGluZ1swXSA9IHNwLmxvYWRTdHJpbmdSZXNvdXJjZShJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHM1UmF0aW5nVmFsdWUxKTtcclxuXHRcdHJhdGluZ1ZhbHVlc0FzY2VuZGluZ1sxXSA9IHNwLmxvYWRTdHJpbmdSZXNvdXJjZShJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHM1UmF0aW5nVmFsdWUyKTtcclxuXHRcdHJhdGluZ1ZhbHVlc0FzY2VuZGluZ1syXSA9IHNwLmxvYWRTdHJpbmdSZXNvdXJjZShJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHM1UmF0aW5nVmFsdWUzKTtcclxuXHRcdHJhdGluZ1ZhbHVlc0FzY2VuZGluZ1szXSA9IHNwLmxvYWRTdHJpbmdSZXNvdXJjZShJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHM1UmF0aW5nVmFsdWU0KTtcclxuXHRcdHJhdGluZ1ZhbHVlc0FzY2VuZGluZ1s0XSA9IHNwLmxvYWRTdHJpbmdSZXNvdXJjZShJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHM1UmF0aW5nVmFsdWU1KTtcclxuXHJcblx0XHRpZiAoIWRhdGEucmF0aW5nRGF0YS5xdWVzdGlvblxyXG5cdFx0XHR8fCAhZGF0YS5jb21tZW50RGF0YS5xdWVzdGlvblxyXG5cdFx0XHR8fCAhZGF0YS5wcm9tcHREYXRhLnRpdGxlXHJcblx0XHRcdHx8ICFkYXRhLnByb21wdERhdGEucXVlc3Rpb25cclxuXHRcdFx0fHwgIWRhdGEucHJvbXB0RGF0YS55ZXNCdXR0b25MYWJlbFxyXG5cdFx0XHR8fCAhZGF0YS5wcm9tcHREYXRhLm5vQnV0dG9uTGFiZWxcclxuXHRcdFx0fHwgIXJhdGluZ1ZhbHVlc0FzY2VuZGluZ1swXVxyXG5cdFx0XHR8fCAhcmF0aW5nVmFsdWVzQXNjZW5kaW5nWzFdXHJcblx0XHRcdHx8ICFyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbMl1cclxuXHRcdFx0fHwgIXJhdGluZ1ZhbHVlc0FzY2VuZGluZ1szXVxyXG5cdFx0XHR8fCAhcmF0aW5nVmFsdWVzQXNjZW5kaW5nWzRdKSB7XHJcblxyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRkYXRhLnJhdGluZ0RhdGEucmF0aW5nVmFsdWVzQXNjZW5kaW5nID0gcmF0aW5nVmFsdWVzQXNjZW5kaW5nO1xyXG5cdFx0cmV0dXJuIHRoaXMubWFrZShkYXRhKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgbWFrZTExUG9pbnQoYmFzZURhdGE6IFN1cnZleURhdGFTb3VyY2UuU3VydmV5RGF0YVNvdXJjZURhdGEsIHNwOiBJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIpOiBJTnBzU3VydmV5IHtcclxuXHRcdGlmICghYmFzZURhdGEgfHwgIXNwKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGRhdGEgPSBuZXcgTnBzU3VydmV5Lk5wc1N1cnZleURhdGEoKTtcclxuXHRcdGRhdGEuYmFzZURhdGEgPSBiYXNlRGF0YTtcclxuXHRcdGRhdGEucmF0aW5nRGF0YSA9IG5ldyBSYXRpbmdDb21wb25lbnQuUmF0aW5nQ29tcG9uZW50RGF0YSgpO1xyXG5cdFx0ZGF0YS5yYXRpbmdEYXRhLmlzWmVyb0Jhc2VkID0gdHJ1ZTtcclxuXHRcdGRhdGEuY29tbWVudERhdGEgPSBuZXcgQ29tbWVudENvbXBvbmVudC5Db21tZW50Q29tcG9uZW50RGF0YSgpO1xyXG5cdFx0ZGF0YS5wcm9tcHREYXRhID0gbmV3IFByb21wdENvbXBvbmVudC5Qcm9tcHRDb21wb25lbnREYXRhKCk7XHJcblx0XHRkYXRhLnJhdGluZ0RhdGEucXVlc3Rpb24gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzUmF0aW5nUXVlc3Rpb24pO1xyXG5cdFx0ZGF0YS5jb21tZW50RGF0YS5xdWVzdGlvbiA9IHNwLmxvYWRTdHJpbmdSZXNvdXJjZShJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHNDb21tZW50UXVlc3Rpb24pO1xyXG5cdFx0ZGF0YS5wcm9tcHREYXRhLnRpdGxlID0gc3AubG9hZFN0cmluZ1Jlc291cmNlKElGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wc1Byb21wdFRpdGxlKTtcclxuXHRcdGRhdGEucHJvbXB0RGF0YS5xdWVzdGlvbiA9IHNwLmxvYWRTdHJpbmdSZXNvdXJjZShJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHNQcm9tcHRRdWVzdGlvbik7XHJcblx0XHRkYXRhLnByb21wdERhdGEueWVzQnV0dG9uTGFiZWwgPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzUHJvbXB0WWVzTGFiZWwpO1xyXG5cdFx0ZGF0YS5wcm9tcHREYXRhLm5vQnV0dG9uTGFiZWwgPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzUHJvbXB0Tm90Tm93TGFiZWwpO1xyXG5cclxuXHRcdGNvbnN0IHJhdGluZ1ZhbHVlc0FzY2VuZGluZzogc3RyaW5nW10gPSBuZXcgQXJyYXkoMTEpO1xyXG5cdFx0cmF0aW5nVmFsdWVzQXNjZW5kaW5nWzBdID0gc3AubG9hZFN0cmluZ1Jlc291cmNlKElGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wczExUmF0aW5nVmFsdWUwKTtcclxuXHRcdHJhdGluZ1ZhbHVlc0FzY2VuZGluZ1sxXSA9IHNwLmxvYWRTdHJpbmdSZXNvdXJjZShJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHMxMVJhdGluZ1ZhbHVlMSk7XHJcblx0XHRyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbMl0gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTIpO1xyXG5cdFx0cmF0aW5nVmFsdWVzQXNjZW5kaW5nWzNdID0gc3AubG9hZFN0cmluZ1Jlc291cmNlKElGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wczExUmF0aW5nVmFsdWUzKTtcclxuXHRcdHJhdGluZ1ZhbHVlc0FzY2VuZGluZ1s0XSA9IHNwLmxvYWRTdHJpbmdSZXNvdXJjZShJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHMxMVJhdGluZ1ZhbHVlNCk7XHJcblx0XHRyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbNV0gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTUpO1xyXG5cdFx0cmF0aW5nVmFsdWVzQXNjZW5kaW5nWzZdID0gc3AubG9hZFN0cmluZ1Jlc291cmNlKElGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wczExUmF0aW5nVmFsdWU2KTtcclxuXHRcdHJhdGluZ1ZhbHVlc0FzY2VuZGluZ1s3XSA9IHNwLmxvYWRTdHJpbmdSZXNvdXJjZShJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHMxMVJhdGluZ1ZhbHVlNyk7XHJcblx0XHRyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbOF0gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTgpO1xyXG5cdFx0cmF0aW5nVmFsdWVzQXNjZW5kaW5nWzldID0gc3AubG9hZFN0cmluZ1Jlc291cmNlKElGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wczExUmF0aW5nVmFsdWU5KTtcclxuXHRcdHJhdGluZ1ZhbHVlc0FzY2VuZGluZ1sxMF0gPSBzcC5sb2FkU3RyaW5nUmVzb3VyY2UoSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTEwKTtcclxuXHJcblx0XHRpZiAoIWRhdGEucmF0aW5nRGF0YS5xdWVzdGlvblxyXG5cdFx0XHR8fCAhZGF0YS5jb21tZW50RGF0YS5xdWVzdGlvblxyXG5cdFx0XHR8fCAhZGF0YS5wcm9tcHREYXRhLnRpdGxlXHJcblx0XHRcdHx8ICFkYXRhLnByb21wdERhdGEucXVlc3Rpb25cclxuXHRcdFx0fHwgIWRhdGEucHJvbXB0RGF0YS55ZXNCdXR0b25MYWJlbFxyXG5cdFx0XHR8fCAhZGF0YS5wcm9tcHREYXRhLm5vQnV0dG9uTGFiZWxcclxuXHRcdFx0fHwgIXJhdGluZ1ZhbHVlc0FzY2VuZGluZ1swXVxyXG5cdFx0XHR8fCAhcmF0aW5nVmFsdWVzQXNjZW5kaW5nWzFdXHJcblx0XHRcdHx8ICFyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbMl1cclxuXHRcdFx0fHwgIXJhdGluZ1ZhbHVlc0FzY2VuZGluZ1szXVxyXG5cdFx0XHR8fCAhcmF0aW5nVmFsdWVzQXNjZW5kaW5nWzRdXHJcblx0XHRcdHx8ICFyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbNV1cclxuXHRcdFx0fHwgIXJhdGluZ1ZhbHVlc0FzY2VuZGluZ1s2XVxyXG5cdFx0XHR8fCAhcmF0aW5nVmFsdWVzQXNjZW5kaW5nWzddXHJcblx0XHRcdHx8ICFyYXRpbmdWYWx1ZXNBc2NlbmRpbmdbOF1cclxuXHRcdFx0fHwgIXJhdGluZ1ZhbHVlc0FzY2VuZGluZ1s5XVxyXG5cdFx0XHR8fCAhcmF0aW5nVmFsdWVzQXNjZW5kaW5nWzEwXSkge1xyXG5cclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0ZGF0YS5yYXRpbmdEYXRhLnJhdGluZ1ZhbHVlc0FzY2VuZGluZyA9IHJhdGluZ1ZhbHVlc0FzY2VuZGluZztcclxuXHRcdHJldHVybiB0aGlzLm1ha2UoZGF0YSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN1cnZleUluZm86IFN1cnZleURhdGFTb3VyY2U7XHJcblx0cHJpdmF0ZSBxdWVzdGlvbjogQ29tbWVudENvbXBvbmVudDtcclxuXHRwcml2YXRlIHByb21wdDogUHJvbXB0Q29tcG9uZW50O1xyXG5cdHByaXZhdGUgcmF0aW5nOiBSYXRpbmdDb21wb25lbnQ7XHJcblxyXG5cdHByaXZhdGUgY29uc3RydWN0b3IoZGF0YTogTnBzU3VydmV5Lk5wc1N1cnZleURhdGEpIHtcclxuXHRcdHN1cGVyKCk7XHJcblx0XHRpZiAoIWRhdGEpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiZGF0YSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuc3VydmV5SW5mbyA9IG5ldyBTdXJ2ZXlEYXRhU291cmNlKGRhdGEuYmFzZURhdGEpO1xyXG5cdFx0dGhpcy5wcm9tcHQgPSBuZXcgUHJvbXB0Q29tcG9uZW50KGRhdGEucHJvbXB0RGF0YSk7XHJcblx0XHR0aGlzLnF1ZXN0aW9uID0gbmV3IENvbW1lbnRDb21wb25lbnQoZGF0YS5jb21tZW50RGF0YSk7XHJcblx0XHR0aGlzLnJhdGluZyA9IG5ldyBSYXRpbmdDb21wb25lbnQoZGF0YS5yYXRpbmdEYXRhKTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRUeXBlKCk6IElTdXJ2ZXkuVHlwZSB7XHJcblx0XHRyZXR1cm4gSVN1cnZleS5UeXBlLk5wcztcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRTdXJ2ZXlJbmZvKCk6IElTdXJ2ZXlJbmZvIHtcclxuXHRcdHJldHVybiB0aGlzLnN1cnZleUluZm87XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0Q29tbWVudENvbXBvbmVudCgpOiBDb21tZW50Q29tcG9uZW50IHtcclxuXHRcdHJldHVybiB0aGlzLnF1ZXN0aW9uO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldFByb21wdENvbXBvbmVudCgpOiBQcm9tcHRDb21wb25lbnQge1xyXG5cdFx0cmV0dXJuIHRoaXMucHJvbXB0O1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldFJhdGluZ0NvbXBvbmVudCgpOiBSYXRpbmdDb21wb25lbnQge1xyXG5cdFx0cmV0dXJuIHRoaXMucmF0aW5nO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldENvbXBvbmVudChjb21wb25lbnRUeXBlOiBJU3VydmV5Q29tcG9uZW50LlR5cGUpOiBJU3VydmV5Q29tcG9uZW50IHtcclxuXHRcdHN3aXRjaCAoY29tcG9uZW50VHlwZSkge1xyXG5cdFx0XHRjYXNlIElTdXJ2ZXlDb21wb25lbnQuVHlwZS5Db21tZW50OlxyXG5cdFx0XHRcdHJldHVybiB0aGlzLmdldENvbW1lbnRDb21wb25lbnQoKTtcclxuXHRcdFx0Y2FzZSBJU3VydmV5Q29tcG9uZW50LlR5cGUuUHJvbXB0OlxyXG5cdFx0XHRcdHJldHVybiB0aGlzLmdldFByb21wdENvbXBvbmVudCgpO1xyXG5cdFx0XHRjYXNlIElTdXJ2ZXlDb21wb25lbnQuVHlwZS5SYXRpbmc6XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0UmF0aW5nQ29tcG9uZW50KCk7XHJcblx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0RG9tRWxlbWVudHMoZG9jOiBEb2N1bWVudCk6IEVsZW1lbnRbXSB7XHJcblx0XHRpZiAoIWRvYykge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJEb2N1bWVudCBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGVsZW1lbnQ6IEVsZW1lbnQgPSBkb2MuY3JlYXRlRWxlbWVudChJU3VydmV5LkRPTV9OUFNfVEFHTkFNRSk7XHJcblxyXG5cdFx0dGhpcy5nZXRTdXJ2ZXlJbmZvKCkuZ2V0RG9tRWxlbWVudHMoZG9jKS5mb3JFYWNoKChjaGlsZCkgPT4ge1xyXG5cdFx0XHRpZiAoY2hpbGQpIHtcclxuXHRcdFx0XHRlbGVtZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5nZXRDb21tZW50Q29tcG9uZW50KCkuZ2V0RG9tRWxlbWVudHMoZG9jKS5mb3JFYWNoKChjaGlsZCkgPT4ge1xyXG5cdFx0XHRpZiAoY2hpbGQpIHtcclxuXHRcdFx0XHRlbGVtZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5nZXRSYXRpbmdDb21wb25lbnQoKS5nZXREb21FbGVtZW50cyhkb2MpLmZvckVhY2goKGNoaWxkKSA9PiB7XHJcblx0XHRcdGlmIChjaGlsZCkge1xyXG5cdFx0XHRcdGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHRyZXR1cm4gW2VsZW1lbnRdO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldEpzb25FbGVtZW50cygpOiBvYmplY3Qge1xyXG5cdFx0bGV0IHJlc3VsdDogb2JqZWN0ID0ge307XHJcblxyXG5cdFx0cmVzdWx0ID0gb3ZlcnJpZGVWYWx1ZXModGhpcy5nZXRTdXJ2ZXlJbmZvKCkuZ2V0SnNvbkVsZW1lbnRzKCksIHJlc3VsdCk7XHJcblx0XHRyZXN1bHQgPSBvdmVycmlkZVZhbHVlcyh0aGlzLmdldENvbW1lbnRDb21wb25lbnQoKS5nZXRKc29uRWxlbWVudHMoKSwgcmVzdWx0KTtcclxuXHRcdHJlc3VsdCA9IG92ZXJyaWRlVmFsdWVzKHRoaXMuZ2V0UmF0aW5nQ29tcG9uZW50KCkuZ2V0SnNvbkVsZW1lbnRzKCksIHJlc3VsdCk7XHJcblxyXG5cdFx0cmVzdWx0W0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9BUFBMSUNBVElPTl9LRVlOQU1FXSA9IHt9O1xyXG5cdFx0cmVzdWx0W0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9BUFBMSUNBVElPTl9LRVlOQU1FXVtJU3VydmV5Q29tcG9uZW50LkpTT05fRVhURU5ERURNQU5JRkVTVERBVEFfS0VZTkFNRV0gPVxyXG5cdFx0XHRKU09OLnN0cmluZ2lmeSh7W0lTdXJ2ZXlDb21wb25lbnQuSlNPTl9TVVJWRVlTVFJJTkdTX0tFWU5BTUVdOiB0aGlzLm1ha2VTdXJ2ZXlTdHJpbmdzKCl9KTtcclxuXHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH1cclxuXHJcblx0Ly8gTWFrZXMgdGhlIHN0cmluZyB0byBzZW5kIHRvIE1hbmlmZXN0IHJlc3BlY3RpbmcgdGhlIGNvbXBvbmVudHMgcHJlc2VudCBpbiB0aGUgc3VydmV5XHJcblx0cHJpdmF0ZSBtYWtlU3VydmV5U3RyaW5ncygpOiBzdHJpbmcge1xyXG5cdFx0Y29uc3QgYWN0dWFsU3RyaW5nczogb2JqZWN0ID0ge307XHJcblxyXG5cdFx0aWYgKHRoaXMucHJvbXB0KSB7XHJcblx0XHRcdGFjdHVhbFN0cmluZ3NbSVN1cnZleUNvbXBvbmVudC5KU09OX1BST01QVF9LRVlOQU1FXSA9IHRoaXMucHJvbXB0LmdldENvbXBvbmVudEpzb24oKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5yYXRpbmcpIHtcclxuXHRcdFx0YWN0dWFsU3RyaW5nc1tJU3VydmV5Q29tcG9uZW50LkpTT05fUkFUSU5HX0tFWU5BTUVdID0gW3RoaXMucmF0aW5nLmdldENvbXBvbmVudEpzb24oKV07XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMucXVlc3Rpb24pIHtcclxuXHRcdFx0YWN0dWFsU3RyaW5nc1tJU3VydmV5Q29tcG9uZW50LkpTT05fQ09NTUVOVF9LRVlOQU1FXSA9IFt0aGlzLnF1ZXN0aW9uLmdldENvbXBvbmVudEpzb24oKV07XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KGFjdHVhbFN0cmluZ3MpO1xyXG5cdH1cclxufVxyXG5cclxubW9kdWxlIE5wc1N1cnZleSB7XHJcblx0LyoqXHJcblx0ICogRGF0YSByZXF1aXJlZCBmb3IgYSBOcHMgU3VydmV5XHJcblx0ICovXHJcblx0ZXhwb3J0IGNsYXNzIE5wc1N1cnZleURhdGEge1xyXG5cdFx0cHVibGljIGJhc2VEYXRhOiBTdXJ2ZXlEYXRhU291cmNlLlN1cnZleURhdGFTb3VyY2VEYXRhO1xyXG5cdFx0cHVibGljIGNvbW1lbnREYXRhOiBDb21tZW50Q29tcG9uZW50LkNvbW1lbnRDb21wb25lbnREYXRhO1xyXG5cdFx0cHVibGljIHByb21wdERhdGE6IFByb21wdENvbXBvbmVudC5Qcm9tcHRDb21wb25lbnREYXRhO1xyXG5cdFx0cHVibGljIHJhdGluZ0RhdGE6IFJhdGluZ0NvbXBvbmVudC5SYXRpbmdDb21wb25lbnREYXRhO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0ID0gTnBzU3VydmV5O1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Surveys/NpsSurvey.js\n')},"../FloodgateCore/dist/src/Surveys/Survey.js":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.Survey = void 0;\nvar ISurvey = __webpack_require__(/*! ../Api/ISurvey */ "../FloodgateCore/dist/src/Api/ISurvey.js");\nvar FloodgateEngine_1 = __webpack_require__(/*! ../FloodgateEngine */ "../FloodgateCore/dist/src/FloodgateEngine.js");\nvar Survey = /** @class */ (function () {\n    function Survey() {\n    }\n    Survey.prototype.getCampaignId = function () {\n        return this.getSurveyInfo().getBackEndId();\n    };\n    Survey.prototype.getLauncherType = function () {\n        return this.getSurveyInfo().getLauncherType();\n    };\n    Survey.prototype.getClientFeedbackId = function () {\n        return this.clientFeedbackId;\n    };\n    Survey.prototype.submit = function () {\n        var surveyType = ISurvey.Type[this.getType()];\n        var transporter = FloodgateEngine_1.FloodgateEngine.getTransportFactory().makeTransporter(surveyType);\n        transporter.setManifestValues(this.getJsonElements());\n        this.clientFeedbackId = transporter.getClientFeedbackId();\n        transporter.submit();\n    };\n    return Survey;\n}());\nexports.Survey = Survey;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleXMvU3VydmV5LnRzPzZkZDUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsb0dBQTJDO0FBRzNDLHNIQUFxRDtBQUdyRDtJQUFBO0lBa0NBLENBQUM7SUE1Qk8sOEJBQWEsR0FBcEI7UUFDQyxPQUFPLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUM1QyxDQUFDO0lBRU0sZ0NBQWUsR0FBdEI7UUFDQyxPQUFPLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUMvQyxDQUFDO0lBRU0sb0NBQW1CLEdBQTFCO1FBQ0MsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7SUFDOUIsQ0FBQztJQUVNLHVCQUFNLEdBQWI7UUFDQyxJQUFNLFVBQVUsR0FBVyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDO1FBQ3hELElBQU0sV0FBVyxHQUFpQixpQ0FBZSxDQUFDLG1CQUFtQixFQUFFLENBQUMsZUFBZSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3BHLFdBQVcsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUMsQ0FBQztRQUN0RCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsV0FBVyxDQUFDLG1CQUFtQixFQUFFLENBQUM7UUFDMUQsV0FBVyxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ3RCLENBQUM7SUFVRixhQUFDO0FBQUQsQ0FBQztBQWxDcUIsd0JBQU0iLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9TdXJ2ZXlzL1N1cnZleS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBJU3VydmV5ID0gcmVxdWlyZShcIi4uL0FwaS9JU3VydmV5XCIpO1xyXG5pbXBvcnQgSVN1cnZleUNvbXBvbmVudCA9IHJlcXVpcmUoXCIuLi9BcGkvSVN1cnZleUNvbXBvbmVudFwiKTtcclxuaW1wb3J0IHsgSVRyYW5zcG9ydGVyIH0gZnJvbSBcIi4uL0FwaS9JVHJhbnNwb3J0ZXJcIjtcclxuaW1wb3J0IHsgRmxvb2RnYXRlRW5naW5lIH0gZnJvbSBcIi4uL0Zsb29kZ2F0ZUVuZ2luZVwiO1xyXG5pbXBvcnQgKiBhcyBJU3VydmV5SW5mbyBmcm9tIFwiLi4vSVN1cnZleUluZm9cIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTdXJ2ZXkgaW1wbGVtZW50cyBJU3VydmV5IHtcclxuXHRwcml2YXRlIHN1cnZleTogSVN1cnZleTtcclxuXHRwcml2YXRlIGNsaWVudEZlZWRiYWNrSWQ6IHN0cmluZztcclxuXHJcblx0cHVibGljIGFic3RyYWN0IGdldENvbXBvbmVudChjb21wb25lbnRUeXBlOiBJU3VydmV5Q29tcG9uZW50LlR5cGUpOiBJU3VydmV5Q29tcG9uZW50O1xyXG5cclxuXHRwdWJsaWMgZ2V0Q2FtcGFpZ25JZCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuZ2V0U3VydmV5SW5mbygpLmdldEJhY2tFbmRJZCgpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldExhdW5jaGVyVHlwZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuZ2V0U3VydmV5SW5mbygpLmdldExhdW5jaGVyVHlwZSgpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENsaWVudEZlZWRiYWNrSWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmNsaWVudEZlZWRiYWNrSWQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc3VibWl0KCkge1xyXG5cdFx0Y29uc3Qgc3VydmV5VHlwZTogc3RyaW5nID0gSVN1cnZleS5UeXBlW3RoaXMuZ2V0VHlwZSgpXTtcclxuXHRcdGNvbnN0IHRyYW5zcG9ydGVyOiBJVHJhbnNwb3J0ZXIgPSBGbG9vZGdhdGVFbmdpbmUuZ2V0VHJhbnNwb3J0RmFjdG9yeSgpLm1ha2VUcmFuc3BvcnRlcihzdXJ2ZXlUeXBlKTtcclxuXHRcdHRyYW5zcG9ydGVyLnNldE1hbmlmZXN0VmFsdWVzKHRoaXMuZ2V0SnNvbkVsZW1lbnRzKCkpO1xyXG5cdFx0dGhpcy5jbGllbnRGZWVkYmFja0lkID0gdHJhbnNwb3J0ZXIuZ2V0Q2xpZW50RmVlZGJhY2tJZCgpO1xyXG5cdFx0dHJhbnNwb3J0ZXIuc3VibWl0KCk7XHJcblx0fVxyXG5cclxuXHQvLyBBYnN0cmFjdCBjbGFzc2VzIHRoYXQgYXJlIGltcGxlbWVudGVkIGJ5IGFjdHVhbCBTdXJ2ZXlzXHJcblx0cHVibGljIGFic3RyYWN0IGdldFR5cGUoKTogSVN1cnZleS5UeXBlO1xyXG5cclxuXHRwdWJsaWMgYWJzdHJhY3QgZ2V0U3VydmV5SW5mbygpOiBJU3VydmV5SW5mbztcclxuXHJcblx0cHVibGljIGFic3RyYWN0IGdldEpzb25FbGVtZW50cygpOiBvYmplY3Q7XHJcblxyXG5cdHB1YmxpYyBhYnN0cmFjdCBnZXREb21FbGVtZW50cyhkb2M6IERvY3VtZW50KTogRWxlbWVudFtdO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Surveys/Survey.js\n')},"../FloodgateCore/dist/src/Surveys/SurveyDataSource.js":function(module,exports,__webpack_require__){"use strict";eval('\nvar ISurvey = __webpack_require__(/*! ../../src/Api/ISurvey */ "../FloodgateCore/dist/src/Api/ISurvey.js");\nvar GovernedChannel_1 = __webpack_require__(/*! ../GovernedChannel */ "../FloodgateCore/dist/src/GovernedChannel.js");\nvar ISurveyInfo = __webpack_require__(/*! ../ISurveyInfo */ "../FloodgateCore/dist/src/ISurveyInfo.js");\nvar Utils = __webpack_require__(/*! ../Utils */ "../FloodgateCore/dist/src/Utils.js");\nvar getDistantFuture = Utils.getDistantFuture, getDistantPast = Utils.getDistantPast, isNOU = Utils.isNOU, isDate = Utils.isDate;\nvar SurveyDataSource = /** @class */ (function () {\n    function SurveyDataSource(data) {\n        if (isNOU(data)) {\n            throw new Error("data must not be null");\n        }\n        if (isNOU(data.id) || data.id === "") {\n            throw new Error("data.id must not be null or empty");\n        }\n        if (isNOU(data.governedChannelType)) {\n            data.governedChannelType = GovernedChannel_1.GovernedChannelType.getDefault();\n        }\n        if (isNOU(data.expirationTimeUtc) || data.expirationTimeUtc === "") {\n            throw new Error("data.expirationTimeUtc must not be null or empty");\n        }\n        if (isNOU(data.activationEvent)) {\n            throw new Error("data.activationEvent must not be null");\n        }\n        if (isNOU(data.backEndIdentifier) || data.backEndIdentifier === "") {\n            data.backEndIdentifier = data.id;\n        }\n        if (isNOU(data.launcherType)) {\n            data.launcherType = ISurvey.LAUNCHER_TYPE_DEFAULT;\n        }\n        this.data = data;\n    }\n    // @Override\n    SurveyDataSource.prototype.getId = function () {\n        return this.data.id;\n    };\n    // @Override\n    SurveyDataSource.prototype.getBackEndId = function () {\n        return this.data.backEndIdentifier;\n    };\n    // @Override\n    SurveyDataSource.prototype.getGovernedChannelType = function () {\n        return this.data.governedChannelType;\n    };\n    // @Override\n    SurveyDataSource.prototype.getRawStartTimeUtc = function () {\n        return this.data.startTimeUtc;\n    };\n    // @Override\n    SurveyDataSource.prototype.getStartTimeUtc = function () {\n        if (isNOU(this.data.startTimeUtc)) {\n            return getDistantPast(); // Optional start date means the survey has started\n        }\n        var parsed = new Date(this.data.startTimeUtc);\n        if (!isDate(parsed)) {\n            return getDistantFuture(); // Badly specified start dates means the survey never starts\n        }\n        return parsed;\n    };\n    // @Override\n    SurveyDataSource.prototype.getExpirationTimeUtc = function () {\n        // Bad or missing expiration date means survey is always expired.\n        if (isNOU(this.data.expirationTimeUtc)) {\n            return getDistantPast();\n        }\n        var parsed = new Date(this.data.expirationTimeUtc);\n        if (!isDate(parsed)) {\n            return getDistantPast();\n        }\n        return parsed;\n    };\n    // @Override\n    SurveyDataSource.prototype.getRawExpirationTimeUtc = function () {\n        return this.data.expirationTimeUtc;\n    };\n    // @Override\n    SurveyDataSource.prototype.isActiveForDate = function (date) {\n        if (isNOU(date)) {\n            return false;\n        }\n        return (date >= this.getStartTimeUtc() && date <= this.getExpirationTimeUtc());\n    };\n    // @Override\n    SurveyDataSource.prototype.getActivationEvent = function () {\n        return this.data.activationEvent;\n    };\n    // @Override\n    SurveyDataSource.prototype.getPreferredLaunchType = function () {\n        return this.data.preferredLaunchType;\n    };\n    // @Override\n    SurveyDataSource.prototype.isAdditionalDataRequested = function (additionalDataToCheck) {\n        if (isNOU(this.data.additionalDataRequested)) {\n            return false;\n        }\n        for (var _i = 0, _a = this.data.additionalDataRequested; _i < _a.length; _i++) {\n            var additionalData = _a[_i];\n            if (additionalData === additionalDataToCheck) {\n                return true;\n            }\n        }\n        return false;\n    };\n    // @Override\n    SurveyDataSource.prototype.getLauncherType = function () {\n        return this.data.launcherType;\n    };\n    // @Override\n    SurveyDataSource.prototype.getMetadata = function () {\n        return this.data.metadata;\n    };\n    // @Override\n    SurveyDataSource.prototype.getDomElements = function (doc) {\n        if (!doc) {\n            throw new Error("Document must not be null");\n        }\n        var typeElement = doc.createElement(ISurveyInfo.DOM_TYPE_TAGNAME);\n        typeElement.appendChild(doc.createTextNode(ISurveyInfo.DOM_TYPE_VALUE));\n        var idElement = doc.createElement(ISurveyInfo.DOM_ID_TAGNAME);\n        idElement.appendChild(doc.createTextNode(this.getBackEndId()));\n        return [typeElement, idElement];\n    };\n    // @Override\n    SurveyDataSource.prototype.getJsonElements = function () {\n        var surveyObject = {};\n        surveyObject[ISurveyInfo.JSON_ID_KEYNAME] = this.getBackEndId();\n        var result = {};\n        result[ISurveyInfo.JSON_SURVEY_KEYNAME] = surveyObject;\n        return result;\n    };\n    return SurveyDataSource;\n}());\n(function (SurveyDataSource) {\n    /**\n     * Basic data needed for all Surveys\n     */\n    var SurveyDataSourceData = /** @class */ (function () {\n        function SurveyDataSourceData() {\n            this.preferredLaunchType = "Default" /* Default */;\n        }\n        return SurveyDataSourceData;\n    }());\n    SurveyDataSource.SurveyDataSourceData = SurveyDataSourceData;\n})(SurveyDataSource || (SurveyDataSource = {}));\nmodule.exports = SurveyDataSource;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1N1cnZleXMvU3VydmV5RGF0YVNvdXJjZS50cz84MzQ2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSwyR0FBaUQ7QUFDakQsc0hBQXlEO0FBRXpELHdHQUE4QztBQUU5QyxzRkFBa0M7QUFFMUIsb0JBQWdCLEdBQW9DLEtBQUssaUJBQXpDLEVBQUUsY0FBYyxHQUFvQixLQUFLLGVBQXpCLEVBQUUsS0FBSyxHQUFhLEtBQUssTUFBbEIsRUFBRSxNQUFNLEdBQUssS0FBSyxPQUFWLENBQVc7QUFFbEU7SUFHQywwQkFBbUIsSUFBMkM7UUFDN0QsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDaEIsTUFBTSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1NBQ3pDO1FBQ0QsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLElBQUksQ0FBQyxFQUFFLEtBQUssRUFBRSxFQUFFO1lBQ3JDLE1BQU0sSUFBSSxLQUFLLENBQUMsbUNBQW1DLENBQUMsQ0FBQztTQUNyRDtRQUNELElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxFQUFFO1lBQ3BDLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxxQ0FBbUIsQ0FBQyxVQUFVLEVBQUUsQ0FBQztTQUM1RDtRQUNELElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLElBQUksQ0FBQyxpQkFBaUIsS0FBSyxFQUFFLEVBQUU7WUFDbkUsTUFBTSxJQUFJLEtBQUssQ0FBQyxrREFBa0QsQ0FBQyxDQUFDO1NBQ3BFO1FBQ0QsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxFQUFFO1lBQ2hDLE1BQU0sSUFBSSxLQUFLLENBQUMsdUNBQXVDLENBQUMsQ0FBQztTQUN6RDtRQUNELElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLElBQUksQ0FBQyxpQkFBaUIsS0FBSyxFQUFF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LEdBQUcsWUFBWSxDQUFDO1FBRXZELE9BQU8sTUFBTSxDQUFDO0lBQ2YsQ0FBQztJQUNGLHVCQUFDO0FBQUQsQ0FBQztBQUVELFdBQU8sZ0JBQWdCO0lBQ3RCOztPQUVHO0lBQ0g7UUFBQTtZQU9RLHdCQUFtQiwyQkFBMEQ7UUFJckYsQ0FBQztRQUFELDJCQUFDO0lBQUQsQ0FBQztJQVhZLHFDQUFvQix1QkFXaEM7QUFDRixDQUFDLEVBaEJNLGdCQUFnQixLQUFoQixnQkFBZ0IsUUFnQnRCO0FBRUQsaUJBQVMsZ0JBQWdCLENBQUMiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9TdXJ2ZXlzL1N1cnZleURhdGFTb3VyY2UuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBJU3VydmV5IGZyb20gXCIuLi8uLi9zcmMvQXBpL0lTdXJ2ZXlcIjtcclxuaW1wb3J0IHsgR292ZXJuZWRDaGFubmVsVHlwZSB9IGZyb20gXCIuLi9Hb3Zlcm5lZENoYW5uZWxcIjtcclxuaW1wb3J0ICogYXMgSVN1cnZleUV2ZW50IGZyb20gXCIuLi9JU3VydmV5RXZlbnRcIjtcclxuaW1wb3J0ICogYXMgSVN1cnZleUluZm8gZnJvbSBcIi4uL0lTdXJ2ZXlJbmZvXCI7XHJcbmltcG9ydCB7IElTdXJ2ZXlNZXRhZGF0YSB9IGZyb20gXCIuLi9JU3VydmV5TWV0YWRhdGFcIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XHJcblxyXG5jb25zdCB7IGdldERpc3RhbnRGdXR1cmUsIGdldERpc3RhbnRQYXN0LCBpc05PVSwgaXNEYXRlIH0gPSBVdGlscztcclxuXHJcbmNsYXNzIFN1cnZleURhdGFTb3VyY2UgaW1wbGVtZW50cyBJU3VydmV5SW5mbyB7XHJcblx0cHJpdmF0ZSBkYXRhOiBTdXJ2ZXlEYXRhU291cmNlLlN1cnZleURhdGFTb3VyY2VEYXRhO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IoZGF0YTogU3VydmV5RGF0YVNvdXJjZS5TdXJ2ZXlEYXRhU291cmNlRGF0YSkge1xyXG5cdFx0aWYgKGlzTk9VKGRhdGEpKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmIChpc05PVShkYXRhLmlkKSB8fCBkYXRhLmlkID09PSBcIlwiKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcImRhdGEuaWQgbXVzdCBub3QgYmUgbnVsbCBvciBlbXB0eVwiKTtcclxuXHRcdH1cclxuXHRcdGlmIChpc05PVShkYXRhLmdvdmVybmVkQ2hhbm5lbFR5cGUpKSB7XHJcblx0XHRcdGRhdGEuZ292ZXJuZWRDaGFubmVsVHlwZSA9IEdvdmVybmVkQ2hhbm5lbFR5cGUuZ2V0RGVmYXVsdCgpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGlzTk9VKGRhdGEuZXhwaXJhdGlvblRpbWVVdGMpIHx8IGRhdGEuZXhwaXJhdGlvblRpbWVVdGMgPT09IFwiXCIpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiZGF0YS5leHBpcmF0aW9uVGltZVV0YyBtdXN0IG5vdCBiZSBudWxsIG9yIGVtcHR5XCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGlzTk9VKGRhdGEuYWN0aXZhdGlvbkV2ZW50KSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJkYXRhLmFjdGl2YXRpb25FdmVudCBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKGlzTk9VKGRhdGEuYmFja0VuZElkZW50aWZpZXIpIHx8IGRhdGEuYmFja0VuZElkZW50aWZpZXIgPT09IFwiXCIpIHtcclxuXHRcdFx0ZGF0YS5iYWNrRW5kSWRlbnRpZmllciA9IGRhdGEuaWQ7XHJcblx0XHR9XHJcblx0XHRpZiAoaXNOT1UoZGF0YS5sYXVuY2hlclR5cGUpKSB7XHJcblx0XHRcdGRhdGEubGF1bmNoZXJUeXBlID0gSVN1cnZleS5MQVVOQ0hFUl9UWVBFX0RFRkFVTFQ7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5kYXRhID0gZGF0YTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRJZCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5pZDtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRCYWNrRW5kSWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEuYmFja0VuZElkZW50aWZpZXI7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0R292ZXJuZWRDaGFubmVsVHlwZSgpOiBHb3Zlcm5lZENoYW5uZWxUeXBlIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEuZ292ZXJuZWRDaGFubmVsVHlwZTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRSYXdTdGFydFRpbWVVdGMoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEuc3RhcnRUaW1lVXRjO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldFN0YXJ0VGltZVV0YygpOiBEYXRlIHtcclxuXHRcdGlmIChpc05PVSh0aGlzLmRhdGEuc3RhcnRUaW1lVXRjKSkge1xyXG5cdFx0XHRyZXR1cm4gZ2V0RGlzdGFudFBhc3QoKTsgLy8gT3B0aW9uYWwgc3RhcnQgZGF0ZSBtZWFucyB0aGUgc3VydmV5IGhhcyBzdGFydGVkXHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgcGFyc2VkID0gbmV3IERhdGUodGhpcy5kYXRhLnN0YXJ0VGltZVV0Yyk7XHJcblx0XHRpZiAoIWlzRGF0ZShwYXJzZWQpKSB7XHJcblx0XHRcdHJldHVybiBnZXREaXN0YW50RnV0dXJlKCk7IC8vIEJhZGx5IHNwZWNpZmllZCBzdGFydCBkYXRlcyBtZWFucyB0aGUgc3VydmV5IG5ldmVyIHN0YXJ0c1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBwYXJzZWQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0RXhwaXJhdGlvblRpbWVVdGMoKTogRGF0ZSB7XHJcblx0XHQvLyBCYWQgb3IgbWlzc2luZyBleHBpcmF0aW9uIGRhdGUgbWVhbnMgc3VydmV5IGlzIGFsd2F5cyBleHBpcmVkLlxyXG5cclxuXHRcdGlmIChpc05PVSh0aGlzLmRhdGEuZXhwaXJhdGlvblRpbWVVdGMpKSB7XHJcblx0XHRcdHJldHVybiBnZXREaXN0YW50UGFzdCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHBhcnNlZCA9IG5ldyBEYXRlKHRoaXMuZGF0YS5leHBpcmF0aW9uVGltZVV0Yyk7XHJcblx0XHRpZiAoIWlzRGF0ZShwYXJzZWQpKSB7XHJcblx0XHRcdHJldHVybiBnZXREaXN0YW50UGFzdCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBwYXJzZWQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0UmF3RXhwaXJhdGlvblRpbWVVdGMoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEuZXhwaXJhdGlvblRpbWVVdGM7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgaXNBY3RpdmVGb3JEYXRlKGRhdGU6IERhdGUpOiBib29sZWFuIHtcclxuXHRcdGlmIChpc05PVShkYXRlKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIChkYXRlID49IHRoaXMuZ2V0U3RhcnRUaW1lVXRjKCkgJiYgZGF0ZSA8PSB0aGlzLmdldEV4cGlyYXRpb25UaW1lVXRjKCkpO1xyXG5cdH1cclxuXHJcblx0Ly8gQE92ZXJyaWRlXHJcblx0cHVibGljIGdldEFjdGl2YXRpb25FdmVudCgpOiBJU3VydmV5RXZlbnQge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5hY3RpdmF0aW9uRXZlbnQ7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0UHJlZmVycmVkTGF1bmNoVHlwZSgpOiBJU3VydmV5SW5mby5MYXVuY2hUeXBlIHtcclxuXHRcdHJldHVybiB0aGlzLmRhdGEucHJlZmVycmVkTGF1bmNoVHlwZTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBpc0FkZGl0aW9uYWxEYXRhUmVxdWVzdGVkKGFkZGl0aW9uYWxEYXRhVG9DaGVjazogSVN1cnZleUluZm8uQWRkaXRpb25hbERhdGFUeXBlKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoaXNOT1UodGhpcy5kYXRhLmFkZGl0aW9uYWxEYXRhUmVxdWVzdGVkKSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0XHRmb3IgKGNvbnN0IGFkZGl0aW9uYWxEYXRhIG9mIHRoaXMuZGF0YS5hZGRpdGlvbmFsRGF0YVJlcXVlc3RlZCkge1xyXG5cdFx0XHRpZiAoYWRkaXRpb25hbERhdGEgPT09IGFkZGl0aW9uYWxEYXRhVG9DaGVjaykge1xyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0TGF1bmNoZXJUeXBlKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5kYXRhLmxhdW5jaGVyVHlwZTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXRNZXRhZGF0YSgpOiBJU3VydmV5TWV0YWRhdGEge1xyXG5cdFx0cmV0dXJuIHRoaXMuZGF0YS5tZXRhZGF0YTtcclxuXHR9XHJcblxyXG5cdC8vIEBPdmVycmlkZVxyXG5cdHB1YmxpYyBnZXREb21FbGVtZW50cyhkb2M6IERvY3VtZW50KTogRWxlbWVudFtdIHtcclxuXHRcdGlmICghZG9jKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkRvY3VtZW50IG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgdHlwZUVsZW1lbnQ6IEVsZW1lbnQgPSBkb2MuY3JlYXRlRWxlbWVudChJU3VydmV5SW5mby5ET01fVFlQRV9UQUdOQU1FKTtcclxuXHRcdHR5cGVFbGVtZW50LmFwcGVuZENoaWxkKGRvYy5jcmVhdGVUZXh0Tm9kZShJU3VydmV5SW5mby5ET01fVFlQRV9WQUxVRSkpO1xyXG5cclxuXHRcdGNvbnN0IGlkRWxlbWVudDogRWxlbWVudCA9IGRvYy5jcmVhdGVFbGVtZW50KElTdXJ2ZXlJbmZvLkRPTV9JRF9UQUdOQU1FKTtcclxuXHRcdGlkRWxlbWVudC5hcHBlbmRDaGlsZChkb2MuY3JlYXRlVGV4dE5vZGUodGhpcy5nZXRCYWNrRW5kSWQoKSkpO1xyXG5cclxuXHRcdHJldHVybiBbdHlwZUVsZW1lbnQsIGlkRWxlbWVudF07XHJcblx0fVxyXG5cclxuXHQvLyBAT3ZlcnJpZGVcclxuXHRwdWJsaWMgZ2V0SnNvbkVsZW1lbnRzKCk6IG9iamVjdCB7XHJcblx0XHRjb25zdCBzdXJ2ZXlPYmplY3Q6IG9iamVjdCA9IHt9O1xyXG5cdFx0c3VydmV5T2JqZWN0W0lTdXJ2ZXlJbmZvLkpTT05fSURfS0VZTkFNRV0gPSB0aGlzLmdldEJhY2tFbmRJZCgpO1xyXG5cclxuXHRcdGNvbnN0IHJlc3VsdDogb2JqZWN0ID0ge307XHJcblx0XHRyZXN1bHRbSVN1cnZleUluZm8uSlNPTl9TVVJWRVlfS0VZTkFNRV0gPSBzdXJ2ZXlPYmplY3Q7XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcbn1cclxuXHJcbm1vZHVsZSBTdXJ2ZXlEYXRhU291cmNlIHtcclxuXHQvKipcclxuXHQgKiBCYXNpYyBkYXRhIG5lZWRlZCBmb3IgYWxsIFN1cnZleXNcclxuXHQgKi9cclxuXHRleHBvcnQgY2xhc3MgU3VydmV5RGF0YVNvdXJjZURhdGEge1xyXG5cdFx0cHVibGljIGlkOiBzdHJpbmc7XHJcblx0XHRwdWJsaWMgYmFja0VuZElkZW50aWZpZXI6IHN0cmluZztcclxuXHRcdHB1YmxpYyBnb3Zlcm5lZENoYW5uZWxUeXBlOiBHb3Zlcm5lZENoYW5uZWxUeXBlO1xyXG5cdFx0cHVibGljIHN0YXJ0VGltZVV0Yzogc3RyaW5nO1xyXG5cdFx0cHVibGljIGV4cGlyYXRpb25UaW1lVXRjOiBzdHJpbmc7XHJcblx0XHRwdWJsaWMgYWN0aXZhdGlvbkV2ZW50OiBJU3VydmV5RXZlbnQ7XHJcblx0XHRwdWJsaWMgcHJlZmVycmVkTGF1bmNoVHlwZTogSVN1cnZleUluZm8uTGF1bmNoVHlwZSA9IElTdXJ2ZXlJbmZvLkxhdW5jaFR5cGUuRGVmYXVsdDtcclxuXHRcdHB1YmxpYyBhZGRpdGlvbmFsRGF0YVJlcXVlc3RlZDogSVN1cnZleUluZm8uQWRkaXRpb25hbERhdGFUeXBlW107XHJcblx0XHRwdWJsaWMgbGF1bmNoZXJUeXBlOiBzdHJpbmc7XHJcblx0XHRwdWJsaWMgbWV0YWRhdGE6IElTdXJ2ZXlNZXRhZGF0YTtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCA9IFN1cnZleURhdGFTb3VyY2U7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Surveys/SurveyDataSource.js\n')},"../FloodgateCore/dist/src/UserFact/UserFact.js":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.UserFact = void 0;\nvar Constants_1 = __webpack_require__(/*! ../Constants */ "../FloodgateCore/dist/src/Constants.js");\nvar FloodgateEngine_1 = __webpack_require__(/*! ../FloodgateEngine */ "../FloodgateCore/dist/src/FloodgateEngine.js");\nvar Utils = __webpack_require__(/*! ../Utils */ "../FloodgateCore/dist/src/Utils.js");\nvar isNOU = Utils.isNOU, isNumber = Utils.isNumber, isArray = Utils.isArray;\nvar commonComparatorTypes = [\n    0 /* Equal */,\n    1 /* NotEqual */,\n    2 /* GreaterThan */,\n    3 /* GreaterThanOrEqual */,\n    4 /* LessThan */,\n    5 /* LessThanOrEqual */,\n];\nvar UserFact = /** @class */ (function () {\n    function UserFact(input) {\n        this.input = input;\n    }\n    UserFact.deserialize = function (rawUserFactSpec) {\n        return this.validate(rawUserFactSpec) ? new UserFact(rawUserFactSpec) : null;\n    };\n    UserFact.validate = function (input) {\n        if (!input) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed, "Input is null or undefined for user fact");\n            return false;\n        }\n        if (input &&\n            (isNOU(input.Name) || isNOU(input.Type) || isNOU(input.Value))) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed, "Either of the required parameters Name: " + input.Name + ", Type: " + input.Type + " or Value: " + input.Value + " are not provided for the user fact");\n            return false;\n        }\n        if (!this.validateUserFactType(input.Type)) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed, "Invalid UserFactType value " + input.Type + " is provided for user fact");\n            return false;\n        }\n        if (input.Type === 6 /* ListFile */) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed, "Unsupported UserFactType value " + input.Type + " is provided for user fact");\n            return false;\n        }\n        if (input.LatencyType && !this.validateLatencyType(input.LatencyType)) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed, "Invalid LatencyType value " + input.LatencyType + " is provided for user fact of type " + input.Type);\n            return false;\n        }\n        if (input.LatencyType && input.LatencyType !== 0 /* None */ && isNOU(input.LatencyDurationInSeconds)) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed, "LatencyDurationInSeconds value " + input.LatencyDurationInSeconds + " is not provided for user fact of type " + input.Type);\n            return false;\n        }\n        if (input.LatencyDurationInSeconds && !isNumber(input.LatencyDurationInSeconds)) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed, "Invalid LatencyDurationInSeconds value " + input.LatencyDurationInSeconds + " is provided for user fact of type " + input.Type);\n            return false;\n        }\n        if (input.Type === 1 /* TimeIntervalInSeconds */ && isNOU(input.IntervalType)) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed, "Required parameter intervalType is not provided for user fact of type " + input.Type);\n            return false;\n        }\n        var supportedComparatorTypes = this.getComparatorTypes(input.Type);\n        if (input.Comparator && !isComparatorTypeSupported(input.Comparator, supportedComparatorTypes)) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Failed, "Unsupported comparator type for user fact of type " + input.Type);\n            return false;\n        }\n        return true;\n    };\n    UserFact.getComparatorTypes = function (userFactType) {\n        switch (userFactType) {\n            case 0 /* Boolean */:\n                return [0 /* Equal */, 1 /* NotEqual */];\n            case 4 /* String */:\n                return [0 /* Equal */, 1 /* NotEqual */, 6 /* In */, 7 /* NotIn */];\n            case 5 /* ListOfStrings */:\n                return [6 /* In */, 7 /* NotIn */];\n            case 1 /* TimeIntervalInSeconds */:\n            case 2 /* DateTimeUTC */:\n            case 3 /* Number */:\n            default:\n                return commonComparatorTypes;\n        }\n        return commonComparatorTypes;\n    };\n    UserFact.assertNever = function (_) {\n        return false;\n    };\n    UserFact.validateLatencyType = function (latency) {\n        return (latency === 0 /* None */ ||\n            latency === 3 /* ClientIngestionDateTime */ ||\n            latency === 1 /* SourceDateTime */ ||\n            latency === 2 /* StorageDateTime */) ? true : this.assertNever(latency);\n    };\n    UserFact.validateUserFactType = function (factType) {\n        return (factType === 0 /* Boolean */ ||\n            factType === 2 /* DateTimeUTC */ ||\n            factType === 3 /* Number */ ||\n            factType === 4 /* String */ ||\n            factType === 1 /* TimeIntervalInSeconds */ ||\n            factType === 5 /* ListOfStrings */ ||\n            factType === 6 /* ListFile */) ? true : this.assertNever(factType);\n    };\n    UserFact.prototype.isAMatch = function (rawUserFact) {\n        if (!rawUserFact || !rawUserFact.userFactValue) {\n            return false;\n        }\n        if (!this.isLatencyAcceptable(rawUserFact)) {\n            return false;\n        }\n        try {\n            var factType = this.getType();\n            if (factType === 0 /* Boolean */) {\n                return compareBooleanValues(this.getValue(), rawUserFact, this.getComparator());\n            }\n            else if (factType === 2 /* DateTimeUTC */) {\n                return compareDateTimeUTCValues(this.getValue(), rawUserFact, this.getComparator());\n            }\n            else if (factType === 3 /* Number */) {\n                return compareNumberValues(this.getValue(), rawUserFact, this.getComparator());\n            }\n            else if (factType === 4 /* String */) {\n                return compareStringValues(this.getValue(), rawUserFact, this.getComparator());\n            }\n            else if (factType === 1 /* TimeIntervalInSeconds */) {\n                return compareTimeIntervalValues(this.getValue(), rawUserFact, this.getComparator(), this.getIntervalType());\n            }\n            else if (factType === 5 /* ListOfStrings */) {\n                return compareListValues(this.getValue(), rawUserFact, this.getComparator());\n            }\n            else {\n                FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Failed, "Unsupported type of user fact was provided " + factType);\n                return false;\n            }\n        }\n        catch (error) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Failed, error);\n            return false;\n        }\n    };\n    UserFact.prototype.getType = function () {\n        return this.input.Type;\n    };\n    UserFact.prototype.getName = function () {\n        return this.input.Name;\n    };\n    UserFact.prototype.getValue = function () {\n        return this.input.Value;\n    };\n    UserFact.prototype.getComparator = function () {\n        return this.input.Comparator || 0 /* Equal */;\n    };\n    UserFact.prototype.getLatencyType = function () {\n        return this.input.LatencyType || 0 /* None */;\n    };\n    UserFact.prototype.getLatencyDurationInSeconds = function () {\n        return this.input.LatencyDurationInSeconds;\n    };\n    UserFact.prototype.getIntervalType = function () {\n        return this.input.IntervalType;\n    };\n    UserFact.prototype.isLatencyAcceptable = function (rawUserFact) {\n        var factType = this.getType();\n        if (!isNOU(this.getLatencyDurationInSeconds()) &&\n            !evaluateFactCandidacy(this.getLatencyType(), this.getLatencyDurationInSeconds(), rawUserFact)) {\n            FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Failed, "Latency duration not acceptable for user fact of type " + factType);\n            return false;\n        }\n        return true;\n    };\n    return UserFact;\n}());\nexports.UserFact = UserFact;\nfunction evaluateFactCandidacy(latencyType, latencyDurationInSeconds, userFact) {\n    var userFactTime;\n    switch (latencyType) {\n        case 0 /* None */:\n            break;\n        case 1 /* SourceDateTime */:\n            userFactTime = userFact.sourceDateTime;\n            break;\n        case 2 /* StorageDateTime */:\n            userFactTime = userFact.storageDateTime;\n            break;\n        case 3 /* ClientIngestionDateTime */:\n            userFactTime = userFact.clientIngestionDateTime;\n            break;\n    }\n    if (!isNOU(userFactTime)) {\n        var userFactTimeInMilliseconds = Date.parse(userFactTime);\n        var currentTimeInMilliseconds = Date.now();\n        return currentTimeInMilliseconds - userFactTimeInMilliseconds <= (latencyDurationInSeconds * 1000);\n    }\n    return true;\n}\nfunction compareBooleanValues(userFactSpecValue, rawUserFact, comparator) {\n    var rawUserFactValueInBoolean = JSON.parse(rawUserFact.userFactValue.toLowerCase());\n    return compareValues(!!userFactSpecValue, !!rawUserFactValueInBoolean, comparator);\n}\nfunction compareDateTimeUTCValues(userFactSpecValue, rawUserFact, comparator) {\n    var rawUserFactValueInMilliseconds = Date.parse(rawUserFact.userFactValue);\n    if (!isAValidNumber(rawUserFactValueInMilliseconds, rawUserFact.userFactValue, rawUserFact.userFactName)) {\n        return false;\n    }\n    var userFactSpecValueInMilliseconds = Date.parse(userFactSpecValue);\n    if (!isAValidNumber(userFactSpecValueInMilliseconds, userFactSpecValue, null, 2 /* DateTimeUTC */)) {\n        return false;\n    }\n    return compareValues(userFactSpecValueInMilliseconds, rawUserFactValueInMilliseconds, comparator);\n}\nfunction compareNumberValues(userFactSpecValue, rawUserFact, comparator) {\n    var rawUserFactValueInNumber = parseInt(rawUserFact.userFactValue, 10);\n    if (!isAValidNumber(rawUserFactValueInNumber, rawUserFact.userFactValue, rawUserFact.userFactName)) {\n        return false;\n    }\n    return compareValues(userFactSpecValue, rawUserFactValueInNumber, comparator);\n}\nfunction compareStringValues(userFactSpecValue, rawUserFact, comparator) {\n    return compareValues(userFactSpecValue.toLowerCase(), rawUserFact.userFactValue.toLowerCase(), comparator);\n}\nfunction compareTimeIntervalValues(userFactSpecValue, rawUserFact, comparator, intervalType) {\n    var rawUserFactValueInMilliseconds = Date.parse(rawUserFact.userFactValue);\n    if (!isAValidNumber(rawUserFactValueInMilliseconds, rawUserFact.userFactValue, rawUserFact.userFactName)) {\n        return false;\n    }\n    var currentTimeInMilliseconds = Date.now();\n    var diff = intervalType === 0 /* IntervalTo */ ?\n        (currentTimeInMilliseconds - rawUserFactValueInMilliseconds) : (rawUserFactValueInMilliseconds - currentTimeInMilliseconds);\n    if (diff < 0) {\n        FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Failed, "Incorrect current time interval type was provided for user fact of type " + 1 /* TimeIntervalInSeconds */);\n        return false;\n    }\n    var dayInMilliseconds = 86400000;\n    var userFactSpecValueInMilliseconds = userFactSpecValue * dayInMilliseconds;\n    return compareValues(userFactSpecValueInMilliseconds, diff, comparator);\n}\nfunction compareListValues(userFactSpecValue, rawUserFact, comparator) {\n    return compareValues(userFactSpecValue, rawUserFact.userFactValue, comparator);\n}\nfunction isComparatorTypeSupported(comparator, supportedComparatorTypes) {\n    return supportedComparatorTypes.indexOf(comparator) !== -1;\n}\nfunction compareValues(userFactSpecValue, userFactRawValue, comparator) {\n    switch (comparator) {\n        case 0 /* Equal */:\n            return userFactRawValue === userFactSpecValue;\n        case 1 /* NotEqual */:\n            return userFactRawValue !== userFactSpecValue;\n        case 2 /* GreaterThan */:\n            return userFactRawValue > userFactSpecValue;\n        case 3 /* GreaterThanOrEqual */:\n            return userFactRawValue >= userFactSpecValue;\n        case 4 /* LessThan */:\n            return userFactRawValue < userFactSpecValue;\n        case 5 /* LessThanOrEqual */:\n            return userFactRawValue <= userFactSpecValue;\n        case 6 /* In */:\n            return isFactInSpecItem(userFactSpecValue, userFactRawValue);\n        case 7 /* NotIn */:\n            return !isFactInSpecItem(userFactSpecValue, userFactRawValue);\n    }\n}\nfunction isFactInSpecItem(userFactSpecValues, userFactRawValue) {\n    if (typeof userFactRawValue === "string") {\n        var factValue_1 = userFactRawValue.toLowerCase();\n        if (typeof userFactSpecValues === "string") {\n            // both the inputs are strings do a plain indexOf\n            return userFactSpecValues.toLowerCase().indexOf(factValue_1) !== -1;\n        }\n        if (isArray(userFactSpecValues)) {\n            var specValues = userFactSpecValues;\n            return specValues.some(function (specValue) { return specValue && specValue.toString().toLowerCase() === factValue_1; });\n        }\n    }\n    if (isArray(userFactSpecValues)) {\n        return userFactSpecValues.indexOf(userFactRawValue) !== -1;\n    }\n    return false;\n}\nfunction isAValidNumber(numberValue, value, rawUserFactName, factType) {\n    if (!isNumber(numberValue)) {\n        var errorMessage = "User fact " + rawUserFactName + " has invalid value " + value;\n        if (factType) {\n            errorMessage = "Invalid date time value " + value + " was provided for user fact of type " + factType;\n        }\n        FloodgateEngine_1.FloodgateEngine.getTelemetryLogger().log_Error(Constants_1.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Failed, errorMessage);\n        return false;\n    }\n    return true;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1VzZXJGYWN0L1VzZXJGYWN0LnRzP2E4NWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsb0dBQThDO0FBQzlDLHNIQUFxRDtBQUNyRCxzRkFBa0M7QUFJMUIsU0FBSyxHQUF3QixLQUFLLE1BQTdCLEVBQUUsUUFBUSxHQUFjLEtBQUssU0FBbkIsRUFBRSxPQUFPLEdBQUssS0FBSyxRQUFWLENBQVc7QUFDM0MsSUFBTSxxQkFBcUIsR0FBcUI7Ozs7Ozs7Q0FPL0MsQ0FBQztBQUVGO0lBdUhDLGtCQUFZLEtBQXFCO1FBQ2hDLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ3BCLENBQUM7SUF4SGEsb0JBQVcsR0FBekIsVUFBMEIsZUFBb0I7UUFDN0MsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0lBQzlFLENBQUM7SUFFYyxpQkFBUSxHQUF2QixVQUF3QixLQUFVO1FBQ2pDLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDWCxpQ0FBZSxDQUFDLGtCQUFrQixFQUFFLENBQUMsU0FBUyxDQUM3QywwQkFBYyxDQUFDLFNBQVMsQ0FBQyw0QkFBNEIsQ0FBQyxNQUFNLEVBQzVELDBDQUEwQyxDQUFDLENBQUM7WUFDN0MsT0FBTyxLQUFLLENBQUM7U0FDYjtRQUVELElBQUksS0FBSztZQUNSLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRTtZQUNoRSxpQ0FBZSxDQUFDLGtCQUFrQixFQUFFLENBQUMsU0FBUyxDQUM3QywwQkFBYyxDQUFDLFNBQVMsQ0FBQyw0QkFBNEIsQ0FBQyxNQUFNLEVBQzVELDZDQUEyQyxLQUFLLENBQUMs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Q0FBQztTQUM5RTtRQUVELElBQUksT0FBTyxDQUFDLGtCQUFrQixDQUFDLEVBQUU7WUFDaEMsSUFBTSxVQUFVLEdBQUcsa0JBQXlDLENBQUM7WUFDN0QsT0FBTyxVQUFVLENBQUMsSUFBSSxDQUFDLFVBQUMsU0FBUyxJQUFLLGdCQUFTLElBQUksU0FBUyxDQUFDLFFBQVEsRUFBRSxDQUFDLFdBQVcsRUFBRSxLQUFLLFdBQVMsRUFBN0QsQ0FBNkQsQ0FBQyxDQUFDO1NBQ3JHO0tBQ0Q7SUFFRCxJQUFJLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFO1FBQ2hDLE9BQVEsa0JBQTBCLENBQUMsT0FBTyxDQUFDLGdCQUFxQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7S0FDekU7SUFFRCxPQUFPLEtBQUssQ0FBQztBQUNkLENBQUM7QUFFRCxTQUFTLGNBQWMsQ0FBQyxXQUFtQixFQUFFLEtBQWEsRUFBRSxlQUF1QixFQUFFLFFBQXVCO0lBQzNHLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLEVBQUU7UUFDM0IsSUFBSSxZQUFZLEdBQUcsZUFBYSxlQUFlLDJCQUFzQixLQUFPLENBQUM7UUFDN0UsSUFBSSxRQUFRLEVBQUU7WUFDYixZQUFZLEdBQUcsNkJBQTJCLEtBQUssNENBQXVDLFFBQVUsQ0FBQztTQUNqRztRQUNELGlDQUFlLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxTQUFTLENBQzdDLDBCQUFjLENBQUMsU0FBUyxDQUFDLHFCQUFxQixDQUFDLE1BQU0sRUFDckQsWUFBWSxDQUFDLENBQUM7UUFFZixPQUFPLEtBQUssQ0FBQztLQUNiO0lBRUQsT0FBTyxJQUFJLENBQUM7QUFDYixDQUFDIiwiZmlsZSI6Ii4uL0Zsb29kZ2F0ZUNvcmUvZGlzdC9zcmMvVXNlckZhY3QvVXNlckZhY3QuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUZWxlbWV0cnlFdmVudCB9IGZyb20gXCIuLi9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgRmxvb2RnYXRlRW5naW5lIH0gZnJvbSBcIi4uL0Zsb29kZ2F0ZUVuZ2luZVwiO1xyXG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tIFwiLi4vVXRpbHNcIjtcclxuaW1wb3J0IHsgSVVzZXJGYWN0IH0gZnJvbSBcIi4vSVVzZXJGYWN0XCI7XHJcbmltcG9ydCB7IENvbXBhcmF0b3JUeXBlLCBDdXJyZW50VGltZUludGVydmFsVHlwZSwgSVVzZXJGYWN0SW5wdXQsIFVzZXJGYWN0TGF0ZW5jeVR5cGUsIFVzZXJGYWN0VHlwZSB9IGZyb20gXCIuL1VzZXJGYWN0TW9kZWxcIjtcclxuXHJcbmNvbnN0IHsgaXNOT1UsIGlzTnVtYmVyLCBpc0FycmF5IH0gPSBVdGlscztcclxuY29uc3QgY29tbW9uQ29tcGFyYXRvclR5cGVzOiBDb21wYXJhdG9yVHlwZVtdID0gW1xyXG5cdENvbXBhcmF0b3JUeXBlLkVxdWFsLFxyXG5cdENvbXBhcmF0b3JUeXBlLk5vdEVxdWFsLFxyXG5cdENvbXBhcmF0b3JUeXBlLkdyZWF0ZXJUaGFuLFxyXG5cdENvbXBhcmF0b3JUeXBlLkdyZWF0ZXJUaGFuT3JFcXVhbCxcclxuXHRDb21wYXJhdG9yVHlwZS5MZXNzVGhhbixcclxuXHRDb21wYXJhdG9yVHlwZS5MZXNzVGhhbk9yRXF1YWwsXHJcbl07XHJcblxyXG5leHBvcnQgY2xhc3MgVXNlckZhY3Qge1xyXG5cdHB1YmxpYyBzdGF0aWMgZGVzZXJpYWxpemUocmF3VXNlckZhY3RTcGVjOiBhbnkpOiBVc2VyRmFjdCB7XHJcblx0XHRyZXR1cm4gdGhpcy52YWxpZGF0ZShyYXdVc2VyRmFjdFNwZWMpID8gbmV3IFVzZXJGYWN0KHJhd1VzZXJGYWN0U3BlYykgOiBudWxsO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgdmFsaWRhdGUoaW5wdXQ6IGFueSkge1xyXG5cdFx0aWYgKCFpbnB1dCkge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0Vycm9yKFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZS5Vc2VyRmFjdHNTcGVjRGVzZXJpYWxpemF0aW9uLkZhaWxlZCxcclxuXHRcdFx0XHRcIklucHV0IGlzIG51bGwgb3IgdW5kZWZpbmVkIGZvciB1c2VyIGZhY3RcIik7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5wdXQgJiZcclxuXHRcdFx0KGlzTk9VKGlucHV0Lk5hbWUpIHx8IGlzTk9VKGlucHV0LlR5cGUpIHx8IGlzTk9VKGlucHV0LlZhbHVlKSkpIHtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FcnJvcihcclxuXHRcdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGUuVXNlckZhY3RzU3BlY0Rlc2VyaWFsaXphdGlvbi5GYWlsZWQsXHJcblx0XHRcdFx0YEVpdGhlciBvZiB0aGUgcmVxdWlyZWQgcGFyYW1ldGVycyBOYW1lOiAke2lucHV0Lk5hbWV9LCBUeXBlOiAke2lucHV0LlR5cGV9IG9yIFZhbHVlOiAke2lucHV0LlZhbHVlfSBhcmUgbm90IHByb3ZpZGVkIGZvciB0aGUgdXNlciBmYWN0YCk7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXRoaXMudmFsaWRhdGVVc2VyRmFjdFR5cGUoaW5wdXQuVHlwZSkpIHtcclxuXHRcdFx0Rmxvb2RnYXRlRW5naW5lLmdldFRlbGVtZXRyeUxvZ2dlcigpLmxvZ19FcnJvcihcclxuXHRcdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGUuVXNlckZhY3RzU3BlY0Rlc2VyaWFsaXphdGlvbi5GYWlsZWQsXHJcblx0XHRcdFx0YEludmFsaWQgVXNlckZhY3RUeXBlIHZhbHVlICR7aW5wdXQuVHlwZX0gaXMgcHJvdmlkZWQgZm9yIHVzZXIgZmFjdGApO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlucHV0LlR5cGUgPT09IFVzZXJGYWN0VHlwZS5MaXN0RmlsZSkge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0Vycm9yKFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZS5Vc2VyRmFjdHNTcGVjRGVzZXJpYWxpemF0aW9uLkZhaWxlZCxcclxuXHRcdFx0XHRgVW5zdXBwb3J0ZWQgVXNlckZhY3RUeXBlIHZhbHVlICR7aW5wdXQuVHlwZX0gaXMgcHJvdmlkZWQgZm9yIHVzZXIgZmFjdGApO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlucHV0LkxhdGVuY3lUeXBlICYmICF0aGlzLnZhbGlkYXRlTGF0ZW5jeVR5cGUoaW5wdXQuTGF0ZW5jeVR5cGUpKSB7XHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXJyb3IoXHJcblx0XHRcdFx0VGVsZW1ldHJ5RXZlbnQuRmxvb2RnYXRlLlVzZXJGYWN0c1NwZWNEZXNlcmlhbGl6YXRpb24uRmFpbGVkLFxyXG5cdFx0XHRcdGBJbnZhbGlkIExhdGVuY3lUeXBlIHZhbHVlICR7aW5wdXQuTGF0ZW5jeVR5cGV9IGlzIHByb3ZpZGVkIGZvciB1c2VyIGZhY3Qgb2YgdHlwZSAke2lucHV0LlR5cGV9YCk7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5wdXQuTGF0ZW5jeVR5cGUgJiYgaW5wdXQuTGF0ZW5jeVR5cGUgIT09IFVzZXJGYWN0TGF0ZW5jeVR5cGUuTm9uZSAmJiBpc05PVShpbnB1dC5MYXRlbmN5RHVyYXRpb25JblNlY29uZHMpKSB7XHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXJyb3IoXHJcblx0XHRcdFx0VGVsZW1ldHJ5RXZlbnQuRmxvb2RnYXRlLlVzZXJGYWN0c1NwZWNEZXNlcmlhbGl6YXRpb24uRmFpbGVkLFxyXG5cdFx0XHRcdGBMYXRlbmN5RHVyYXRpb25JblNlY29uZHMgdmFsdWUgJHtpbnB1dC5MYXRlbmN5RHVyYXRpb25JblNlY29uZHN9IGlzIG5vdCBwcm92aWRlZCBmb3IgdXNlciBmYWN0IG9mIHR5cGUgJHtpbnB1dC5UeXBlfWApO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlucHV0LkxhdGVuY3lEdXJhdGlvbkluU2Vjb25kcyAmJiAhaXNOdW1iZXIoaW5wdXQuTGF0ZW5jeUR1cmF0aW9uSW5TZWNvbmRzKSkge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0Vycm9yKFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZS5Vc2VyRmFjdHNTcGVjRGVzZXJpYWxpemF0aW9uLkZhaWxlZCxcclxuXHRcdFx0XHRgSW52YWxpZCBMYXRlbmN5RHVyYXRpb25JblNlY29uZHMgdmFsdWUgJHtpbnB1dC5MYXRlbmN5RHVyYXRpb25JblNlY29uZHN9IGlzIHByb3ZpZGVkIGZvciB1c2VyIGZhY3Qgb2YgdHlwZSAke2lucHV0LlR5cGV9YCk7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5wdXQuVHlwZSA9PT0gVXNlckZhY3RUeXBlLlRpbWVJbnRlcnZhbEluU2Vjb25kcyAmJiBpc05PVShpbnB1dC5JbnRlcnZhbFR5cGUpKSB7XHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXJyb3IoXHJcblx0XHRcdFx0VGVsZW1ldHJ5RXZlbnQuRmxvb2RnYXRlLlVzZXJGYWN0c1NwZWNEZXNlcmlhbGl6YXRpb24uRmFpbGVkLFxyXG5cdFx0XHRcdGBSZXF1aXJlZCBwYXJhbWV0ZXIgaW50ZXJ2YWxUeXBlIGlzIG5vdCBwcm92aWRlZCBmb3IgdXNlciBmYWN0IG9mIHR5cGUgJHtpbnB1dC5UeXBlfWApO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgc3VwcG9ydGVkQ29tcGFyYXRvclR5cGVzID0gdGhpcy5nZXRDb21wYXJhdG9yVHlwZXMoaW5wdXQuVHlwZSk7XHJcblx0XHRpZiAoaW5wdXQuQ29tcGFyYXRvciAmJiAhaXNDb21wYXJhdG9yVHlwZVN1cHBvcnRlZChpbnB1dC5Db21wYXJhdG9yLCBzdXBwb3J0ZWRDb21wYXJhdG9yVHlwZXMpKSB7XHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKS5sb2dfRXJyb3IoXHJcblx0XHRcdFx0VGVsZW1ldHJ5RXZlbnQuRmxvb2RnYXRlLlVzZXJGYWN0c1NwZWNJc0FNYXRjaC5GYWlsZWQsXHJcblx0XHRcdFx0YFVuc3VwcG9ydGVkIGNvbXBhcmF0b3IgdHlwZSBmb3IgdXNlciBmYWN0IG9mIHR5cGUgJHtpbnB1dC5UeXBlfWApO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBnZXRDb21wYXJhdG9yVHlwZXModXNlckZhY3RUeXBlOiBVc2VyRmFjdFR5cGUpOiBDb21wYXJhdG9yVHlwZVtdICB7XHJcblx0XHRzd2l0Y2ggKHVzZXJGYWN0VHlwZSkge1xyXG5cdFx0XHRjYXNlIFVzZXJGYWN0VHlwZS5Cb29sZWFuOlxyXG5cdFx0XHRcdHJldHVybiBbQ29tcGFyYXRvclR5cGUuRXF1YWwsIENvbXBhcmF0b3JUeXBlLk5vdEVxdWFsXTtcclxuXHRcdFx0Y2FzZSBVc2VyRmFjdFR5cGUuU3RyaW5nOlxyXG5cdFx0XHRcdHJldHVybiBbQ29tcGFyYXRvclR5cGUuRXF1YWwsIENvbXBhcmF0b3JUeXBlLk5vdEVxdWFsLCBDb21wYXJhdG9yVHlwZS5JbiwgQ29tcGFyYXRvclR5cGUuTm90SW5dO1xyXG5cdFx0XHRjYXNlIFVzZXJGYWN0VHlwZS5MaXN0T2ZTdHJpbmdzOlxyXG5cdFx0XHRcdHJldHVybiBbQ29tcGFyYXRvclR5cGUuSW4sIENvbXBhcmF0b3JUeXBlLk5vdEluXTtcclxuXHRcdFx0Y2FzZSBVc2VyRmFjdFR5cGUuVGltZUludGVydmFsSW5TZWNvbmRzOlxyXG5cdFx0XHRjYXNlIFVzZXJGYWN0VHlwZS5EYXRlVGltZVVUQzpcclxuXHRcdFx0Y2FzZSBVc2VyRmFjdFR5cGUuTnVtYmVyOlxyXG5cdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdHJldHVybiBjb21tb25Db21wYXJhdG9yVHlwZXM7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGNvbW1vbkNvbXBhcmF0b3JUeXBlcztcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIGFzc2VydE5ldmVyKF86IG5ldmVyKSB7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyB2YWxpZGF0ZUxhdGVuY3lUeXBlKGxhdGVuY3k6IFVzZXJGYWN0TGF0ZW5jeVR5cGUpIHtcclxuXHRcdHJldHVybiAoXHJcblx0XHRcdGxhdGVuY3kgPT09IFVzZXJGYWN0TGF0ZW5jeVR5cGUuTm9uZSB8fFxyXG5cdFx0XHRsYXRlbmN5ID09PSBVc2VyRmFjdExhdGVuY3lUeXBlLkNsaWVudEluZ2VzdGlvbkRhdGVUaW1lIHx8XHJcblx0XHRcdGxhdGVuY3kgPT09IFVzZXJGYWN0TGF0ZW5jeVR5cGUuU291cmNlRGF0ZVRpbWUgfHxcclxuXHRcdFx0bGF0ZW5jeSA9PT0gVXNlckZhY3RMYXRlbmN5VHlwZS5TdG9yYWdlRGF0ZVRpbWVcclxuXHRcdCkgPyB0cnVlIDogdGhpcy5hc3NlcnROZXZlcihsYXRlbmN5KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIHZhbGlkYXRlVXNlckZhY3RUeXBlKGZhY3RUeXBlOiBVc2VyRmFjdFR5cGUpIHtcclxuXHRcdHJldHVybiAoXHJcblx0XHRcdGZhY3RUeXBlID09PSBVc2VyRmFjdFR5cGUuQm9vbGVhbiB8fFxyXG5cdFx0XHRmYWN0VHlwZSA9PT0gVXNlckZhY3RUeXBlLkRhdGVUaW1lVVRDIHx8XHJcblx0XHRcdGZhY3RUeXBlID09PSBVc2VyRmFjdFR5cGUuTnVtYmVyIHx8XHJcblx0XHRcdGZhY3RUeXBlID09PSBVc2VyRmFjdFR5cGUuU3RyaW5nIHx8XHJcblx0XHRcdGZhY3RUeXBlID09PSBVc2VyRmFjdFR5cGUuVGltZUludGVydmFsSW5TZWNvbmRzIHx8XHJcblx0XHRcdGZhY3RUeXBlID09PSBVc2VyRmFjdFR5cGUuTGlzdE9mU3RyaW5ncyB8fFxyXG5cdFx0XHRmYWN0VHlwZSA9PT0gVXNlckZhY3RUeXBlLkxpc3RGaWxlXHJcblx0XHQpID8gdHJ1ZSA6IHRoaXMuYXNzZXJ0TmV2ZXIoZmFjdFR5cGUpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBpbnB1dDogSVVzZXJGYWN0SW5wdXQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGlucHV0OiBJVXNlckZhY3RJbnB1dCkge1xyXG5cdFx0dGhpcy5pbnB1dCA9IGlucHV0O1xyXG5cdH1cclxuXHJcblx0cHVibGljIGlzQU1hdGNoKHJhd1VzZXJGYWN0OiBJVXNlckZhY3QpOiBib29sZWFuIHtcclxuXHRcdGlmICghcmF3VXNlckZhY3QgfHwgIXJhd1VzZXJGYWN0LnVzZXJGYWN0VmFsdWUpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghdGhpcy5pc0xhdGVuY3lBY2NlcHRhYmxlKHJhd1VzZXJGYWN0KSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgZmFjdFR5cGUgPSB0aGlzLmdldFR5cGUoKTtcclxuXHRcdFx0aWYgKGZhY3RUeXBlID09PSBVc2VyRmFjdFR5cGUuQm9vbGVhbikge1xyXG5cdFx0XHRcdHJldHVybiBjb21wYXJlQm9vbGVhblZhbHVlcyh0aGlzLmdldFZhbHVlKCksIHJhd1VzZXJGYWN0LCB0aGlzLmdldENvbXBhcmF0b3IoKSk7XHJcblx0XHRcdH0gZWxzZSBpZiAoZmFjdFR5cGUgPT09IFVzZXJGYWN0VHlwZS5EYXRlVGltZVVUQykge1xyXG5cdFx0XHRcdHJldHVybiBjb21wYXJlRGF0ZVRpbWVVVENWYWx1ZXModGhpcy5nZXRWYWx1ZSgpIGFzIHN0cmluZywgcmF3VXNlckZhY3QsIHRoaXMuZ2V0Q29tcGFyYXRvcigpKTtcclxuXHRcdFx0fSBlbHNlIGlmIChmYWN0VHlwZSA9PT0gVXNlckZhY3RUeXBlLk51bWJlcikge1xyXG5cdFx0XHRcdHJldHVybiBjb21wYXJlTnVtYmVyVmFsdWVzKHRoaXMuZ2V0VmFsdWUoKSBhcyBzdHJpbmcsIHJhd1VzZXJGYWN0LCB0aGlzLmdldENvbXBhcmF0b3IoKSk7XHJcblx0XHRcdH0gZWxzZSBpZiAoZmFjdFR5cGUgPT09IFVzZXJGYWN0VHlwZS5TdHJpbmcpIHtcclxuXHRcdFx0XHRyZXR1cm4gY29tcGFyZVN0cmluZ1ZhbHVlcyh0aGlzLmdldFZhbHVlKCkgYXMgc3RyaW5nLCByYXdVc2VyRmFjdCwgdGhpcy5nZXRDb21wYXJhdG9yKCkpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGZhY3RUeXBlID09PSBVc2VyRmFjdFR5cGUuVGltZUludGVydmFsSW5TZWNvbmRzKSB7XHJcblx0XHRcdFx0cmV0dXJuIGNvbXBhcmVUaW1lSW50ZXJ2YWxWYWx1ZXModGhpcy5nZXRWYWx1ZSgpIGFzIG51bWJlciwgcmF3VXNlckZhY3QsIHRoaXMuZ2V0Q29tcGFyYXRvcigpLCB0aGlzLmdldEludGVydmFsVHlwZSgpKTtcclxuXHRcdFx0fSBlbHNlIGlmIChmYWN0VHlwZSA9PT0gVXNlckZhY3RUeXBlLkxpc3RPZlN0cmluZ3MpIHtcclxuXHRcdFx0XHRyZXR1cm4gY29tcGFyZUxpc3RWYWx1ZXModGhpcy5nZXRWYWx1ZSgpIGFzIHN0cmluZywgcmF3VXNlckZhY3QsIHRoaXMuZ2V0Q29tcGFyYXRvcigpKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0Vycm9yKFxyXG5cdFx0XHRcdFx0VGVsZW1ldHJ5RXZlbnQuRmxvb2RnYXRlLlVzZXJGYWN0c1NwZWNJc0FNYXRjaC5GYWlsZWQsXHJcblx0XHRcdFx0XHRgVW5zdXBwb3J0ZWQgdHlwZSBvZiB1c2VyIGZhY3Qgd2FzIHByb3ZpZGVkICR7ZmFjdFR5cGV9YCk7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0Vycm9yKFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZS5Vc2VyRmFjdHNTcGVjSXNBTWF0Y2guRmFpbGVkLFxyXG5cdFx0XHRcdGVycm9yKTtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFR5cGUoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbnB1dC5UeXBlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldE5hbWUoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbnB1dC5OYW1lO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFZhbHVlKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5wdXQuVmFsdWU7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0Q29tcGFyYXRvcigpIHtcclxuXHRcdHJldHVybiB0aGlzLmlucHV0LkNvbXBhcmF0b3IgfHwgQ29tcGFyYXRvclR5cGUuRXF1YWw7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0TGF0ZW5jeVR5cGUoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pbnB1dC5MYXRlbmN5VHlwZSB8fCBVc2VyRmFjdExhdGVuY3lUeXBlLk5vbmU7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0TGF0ZW5jeUR1cmF0aW9uSW5TZWNvbmRzKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5wdXQuTGF0ZW5jeUR1cmF0aW9uSW5TZWNvbmRzO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldEludGVydmFsVHlwZSgpIHtcclxuXHRcdHJldHVybiB0aGlzLmlucHV0LkludGVydmFsVHlwZTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgaXNMYXRlbmN5QWNjZXB0YWJsZShyYXdVc2VyRmFjdDogSVVzZXJGYWN0KSB7XHJcblx0XHRjb25zdCBmYWN0VHlwZSA9IHRoaXMuZ2V0VHlwZSgpO1xyXG5cclxuXHRcdGlmICghaXNOT1UodGhpcy5nZXRMYXRlbmN5RHVyYXRpb25JblNlY29uZHMoKSkgJiZcclxuXHRcdFx0IWV2YWx1YXRlRmFjdENhbmRpZGFjeSh0aGlzLmdldExhdGVuY3lUeXBlKCksIHRoaXMuZ2V0TGF0ZW5jeUR1cmF0aW9uSW5TZWNvbmRzKCksIHJhd1VzZXJGYWN0KSkge1xyXG5cdFx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0Vycm9yKFxyXG5cdFx0XHRcdFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZS5Vc2VyRmFjdHNTcGVjSXNBTWF0Y2guRmFpbGVkLFxyXG5cdFx0XHRcdGBMYXRlbmN5IGR1cmF0aW9uIG5vdCBhY2NlcHRhYmxlIGZvciB1c2VyIGZhY3Qgb2YgdHlwZSAke2ZhY3RUeXBlfWApO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBldmFsdWF0ZUZhY3RDYW5kaWRhY3kobGF0ZW5jeVR5cGU6IFVzZXJGYWN0TGF0ZW5jeVR5cGUsIGxhdGVuY3lEdXJhdGlvbkluU2Vjb25kczogbnVtYmVyLCB1c2VyRmFjdDogSVVzZXJGYWN0KSB7XHJcblx0bGV0IHVzZXJGYWN0VGltZTogc3RyaW5nO1xyXG5cdHN3aXRjaCAobGF0ZW5jeVR5cGUpIHtcclxuXHRcdGNhc2UgVXNlckZhY3RMYXRlbmN5VHlwZS5Ob25lOlxyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgVXNlckZhY3RMYXRlbmN5VHlwZS5Tb3VyY2VEYXRlVGltZTpcclxuXHRcdFx0dXNlckZhY3RUaW1lID0gdXNlckZhY3Quc291cmNlRGF0ZVRpbWU7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSBVc2VyRmFjdExhdGVuY3lUeXBlLlN0b3JhZ2VEYXRlVGltZTpcclxuXHRcdFx0dXNlckZhY3RUaW1lID0gdXNlckZhY3Quc3RvcmFnZURhdGVUaW1lO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgVXNlckZhY3RMYXRlbmN5VHlwZS5DbGllbnRJbmdlc3Rpb25EYXRlVGltZTpcclxuXHRcdFx0dXNlckZhY3RUaW1lID0gdXNlckZhY3QuY2xpZW50SW5nZXN0aW9uRGF0ZVRpbWU7XHJcblx0XHRcdGJyZWFrO1xyXG5cdH1cclxuXHJcblx0aWYgKCFpc05PVSh1c2VyRmFjdFRpbWUpKSB7XHJcblx0XHRjb25zdCB1c2VyRmFjdFRpbWVJbk1pbGxpc2Vjb25kcyA9IERhdGUucGFyc2UodXNlckZhY3RUaW1lKTtcclxuXHRcdGNvbnN0IGN1cnJlbnRUaW1lSW5NaWxsaXNlY29uZHMgPSBEYXRlLm5vdygpO1xyXG5cclxuXHRcdHJldHVybiBjdXJyZW50VGltZUluTWlsbGlzZWNvbmRzIC0gdXNlckZhY3RUaW1lSW5NaWxsaXNlY29uZHMgPD0gKGxhdGVuY3lEdXJhdGlvbkluU2Vjb25kcyAqIDEwMDApO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbXBhcmVCb29sZWFuVmFsdWVzKHVzZXJGYWN0U3BlY1ZhbHVlOiBhbnksIHJhd1VzZXJGYWN0OiBJVXNlckZhY3QsIGNvbXBhcmF0b3I6IENvbXBhcmF0b3JUeXBlKSB7XHJcblx0Y29uc3QgcmF3VXNlckZhY3RWYWx1ZUluQm9vbGVhbiA9IEpTT04ucGFyc2UocmF3VXNlckZhY3QudXNlckZhY3RWYWx1ZS50b0xvd2VyQ2FzZSgpKTtcclxuXHRyZXR1cm4gY29tcGFyZVZhbHVlcyghIXVzZXJGYWN0U3BlY1ZhbHVlLCAhIXJhd1VzZXJGYWN0VmFsdWVJbkJvb2xlYW4sIGNvbXBhcmF0b3IpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb21wYXJlRGF0ZVRpbWVVVENWYWx1ZXModXNlckZhY3RTcGVjVmFsdWU6IHN0cmluZywgcmF3VXNlckZhY3Q6IElVc2VyRmFjdCwgY29tcGFyYXRvcjogQ29tcGFyYXRvclR5cGUpIHtcclxuXHRjb25zdCByYXdVc2VyRmFjdFZhbHVlSW5NaWxsaXNlY29uZHMgPSBEYXRlLnBhcnNlKHJhd1VzZXJGYWN0LnVzZXJGYWN0VmFsdWUpO1xyXG5cdGlmICghaXNBVmFsaWROdW1iZXIocmF3VXNlckZhY3RWYWx1ZUluTWlsbGlzZWNvbmRzLCByYXdVc2VyRmFjdC51c2VyRmFjdFZhbHVlLCByYXdVc2VyRmFjdC51c2VyRmFjdE5hbWUpKSB7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cdGNvbnN0IHVzZXJGYWN0U3BlY1ZhbHVlSW5NaWxsaXNlY29uZHMgPSBEYXRlLnBhcnNlKHVzZXJGYWN0U3BlY1ZhbHVlKTtcclxuXHRpZiAoIWlzQVZhbGlkTnVtYmVyKHVzZXJGYWN0U3BlY1ZhbHVlSW5NaWxsaXNlY29uZHMsIHVzZXJGYWN0U3BlY1ZhbHVlLCBudWxsLCBVc2VyRmFjdFR5cGUuRGF0ZVRpbWVVVEMpKSB7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gY29tcGFyZVZhbHVlcyh1c2VyRmFjdFNwZWNWYWx1ZUluTWlsbGlzZWNvbmRzLCByYXdVc2VyRmFjdFZhbHVlSW5NaWxsaXNlY29uZHMsIGNvbXBhcmF0b3IpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb21wYXJlTnVtYmVyVmFsdWVzKHVzZXJGYWN0U3BlY1ZhbHVlOiBzdHJpbmcsIHJhd1VzZXJGYWN0OiBJVXNlckZhY3QsIGNvbXBhcmF0b3I6IENvbXBhcmF0b3JUeXBlKSB7XHJcblx0Y29uc3QgcmF3VXNlckZhY3RWYWx1ZUluTnVtYmVyID0gcGFyc2VJbnQocmF3VXNlckZhY3QudXNlckZhY3RWYWx1ZSwgMTApO1xyXG5cdGlmICghaXNBVmFsaWROdW1iZXIocmF3VXNlckZhY3RWYWx1ZUluTnVtYmVyLCByYXdVc2VyRmFjdC51c2VyRmFjdFZhbHVlLCByYXdVc2VyRmFjdC51c2VyRmFjdE5hbWUpKSB7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gY29tcGFyZVZhbHVlcyh1c2VyRmFjdFNwZWNWYWx1ZSwgcmF3VXNlckZhY3RWYWx1ZUluTnVtYmVyLCBjb21wYXJhdG9yKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY29tcGFyZVN0cmluZ1ZhbHVlcyh1c2VyRmFjdFNwZWNWYWx1ZTogc3RyaW5nLCByYXdVc2VyRmFjdDogSVVzZXJGYWN0LCBjb21wYXJhdG9yOiBDb21wYXJhdG9yVHlwZSkge1xyXG5cdHJldHVybiBjb21wYXJlVmFsdWVzKHVzZXJGYWN0U3BlY1ZhbHVlLnRvTG93ZXJDYXNlKCksIHJhd1VzZXJGYWN0LnVzZXJGYWN0VmFsdWUudG9Mb3dlckNhc2UoKSwgY29tcGFyYXRvcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbXBhcmVUaW1lSW50ZXJ2YWxWYWx1ZXMoXHJcblx0dXNlckZhY3RTcGVjVmFsdWU6IG51bWJlciwgcmF3VXNlckZhY3Q6IElVc2VyRmFjdCwgY29tcGFyYXRvcjogQ29tcGFyYXRvclR5cGUsIGludGVydmFsVHlwZTogQ3VycmVudFRpbWVJbnRlcnZhbFR5cGUpIHtcclxuXHRjb25zdCByYXdVc2VyRmFjdFZhbHVlSW5NaWxsaXNlY29uZHMgPSBEYXRlLnBhcnNlKHJhd1VzZXJGYWN0LnVzZXJGYWN0VmFsdWUpO1xyXG5cdGlmICghaXNBVmFsaWROdW1iZXIocmF3VXNlckZhY3RWYWx1ZUluTWlsbGlzZWNvbmRzLCByYXdVc2VyRmFjdC51c2VyRmFjdFZhbHVlLCByYXdVc2VyRmFjdC51c2VyRmFjdE5hbWUpKSB7XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRjb25zdCBjdXJyZW50VGltZUluTWlsbGlzZWNvbmRzID0gRGF0ZS5ub3coKTtcclxuXHRjb25zdCBkaWZmID0gaW50ZXJ2YWxUeXBlID09PSBDdXJyZW50VGltZUludGVydmFsVHlwZS5JbnRlcnZhbFRvID9cclxuXHRcdChjdXJyZW50VGltZUluTWlsbGlzZWNvbmRzIC0gcmF3VXNlckZhY3RWYWx1ZUluTWlsbGlzZWNvbmRzKSA6IChyYXdVc2VyRmFjdFZhbHVlSW5NaWxsaXNlY29uZHMgLSBjdXJyZW50VGltZUluTWlsbGlzZWNvbmRzKTtcclxuXHRpZiAoIGRpZmYgPCAwKSB7XHJcblx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0Vycm9yKFxyXG5cdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGUuVXNlckZhY3RzU3BlY0lzQU1hdGNoLkZhaWxlZCxcclxuXHRcdFx0YEluY29ycmVjdCBjdXJyZW50IHRpbWUgaW50ZXJ2YWwgdHlwZSB3YXMgcHJvdmlkZWQgZm9yIHVzZXIgZmFjdCBvZiB0eXBlICR7VXNlckZhY3RUeXBlLlRpbWVJbnRlcnZhbEluU2Vjb25kc31gKTtcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblxyXG5cdGNvbnN0IGRheUluTWlsbGlzZWNvbmRzID0gODY0MDAwMDA7XHJcblx0Y29uc3QgdXNlckZhY3RTcGVjVmFsdWVJbk1pbGxpc2Vjb25kcyA9IHVzZXJGYWN0U3BlY1ZhbHVlICogZGF5SW5NaWxsaXNlY29uZHM7XHJcblxyXG5cdHJldHVybiBjb21wYXJlVmFsdWVzKHVzZXJGYWN0U3BlY1ZhbHVlSW5NaWxsaXNlY29uZHMsIGRpZmYsIGNvbXBhcmF0b3IpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb21wYXJlTGlzdFZhbHVlcyh1c2VyRmFjdFNwZWNWYWx1ZTogc3RyaW5nLCByYXdVc2VyRmFjdDogSVVzZXJGYWN0LCBjb21wYXJhdG9yOiBDb21wYXJhdG9yVHlwZSkge1xyXG5cdHJldHVybiBjb21wYXJlVmFsdWVzKHVzZXJGYWN0U3BlY1ZhbHVlLCByYXdVc2VyRmFjdC51c2VyRmFjdFZhbHVlLCBjb21wYXJhdG9yKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNDb21wYXJhdG9yVHlwZVN1cHBvcnRlZChjb21wYXJhdG9yOiBDb21wYXJhdG9yVHlwZSwgc3VwcG9ydGVkQ29tcGFyYXRvclR5cGVzOiBDb21wYXJhdG9yVHlwZVtdKSB7XHJcblx0cmV0dXJuIHN1cHBvcnRlZENvbXBhcmF0b3JUeXBlcy5pbmRleE9mKGNvbXBhcmF0b3IpICE9PSAtMTtcclxufVxyXG5cclxuZnVuY3Rpb24gY29tcGFyZVZhbHVlczxUIGV4dGVuZHMgc3RyaW5nIHwgYm9vbGVhbiB8IG51bWJlcj4oXHJcblx0dXNlckZhY3RTcGVjVmFsdWU6IFQgfCBUW10sIHVzZXJGYWN0UmF3VmFsdWU6IHN0cmluZyB8IGJvb2xlYW4gfCBudW1iZXIsIGNvbXBhcmF0b3I6IENvbXBhcmF0b3JUeXBlKTogYm9vbGVhbiB7XHJcblx0c3dpdGNoIChjb21wYXJhdG9yKSB7XHJcblx0XHRjYXNlIENvbXBhcmF0b3JUeXBlLkVxdWFsOlxyXG5cdFx0XHRyZXR1cm4gdXNlckZhY3RSYXdWYWx1ZSA9PT0gdXNlckZhY3RTcGVjVmFsdWU7XHJcblx0XHRjYXNlIENvbXBhcmF0b3JUeXBlLk5vdEVxdWFsOlxyXG5cdFx0XHRyZXR1cm4gdXNlckZhY3RSYXdWYWx1ZSAhPT0gdXNlckZhY3RTcGVjVmFsdWU7XHJcblx0XHRjYXNlIENvbXBhcmF0b3JUeXBlLkdyZWF0ZXJUaGFuOlxyXG5cdFx0XHRyZXR1cm4gdXNlckZhY3RSYXdWYWx1ZSA+IHVzZXJGYWN0U3BlY1ZhbHVlO1xyXG5cdFx0Y2FzZSBDb21wYXJhdG9yVHlwZS5HcmVhdGVyVGhhbk9yRXF1YWw6XHJcblx0XHRcdHJldHVybiB1c2VyRmFjdFJhd1ZhbHVlID49IHVzZXJGYWN0U3BlY1ZhbHVlO1xyXG5cdFx0Y2FzZSBDb21wYXJhdG9yVHlwZS5MZXNzVGhhbjpcclxuXHRcdFx0cmV0dXJuIHVzZXJGYWN0UmF3VmFsdWUgPCB1c2VyRmFjdFNwZWNWYWx1ZTtcclxuXHRcdGNhc2UgQ29tcGFyYXRvclR5cGUuTGVzc1RoYW5PckVxdWFsOlxyXG5cdFx0XHRyZXR1cm4gdXNlckZhY3RSYXdWYWx1ZSA8PSB1c2VyRmFjdFNwZWNWYWx1ZTtcclxuXHRcdGNhc2UgQ29tcGFyYXRvclR5cGUuSW46XHJcblx0XHRcdHJldHVybiBpc0ZhY3RJblNwZWNJdGVtKHVzZXJGYWN0U3BlY1ZhbHVlIGFzIFRbXSwgdXNlckZhY3RSYXdWYWx1ZSk7XHJcblx0XHRjYXNlIENvbXBhcmF0b3JUeXBlLk5vdEluOlxyXG5cdFx0XHRyZXR1cm4gIWlzRmFjdEluU3BlY0l0ZW0odXNlckZhY3RTcGVjVmFsdWUgYXMgVFtdLCB1c2VyRmFjdFJhd1ZhbHVlKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzRmFjdEluU3BlY0l0ZW08VD4odXNlckZhY3RTcGVjVmFsdWVzOiBUIHwgVFtdLCB1c2VyRmFjdFJhd1ZhbHVlOiBUKTogYm9vbGVhbiB7XHJcblx0aWYgKHR5cGVvZiB1c2VyRmFjdFJhd1ZhbHVlID09PSBcInN0cmluZ1wiKSB7XHJcblx0XHRjb25zdCBmYWN0VmFsdWUgPSB1c2VyRmFjdFJhd1ZhbHVlLnRvTG93ZXJDYXNlKCk7XHJcblx0XHRpZiAodHlwZW9mIHVzZXJGYWN0U3BlY1ZhbHVlcyA9PT0gXCJzdHJpbmdcIikge1xyXG5cdFx0XHQvLyBib3RoIHRoZSBpbnB1dHMgYXJlIHN0cmluZ3MgZG8gYSBwbGFpbiBpbmRleE9mXHJcblx0XHRcdHJldHVybiAodXNlckZhY3RTcGVjVmFsdWVzIGFzIHN0cmluZykudG9Mb3dlckNhc2UoKS5pbmRleE9mKGZhY3RWYWx1ZSkgIT09IC0xO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpc0FycmF5KHVzZXJGYWN0U3BlY1ZhbHVlcykpIHtcclxuXHRcdFx0Y29uc3Qgc3BlY1ZhbHVlcyA9IHVzZXJGYWN0U3BlY1ZhbHVlcyBhcyB1bmtub3duIGFzIHN0cmluZ1tdO1xyXG5cdFx0XHRyZXR1cm4gc3BlY1ZhbHVlcy5zb21lKChzcGVjVmFsdWUpID0+IHNwZWNWYWx1ZSAmJiBzcGVjVmFsdWUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpID09PSBmYWN0VmFsdWUpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aWYgKGlzQXJyYXkodXNlckZhY3RTcGVjVmFsdWVzKSkge1xyXG5cdFx0cmV0dXJuICh1c2VyRmFjdFNwZWNWYWx1ZXMgYXMgVFtdKS5pbmRleE9mKHVzZXJGYWN0UmF3VmFsdWUgYXMgVCkgIT09IC0xO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0FWYWxpZE51bWJlcihudW1iZXJWYWx1ZTogbnVtYmVyLCB2YWx1ZTogc3RyaW5nLCByYXdVc2VyRmFjdE5hbWU6IHN0cmluZywgZmFjdFR5cGU/OiBVc2VyRmFjdFR5cGUpIHtcclxuXHRpZiAoIWlzTnVtYmVyKG51bWJlclZhbHVlKSkge1xyXG5cdFx0bGV0IGVycm9yTWVzc2FnZSA9IGBVc2VyIGZhY3QgJHtyYXdVc2VyRmFjdE5hbWV9IGhhcyBpbnZhbGlkIHZhbHVlICR7dmFsdWV9YDtcclxuXHRcdGlmIChmYWN0VHlwZSkge1xyXG5cdFx0XHRlcnJvck1lc3NhZ2UgPSBgSW52YWxpZCBkYXRlIHRpbWUgdmFsdWUgJHt2YWx1ZX0gd2FzIHByb3ZpZGVkIGZvciB1c2VyIGZhY3Qgb2YgdHlwZSAke2ZhY3RUeXBlfWA7XHJcblx0XHR9XHJcblx0XHRGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCkubG9nX0Vycm9yKFxyXG5cdFx0XHRUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGUuVXNlckZhY3RzU3BlY0lzQU1hdGNoLkZhaWxlZCxcclxuXHRcdFx0ZXJyb3JNZXNzYWdlKTtcclxuXHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gdHJ1ZTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/UserFact/UserFact.js\n')},"../FloodgateCore/dist/src/UserFact/UserFactHelper.js":function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.validateUserFacts = exports.deserializeUserFacts = void 0;\nvar UserFact_1 = __webpack_require__(/*! ./UserFact */ "../FloodgateCore/dist/src/UserFact/UserFact.js");\nexports.deserializeUserFacts = function (input) {\n    var userFacts = [];\n    for (var key in input.UserFacts) {\n        if (input.UserFacts.hasOwnProperty(key)) {\n            var userFactInput = input.UserFacts[key];\n            if (userFactInput) {\n                userFacts.push(UserFact_1.UserFact.deserialize(userFactInput));\n            }\n        }\n    }\n    if (userFacts.length === 0) {\n        userFacts = null;\n    }\n    return userFacts;\n};\nexports.validateUserFacts = function (userFacts) {\n    if (userFacts) {\n        for (var key in userFacts) {\n            if (userFacts.hasOwnProperty(key) && !userFacts[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1VzZXJGYWN0L1VzZXJGYWN0SGVscGVyLnRzPzk4OGEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEseUdBQXNDO0FBRXpCLDRCQUFvQixHQUFHLFVBQUMsS0FBVTtJQUM5QyxJQUFJLFNBQVMsR0FBZSxFQUFFLENBQUM7SUFDL0IsS0FBSyxJQUFNLEdBQUcsSUFBSSxLQUFLLENBQUMsU0FBUyxFQUFFO1FBQ2xDLElBQUksS0FBSyxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDeEMsSUFBTSxhQUFhLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUUzQyxJQUFJLGFBQWEsRUFBRTtnQkFDbEIsU0FBUyxDQUFDLElBQUksQ0FBQyxtQkFBUSxDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO2FBQ3BEO1NBQ0Q7S0FDRDtJQUVELElBQUksU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7UUFDM0IsU0FBUyxHQUFHLElBQUksQ0FBQztLQUNqQjtJQUVELE9BQU8sU0FBUyxDQUFDO0FBRWxCLENBQUMsQ0FBQztBQUVXLHlCQUFpQixHQUFHLFVBQUMsU0FBcUI7SUFDdEQsSUFBSSxTQUFTLEVBQUU7UUFDZCxLQUFLLElBQU0sR0FBRyxJQUFJLFNBQVMsRUFBRTtZQUM1QixJQUFJLFNBQVMsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUU7Z0JBQ3JELE9BQU8sS0FBSyxDQUFDO2FBQ2I7U0FDRDtLQUNEO0lBRUQsT0FBTyxJQUFJLENBQUM7QUFDYixDQUFDLENBQUMiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9Vc2VyRmFjdC9Vc2VyRmFjdEhlbHBlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVzZXJGYWN0IH0gZnJvbSBcIi4vVXNlckZhY3RcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBkZXNlcmlhbGl6ZVVzZXJGYWN0cyA9IChpbnB1dDogYW55KTogVXNlckZhY3RbXSA9PiB7XHJcblx0bGV0IHVzZXJGYWN0czogVXNlckZhY3RbXSA9IFtdO1xyXG5cdGZvciAoY29uc3Qga2V5IGluIGlucHV0LlVzZXJGYWN0cykge1xyXG5cdFx0aWYgKGlucHV0LlVzZXJGYWN0cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcblx0XHRcdGNvbnN0IHVzZXJGYWN0SW5wdXQgPSBpbnB1dC5Vc2VyRmFjdHNba2V5XTtcclxuXHJcblx0XHRcdGlmICh1c2VyRmFjdElucHV0KSB7XHJcblx0XHRcdFx0dXNlckZhY3RzLnB1c2goVXNlckZhY3QuZGVzZXJpYWxpemUodXNlckZhY3RJbnB1dCkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRpZiAodXNlckZhY3RzLmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0dXNlckZhY3RzID0gbnVsbDtcclxuXHR9XHJcblxyXG5cdHJldHVybiB1c2VyRmFjdHM7XHJcblxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlVXNlckZhY3RzID0gKHVzZXJGYWN0czogVXNlckZhY3RbXSk6IGJvb2xlYW4gPT4ge1xyXG5cdGlmICh1c2VyRmFjdHMpIHtcclxuXHRcdGZvciAoY29uc3Qga2V5IGluIHVzZXJGYWN0cykge1xyXG5cdFx0XHRpZiAodXNlckZhY3RzLmhhc093blByb3BlcnR5KGtleSkgJiYgIXVzZXJGYWN0c1trZXldKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gdHJ1ZTtcclxufTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/UserFact/UserFactHelper.js\n')},"../FloodgateCore/dist/src/Utils.js":function(module,exports,__webpack_require__){"use strict";eval('\n/*\n * Utils.ts\n *\n * Module for utility functions\n */\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.fyShuffle = exports.dateToShortUtcString = exports.isUtcDatetimeString = exports.overrideValues = exports.stringToDate = exports.makeArrayFromObjectValuesSortedByKeyString = exports.guid = exports.extractLanguageSubtag = exports.isValidLanguageSubTag = exports.subtractSecondsWithoutOverflow = exports.addSecondsWithoutOverflow = exports.MIN_DATE_MILLISECONDS = exports.MAX_DATE_MILLISECONDS = exports.getDistantFuture = exports.getDistantPast = exports.isBoolean = exports.isString = exports.isArray = exports.isObject = exports.isNOU = exports.isNumber = exports.isEnumValue = exports.isDate = exports.timeAdd = void 0;\n/**\n * Add time to a given date\n * Example, timeAdd(new Date(), \'minute\', 5)  //returns 5 minutes from now\n * @param date  Date to start with\n * @param interval  One of: hour or h, minute or m, second or s\n * @param units  units of the given interval to add\n * @return date\n */\nfunction timeAdd(date, interval, units) {\n    switch (interval.toLowerCase()) {\n        case "h":\n        case "hour":\n            return new Date(date.getTime() + (units * 3600000));\n        case "m":\n        case "minute":\n            return new Date(date.getTime() + (units * 60000));\n        case "s":\n        case "second":\n            return new Date(date.getTime() + (units * 1000));\n        default:\n            throw new Error("Invalid interval value of " + interval);\n    }\n}\nexports.timeAdd = timeAdd;\n/**\n * Check if an input value is a valid date, null or undefined return false.\n * @param input  input value\n * @return boolean\n */\nfunction isDate(input) {\n    if (Object.prototype.toString.call(input) === "[object Date]") {\n        // it is a date\n        if (!(isNaN(input.getTime()))) {\n            return true;\n        }\n    }\n    return false;\n}\nexports.isDate = isDate;\n/**\n * Check if an input value is a valid value in the input enum\n * @param value  input value\n * @param input  input enum\n * Returns true if value exists in the enum\n */\nfunction isEnumValue(value, input) {\n    return (value in input);\n}\nexports.isEnumValue = isEnumValue;\n/**\n * Check if an input value is a number\n * @param value: input value\n */\nfunction isNumber(value) {\n    return (value !== null && !isNaN(value) && isFinite(value));\n}\nexports.isNumber = isNumber;\n/**\n * Check if an input value is null or undefined\n * @param value: input value\n */\nfunction isNOU(value) {\n    return (value === null || value === undefined);\n}\nexports.isNOU = isNOU;\n/**\n * Check if an input value is an object\n * @param value: input value\n */\nfunction isObject(value) {\n    return (value !== null && value !== undefined && (typeof value === "object"));\n}\nexports.isObject = isObject;\n/**\n * Check if an input value is an array\n * @param value: input value\n */\nfunction isArray(value) {\n    return (value !== null && value !== undefined && (Array.isArray(value)));\n}\nexports.isArray = isArray;\n/**\n * Check if given value is a string\n * @param {any} value value\n */\nfunction isString(value) {\n    return (typeof value === "string");\n}\nexports.isString = isString;\n/**\n * Check if value is an object\n * @param {any} value value\n */\nfunction isBoolean(value) {\n    return typeof (value) === "boolean";\n}\nexports.isBoolean = isBoolean;\n/**\n * Returns a lower temporal boundary\n * @return date\n */\nfunction getDistantPast() {\n    // Corresponds to UTC 1601-01-01T00:00:00Z\n    return new Date(-11644473600000);\n}\nexports.getDistantPast = getDistantPast;\n/**\n * Get an upper temporal boundary\n * @return date\n */\nfunction getDistantFuture() {\n    // Corresponds to UTC 4001-01-01T00:00:00Z\n    return new Date(64092211200000);\n}\nexports.getDistantFuture = getDistantFuture;\nexports.MAX_DATE_MILLISECONDS = 8640000000000000;\nexports.MIN_DATE_MILLISECONDS = -8640000000000000;\n/**\n * Adds seconds to a date, if overflows returns Date(Number.Max_VALUE)\n *\n * @param date    date to add to\n * @param seconds seconds as number\n * @return Resulting date\n */\nfunction addSecondsWithoutOverflow(date, seconds) {\n    if (!date) {\n        return null;\n    }\n    if (seconds < 0) {\n        return subtractSecondsWithoutOverflow(date, -1 * seconds);\n    }\n    else {\n        var milliseconds = date.getTime() + seconds * 1000;\n        if (milliseconds < exports.MAX_DATE_MILLISECONDS) {\n            return new Date(milliseconds);\n        }\n        else {\n            return new Date(exports.MAX_DATE_MILLISECONDS);\n        }\n    }\n}\nexports.addSecondsWithoutOverflow = addSecondsWithoutOverflow;\n/**\n * Subtracts seconds from a date, if overflows returns Date(Number.MIN_VALUE)\n *\n * @param date   date to subtract from\n * @param seconds seconds as number\n * @return Resulting date\n */\nfunction subtractSecondsWithoutOverflow(date, seconds) {\n    if (!date) {\n        return null;\n    }\n    if (seconds < 0) {\n        seconds = -seconds;\n        return this.addSecondsWithoutOverflow(date, seconds);\n    }\n    var milliseconds = date.getTime() - (seconds * 1000);\n    if (milliseconds > exports.MIN_DATE_MILLISECONDS) {\n        return new Date(milliseconds);\n    }\n    else {\n        return new Date(exports.MIN_DATE_MILLISECONDS);\n    }\n}\nexports.subtractSecondsWithoutOverflow = subtractSecondsWithoutOverflow;\n// region Language related\n/**\n * Effectively un-anchored on the right side because tags can have many more trailing sub-parts than we care to extract\n * Refer to https://www.ietf.org/rfc/rfc5646.txt\n */\nvar LANGUAGE_AND_SCRIPT_TAG_PATTERN = "^" +\n    // capture 1:language subtag\n    "(" +\n    "(?:[a-zA-Z]{2,3}(?:-[a-zA-Z]{3}){0,3})" + // 2-3 Alpha chars, followed by up to three optional extension tags, each of format -AAA, A=Alpha char\n    "|" +\n    "(?:[a-zA-Z]{4,8})" + // 4-Alpha chars (reserved in standard) or 5-8 Alpha chars\n    ")" +\n    "(?:" +\n    "-" +\n    // capture 2: optional script subtag (without leading dash), exactly 4 alpha chars\n    "([a-zA-Z]{4})" + // 4-Alpha chars\n    ")?" +\n    // capture 3: optional region subtag (without leading dash), exactly 2 alpha chars or 3 digits\n    "(?:-([a-zA-Z]{2}|[0-9]{3}))?" +\n    "(" +\n    // capture 4: any left-overs, rejecting remainder strings that don\'t end here or lead with a dash.\n    "-.*" +\n    ")?" +\n    "$";\nfunction isValidLanguageSubTag(subTag) {\n    if (!subTag) {\n        return false;\n    }\n    var extractedSubTag = extractLanguageSubtag(subTag);\n    if (!extractedSubTag) {\n        return false;\n    }\n    return extractedSubTag === subTag;\n}\nexports.isValidLanguageSubTag = isValidLanguageSubTag;\nfunction extractLanguageSubtag(language) {\n    if (!language) {\n        return null;\n    }\n    var matches = language.match(LANGUAGE_AND_SCRIPT_TAG_PATTERN);\n    if (!matches || matches.length < 1 || !isNOU(matches[4])) {\n        return null;\n    }\n    // return the first capture group which should be the original input if there is a match\n    // For example, "en-US" input should return "en-US", and "en" input should return "en".\n    return matches[0];\n}\nexports.extractLanguageSubtag = extractLanguageSubtag;\n// endregion\n/**\n * Create guid string\n */\nfunction guid() {\n    // Stitch in \'4\' in the third group\n    return (randomHex4() + randomHex4() + "-" + randomHex4() + "-4" + randomHex4().substr(0, 3) + "-" + randomHex4() + "-"\n        + randomHex4() + randomHex4() + randomHex4()).toLowerCase();\n}\nexports.guid = guid;\n/**\n * Create random Hex4 string\n */\nfunction randomHex4() {\n    return (Math.floor(((1 + Math.random()) * 0x10000))).toString(16).substring(1);\n}\n/**\n * Create an array from input object values sorted by object key\n * @param Object input object\n * @return array\n */\nfunction makeArrayFromObjectValuesSortedByKeyString(object) {\n    var keys = Object.keys(object);\n    keys.sort();\n    var values = [];\n    for (var id in keys) {\n        if (keys.hasOwnProperty(id)) {\n            var key = keys[id];\n            values.push(object[key]);\n        }\n    }\n    return values;\n}\nexports.makeArrayFromObjectValuesSortedByKeyString = makeArrayFromObjectValuesSortedByKeyString;\n/**\n * Create a date object from an input string\n * @param Object input string\n * @return date\n */\nfunction stringToDate(input) {\n    if (!isString(input)) {\n        return null;\n    }\n    var newDate = input ? new Date(input) : null;\n    return isDate(newDate) ? newDate : null;\n}\nexports.stringToDate = stringToDate;\n/**\n * Takes two objects (source, target) and returns the target object with values in the source added to it.\n * It overwrites any source properties which already exist in target.\n */\nfunction overrideValues(sourceObject, targetobject) {\n    if (!targetobject) {\n        return targetobject;\n    }\n    var result = targetobject;\n    if (sourceObject) {\n        for (var field in sourceObject) {\n            if (sourceObject.hasOwnProperty(field)) {\n                result[field] = sourceObject[field];\n            }\n        }\n    }\n    return result;\n}\nexports.overrideValues = overrideValues;\n/**\n * Test a string is in our supported ISO8601 UTC format of "yyyy-MM-ddTHH:mm:ssZ" and "yyyy-MM-ddTHH:mm:ss.fffZ"\n * @param input Input string to be evaluated.\n */\nfunction isUtcDatetimeString(input) {\n    if (!isString(input)) {\n        return false;\n    }\n    var supportedUtcRegex = /^(\\d{4}\\-\\d\\d\\-\\d\\dT\\d\\d:\\d\\d:\\d\\d(\\.\\d\\d\\d)?Z)$/;\n    return supportedUtcRegex.test(input);\n}\nexports.isUtcDatetimeString = isUtcDatetimeString;\n/**\n * Convert a date object to a string in ISO8601 UTC format supported by Floodgate ("yyyy-MM-ddTHH:mm:ssZ")\n * @param input Input date object\n */\nfunction dateToShortUtcString(input) {\n    if (!isDate(input)) {\n        return null;\n    }\n    function pad(n) {\n        return (n < 10) ? ("0" + n) : n.toString();\n    }\n    return input.getUTCFullYear() +\n        "-" + pad(input.getUTCMonth() + 1) +\n        "-" + pad(input.getUTCDate()) +\n        "T" + pad(input.getUTCHours()) +\n        ":" + pad(input.getUTCMinutes()) +\n        ":" + pad(input.getUTCSeconds()) +\n        "Z";\n}\nexports.dateToShortUtcString = dateToShortUtcString;\n/*\nImplementing the Fisher-Yates Shuffle\n(Shuffles in situ)\n*/\nfunction fyShuffle(arrIn) {\n    if (isNOU(arrIn)) {\n        return undefined;\n    }\n    // If the array is empty or has one element, do nothing.\n    if (arrIn.length === 0 || arrIn.length === 1) {\n        return arrIn;\n    }\n    var lastNonShuffledElement = arrIn.length - 1;\n    // While there is still a non shuffled element.\n    while (lastNonShuffledElement > 0) {\n        // Pick one of the non shuffled elements (num range [0,lastNonShuffledElement+1))\n        var pickIndex = Math.floor(Math.random() * (lastNonShuffledElement + 1));\n        // And swap it with the last non shuffled element\n        var temp = arrIn[lastNonShuffledElement];\n        arrIn[lastNonShuffledElement] = arrIn[pickIndex];\n        arrIn[pickIndex] = temp;\n        lastNonShuffledElement--;\n    }\n    return arrIn;\n}\nexports.fyShuffle = fyShuffle;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL1V0aWxzLnRzP2NmZTIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7O0dBSUc7OztBQUVIOzs7Ozs7O0dBT0c7QUFDSCxTQUFnQixPQUFPLENBQUMsSUFBVSxFQUFFLFFBQWdCLEVBQUUsS0FBYTtJQUNsRSxRQUFRLFFBQVEsQ0FBQyxXQUFXLEVBQUUsRUFBRTtRQUMvQixLQUFLLEdBQUcsQ0FBQztRQUNULEtBQUssTUFBTTtZQUNWLE9BQU8sSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDckQsS0FBSyxHQUFHLENBQUM7UUFDVCxLQUFLLFFBQVE7WUFDWixPQUFPLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ25ELEtBQUssR0FBRyxDQUFDO1FBQ1QsS0FBSyxRQUFRO1lBQ1osT0FBTyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNsRDtZQUNDLE1BQU0sSUFBSSxLQUFLLENBQUMsNEJBQTRCLEdBQUcsUUFBUSxDQUFDLENBQUM7S0FDMUQ7QUFDRixDQUFDO0FBZEQsMEJBY0M7QUFFRDs7OztHQUlHO0FBQ0gsU0FBZ0IsTUFBTSxDQUFDLEtBQVU7SUFDaEMsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssZUFBZSxFQUFFO1FBQzlELGVBQWU7UUFDZixJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsRUFBRTtZQUM5QixPQUFPLElBQUksQ0FBQztTQUNaO0tBQ0Q7SUFDRCxPQUFPLEtBQUssQ0FBQztBQUNkLENBQUM7QUFSRCx3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akIsT0FBTyxTQUFTLENBQUM7S0FDakI7SUFFRCx3REFBd0Q7SUFDeEQsSUFBSSxLQUFLLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtRQUM3QyxPQUFPLEtBQUssQ0FBQztLQUNiO0lBRUQsSUFBSSxzQkFBc0IsR0FBRyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztJQUU5QywrQ0FBK0M7SUFDL0MsT0FBTyxzQkFBc0IsR0FBRyxDQUFDLEVBQUU7UUFFbEMsaUZBQWlGO1FBQ2pGLElBQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsc0JBQXNCLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUUzRSxpREFBaUQ7UUFDakQsSUFBTSxJQUFJLEdBQUcsS0FBSyxDQUFDLHNCQUFzQixDQUFDLENBQUM7UUFDM0MsS0FBSyxDQUFDLHNCQUFzQixDQUFDLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ2pELEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxJQUFJLENBQUM7UUFFeEIsc0JBQXNCLEVBQUUsQ0FBQztLQUN6QjtJQUVELE9BQU8sS0FBSyxDQUFDO0FBQ2QsQ0FBQztBQTVCRCw4QkE0QkMiLCJmaWxlIjoiLi4vRmxvb2RnYXRlQ29yZS9kaXN0L3NyYy9VdGlscy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAqIFV0aWxzLnRzXHJcbiAqXHJcbiAqIE1vZHVsZSBmb3IgdXRpbGl0eSBmdW5jdGlvbnNcclxuICovXHJcblxyXG4vKipcclxuICogQWRkIHRpbWUgdG8gYSBnaXZlbiBkYXRlXHJcbiAqIEV4YW1wbGUsIHRpbWVBZGQobmV3IERhdGUoKSwgJ21pbnV0ZScsIDUpICAvL3JldHVybnMgNSBtaW51dGVzIGZyb20gbm93XHJcbiAqIEBwYXJhbSBkYXRlICBEYXRlIHRvIHN0YXJ0IHdpdGhcclxuICogQHBhcmFtIGludGVydmFsICBPbmUgb2Y6IGhvdXIgb3IgaCwgbWludXRlIG9yIG0sIHNlY29uZCBvciBzXHJcbiAqIEBwYXJhbSB1bml0cyAgdW5pdHMgb2YgdGhlIGdpdmVuIGludGVydmFsIHRvIGFkZFxyXG4gKiBAcmV0dXJuIGRhdGVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB0aW1lQWRkKGRhdGU6IERhdGUsIGludGVydmFsOiBzdHJpbmcsIHVuaXRzOiBudW1iZXIpOiBEYXRlIHtcclxuXHRzd2l0Y2ggKGludGVydmFsLnRvTG93ZXJDYXNlKCkpIHtcclxuXHRcdGNhc2UgXCJoXCI6XHJcblx0XHRjYXNlIFwiaG91clwiOlxyXG5cdFx0XHRyZXR1cm4gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkgKyAodW5pdHMgKiAzNjAwMDAwKSk7XHJcblx0XHRjYXNlIFwibVwiOlxyXG5cdFx0Y2FzZSBcIm1pbnV0ZVwiOlxyXG5cdFx0XHRyZXR1cm4gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkgKyAodW5pdHMgKiA2MDAwMCkpO1xyXG5cdFx0Y2FzZSBcInNcIjpcclxuXHRcdGNhc2UgXCJzZWNvbmRcIjpcclxuXHRcdFx0cmV0dXJuIG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpICsgKHVuaXRzICogMTAwMCkpO1xyXG5cdFx0ZGVmYXVsdDpcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnRlcnZhbCB2YWx1ZSBvZiBcIiArIGludGVydmFsKTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiBhbiBpbnB1dCB2YWx1ZSBpcyBhIHZhbGlkIGRhdGUsIG51bGwgb3IgdW5kZWZpbmVkIHJldHVybiBmYWxzZS5cclxuICogQHBhcmFtIGlucHV0ICBpbnB1dCB2YWx1ZVxyXG4gKiBAcmV0dXJuIGJvb2xlYW5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0RhdGUoaW5wdXQ6IGFueSk6IGJvb2xlYW4ge1xyXG5cdGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSBcIltvYmplY3QgRGF0ZV1cIikge1xyXG5cdFx0Ly8gaXQgaXMgYSBkYXRlXHJcblx0XHRpZiAoIShpc05hTihpbnB1dC5nZXRUaW1lKCkpKSkge1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgYW4gaW5wdXQgdmFsdWUgaXMgYSB2YWxpZCB2YWx1ZSBpbiB0aGUgaW5wdXQgZW51bVxyXG4gKiBAcGFyYW0gdmFsdWUgIGlucHV0IHZhbHVlXHJcbiAqIEBwYXJhbSBpbnB1dCAgaW5wdXQgZW51bVxyXG4gKiBSZXR1cm5zIHRydWUgaWYgdmFsdWUgZXhpc3RzIGluIHRoZSBlbnVtXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNFbnVtVmFsdWUodmFsdWU6IGFueSwgaW5wdXQ6IGFueSk6IGJvb2xlYW4ge1xyXG5cdHJldHVybiAodmFsdWUgaW4gaW5wdXQpO1xyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgYW4gaW5wdXQgdmFsdWUgaXMgYSBudW1iZXJcclxuICogQHBhcmFtIHZhbHVlOiBpbnB1dCB2YWx1ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlOiBhbnkpOiBib29sZWFuIHtcclxuXHRyZXR1cm4gKHZhbHVlICE9PSBudWxsICYmICFpc05hTih2YWx1ZSkgJiYgaXNGaW5pdGUodmFsdWUpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIGFuIGlucHV0IHZhbHVlIGlzIG51bGwgb3IgdW5kZWZpbmVkXHJcbiAqIEBwYXJhbSB2YWx1ZTogaW5wdXQgdmFsdWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc05PVSh2YWx1ZTogYW55KTogYm9vbGVhbiB7XHJcblx0cmV0dXJuICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIGFuIGlucHV0IHZhbHVlIGlzIGFuIG9iamVjdFxyXG4gKiBAcGFyYW0gdmFsdWU6IGlucHV0IHZhbHVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xyXG5cdHJldHVybiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCAmJiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiBhbiBpbnB1dCB2YWx1ZSBpcyBhbiBhcnJheVxyXG4gKiBAcGFyYW0gdmFsdWU6IGlucHV0IHZhbHVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheSh2YWx1ZTogYW55KTogYm9vbGVhbiB7XHJcblx0cmV0dXJuICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIChBcnJheS5pc0FycmF5KHZhbHVlKSkpO1xyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgZ2l2ZW4gdmFsdWUgaXMgYSBzdHJpbmdcclxuICogQHBhcmFtIHthbnl9IHZhbHVlIHZhbHVlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpbmcodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xyXG5cdHJldHVybiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIHZhbHVlIGlzIGFuIG9iamVjdFxyXG4gKiBAcGFyYW0ge2FueX0gdmFsdWUgdmFsdWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWU6IGFueSk6IGJvb2xlYW4ge1xyXG5cdHJldHVybiB0eXBlb2YgKHZhbHVlKSA9PT0gXCJib29sZWFuXCI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgbG93ZXIgdGVtcG9yYWwgYm91bmRhcnlcclxuICogQHJldHVybiBkYXRlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlzdGFudFBhc3QoKTogRGF0ZSB7XHJcblx0Ly8gQ29ycmVzcG9uZHMgdG8gVVRDIDE2MDEtMDEtMDFUMDA6MDA6MDBaXHJcblx0cmV0dXJuIG5ldyBEYXRlKC0xMTY0NDQ3MzYwMDAwMCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgYW4gdXBwZXIgdGVtcG9yYWwgYm91bmRhcnlcclxuICogQHJldHVybiBkYXRlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlzdGFudEZ1dHVyZSgpOiBEYXRlIHtcclxuXHQvLyBDb3JyZXNwb25kcyB0byBVVEMgNDAwMS0wMS0wMVQwMDowMDowMFpcclxuXHRyZXR1cm4gbmV3IERhdGUoNjQwOTIyMTEyMDAwMDApO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgTUFYX0RBVEVfTUlMTElTRUNPTkRTOiBudW1iZXIgPSA4NjQwMDAwMDAwMDAwMDAwO1xyXG5leHBvcnQgY29uc3QgTUlOX0RBVEVfTUlMTElTRUNPTkRTOiBudW1iZXIgPSAtODY0MDAwMDAwMDAwMDAwMDtcclxuXHJcbi8qKlxyXG4gKiBBZGRzIHNlY29uZHMgdG8gYSBkYXRlLCBpZiBvdmVyZmxvd3MgcmV0dXJucyBEYXRlKE51bWJlci5NYXhfVkFMVUUpXHJcbiAqXHJcbiAqIEBwYXJhbSBkYXRlICAgIGRhdGUgdG8gYWRkIHRvXHJcbiAqIEBwYXJhbSBzZWNvbmRzIHNlY29uZHMgYXMgbnVtYmVyXHJcbiAqIEByZXR1cm4gUmVzdWx0aW5nIGRhdGVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRTZWNvbmRzV2l0aG91dE92ZXJmbG93KGRhdGU6IERhdGUsIHNlY29uZHM6IG51bWJlcik6IERhdGUge1xyXG5cdGlmICghZGF0ZSkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHRpZiAoc2Vjb25kcyA8IDApIHtcclxuXHRcdHJldHVybiBzdWJ0cmFjdFNlY29uZHNXaXRob3V0T3ZlcmZsb3coZGF0ZSwgLTEgKiBzZWNvbmRzKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Y29uc3QgbWlsbGlzZWNvbmRzOiBudW1iZXIgPSBkYXRlLmdldFRpbWUoKSArIHNlY29uZHMgKiAxMDAwO1xyXG5cclxuXHRcdGlmIChtaWxsaXNlY29uZHMgPCBNQVhfREFURV9NSUxMSVNFQ09ORFMpIHtcclxuXHRcdFx0cmV0dXJuIG5ldyBEYXRlKG1pbGxpc2Vjb25kcyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gbmV3IERhdGUoTUFYX0RBVEVfTUlMTElTRUNPTkRTKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTdWJ0cmFjdHMgc2Vjb25kcyBmcm9tIGEgZGF0ZSwgaWYgb3ZlcmZsb3dzIHJldHVybnMgRGF0ZShOdW1iZXIuTUlOX1ZBTFVFKVxyXG4gKlxyXG4gKiBAcGFyYW0gZGF0ZSAgIGRhdGUgdG8gc3VidHJhY3QgZnJvbVxyXG4gKiBAcGFyYW0gc2Vjb25kcyBzZWNvbmRzIGFzIG51bWJlclxyXG4gKiBAcmV0dXJuIFJlc3VsdGluZyBkYXRlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc3VidHJhY3RTZWNvbmRzV2l0aG91dE92ZXJmbG93KGRhdGU6IERhdGUsIHNlY29uZHM6IG51bWJlcik6IERhdGUge1xyXG5cdGlmICghZGF0ZSkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHRpZiAoc2Vjb25kcyA8IDApIHtcclxuXHRcdHNlY29uZHMgPSAtc2Vjb25kcztcclxuXHRcdHJldHVybiB0aGlzLmFkZFNlY29uZHNXaXRob3V0T3ZlcmZsb3coZGF0ZSwgc2Vjb25kcyk7XHJcblx0fVxyXG5cclxuXHRjb25zdCBtaWxsaXNlY29uZHM6IG51bWJlciA9IGRhdGUuZ2V0VGltZSgpIC0gKHNlY29uZHMgKiAxMDAwKTtcclxuXHJcblx0aWYgKG1pbGxpc2Vjb25kcyA+IE1JTl9EQVRFX01JTExJU0VDT05EUykge1xyXG5cdFx0cmV0dXJuIG5ldyBEYXRlKG1pbGxpc2Vjb25kcyk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHJldHVybiBuZXcgRGF0ZShNSU5fREFURV9NSUxMSVNFQ09ORFMpO1xyXG5cdH1cclxufVxyXG5cclxuLy8gcmVnaW9uIExhbmd1YWdlIHJlbGF0ZWRcclxuXHJcbi8qKlxyXG4gKiBFZmZlY3RpdmVseSB1bi1hbmNob3JlZCBvbiB0aGUgcmlnaHQgc2lkZSBiZWNhdXNlIHRhZ3MgY2FuIGhhdmUgbWFueSBtb3JlIHRyYWlsaW5nIHN1Yi1wYXJ0cyB0aGFuIHdlIGNhcmUgdG8gZXh0cmFjdFxyXG4gKiBSZWZlciB0byBodHRwczovL3d3dy5pZXRmLm9yZy9yZmMvcmZjNTY0Ni50eHRcclxuICovXHJcbmNvbnN0IExBTkdVQUdFX0FORF9TQ1JJUFRfVEFHX1BBVFRFUk46IHN0cmluZyA9XHJcblx0XCJeXCIgK1xyXG5cdC8vIGNhcHR1cmUgMTpsYW5ndWFnZSBzdWJ0YWdcclxuXHRcIihcIiArXHJcblx0XCIoPzpbYS16QS1aXXsyLDN9KD86LVthLXpBLVpdezN9KXswLDN9KVwiICsgIC8vIDItMyBBbHBoYSBjaGFycywgZm9sbG93ZWQgYnkgdXAgdG8gdGhyZWUgb3B0aW9uYWwgZXh0ZW5zaW9uIHRhZ3MsIGVhY2ggb2YgZm9ybWF0IC1BQUEsIEE9QWxwaGEgY2hhclxyXG5cdFwifFwiICtcclxuXHRcIig/OlthLXpBLVpdezQsOH0pXCIgKyAgICAgICAgICAgICAgICAgICAgICAgLy8gNC1BbHBoYSBjaGFycyAocmVzZXJ2ZWQgaW4gc3RhbmRhcmQpIG9yIDUtOCBBbHBoYSBjaGFyc1xyXG5cdFwiKVwiICtcclxuXHRcIig/OlwiICtcclxuXHRcIi1cIiArXHJcblx0Ly8gY2FwdHVyZSAyOiBvcHRpb25hbCBzY3JpcHQgc3VidGFnICh3aXRob3V0IGxlYWRpbmcgZGFzaCksIGV4YWN0bHkgNCBhbHBoYSBjaGFyc1xyXG5cdFwiKFthLXpBLVpdezR9KVwiICsgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA0LUFscGhhIGNoYXJzXHJcblx0XCIpP1wiICtcclxuXHQvLyBjYXB0dXJlIDM6IG9wdGlvbmFsIHJlZ2lvbiBzdWJ0YWcgKHdpdGhvdXQgbGVhZGluZyBkYXNoKSwgZXhhY3RseSAyIGFscGhhIGNoYXJzIG9yIDMgZGlnaXRzXHJcblx0XCIoPzotKFthLXpBLVpdezJ9fFswLTldezN9KSk/XCIgK1xyXG5cdFwiKFwiICtcclxuXHQvLyBjYXB0dXJlIDQ6IGFueSBsZWZ0LW92ZXJzLCByZWplY3RpbmcgcmVtYWluZGVyIHN0cmluZ3MgdGhhdCBkb24ndCBlbmQgaGVyZSBvciBsZWFkIHdpdGggYSBkYXNoLlxyXG5cdFwiLS4qXCIgK1xyXG5cdFwiKT9cIiArXHJcblx0XCIkXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZExhbmd1YWdlU3ViVGFnKHN1YlRhZzogc3RyaW5nKTogYm9vbGVhbiB7XHJcblx0aWYgKCFzdWJUYWcpIHtcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblxyXG5cdGNvbnN0IGV4dHJhY3RlZFN1YlRhZzogc3RyaW5nID0gZXh0cmFjdExhbmd1YWdlU3VidGFnKHN1YlRhZyk7XHJcblx0aWYgKCFleHRyYWN0ZWRTdWJUYWcpIHtcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblxyXG5cdHJldHVybiBleHRyYWN0ZWRTdWJUYWcgPT09IHN1YlRhZztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RMYW5ndWFnZVN1YnRhZyhsYW5ndWFnZTogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRpZiAoIWxhbmd1YWdlKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdGNvbnN0IG1hdGNoZXMgPSBsYW5ndWFnZS5tYXRjaChMQU5HVUFHRV9BTkRfU0NSSVBUX1RBR19QQVRURVJOKTtcclxuXHRpZiAoIW1hdGNoZXMgfHwgbWF0Y2hlcy5sZW5ndGggPCAxIHx8ICFpc05PVShtYXRjaGVzWzRdKSkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHQvLyByZXR1cm4gdGhlIGZpcnN0IGNhcHR1cmUgZ3JvdXAgd2hpY2ggc2hvdWxkIGJlIHRoZSBvcmlnaW5hbCBpbnB1dCBpZiB0aGVyZSBpcyBhIG1hdGNoXHJcblx0Ly8gRm9yIGV4YW1wbGUsIFwiZW4tVVNcIiBpbnB1dCBzaG91bGQgcmV0dXJuIFwiZW4tVVNcIiwgYW5kIFwiZW5cIiBpbnB1dCBzaG91bGQgcmV0dXJuIFwiZW5cIi5cclxuXHRyZXR1cm4gbWF0Y2hlc1swXTtcclxufVxyXG5cclxuLy8gZW5kcmVnaW9uXHJcblxyXG4vKipcclxuICogQ3JlYXRlIGd1aWQgc3RyaW5nXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ3VpZCgpOiBzdHJpbmcge1xyXG5cdC8vIFN0aXRjaCBpbiAnNCcgaW4gdGhlIHRoaXJkIGdyb3VwXHJcblx0cmV0dXJuIChyYW5kb21IZXg0KCkgKyByYW5kb21IZXg0KCkgKyBcIi1cIiArIHJhbmRvbUhleDQoKSArIFwiLTRcIiArIHJhbmRvbUhleDQoKS5zdWJzdHIoMCwgMykgKyBcIi1cIiArIHJhbmRvbUhleDQoKSArIFwiLVwiXHJcblx0XHQrIHJhbmRvbUhleDQoKSArIHJhbmRvbUhleDQoKSArIHJhbmRvbUhleDQoKSkudG9Mb3dlckNhc2UoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSByYW5kb20gSGV4NCBzdHJpbmdcclxuICovXHJcbmZ1bmN0aW9uIHJhbmRvbUhleDQoKTogc3RyaW5nIHtcclxuXHRyZXR1cm4gKE1hdGguZmxvb3IoKCgxICsgTWF0aC5yYW5kb20oKSkgKiAweDEwMDAwKSkpLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGUgYW4gYXJyYXkgZnJvbSBpbnB1dCBvYmplY3QgdmFsdWVzIHNvcnRlZCBieSBvYmplY3Qga2V5XHJcbiAqIEBwYXJhbSBPYmplY3QgaW5wdXQgb2JqZWN0XHJcbiAqIEByZXR1cm4gYXJyYXlcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBtYWtlQXJyYXlGcm9tT2JqZWN0VmFsdWVzU29ydGVkQnlLZXlTdHJpbmcob2JqZWN0OiBvYmplY3QpOiBhbnlbXSB7XHJcblx0Y29uc3Qga2V5czogc3RyaW5nW10gPSBPYmplY3Qua2V5cyhvYmplY3QpO1xyXG5cdGtleXMuc29ydCgpO1xyXG5cclxuXHRjb25zdCB2YWx1ZXM6IGFueVtdID0gW107XHJcblx0Zm9yIChjb25zdCBpZCBpbiBrZXlzKSB7XHJcblx0XHRpZiAoa2V5cy5oYXNPd25Qcm9wZXJ0eShpZCkpIHtcclxuXHRcdFx0Y29uc3Qga2V5OiBzdHJpbmcgPSBrZXlzW2lkXTtcclxuXHRcdFx0dmFsdWVzLnB1c2gob2JqZWN0W2tleV0pO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmV0dXJuIHZhbHVlcztcclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSBhIGRhdGUgb2JqZWN0IGZyb20gYW4gaW5wdXQgc3RyaW5nXHJcbiAqIEBwYXJhbSBPYmplY3QgaW5wdXQgc3RyaW5nXHJcbiAqIEByZXR1cm4gZGF0ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ1RvRGF0ZShpbnB1dDogYW55KTogRGF0ZSB7XHJcblx0aWYgKCFpc1N0cmluZyhpbnB1dCkpIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHJcblx0Y29uc3QgbmV3RGF0ZTogRGF0ZSA9IGlucHV0ID8gbmV3IERhdGUoaW5wdXQpIDogbnVsbDtcclxuXHRyZXR1cm4gaXNEYXRlKG5ld0RhdGUpID8gbmV3RGF0ZSA6IG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUYWtlcyB0d28gb2JqZWN0cyAoc291cmNlLCB0YXJnZXQpIGFuZCByZXR1cm5zIHRoZSB0YXJnZXQgb2JqZWN0IHdpdGggdmFsdWVzIGluIHRoZSBzb3VyY2UgYWRkZWQgdG8gaXQuXHJcbiAqIEl0IG92ZXJ3cml0ZXMgYW55IHNvdXJjZSBwcm9wZXJ0aWVzIHdoaWNoIGFscmVhZHkgZXhpc3QgaW4gdGFyZ2V0LlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIG92ZXJyaWRlVmFsdWVzPFQ+KHNvdXJjZU9iamVjdDogVCwgdGFyZ2V0b2JqZWN0OiBUKTogVCB7XHJcblx0aWYgKCF0YXJnZXRvYmplY3QpIHtcclxuXHRcdHJldHVybiB0YXJnZXRvYmplY3Q7XHJcblx0fVxyXG5cclxuXHRjb25zdCByZXN1bHQ6IFQgPSB0YXJnZXRvYmplY3Q7XHJcblxyXG5cdGlmIChzb3VyY2VPYmplY3QpIHtcclxuXHRcdGZvciAoY29uc3QgZmllbGQgaW4gc291cmNlT2JqZWN0KSB7XHJcblx0XHRcdGlmIChzb3VyY2VPYmplY3QuaGFzT3duUHJvcGVydHkoZmllbGQpKSB7XHJcblx0XHRcdFx0KHJlc3VsdCBhcyBhbnkpW2ZpZWxkXSA9IChzb3VyY2VPYmplY3QgYXMgYW55KVtmaWVsZF07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUZXN0IGEgc3RyaW5nIGlzIGluIG91ciBzdXBwb3J0ZWQgSVNPODYwMSBVVEMgZm9ybWF0IG9mIFwieXl5eS1NTS1kZFRISDptbTpzc1pcIiBhbmQgXCJ5eXl5LU1NLWRkVEhIOm1tOnNzLmZmZlpcIlxyXG4gKiBAcGFyYW0gaW5wdXQgSW5wdXQgc3RyaW5nIHRvIGJlIGV2YWx1YXRlZC5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpc1V0Y0RhdGV0aW1lU3RyaW5nKGlucHV0OiBhbnkpOiBib29sZWFuIHtcclxuXHRpZiAoIWlzU3RyaW5nKGlucHV0KSkge1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHJcblx0Y29uc3Qgc3VwcG9ydGVkVXRjUmVnZXggPSAvXihcXGR7NH1cXC1cXGRcXGRcXC1cXGRcXGRUXFxkXFxkOlxcZFxcZDpcXGRcXGQoXFwuXFxkXFxkXFxkKT9aKSQvO1xyXG5cdHJldHVybiBzdXBwb3J0ZWRVdGNSZWdleC50ZXN0KGlucHV0KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnZlcnQgYSBkYXRlIG9iamVjdCB0byBhIHN0cmluZyBpbiBJU084NjAxIFVUQyBmb3JtYXQgc3VwcG9ydGVkIGJ5IEZsb29kZ2F0ZSAoXCJ5eXl5LU1NLWRkVEhIOm1tOnNzWlwiKVxyXG4gKiBAcGFyYW0gaW5wdXQgSW5wdXQgZGF0ZSBvYmplY3RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBkYXRlVG9TaG9ydFV0Y1N0cmluZyhpbnB1dDogRGF0ZSk6IHN0cmluZyB7XHJcblx0aWYgKCFpc0RhdGUoaW5wdXQpKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHBhZChuOiBudW1iZXIpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIChuIDwgMTApID8gKFwiMFwiICsgbikgOiBuLnRvU3RyaW5nKCk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gaW5wdXQuZ2V0VVRDRnVsbFllYXIoKSArXHJcblx0XHRcIi1cIiArIHBhZChpbnB1dC5nZXRVVENNb250aCgpICsgMSkgK1xyXG5cdFx0XCItXCIgKyBwYWQoaW5wdXQuZ2V0VVRDRGF0ZSgpKSArXHJcblx0XHRcIlRcIiArIHBhZChpbnB1dC5nZXRVVENIb3VycygpKSArXHJcblx0XHRcIjpcIiArIHBhZChpbnB1dC5nZXRVVENNaW51dGVzKCkpICtcclxuXHRcdFwiOlwiICsgcGFkKGlucHV0LmdldFVUQ1NlY29uZHMoKSkgK1xyXG5cdFx0XCJaXCI7XHJcbn1cclxuXHJcbi8qXHJcbkltcGxlbWVudGluZyB0aGUgRmlzaGVyLVlhdGVzIFNodWZmbGVcclxuKFNodWZmbGVzIGluIHNpdHUpXHJcbiovXHJcbmV4cG9ydCBmdW5jdGlvbiBmeVNodWZmbGUoYXJySW46IG51bWJlcltdKTogbnVtYmVyW10gfCB1bmRlZmluZWQge1xyXG5cclxuXHRpZiAoaXNOT1UoYXJySW4pKSB7XHJcblx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdH1cclxuXHJcblx0Ly8gSWYgdGhlIGFycmF5IGlzIGVtcHR5IG9yIGhhcyBvbmUgZWxlbWVudCwgZG8gbm90aGluZy5cclxuXHRpZiAoYXJySW4ubGVuZ3RoID09PSAwIHx8IGFyckluLmxlbmd0aCA9PT0gMSkge1xyXG5cdFx0cmV0dXJuIGFyckluO1xyXG5cdH1cclxuXHJcblx0bGV0IGxhc3ROb25TaHVmZmxlZEVsZW1lbnQgPSBhcnJJbi5sZW5ndGggLSAxO1xyXG5cclxuXHQvLyBXaGlsZSB0aGVyZSBpcyBzdGlsbCBhIG5vbiBzaHVmZmxlZCBlbGVtZW50LlxyXG5cdHdoaWxlIChsYXN0Tm9uU2h1ZmZsZWRFbGVtZW50ID4gMCkge1xyXG5cclxuXHRcdC8vIFBpY2sgb25lIG9mIHRoZSBub24gc2h1ZmZsZWQgZWxlbWVudHMgKG51bSByYW5nZSBbMCxsYXN0Tm9uU2h1ZmZsZWRFbGVtZW50KzEpKVxyXG5cdFx0Y29uc3QgcGlja0luZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGxhc3ROb25TaHVmZmxlZEVsZW1lbnQgKyAxKSk7XHJcblxyXG5cdFx0Ly8gQW5kIHN3YXAgaXQgd2l0aCB0aGUgbGFzdCBub24gc2h1ZmZsZWQgZWxlbWVudFxyXG5cdFx0Y29uc3QgdGVtcCA9IGFyckluW2xhc3ROb25TaHVmZmxlZEVsZW1lbnRdO1xyXG5cdFx0YXJySW5bbGFzdE5vblNodWZmbGVkRWxlbWVudF0gPSBhcnJJbltwaWNrSW5kZXhdO1xyXG5cdFx0YXJySW5bcGlja0luZGV4XSA9IHRlbXA7XHJcblxyXG5cdFx0bGFzdE5vblNodWZmbGVkRWxlbWVudC0tO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIGFyckluO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../FloodgateCore/dist/src/Utils.js\n')},"./node_modules/@augloop/types-core/dist/src/annotations.js":function(module,exports,__webpack_require__){"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nexports.AnnotationState = void 0;\r\nvar AnnotationState;\r\n(function (AnnotationState) {\r\n    AnnotationState[AnnotationState["Undefined"] = 0] = "Undefined";\r\n    //only dealt with on server side\r\n    AnnotationState[AnnotationState["Created"] = 10] = "Created";\r\n    AnnotationState[AnnotationState["Sent"] = 20] = "Sent";\r\n    AnnotationState[AnnotationState["Duplicated"] = 30] = "Duplicated";\r\n    //dealt with on client side and server side\r\n    AnnotationState[AnnotationState["Seen"] = 40] = "Seen";\r\n    AnnotationState[AnnotationState["Tried"] = 50] = "Tried";\r\n    AnnotationState[AnnotationState["Kept"] = 60] = "Kept";\r\n    AnnotationState[AnnotationState["Rejected"] = 70] = "Rejected";\r\n})(AnnotationState = exports.AnnotationState || (exports.AnnotationState = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vc3JjL2Fubm90YXRpb25zLnRzPzg2MWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBRUEsSUFBWSxlQVdYO0FBWEQsV0FBWSxlQUFlO0lBQ3ZCLCtEQUFhO0lBQ2IsZ0NBQWdDO0lBQ2hDLDREQUFZO0lBQ1osc0RBQVM7SUFDVCxrRUFBZTtJQUNmLDJDQUEyQztJQUMzQyxzREFBUztJQUNULHdEQUFVO0lBQ1Ysc0RBQVM7SUFDVCw4REFBYTtBQUNqQixDQUFDLEVBWFcsZUFBZSxHQUFmLHVCQUFlLEtBQWYsdUJBQWUsUUFXMUIiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1Z2xvb3AvdHlwZXMtY29yZS9kaXN0L3NyYy9hbm5vdGF0aW9ucy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElTY2hlbWFPYmplY3QgfSBmcm9tICcuL3NjaGVtYS1vYmplY3QnO1xyXG5cclxuZXhwb3J0IGVudW0gQW5ub3RhdGlvblN0YXRlIHtcclxuICAgIFVuZGVmaW5lZCA9IDAsXHJcbiAgICAvL29ubHkgZGVhbHQgd2l0aCBvbiBzZXJ2ZXIgc2lkZVxyXG4gICAgQ3JlYXRlZCA9IDEwLFxyXG4gICAgU2VudCA9IDIwLFxyXG4gICAgRHVwbGljYXRlZCA9IDMwLCAvL29ubHkgdG8gYmUgdXNlZCBmb3IgbG9ncyAtLSBhbm5vdGF0aW9uIHNob3VsZCBuZXZlciBiZSBhc3NpZ25lZCB0aGlzIHN0YXRlXHJcbiAgICAvL2RlYWx0IHdpdGggb24gY2xpZW50IHNpZGUgYW5kIHNlcnZlciBzaWRlXHJcbiAgICBTZWVuID0gNDAsXHJcbiAgICBUcmllZCA9IDUwLFxyXG4gICAgS2VwdCA9IDYwLFxyXG4gICAgUmVqZWN0ZWQgPSA3MFxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEFubm90YXRpb25NZXRhRGF0YSB7XHJcbiAgICBzdGF0ZT86IEFubm90YXRpb25TdGF0ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEJhc2UgY2xhc3MgZm9yIGFsbCBhbm5vdGF0aW9ucy4gTWF5IGhhdmUgb3RoZXIgYW5ub3RhdGlvbnMgYXMgY2hpbGRyZW4uXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIElBbm5vdGF0aW9uIGV4dGVuZHMgSVNjaGVtYU9iamVjdCB7XHJcbiAgICAvKipcclxuICAgICAqIFVuaXF1ZSBJRCBvZiB0aGlzIGFubm90YXRpb24uIE11c3Qgbm90IGJlIHJlLXVzZWQgZm9yIGFuIGFubm90YXRpb24gb24gYVxyXG4gICAgICogZGlmZmVyZW50IHBhcmVudCAoc2ltaWxhcmx5LCBhbm5vdGF0aW9ucyBtYXkgYmUgdXBkYXRlZCBvciBkZWxldGVkLCBidXRcclxuICAgICAqIG1heSBub3QgYmUgbW92ZWQgdG8gYSBkaWZmZXJlbnQgcGFyZW50KS4gSWYgdGhpcyBpcyBub3Qgc2V0IGJ5IHRoZSB3b3JrZmxvd1xyXG4gICAgICogdGhhdCBwcm9kdWNlZCB0aGUgYW5ub3RhdGlvbiwgaXQgd2lsbCBiZSBzZXQgdG8gYSByYW5kb20gR1VJRCBieSB0aGVcclxuICAgICAqIHJ1bnRpbWUuIElmIGEgd29ya2Zsb3cgcHJvZHVjZXMgYW4gYW5ub3RhdGlvbiBpZGVudGljYWwgdG8gYW4gZXhpc3RpbmdcclxuICAgICAqIGFubm90YXRpb24gdGhhdCBkaWZmZXJzIG9ubHkgYnkgSUQsIHRoZSBuZXdlciBhbm5vdGF0aW9uIHdpbGwgYmUgZGlzY2FyZGVkXHJcbiAgICAgKiBhbmQgbm8gdXBkYXRlIHdpbGwgYmUgc2VudCB0byB0aGUgY2xpZW50LlxyXG4gICAgICovXHJcbiAgICBpZD86IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBJRCBvZiB0aGUgb3duZXIgb2YgdGhlIGFubm90YXRpb24gKGkuZS4gdGhlIHNlcnZpY2Ugb3IgdGhlIGVuZ2luZSB0aGF0XHJcbiAgICAgKiBwcm9kdWNlZCB0aGUgYW5ub3RhdGlvbilcclxuICAgICAqL1xyXG4gICAgb3duZXJJZD86IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0YWJsZSBidXQgbm90IG5lY2Vzc2FyaWx5IHVuaXF1ZSBpZGVudGlmaWVyIHJlcHJlc2VudGluZyB0aGUgcmFuZ2Ugb2YgY29udGVudCBjb3ZlcmVkXHJcbiAgICAgKiBieSB0aGlzIGFubm90YXRpb24uIFRoZSBtZXRob2QgYnkgd2hpY2ggdGhpcyBpcyBnZW5lcmF0ZWQgaXMgdW5zcGVjaWZpZWRcclxuICAgICAqIGFuZCB3aWxsIHNvbWV0aW1lcyB2YXJ5IGFjcm9zcyBkaWZmZXJlbnQgdHlwZXMgb2YgYW5ub3RhdGlvbnMsIGJ1dCBpdFxyXG4gICAgICogc2hvdWxkIGdlbmVyYWxseSBiZSB0aG91Z2h0IG9mIGFzIGEgaGFzaCBvdmVyIGFsbCB0aGUgY29udGVudCB3aXRoaW4gdGhlXHJcbiAgICAgKiBcImludmFsaWRhdGlvbiByYW5nZVwiIG9mIHRoZSBhbm5vdGF0aW9uICh0aGF0IGlzLCB0aGUgcGFydHMgb2YgdGhlIHVzZXIgY29udGVudFxyXG4gICAgICogaW4gd2hpY2ggYW55IGVkaXQgd2lsbCByZW5kZXIgdGhlIGFubm90YXRpb24gc3RhbGUsIHBvc3NpYmx5IGluY2x1ZGluZyBmb3JtYXR0aW5nXHJcbiAgICAgKiBhbmQgb3RoZXIgbWV0YWRhdGEgaW4gYWRkaXRpb24gdG8gYmFzaWMgY29udGVudCBzdWNoIGFzIHRleHQpLlxyXG4gICAgICpcclxuICAgICAqIFRoZXNlIG1heSBiZSBzaGFyZWQgYnkgbXVsdGlwbGUgYW5ub3RhdGlvbnMgY292ZXJpbmcgZXhhY3RseSB0aGUgc2FtZSBjb250ZW50LlxyXG4gICAgICogUmFuZG9tIGNvbGxpc2lvbnMgYmV0d2VlbiBkaWZmZXJlbnQgcmVnaW9ucyBtdXN0IGJlIGF2b2lkZWQuIFRoaXMgaGFzaCBzaG91bGRcclxuICAgICAqIGhhdmUgYSBtaW5pbXVtIG9mIDggYnl0ZXMgb2YgZW50cm9weS5cclxuICAgICAqXHJcbiAgICAgKiBUaGlzIGlzIHVzZWQgYnkgT2ZmaWNlIGNsaWVudHMgdG8gaW1wbGVtZW50IHBlcnNpc3RlbmNlIGZlYXR1cmVzLiBJZiBsZWZ0XHJcbiAgICAgKiB1bnNldCwgc29tZSBmZWF0dXJlcyBtYXkgYmUgdHVybmVkIG9mZiBmb3IgdGhpcyBhbm5vdGF0aW9uLlxyXG4gICAgICovXHJcbiAgICBpbnZhbGlkYXRpb25IYXNoPzogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5mb3JtYXRpb24gYWJvdXQgaG93IHRoZSB1c2VyIGhhcyBpbnRlcmFjdGVkIHdpdGggdGhlIGFubm90YXRpb25cclxuICAgICAqIChzZW50LCBzZWVuLCB0cmllZCwga2VwdClcclxuICAgICAqIEBjcHBuYW1lIE1ldGFkYXRhXHJcbiAgICAgKi9cclxuICAgIE1fPzogQW5ub3RhdGlvbk1ldGFEYXRhO1xyXG59XHJcblxyXG4vKipcclxuICogUmVwcmVzZW50cyBhIHNpbXBsZSB0cnVlL2ZhbHNlIGNsYXNzaWZpY2F0aW9uIGFubm90YXRpb24uXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIElCaW5hcnlDbGFzc2lmaWNhdGlvbkFubm90YXRpb24gZXh0ZW5kcyBJQW5ub3RhdGlvbiB7XHJcbiAgICAvKipcclxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBjbGFzc2lmaWNhdGlvblxyXG4gICAgICovXHJcbiAgICByZWFkb25seSBuYW1lOiBzdHJpbmc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgdmFsdWUgb2YgdGhlIGNsYXNzaWZpY2F0aW9uXHJcbiAgICAgKi9cclxuICAgIHJlYWRvbmx5IHZhbHVlOiBib29sZWFuO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@augloop/types-core/dist/src/annotations.js\n')},"./node_modules/@augloop/types-core/dist/src/generated/annotations.g.js":function(module,exports,__webpack_require__){"use strict";eval("\r\n// ------------------------------------------------------------------------------\r\n// <auto-generated>\r\n// This code was generated by the @augloop/code-gen tool.\r\n// Source: https://office.visualstudio.com/GSX/_git/AugmentationLoop?path=%2Fmodules%2Ftypes-core%2Fsrc%2Fannotations.ts\r\n// Changes to this file may cause incorrect behavior and will be lost upon regeneration.\r\n// </auto-generated>\r\n// ------------------------------------------------------------------------------\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BinaryClassificationAnnotation = exports.Annotation = void 0;\r\nvar schema_object_g_1 = __webpack_require__(/*! ./schema-object.g */ \"./node_modules/@augloop/types-core/dist/src/generated/schema-object.g.js\");\r\nvar Annotation = /** @class */ (function () {\r\n    function Annotation(obj) {\r\n        schema_object_g_1.SchemaObject.assign(Annotation, this, obj);\r\n    }\r\n    Annotation.getTypeName = function () {\r\n        return 'AugLoop_Core_Annotation';\r\n    };\r\n    Annotation.getBaseTypes = function () {\r\n        return [];\r\n    };\r\n    Annotation.H_ = { T_: Annotation.getTypeName(), B_: Annotation.getBaseTypes() };\r\n    return Annotation;\r\n}());\r\nexports.Annotation = Annotation;\r\nvar BinaryClassificationAnnotation = /** @class */ (function () {\r\n    function BinaryClassificationAnnotation(obj) {\r\n        schema_object_g_1.SchemaObject.assign(BinaryClassificationAnnotation, this, obj);\r\n    }\r\n    BinaryClassificationAnnotation.getTypeName = function () {\r\n        return 'AugLoop_Core_BinaryClassificationAnnotation';\r\n    };\r\n    BinaryClassificationAnnotation.getBaseTypes = function () {\r\n        return ['AugLoop_Core_Annotation'];\r\n    };\r\n    BinaryClassificationAnnotation.H_ = { T_: BinaryClassificationAnnotation.getTypeName(), B_: BinaryClassificationAnnotation.getBaseTypes() };\r\n    return BinaryClassificationAnnotation;\r\n}());\r\nexports.BinaryClassificationAnnotation = BinaryClassificationAnnotation;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vLi4vc3JjL2dlbmVyYXRlZC9hbm5vdGF0aW9ucy5nLnRzP2Q0MTgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLGlGQUFpRjtBQUNqRixtQkFBbUI7QUFDbkIseURBQXlEO0FBQ3pELHdIQUF3SDtBQUN4SCx3RkFBd0Y7QUFDeEYsb0JBQW9CO0FBQ3BCLGlGQUFpRjs7O0FBSWpGLGlKQUFpRDtBQUVqRDtJQU1JLG9CQUFtQixHQUFpQjtRQUNoQyw4QkFBWSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQy9DLENBQUM7SUFDYSxzQkFBVyxHQUF6QjtRQUNJLE9BQU8seUJBQXlCLENBQUM7SUFDckMsQ0FBQztJQUNhLHVCQUFZLEdBQTFCO1FBQ0ksT0FBTyxFQUFFLENBQUM7SUFDZCxDQUFDO0lBQ3NCLGFBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxVQUFVLENBQUMsV0FBVyxFQUFFLEVBQUUsRUFBRSxFQUFFLFVBQVUsQ0FBQyxZQUFZLEVBQUUsRUFBRSxDQUFDO0lBQ2hHLGlCQUFDO0NBQUE7QUFoQlksZ0NBQVU7QUFrQnZCO0lBUUksd0NBQW1CLEdBQXFDO1FBQ3BELDhCQUFZLENBQUMsTUFBTSxDQUFDLDhCQUE4QixFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNuRSxDQUFDO0lBQ2EsMENBQVcsR0FBekI7UUFDSSxPQUFPLDZDQUE2QyxDQUFDO0lBQ3pELENBQUM7SUFDYSwyQ0FBWSxHQUExQjtRQUNJLE9BQU8sQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUFDc0IsaUNBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSw4QkFBOEIsQ0FBQyxXQUFXLEVBQUUsRUFBRSxFQUFFLEVBQUUsOEJBQThCLENBQUMsWUFBWSxFQUFFLEVBQUUsQ0FBQztJQUN4SSxxQ0FBQztDQUFBO0FBbEJZLHdFQUE4QiIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9AYXVnbG9vcC90eXBlcy1jb3JlL2Rpc3Qvc3JjL2dlbmVyYXRlZC9hbm5vdGF0aW9ucy5nLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIDxhdXRvLWdlbmVyYXRlZD5cclxuLy8gVGhpcyBjb2RlIHdhcyBnZW5lcmF0ZWQgYnkgdGhlIEBhdWdsb29wL2NvZGUtZ2VuIHRvb2wuXHJcbi8vIFNvdXJjZTogaHR0cHM6Ly9vZmZpY2UudmlzdWFsc3R1ZGlvLmNvbS9HU1gvX2dpdC9BdWdtZW50YXRpb25Mb29wP3BhdGg9JTJGbW9kdWxlcyUyRnR5cGVzLWNvcmUlMkZzcmMlMkZhbm5vdGF0aW9ucy50c1xyXG4vLyBDaGFuZ2VzIHRvIHRoaXMgZmlsZSBtYXkgY2F1c2UgaW5jb3JyZWN0IGJlaGF2aW9yIGFuZCB3aWxsIGJlIGxvc3QgdXBvbiByZWdlbmVyYXRpb24uXHJcbi8vIDwvYXV0by1nZW5lcmF0ZWQ+XHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuaW1wb3J0IHsgQW5ub3RhdGlvbk1ldGFEYXRhLCBJQW5ub3RhdGlvbiwgSUJpbmFyeUNsYXNzaWZpY2F0aW9uQW5ub3RhdGlvbiB9IGZyb20gJy4uL2Fubm90YXRpb25zJztcclxuaW1wb3J0IHsgU2NoZW1hT2JqZWN0SGVhZGVyIH0gZnJvbSAnLi4vc2NoZW1hLW9iamVjdCc7XHJcbmltcG9ydCB7IFNjaGVtYU9iamVjdCB9IGZyb20gJy4vc2NoZW1hLW9iamVjdC5nJztcclxuXHJcbmV4cG9ydCBjbGFzcyBBbm5vdGF0aW9uIGltcGxlbWVudHMgSUFubm90YXRpb24ge1xyXG4gICAgcHVibGljIGlkPzogc3RyaW5nO1xyXG4gICAgcHVibGljIG93bmVySWQ/OiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgaW52YWxpZGF0aW9uSGFzaD86IHN0cmluZztcclxuICAgIHB1YmxpYyBNXz86IEFubm90YXRpb25NZXRhRGF0YTtcclxuICAgIHB1YmxpYyByZWFkb25seSBIXzogU2NoZW1hT2JqZWN0SGVhZGVyO1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG9iaj86IElBbm5vdGF0aW9uKSB7XHJcbiAgICAgICAgU2NoZW1hT2JqZWN0LmFzc2lnbihBbm5vdGF0aW9uLCB0aGlzLCBvYmopO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRUeXBlTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnQXVnTG9vcF9Db3JlX0Fubm90YXRpb24nO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRCYXNlVHlwZXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSF8gPSB7IFRfOiBBbm5vdGF0aW9uLmdldFR5cGVOYW1lKCksIEJfOiBBbm5vdGF0aW9uLmdldEJhc2VUeXBlcygpIH07XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBCaW5hcnlDbGFzc2lmaWNhdGlvbkFubm90YXRpb24gaW1wbGVtZW50cyBJQmluYXJ5Q2xhc3NpZmljYXRpb25Bbm5vdGF0aW9uIHtcclxuICAgIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmFsdWU6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgaWQ/OiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgb3duZXJJZD86IHN0cmluZztcclxuICAgIHB1YmxpYyBpbnZhbGlkYXRpb25IYXNoPzogc3RyaW5nO1xyXG4gICAgcHVibGljIE1fPzogQW5ub3RhdGlvbk1ldGFEYXRhO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IEhfOiBTY2hlbWFPYmplY3RIZWFkZXI7XHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Iob2JqPzogSUJpbmFyeUNsYXNzaWZpY2F0aW9uQW5ub3RhdGlvbikge1xyXG4gICAgICAgIFNjaGVtYU9iamVjdC5hc3NpZ24oQmluYXJ5Q2xhc3NpZmljYXRpb25Bbm5vdGF0aW9uLCB0aGlzLCBvYmopO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRUeXBlTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnQXVnTG9vcF9Db3JlX0JpbmFyeUNsYXNzaWZpY2F0aW9uQW5ub3RhdGlvbic7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEJhc2VUeXBlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFsnQXVnTG9vcF9Db3JlX0Fubm90YXRpb24nXTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSF8gPSB7IFRfOiBCaW5hcnlDbGFzc2lmaWNhdGlvbkFubm90YXRpb24uZ2V0VHlwZU5hbWUoKSwgQl86IEJpbmFyeUNsYXNzaWZpY2F0aW9uQW5ub3RhdGlvbi5nZXRCYXNlVHlwZXMoKSB9O1xyXG59XHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@augloop/types-core/dist/src/generated/annotations.g.js\n")},"./node_modules/@augloop/types-core/dist/src/generated/operations.g.js":function(module,exports,__webpack_require__){"use strict";eval("\r\n// ------------------------------------------------------------------------------\r\n// <auto-generated>\r\n// This code was generated by the @augloop/code-gen tool.\r\n// Source: https://office.visualstudio.com/GSX/_git/AugmentationLoop?path=%2Fmodules%2Ftypes-core%2Fsrc%2Foperations.ts\r\n// Changes to this file may cause incorrect behavior and will be lost upon regeneration.\r\n// </auto-generated>\r\n// ------------------------------------------------------------------------------\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SignalOperation = exports.MicroSyncOperation = exports.DeltaUpdateOperation = exports.VisibilityOperation = exports.FocusOperation = exports.PurgeOperation = exports.DeleteOperation = exports.UpdateOperation = exports.UpdateAnnotationMetaDataOperation = exports.MoveOperation = exports.AddOperation = exports.OperationWithSiblingContext = exports.Operation = exports.ItemDelta = void 0;\r\nvar schema_object_g_1 = __webpack_require__(/*! ./schema-object.g */ \"./node_modules/@augloop/types-core/dist/src/generated/schema-object.g.js\");\r\nvar ItemDelta = /** @class */ (function () {\r\n    function ItemDelta(obj) {\r\n        schema_object_g_1.SchemaObject.assign(ItemDelta, this, obj);\r\n    }\r\n    ItemDelta.getTypeName = function () {\r\n        return 'AugLoop_Core_ItemDelta';\r\n    };\r\n    ItemDelta.getBaseTypes = function () {\r\n        return [];\r\n    };\r\n    ItemDelta.H_ = { T_: ItemDelta.getTypeName(), B_: ItemDelta.getBaseTypes() };\r\n    return ItemDelta;\r\n}());\r\nexports.ItemDelta = ItemDelta;\r\nvar Operation = /** @class */ (function () {\r\n    function Operation(obj) {\r\n        schema_object_g_1.SchemaObject.assign(Operation, this, obj);\r\n    }\r\n    Operation.getTypeName = function () {\r\n        return 'AugLoop_Core_Operation';\r\n    };\r\n    Operation.getBaseTypes = function () {\r\n        return [];\r\n    };\r\n    Operation.H_ = { T_: Operation.getTypeName(), B_: Operation.getBaseTypes() };\r\n    return Operation;\r\n}());\r\nexports.Operation = Operation;\r\nvar OperationWithSiblingContext = /** @class */ (function () {\r\n    function OperationWithSiblingContext(obj) {\r\n        schema_object_g_1.SchemaObject.assign(OperationWithSiblingContext, this, obj);\r\n    }\r\n    OperationWithSiblingContext.getTypeName = function () {\r\n        return 'AugLoop_Core_OperationWithSiblingContext';\r\n    };\r\n    OperationWithSiblingContext.getBaseTypes = function () {\r\n        return ['AugLoop_Core_Operation'];\r\n    };\r\n    OperationWithSiblingContext.H_ = { T_: OperationWithSiblingContext.getTypeName(), B_: OperationWithSiblingContext.getBaseTypes() };\r\n    return OperationWithSiblingContext;\r\n}());\r\nexports.OperationWithSiblingContext = OperationWithSiblingContext;\r\nvar AddOperation = /** @class */ (function () {\r\n    function AddOperation(obj) {\r\n        schema_object_g_1.SchemaObject.assign(AddOperation, this, obj);\r\n    }\r\n    AddOperation.getTypeName = function () {\r\n        return 'AugLoop_Core_AddOperation';\r\n    };\r\n    AddOperation.getBaseTypes = function () {\r\n        return ['AugLoop_Core_OperationWithSiblingContext', 'AugLoop_Core_Operation'];\r\n    };\r\n    AddOperation.H_ = { T_: AddOperation.getTypeName(), B_: AddOperation.getBaseTypes() };\r\n    return AddOperation;\r\n}());\r\nexports.AddOperation = AddOperation;\r\nvar MoveOperation = /** @class */ (function () {\r\n    function MoveOperation(obj) {\r\n        schema_object_g_1.SchemaObject.assign(MoveOperation, this, obj);\r\n    }\r\n    MoveOperation.getTypeName = function () {\r\n        return 'AugLoop_Core_MoveOperation';\r\n    };\r\n    MoveOperation.getBaseTypes = function () {\r\n        return ['AugLoop_Core_OperationWithSiblingContext', 'AugLoop_Core_Operation'];\r\n    };\r\n    MoveOperation.H_ = { T_: MoveOperation.getTypeName(), B_: MoveOperation.getBaseTypes() };\r\n    return MoveOperation;\r\n}());\r\nexports.MoveOperation = MoveOperation;\r\nvar UpdateAnnotationMetaDataOperation = /** @class */ (function () {\r\n    function UpdateAnnotationMetaDataOperation(obj) {\r\n        schema_object_g_1.SchemaObject.assign(UpdateAnnotationMetaDataOperation, this, obj);\r\n    }\r\n    UpdateAnnotationMetaDataOperation.getTypeName = function () {\r\n        return 'AugLoop_Core_UpdateAnnotationMetaDataOperation';\r\n    };\r\n    UpdateAnnotationMetaDataOperation.getBaseTypes = function () {\r\n        return ['AugLoop_Core_Operation'];\r\n    };\r\n    UpdateAnnotationMetaDataOperation.H_ = { T_: UpdateAnnotationMetaDataOperation.getTypeName(), B_: UpdateAnnotationMetaDataOperation.getBaseTypes() };\r\n    return UpdateAnnotationMetaDataOperation;\r\n}());\r\nexports.UpdateAnnotationMetaDataOperation = UpdateAnnotationMetaDataOperation;\r\nvar UpdateOperation = /** @class */ (function () {\r\n    function UpdateOperation(obj) {\r\n        schema_object_g_1.SchemaObject.assign(UpdateOperation, this, obj);\r\n    }\r\n    UpdateOperation.getTypeName = function () {\r\n        return 'AugLoop_Core_UpdateOperation';\r\n    };\r\n    UpdateOperation.getBaseTypes = function () {\r\n        return ['AugLoop_Core_Operation'];\r\n    };\r\n    UpdateOperation.H_ = { T_: UpdateOperation.getTypeName(), B_: UpdateOperation.getBaseTypes() };\r\n    return UpdateOperation;\r\n}());\r\nexports.UpdateOperation = UpdateOperation;\r\nvar DeleteOperation = /** @class */ (function () {\r\n    function DeleteOperation(obj) {\r\n        schema_object_g_1.SchemaObject.assign(DeleteOperation, this, obj);\r\n    }\r\n    DeleteOperation.getTypeName = function () {\r\n        return 'AugLoop_Core_DeleteOperation';\r\n    };\r\n    DeleteOperation.getBaseTypes = function () {\r\n        return ['AugLoop_Core_Operation'];\r\n    };\r\n    DeleteOperation.H_ = { T_: DeleteOperation.getTypeName(), B_: DeleteOperation.getBaseTypes() };\r\n    return DeleteOperation;\r\n}());\r\nexports.DeleteOperation = DeleteOperation;\r\nvar PurgeOperation = /** @class */ (function () {\r\n    function PurgeOperation(obj) {\r\n        schema_object_g_1.SchemaObject.assign(PurgeOperation, this, obj);\r\n    }\r\n    PurgeOperation.getTypeName = function () {\r\n        return 'AugLoop_Core_PurgeOperation';\r\n    };\r\n    PurgeOperation.getBaseTypes = function () {\r\n        return ['AugLoop_Core_Operation'];\r\n    };\r\n    PurgeOperation.H_ = { T_: PurgeOperation.getTypeName(), B_: PurgeOperation.getBaseTypes() };\r\n    return PurgeOperation;\r\n}());\r\nexports.PurgeOperation = PurgeOperation;\r\nvar FocusOperation = /** @class */ (function () {\r\n    function FocusOperation(obj) {\r\n        schema_object_g_1.SchemaObject.assign(FocusOperation, this, obj);\r\n    }\r\n    FocusOperation.getTypeName = function () {\r\n        return 'AugLoop_Core_FocusOperation';\r\n    };\r\n    FocusOperation.getBaseTypes = function () {\r\n        return ['AugLoop_Core_Operation'];\r\n    };\r\n    FocusOperation.H_ = { T_: FocusOperation.getTypeName(), B_: FocusOperation.getBaseTypes() };\r\n    return FocusOperation;\r\n}());\r\nexports.FocusOperation = FocusOperation;\r\nvar VisibilityOperation = /** @class */ (function () {\r\n    function VisibilityOperation(obj) {\r\n        schema_object_g_1.SchemaObject.assign(VisibilityOperation, this, obj);\r\n    }\r\n    VisibilityOperation.getTypeName = function () {\r\n        return 'AugLoop_Core_VisibilityOperation';\r\n    };\r\n    VisibilityOperation.getBaseTypes = function () {\r\n        return ['AugLoop_Core_Operation'];\r\n    };\r\n    VisibilityOperation.H_ = { T_: VisibilityOperation.getTypeName(), B_: VisibilityOperation.getBaseTypes() };\r\n    return VisibilityOperation;\r\n}());\r\nexports.VisibilityOperation = VisibilityOperation;\r\nvar DeltaUpdateOperation = /** @class */ (function () {\r\n    function DeltaUpdateOperation(obj) {\r\n        schema_object_g_1.SchemaObject.assign(DeltaUpdateOperation, this, obj);\r\n    }\r\n    DeltaUpdateOperation.getTypeName = function () {\r\n        return 'AugLoop_Core_DeltaUpdateOperation';\r\n    };\r\n    DeltaUpdateOperation.getBaseTypes = function () {\r\n        return ['AugLoop_Core_Operation'];\r\n    };\r\n    DeltaUpdateOperation.H_ = { T_: DeltaUpdateOperation.getTypeName(), B_: DeltaUpdateOperation.getBaseTypes() };\r\n    return DeltaUpdateOperation;\r\n}());\r\nexports.DeltaUpdateOperation = DeltaUpdateOperation;\r\nvar MicroSyncOperation = /** @class */ (function () {\r\n    function MicroSyncOperation(obj) {\r\n        schema_object_g_1.SchemaObject.assign(MicroSyncOperation, this, obj);\r\n    }\r\n    MicroSyncOperation.getTypeName = function () {\r\n        return 'AugLoop_Core_MicroSyncOperation';\r\n    };\r\n    MicroSyncOperation.getBaseTypes = function () {\r\n        return ['AugLoop_Core_Operation'];\r\n    };\r\n    MicroSyncOperation.H_ = { T_: MicroSyncOperation.getTypeName(), B_: MicroSyncOperation.getBaseTypes() };\r\n    return MicroSyncOperation;\r\n}());\r\nexports.MicroSyncOperation = MicroSyncOperation;\r\nvar SignalOperation = /** @class */ (function () {\r\n    function SignalOperation(obj) {\r\n        schema_object_g_1.SchemaObject.assign(SignalOperation, this, obj);\r\n    }\r\n    SignalOperation.getTypeName = function () {\r\n        return 'AugLoop_Signals_SignalOperation';\r\n    };\r\n    SignalOperation.getBaseTypes = function () {\r\n        return ['AugLoop_Core_Operation'];\r\n    };\r\n    SignalOperation.H_ = { T_: SignalOperation.getTypeName(), B_: SignalOperation.getBaseTypes() };\r\n    return SignalOperation;\r\n}());\r\nexports.SignalOperation = SignalOperation;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vLi4vc3JjL2dlbmVyYXRlZC9vcGVyYXRpb25zLmcudHM/MDJjYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsaUZBQWlGO0FBQ2pGLG1CQUFtQjtBQUNuQix5REFBeUQ7QUFDekQsdUhBQXVIO0FBQ3ZILHdGQUF3RjtBQUN4RixvQkFBb0I7QUFDcEIsaUZBQWlGOzs7QUFJakYsaUpBQWlEO0FBR2pEO0lBRUksbUJBQW1CLEdBQWdCO1FBQy9CLDhCQUFZLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDOUMsQ0FBQztJQUNhLHFCQUFXLEdBQXpCO1FBQ0ksT0FBTyx3QkFBd0IsQ0FBQztJQUNwQyxDQUFDO0lBQ2Esc0JBQVksR0FBMUI7UUFDSSxPQUFPLEVBQUUsQ0FBQztJQUNkLENBQUM7SUFDc0IsWUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLFNBQVMsQ0FBQyxXQUFXLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxDQUFDLFlBQVksRUFBRSxFQUFFLENBQUM7SUFDOUYsZ0JBQUM7Q0FBQTtBQVpZLDhCQUFTO0FBY3RCO0lBS0ksbUJBQW1CLEdBQWdCO1FBQy9CLDhCQUFZLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDOUMsQ0FBQztJQUNhLHFCQUFXLEdBQXpCO1FBQ0ksT0FBTyx3QkFBd0IsQ0FBQztJQUNwQyxDQUFDO0lBQ2Esc0JBQVksR0FBMUI7UUFDSSxPQUFPLEVBQUUsQ0FBQztJQUNkLENBQUM7SUFDc0IsWUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLFNBQVMsQ0FBQyxXQUFXLEVBQUUsRUFBRSxFQUFFLEVBQUUsU0FBUyxDQUFDLFlBQVksRUFBRSxFQUFFLENBQUM7SUFDOUYsZ0JBQUM7Q0FBQTtBQWZZLDhCQUFTO0FBaUJ0QjtJQU9JLHFDQUFtQixHQUFrQztRQUNqRCw4QkFBWSxDQUFDLE1BQU0sQ0FBQywy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QUUsRUFBRSxFQUFFLGtCQUFrQixDQUFDLFlBQVksRUFBRSxFQUFFLENBQUM7SUFDaEgseUJBQUM7Q0FBQTtBQWpCWSxnREFBa0I7QUFtQi9CO0lBS0kseUJBQW1CLEdBQXNCO1FBQ3JDLDhCQUFZLENBQUMsTUFBTSxDQUFDLGVBQWUsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDcEQsQ0FBQztJQUNhLDJCQUFXLEdBQXpCO1FBQ0ksT0FBTyxpQ0FBaUMsQ0FBQztJQUM3QyxDQUFDO0lBQ2EsNEJBQVksR0FBMUI7UUFDSSxPQUFPLENBQUMsd0JBQXdCLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBQ3NCLGtCQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsZUFBZSxDQUFDLFdBQVcsRUFBRSxFQUFFLEVBQUUsRUFBRSxlQUFlLENBQUMsWUFBWSxFQUFFLEVBQUUsQ0FBQztJQUMxRyxzQkFBQztDQUFBO0FBZlksMENBQWUiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1Z2xvb3AvdHlwZXMtY29yZS9kaXN0L3NyYy9nZW5lcmF0ZWQvb3BlcmF0aW9ucy5nLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIDxhdXRvLWdlbmVyYXRlZD5cclxuLy8gVGhpcyBjb2RlIHdhcyBnZW5lcmF0ZWQgYnkgdGhlIEBhdWdsb29wL2NvZGUtZ2VuIHRvb2wuXHJcbi8vIFNvdXJjZTogaHR0cHM6Ly9vZmZpY2UudmlzdWFsc3R1ZGlvLmNvbS9HU1gvX2dpdC9BdWdtZW50YXRpb25Mb29wP3BhdGg9JTJGbW9kdWxlcyUyRnR5cGVzLWNvcmUlMkZzcmMlMkZvcGVyYXRpb25zLnRzXHJcbi8vIENoYW5nZXMgdG8gdGhpcyBmaWxlIG1heSBjYXVzZSBpbmNvcnJlY3QgYmVoYXZpb3IgYW5kIHdpbGwgYmUgbG9zdCB1cG9uIHJlZ2VuZXJhdGlvbi5cclxuLy8gPC9hdXRvLWdlbmVyYXRlZD5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5pbXBvcnQgeyBJQWRkT3BlcmF0aW9uLCBJRGVsZXRlT3BlcmF0aW9uLCBJRGVsdGFVcGRhdGVPcGVyYXRpb24sIElGb2N1c09wZXJhdGlvbiwgSUl0ZW1EZWx0YSwgSU1pY3JvU3luY09wZXJhdGlvbiwgSU1vdmVPcGVyYXRpb24sIElPcGVyYXRpb24sIElPcGVyYXRpb25XaXRoU2libGluZ0NvbnRleHQsIElQdXJnZU9wZXJhdGlvbiwgSVNpZ25hbE9wZXJhdGlvbiwgSVVwZGF0ZUFubm90YXRpb25NZXRhRGF0YU9wZXJhdGlvbiwgSVVwZGF0ZU9wZXJhdGlvbiwgSVZpc2liaWxpdHlPcGVyYXRpb24sIEl0ZW0sIEl0ZW1QYXRoIH0gZnJvbSAnLi4vb3BlcmF0aW9ucyc7XHJcbmltcG9ydCB7IFNjaGVtYU9iamVjdEhlYWRlciB9IGZyb20gJy4uL3NjaGVtYS1vYmplY3QnO1xyXG5pbXBvcnQgeyBTY2hlbWFPYmplY3QgfSBmcm9tICcuL3NjaGVtYS1vYmplY3QuZyc7XHJcbmltcG9ydCB7IEFubm90YXRpb25NZXRhRGF0YSB9IGZyb20gJy4uL2Fubm90YXRpb25zJztcclxuXHJcbmV4cG9ydCBjbGFzcyBJdGVtRGVsdGEgaW1wbGVtZW50cyBJSXRlbURlbHRhIHtcclxuICAgIHB1YmxpYyByZWFkb25seSBIXzogU2NoZW1hT2JqZWN0SGVhZGVyO1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG9iaj86IElJdGVtRGVsdGEpIHtcclxuICAgICAgICBTY2hlbWFPYmplY3QuYXNzaWduKEl0ZW1EZWx0YSwgdGhpcywgb2JqKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0VHlwZU5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ0F1Z0xvb3BfQ29yZV9JdGVtRGVsdGEnO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRCYXNlVHlwZXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSF8gPSB7IFRfOiBJdGVtRGVsdGEuZ2V0VHlwZU5hbWUoKSwgQl86IEl0ZW1EZWx0YS5nZXRCYXNlVHlwZXMoKSB9O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgT3BlcmF0aW9uIGltcGxlbWVudHMgSU9wZXJhdGlvbiB7XHJcbiAgICBwdWJsaWMgcGFyZW50UGF0aDogSXRlbVBhdGg7XHJcbiAgICBwdWJsaWMgcGFyZW50UmV2SWQ/OiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgaXRlbXM6IEl0ZW1bXTtcclxuICAgIHB1YmxpYyByZWFkb25seSBIXzogU2NoZW1hT2JqZWN0SGVhZGVyO1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG9iaj86IElPcGVyYXRpb24pIHtcclxuICAgICAgICBTY2hlbWFPYmplY3QuYXNzaWduKE9wZXJhdGlvbiwgdGhpcywgb2JqKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0VHlwZU5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ0F1Z0xvb3BfQ29yZV9PcGVyYXRpb24nO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRCYXNlVHlwZXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSF8gPSB7IFRfOiBPcGVyYXRpb24uZ2V0VHlwZU5hbWUoKSwgQl86IE9wZXJhdGlvbi5nZXRCYXNlVHlwZXMoKSB9O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgT3BlcmF0aW9uV2l0aFNpYmxpbmdDb250ZXh0IGltcGxlbWVudHMgSU9wZXJhdGlvbldpdGhTaWJsaW5nQ29udGV4dCB7XHJcbiAgICBwdWJsaWMgcHJldklkPzogc3RyaW5nO1xyXG4gICAgcHVibGljIG5leHRJZD86IHN0cmluZztcclxuICAgIHB1YmxpYyBwYXJlbnRQYXRoOiBJdGVtUGF0aDtcclxuICAgIHB1YmxpYyBwYXJlbnRSZXZJZD86IHN0cmluZztcclxuICAgIHB1YmxpYyBpdGVtczogSXRlbVtdO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IEhfOiBTY2hlbWFPYmplY3RIZWFkZXI7XHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Iob2JqPzogSU9wZXJhdGlvbldpdGhTaWJsaW5nQ29udGV4dCkge1xyXG4gICAgICAgIFNjaGVtYU9iamVjdC5hc3NpZ24oT3BlcmF0aW9uV2l0aFNpYmxpbmdDb250ZXh0LCB0aGlzLCBvYmopO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRUeXBlTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnQXVnTG9vcF9Db3JlX09wZXJhdGlvbldpdGhTaWJsaW5nQ29udGV4dCc7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEJhc2VUeXBlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFsnQXVnTG9vcF9Db3JlX09wZXJhdGlvbiddO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBIXyA9IHsgVF86IE9wZXJhdGlvbldpdGhTaWJsaW5nQ29udGV4dC5nZXRUeXBlTmFtZSgpLCBCXzogT3BlcmF0aW9uV2l0aFNpYmxpbmdDb250ZXh0LmdldEJhc2VUeXBlcygpIH07XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBZGRPcGVyYXRpb24gaW1wbGVtZW50cyBJQWRkT3BlcmF0aW9uIHtcclxuICAgIHB1YmxpYyBwcmV2SWQ/OiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgbmV4dElkPzogc3RyaW5nO1xyXG4gICAgcHVibGljIHBhcmVudFBhdGg6IEl0ZW1QYXRoO1xyXG4gICAgcHVibGljIHBhcmVudFJldklkPzogc3RyaW5nO1xyXG4gICAgcHVibGljIGl0ZW1zOiBJdGVtW107XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgSF86IFNjaGVtYU9iamVjdEhlYWRlcjtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihvYmo/OiBJQWRkT3BlcmF0aW9uKSB7XHJcbiAgICAgICAgU2NoZW1hT2JqZWN0LmFzc2lnbihBZGRPcGVyYXRpb24sIHRoaXMsIG9iaik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFR5cGVOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdBdWdMb29wX0NvcmVfQWRkT3BlcmF0aW9uJztcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0QmFzZVR5cGVzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gWydBdWdMb29wX0NvcmVfT3BlcmF0aW9uV2l0aFNpYmxpbmdDb250ZXh0JywgJ0F1Z0xvb3BfQ29yZV9PcGVyYXRpb24nXTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSF8gPSB7IFRfOiBBZGRPcGVyYXRpb24uZ2V0VHlwZU5hbWUoKSwgQl86IEFkZE9wZXJhdGlvbi5nZXRCYXNlVHlwZXMoKSB9O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgTW92ZU9wZXJhdGlvbiBpbXBsZW1lbnRzIElNb3ZlT3BlcmF0aW9uIHtcclxuICAgIHB1YmxpYyBwcmV2UGFyZW50UGF0aDogSXRlbVBhdGg7XHJcbiAgICBwdWJsaWMgcHJldklkPzogc3RyaW5nO1xyXG4gICAgcHVibGljIG5leHRJZD86IHN0cmluZztcclxuICAgIHB1YmxpYyBwYXJlbnRQYXRoOiBJdGVtUGF0aDtcclxuICAgIHB1YmxpYyBwYXJlbnRSZXZJZD86IHN0cmluZztcclxuICAgIHB1YmxpYyBpdGVtczogSXRlbVtdO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IEhfOiBTY2hlbWFPYmplY3RIZWFkZXI7XHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Iob2JqPzogSU1vdmVPcGVyYXRpb24pIHtcclxuICAgICAgICBTY2hlbWFPYmplY3QuYXNzaWduKE1vdmVPcGVyYXRpb24sIHRoaXMsIG9iaik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFR5cGVOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdBdWdMb29wX0NvcmVfTW92ZU9wZXJhdGlvbic7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEJhc2VUeXBlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFsnQXVnTG9vcF9Db3JlX09wZXJhdGlvbldpdGhTaWJsaW5nQ29udGV4dCcsICdBdWdMb29wX0NvcmVfT3BlcmF0aW9uJ107XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEhfID0geyBUXzogTW92ZU9wZXJhdGlvbi5nZXRUeXBlTmFtZSgpLCBCXzogTW92ZU9wZXJhdGlvbi5nZXRCYXNlVHlwZXMoKSB9O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVXBkYXRlQW5ub3RhdGlvbk1ldGFEYXRhT3BlcmF0aW9uIGltcGxlbWVudHMgSVVwZGF0ZUFubm90YXRpb25NZXRhRGF0YU9wZXJhdGlvbiB7XHJcbiAgICBwdWJsaWMgTV86IEFubm90YXRpb25NZXRhRGF0YTtcclxuICAgIHB1YmxpYyBwYXJlbnRQYXRoOiBJdGVtUGF0aDtcclxuICAgIHB1YmxpYyBwYXJlbnRSZXZJZD86IHN0cmluZztcclxuICAgIHB1YmxpYyBpdGVtczogSXRlbVtdO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IEhfOiBTY2hlbWFPYmplY3RIZWFkZXI7XHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Iob2JqPzogSVVwZGF0ZUFubm90YXRpb25NZXRhRGF0YU9wZXJhdGlvbikge1xyXG4gICAgICAgIFNjaGVtYU9iamVjdC5hc3NpZ24oVXBkYXRlQW5ub3RhdGlvbk1ldGFEYXRhT3BlcmF0aW9uLCB0aGlzLCBvYmopO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRUeXBlTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnQXVnTG9vcF9Db3JlX1VwZGF0ZUFubm90YXRpb25NZXRhRGF0YU9wZXJhdGlvbic7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEJhc2VUeXBlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFsnQXVnTG9vcF9Db3JlX09wZXJhdGlvbiddO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBIXyA9IHsgVF86IFVwZGF0ZUFubm90YXRpb25NZXRhRGF0YU9wZXJhdGlvbi5nZXRUeXBlTmFtZSgpLCBCXzogVXBkYXRlQW5ub3RhdGlvbk1ldGFEYXRhT3BlcmF0aW9uLmdldEJhc2VUeXBlcygpIH07XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBVcGRhdGVPcGVyYXRpb24gaW1wbGVtZW50cyBJVXBkYXRlT3BlcmF0aW9uIHtcclxuICAgIHB1YmxpYyBwYXJlbnRQYXRoOiBJdGVtUGF0aDtcclxuICAgIHB1YmxpYyBwYXJlbnRSZXZJZD86IHN0cmluZztcclxuICAgIHB1YmxpYyBpdGVtczogSXRlbVtdO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IEhfOiBTY2hlbWFPYmplY3RIZWFkZXI7XHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Iob2JqPzogSVVwZGF0ZU9wZXJhdGlvbikge1xyXG4gICAgICAgIFNjaGVtYU9iamVjdC5hc3NpZ24oVXBkYXRlT3BlcmF0aW9uLCB0aGlzLCBvYmopO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRUeXBlTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnQXVnTG9vcF9Db3JlX1VwZGF0ZU9wZXJhdGlvbic7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEJhc2VUeXBlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFsnQXVnTG9vcF9Db3JlX09wZXJhdGlvbiddO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBIXyA9IHsgVF86IFVwZGF0ZU9wZXJhdGlvbi5nZXRUeXBlTmFtZSgpLCBCXzogVXBkYXRlT3BlcmF0aW9uLmdldEJhc2VUeXBlcygpIH07XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBEZWxldGVPcGVyYXRpb24gaW1wbGVtZW50cyBJRGVsZXRlT3BlcmF0aW9uIHtcclxuICAgIHB1YmxpYyBwYXJlbnRQYXRoOiBJdGVtUGF0aDtcclxuICAgIHB1YmxpYyBwYXJlbnRSZXZJZD86IHN0cmluZztcclxuICAgIHB1YmxpYyBpdGVtczogSXRlbVtdO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IEhfOiBTY2hlbWFPYmplY3RIZWFkZXI7XHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Iob2JqPzogSURlbGV0ZU9wZXJhdGlvbikge1xyXG4gICAgICAgIFNjaGVtYU9iamVjdC5hc3NpZ24oRGVsZXRlT3BlcmF0aW9uLCB0aGlzLCBvYmopO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRUeXBlTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnQXVnTG9vcF9Db3JlX0RlbGV0ZU9wZXJhdGlvbic7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEJhc2VUeXBlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFsnQXVnTG9vcF9Db3JlX09wZXJhdGlvbiddO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBIXyA9IHsgVF86IERlbGV0ZU9wZXJhdGlvbi5nZXRUeXBlTmFtZSgpLCBCXzogRGVsZXRlT3BlcmF0aW9uLmdldEJhc2VUeXBlcygpIH07XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBQdXJnZU9wZXJhdGlvbiBpbXBsZW1lbnRzIElQdXJnZU9wZXJhdGlvbiB7XHJcbiAgICBwdWJsaWMgcGFyZW50UGF0aDogSXRlbVBhdGg7XHJcbiAgICBwdWJsaWMgcGFyZW50UmV2SWQ/OiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgaXRlbXM6IEl0ZW1bXTtcclxuICAgIHB1YmxpYyByZWFkb25seSBIXzogU2NoZW1hT2JqZWN0SGVhZGVyO1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG9iaj86IElQdXJnZU9wZXJhdGlvbikge1xyXG4gICAgICAgIFNjaGVtYU9iamVjdC5hc3NpZ24oUHVyZ2VPcGVyYXRpb24sIHRoaXMsIG9iaik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFR5cGVOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdBdWdMb29wX0NvcmVfUHVyZ2VPcGVyYXRpb24nO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRCYXNlVHlwZXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBbJ0F1Z0xvb3BfQ29yZV9PcGVyYXRpb24nXTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSF8gPSB7IFRfOiBQdXJnZU9wZXJhdGlvbi5nZXRUeXBlTmFtZSgpLCBCXzogUHVyZ2VPcGVyYXRpb24uZ2V0QmFzZVR5cGVzKCkgfTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEZvY3VzT3BlcmF0aW9uIGltcGxlbWVudHMgSUZvY3VzT3BlcmF0aW9uIHtcclxuICAgIHB1YmxpYyBpc0ZvY3VzZWQ6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgcGFyZW50UGF0aDogSXRlbVBhdGg7XHJcbiAgICBwdWJsaWMgcGFyZW50UmV2SWQ/OiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgaXRlbXM6IEl0ZW1bXTtcclxuICAgIHB1YmxpYyByZWFkb25seSBIXzogU2NoZW1hT2JqZWN0SGVhZGVyO1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG9iaj86IElGb2N1c09wZXJhdGlvbikge1xyXG4gICAgICAgIFNjaGVtYU9iamVjdC5hc3NpZ24oRm9jdXNPcGVyYXRpb24sIHRoaXMsIG9iaik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFR5cGVOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdBdWdMb29wX0NvcmVfRm9jdXNPcGVyYXRpb24nO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRCYXNlVHlwZXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBbJ0F1Z0xvb3BfQ29yZV9PcGVyYXRpb24nXTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSF8gPSB7IFRfOiBGb2N1c09wZXJhdGlvbi5nZXRUeXBlTmFtZSgpLCBCXzogRm9jdXNPcGVyYXRpb24uZ2V0QmFzZVR5cGVzKCkgfTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFZpc2liaWxpdHlPcGVyYXRpb24gaW1wbGVtZW50cyBJVmlzaWJpbGl0eU9wZXJhdGlvbiB7XHJcbiAgICBwdWJsaWMgaXNWaXNpYmxlOiBib29sZWFuO1xyXG4gICAgcHVibGljIHBhcmVudFBhdGg6IEl0ZW1QYXRoO1xyXG4gICAgcHVibGljIHBhcmVudFJldklkPzogc3RyaW5nO1xyXG4gICAgcHVibGljIGl0ZW1zOiBJdGVtW107XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgSF86IFNjaGVtYU9iamVjdEhlYWRlcjtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihvYmo/OiBJVmlzaWJpbGl0eU9wZXJhdGlvbikge1xyXG4gICAgICAgIFNjaGVtYU9iamVjdC5hc3NpZ24oVmlzaWJpbGl0eU9wZXJhdGlvbiwgdGhpcywgb2JqKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0VHlwZU5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ0F1Z0xvb3BfQ29yZV9WaXNpYmlsaXR5T3BlcmF0aW9uJztcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0QmFzZVR5cGVzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gWydBdWdMb29wX0NvcmVfT3BlcmF0aW9uJ107XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEhfID0geyBUXzogVmlzaWJpbGl0eU9wZXJhdGlvbi5nZXRUeXBlTmFtZSgpLCBCXzogVmlzaWJpbGl0eU9wZXJhdGlvbi5nZXRCYXNlVHlwZXMoKSB9O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRGVsdGFVcGRhdGVPcGVyYXRpb24gaW1wbGVtZW50cyBJRGVsdGFVcGRhdGVPcGVyYXRpb24ge1xyXG4gICAgcHVibGljIHBhcmVudFBhdGg6IEl0ZW1QYXRoO1xyXG4gICAgcHVibGljIHBhcmVudFJldklkPzogc3RyaW5nO1xyXG4gICAgcHVibGljIGl0ZW1zOiBJdGVtW107XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgSF86IFNjaGVtYU9iamVjdEhlYWRlcjtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihvYmo/OiBJRGVsdGFVcGRhdGVPcGVyYXRpb24pIHtcclxuICAgICAgICBTY2hlbWFPYmplY3QuYXNzaWduKERlbHRhVXBkYXRlT3BlcmF0aW9uLCB0aGlzLCBvYmopO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRUeXBlTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnQXVnTG9vcF9Db3JlX0RlbHRhVXBkYXRlT3BlcmF0aW9uJztcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0QmFzZVR5cGVzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gWydBdWdMb29wX0NvcmVfT3BlcmF0aW9uJ107XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEhfID0geyBUXzogRGVsdGFVcGRhdGVPcGVyYXRpb24uZ2V0VHlwZU5hbWUoKSwgQl86IERlbHRhVXBkYXRlT3BlcmF0aW9uLmdldEJhc2VUeXBlcygpIH07XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBNaWNyb1N5bmNPcGVyYXRpb24gaW1wbGVtZW50cyBJTWljcm9TeW5jT3BlcmF0aW9uIHtcclxuICAgIHB1YmxpYyByZWFkb25seSBzZXE/OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgb3BUeXBlPzogc3RyaW5nO1xyXG4gICAgcHVibGljIHBhcmVudFBhdGg6IEl0ZW1QYXRoO1xyXG4gICAgcHVibGljIHBhcmVudFJldklkPzogc3RyaW5nO1xyXG4gICAgcHVibGljIGl0ZW1zOiBJdGVtW107XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgSF86IFNjaGVtYU9iamVjdEhlYWRlcjtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihvYmo/OiBJTWljcm9TeW5jT3BlcmF0aW9uKSB7XHJcbiAgICAgICAgU2NoZW1hT2JqZWN0LmFzc2lnbihNaWNyb1N5bmNPcGVyYXRpb24sIHRoaXMsIG9iaik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFR5cGVOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdBdWdMb29wX0NvcmVfTWljcm9TeW5jT3BlcmF0aW9uJztcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0QmFzZVR5cGVzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gWydBdWdMb29wX0NvcmVfT3BlcmF0aW9uJ107XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEhfID0geyBUXzogTWljcm9TeW5jT3BlcmF0aW9uLmdldFR5cGVOYW1lKCksIEJfOiBNaWNyb1N5bmNPcGVyYXRpb24uZ2V0QmFzZVR5cGVzKCkgfTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNpZ25hbE9wZXJhdGlvbiBpbXBsZW1lbnRzIElTaWduYWxPcGVyYXRpb24ge1xyXG4gICAgcHVibGljIHBhcmVudFBhdGg6IEl0ZW1QYXRoO1xyXG4gICAgcHVibGljIHBhcmVudFJldklkPzogc3RyaW5nO1xyXG4gICAgcHVibGljIGl0ZW1zOiBJdGVtW107XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgSF86IFNjaGVtYU9iamVjdEhlYWRlcjtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihvYmo/OiBJU2lnbmFsT3BlcmF0aW9uKSB7XHJcbiAgICAgICAgU2NoZW1hT2JqZWN0LmFzc2lnbihTaWduYWxPcGVyYXRpb24sIHRoaXMsIG9iaik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFR5cGVOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdBdWdMb29wX1NpZ25hbHNfU2lnbmFsT3BlcmF0aW9uJztcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0QmFzZVR5cGVzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gWydBdWdMb29wX0NvcmVfT3BlcmF0aW9uJ107XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEhfID0geyBUXzogU2lnbmFsT3BlcmF0aW9uLmdldFR5cGVOYW1lKCksIEJfOiBTaWduYWxPcGVyYXRpb24uZ2V0QmFzZVR5cGVzKCkgfTtcclxufVxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@augloop/types-core/dist/src/generated/operations.g.js\n")},"./node_modules/@augloop/types-core/dist/src/generated/schema-object.g.js":function(module,exports,__webpack_require__){"use strict";eval("\r\n// ------------------------------------------------------------------------------\r\n// <auto-generated>\r\n// This code was generated by the @augloop/code-gen tool.\r\n// Source: https://office.visualstudio.com/GSX/_git/AugmentationLoop?path=%2Fmodules%2Ftypes-core%2Fsrc%2Fschema-object.ts\r\n// Changes to this file may cause incorrect behavior and will be lost upon regeneration.\r\n// </auto-generated>\r\n// ------------------------------------------------------------------------------\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SchemaObject = void 0;\r\nvar SchemaObject = /** @class */ (function () {\r\n    function SchemaObject(obj) {\r\n        SchemaObject.assign(SchemaObject, this, obj);\r\n    }\r\n    SchemaObject.getTypeName = function () {\r\n        return 'AugLoop_Core_SchemaObject';\r\n    };\r\n    SchemaObject.getBaseTypes = function () {\r\n        return [];\r\n    };\r\n    // Get type name for the given ISchemaObject instance.\r\n    // Example:\r\n    //   SchemaObject.getTypeNameFor(new Foo()) === 'Foo'\r\n    SchemaObject.getTypeNameFor = function (obj) {\r\n        return (obj && obj.H_) ? obj.H_.T_ : undefined;\r\n    };\r\n    // Get base types for the given ISchemaObject instance.\r\n    // Example:\r\n    //   SchemaObject.getBaseTypesFor(new Foo()) === ['Bar', 'Baz']\r\n    SchemaObject.getBaseTypesFor = function (obj) {\r\n        return (obj && obj.H_ && obj.H_.B_) ? obj.H_.B_ : [];\r\n    };\r\n    // Get all types (direct and base) for the given ISchemaObject instance.\r\n    // Example:\r\n    //   SchemaObject.getTypesFor(new Foo()) == ['Foo', 'Bar', 'Baz']\r\n    SchemaObject.getAllTypesFor = function (obj) {\r\n        var typeName = SchemaObject.getTypeNameFor(obj);\r\n        return typeName ? __spreadArrays([typeName], SchemaObject.getBaseTypesFor(obj)) : [];\r\n    };\r\n    // Returns true if the given object has any of the types in the given array,\r\n    // or if that array is undefined or empty.\r\n    SchemaObject.matchesTypesFor = function (obj, types) {\r\n        if (!Array.isArray(types) || types.length === 0) {\r\n            // Nothing passed in means \"match everything\"\r\n            return true;\r\n        }\r\n        var objType = SchemaObject.getTypeNameFor(obj);\r\n        var baseTypes = (obj && obj.H_ && obj.H_.B_) ? obj.H_.B_ : undefined;\r\n        for (var _i = 0, types_1 = types; _i < types_1.length; _i++) {\r\n            var typeName = types_1[_i];\r\n            if (typeName === objType) {\r\n                return true;\r\n            }\r\n            if (baseTypes && baseTypes.indexOf(typeName) >= 0) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    SchemaObject.assign = function (ctr, target, source) {\r\n        // Assign source properties to target\r\n        if (source) {\r\n            for (var _i = 0, _a = Object.keys(source); _i < _a.length; _i++) {\r\n                var key = _a[_i];\r\n                target[key] = source[key];\r\n            }\r\n        }\r\n        // Cast away readonly to set the header\r\n        target.H_ = ctr.H_;\r\n        // Return target instance\r\n        return target;\r\n    };\r\n    SchemaObject.H_ = { T_: SchemaObject.getTypeName(), B_: SchemaObject.getBaseTypes() };\r\n    return SchemaObject;\r\n}());\r\nexports.SchemaObject = SchemaObject;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vLi4vc3JjL2dlbmVyYXRlZC9zY2hlbWEtb2JqZWN0LmcudHM/YjJhMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsaUZBQWlGO0FBQ2pGLG1CQUFtQjtBQUNuQix5REFBeUQ7QUFDekQsMEhBQTBIO0FBQzFILHdGQUF3RjtBQUN4RixvQkFBb0I7QUFDcEIsaUZBQWlGOzs7Ozs7Ozs7O0FBSWpGO0lBRUksc0JBQW1CLEdBQW1CO1FBQ2xDLFlBQVksQ0FBQyxNQUFNLENBQUMsWUFBWSxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBQ2Esd0JBQVcsR0FBekI7UUFDSSxPQUFPLDJCQUEyQixDQUFDO0lBQ3ZDLENBQUM7SUFDYSx5QkFBWSxHQUExQjtRQUNJLE9BQU8sRUFBRSxDQUFDO0lBQ2QsQ0FBQztJQUdELHNEQUFzRDtJQUN0RCxXQUFXO0lBQ1gscURBQXFEO0lBQ3ZDLDJCQUFjLEdBQTVCLFVBQTZCLEdBQWtCO1FBQzNDLE9BQU8sQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO0lBQ25ELENBQUM7SUFFRCx1REFBdUQ7SUFDdkQsV0FBVztJQUNYLCtEQUErRDtJQUNqRCw0QkFBZSxHQUE3QixVQUE4QixHQUFrQjtRQUM1QyxPQUFPLENBQUMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxFQUFFLElBQUksR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUN6RCxDQUFDO0lBRUQsd0VBQXdFO0lBQ3hFLFdBQVc7SUFDWCxpRUFBaUU7SUFDbkQsMkJBQWMsR0FBNUIsVUFBNkIsR0FBa0I7UUFDM0MsSUFBTSxRQUFRLEdBQVcsWUFBWSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUMxRCxPQUFPLFFBQVEsQ0FBQyxDQUFDLGlCQUFFLFFBQVEsR0FBSyxZQUFZLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDNUUsQ0FBQztJQUVELDRFQUE0RTtJQUM1RSwwQ0FBMEM7SUFDNUIsNEJBQWUsR0FBN0IsVUFBOEIsR0FBa0IsRUFBRSxLQUFlO1FBQzdELElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLEtBQUssQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQzdDLDZDQUE2QztZQUM3QyxPQUFPLElBQUksQ0FBQztTQUNmO1FBQ0QsSUFBTSxPQUFPLEdBQUcsWUFBWSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNqRCxJQUFNLFNBQVMsR0FBRyxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7UUFDdkUsS0FBdUIsVUFBSyxFQUFMLGVBQUssRUFBTCxtQkFBSyxFQUFMLElBQUssRUFBRTtZQUF6QixJQUFNLFFBQVE7WUFDZixJQUFJLFFBQVEsS0FBSyxPQUFPLEVBQUU7Z0JBQ3RCLE9BQU8sSUFBSSxDQUFDO2FBQ2Y7WUFDRCxJQUFJLFNBQVMsSUFBSSxTQUFTLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDL0MsT0FBTyxJQUFJLENBQUM7YUFDZjtTQUNKO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVhLG1CQUFNLEdBQXBCLFVBQXFCLEdBQVEsRUFBRSxNQUFxQixFQUFFLE1BQXNCO1FBQ3hFLHFDQUFxQztRQUNyQyxJQUFJLE1BQU0sRUFBRTtZQUNSLEtBQWtCLFVBQW1CLEVBQW5CLFdBQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQW5CLGNBQW1CLEVBQW5CLElBQW1CLEVBQUU7Z0JBQWxDLElBQU0sR0FBRztnQkFDVixNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQzdCO1NBQ0o7UUFDRCx1Q0FBdUM7UUFDdEMsTUFBYyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxDQUFDO1FBQzVCLHlCQUF5QjtRQUN6QixPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDO0lBdkRzQixlQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsWUFBWSxDQUFDLFdBQVcsRUFBRSxFQUFFLEVBQUUsRUFBRSxZQUFZLENBQUMsWUFBWSxFQUFFLEVBQUUsQ0FBQztJQXdEcEcsbUJBQUM7Q0FBQTtBQW5FWSxvQ0FBWSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9AYXVnbG9vcC90eXBlcy1jb3JlL2Rpc3Qvc3JjL2dlbmVyYXRlZC9zY2hlbWEtb2JqZWN0LmcuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gPGF1dG8tZ2VuZXJhdGVkPlxyXG4vLyBUaGlzIGNvZGUgd2FzIGdlbmVyYXRlZCBieSB0aGUgQGF1Z2xvb3AvY29kZS1nZW4gdG9vbC5cclxuLy8gU291cmNlOiBodHRwczovL29mZmljZS52aXN1YWxzdHVkaW8uY29tL0dTWC9fZ2l0L0F1Z21lbnRhdGlvbkxvb3A/cGF0aD0lMkZtb2R1bGVzJTJGdHlwZXMtY29yZSUyRnNyYyUyRnNjaGVtYS1vYmplY3QudHNcclxuLy8gQ2hhbmdlcyB0byB0aGlzIGZpbGUgbWF5IGNhdXNlIGluY29ycmVjdCBiZWhhdmlvciBhbmQgd2lsbCBiZSBsb3N0IHVwb24gcmVnZW5lcmF0aW9uLlxyXG4vLyA8L2F1dG8tZ2VuZXJhdGVkPlxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmltcG9ydCB7IElTY2hlbWFPYmplY3QsIFNjaGVtYU9iamVjdEhlYWRlciB9IGZyb20gJy4uL3NjaGVtYS1vYmplY3QnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNjaGVtYU9iamVjdCBpbXBsZW1lbnRzIElTY2hlbWFPYmplY3Qge1xyXG4gICAgcHVibGljIHJlYWRvbmx5IEhfOiBTY2hlbWFPYmplY3RIZWFkZXI7XHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Iob2JqPzogSVNjaGVtYU9iamVjdCkge1xyXG4gICAgICAgIFNjaGVtYU9iamVjdC5hc3NpZ24oU2NoZW1hT2JqZWN0LCB0aGlzLCBvYmopO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRUeXBlTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnQXVnTG9vcF9Db3JlX1NjaGVtYU9iamVjdCc7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEJhc2VUeXBlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBIXyA9IHsgVF86IFNjaGVtYU9iamVjdC5nZXRUeXBlTmFtZSgpLCBCXzogU2NoZW1hT2JqZWN0LmdldEJhc2VUeXBlcygpIH07XHJcblxyXG4gICAgLy8gR2V0IHR5cGUgbmFtZSBmb3IgdGhlIGdpdmVuIElTY2hlbWFPYmplY3QgaW5zdGFuY2UuXHJcbiAgICAvLyBFeGFtcGxlOlxyXG4gICAgLy8gICBTY2hlbWFPYmplY3QuZ2V0VHlwZU5hbWVGb3IobmV3IEZvbygpKSA9PT0gJ0ZvbydcclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0VHlwZU5hbWVGb3Iob2JqOiBJU2NoZW1hT2JqZWN0KTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gKG9iaiAmJiBvYmouSF8pID8gb2JqLkhfLlRfIDogdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdldCBiYXNlIHR5cGVzIGZvciB0aGUgZ2l2ZW4gSVNjaGVtYU9iamVjdCBpbnN0YW5jZS5cclxuICAgIC8vIEV4YW1wbGU6XHJcbiAgICAvLyAgIFNjaGVtYU9iamVjdC5nZXRCYXNlVHlwZXNGb3IobmV3IEZvbygpKSA9PT0gWydCYXInLCAnQmF6J11cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0QmFzZVR5cGVzRm9yKG9iajogSVNjaGVtYU9iamVjdCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gKG9iaiAmJiBvYmouSF8gJiYgb2JqLkhfLkJfKSA/IG9iai5IXy5CXyA6IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdldCBhbGwgdHlwZXMgKGRpcmVjdCBhbmQgYmFzZSkgZm9yIHRoZSBnaXZlbiBJU2NoZW1hT2JqZWN0IGluc3RhbmNlLlxyXG4gICAgLy8gRXhhbXBsZTpcclxuICAgIC8vICAgU2NoZW1hT2JqZWN0LmdldFR5cGVzRm9yKG5ldyBGb28oKSkgPT0gWydGb28nLCAnQmFyJywgJ0JheiddXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEFsbFR5cGVzRm9yKG9iajogSVNjaGVtYU9iamVjdCk6IHN0cmluZ1tdIHtcclxuICAgICAgICBjb25zdCB0eXBlTmFtZTogc3RyaW5nID0gU2NoZW1hT2JqZWN0LmdldFR5cGVOYW1lRm9yKG9iaik7XHJcbiAgICAgICAgcmV0dXJuIHR5cGVOYW1lID8gW3R5cGVOYW1lLCAuLi5TY2hlbWFPYmplY3QuZ2V0QmFzZVR5cGVzRm9yKG9iaildIDogW107XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBvYmplY3QgaGFzIGFueSBvZiB0aGUgdHlwZXMgaW4gdGhlIGdpdmVuIGFycmF5LFxyXG4gICAgLy8gb3IgaWYgdGhhdCBhcnJheSBpcyB1bmRlZmluZWQgb3IgZW1wdHkuXHJcbiAgICBwdWJsaWMgc3RhdGljIG1hdGNoZXNUeXBlc0ZvcihvYmo6IElTY2hlbWFPYmplY3QsIHR5cGVzOiBzdHJpbmdbXSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh0eXBlcykgfHwgdHlwZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIC8vIE5vdGhpbmcgcGFzc2VkIGluIG1lYW5zIFwibWF0Y2ggZXZlcnl0aGluZ1wiXHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBvYmpUeXBlID0gU2NoZW1hT2JqZWN0LmdldFR5cGVOYW1lRm9yKG9iaik7XHJcbiAgICAgICAgY29uc3QgYmFzZVR5cGVzID0gKG9iaiAmJiBvYmouSF8gJiYgb2JqLkhfLkJfKSA/IG9iai5IXy5CXyA6IHVuZGVmaW5lZDtcclxuICAgICAgICBmb3IgKGNvbnN0IHR5cGVOYW1lIG9mIHR5cGVzKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlTmFtZSA9PT0gb2JqVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGJhc2VUeXBlcyAmJiBiYXNlVHlwZXMuaW5kZXhPZih0eXBlTmFtZSkgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYXNzaWduKGN0cjogYW55LCB0YXJnZXQ6IElTY2hlbWFPYmplY3QsIHNvdXJjZT86IElTY2hlbWFPYmplY3QpIHtcclxuICAgICAgICAvLyBBc3NpZ24gc291cmNlIHByb3BlcnRpZXMgdG8gdGFyZ2V0XHJcbiAgICAgICAgaWYgKHNvdXJjZSkge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhzb3VyY2UpKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENhc3QgYXdheSByZWFkb25seSB0byBzZXQgdGhlIGhlYWRlclxyXG4gICAgICAgICh0YXJnZXQgYXMgYW55KS5IXyA9IGN0ci5IXztcclxuICAgICAgICAvLyBSZXR1cm4gdGFyZ2V0IGluc3RhbmNlXHJcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcclxuICAgIH1cclxufVxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@augloop/types-core/dist/src/generated/schema-object.g.js\n")},"./node_modules/@augloop/types-core/dist/src/generated/signals.g.js":function(module,exports,__webpack_require__){"use strict";eval('\r\n// ------------------------------------------------------------------------------\r\n// <auto-generated>\r\n// This code was generated by the @augloop/code-gen tool.\r\n// Source: https://office.visualstudio.com/GSX/_git/AugmentationLoop?path=%2Fmodules%2Ftypes-core%2Fsrc%2Fsignals.ts\r\n// Changes to this file may cause incorrect behavior and will be lost upon regeneration.\r\n// </auto-generated>\r\n// ------------------------------------------------------------------------------\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nexports.Signal = void 0;\r\nvar schema_object_g_1 = __webpack_require__(/*! ./schema-object.g */ "./node_modules/@augloop/types-core/dist/src/generated/schema-object.g.js");\r\nvar Signal = /** @class */ (function () {\r\n    function Signal(obj) {\r\n        schema_object_g_1.SchemaObject.assign(Signal, this, obj);\r\n    }\r\n    Signal.getTypeName = function () {\r\n        return \'AugLoop_Signals_Signal\';\r\n    };\r\n    Signal.getBaseTypes = function () {\r\n        return [];\r\n    };\r\n    Signal.H_ = { T_: Signal.getTypeName(), B_: Signal.getBaseTypes() };\r\n    return Signal;\r\n}());\r\nexports.Signal = Signal;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vLi4vc3JjL2dlbmVyYXRlZC9zaWduYWxzLmcudHM/ODhjMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsaUZBQWlGO0FBQ2pGLG1CQUFtQjtBQUNuQix5REFBeUQ7QUFDekQsb0hBQW9IO0FBQ3BILHdGQUF3RjtBQUN4RixvQkFBb0I7QUFDcEIsaUZBQWlGOzs7QUFJakYsaUpBQWlEO0FBRWpEO0lBSUksZ0JBQW1CLEdBQWE7UUFDNUIsOEJBQVksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBQ2Esa0JBQVcsR0FBekI7UUFDSSxPQUFPLHdCQUF3QixDQUFDO0lBQ3BDLENBQUM7SUFDYSxtQkFBWSxHQUExQjtRQUNJLE9BQU8sRUFBRSxDQUFDO0lBQ2QsQ0FBQztJQUNzQixTQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsTUFBTSxDQUFDLFdBQVcsRUFBRSxFQUFFLEVBQUUsRUFBRSxNQUFNLENBQUMsWUFBWSxFQUFFLEVBQUUsQ0FBQztJQUN4RixhQUFDO0NBQUE7QUFkWSx3QkFBTSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9AYXVnbG9vcC90eXBlcy1jb3JlL2Rpc3Qvc3JjL2dlbmVyYXRlZC9zaWduYWxzLmcuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gPGF1dG8tZ2VuZXJhdGVkPlxyXG4vLyBUaGlzIGNvZGUgd2FzIGdlbmVyYXRlZCBieSB0aGUgQGF1Z2xvb3AvY29kZS1nZW4gdG9vbC5cclxuLy8gU291cmNlOiBodHRwczovL29mZmljZS52aXN1YWxzdHVkaW8uY29tL0dTWC9fZ2l0L0F1Z21lbnRhdGlvbkxvb3A/cGF0aD0lMkZtb2R1bGVzJTJGdHlwZXMtY29yZSUyRnNyYyUyRnNpZ25hbHMudHNcclxuLy8gQ2hhbmdlcyB0byB0aGlzIGZpbGUgbWF5IGNhdXNlIGluY29ycmVjdCBiZWhhdmlvciBhbmQgd2lsbCBiZSBsb3N0IHVwb24gcmVnZW5lcmF0aW9uLlxyXG4vLyA8L2F1dG8tZ2VuZXJhdGVkPlxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmltcG9ydCB7IElTaWduYWwgfSBmcm9tICcuLi9zaWduYWxzJztcclxuaW1wb3J0IHsgSVNjaGVtYU9iamVjdCwgU2NoZW1hT2JqZWN0SGVhZGVyIH0gZnJvbSAnLi4vc2NoZW1hLW9iamVjdCc7XHJcbmltcG9ydCB7IFNjaGVtYU9iamVjdCB9IGZyb20gJy4vc2NoZW1hLW9iamVjdC5nJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTaWduYWwgaW1wbGVtZW50cyBJU2lnbmFsIHtcclxuICAgIHB1YmxpYyB0YXJnZXRPYmplY3Q/OiBJU2NoZW1hT2JqZWN0O1xyXG4gICAgcHVibGljIHRpbWVzdGFtcD86IG51bWJlcjtcclxuICAgIHB1YmxpYyByZWFkb25seSBIXzogU2NoZW1hT2JqZWN0SGVhZGVyO1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG9iaj86IElTaWduYWwpIHtcclxuICAgICAgICBTY2hlbWFPYmplY3QuYXNzaWduKFNpZ25hbCwgdGhpcywgb2JqKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0VHlwZU5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ0F1Z0xvb3BfU2lnbmFsc19TaWduYWwnO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRCYXNlVHlwZXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSF8gPSB7IFRfOiBTaWduYWwuZ2V0VHlwZU5hbWUoKSwgQl86IFNpZ25hbC5nZXRCYXNlVHlwZXMoKSB9O1xyXG59XHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@augloop/types-core/dist/src/generated/signals.g.js\n')},"./node_modules/@augloop/types-core/dist/src/generated/tiles.g.js":function(module,exports,__webpack_require__){"use strict";eval("\r\n// ------------------------------------------------------------------------------\r\n// <auto-generated>\r\n// This code was generated by the @augloop/code-gen tool.\r\n// Source: https://office.visualstudio.com/GSX/_git/AugmentationLoop?path=%2Fmodules%2Ftypes-core%2Fsrc%2Ftiles.ts\r\n// Changes to this file may cause incorrect behavior and will be lost upon regeneration.\r\n// </auto-generated>\r\n// ------------------------------------------------------------------------------\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GridNeighborhoodContext = exports.GridCell = exports.Document = exports.Session = exports.TileGroup = exports.Binary = exports.Blob = void 0;\r\nvar schema_object_g_1 = __webpack_require__(/*! ./schema-object.g */ \"./node_modules/@augloop/types-core/dist/src/generated/schema-object.g.js\");\r\nvar Blob = /** @class */ (function () {\r\n    function Blob(obj) {\r\n        schema_object_g_1.SchemaObject.assign(Blob, this, obj);\r\n    }\r\n    Blob.getTypeName = function () {\r\n        return 'AugLoop_Core_Blob';\r\n    };\r\n    Blob.getBaseTypes = function () {\r\n        return [];\r\n    };\r\n    Blob.H_ = { T_: Blob.getTypeName(), B_: Blob.getBaseTypes() };\r\n    return Blob;\r\n}());\r\nexports.Blob = Blob;\r\nvar Binary = /** @class */ (function () {\r\n    function Binary(obj) {\r\n        schema_object_g_1.SchemaObject.assign(Binary, this, obj);\r\n    }\r\n    Binary.getTypeName = function () {\r\n        return 'AugLoop_Core_Binary';\r\n    };\r\n    Binary.getBaseTypes = function () {\r\n        return [];\r\n    };\r\n    Binary.H_ = { T_: Binary.getTypeName(), B_: Binary.getBaseTypes() };\r\n    return Binary;\r\n}());\r\nexports.Binary = Binary;\r\nvar TileGroup = /** @class */ (function () {\r\n    function TileGroup(obj) {\r\n        schema_object_g_1.SchemaObject.assign(TileGroup, this, obj);\r\n    }\r\n    TileGroup.getTypeName = function () {\r\n        return 'AugLoop_Core_TileGroup';\r\n    };\r\n    TileGroup.getBaseTypes = function () {\r\n        return [];\r\n    };\r\n    TileGroup.H_ = { T_: TileGroup.getTypeName(), B_: TileGroup.getBaseTypes() };\r\n    return TileGroup;\r\n}());\r\nexports.TileGroup = TileGroup;\r\nvar Session = /** @class */ (function () {\r\n    function Session(obj) {\r\n        schema_object_g_1.SchemaObject.assign(Session, this, obj);\r\n    }\r\n    Session.getTypeName = function () {\r\n        return 'AugLoop_Core_Session';\r\n    };\r\n    Session.getBaseTypes = function () {\r\n        return ['AugLoop_Core_TileGroup'];\r\n    };\r\n    Session.H_ = { T_: Session.getTypeName(), B_: Session.getBaseTypes() };\r\n    return Session;\r\n}());\r\nexports.Session = Session;\r\nvar Document = /** @class */ (function () {\r\n    function Document(obj) {\r\n        schema_object_g_1.SchemaObject.assign(Document, this, obj);\r\n    }\r\n    Document.getTypeName = function () {\r\n        return 'AugLoop_Core_Document';\r\n    };\r\n    Document.getBaseTypes = function () {\r\n        return ['AugLoop_Core_TileGroup'];\r\n    };\r\n    Document.H_ = { T_: Document.getTypeName(), B_: Document.getBaseTypes() };\r\n    return Document;\r\n}());\r\nexports.Document = Document;\r\nvar GridCell = /** @class */ (function () {\r\n    function GridCell(obj) {\r\n        schema_object_g_1.SchemaObject.assign(GridCell, this, obj);\r\n    }\r\n    GridCell.getTypeName = function () {\r\n        return 'AugLoop_Core_GridCell';\r\n    };\r\n    GridCell.getBaseTypes = function () {\r\n        return [];\r\n    };\r\n    GridCell.H_ = { T_: GridCell.getTypeName(), B_: GridCell.getBaseTypes() };\r\n    return GridCell;\r\n}());\r\nexports.GridCell = GridCell;\r\nvar GridNeighborhoodContext = /** @class */ (function () {\r\n    function GridNeighborhoodContext(obj) {\r\n        schema_object_g_1.SchemaObject.assign(GridNeighborhoodContext, this, obj);\r\n    }\r\n    GridNeighborhoodContext.getTypeName = function () {\r\n        return 'AugLoop_Core_GridNeighborhoodContext';\r\n    };\r\n    GridNeighborhoodContext.getBaseTypes = function () {\r\n        return [];\r\n    };\r\n    GridNeighborhoodContext.H_ = { T_: GridNeighborhoodContext.getTypeName(), B_: GridNeighborhoodContext.getBaseTypes() };\r\n    return GridNeighborhoodContext;\r\n}());\r\nexports.GridNeighborhoodContext = GridNeighborhoodContext;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vLi4vc3JjL2dlbmVyYXRlZC90aWxlcy5nLnRzPzQ0YTYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLGlGQUFpRjtBQUNqRixtQkFBbUI7QUFDbkIseURBQXlEO0FBQ3pELGtIQUFrSDtBQUNsSCx3RkFBd0Y7QUFDeEYsb0JBQW9CO0FBQ3BCLGlGQUFpRjs7O0FBSWpGLGlKQUFpRDtBQUVqRDtJQU1JLGNBQW1CLEdBQVc7UUFDMUIsOEJBQVksQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBQ2EsZ0JBQVcsR0FBekI7UUFDSSxPQUFPLG1CQUFtQixDQUFDO0lBQy9CLENBQUM7SUFDYSxpQkFBWSxHQUExQjtRQUNJLE9BQU8sRUFBRSxDQUFDO0lBQ2QsQ0FBQztJQUNzQixPQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsSUFBSSxDQUFDLFdBQVcsRUFBRSxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLEVBQUUsQ0FBQztJQUNwRixXQUFDO0NBQUE7QUFoQlksb0JBQUk7QUFrQmpCO0lBR0ksZ0JBQW1CLEdBQWE7UUFDNUIsOEJBQVksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBQ2Esa0JBQVcsR0FBekI7UUFDSSxPQUFPLHFCQUFxQixDQUFDO0lBQ2pDLENBQUM7SUFDYSxtQkFBWSxHQUExQjtRQUNJLE9BQU8sRUFBRSxDQUFDO0lBQ2QsQ0FBQztJQUNzQixTQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsTUFBTSxDQUFDLFdBQVcsRUFBRSxFQUFFLEVBQUUsRUFBRSxNQUFNLENBQUMsWUFBWSxFQUFFLEVBQUUsQ0FBQztJQUN4RixhQUFDO0NBQUE7QUFiWSx3QkFBTTtBQWVuQjtJQUVJLG1CQUFtQixHQUFnQjtRQUMvQiw4QkFBWSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQzlDLENBQUM7SUFDYSxxQkFBVyxHQUF6QjtRQUNJLE9BQU8sd0JBQXdCLENBQUM7SUFDcEMsQ0FBQztJQUNhLHNCQUFZLEdBQTFCO1FBQ0ksT0FBTyxFQUFFLENBQUM7SUFDZCxDQUFDO0lBQ3NCLFlBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxTQUFTLENBQUMsV0FBVyxFQUFFLEVBQUUsRUFBRSxFQUFFLFNBQVMsQ0FBQyxZQUFZLEVBQUUsRUFBRSxDQUFDO0lBQzlGLGdCQUFDO0NBQUE7QUFaWSw4QkFBUztBQWN0QjtJQUtJLGlCQUFtQixHQUFjO1FBQzdCLDhCQUFZLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDNUMsQ0FBQztJQUNhLG1CQUFXLEdBQXpCO1FBQ0ksT0FBTyxzQkFBc0IsQ0FBQztJQUNsQyxDQUFDO0lBQ2Esb0JBQVksR0FBMUI7UUFDSSxPQUFPLENBQUMsd0JBQXdCLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBQ3NCLFVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxPQUFPLENBQUMsV0FBVyxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sQ0FBQyxZQUFZLEVBQUUsRUFBRSxDQUFDO0lBQzFGLGNBQUM7Q0FBQTtBQWZZLDBCQUFPO0FBaUJwQjtJQUtJLGtCQUFtQixHQUFlO1FBQzlCLDhCQUFZLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDN0MsQ0FBQztJQUNhLG9CQUFXLEdBQXpCO1FBQ0ksT0FBTyx1QkFBdUIsQ0FBQztJQUNuQyxDQUFDO0lBQ2EscUJBQVksR0FBMUI7UUFDSSxPQUFPLENBQUMsd0JBQXdCLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBQ3NCLFdBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxRQUFRLENBQUMsV0FBVyxFQUFFLEVBQUUsRUFBRSxFQUFFLFFBQVEsQ0FBQyxZQUFZLEVBQUUsRUFBRSxDQUFDO0lBQzVGLGVBQUM7Q0FBQTtBQWZZLDRCQUFRO0FBaUJyQjtJQUlJLGtCQUFtQixHQUFlO1FBQzlCLDhCQUFZLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDN0MsQ0FBQztJQUNhLG9CQUFXLEdBQXpCO1FBQ0ksT0FBTyx1QkFBdUIsQ0FBQztJQUNuQyxDQUFDO0lBQ2EscUJBQVksR0FBMUI7UUFDSSxPQUFPLEVBQUUsQ0FBQztJQUNkLENBQUM7SUFDc0IsV0FBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLFFBQVEsQ0FBQyxXQUFXLEVBQUUsRUFBRSxFQUFFLEVBQUUsUUFBUSxDQUFDLFlBQVksRUFBRSxFQUFFLENBQUM7SUFDNUYsZUFBQztDQUFBO0FBZFksNEJBQVE7QUFnQnJCO0lBYUksaUNBQW1CLEdBQThCO1FBQzdDLDhCQUFZLENBQUMsTUFBTSxDQUFDLHVCQUF1QixFQUFFLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztJQUM1RCxDQUFDO0lBQ2EsbUNBQVcsR0FBekI7UUFDSSxPQUFPLHNDQUFzQyxDQUFDO0lBQ2xELENBQUM7SUFDYSxvQ0FBWSxHQUExQjtRQUNJLE9BQU8sRUFBRSxDQUFDO0lBQ2QsQ0FBQztJQUNzQiwwQkFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLHVCQUF1QixDQUFDLFdBQVcsRUFBRSxFQUFFLEVBQUUsRUFBRSx1QkFBdUIsQ0FBQyxZQUFZLEVBQUUsRUFBRSxDQUFDO0lBQzFILDhCQUFDO0NBQUE7QUF2QlksMERBQXVCIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0BhdWdsb29wL3R5cGVzLWNvcmUvZGlzdC9zcmMvZ2VuZXJhdGVkL3RpbGVzLmcuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy8gPGF1dG8tZ2VuZXJhdGVkPlxyXG4vLyBUaGlzIGNvZGUgd2FzIGdlbmVyYXRlZCBieSB0aGUgQGF1Z2xvb3AvY29kZS1nZW4gdG9vbC5cclxuLy8gU291cmNlOiBodHRwczovL29mZmljZS52aXN1YWxzdHVkaW8uY29tL0dTWC9fZ2l0L0F1Z21lbnRhdGlvbkxvb3A/cGF0aD0lMkZtb2R1bGVzJTJGdHlwZXMtY29yZSUyRnNyYyUyRnRpbGVzLnRzXHJcbi8vIENoYW5nZXMgdG8gdGhpcyBmaWxlIG1heSBjYXVzZSBpbmNvcnJlY3QgYmVoYXZpb3IgYW5kIHdpbGwgYmUgbG9zdCB1cG9uIHJlZ2VuZXJhdGlvbi5cclxuLy8gPC9hdXRvLWdlbmVyYXRlZD5cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5pbXBvcnQgeyBJQmluYXJ5LCBJQmxvYiwgSUJsb2JSZWYsIElEb2N1bWVudCwgSUdyaWRDZWxsLCBJR3JpZE5laWdoYm9yaG9vZENvbnRleHQsIElTZXNzaW9uLCBJVGlsZUdyb3VwLCBPcGVuVHlwZSB9IGZyb20gJy4uL3RpbGVzJztcclxuaW1wb3J0IHsgU2NoZW1hT2JqZWN0SGVhZGVyIH0gZnJvbSAnLi4vc2NoZW1hLW9iamVjdCc7XHJcbmltcG9ydCB7IFNjaGVtYU9iamVjdCB9IGZyb20gJy4vc2NoZW1hLW9iamVjdC5nJztcclxuXHJcbmV4cG9ydCBjbGFzcyBCbG9iIGltcGxlbWVudHMgSUJsb2Ige1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGlkOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2l6ZUJ5dGVzOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGF0YT86IFVpbnQ4QXJyYXk7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGF0YVBvaW50ZXI/OiBJQmxvYlJlZjtcclxuICAgIHB1YmxpYyByZWFkb25seSBIXzogU2NoZW1hT2JqZWN0SGVhZGVyO1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG9iaj86IElCbG9iKSB7XHJcbiAgICAgICAgU2NoZW1hT2JqZWN0LmFzc2lnbihCbG9iLCB0aGlzLCBvYmopO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRUeXBlTmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiAnQXVnTG9vcF9Db3JlX0Jsb2InO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRCYXNlVHlwZXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSF8gPSB7IFRfOiBCbG9iLmdldFR5cGVOYW1lKCksIEJfOiBCbG9iLmdldEJhc2VUeXBlcygpIH07XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBCaW5hcnkgaW1wbGVtZW50cyBJQmluYXJ5IHtcclxuICAgIHB1YmxpYyBkYXRhPzogVWludDhBcnJheTtcclxuICAgIHB1YmxpYyByZWFkb25seSBIXzogU2NoZW1hT2JqZWN0SGVhZGVyO1xyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG9iaj86IElCaW5hcnkpIHtcclxuICAgICAgICBTY2hlbWFPYmplY3QuYXNzaWduKEJpbmFyeSwgdGhpcywgb2JqKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0VHlwZU5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ0F1Z0xvb3BfQ29yZV9CaW5hcnknO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRCYXNlVHlwZXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgSF8gPSB7IFRfOiBCaW5hcnkuZ2V0VHlwZU5hbWUoKSwgQl86IEJpbmFyeS5nZXRCYXNlVHlwZXMoKSB9O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVGlsZUdyb3VwIGltcGxlbWVudHMgSVRpbGVHcm91cCB7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgSF86IFNjaGVtYU9iamVjdEhlYWRlcjtcclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihvYmo/OiBJVGlsZUdyb3VwKSB7XHJcbiAgICAgICAgU2NoZW1hT2JqZWN0LmFzc2lnbihUaWxlR3JvdXAsIHRoaXMsIG9iaik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFR5cGVOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdBdWdMb29wX0NvcmVfVGlsZUdyb3VwJztcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0QmFzZVR5cGVzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IEhfID0geyBUXzogVGlsZUdyb3VwLmdldFR5cGVOYW1lKCksIEJfOiBUaWxlR3JvdXAuZ2V0QmFzZVR5cGVzKCkgfTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNlc3Npb24gaW1wbGVtZW50cyBJU2Vzc2lvbiB7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgYWN0aXZlVXNlcklkOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgd2lkdGhEcGk/OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaGVpZ2h0RHBpPzogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IEhfOiBTY2hlbWFPYmplY3RIZWFkZXI7XHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Iob2JqPzogSVNlc3Npb24pIHtcclxuICAgICAgICBTY2hlbWFPYmplY3QuYXNzaWduKFNlc3Npb24sIHRoaXMsIG9iaik7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFR5cGVOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuICdBdWdMb29wX0NvcmVfU2Vzc2lvbic7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEJhc2VUeXBlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFsnQXVnTG9vcF9Db3JlX1RpbGVHcm91cCddO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBIXyA9IHsgVF86IFNlc3Npb24uZ2V0VHlwZU5hbWUoKSwgQl86IFNlc3Npb24uZ2V0QmFzZVR5cGVzKCkgfTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIERvY3VtZW50IGltcGxlbWVudHMgSURvY3VtZW50IHtcclxuICAgIHB1YmxpYyByZWFkb25seSBpc1JlYWRvbmx5OiBib29sZWFuO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHVybD86IHN0cmluZztcclxuICAgIHB1YmxpYyByZWFkb25seSBvcGVuVHlwZT86IE9wZW5UeXBlO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IEhfOiBTY2hlbWFPYmplY3RIZWFkZXI7XHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Iob2JqPzogSURvY3VtZW50KSB7XHJcbiAgICAgICAgU2NoZW1hT2JqZWN0LmFzc2lnbihEb2N1bWVudCwgdGhpcywgb2JqKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0VHlwZU5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ0F1Z0xvb3BfQ29yZV9Eb2N1bWVudCc7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEJhc2VUeXBlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFsnQXVnTG9vcF9Db3JlX1RpbGVHcm91cCddO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBIXyA9IHsgVF86IERvY3VtZW50LmdldFR5cGVOYW1lKCksIEJfOiBEb2N1bWVudC5nZXRCYXNlVHlwZXMoKSB9O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgR3JpZENlbGwgaW1wbGVtZW50cyBJR3JpZENlbGwge1xyXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbHVtbjogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHJvdzogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IEhfOiBTY2hlbWFPYmplY3RIZWFkZXI7XHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Iob2JqPzogSUdyaWRDZWxsKSB7XHJcbiAgICAgICAgU2NoZW1hT2JqZWN0LmFzc2lnbihHcmlkQ2VsbCwgdGhpcywgb2JqKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0VHlwZU5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ0F1Z0xvb3BfQ29yZV9HcmlkQ2VsbCc7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEJhc2VUeXBlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBIXyA9IHsgVF86IEdyaWRDZWxsLmdldFR5cGVOYW1lKCksIEJfOiBHcmlkQ2VsbC5nZXRCYXNlVHlwZXMoKSB9O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgR3JpZE5laWdoYm9yaG9vZENvbnRleHQgaW1wbGVtZW50cyBJR3JpZE5laWdoYm9yaG9vZENvbnRleHQge1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHdpZHRoOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgaGVpZ2h0OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmV0cmlldmVkV2lkdGg6IG51bWJlcjtcclxuICAgIHB1YmxpYyByZWFkb25seSByZXRyaWV2ZWRIZWlnaHQ6IG51bWJlcjtcclxuICAgIHB1YmxpYyByZWFkb25seSBuZWlnaGJvcmhvb2RUb3BSb3c6IG51bWJlcjtcclxuICAgIHB1YmxpYyByZWFkb25seSBuZWlnaGJvcmhvb2RMZWZ0Q29sdW1uOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGFyZ2V0R3JpZFRvcFJvdzogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IHRhcmdldEdyaWRMZWZ0Q29sdW1uOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGFyZ2V0R3JpZFJlbGF0aXZlVG9wUm93OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGFyZ2V0R3JpZFJlbGF0aXZlTGVmdENvbHVtbjogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IG51bWJlck9mTm9uRW1wdHlDZWxsczogbnVtYmVyO1xyXG4gICAgcHVibGljIHJlYWRvbmx5IEhfOiBTY2hlbWFPYmplY3RIZWFkZXI7XHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3Iob2JqPzogSUdyaWROZWlnaGJvcmhvb2RDb250ZXh0KSB7XHJcbiAgICAgICAgU2NoZW1hT2JqZWN0LmFzc2lnbihHcmlkTmVpZ2hib3Job29kQ29udGV4dCwgdGhpcywgb2JqKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0VHlwZU5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJ0F1Z0xvb3BfQ29yZV9HcmlkTmVpZ2hib3Job29kQ29udGV4dCc7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEJhc2VUeXBlcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHN0YXRpYyByZWFkb25seSBIXyA9IHsgVF86IEdyaWROZWlnaGJvcmhvb2RDb250ZXh0LmdldFR5cGVOYW1lKCksIEJfOiBHcmlkTmVpZ2hib3Job29kQ29udGV4dC5nZXRCYXNlVHlwZXMoKSB9O1xyXG59XHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@augloop/types-core/dist/src/generated/tiles.g.js\n")},"./node_modules/@augloop/types-core/dist/src/index.js":function(module,exports,__webpack_require__){"use strict";eval('\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\r\n}\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\n__exportStar(__webpack_require__(/*! ./annotations */ "./node_modules/@augloop/types-core/dist/src/annotations.js"), exports);\r\n__exportStar(__webpack_require__(/*! ./signals */ "./node_modules/@augloop/types-core/dist/src/signals.js"), exports);\r\n__exportStar(__webpack_require__(/*! ./tiles */ "./node_modules/@augloop/types-core/dist/src/tiles.js"), exports);\r\n__exportStar(__webpack_require__(/*! ./generated/annotations.g */ "./node_modules/@augloop/types-core/dist/src/generated/annotations.g.js"), exports);\r\n__exportStar(__webpack_require__(/*! ./generated/operations.g */ "./node_modules/@augloop/types-core/dist/src/generated/operations.g.js"), exports);\r\n__exportStar(__webpack_require__(/*! ./generated/schema-object.g */ "./node_modules/@augloop/types-core/dist/src/generated/schema-object.g.js"), exports);\r\n__exportStar(__webpack_require__(/*! ./generated/signals.g */ "./node_modules/@augloop/types-core/dist/src/generated/signals.g.js"), exports);\r\n__exportStar(__webpack_require__(/*! ./generated/tiles.g */ "./node_modules/@augloop/types-core/dist/src/generated/tiles.g.js"), exports);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vc3JjL2luZGV4LnRzPzBlM2UiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUEsOEhBQThCO0FBRzlCLHNIQUEwQjtBQUMxQixrSEFBd0I7QUFDeEIsc0pBQTBDO0FBQzFDLG9KQUF5QztBQUN6QywwSkFBNEM7QUFDNUMsOElBQXNDO0FBQ3RDLDBJQUFvQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9AYXVnbG9vcC90eXBlcy1jb3JlL2Rpc3Qvc3JjL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9hbm5vdGF0aW9ucyc7XHJcbmV4cG9ydCB7IEl0ZW1QYXRoS2V5LCBPcGVyYXRpb25UeXBlLCBJQWRkT3BlcmF0aW9uLCBJRGVsZXRlT3BlcmF0aW9uLCBJRm9jdXNPcGVyYXRpb24sIElNb3ZlT3BlcmF0aW9uLCBJT3BlcmF0aW9uLCBJT3BlcmF0aW9uV2l0aFNpYmxpbmdDb250ZXh0LCBJUHVyZ2VPcGVyYXRpb24sIElVcGRhdGVBbm5vdGF0aW9uTWV0YURhdGFPcGVyYXRpb24sIElVcGRhdGVPcGVyYXRpb24sIElWaXNpYmlsaXR5T3BlcmF0aW9uLCBJU2lnbmFsT3BlcmF0aW9uLCBJdGVtLCBJdGVtUGF0aCwgSXRlbVdpdGhQYXRoLCBJSXRlbVJlZmVyZW5jZSwgSUl0ZW1EZWx0YSB9IGZyb20gJy4vb3BlcmF0aW9ucyc7XHJcbmV4cG9ydCB7IElTY2hlbWFPYmplY3QsIFNjaGVtYU9iamVjdEhlYWRlciB9IGZyb20gJy4vc2NoZW1hLW9iamVjdCc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc2lnbmFscyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vdGlsZXMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2dlbmVyYXRlZC9hbm5vdGF0aW9ucy5nJztcclxuZXhwb3J0ICogZnJvbSAnLi9nZW5lcmF0ZWQvb3BlcmF0aW9ucy5nJztcclxuZXhwb3J0ICogZnJvbSAnLi9nZW5lcmF0ZWQvc2NoZW1hLW9iamVjdC5nJztcclxuZXhwb3J0ICogZnJvbSAnLi9nZW5lcmF0ZWQvc2lnbmFscy5nJztcclxuZXhwb3J0ICogZnJvbSAnLi9nZW5lcmF0ZWQvdGlsZXMuZyc7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@augloop/types-core/dist/src/index.js\n')},"./node_modules/@augloop/types-core/dist/src/signals.js":function(module,exports,__webpack_require__){"use strict";eval('\r\n/**\r\n * @copyright Microsoft Corporation. All rights reserved.\r\n */\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vc3JjL3NpZ25hbHMudHM/YjE5ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7O0dBRUciLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGF1Z2xvb3AvdHlwZXMtY29yZS9kaXN0L3NyYy9zaWduYWxzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEBjb3B5cmlnaHQgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IElTY2hlbWFPYmplY3QgfSBmcm9tICcuL3NjaGVtYS1vYmplY3QnO1xyXG5cclxuLyoqXHJcbiAqIFRoZSBiYXNlIGludGVyZmFjZSBvZiBhbGwgc2lnbmFscy5cclxuICogQHJlbWFya3MgU2lnbmFscyBhcmUgdXNlZCB0byBjYXB0dXJlIHVzZXIgYW5kIHN5c3RlbSBhY3Rpb25zIGluIHRoZSBzZXNzaW9uXHJcbiAqIGFuZCBidWlsZCBsb2dpYyBvbiB0b3Agb2YgdGhhdCBmb3IgYXV0b21hdGljIHRyaWdnZXJpbmcgYW5kIHJlY29tbWVuZGF0aW9uc1xyXG4gKiBAZXh0ZW5kcyBJU2NoZW1hT2JqZWN0XHJcbiAqIEB0eXBlcHJlZml4IEF1Z0xvb3BfU2lnbmFsc1xyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJU2lnbmFsIGV4dGVuZHMgSVNjaGVtYU9iamVjdCB7XHJcbiAgICAvKipcclxuICAgICAqIFRoZSBvYmplY3QgdGhpcyBzaWduYWwgaXMgdGFyZ2V0aW5nLiBJdCBjYW4gYmUgYSBkb2N1bWVudCwgdGlsZSwgb3IgYW4gYW5ub3RhdGlvbi5cclxuICAgICAqIEByZW1hcmtzIFdoZW4gYG51bGxgLCB0aGUgc2lnbmFsIGlzIGEgZ2VuZXJpYyBzaWduYWwgaW4gdGhlIHNlc3Npb24uXHJcbiAgICAgKi9cclxuICAgIHRhcmdldE9iamVjdD86IElTY2hlbWFPYmplY3Q7IC8vIFRPRE86IFRoaXMgc2hvdWxkIGJlIGEgc2NoZW1hIG9iamVjdCByZWZlcmVuY2VcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSB0aW1lIG9mIHNpZ25hbCBjcmVhdGlvbi5cclxuICAgICAqL1xyXG4gICAgdGltZXN0YW1wPzogbnVtYmVyO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@augloop/types-core/dist/src/signals.js\n')},"./node_modules/@augloop/types-core/dist/src/tiles.js":function(module,exports,__webpack_require__){"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nexports.GridConstants = exports.OpenType = exports.BlobRefType = void 0;\r\n// Binary\r\n// Below types are allowing us to send one or more binary contents contained in other schema objects\r\n// Will be sent more efficiently over the network\r\nvar BlobRefType;\r\n(function (BlobRefType) {\r\n    // If this is set then there is no way to get the binary data\r\n    BlobRefType[BlobRefType["None"] = 0] = "None";\r\n    // When this is set value is URL we can simply call HTTPS GET to fetch binary data. This URL must be on the AL service allow-list.\r\n    BlobRefType[BlobRefType["HttpsGetDownloadUrl"] = 1] = "HttpsGetDownloadUrl";\r\n})(BlobRefType = exports.BlobRefType || (exports.BlobRefType = {}));\r\n// Document Open Type\r\n// Represents the method with which the document was opened at the client\r\nvar OpenType;\r\n(function (OpenType) {\r\n    // the document was newly created\r\n    OpenType[OpenType["NewDocument"] = 0] = "NewDocument";\r\n    // an old document opened for editing\r\n    OpenType[OpenType["EditDocument"] = 1] = "EditDocument";\r\n    // document to be viewed\r\n    OpenType[OpenType["ViewOnlyDocument"] = 2] = "ViewOnlyDocument";\r\n})(OpenType = exports.OpenType || (exports.OpenType = {}));\r\nvar GridConstants = /** @class */ (function () {\r\n    function GridConstants() {\r\n    }\r\n    GridConstants.lowerIndexBound = 1;\r\n    GridConstants.maxNumberOfRows = 1048576;\r\n    GridConstants.maxNumberOfColumns = 16384;\r\n    GridConstants.firstColumnName = \'A\';\r\n    GridConstants.lastColumnName = \'XFD\';\r\n    return GridConstants;\r\n}());\r\nexports.GridConstants = GridConstants;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vLi4vc3JjL3RpbGVzLnRzPzkyZjkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBRUEsU0FBUztBQUNULG9HQUFvRztBQUNwRyxpREFBaUQ7QUFDakQsSUFBWSxXQUtYO0FBTEQsV0FBWSxXQUFXO0lBQ25CLDZEQUE2RDtJQUM3RCw2Q0FBUTtJQUNSLGtJQUFrSTtJQUNsSSwyRUFBbUI7QUFDdkIsQ0FBQyxFQUxXLFdBQVcsR0FBWCxtQkFBVyxLQUFYLG1CQUFXLFFBS3RCO0FBOENELHFCQUFxQjtBQUNyQix5RUFBeUU7QUFDekUsSUFBWSxRQU9YO0FBUEQsV0FBWSxRQUFRO0lBQ2hCLGlDQUFpQztJQUNqQyxxREFBZTtJQUNmLHFDQUFxQztJQUNyQyx1REFBZ0I7SUFDaEIsd0JBQXdCO0lBQ3hCLCtEQUFvQjtBQUN4QixDQUFDLEVBUFcsUUFBUSxHQUFSLGdCQUFRLEtBQVIsZ0JBQVEsUUFPbkI7QUFlRDtJQUFBO0lBTUEsQ0FBQztJQUxtQiw2QkFBZSxHQUFHLENBQUMsQ0FBQztJQUNwQiw2QkFBZSxHQUFHLE9BQU8sQ0FBQztJQUMxQixnQ0FBa0IsR0FBRyxLQUFLLENBQUM7SUFDM0IsNkJBQWUsR0FBRyxHQUFHLENBQUM7SUFDdEIsNEJBQWMsR0FBRyxLQUFLLENBQUM7SUFDM0Msb0JBQUM7Q0FBQTtBQU5ZLHNDQUFhIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0BhdWdsb29wL3R5cGVzLWNvcmUvZGlzdC9zcmMvdGlsZXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJU2NoZW1hT2JqZWN0IH0gZnJvbSAnLi9zY2hlbWEtb2JqZWN0JztcclxuXHJcbi8vIEJpbmFyeVxyXG4vLyBCZWxvdyB0eXBlcyBhcmUgYWxsb3dpbmcgdXMgdG8gc2VuZCBvbmUgb3IgbW9yZSBiaW5hcnkgY29udGVudHMgY29udGFpbmVkIGluIG90aGVyIHNjaGVtYSBvYmplY3RzXHJcbi8vIFdpbGwgYmUgc2VudCBtb3JlIGVmZmljaWVudGx5IG92ZXIgdGhlIG5ldHdvcmtcclxuZXhwb3J0IGVudW0gQmxvYlJlZlR5cGUge1xyXG4gICAgLy8gSWYgdGhpcyBpcyBzZXQgdGhlbiB0aGVyZSBpcyBubyB3YXkgdG8gZ2V0IHRoZSBiaW5hcnkgZGF0YVxyXG4gICAgTm9uZSA9IDAsXHJcbiAgICAvLyBXaGVuIHRoaXMgaXMgc2V0IHZhbHVlIGlzIFVSTCB3ZSBjYW4gc2ltcGx5IGNhbGwgSFRUUFMgR0VUIHRvIGZldGNoIGJpbmFyeSBkYXRhLiBUaGlzIFVSTCBtdXN0IGJlIG9uIHRoZSBBTCBzZXJ2aWNlIGFsbG93LWxpc3QuXHJcbiAgICBIdHRwc0dldERvd25sb2FkVXJsXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUJsb2JSZWYge1xyXG4gICAgcmVhZG9ubHkgcmVmVHlwZTogQmxvYlJlZlR5cGU7XHJcbiAgICByZWFkb25seSB2YWx1ZTogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElCbG9iIGV4dGVuZHMgSVNjaGVtYU9iamVjdCB7XHJcbiAgICAvLyBVbmlxdWUgSWQgc2V0IGZvciB0aGUgY29udGVudCB3aGVuIHVwbG9hZGluZyBpdC4gVGhpcyBpcyBzZXQgYnkgY2xpZW50IGFuZCBtdXN0IGJlIHVuaXF1ZSBmb3IgdGhlIHdob2xlIHNlc3Npb24uXHJcbiAgICByZWFkb25seSBpZDogc3RyaW5nO1xyXG5cclxuICAgIC8vIFNpemUgb2YgZGF0YSBpbiBieXRlc1xyXG4gICAgcmVhZG9ubHkgc2l6ZUJ5dGVzOiBudW1iZXI7XHJcblxyXG4gICAgLy8gQWN0dWFsIGRhdGEgb3IgQUwgaW50ZXJuYWwgSWQgdXNlZCBmb3IgZmV0Y2hpbmcgZGF0YS4gT3B0aW9uYWwgaWYgZGF0YSBpcyBub3QgZGVsaXZlcmVkIGF0IHRoaXMgcG9pbnQgaW4gdGltZS5cclxuICAgIC8vIElmIGl0IGlzIGludGVybmFsIElkIGl0IGlzIGNyZWF0ZWQgYW5kIG1haW50YWluZWQgYnkgQUwuXHJcbiAgICByZWFkb25seSBkYXRhPzogVWludDhBcnJheTtcclxuXHJcbiAgICAvLyBSZWZlcmVuY2UgdG8gZGF0YS4gT3B0aW9uYWwgaWYgZGF0YS9yZWZlcmVuY2UgaXMgbm90IGRlbGl2ZXJlZCBhdCB0aGlzIHBvaW50IGluIHRpbWUuXHJcbiAgICByZWFkb25seSBkYXRhUG9pbnRlcj86IElCbG9iUmVmO1xyXG59XHJcblxyXG4vLyBCaW5hcnlcclxuLy8gVGhlIGJhc2UgY2xhc3MgZm9yIGFsbCBzY2hlbWEgb2JqZWN0cyB0aGF0IGhhdmUgbGFyZ2UgYmluYXJ5IHBvcnRpb25zXHJcbi8vIFdpbGwgYmUgc2VudCBtb3JlIGVmZmljaWVudGx5IG92ZXIgdGhlIG5ldHdvcmtcclxuZXhwb3J0IGludGVyZmFjZSBJQmluYXJ5IGV4dGVuZHMgSVNjaGVtYU9iamVjdCB7XHJcbiAgICBkYXRhPzogVWludDhBcnJheTtcclxufVxyXG5cclxuLy8gVGlsZUdyb3VwXHJcbi8vIFJlcHJlc2VudHMgYSBncm91cCBvZiB0aWxlcy4gVGhpcyBjYW4gYmUgdXNlZCBieSBob3N0cyB0b1xyXG4vLyBwcm92aWRlIGFueSBhcmJpdHJhcnkgZ3JvdXBpbmcgb2YgdGlsZXMgYXQgYW55IGxldmVsLlxyXG5leHBvcnQgaW50ZXJmYWNlIElUaWxlR3JvdXAgZXh0ZW5kcyBJU2NoZW1hT2JqZWN0IHt9XHJcblxyXG4vLyBTZXNzaW9uXHJcbi8vIFJlcHJlc2VudHMgYSB1c2VyIHNlc3Npb24uIEEgdXNlciBzZXNzaW9uIGNhbiBoYXZlIG1vcmUgdGhhbiBvbmUgZG9jdW1lbnQuXHJcbi8vIEl0IGlzIHRoZSByb290IG9mIHRoZSB3aG9sZSBjb250ZW50IHRyZWVcclxuZXhwb3J0IGludGVyZmFjZSBJU2Vzc2lvbiBleHRlbmRzIElUaWxlR3JvdXAge1xyXG4gICAgLy8gVGhlIGN1cnJlbnQgYWN0aXZlIHVzZXIgSURcclxuICAgIHJlYWRvbmx5IGFjdGl2ZVVzZXJJZDogc3RyaW5nO1xyXG5cclxuICAgIC8vIERQSXMgb2YgY2xpZW50IHNjcmVlblxyXG4gICAgcmVhZG9ubHkgd2lkdGhEcGk/OiBudW1iZXI7XHJcbiAgICByZWFkb25seSBoZWlnaHREcGk/OiBudW1iZXI7XHJcbn1cclxuXHJcbi8vIERvY3VtZW50IE9wZW4gVHlwZVxyXG4vLyBSZXByZXNlbnRzIHRoZSBtZXRob2Qgd2l0aCB3aGljaCB0aGUgZG9jdW1lbnQgd2FzIG9wZW5lZCBhdCB0aGUgY2xpZW50XHJcbmV4cG9ydCBlbnVtIE9wZW5UeXBlIHtcclxuICAgIC8vIHRoZSBkb2N1bWVudCB3YXMgbmV3bHkgY3JlYXRlZFxyXG4gICAgTmV3RG9jdW1lbnQgPSAwLFxyXG4gICAgLy8gYW4gb2xkIGRvY3VtZW50IG9wZW5lZCBmb3IgZWRpdGluZ1xyXG4gICAgRWRpdERvY3VtZW50ID0gMSxcclxuICAgIC8vIGRvY3VtZW50IHRvIGJlIHZpZXdlZFxyXG4gICAgVmlld09ubHlEb2N1bWVudCA9IDJcclxufVxyXG5cclxuLy8gRG9jdW1lbnRcclxuLy8gUmVwcmVzZW50cyBhIGRvY3VtZW50IG5vZGVcclxuZXhwb3J0IGludGVyZmFjZSBJRG9jdW1lbnQgZXh0ZW5kcyBJVGlsZUdyb3VwIHtcclxuICAgIC8vIHdoZXRoZXIgdGhlIGRvY3VtZW50IGlzIHJlYWRvbmx5IG9yIG5vdFxyXG4gICAgcmVhZG9ubHkgaXNSZWFkb25seTogYm9vbGVhbjtcclxuXHJcbiAgICAvLyBkb2N1bWVudCB1cmxcclxuICAgIHJlYWRvbmx5IHVybD86IHN0cmluZztcclxuXHJcbiAgICAvLyBkZXRlcm1pbmVzIHRoZSBPcGVuVHlwZSBvZiB0aGUgZG9jdW1lbnRcclxuICAgIHJlYWRvbmx5IG9wZW5UeXBlPzogT3BlblR5cGU7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBHcmlkQ29uc3RhbnRzIHtcclxuICAgIHN0YXRpYyByZWFkb25seSBsb3dlckluZGV4Qm91bmQgPSAxO1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IG1heE51bWJlck9mUm93cyA9IDEwNDg1NzY7XHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgbWF4TnVtYmVyT2ZDb2x1bW5zID0gMTYzODQ7XHJcbiAgICBzdGF0aWMgcmVhZG9ubHkgZmlyc3RDb2x1bW5OYW1lID0gJ0EnO1xyXG4gICAgc3RhdGljIHJlYWRvbmx5IGxhc3RDb2x1bW5OYW1lID0gJ1hGRCc7XHJcbn1cclxuXHJcbi8vIFJlcHJlc2VudHMgYW55IGNlbGwgd2l0aGluIGEgdGFibGUuIFRoaXMgY2FuIGJlIHVzZWQgYnkgYm90aCBXb3JkIGFuZCBFeGNlbCB0YWJsZXMuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUdyaWRDZWxsIGV4dGVuZHMgSVNjaGVtYU9iamVjdCB7XHJcbiAgICAvLyBUaGUgY29sdW1uIG51bWJlciBvZiB0aGlzIGNlbGxcclxuICAgIHJlYWRvbmx5IGNvbHVtbjogbnVtYmVyO1xyXG5cclxuICAgIC8vIFRoZSByb3cgbnVtYmVyIG9mIHRoaXMgY2VsbFxyXG4gICAgcmVhZG9ubHkgcm93OiBudW1iZXI7XHJcbn1cclxuXHJcbi8vIFJlcHJlc2VudHMgdGhlIGNvbnRleHQgb2YgdGhlIGdyaWQgbmVpZ2hib3Job29kIGZvciB3aGVuIGEgZ3JpZCBpcyBwYXNzZWQgdG9cclxuLy8gZXhlY3V0ZSB3b3JrZmxvdyBhcyBhbiBhcnJheS4gVXNlZCBieSB0aGUgd29ya2Zsb3cgdG8gcmVjb25zdHJ1Y3QgdGhlIG5laWdoYm9yaG9vZFxyXG5leHBvcnQgaW50ZXJmYWNlIElHcmlkTmVpZ2hib3Job29kQ29udGV4dCBleHRlbmRzIElTY2hlbWFPYmplY3Qge1xyXG4gICAgLy8gVGhlIHdpZHRoIG9mIHRoZSBuZWlnaGJvcmhvb2RcclxuICAgIHJlYWRvbmx5IHdpZHRoOiBudW1iZXI7XHJcblxyXG4gICAgLy8gVGhlIGhlaWdodCBvZiB0aGUgbmVpZ2hib3Job29kXHJcbiAgICByZWFkb25seSBoZWlnaHQ6IG51bWJlcjtcclxuXHJcbiAgICAvLyBUaGUgd2lkdGggb2YgdGhlIHJldHJpZXZlZCBwYXJ0IG9mIG5laWdoYm9yaG9vZFxyXG4gICAgcmVhZG9ubHkgcmV0cmlldmVkV2lkdGg6IG51bWJlcjtcclxuXHJcbiAgICAvLyBUaGUgaGVpZ2h0IG9mIHRoZSByZXRyaWV2ZWQgcGFydCBvZiBuZWlnaGJvcmhvb2RcclxuICAgIHJlYWRvbmx5IHJldHJpZXZlZEhlaWdodDogbnVtYmVyO1xyXG5cclxuICAgIC8vIFRoZSByb3cgb2YgdGhlIGNlbGwgYXQgdGhlIHRvcCBsZWZ0IG9mIHRoZSBuZWlnaGJvcmhvb2RcclxuICAgIHJlYWRvbmx5IG5laWdoYm9yaG9vZFRvcFJvdzogbnVtYmVyO1xyXG5cclxuICAgIC8vIFRoZSBjb2x1bW4gb2YgdGhlIGNlbGwgYXQgdGhlIHRvcCBsZWZ0IG9mIHRoZSBuZWlnaGJvcmhvb2RcclxuICAgIHJlYWRvbmx5IG5laWdoYm9yaG9vZExlZnRDb2x1bW46IG51bWJlcjtcclxuXHJcbiAgICAvLyBUaGUgcm93IG9mIHRoZSBjZWxsIGF0IHRoZSB0b3AgbGVmdCBvZiB0aGUgZ3JpZCBpbnNpZGUgdGhlIG5laWdoYm9yaG9vZFxyXG4gICAgcmVhZG9ubHkgdGFyZ2V0R3JpZFRvcFJvdzogbnVtYmVyO1xyXG5cclxuICAgIC8vIFRoZSBjb2x1bW4gb2YgdGhlIGNlbGwgYXQgdGhlIHRvcCBsZWZ0IG9mIHRoZSBncmlkIGluc2lkZSB0aGUgbmVpZ2hib3Job29kXHJcbiAgICByZWFkb25seSB0YXJnZXRHcmlkTGVmdENvbHVtbjogbnVtYmVyO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmVsYXRpdmUgbG9jYXRpb24gb2YgdG9wIHJvdyBvZiB0YXJnZXQgZ3JpZCBpbiB0aGUgbmVpZ2hib3Job29kXHJcbiAgICAgKi9cclxuICAgIHJlYWRvbmx5IHRhcmdldEdyaWRSZWxhdGl2ZVRvcFJvdzogbnVtYmVyO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmVsYXRpdmUgbG9jYXRpb24gb2YgbGVmdCBjb2x1bW4gb2YgdGFyZ2V0IGdyaWQgaW4gdGhlIG5laWdoYm9yaG9vZFxyXG4gICAgICovXHJcbiAgICByZWFkb25seSB0YXJnZXRHcmlkUmVsYXRpdmVMZWZ0Q29sdW1uOiBudW1iZXI7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbnVtYmVyIG9mIG5vbi1lbXB0eSBjZWxscyBvZiB0aGUgbmVpZ2hib3Job29kXHJcbiAgICAgKi9cclxuICAgIHJlYWRvbmx5IG51bWJlck9mTm9uRW1wdHlDZWxsczogbnVtYmVyO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@augloop/types-core/dist/src/tiles.js\n')},"./node_modules/es6-promise/auto.js":function(module,exports,__webpack_require__){"use strict";eval("// This file can be required in Browserify and Node.js for automatic polyfill\n// To use it:  require('es6-promise/auto');\n\nmodule.exports = __webpack_require__(/*! ./ */ \"./node_modules/es6-promise/dist/es6-promise.js\").polyfill();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZXM2LXByb21pc2UvYXV0by5qcz8wODIwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDYTtBQUNiLGlCQUFpQixtQkFBTyxDQUFDLDBEQUFJIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2VzNi1wcm9taXNlL2F1dG8uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGlzIGZpbGUgY2FuIGJlIHJlcXVpcmVkIGluIEJyb3dzZXJpZnkgYW5kIE5vZGUuanMgZm9yIGF1dG9tYXRpYyBwb2x5ZmlsbFxuLy8gVG8gdXNlIGl0OiAgcmVxdWlyZSgnZXM2LXByb21pc2UvYXV0bycpO1xuJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLycpLnBvbHlmaWxsKCk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/es6-promise/auto.js\n")},"./node_modules/es6-promise/dist/es6-promise.js":function(module,exports,__webpack_require__){eval("/* WEBPACK VAR INJECTION */(function(process, global) {/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n * @version   v4.2.8+1e68dce6\n */\n\n(function (global, factory) {\n\t true ? module.exports = factory() :\n\tundefined;\n}(this, (function () { 'use strict';\n\nfunction objectOrFunction(x) {\n  var type = typeof x;\n  return x !== null && (type === 'object' || type === 'function');\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\n\n\nvar _isArray = void 0;\nif (Array.isArray) {\n  _isArray = Array.isArray;\n} else {\n  _isArray = function (x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n  };\n}\n\nvar isArray = _isArray;\n\nvar len = 0;\nvar vertxNext = void 0;\nvar customSchedulerFn = void 0;\n\nvar asap = function asap(callback, arg) {\n  queue[len] = callback;\n  queue[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 2, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    if (customSchedulerFn) {\n      customSchedulerFn(flush);\n    } else {\n      scheduleFlush();\n    }\n  }\n};\n\nfunction setScheduler(scheduleFn) {\n  customSchedulerFn = scheduleFn;\n}\n\nfunction setAsap(asapFn) {\n  asap = asapFn;\n}\n\nvar browserWindow = typeof window !== 'undefined' ? window : undefined;\nvar browserGlobal = browserWindow || {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && {}.toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nvar isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // see https://github.com/cujojs/when/issues/410 for details\n  return function () {\n    return process.nextTick(flush);\n  };\n}\n\n// vertx\nfunction useVertxTimer() {\n  if (typeof vertxNext !== 'undefined') {\n    return function () {\n      vertxNext(flush);\n    };\n  }\n\n  return useSetTimeout();\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function () {\n    node.data = iterations = ++iterations % 2;\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  var channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return function () {\n    return channel.port2.postMessage(0);\n  };\n}\n\nfunction useSetTimeout() {\n  // Store setTimeout reference so es6-promise will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var globalSetTimeout = setTimeout;\n  return function () {\n    return globalSetTimeout(flush, 1);\n  };\n}\n\nvar queue = new Array(1000);\nfunction flush() {\n  for (var i = 0; i < len; i += 2) {\n    var callback = queue[i];\n    var arg = queue[i + 1];\n\n    callback(arg);\n\n    queue[i] = undefined;\n    queue[i + 1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertx() {\n  try {\n    var vertx = Function('return this')().require('vertx');\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch (e) {\n    return useSetTimeout();\n  }\n}\n\nvar scheduleFlush = void 0;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush = useMessageChannel();\n} else if (browserWindow === undefined && \"function\" === 'function') {\n  scheduleFlush = attemptVertx();\n} else {\n  scheduleFlush = useSetTimeout();\n}\n\nfunction then(onFulfillment, onRejection) {\n  var parent = this;\n\n  var child = new this.constructor(noop);\n\n  if (child[PROMISE_ID] === undefined) {\n    makePromise(child);\n  }\n\n  var _state = parent._state;\n\n\n  if (_state) {\n    var callback = arguments[_state - 1];\n    asap(function () {\n      return invokeCallback(_state, child, callback, parent._result);\n    });\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}\n\n/**\n  `Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {Any} value value that the returned promise will be resolved with\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve$1(object) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  var promise = new Constructor(noop);\n  resolve(promise, object);\n  return promise;\n}\n\nvar PROMISE_ID = Math.random().toString(36).substring(2);\n\nfunction noop() {}\n\nvar PENDING = void 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\n\nfunction selfFulfillment() {\n  return new TypeError(\"You cannot resolve a promise with itself\");\n}\n\nfunction cannotReturnOwn() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction tryThen(then$$1, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then$$1.call(value, fulfillmentHandler, rejectionHandler);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then$$1) {\n  asap(function (promise) {\n    var sealed = false;\n    var error = tryThen(then$$1, thenable, function (value) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n      if (thenable !== value) {\n        resolve(promise, value);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n\n      reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, function (value) {\n      return resolve(promise, value);\n    }, function (reason) {\n      return reject(promise, reason);\n    });\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then$$1) {\n  if (maybeThenable.constructor === promise.constructor && then$$1 === then && maybeThenable.constructor.resolve === resolve$1) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then$$1 === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then$$1)) {\n      handleForeignThenable(promise, maybeThenable, then$$1);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction resolve(promise, value) {\n  if (promise === value) {\n    reject(promise, selfFulfillment());\n  } else if (objectOrFunction(value)) {\n    var then$$1 = void 0;\n    try {\n      then$$1 = value.then;\n    } catch (error) {\n      reject(promise, error);\n      return;\n    }\n    handleMaybeThenable(promise, value, then$$1);\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onerror) {\n    promise._onerror(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length !== 0) {\n    asap(publish, promise);\n  }\n}\n\nfunction reject(promise, reason) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n  promise._state = REJECTED;\n  promise._result = reason;\n\n  asap(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var _subscribers = parent._subscribers;\n  var length = _subscribers.length;\n\n\n  parent._onerror = null;\n\n  _subscribers[length] = child;\n  _subscribers[length + FULFILLED] = onFulfillment;\n  _subscribers[length + REJECTED] = onRejection;\n\n  if (length === 0 && parent._state) {\n    asap(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  var subscribers = promise._subscribers;\n  var settled = promise._state;\n\n  if (subscribers.length === 0) {\n    return;\n  }\n\n  var child = void 0,\n      callback = void 0,\n      detail = promise._result;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  var hasCallback = isFunction(callback),\n      value = void 0,\n      error = void 0,\n      succeeded = true;\n\n  if (hasCallback) {\n    try {\n      value = callback(detail);\n    } catch (e) {\n      succeeded = false;\n      error = e;\n    }\n\n    if (promise === value) {\n      reject(promise, cannotReturnOwn());\n      return;\n    }\n  } else {\n    value = detail;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n    resolve(promise, value);\n  } else if (succeeded === false) {\n    reject(promise, error);\n  } else if (settled === FULFILLED) {\n    fulfill(promise, value);\n  } else if (settled === REJECTED) {\n    reject(promise, value);\n  }\n}\n\nfunction initializePromise(promise, resolver) {\n  try {\n    resolver(function resolvePromise(value) {\n      resolve(promise, value);\n    }, function rejectPromise(reason) {\n      reject(promise, reason);\n    });\n  } catch (e) {\n    reject(promise, e);\n  }\n}\n\nvar id = 0;\nfunction nextId() {\n  return id++;\n}\n\nfunction makePromise(promise) {\n  promise[PROMISE_ID] = id++;\n  promise._state = undefined;\n  promise._result = undefined;\n  promise._subscribers = [];\n}\n\nfunction validationError() {\n  return new Error('Array Methods must be provided an Array');\n}\n\nvar Enumerator = function () {\n  function Enumerator(Constructor, input) {\n    this._instanceConstructor = Constructor;\n    this.promise = new Constructor(noop);\n\n    if (!this.promise[PROMISE_ID]) {\n      makePromise(this.promise);\n    }\n\n    if (isArray(input)) {\n      this.length = input.length;\n      this._remaining = input.length;\n\n      this._result = new Array(this.length);\n\n      if (this.length === 0) {\n        fulfill(this.promise, this._result);\n      } else {\n        this.length = this.length || 0;\n        this._enumerate(input);\n        if (this._remaining === 0) {\n          fulfill(this.promise, this._result);\n        }\n      }\n    } else {\n      reject(this.promise, validationError());\n    }\n  }\n\n  Enumerator.prototype._enumerate = function _enumerate(input) {\n    for (var i = 0; this._state === PENDING && i < input.length; i++) {\n      this._eachEntry(input[i], i);\n    }\n  };\n\n  Enumerator.prototype._eachEntry = function _eachEntry(entry, i) {\n    var c = this._instanceConstructor;\n    var resolve$$1 = c.resolve;\n\n\n    if (resolve$$1 === resolve$1) {\n      var _then = void 0;\n      var error = void 0;\n      var didError = false;\n      try {\n        _then = entry.then;\n      } catch (e) {\n        didError = true;\n        error = e;\n      }\n\n      if (_then === then && entry._state !== PENDING) {\n        this._settledAt(entry._state, i, entry._result);\n      } else if (typeof _then !== 'function') {\n        this._remaining--;\n        this._result[i] = entry;\n      } else if (c === Promise$1) {\n        var promise = new c(noop);\n        if (didError) {\n          reject(promise, error);\n        } else {\n          handleMaybeThenable(promise, entry, _then);\n        }\n        this._willSettleAt(promise, i);\n      } else {\n        this._willSettleAt(new c(function (resolve$$1) {\n          return resolve$$1(entry);\n        }), i);\n      }\n    } else {\n      this._willSettleAt(resolve$$1(entry), i);\n    }\n  };\n\n  Enumerator.prototype._settledAt = function _settledAt(state, i, value) {\n    var promise = this.promise;\n\n\n    if (promise._state === PENDING) {\n      this._remaining--;\n\n      if (state === REJECTED) {\n        reject(promise, value);\n      } else {\n        this._result[i] = value;\n      }\n    }\n\n    if (this._remaining === 0) {\n      fulfill(promise, this._result);\n    }\n  };\n\n  Enumerator.prototype._willSettleAt = function _willSettleAt(promise, i) {\n    var enumerator = this;\n\n    subscribe(promise, undefined, function (value) {\n      return enumerator._settledAt(FULFILLED, i, value);\n    }, function (reason) {\n      return enumerator._settledAt(REJECTED, i, reason);\n    });\n  };\n\n  return Enumerator;\n}();\n\n/**\n  `Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = resolve(2);\n  let promise3 = resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = reject(new Error(\"2\"));\n  let promise3 = reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nfunction all(entries) {\n  return new Enumerator(this, entries).promise;\n}\n\n/**\n  `Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} promises array of promises to observe\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nfunction race(entries) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (!isArray(entries)) {\n    return new Constructor(function (_, reject) {\n      return reject(new TypeError('You must pass an array to race.'));\n    });\n  } else {\n    return new Constructor(function (resolve, reject) {\n      var length = entries.length;\n      for (var i = 0; i < length; i++) {\n        Constructor.resolve(entries[i]).then(resolve, reject);\n      }\n    });\n  }\n}\n\n/**\n  `Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {Any} reason value that the returned promise will be rejected with.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nfunction reject$1(reason) {\n  /*jshint validthis:true */\n  var Constructor = this;\n  var promise = new Constructor(noop);\n  reject(promise, reason);\n  return promise;\n}\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise's eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class Promise\n  @param {Function} resolver\n  Useful for tooling.\n  @constructor\n*/\n\nvar Promise$1 = function () {\n  function Promise(resolver) {\n    this[PROMISE_ID] = nextId();\n    this._result = this._state = undefined;\n    this._subscribers = [];\n\n    if (noop !== resolver) {\n      typeof resolver !== 'function' && needsResolver();\n      this instanceof Promise ? initializePromise(this, resolver) : needsNew();\n    }\n  }\n\n  /**\n  The primary way of interacting with a promise is through its `then` method,\n  which registers callbacks to receive either a promise's eventual value or the\n  reason why the promise cannot be fulfilled.\n   ```js\n  findUser().then(function(user){\n    // user is available\n  }, function(reason){\n    // user is unavailable, and you are given the reason why\n  });\n  ```\n   Chaining\n  --------\n   The return value of `then` is itself a promise.  This second, 'downstream'\n  promise is resolved with the return value of the first promise's fulfillment\n  or rejection handler, or rejected if the handler throws an exception.\n   ```js\n  findUser().then(function (user) {\n    return user.name;\n  }, function (reason) {\n    return 'default name';\n  }).then(function (userName) {\n    // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n    // will be `'default name'`\n  });\n   findUser().then(function (user) {\n    throw new Error('Found user, but still unhappy');\n  }, function (reason) {\n    throw new Error('`findUser` rejected and we're unhappy');\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n    // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n  });\n  ```\n  If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n   ```js\n  findUser().then(function (user) {\n    throw new PedagogicalException('Upstream error');\n  }).then(function (value) {\n    // never reached\n  }).then(function (value) {\n    // never reached\n  }, function (reason) {\n    // The `PedgagocialException` is propagated all the way down to here\n  });\n  ```\n   Assimilation\n  ------------\n   Sometimes the value you want to propagate to a downstream promise can only be\n  retrieved asynchronously. This can be achieved by returning a promise in the\n  fulfillment or rejection handler. The downstream promise will then be pending\n  until the returned promise is settled. This is called *assimilation*.\n   ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // The user's comments are now available\n  });\n  ```\n   If the assimliated promise rejects, then the downstream promise will also reject.\n   ```js\n  findUser().then(function (user) {\n    return findCommentsByAuthor(user);\n  }).then(function (comments) {\n    // If `findCommentsByAuthor` fulfills, we'll have the value here\n  }, function (reason) {\n    // If `findCommentsByAuthor` rejects, we'll have the reason here\n  });\n  ```\n   Simple Example\n  --------------\n   Synchronous Example\n   ```javascript\n  let result;\n   try {\n    result = findResult();\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n   Errback Example\n   ```js\n  findResult(function(result, err){\n    if (err) {\n      // failure\n    } else {\n      // success\n    }\n  });\n  ```\n   Promise Example;\n   ```javascript\n  findResult().then(function(result){\n    // success\n  }, function(reason){\n    // failure\n  });\n  ```\n   Advanced Example\n  --------------\n   Synchronous Example\n   ```javascript\n  let author, books;\n   try {\n    author = findAuthor();\n    books  = findBooksByAuthor(author);\n    // success\n  } catch(reason) {\n    // failure\n  }\n  ```\n   Errback Example\n   ```js\n   function foundBooks(books) {\n   }\n   function failure(reason) {\n   }\n   findAuthor(function(author, err){\n    if (err) {\n      failure(err);\n      // failure\n    } else {\n      try {\n        findBoooksByAuthor(author, function(books, err) {\n          if (err) {\n            failure(err);\n          } else {\n            try {\n              foundBooks(books);\n            } catch(reason) {\n              failure(reason);\n            }\n          }\n        });\n      } catch(error) {\n        failure(err);\n      }\n      // success\n    }\n  });\n  ```\n   Promise Example;\n   ```javascript\n  findAuthor().\n    then(findBooksByAuthor).\n    then(function(books){\n      // found books\n  }).catch(function(reason){\n    // something went wrong\n  });\n  ```\n   @method then\n  @param {Function} onFulfilled\n  @param {Function} onRejected\n  Useful for tooling.\n  @return {Promise}\n  */\n\n  /**\n  `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n  as the catch block of a try/catch statement.\n  ```js\n  function findAuthor(){\n  throw new Error('couldn't find that author');\n  }\n  // synchronous\n  try {\n  findAuthor();\n  } catch(reason) {\n  // something went wrong\n  }\n  // async with promises\n  findAuthor().catch(function(reason){\n  // something went wrong\n  });\n  ```\n  @method catch\n  @param {Function} onRejection\n  Useful for tooling.\n  @return {Promise}\n  */\n\n\n  Promise.prototype.catch = function _catch(onRejection) {\n    return this.then(null, onRejection);\n  };\n\n  /**\n    `finally` will be invoked regardless of the promise's fate just as native\n    try/catch/finally behaves\n  \n    Synchronous example:\n  \n    ```js\n    findAuthor() {\n      if (Math.random() > 0.5) {\n        throw new Error();\n      }\n      return new Author();\n    }\n  \n    try {\n      return findAuthor(); // succeed or fail\n    } catch(error) {\n      return findOtherAuther();\n    } finally {\n      // always runs\n      // doesn't affect the return value\n    }\n    ```\n  \n    Asynchronous example:\n  \n    ```js\n    findAuthor().catch(function(reason){\n      return findOtherAuther();\n    }).finally(function(){\n      // author was either found, or not\n    });\n    ```\n  \n    @method finally\n    @param {Function} callback\n    @return {Promise}\n  */\n\n\n  Promise.prototype.finally = function _finally(callback) {\n    var promise = this;\n    var constructor = promise.constructor;\n\n    if (isFunction(callback)) {\n      return promise.then(function (value) {\n        return constructor.resolve(callback()).then(function () {\n          return value;\n        });\n      }, function (reason) {\n        return constructor.resolve(callback()).then(function () {\n          throw reason;\n        });\n      });\n    }\n\n    return promise.then(callback, callback);\n  };\n\n  return Promise;\n}();\n\nPromise$1.prototype.then = then;\nPromise$1.all = all;\nPromise$1.race = race;\nPromise$1.resolve = resolve$1;\nPromise$1.reject = reject$1;\nPromise$1._setScheduler = setScheduler;\nPromise$1._setAsap = setAsap;\nPromise$1._asap = asap;\n\n/*global self*/\nfunction polyfill() {\n  var local = void 0;\n\n  if (typeof global !== 'undefined') {\n    local = global;\n  } else if (typeof self !== 'undefined') {\n    local = self;\n  } else {\n    try {\n      local = Function('return this')();\n    } catch (e) {\n      throw new Error('polyfill failed because global object is unavailable in this environment');\n    }\n  }\n\n  var P = local.Promise;\n\n  if (P) {\n    var promiseToString = null;\n    try {\n      promiseToString = Object.prototype.toString.call(P.resolve());\n    } catch (e) {\n      // silently ignored\n    }\n\n    if (promiseToString === '[object Promise]' && !P.cast) {\n      return;\n    }\n  }\n\n  local.Promise = Promise$1;\n}\n\n// Strange compat..\nPromise$1.polyfill = polyfill;\nPromise$1.Promise = Promise$1;\n\nreturn Promise$1;\n\n})));\n\n\n\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../process/browser.js */ \"./node_modules/process/browser.js\"), __webpack_require__(/*! ./../../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vY29uZmlnL3ZlcnNpb25UZW1wbGF0ZS50eHQ/MDk1MCIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlL3V0aWxzLmpzP2ZhYTEiLCJ3ZWJwYWNrOi8vL2xpYi9lczYtcHJvbWlzZS9hc2FwLmpzPzc2N2YiLCJ3ZWJwYWNrOi8vL2xpYi9lczYtcHJvbWlzZS90aGVuLmpzP2JhYzYiLCJ3ZWJwYWNrOi8vL2xpYi9lczYtcHJvbWlzZS9wcm9taXNlL3Jlc29sdmUuanM/MDQwNSIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlLy1pbnRlcm5hbC5qcz9mMWI2Iiwid2VicGFjazovLy9saWIvZXM2LXByb21pc2UvZW51bWVyYXRvci5qcz9hNGJjIiwid2VicGFjazovLy9saWIvZXM2LXByb21pc2UvcHJvbWlzZS9hbGwuanM/YzFhNyIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlL3Byb21pc2UvcmFjZS5qcz8zN2NiIiwid2VicGFjazovLy9saWIvZXM2LXByb21pc2UvcHJvbWlzZS9yZWplY3QuanM/NTFjNyIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlL3Byb21pc2UuanM/NTQwYiIsIndlYnBhY2s6Ly8vbGliL2VzNi1wcm9taXNlL3BvbHlmaWxsLmpzPzAzNTUiLCJ3ZWJwYWNrOi8vL2xpYi9lczYtcHJvbWlzZS5qcz8yZDRlIl0sIm5hbWVzIjpbInJlc29sdmUiLCJfcmVzb2x2ZSIsInRoZW4iLCJvcmlnaW5hbFRoZW4iLCJvcmlnaW5hbFJlc29sdmUiLCJQcm9taXNlIiwicmVqZWN0IiwiX3JlamVjdCIsIlJlc29sdmUiLCJSZWplY3QiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FDTk8sU0FBUyxnQkFBZ0IsQ0FBQyxDQUFDLEVBQUU7RUFDbEMsSUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLENBQUM7RUFDcEIsT0FBTyxDQUFDLEtBQUssSUFBSSxLQUFLLElBQUksS0FBSyxRQUFRLElBQUksSUFBSSxLQUFLLFVBQVUsQ0FBQyxDQUFDO0NBQ2pFOztBQUVNLFNBQVMsVUFBVSxDQUFDLENBQUMsRUFBRTtFQUM1QixPQUFPLE9BQU8sQ0FBQyxLQUFLLFVBQVUsQ0FBQztDQUNoQzs7QUFJQTs7QUFFRCxJQUFJLFFBQVEsR0FBRyxLQUFLLENBQUMsQ0FBQztBQUN0QixJQUFJLEtBQUssQ0FBQyxPQUFPLEVBQUU7RUFDakIsUUFBUSxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUM7Q0FDMUIsTUFBTTtFQUNMLFFBQVEsR0FBRyxVQUFVLENBQUMsRUFBRTtJQUN0QixPQUFPLE1BQU0sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxnQkFBZ0IsQ0FBQztHQUMvRCxDQUFDO0NBQ0g7O0FBRU0sSUFBSSxPQUFPLEdBQUcsUUFBUTs7QUN0QjdCLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztBQUNaLElBQUksU0FBUyxHQUFHLEtBQUssQ0FBQyxDQUFDO0FBQ3ZCLElBQUksaUJBQWlCLEdBQUcsS0FBSyxDQUFDLENBQUM7O0FBRXhCLElBQUksSUFBSSxHQUFHLFNBQVMsSUFBSSxDQUFDLFFBQVEsRUFBRSxHQUFHLEVBQUU7RUFDN0MsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLFFBQVEsQ0FBQztFQUN0QixLQUFLLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztFQUNyQixHQUFHLElBQUksQ0FBQyxDQUFDO0VBQ1QsSUFBSSxHQUFHLEtBQUssQ0FBQyxFQUFFOzs7O0lBSWIsSUFBSSxpQkFBaUIsRUFBRTtNQUNyQixpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztLQUMxQixNQUFNO01BQ0wsYUFBYSxFQUFFLENBQUM7S0FDakI7R0FDRjtDQUNGLENBQUM7O0FBRUssU0FBUyxZQUFZLENBQUMsVUFBVSxFQUFFO0VBQ3ZDLGlCQUFpQixHQUFHLFVBQVUsQ0FBQztDQUNoQzs7QUFFTSxTQUFTLE9BQU8sQ0FBQyxNQUFNLEVBQUU7RUFDOUIsSUFBSSxHQUFHLE1BQU0sQ0FBQztDQUNmOztBQUVELElBQUksYUFBYSxHQUFHLE9BQU8sTUFBTSxLQUFLLFdBQVcsR0FBRyxNQUFNLEdBQUcsU0FBUyxDQUFDO0FBQ3ZFLElBQUksYUFBYSxHQUFHLGFBQWEsSUFBSSxFQUFFLENBQUM7QUFDeEMsSUFBSSx1QkFBdUIsR0FBRyxhQUFhLENBQUMsZ0JBQWdCLElBQUksYUFBYSxDQUFDLHNCQUFzQixDQUFDO0FBQ3JHLElBQUksTUFBTSxHQUFHLE9BQU8sSUFBSSxLQUFLLFdBQVcsSUFBSSxPQUFPLE9BQU8sS0FBSyxXQUFXLElBQUksRUFBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssa0JBQWtCLENBQUM7OztBQUcvSCxJQUFJLFFBQVEsR0FBRyxPQUFPLGlCQUFpQixLQUFLLFdBQVcsSUFBSSxPQUFPLGFBQWEsS0FBSyxXQUFXLElBQUksT0FBTyxjQUFjLEtBQUssV0FBVyxDQUFDOzs7QUFHekksU0FBUyxXQUFXLEdBQUc7OztFQUdyQixPQUFPLFlBQVk7SUFDakIsT0FBTyxPQUFPLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0dBQ2hDLENBQUM7Q0FDSDs7O0FBR0QsU0FBUyxhQUFhLEdBQUc7RUFDdkIsSUFBSSxPQUFPLFNBQVMsS0FBSyxXQUFXLEVBQUU7SUFDcEMsT0FBTyxZQUFZO01BQ2pCLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztLQUNsQixDQUFDO0dBQ0g7O0VBRUQsT0FBTyxhQUFhLEVBQUUsQ0FBQztDQUN4Qjs7QUFFRCxTQUFTLG1CQUFtQixHQUFHO0VBQzdCLElBQUksVUFBVSxHQUFHLENBQUMsQ0FBQztFQUNuQixJQUFJLFFBQVEsR0FBRyxJQUFJLHVCQUF1QixDQUFDLEtBQUssQ0FBQyxDQUFDO0VBQ2xELElBQUksSUFBSSxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsRUFBRSxDQUFDLENBQUM7RUFDdkMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQzs7RUFFaEQsT0FBTyxZQUFZO0lBQ2pCLElBQUksQ0FBQyxJQUFJLEdBQUcsVUFBVSxHQUFHLEVBQUUsVUFBVSxHQUFHLENBQUMsQ0FBQztHQUMzQyxDQUFDO0NBQ0g7OztBQUdELFNBQVMsaUJBQWlCLEdBQUc7RUFDM0IsSUFBSSxPQUFPLEdBQUcsSUFBSSxjQUFjLEVBQUUsQ0FBQztFQUNuQyxPQUFPLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7RUFDaEMsT0FBTyxZQUFZO0lBQ2pCLE9BQU8sT0FBTyxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7R0FDckMsQ0FBQztDQUNIOztBQUVELFNBQVMsYUFBYSxHQUFHOzs7RUFHdkIsSUFBSSxnQkFBZ0IsR0FBRyxVQUFVLENBQUM7RUFDbEMsT0FBTyxZQUFZO0lBQ2pCLE9BQU8sZ0JBQWdCLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO0dBQ25DLENBQUM7Q0FDSDs7QUFFRCxJQUFJLEtBQUssR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUM1QixTQUFTLEtBQUssR0FBRztFQUNmLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRTtJQUMvQixJQUFJLFFBQVEsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDeEIsSUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQzs7SUFFdkIsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDOztJQUVkLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUM7SUFDckIsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUM7R0FDMUI7O0VBRUQsR0FBRyxHQUFHLENBQUMsQ0FBQztDQUNUOztBQUVELFNBQVMsWUFBWSxHQUFHO0VBQ3RCLElBQUk7SUFDRixJQUFJLEtBQUssR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDdkQsU0FBUyxHQUFHLEtBQUssQ0FBQyxTQUFTLElBQUksS0FBSyxDQUFDLFlBQVksQ0FBQztJQUNsRCxPQUFPLGFBQWEsRUFBRSxDQUFDO0dBQ3hCLENBQUMsT0FBTyxDQUFDLEVBQUU7SUFDVixPQUFPLGFBQWEsRUFBRSxDQUFDO0dBQ3hCO0NBQ0Y7O0FBRUQsSUFBSSxhQUFhLEdBQUcsS0FBSyxDQUFDLENBQUM7O0FBRTNCLElBQUksTUFBTSxFQUFFO0VBQ1YsYUFBYSxHQUFHLFdBQVcsRUFBRSxDQUFDO0NBQy9CLE1BQU0sSUFBSSx1QkFBdUIsRUFBRTtFQUNsQyxhQUFhLEdBQUcsbUJBQW1CLEVBQUUsQ0FBQztDQUN2QyxNQUFNLElBQUksUUFBUSxFQUFFO0VBQ25CLGFBQWEsR0FBRyxpQkFBaUIsRUFBRSxDQUFDO0NBQ3JDLE1BQU0sSUFBSSxhQUFhLEtBQUssU0FBUyxJQUFJLFVBQWMsS0FBSyxVQUFVLEVBQUU7RUFDdkUsYUFBYSxHQUFHLFlBQVksRUFBRSxDQUFDO0NBQ2hDLE1BQU07RUFDTCxhQUFhLEdBQUcsYUFBYSxFQUFFLENBQUM7OztBQ3JIbkIsQ0RzSGQsUUN0SHVCLElBQUksQ0FBQyxhQUFhLEVBQUUsV0FBVyxFQUFFO0VBQ3ZELElBQUksTUFBTSxHQUFHLElBQUksQ0FBQzs7RUFFbEIsSUFBSSxLQUFLLEdBQUcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDOztFQUV2QyxJQUFJLEtBQUssQ0FBQyxVQUFVLENBQUMsS0FBSyxTQUFTLEVBQUU7SUFDbkMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO0dBQ3BCOztFQUVELElBQUksTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7OztFQUczQixJQUFJLE1BQU0sRUFBRTtJQUNWLElBQUksUUFBUSxHQUFHLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDckMsSUFBSSxDQUFDLFlBQVk7TUFDZixPQUFPLGNBQWMsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7S0FDaEUsQ0FBQyxDQUFDO0dBQ0osTUFBTTtJQUNMLFNBQVMsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLGFBQWEsRUFBRSxXQUFXLENBQUMsQ0FBQztHQUN0RDs7RUFFRCxPQUFPLEtBQUssQ0FBQzs7O0FDdkJmLENEd0JDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDT2MsU0FBU0EsU0FBTyxDQUFDLE1BQU0sRUFBRTs7RUFFdEMsSUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDOztFQUV2QixJQUFJLE1BQU0sSUFBSSxPQUFPLE1BQU0sS0FBSyxRQUFRLElBQUksTUFBTSxDQUFDLFdBQVcsS0FBSyxXQUFXLEVBQUU7SUFDOUUsT0FBTyxNQUFNLENBQUM7R0FDZjs7RUFFRCxJQUFJLE9BQU8sR0FBRyxJQUFJLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztFQUNwQ0MsT0FBUSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQztFQUMxQixPQUFPLE9BQU8sQ0FBQzs7O0FDcENWLENEcUNOLEdDckNVLFVBQVUsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7QUFFaEUsU0FBUyxJQUFJLEdBQUcsRUFBRTs7QUFFbEIsSUFBSSxPQUFPLEdBQUcsS0FBSyxDQUFDLENBQUM7QUFDckIsSUFBSSxTQUFTLEdBQUcsQ0FBQyxDQUFDO0FBQ2xCLElBQUksUUFBUSxHQUFHLENBQUMsQ0FBQzs7QUFFakIsU0FBUyxlQUFlLEdBQUc7RUFDekIsT0FBTyxJQUFJLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFDO0NBQ2xFOztBQUVELFNBQVMsZUFBZSxHQUFHO0VBQ3pCLE9BQU8sSUFBSSxTQUFTLENBQUMsc0RBQXNELENBQUMsQ0FBQztDQUM5RTs7QUFFRCxTQUFTLE9BQU8sQ0FBQ0MsT0FBSSxFQUFFLEtBQUssRUFBRSxrQkFBa0IsRUFBRSxnQkFBZ0IsRUFBRTtFQUNsRSxJQUFJO0lBQ0ZBLE9BQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLGtCQUFrQixFQUFFLGdCQUFnQixDQUFDLENBQUM7R0FDeEQsQ0FBQyxPQUFPLENBQUMsRUFBRTtJQUNWLE9BQU8sQ0FBQyxDQUFDO0dBQ1Y7Q0FDRjs7QUFFRCxTQUFTLHFCQUFxQixDQUFDLE9BQU8sRUFBRSxRQUFRLEVBQUVBLE9BQUksRUFBRTtFQUN0RCxJQUFJLENBQUMsVUFBVSxPQUFPLEVBQUU7SUFDdEIsSUFBSSxNQUFNLEdBQUcsS0FBSyxDQUFDO0lBQ25CLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQ0EsT0FBSSxFQUFFLFFBQVEsRUFBRSxVQUFVLEtBQUssRUFBRTtNQUNuRCxJQUFJLE1BQU0sRUFBRTtRQUNWLE9BQU87T0FDUjtNQUNELE1BQU0sR0FBRyxJQUFJLENBQUM7TUFDZCxJQUFJLFFBQVEsS0FBSyxLQUFLLEVBQUU7UUFDdEIsT0FBTyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztPQUN6QixNQUFNO1FBQ0wsT0FBTyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztPQUN6QjtLQUNGLEVBQUUsVUFBVSxNQUFNLEVBQUU7TUFDbkIsSUFBSSxNQUFNLEVBQUU7UUFDVixPQUFPO09BQ1I7TUFDRCxNQUFNLEdBQUcsSUFBSSxDQUFDOztNQUVkLE1BQU0sQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUM7S0FDekIsRUFBRSxVQUFVLElBQUksT0FBTyxDQUFDLE1BQU0sSUFBSSxrQkFBa0IsQ0FBQyxDQUFDLENBQUM7O0lBRXhELElBQUksQ0FBQyxNQUFNLElBQUksS0FBSyxFQUFFO01BQ3BCLE1BQU0sR0FBRyxJQUFJLENBQUM7TUFDZCxNQUFNLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQ3hCO0dBQ0YsRUFBRSxPQUFPLENBQUMsQ0FBQztDQUNiOztBQUVELFNBQVMsaUJBQWlCLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRTtFQUM1QyxJQUFJLFFBQVEsQ0FBQyxNQUFNLEtBQUssU0FBUyxFQUFFO0lBQ2pDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0dBQ3BDLE1BQU0sSUFBSSxRQUFRLENBQUMsTUFBTSxLQUFLLFFBQVEsRUFBRTtJQUN2QyxNQUFNLENBQUMsT0FBTyxFQUFFLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQztHQUNuQyxNQUFNO0lBQ0wsU0FBUyxDQUFDLFFBQVEsRUFBRSxTQUFTLEVBQUUsVUFBVSxLQUFLLEVBQUU7TUFDOUMsT0FBTyxPQUFPLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQ2hDLEVBQUUsVUFBVSxNQUFNLEVBQUU7TUFDbkIsT0FBTyxNQUFNLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0tBQ2hDLENBQUMsQ0FBQztHQUNKO0NBQ0Y7O0FBRUQsU0FBUyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsYUFBYSxFQUFFQSxPQUFJLEVBQUU7RUFDekQsSUFBSSxhQUFhLENBQUMsV0FBVyxLQUFLLE9BQU8sQ0FBQyxXQUFXLElBQUlBLE9BQUksS0FBS0MsSUFBWSxJQUFJLGFBQWEsQ0FBQyxXQUFXLENBQUMsT0FBTyxLQUFLQyxTQUFlLEVBQUU7SUFDdkksaUJBQWlCLENBQUMsT0FBTyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0dBQzNDLE1BQU07SUFDTCxJQUFJRixPQUFJLEtBQUssU0FBUyxFQUFFO01BQ3RCLE9BQU8sQ0FBQyxPQUFPLEVBQUUsYUFBYSxDQUFDLENBQUM7S0FDakMsTUFBTSxJQUFJLFVBQVUsQ0FBQ0EsT0FBSSxDQUFDLEVBQUU7TUFDM0IscUJBQXFCLENBQUMsT0FBTyxFQUFFLGFBQWEsRUFBRUEsT0FBSSxDQUFDLENBQUM7S0FDckQsTUFBTTtNQUNMLE9BQU8sQ0FBQyxPQUFPLEVBQUUsYUFBYSxDQUFDLENBQUM7S0FDakM7R0FDRjtDQUNGOztBQUVELFNBQVMsT0FBTyxDQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUU7RUFDL0IsSUFBSSxPQUFPLEtBQUssS0FBSyxFQUFFO0lBQ3JCLE1BQU0sQ0FBQyxPQUFPLEVBQUUsZUFBZSxFQUFFLENBQUMsQ0FBQztHQUNwQyxNQUFNLElBQUksZ0JBQWdCLENBQUMsS0FBSyxDQUFDLEVBQUU7SUFDbEMsSUFBSUEsT0FBSSxHQUFHLEtBQUssQ0FBQyxDQUFDO0lBQ2xCLElBQUk7TUFDRkEsT0FBSSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUM7S0FDbkIsQ0FBQyxPQUFPLEtBQUssRUFBRTtNQUNkLE1BQU0sQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7TUFDdkIsT0FBTztLQUNSO0lBQ0QsbUJBQW1CLENBQUMsT0FBTyxFQUFFLEtBQUssRUFBRUEsT0FBSSxDQUFDLENBQUM7R0FDM0MsTUFBTTtJQUNMLE9BQU8sQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7R0FDekI7Q0FDRjs7QUFFRCxTQUFTLGdCQUFnQixDQUFDLE9BQU8sRUFBRTtFQUNqQyxJQUFJLE9BQU8sQ0FBQyxRQUFRLEVBQUU7SUFDcEIsT0FBTyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7R0FDbkM7O0VBRUQsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0NBQ2xCOztBQUVELFNBQVMsT0FBTyxDQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUU7RUFDL0IsSUFBSSxPQUFPLENBQUMsTUFBTSxLQUFLLE9BQU8sRUFBRTtJQUM5QixPQUFPO0dBQ1I7O0VBRUQsT0FBTyxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7RUFDeEIsT0FBTyxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUM7O0VBRTNCLElBQUksT0FBTyxDQUFDLFlBQVksQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO0lBQ3JDLElBQUksQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7R0FDeEI7Q0FDRjs7QUFFRCxTQUFTLE1BQU0sQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFO0VBQy9CLElBQUksT0FBTyxDQUFDLE1BQU0sS0FBSyxPQUFPLEVBQUU7SUFDOUIsT0FBTztHQUNSO0VBQ0QsT0FBTyxDQUFDLE1BQU0sR0FBRyxRQUFRLENBQUM7RUFDMUIsT0FBTyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7O0VBRXpCLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxPQUFPLENBQUMsQ0FBQztDQUNqQzs7QUFFRCxTQUFTLFNBQVMsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLGFBQWEsRUFBRSxXQUFXLEVBQUU7RUFDNUQsSUFBSSxZQUFZLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQztFQUN2QyxJQUFJLE1BQU0sR0FBRyxZQUFZLENBQUMsTUFBTSxDQUFDOzs7RUFHakMsTUFBTSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7O0VBRXZCLFlBQVksQ0FBQyxNQUFNLENBQUMsR0FBRyxLQUFLLENBQUM7RUFDN0IsWUFBWSxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUMsR0FBRyxhQUFhLENBQUM7RUFDakQsWUFBWSxDQUFDLE1BQU0sR0FBRyxRQUFRLENBQUMsR0FBRyxXQUFXLENBQUM7O0VBRTlDLElBQUksTUFBTSxLQUFLLENBQUMsSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFO0lBQ2pDLElBQUksQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUM7R0FDdkI7Q0FDRjs7QUFFRCxTQUFTLE9BQU8sQ0FBQyxPQUFPLEVBQUU7RUFDeEIsSUFBSSxXQUFXLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQztFQUN2QyxJQUFJLE9BQU8sR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDOztFQUU3QixJQUFJLFdBQVcsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO0lBQzVCLE9BQU87R0FDUjs7RUFFRCxJQUFJLEtBQUssR0FBRyxLQUFLLENBQUM7TUFDZCxRQUFRLEdBQUcsS0FBSyxDQUFDO01BQ2pCLE1BQU0sR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDOztFQUU3QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsV0FBVyxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFO0lBQzlDLEtBQUssR0FBRyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdkIsUUFBUSxHQUFHLFdBQVcsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUM7O0lBRXBDLElBQUksS0FBSyxFQUFFO01BQ1QsY0FBYyxDQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0tBQ2xELE1BQU07TUFDTCxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7S0FDbEI7R0FDRjs7RUFFRCxPQUFPLENBQUMsWUFBWSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7Q0FDakM7O0FBRUQsU0FBUyxjQUFjLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFO0VBQzFELElBQUksV0FBVyxHQUFHLFVBQVUsQ0FBQyxRQUFRLENBQUM7TUFDbEMsS0FBSyxHQUFHLEtBQUssQ0FBQztNQUNkLEtBQUssR0FBRyxLQUFLLENBQUM7TUFDZCxTQUFTLEdBQUcsSUFBSSxDQUFDOztFQUVyQixJQUFJLFdBQVcsRUFBRTtJQUNmLElBQUk7TUFDRixLQUFLLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0tBQzFCLENBQUMsT0FBTyxDQUFDLEVBQUU7TUFDVixTQUFTLEdBQUcsS0FBSyxDQUFDO01BQ2xCLEtBQUssR0FBRyxDQUFDLENBQUM7S0FDWDs7SUFFRCxJQUFJLE9BQU8sS0FBSyxLQUFLLEVBQUU7TUFDckIsTUFBTSxDQUFDLE9BQU8sRUFBRSxlQUFlLEVBQUUsQ0FBQyxDQUFDO01BQ25DLE9BQU87S0FDUjtHQUNGLE1BQU07SUFDTCxLQUFLLEdBQUcsTUFBTSxDQUFDO0dBQ2hCOztFQUVELElBQUksT0FBTyxDQUFDLE1BQU0sS0FBSyxPQUFPLEVBQUU7O0dBRS9CLE1BQU0sSUFBSSxXQUFXLElBQUksU0FBUyxFQUFFO0lBQ25DLE9BQU8sQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7R0FDekIsTUFBTSxJQUFJLFNBQVMsS0FBSyxLQUFLLEVBQUU7SUFDOUIsTUFBTSxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztHQUN4QixNQUFNLElBQUksT0FBTyxLQUFLLFNBQVMsRUFBRTtJQUNoQyxPQUFPLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDO0dBQ3pCLE1BQU0sSUFBSSxPQUFPLEtBQUssUUFBUSxFQUFFO0lBQy9CLE1BQU0sQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7R0FDeEI7Q0FDRjs7QUFFRCxTQUFTLGlCQUFpQixDQUFDLE9BQU8sRUFBRSxRQUFRLEVBQUU7RUFDNUMsSUFBSTtJQUNGLFFBQVEsQ0FBQyxTQUFTLGNBQWMsQ0FBQyxLQUFLLEVBQUU7TUFDdEMsT0FBTyxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztLQUN6QixFQUFFLFNBQVMsYUFBYSxDQUFDLE1BQU0sRUFBRTtNQUNoQyxNQUFNLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0tBQ3pCLENBQUMsQ0FBQztHQUNKLENBQUMsT0FBTyxDQUFDLEVBQUU7SUFDVixNQUFNLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDO0dBQ3BCO0NBQ0Y7O0FBRUQsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ1gsU0FBUyxNQUFNLEdBQUc7RUFDaEIsT0FBTyxFQUFFLEVBQUUsQ0FBQztDQUNiOztBQUVELFNBQVMsV0FBVyxDQUFDLE9BQU8sRUFBRTtFQUM1QixPQUFPLENBQUMsVUFBVSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUM7RUFDM0IsT0FBTyxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUM7RUFDM0IsT0FBTyxDQUFDLE9BQU8sR0FBRyxTQUFTLENBQUM7RUFDNUIsT0FBTyxDQUFDLFlBQVksR0FBRyxFQUFFLENBQUM7Q0FDM0I7O0FDaE9ELFNBQVMsZUFBZSxHQUFHO0VBQ3pCLE9BQU8sSUFBSSxLQUFLLENBQUMseUNBQXlDLENBQUMsQ0FBQztDQUM1RDs7QUFFRixJQUFJLFVBQVUsR0FBRyxZQUFZO0VBQzNCLFNBQVMsVUFBVSxDQUFDLFdBQVcsRUFBRSxLQUFLLEVBQUU7SUFDdEMsSUFBSSxDQUFDLG9CQUFvQixHQUFHLFdBQVcsQ0FBQztJQUN4QyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDOztJQUVyQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsRUFBRTtNQUM3QixXQUFXLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0tBQzNCOztJQUVELElBQUksT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO01BQ2xCLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQztNQUMzQixJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUM7O01BRS9CLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDOztNQUV0QyxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1FBQ3JCLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztPQUNyQyxNQUFNO1FBQ0wsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQztRQUMvQixJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3ZCLElBQUksSUFBSSxDQUFDLFVBQVUsS0FBSyxDQUFDLEVBQUU7VUFDekIsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQ3JDO09BQ0Y7S0FDRixNQUFNO01BQ0wsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsZUFBZSxFQUFFLENBQUMsQ0FBQztLQUN6QztHQUNGOztFQUVELFVBQVUsQ0FBQyxTQUFTLENBQUMsVUFBVSxHQUFHLFNBQVMsVUFBVSxDQUFDLEtBQUssRUFBRTtJQUMzRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxLQUFLLE9BQU8sSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtNQUNoRSxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztLQUM5QjtHQUNGLENBQUM7O0VBRUYsVUFBVSxDQUFDLFNBQVMsQ0FBQyxVQUFVLEdBQUcsU0FBUyxVQUFVLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRTtJQUM5RCxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUM7SUFDbEMsSUFBSUYsVUFBTyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUM7OztJQUd4QixJQUFJQSxVQUFPLEtBQUtJLFNBQWUsRUFBRTtNQUMvQixJQUFJLEtBQUssR0FBRyxLQUFLLENBQUMsQ0FBQztNQUNuQixJQUFJLEtBQUssR0FBRyxLQUFLLENBQUMsQ0FBQztNQUNuQixJQUFJLFFBQVEsR0FBRyxLQUFLLENBQUM7TUFDckIsSUFBSTtRQUNGLEtBQUssR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDO09BQ3BCLENBQUMsT0FBTyxDQUFDLEVBQUU7UUFDVixRQUFRLEdBQUcsSUFBSSxDQUFDO1FBQ2hCLEtBQUssR0FBRyxDQUFDLENBQUM7T0FDWDs7TUFFRCxJQUFJLEtBQUssS0FBS0QsSUFBWSxJQUFJLEtBQUssQ0FBQyxNQUFNLEtBQUssT0FBTyxFQUFFO1FBQ3RELElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO09BQ2pELE1BQU0sSUFBSSxPQUFPLEtBQUssS0FBSyxVQUFVLEVBQUU7UUFDdEMsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDO09BQ3pCLE1BQU0sSUFBSSxDQUFDLEtBQUtFLFNBQU8sRUFBRTtRQUN4QixJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMxQixJQUFJLFFBQVEsRUFBRTtVQUNaLE1BQU0sQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7U0FDeEIsTUFBTTtVQUNMLG1CQUFtQixDQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7U0FDNUM7UUFDRCxJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQztPQUNoQyxNQUFNO1FBQ0wsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxVQUFVTCxVQUFPLEVBQUU7VUFDMUMsT0FBT0EsVUFBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ3ZCLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztPQUNSO0tBQ0YsTUFBTTtNQUNMLElBQUksQ0FBQyxhQUFhLENBQUNBLFVBQU8sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztLQUN2QztHQUNGLENBQUM7O0VBRUYsVUFBVSxDQUFDLFNBQVMsQ0FBQyxVQUFVLEdBQUcsU0FBUyxVQUFVLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUU7SUFDckUsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQzs7O0lBRzNCLElBQUksT0FBTyxDQUFDLE1BQU0sS0FBSyxPQUFPLEVBQUU7TUFDOUIsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDOztNQUVsQixJQUFJLEtBQUssS0FBSyxRQUFRLEVBQUU7UUFDdEIsTUFBTSxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztPQUN4QixNQUFNO1FBQ0wsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUM7T0FDekI7S0FDRjs7SUFFRCxJQUFJLElBQUksQ0FBQyxVQUFVLEtBQUssQ0FBQyxFQUFFO01BQ3pCLE9BQU8sQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0tBQ2hDO0dBQ0YsQ0FBQzs7RUFFRixVQUFVLENBQUMsU0FBUyxDQUFDLGFBQWEsR0FBRyxTQUFTLGFBQWEsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxFQUFFO0lBQ3RFLElBQUksVUFBVSxHQUFHLElBQUksQ0FBQzs7SUFFdEIsU0FBUyxDQUFDLE9BQU8sRUFBRSxTQUFTLEVBQUUsVUFBVSxLQUFLLEVBQUU7TUFDN0MsT0FBTyxVQUFVLENBQUMsVUFBVSxDQUFDLFNBQVMsRUFBRSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7S0FDbkQsRUFBRSxVQUFVLE1BQU0sRUFBRTtNQUNuQixPQUFPLFVBQVUsQ0FBQyxVQUFVLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQztLQUNuRCxDQUFDLENBQUM7R0FDSixDQUFDOztFQUVGLE9BQU8sVUFBVSxDQUFDO0NBQ25CLEVBQUU7O0FDckhIOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQStDZSxTQUFTLEdBQUcsQ0FBQyxPQUFPLEVBQUU7RUFDbkMsT0FBTyxJQUFJLFVBQVUsQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDOzs7QUNoRC9DLENEaURDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2dCYyxTQUFTLElBQUksQ0FBQyxPQUFPLEVBQUU7O0VBRXBDLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQzs7RUFFdkIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRTtJQUNyQixPQUFPLElBQUksV0FBVyxDQUFDLFVBQVUsQ0FBQyxFQUFFLE1BQU0sRUFBRTtNQUMxQyxPQUFPLE1BQU0sQ0FBQyxJQUFJLFNBQVMsQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDLENBQUM7S0FDakUsQ0FBQyxDQUFDO0dBQ0osTUFBTTtJQUNMLE9BQU8sSUFBSSxXQUFXLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTSxFQUFFO01BQ2hELElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUM7TUFDNUIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUMvQixXQUFXLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUM7T0FDdkQ7S0FDRixDQUFDLENBQUM7R0FDSjs7O0FDaEZILENEaUZDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDL0NjLFNBQVNNLFFBQU0sQ0FBQyxNQUFNLEVBQUU7O0VBRXJDLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQztFQUN2QixJQUFJLE9BQU8sR0FBRyxJQUFJLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztFQUNwQ0MsTUFBTyxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQztFQUN6QixPQUFPLE9BQU8sQ0FBQzs7O0FDN0JqQixDRDhCQyxRQzlCUSxhQUFhLEdBQUc7RUFDdkIsTUFBTSxJQUFJLFNBQVMsQ0FBQyxvRkFBb0YsQ0FBQyxDQUFDO0NBQzNHOztBQUVELFNBQVMsUUFBUSxHQUFHO0VBQ2xCLE1BQU0sSUFBSSxTQUFTLENBQUMsdUhBQXVILENBQUMsQ0FBQztDQUM5STs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTBHRCxJQUFJRixTQUFPLEdBQUcsWUFBWTtFQUN4QixTQUFTLE9BQU8sQ0FBQyxRQUFRLEVBQUU7SUFDekIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLE1BQU0sRUFBRSxDQUFDO0lBQzVCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUM7SUFDdkMsSUFBSSxDQUFDLFlBQVksR0FBRyxFQUFFLENBQUM7O0lBRXZCLElBQUksSUFBSSxLQUFLLFFBQVEsRUFBRTtNQUNyQixPQUFPLFFBQVEsS0FBSyxVQUFVLElBQUksYUFBYSxFQUFFLENBQUM7TUFDbEQsSUFBSSxZQUFZLE9BQU8sR0FBRyxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLEdBQUcsUUFBUSxFQUFFLENBQUM7S0FDMUU7R0FDRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7RUE0TEQsT0FBTyxDQUFDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsU0FBUyxNQUFNLENBQUMsV0FBVyxFQUFFO0lBQ3JELE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsV0FBVyxDQUFDLENBQUM7R0FDckMsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0VBMENGLE9BQU8sQ0FBQyxTQUFTLENBQUMsT0FBTyxHQUFHLFNBQVMsUUFBUSxDQUFDLFFBQVEsRUFBRTtJQUN0RCxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUM7SUFDbkIsSUFBSSxXQUFXLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQzs7SUFFdEMsSUFBSSxVQUFVLENBQUMsUUFBUSxDQUFDLEVBQUU7TUFDeEIsT0FBTyxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsS0FBSyxFQUFFO1FBQ25DLE9BQU8sV0FBVyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZO1VBQ3RELE9BQU8sS0FBSyxDQUFDO1NBQ2QsQ0FBQyxDQUFDO09BQ0osRUFBRSxVQUFVLE1BQU0sRUFBRTtRQUNuQixPQUFPLFdBQVcsQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWTtVQUN0RCxNQUFNLE1BQU0sQ0FBQztTQUNkLENBQUMsQ0FBQztPQUNKLENBQUMsQ0FBQztLQUNKOztJQUVELE9BQU8sT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUM7R0FDekMsQ0FBQzs7RUFFRixPQUFPLE9BQU8sQ0FBQztDQUNoQixFQUFFLENBQUM7O0FBRUpBLFNBQU8sQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztBQUU5QkEsU0FBTyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7QUFDbEJBLFNBQU8sQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0FBQ3BCQSxTQUFPLENBQUMsT0FBTyxHQUFHRyxTQUFPLENBQUM7QUFDMUJILFNBQU8sQ0FBQyxNQUFNLEdBQUdJLFFBQU0sQ0FBQztBQUN4QkosU0FBTyxDQUFDLGFBQWEsR0FBRyxZQUFZLENBQUM7QUFDckNBLFNBQU8sQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDO0FBQzNCQSxTQUFPLENBQUMsS0FBSyxHQUFHLElBQUk7O0FDNVlwQjtBQUdlLFNBQVMsUUFBUSxHQUFHO0VBQ2pDLElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxDQUFDOztFQUVuQixJQUFJLE9BQU8sTUFBTSxLQUFLLFdBQVcsRUFBRTtJQUNqQyxLQUFLLEdBQUcsTUFBTSxDQUFDO0dBQ2hCLE1BQU0sSUFBSSxPQUFPLElBQUksS0FBSyxXQUFXLEVBQUU7SUFDdEMsS0FBSyxHQUFHLElBQUksQ0FBQztHQUNkLE1BQU07SUFDTCxJQUFJO01BQ0YsS0FBSyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDO0tBQ25DLENBQUMsT0FBTyxDQUFDLEVBQUU7TUFDVixNQUFNLElBQUksS0FBSyxDQUFDLDBFQUEwRSxDQUFDLENBQUM7S0FDN0Y7R0FDRjs7RUFFRCxJQUFJLENBQUMsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDOztFQUV0QixJQUFJLENBQUMsRUFBRTtJQUNMLElBQUksZUFBZSxHQUFHLElBQUksQ0FBQztJQUMzQixJQUFJO01BQ0YsZUFBZSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztLQUMvRCxDQUFDLE9BQU8sQ0FBQyxFQUFFOztLQUVYOztJQUVELElBQUksZUFBZSxLQUFLLGtCQUFrQixJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRTtNQUNyRCxPQUFPO0tBQ1I7R0FDRjs7RUFFRCxLQUFLLENBQUMsT0FBTyxHQUFHQSxTQUFPLENBQUM7OztBQzlCMUIsQ0QrQkM7QUM5QkRBLFNBQU8sQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO0FBQzVCQSxTQUFPLENBQUMsT0FBTyxHQUFHQSxTQUFPLENBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZXM2LXByb21pc2UvZGlzdC9lczYtcHJvbWlzZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQG92ZXJ2aWV3IGVzNi1wcm9taXNlIC0gYSB0aW55IGltcGxlbWVudGF0aW9uIG9mIFByb21pc2VzL0ErLlxuICogQGNvcHlyaWdodCBDb3B5cmlnaHQgKGMpIDIwMTQgWWVodWRhIEthdHosIFRvbSBEYWxlLCBTdGVmYW4gUGVubmVyIGFuZCBjb250cmlidXRvcnMgKENvbnZlcnNpb24gdG8gRVM2IEFQSSBieSBKYWtlIEFyY2hpYmFsZClcbiAqIEBsaWNlbnNlICAgTGljZW5zZWQgdW5kZXIgTUlUIGxpY2Vuc2VcbiAqICAgICAgICAgICAgU2VlIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9zdGVmYW5wZW5uZXIvZXM2LXByb21pc2UvbWFzdGVyL0xJQ0VOU0VcbiAqIEB2ZXJzaW9uICAgdjQuMi44KzFlNjhkY2U2XG4gKi9cbiIsImV4cG9ydCBmdW5jdGlvbiBvYmplY3RPckZ1bmN0aW9uKHgpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgeDtcbiAgcmV0dXJuIHggIT09IG51bGwgJiYgKHR5cGUgPT09ICdvYmplY3QnIHx8IHR5cGUgPT09ICdmdW5jdGlvbicpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbih4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTWF5YmVUaGVuYWJsZSh4KSB7XG4gIHJldHVybiB4ICE9PSBudWxsICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0Jztcbn1cblxudmFyIF9pc0FycmF5ID0gdm9pZCAwO1xuaWYgKEFycmF5LmlzQXJyYXkpIHtcbiAgX2lzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xufSBlbHNlIHtcbiAgX2lzQXJyYXkgPSBmdW5jdGlvbiAoeCkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gIH07XG59XG5cbmV4cG9ydCB2YXIgaXNBcnJheSA9IF9pc0FycmF5OyIsInZhciBsZW4gPSAwO1xudmFyIHZlcnR4TmV4dCA9IHZvaWQgMDtcbnZhciBjdXN0b21TY2hlZHVsZXJGbiA9IHZvaWQgMDtcblxuZXhwb3J0IHZhciBhc2FwID0gZnVuY3Rpb24gYXNhcChjYWxsYmFjaywgYXJnKSB7XG4gIHF1ZXVlW2xlbl0gPSBjYWxsYmFjaztcbiAgcXVldWVbbGVuICsgMV0gPSBhcmc7XG4gIGxlbiArPSAyO1xuICBpZiAobGVuID09PSAyKSB7XG4gICAgLy8gSWYgbGVuIGlzIDIsIHRoYXQgbWVhbnMgdGhhdCB3ZSBuZWVkIHRvIHNjaGVkdWxlIGFuIGFzeW5jIGZsdXNoLlxuICAgIC8vIElmIGFkZGl0aW9uYWwgY2FsbGJhY2tzIGFyZSBxdWV1ZWQgYmVmb3JlIHRoZSBxdWV1ZSBpcyBmbHVzaGVkLCB0aGV5XG4gICAgLy8gd2lsbCBiZSBwcm9jZXNzZWQgYnkgdGhpcyBmbHVzaCB0aGF0IHdlIGFyZSBzY2hlZHVsaW5nLlxuICAgIGlmIChjdXN0b21TY2hlZHVsZXJGbikge1xuICAgICAgY3VzdG9tU2NoZWR1bGVyRm4oZmx1c2gpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY2hlZHVsZUZsdXNoKCk7XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0U2NoZWR1bGVyKHNjaGVkdWxlRm4pIHtcbiAgY3VzdG9tU2NoZWR1bGVyRm4gPSBzY2hlZHVsZUZuO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0QXNhcChhc2FwRm4pIHtcbiAgYXNhcCA9IGFzYXBGbjtcbn1cblxudmFyIGJyb3dzZXJXaW5kb3cgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHVuZGVmaW5lZDtcbnZhciBicm93c2VyR2xvYmFsID0gYnJvd3NlcldpbmRvdyB8fCB7fTtcbnZhciBCcm93c2VyTXV0YXRpb25PYnNlcnZlciA9IGJyb3dzZXJHbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBicm93c2VyR2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7XG52YXIgaXNOb2RlID0gdHlwZW9mIHNlbGYgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKHByb2Nlc3MpID09PSAnW29iamVjdCBwcm9jZXNzXSc7XG5cbi8vIHRlc3QgZm9yIHdlYiB3b3JrZXIgYnV0IG5vdCBpbiBJRTEwXG52YXIgaXNXb3JrZXIgPSB0eXBlb2YgVWludDhDbGFtcGVkQXJyYXkgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBpbXBvcnRTY3JpcHRzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgTWVzc2FnZUNoYW5uZWwgIT09ICd1bmRlZmluZWQnO1xuXG4vLyBub2RlXG5mdW5jdGlvbiB1c2VOZXh0VGljaygpIHtcbiAgLy8gbm9kZSB2ZXJzaW9uIDAuMTAueCBkaXNwbGF5cyBhIGRlcHJlY2F0aW9uIHdhcm5pbmcgd2hlbiBuZXh0VGljayBpcyB1c2VkIHJlY3Vyc2l2ZWx5XG4gIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vY3Vqb2pzL3doZW4vaXNzdWVzLzQxMCBmb3IgZGV0YWlsc1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTtcbiAgfTtcbn1cblxuLy8gdmVydHhcbmZ1bmN0aW9uIHVzZVZlcnR4VGltZXIoKSB7XG4gIGlmICh0eXBlb2YgdmVydHhOZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB2ZXJ0eE5leHQoZmx1c2gpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gdXNlU2V0VGltZW91dCgpO1xufVxuXG5mdW5jdGlvbiB1c2VNdXRhdGlvbk9ic2VydmVyKCkge1xuICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gIHZhciBvYnNlcnZlciA9IG5ldyBCcm93c2VyTXV0YXRpb25PYnNlcnZlcihmbHVzaCk7XG4gIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICBvYnNlcnZlci5vYnNlcnZlKG5vZGUsIHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9KTtcblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIG5vZGUuZGF0YSA9IGl0ZXJhdGlvbnMgPSArK2l0ZXJhdGlvbnMgJSAyO1xuICB9O1xufVxuXG4vLyB3ZWIgd29ya2VyXG5mdW5jdGlvbiB1c2VNZXNzYWdlQ2hhbm5lbCgpIHtcbiAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmbHVzaDtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSgwKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlU2V0VGltZW91dCgpIHtcbiAgLy8gU3RvcmUgc2V0VGltZW91dCByZWZlcmVuY2Ugc28gZXM2LXByb21pc2Ugd2lsbCBiZSB1bmFmZmVjdGVkIGJ5XG4gIC8vIG90aGVyIGNvZGUgbW9kaWZ5aW5nIHNldFRpbWVvdXQgKGxpa2Ugc2lub24udXNlRmFrZVRpbWVycygpKVxuICB2YXIgZ2xvYmFsU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGdsb2JhbFNldFRpbWVvdXQoZmx1c2gsIDEpO1xuICB9O1xufVxuXG52YXIgcXVldWUgPSBuZXcgQXJyYXkoMTAwMCk7XG5mdW5jdGlvbiBmbHVzaCgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgIHZhciBjYWxsYmFjayA9IHF1ZXVlW2ldO1xuICAgIHZhciBhcmcgPSBxdWV1ZVtpICsgMV07XG5cbiAgICBjYWxsYmFjayhhcmcpO1xuXG4gICAgcXVldWVbaV0gPSB1bmRlZmluZWQ7XG4gICAgcXVldWVbaSArIDFdID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgbGVuID0gMDtcbn1cblxuZnVuY3Rpb24gYXR0ZW1wdFZlcnR4KCkge1xuICB0cnkge1xuICAgIHZhciB2ZXJ0eCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCkucmVxdWlyZSgndmVydHgnKTtcbiAgICB2ZXJ0eE5leHQgPSB2ZXJ0eC5ydW5Pbkxvb3AgfHwgdmVydHgucnVuT25Db250ZXh0O1xuICAgIHJldHVybiB1c2VWZXJ0eFRpbWVyKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdXNlU2V0VGltZW91dCgpO1xuICB9XG59XG5cbnZhciBzY2hlZHVsZUZsdXNoID0gdm9pZCAwO1xuLy8gRGVjaWRlIHdoYXQgYXN5bmMgbWV0aG9kIHRvIHVzZSB0byB0cmlnZ2VyaW5nIHByb2Nlc3Npbmcgb2YgcXVldWVkIGNhbGxiYWNrczpcbmlmIChpc05vZGUpIHtcbiAgc2NoZWR1bGVGbHVzaCA9IHVzZU5leHRUaWNrKCk7XG59IGVsc2UgaWYgKEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VNdXRhdGlvbk9ic2VydmVyKCk7XG59IGVsc2UgaWYgKGlzV29ya2VyKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VNZXNzYWdlQ2hhbm5lbCgpO1xufSBlbHNlIGlmIChicm93c2VyV2luZG93ID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIHJlcXVpcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgc2NoZWR1bGVGbHVzaCA9IGF0dGVtcHRWZXJ0eCgpO1xufSBlbHNlIHtcbiAgc2NoZWR1bGVGbHVzaCA9IHVzZVNldFRpbWVvdXQoKTtcbn0iLCJpbXBvcnQgeyBpbnZva2VDYWxsYmFjaywgc3Vic2NyaWJlLCBGVUxGSUxMRUQsIFJFSkVDVEVELCBub29wLCBtYWtlUHJvbWlzZSwgUFJPTUlTRV9JRCB9IGZyb20gJy4vLWludGVybmFsJztcblxuaW1wb3J0IHsgYXNhcCB9IGZyb20gJy4vYXNhcCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgdmFyIHBhcmVudCA9IHRoaXM7XG5cbiAgdmFyIGNoaWxkID0gbmV3IHRoaXMuY29uc3RydWN0b3Iobm9vcCk7XG5cbiAgaWYgKGNoaWxkW1BST01JU0VfSURdID09PSB1bmRlZmluZWQpIHtcbiAgICBtYWtlUHJvbWlzZShjaGlsZCk7XG4gIH1cblxuICB2YXIgX3N0YXRlID0gcGFyZW50Ll9zdGF0ZTtcblxuXG4gIGlmIChfc3RhdGUpIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBhcmd1bWVudHNbX3N0YXRlIC0gMV07XG4gICAgYXNhcChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gaW52b2tlQ2FsbGJhY2soX3N0YXRlLCBjaGlsZCwgY2FsbGJhY2ssIHBhcmVudC5fcmVzdWx0KTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pO1xuICB9XG5cbiAgcmV0dXJuIGNoaWxkO1xufSIsImltcG9ydCB7IG5vb3AsIHJlc29sdmUgYXMgX3Jlc29sdmUgfSBmcm9tICcuLi8taW50ZXJuYWwnO1xuXG4vKipcbiAgYFByb21pc2UucmVzb2x2ZWAgcmV0dXJucyBhIHByb21pc2UgdGhhdCB3aWxsIGJlY29tZSByZXNvbHZlZCB3aXRoIHRoZVxuICBwYXNzZWQgYHZhbHVlYC4gSXQgaXMgc2hvcnRoYW5kIGZvciB0aGUgZm9sbG93aW5nOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHJlc29sdmUoMSk7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gdmFsdWUgPT09IDFcbiAgfSk7XG4gIGBgYFxuXG4gIEluc3RlYWQgb2Ygd3JpdGluZyB0aGUgYWJvdmUsIHlvdXIgY29kZSBub3cgc2ltcGx5IGJlY29tZXMgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKDEpO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gdmFsdWUgPT09IDFcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgcmVzb2x2ZVxuICBAc3RhdGljXG4gIEBwYXJhbSB7QW55fSB2YWx1ZSB2YWx1ZSB0aGF0IHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgYmUgcmVzb2x2ZWQgd2l0aFxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSB0aGF0IHdpbGwgYmVjb21lIGZ1bGZpbGxlZCB3aXRoIHRoZSBnaXZlblxuICBgdmFsdWVgXG4qL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVzb2x2ZShvYmplY3QpIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcblxuICBpZiAob2JqZWN0ICYmIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIG9iamVjdC5jb25zdHJ1Y3RvciA9PT0gQ29uc3RydWN0b3IpIHtcbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG5cbiAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCk7XG4gIF9yZXNvbHZlKHByb21pc2UsIG9iamVjdCk7XG4gIHJldHVybiBwcm9taXNlO1xufSIsImltcG9ydCB7IG9iamVjdE9yRnVuY3Rpb24sIGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWxzJztcblxuaW1wb3J0IHsgYXNhcCB9IGZyb20gJy4vYXNhcCc7XG5cbmltcG9ydCBvcmlnaW5hbFRoZW4gZnJvbSAnLi90aGVuJztcbmltcG9ydCBvcmlnaW5hbFJlc29sdmUgZnJvbSAnLi9wcm9taXNlL3Jlc29sdmUnO1xuXG5leHBvcnQgdmFyIFBST01JU0VfSUQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMik7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG52YXIgUEVORElORyA9IHZvaWQgMDtcbnZhciBGVUxGSUxMRUQgPSAxO1xudmFyIFJFSkVDVEVEID0gMjtcblxuZnVuY3Rpb24gc2VsZkZ1bGZpbGxtZW50KCkge1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcihcIllvdSBjYW5ub3QgcmVzb2x2ZSBhIHByb21pc2Ugd2l0aCBpdHNlbGZcIik7XG59XG5cbmZ1bmN0aW9uIGNhbm5vdFJldHVybk93bigpIHtcbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoJ0EgcHJvbWlzZXMgY2FsbGJhY2sgY2Fubm90IHJldHVybiB0aGF0IHNhbWUgcHJvbWlzZS4nKTtcbn1cblxuZnVuY3Rpb24gdHJ5VGhlbih0aGVuLCB2YWx1ZSwgZnVsZmlsbG1lbnRIYW5kbGVyLCByZWplY3Rpb25IYW5kbGVyKSB7XG4gIHRyeSB7XG4gICAgdGhlbi5jYWxsKHZhbHVlLCBmdWxmaWxsbWVudEhhbmRsZXIsIHJlamVjdGlvbkhhbmRsZXIpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIHRoZW5hYmxlLCB0aGVuKSB7XG4gIGFzYXAoZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICB2YXIgc2VhbGVkID0gZmFsc2U7XG4gICAgdmFyIGVycm9yID0gdHJ5VGhlbih0aGVuLCB0aGVuYWJsZSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAoc2VhbGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICBpZiAodGhlbmFibGUgIT09IHZhbHVlKSB7XG4gICAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgaWYgKHNlYWxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZWFsZWQgPSB0cnVlO1xuXG4gICAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICB9LCAnU2V0dGxlOiAnICsgKHByb21pc2UuX2xhYmVsIHx8ICcgdW5rbm93biBwcm9taXNlJykpO1xuXG4gICAgaWYgKCFzZWFsZWQgJiYgZXJyb3IpIHtcbiAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICByZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgIH1cbiAgfSwgcHJvbWlzZSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU93blRoZW5hYmxlKHByb21pc2UsIHRoZW5hYmxlKSB7XG4gIGlmICh0aGVuYWJsZS5fc3RhdGUgPT09IEZVTEZJTExFRCkge1xuICAgIGZ1bGZpbGwocHJvbWlzZSwgdGhlbmFibGUuX3Jlc3VsdCk7XG4gIH0gZWxzZSBpZiAodGhlbmFibGUuX3N0YXRlID09PSBSRUpFQ1RFRCkge1xuICAgIHJlamVjdChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgfSBlbHNlIHtcbiAgICBzdWJzY3JpYmUodGhlbmFibGUsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgcmV0dXJuIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgbWF5YmVUaGVuYWJsZSwgdGhlbikge1xuICBpZiAobWF5YmVUaGVuYWJsZS5jb25zdHJ1Y3RvciA9PT0gcHJvbWlzZS5jb25zdHJ1Y3RvciAmJiB0aGVuID09PSBvcmlnaW5hbFRoZW4gJiYgbWF5YmVUaGVuYWJsZS5jb25zdHJ1Y3Rvci5yZXNvbHZlID09PSBvcmlnaW5hbFJlc29sdmUpIHtcbiAgICBoYW5kbGVPd25UaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodGhlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbih0aGVuKSkge1xuICAgICAgaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUsIHRoZW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZXNvbHZlKHByb21pc2UsIHZhbHVlKSB7XG4gIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBzZWxmRnVsZmlsbG1lbnQoKSk7XG4gIH0gZWxzZSBpZiAob2JqZWN0T3JGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICB2YXIgdGhlbiA9IHZvaWQgMDtcbiAgICB0cnkge1xuICAgICAgdGhlbiA9IHZhbHVlLnRoZW47XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUsIHRoZW4pO1xuICB9IGVsc2Uge1xuICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hSZWplY3Rpb24ocHJvbWlzZSkge1xuICBpZiAocHJvbWlzZS5fb25lcnJvcikge1xuICAgIHByb21pc2UuX29uZXJyb3IocHJvbWlzZS5fcmVzdWx0KTtcbiAgfVxuXG4gIHB1Ymxpc2gocHJvbWlzZSk7XG59XG5cbmZ1bmN0aW9uIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpIHtcbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcHJvbWlzZS5fcmVzdWx0ID0gdmFsdWU7XG4gIHByb21pc2UuX3N0YXRlID0gRlVMRklMTEVEO1xuXG4gIGlmIChwcm9taXNlLl9zdWJzY3JpYmVycy5sZW5ndGggIT09IDApIHtcbiAgICBhc2FwKHB1Ymxpc2gsIHByb21pc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlamVjdChwcm9taXNlLCByZWFzb24pIHtcbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHByb21pc2UuX3N0YXRlID0gUkVKRUNURUQ7XG4gIHByb21pc2UuX3Jlc3VsdCA9IHJlYXNvbjtcblxuICBhc2FwKHB1Ymxpc2hSZWplY3Rpb24sIHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgdmFyIF9zdWJzY3JpYmVycyA9IHBhcmVudC5fc3Vic2NyaWJlcnM7XG4gIHZhciBsZW5ndGggPSBfc3Vic2NyaWJlcnMubGVuZ3RoO1xuXG5cbiAgcGFyZW50Ll9vbmVycm9yID0gbnVsbDtcblxuICBfc3Vic2NyaWJlcnNbbGVuZ3RoXSA9IGNoaWxkO1xuICBfc3Vic2NyaWJlcnNbbGVuZ3RoICsgRlVMRklMTEVEXSA9IG9uRnVsZmlsbG1lbnQ7XG4gIF9zdWJzY3JpYmVyc1tsZW5ndGggKyBSRUpFQ1RFRF0gPSBvblJlamVjdGlvbjtcblxuICBpZiAobGVuZ3RoID09PSAwICYmIHBhcmVudC5fc3RhdGUpIHtcbiAgICBhc2FwKHB1Ymxpc2gsIHBhcmVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHVibGlzaChwcm9taXNlKSB7XG4gIHZhciBzdWJzY3JpYmVycyA9IHByb21pc2UuX3N1YnNjcmliZXJzO1xuICB2YXIgc2V0dGxlZCA9IHByb21pc2UuX3N0YXRlO1xuXG4gIGlmIChzdWJzY3JpYmVycy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgY2hpbGQgPSB2b2lkIDAsXG4gICAgICBjYWxsYmFjayA9IHZvaWQgMCxcbiAgICAgIGRldGFpbCA9IHByb21pc2UuX3Jlc3VsdDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN1YnNjcmliZXJzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgY2hpbGQgPSBzdWJzY3JpYmVyc1tpXTtcbiAgICBjYWxsYmFjayA9IHN1YnNjcmliZXJzW2kgKyBzZXR0bGVkXTtcblxuICAgIGlmIChjaGlsZCkge1xuICAgICAgaW52b2tlQ2FsbGJhY2soc2V0dGxlZCwgY2hpbGQsIGNhbGxiYWNrLCBkZXRhaWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayhkZXRhaWwpO1xuICAgIH1cbiAgfVxuXG4gIHByb21pc2UuX3N1YnNjcmliZXJzLmxlbmd0aCA9IDA7XG59XG5cbmZ1bmN0aW9uIGludm9rZUNhbGxiYWNrKHNldHRsZWQsIHByb21pc2UsIGNhbGxiYWNrLCBkZXRhaWwpIHtcbiAgdmFyIGhhc0NhbGxiYWNrID0gaXNGdW5jdGlvbihjYWxsYmFjayksXG4gICAgICB2YWx1ZSA9IHZvaWQgMCxcbiAgICAgIGVycm9yID0gdm9pZCAwLFxuICAgICAgc3VjY2VlZGVkID0gdHJ1ZTtcblxuICBpZiAoaGFzQ2FsbGJhY2spIHtcbiAgICB0cnkge1xuICAgICAgdmFsdWUgPSBjYWxsYmFjayhkZXRhaWwpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHN1Y2NlZWRlZCA9IGZhbHNlO1xuICAgICAgZXJyb3IgPSBlO1xuICAgIH1cblxuICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgICAgcmVqZWN0KHByb21pc2UsIGNhbm5vdFJldHVybk93bigpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSBkZXRhaWw7XG4gIH1cblxuICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICAvLyBub29wXG4gIH0gZWxzZSBpZiAoaGFzQ2FsbGJhY2sgJiYgc3VjY2VlZGVkKSB7XG4gICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoc3VjY2VlZGVkID09PSBmYWxzZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gRlVMRklMTEVEKSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gUkVKRUNURUQpIHtcbiAgICByZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGluaXRpYWxpemVQcm9taXNlKHByb21pc2UsIHJlc29sdmVyKSB7XG4gIHRyeSB7XG4gICAgcmVzb2x2ZXIoZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UodmFsdWUpIHtcbiAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uIHJlamVjdFByb21pc2UocmVhc29uKSB7XG4gICAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBlKTtcbiAgfVxufVxuXG52YXIgaWQgPSAwO1xuZnVuY3Rpb24gbmV4dElkKCkge1xuICByZXR1cm4gaWQrKztcbn1cblxuZnVuY3Rpb24gbWFrZVByb21pc2UocHJvbWlzZSkge1xuICBwcm9taXNlW1BST01JU0VfSURdID0gaWQrKztcbiAgcHJvbWlzZS5fc3RhdGUgPSB1bmRlZmluZWQ7XG4gIHByb21pc2UuX3Jlc3VsdCA9IHVuZGVmaW5lZDtcbiAgcHJvbWlzZS5fc3Vic2NyaWJlcnMgPSBbXTtcbn1cblxuZXhwb3J0IHsgbmV4dElkLCBtYWtlUHJvbWlzZSwgbm9vcCwgcmVzb2x2ZSwgcmVqZWN0LCBmdWxmaWxsLCBzdWJzY3JpYmUsIHB1Ymxpc2gsIHB1Ymxpc2hSZWplY3Rpb24sIGluaXRpYWxpemVQcm9taXNlLCBpbnZva2VDYWxsYmFjaywgRlVMRklMTEVELCBSRUpFQ1RFRCwgUEVORElORywgaGFuZGxlTWF5YmVUaGVuYWJsZSB9OyIsImZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmltcG9ydCB7IGlzQXJyYXksIGlzTWF5YmVUaGVuYWJsZSB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgbm9vcCwgcmVqZWN0LCBmdWxmaWxsLCBzdWJzY3JpYmUsIEZVTEZJTExFRCwgUkVKRUNURUQsIFBFTkRJTkcsIGhhbmRsZU1heWJlVGhlbmFibGUgfSBmcm9tICcuLy1pbnRlcm5hbCc7XG5cbmltcG9ydCB0aGVuIGZyb20gJy4vdGhlbic7XG5pbXBvcnQgUHJvbWlzZSBmcm9tICcuL3Byb21pc2UnO1xuaW1wb3J0IG9yaWdpbmFsUmVzb2x2ZSBmcm9tICcuL3Byb21pc2UvcmVzb2x2ZSc7XG5pbXBvcnQgb3JpZ2luYWxUaGVuIGZyb20gJy4vdGhlbic7XG5pbXBvcnQgeyBtYWtlUHJvbWlzZSwgUFJPTUlTRV9JRCB9IGZyb20gJy4vLWludGVybmFsJztcblxuZnVuY3Rpb24gdmFsaWRhdGlvbkVycm9yKCkge1xuICByZXR1cm4gbmV3IEVycm9yKCdBcnJheSBNZXRob2RzIG11c3QgYmUgcHJvdmlkZWQgYW4gQXJyYXknKTtcbn07XG5cbnZhciBFbnVtZXJhdG9yID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBFbnVtZXJhdG9yKENvbnN0cnVjdG9yLCBpbnB1dCkge1xuICAgIHRoaXMuX2luc3RhbmNlQ29uc3RydWN0b3IgPSBDb25zdHJ1Y3RvcjtcbiAgICB0aGlzLnByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCk7XG5cbiAgICBpZiAoIXRoaXMucHJvbWlzZVtQUk9NSVNFX0lEXSkge1xuICAgICAgbWFrZVByb21pc2UodGhpcy5wcm9taXNlKTtcbiAgICB9XG5cbiAgICBpZiAoaXNBcnJheShpbnB1dCkpIHtcbiAgICAgIHRoaXMubGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgICAgdGhpcy5fcmVtYWluaW5nID0gaW5wdXQubGVuZ3RoO1xuXG4gICAgICB0aGlzLl9yZXN1bHQgPSBuZXcgQXJyYXkodGhpcy5sZW5ndGgpO1xuXG4gICAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZnVsZmlsbCh0aGlzLnByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxlbmd0aCA9IHRoaXMubGVuZ3RoIHx8IDA7XG4gICAgICAgIHRoaXMuX2VudW1lcmF0ZShpbnB1dCk7XG4gICAgICAgIGlmICh0aGlzLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICBmdWxmaWxsKHRoaXMucHJvbWlzZSwgdGhpcy5fcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZWplY3QodGhpcy5wcm9taXNlLCB2YWxpZGF0aW9uRXJyb3IoKSk7XG4gICAgfVxuICB9XG5cbiAgRW51bWVyYXRvci5wcm90b3R5cGUuX2VudW1lcmF0ZSA9IGZ1bmN0aW9uIF9lbnVtZXJhdGUoaW5wdXQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgdGhpcy5fc3RhdGUgPT09IFBFTkRJTkcgJiYgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl9lYWNoRW50cnkoaW5wdXRbaV0sIGkpO1xuICAgIH1cbiAgfTtcblxuICBFbnVtZXJhdG9yLnByb3RvdHlwZS5fZWFjaEVudHJ5ID0gZnVuY3Rpb24gX2VhY2hFbnRyeShlbnRyeSwgaSkge1xuICAgIHZhciBjID0gdGhpcy5faW5zdGFuY2VDb25zdHJ1Y3RvcjtcbiAgICB2YXIgcmVzb2x2ZSA9IGMucmVzb2x2ZTtcblxuXG4gICAgaWYgKHJlc29sdmUgPT09IG9yaWdpbmFsUmVzb2x2ZSkge1xuICAgICAgdmFyIF90aGVuID0gdm9pZCAwO1xuICAgICAgdmFyIGVycm9yID0gdm9pZCAwO1xuICAgICAgdmFyIGRpZEVycm9yID0gZmFsc2U7XG4gICAgICB0cnkge1xuICAgICAgICBfdGhlbiA9IGVudHJ5LnRoZW47XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGRpZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgZXJyb3IgPSBlO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoZW4gPT09IG9yaWdpbmFsVGhlbiAmJiBlbnRyeS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICAgICAgdGhpcy5fc2V0dGxlZEF0KGVudHJ5Ll9zdGF0ZSwgaSwgZW50cnkuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBfdGhlbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLl9yZW1haW5pbmctLTtcbiAgICAgICAgdGhpcy5fcmVzdWx0W2ldID0gZW50cnk7XG4gICAgICB9IGVsc2UgaWYgKGMgPT09IFByb21pc2UpIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSBuZXcgYyhub29wKTtcbiAgICAgICAgaWYgKGRpZEVycm9yKSB7XG4gICAgICAgICAgcmVqZWN0KHByb21pc2UsIGVycm9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoYW5kbGVNYXliZVRoZW5hYmxlKHByb21pc2UsIGVudHJ5LCBfdGhlbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KHByb21pc2UsIGkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KG5ldyBjKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUoZW50cnkpO1xuICAgICAgICB9KSwgaSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3dpbGxTZXR0bGVBdChyZXNvbHZlKGVudHJ5KSwgaSk7XG4gICAgfVxuICB9O1xuXG4gIEVudW1lcmF0b3IucHJvdG90eXBlLl9zZXR0bGVkQXQgPSBmdW5jdGlvbiBfc2V0dGxlZEF0KHN0YXRlLCBpLCB2YWx1ZSkge1xuICAgIHZhciBwcm9taXNlID0gdGhpcy5wcm9taXNlO1xuXG5cbiAgICBpZiAocHJvbWlzZS5fc3RhdGUgPT09IFBFTkRJTkcpIHtcbiAgICAgIHRoaXMuX3JlbWFpbmluZy0tO1xuXG4gICAgICBpZiAoc3RhdGUgPT09IFJFSkVDVEVEKSB7XG4gICAgICAgIHJlamVjdChwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9yZXN1bHRbaV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5fcmVtYWluaW5nID09PSAwKSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIHRoaXMuX3Jlc3VsdCk7XG4gICAgfVxuICB9O1xuXG4gIEVudW1lcmF0b3IucHJvdG90eXBlLl93aWxsU2V0dGxlQXQgPSBmdW5jdGlvbiBfd2lsbFNldHRsZUF0KHByb21pc2UsIGkpIHtcbiAgICB2YXIgZW51bWVyYXRvciA9IHRoaXM7XG5cbiAgICBzdWJzY3JpYmUocHJvbWlzZSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiBlbnVtZXJhdG9yLl9zZXR0bGVkQXQoRlVMRklMTEVELCBpLCB2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgcmV0dXJuIGVudW1lcmF0b3IuX3NldHRsZWRBdChSRUpFQ1RFRCwgaSwgcmVhc29uKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gRW51bWVyYXRvcjtcbn0oKTtcblxuZXhwb3J0IGRlZmF1bHQgRW51bWVyYXRvcjtcbjsiLCJpbXBvcnQgRW51bWVyYXRvciBmcm9tICcuLi9lbnVtZXJhdG9yJztcblxuLyoqXG4gIGBQcm9taXNlLmFsbGAgYWNjZXB0cyBhbiBhcnJheSBvZiBwcm9taXNlcywgYW5kIHJldHVybnMgYSBuZXcgcHJvbWlzZSB3aGljaFxuICBpcyBmdWxmaWxsZWQgd2l0aCBhbiBhcnJheSBvZiBmdWxmaWxsbWVudCB2YWx1ZXMgZm9yIHRoZSBwYXNzZWQgcHJvbWlzZXMsIG9yXG4gIHJlamVjdGVkIHdpdGggdGhlIHJlYXNvbiBvZiB0aGUgZmlyc3QgcGFzc2VkIHByb21pc2UgdG8gYmUgcmVqZWN0ZWQuIEl0IGNhc3RzIGFsbFxuICBlbGVtZW50cyBvZiB0aGUgcGFzc2VkIGl0ZXJhYmxlIHRvIHByb21pc2VzIGFzIGl0IHJ1bnMgdGhpcyBhbGdvcml0aG0uXG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IHJlc29sdmUoMSk7XG4gIGxldCBwcm9taXNlMiA9IHJlc29sdmUoMik7XG4gIGxldCBwcm9taXNlMyA9IHJlc29sdmUoMyk7XG4gIGxldCBwcm9taXNlcyA9IFsgcHJvbWlzZTEsIHByb21pc2UyLCBwcm9taXNlMyBdO1xuXG4gIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKGFycmF5KXtcbiAgICAvLyBUaGUgYXJyYXkgaGVyZSB3b3VsZCBiZSBbIDEsIDIsIDMgXTtcbiAgfSk7XG4gIGBgYFxuXG4gIElmIGFueSBvZiB0aGUgYHByb21pc2VzYCBnaXZlbiB0byBgYWxsYCBhcmUgcmVqZWN0ZWQsIHRoZSBmaXJzdCBwcm9taXNlXG4gIHRoYXQgaXMgcmVqZWN0ZWQgd2lsbCBiZSBnaXZlbiBhcyBhbiBhcmd1bWVudCB0byB0aGUgcmV0dXJuZWQgcHJvbWlzZXMnc1xuICByZWplY3Rpb24gaGFuZGxlci4gRm9yIGV4YW1wbGU6XG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IHJlc29sdmUoMSk7XG4gIGxldCBwcm9taXNlMiA9IHJlamVjdChuZXcgRXJyb3IoXCIyXCIpKTtcbiAgbGV0IHByb21pc2UzID0gcmVqZWN0KG5ldyBFcnJvcihcIjNcIikpO1xuICBsZXQgcHJvbWlzZXMgPSBbIHByb21pc2UxLCBwcm9taXNlMiwgcHJvbWlzZTMgXTtcblxuICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbihhcnJheSl7XG4gICAgLy8gQ29kZSBoZXJlIG5ldmVyIHJ1bnMgYmVjYXVzZSB0aGVyZSBhcmUgcmVqZWN0ZWQgcHJvbWlzZXMhXG4gIH0sIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgLy8gZXJyb3IubWVzc2FnZSA9PT0gXCIyXCJcbiAgfSk7XG4gIGBgYFxuXG4gIEBtZXRob2QgYWxsXG4gIEBzdGF0aWNcbiAgQHBhcmFtIHtBcnJheX0gZW50cmllcyBhcnJheSBvZiBwcm9taXNlc1xuICBAcGFyYW0ge1N0cmluZ30gbGFiZWwgb3B0aW9uYWwgc3RyaW5nIGZvciBsYWJlbGluZyB0aGUgcHJvbWlzZS5cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gYWxsIGBwcm9taXNlc2AgaGF2ZSBiZWVuXG4gIGZ1bGZpbGxlZCwgb3IgcmVqZWN0ZWQgaWYgYW55IG9mIHRoZW0gYmVjb21lIHJlamVjdGVkLlxuICBAc3RhdGljXG4qL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWxsKGVudHJpZXMpIHtcbiAgcmV0dXJuIG5ldyBFbnVtZXJhdG9yKHRoaXMsIGVudHJpZXMpLnByb21pc2U7XG59IiwiaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gXCIuLi91dGlsc1wiO1xuXG4vKipcbiAgYFByb21pc2UucmFjZWAgcmV0dXJucyBhIG5ldyBwcm9taXNlIHdoaWNoIGlzIHNldHRsZWQgaW4gdGhlIHNhbWUgd2F5IGFzIHRoZVxuICBmaXJzdCBwYXNzZWQgcHJvbWlzZSB0byBzZXR0bGUuXG5cbiAgRXhhbXBsZTpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcmVzb2x2ZSgncHJvbWlzZSAxJyk7XG4gICAgfSwgMjAwKTtcbiAgfSk7XG5cbiAgbGV0IHByb21pc2UyID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXNvbHZlKCdwcm9taXNlIDInKTtcbiAgICB9LCAxMDApO1xuICB9KTtcblxuICBQcm9taXNlLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyByZXN1bHQgPT09ICdwcm9taXNlIDInIGJlY2F1c2UgaXQgd2FzIHJlc29sdmVkIGJlZm9yZSBwcm9taXNlMVxuICAgIC8vIHdhcyByZXNvbHZlZC5cbiAgfSk7XG4gIGBgYFxuXG4gIGBQcm9taXNlLnJhY2VgIGlzIGRldGVybWluaXN0aWMgaW4gdGhhdCBvbmx5IHRoZSBzdGF0ZSBvZiB0aGUgZmlyc3RcbiAgc2V0dGxlZCBwcm9taXNlIG1hdHRlcnMuIEZvciBleGFtcGxlLCBldmVuIGlmIG90aGVyIHByb21pc2VzIGdpdmVuIHRvIHRoZVxuICBgcHJvbWlzZXNgIGFycmF5IGFyZ3VtZW50IGFyZSByZXNvbHZlZCwgYnV0IHRoZSBmaXJzdCBzZXR0bGVkIHByb21pc2UgaGFzXG4gIGJlY29tZSByZWplY3RlZCBiZWZvcmUgdGhlIG90aGVyIHByb21pc2VzIGJlY2FtZSBmdWxmaWxsZWQsIHRoZSByZXR1cm5lZFxuICBwcm9taXNlIHdpbGwgYmVjb21lIHJlamVjdGVkOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXNvbHZlKCdwcm9taXNlIDEnKTtcbiAgICB9LCAyMDApO1xuICB9KTtcblxuICBsZXQgcHJvbWlzZTIgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoJ3Byb21pc2UgMicpKTtcbiAgICB9LCAxMDApO1xuICB9KTtcblxuICBQcm9taXNlLnJhY2UoW3Byb21pc2UxLCBwcm9taXNlMl0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyBDb2RlIGhlcmUgbmV2ZXIgcnVuc1xuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHJlYXNvbi5tZXNzYWdlID09PSAncHJvbWlzZSAyJyBiZWNhdXNlIHByb21pc2UgMiBiZWNhbWUgcmVqZWN0ZWQgYmVmb3JlXG4gICAgLy8gcHJvbWlzZSAxIGJlY2FtZSBmdWxmaWxsZWRcbiAgfSk7XG4gIGBgYFxuXG4gIEFuIGV4YW1wbGUgcmVhbC13b3JsZCB1c2UgY2FzZSBpcyBpbXBsZW1lbnRpbmcgdGltZW91dHM6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBQcm9taXNlLnJhY2UoW2FqYXgoJ2Zvby5qc29uJyksIHRpbWVvdXQoNTAwMCldKVxuICBgYGBcblxuICBAbWV0aG9kIHJhY2VcbiAgQHN0YXRpY1xuICBAcGFyYW0ge0FycmF5fSBwcm9taXNlcyBhcnJheSBvZiBwcm9taXNlcyB0byBvYnNlcnZlXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHdoaWNoIHNldHRsZXMgaW4gdGhlIHNhbWUgd2F5IGFzIHRoZSBmaXJzdCBwYXNzZWRcbiAgcHJvbWlzZSB0byBzZXR0bGUuXG4qL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmFjZShlbnRyaWVzKSB7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG5cbiAgaWYgKCFpc0FycmF5KGVudHJpZXMpKSB7XG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbiAoXywgcmVqZWN0KSB7XG4gICAgICByZXR1cm4gcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gYXJyYXkgdG8gcmFjZS4nKSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gZW50cmllcy5sZW5ndGg7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIENvbnN0cnVjdG9yLnJlc29sdmUoZW50cmllc1tpXSkudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59IiwiaW1wb3J0IHsgbm9vcCwgcmVqZWN0IGFzIF9yZWplY3QgfSBmcm9tICcuLi8taW50ZXJuYWwnO1xuXG4vKipcbiAgYFByb21pc2UucmVqZWN0YCByZXR1cm5zIGEgcHJvbWlzZSByZWplY3RlZCB3aXRoIHRoZSBwYXNzZWQgYHJlYXNvbmAuXG4gIEl0IGlzIHNob3J0aGFuZCBmb3IgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICByZWplY3QobmV3IEVycm9yKCdXSE9PUFMnKSk7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09ICdXSE9PUFMnXG4gIH0pO1xuICBgYGBcblxuICBJbnN0ZWFkIG9mIHdyaXRpbmcgdGhlIGFib3ZlLCB5b3VyIGNvZGUgbm93IHNpbXBseSBiZWNvbWVzIHRoZSBmb2xsb3dpbmc6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZSA9IFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignV0hPT1BTJykpO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09ICdXSE9PUFMnXG4gIH0pO1xuICBgYGBcblxuICBAbWV0aG9kIHJlamVjdFxuICBAc3RhdGljXG4gIEBwYXJhbSB7QW55fSByZWFzb24gdmFsdWUgdGhhdCB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIHdpdGguXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHJlamVjdGVkIHdpdGggdGhlIGdpdmVuIGByZWFzb25gLlxuKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlamVjdChyZWFzb24pIHtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgdmFyIENvbnN0cnVjdG9yID0gdGhpcztcbiAgdmFyIHByb21pc2UgPSBuZXcgQ29uc3RydWN0b3Iobm9vcCk7XG4gIF9yZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgcmV0dXJuIHByb21pc2U7XG59IiwiZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgbm9vcCwgbmV4dElkLCBQUk9NSVNFX0lELCBpbml0aWFsaXplUHJvbWlzZSB9IGZyb20gJy4vLWludGVybmFsJztcbmltcG9ydCB7IGFzYXAsIHNldEFzYXAsIHNldFNjaGVkdWxlciB9IGZyb20gJy4vYXNhcCc7XG5cbmltcG9ydCBhbGwgZnJvbSAnLi9wcm9taXNlL2FsbCc7XG5pbXBvcnQgcmFjZSBmcm9tICcuL3Byb21pc2UvcmFjZSc7XG5pbXBvcnQgUmVzb2x2ZSBmcm9tICcuL3Byb21pc2UvcmVzb2x2ZSc7XG5pbXBvcnQgUmVqZWN0IGZyb20gJy4vcHJvbWlzZS9yZWplY3QnO1xuaW1wb3J0IHRoZW4gZnJvbSAnLi90aGVuJztcblxuZnVuY3Rpb24gbmVlZHNSZXNvbHZlcigpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhIHJlc29sdmVyIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvcicpO1xufVxuXG5mdW5jdGlvbiBuZWVkc05ldygpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1Byb21pc2UnOiBQbGVhc2UgdXNlIHRoZSAnbmV3JyBvcGVyYXRvciwgdGhpcyBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLlwiKTtcbn1cblxuLyoqXG4gIFByb21pc2Ugb2JqZWN0cyByZXByZXNlbnQgdGhlIGV2ZW50dWFsIHJlc3VsdCBvZiBhbiBhc3luY2hyb25vdXMgb3BlcmF0aW9uLiBUaGVcbiAgcHJpbWFyeSB3YXkgb2YgaW50ZXJhY3Rpbmcgd2l0aCBhIHByb21pc2UgaXMgdGhyb3VnaCBpdHMgYHRoZW5gIG1ldGhvZCwgd2hpY2hcbiAgcmVnaXN0ZXJzIGNhbGxiYWNrcyB0byByZWNlaXZlIGVpdGhlciBhIHByb21pc2UncyBldmVudHVhbCB2YWx1ZSBvciB0aGUgcmVhc29uXG4gIHdoeSB0aGUgcHJvbWlzZSBjYW5ub3QgYmUgZnVsZmlsbGVkLlxuXG4gIFRlcm1pbm9sb2d5XG4gIC0tLS0tLS0tLS0tXG5cbiAgLSBgcHJvbWlzZWAgaXMgYW4gb2JqZWN0IG9yIGZ1bmN0aW9uIHdpdGggYSBgdGhlbmAgbWV0aG9kIHdob3NlIGJlaGF2aW9yIGNvbmZvcm1zIHRvIHRoaXMgc3BlY2lmaWNhdGlvbi5cbiAgLSBgdGhlbmFibGVgIGlzIGFuIG9iamVjdCBvciBmdW5jdGlvbiB0aGF0IGRlZmluZXMgYSBgdGhlbmAgbWV0aG9kLlxuICAtIGB2YWx1ZWAgaXMgYW55IGxlZ2FsIEphdmFTY3JpcHQgdmFsdWUgKGluY2x1ZGluZyB1bmRlZmluZWQsIGEgdGhlbmFibGUsIG9yIGEgcHJvbWlzZSkuXG4gIC0gYGV4Y2VwdGlvbmAgaXMgYSB2YWx1ZSB0aGF0IGlzIHRocm93biB1c2luZyB0aGUgdGhyb3cgc3RhdGVtZW50LlxuICAtIGByZWFzb25gIGlzIGEgdmFsdWUgdGhhdCBpbmRpY2F0ZXMgd2h5IGEgcHJvbWlzZSB3YXMgcmVqZWN0ZWQuXG4gIC0gYHNldHRsZWRgIHRoZSBmaW5hbCByZXN0aW5nIHN0YXRlIG9mIGEgcHJvbWlzZSwgZnVsZmlsbGVkIG9yIHJlamVjdGVkLlxuXG4gIEEgcHJvbWlzZSBjYW4gYmUgaW4gb25lIG9mIHRocmVlIHN0YXRlczogcGVuZGluZywgZnVsZmlsbGVkLCBvciByZWplY3RlZC5cblxuICBQcm9taXNlcyB0aGF0IGFyZSBmdWxmaWxsZWQgaGF2ZSBhIGZ1bGZpbGxtZW50IHZhbHVlIGFuZCBhcmUgaW4gdGhlIGZ1bGZpbGxlZFxuICBzdGF0ZS4gIFByb21pc2VzIHRoYXQgYXJlIHJlamVjdGVkIGhhdmUgYSByZWplY3Rpb24gcmVhc29uIGFuZCBhcmUgaW4gdGhlXG4gIHJlamVjdGVkIHN0YXRlLiAgQSBmdWxmaWxsbWVudCB2YWx1ZSBpcyBuZXZlciBhIHRoZW5hYmxlLlxuXG4gIFByb21pc2VzIGNhbiBhbHNvIGJlIHNhaWQgdG8gKnJlc29sdmUqIGEgdmFsdWUuICBJZiB0aGlzIHZhbHVlIGlzIGFsc28gYVxuICBwcm9taXNlLCB0aGVuIHRoZSBvcmlnaW5hbCBwcm9taXNlJ3Mgc2V0dGxlZCBzdGF0ZSB3aWxsIG1hdGNoIHRoZSB2YWx1ZSdzXG4gIHNldHRsZWQgc3RhdGUuICBTbyBhIHByb21pc2UgdGhhdCAqcmVzb2x2ZXMqIGEgcHJvbWlzZSB0aGF0IHJlamVjdHMgd2lsbFxuICBpdHNlbGYgcmVqZWN0LCBhbmQgYSBwcm9taXNlIHRoYXQgKnJlc29sdmVzKiBhIHByb21pc2UgdGhhdCBmdWxmaWxscyB3aWxsXG4gIGl0c2VsZiBmdWxmaWxsLlxuXG5cbiAgQmFzaWMgVXNhZ2U6XG4gIC0tLS0tLS0tLS0tLVxuXG4gIGBgYGpzXG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgLy8gb24gc3VjY2Vzc1xuICAgIHJlc29sdmUodmFsdWUpO1xuXG4gICAgLy8gb24gZmFpbHVyZVxuICAgIHJlamVjdChyZWFzb24pO1xuICB9KTtcblxuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAvLyBvbiBmdWxmaWxsbWVudFxuICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAvLyBvbiByZWplY3Rpb25cbiAgfSk7XG4gIGBgYFxuXG4gIEFkdmFuY2VkIFVzYWdlOlxuICAtLS0tLS0tLS0tLS0tLS1cblxuICBQcm9taXNlcyBzaGluZSB3aGVuIGFic3RyYWN0aW5nIGF3YXkgYXN5bmNocm9ub3VzIGludGVyYWN0aW9ucyBzdWNoIGFzXG4gIGBYTUxIdHRwUmVxdWVzdGBzLlxuXG4gIGBgYGpzXG4gIGZ1bmN0aW9uIGdldEpTT04odXJsKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGhhbmRsZXI7XG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2pzb24nO1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICB4aHIuc2VuZCgpO1xuXG4gICAgICBmdW5jdGlvbiBoYW5kbGVyKCkge1xuICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSB0aGlzLkRPTkUpIHtcbiAgICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignZ2V0SlNPTjogYCcgKyB1cmwgKyAnYCBmYWlsZWQgd2l0aCBzdGF0dXM6IFsnICsgdGhpcy5zdGF0dXMgKyAnXScpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBnZXRKU09OKCcvcG9zdHMuanNvbicpLnRoZW4oZnVuY3Rpb24oanNvbikge1xuICAgIC8vIG9uIGZ1bGZpbGxtZW50XG4gIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIC8vIG9uIHJlamVjdGlvblxuICB9KTtcbiAgYGBgXG5cbiAgVW5saWtlIGNhbGxiYWNrcywgcHJvbWlzZXMgYXJlIGdyZWF0IGNvbXBvc2FibGUgcHJpbWl0aXZlcy5cblxuICBgYGBqc1xuICBQcm9taXNlLmFsbChbXG4gICAgZ2V0SlNPTignL3Bvc3RzJyksXG4gICAgZ2V0SlNPTignL2NvbW1lbnRzJylcbiAgXSkudGhlbihmdW5jdGlvbih2YWx1ZXMpe1xuICAgIHZhbHVlc1swXSAvLyA9PiBwb3N0c0pTT05cbiAgICB2YWx1ZXNbMV0gLy8gPT4gY29tbWVudHNKU09OXG5cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9KTtcbiAgYGBgXG5cbiAgQGNsYXNzIFByb21pc2VcbiAgQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZXJcbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAY29uc3RydWN0b3JcbiovXG5cbnZhciBQcm9taXNlID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBQcm9taXNlKHJlc29sdmVyKSB7XG4gICAgdGhpc1tQUk9NSVNFX0lEXSA9IG5leHRJZCgpO1xuICAgIHRoaXMuX3Jlc3VsdCA9IHRoaXMuX3N0YXRlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuX3N1YnNjcmliZXJzID0gW107XG5cbiAgICBpZiAobm9vcCAhPT0gcmVzb2x2ZXIpIHtcbiAgICAgIHR5cGVvZiByZXNvbHZlciAhPT0gJ2Z1bmN0aW9uJyAmJiBuZWVkc1Jlc29sdmVyKCk7XG4gICAgICB0aGlzIGluc3RhbmNlb2YgUHJvbWlzZSA/IGluaXRpYWxpemVQcm9taXNlKHRoaXMsIHJlc29sdmVyKSA6IG5lZWRzTmV3KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gIFRoZSBwcmltYXJ5IHdheSBvZiBpbnRlcmFjdGluZyB3aXRoIGEgcHJvbWlzZSBpcyB0aHJvdWdoIGl0cyBgdGhlbmAgbWV0aG9kLFxuICB3aGljaCByZWdpc3RlcnMgY2FsbGJhY2tzIHRvIHJlY2VpdmUgZWl0aGVyIGEgcHJvbWlzZSdzIGV2ZW50dWFsIHZhbHVlIG9yIHRoZVxuICByZWFzb24gd2h5IHRoZSBwcm9taXNlIGNhbm5vdCBiZSBmdWxmaWxsZWQuXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24odXNlcil7XG4gICAgLy8gdXNlciBpcyBhdmFpbGFibGVcbiAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyB1c2VyIGlzIHVuYXZhaWxhYmxlLCBhbmQgeW91IGFyZSBnaXZlbiB0aGUgcmVhc29uIHdoeVxuICB9KTtcbiAgYGBgXG4gICBDaGFpbmluZ1xuICAtLS0tLS0tLVxuICAgVGhlIHJldHVybiB2YWx1ZSBvZiBgdGhlbmAgaXMgaXRzZWxmIGEgcHJvbWlzZS4gIFRoaXMgc2Vjb25kLCAnZG93bnN0cmVhbSdcbiAgcHJvbWlzZSBpcyByZXNvbHZlZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZpcnN0IHByb21pc2UncyBmdWxmaWxsbWVudFxuICBvciByZWplY3Rpb24gaGFuZGxlciwgb3IgcmVqZWN0ZWQgaWYgdGhlIGhhbmRsZXIgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbiAgIGBgYGpzXG4gIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHJldHVybiB1c2VyLm5hbWU7XG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICByZXR1cm4gJ2RlZmF1bHQgbmFtZSc7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKHVzZXJOYW1lKSB7XG4gICAgLy8gSWYgYGZpbmRVc2VyYCBmdWxmaWxsZWQsIGB1c2VyTmFtZWAgd2lsbCBiZSB0aGUgdXNlcidzIG5hbWUsIG90aGVyd2lzZSBpdFxuICAgIC8vIHdpbGwgYmUgYCdkZWZhdWx0IG5hbWUnYFxuICB9KTtcbiAgIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHRocm93IG5ldyBFcnJvcignRm91bmQgdXNlciwgYnV0IHN0aWxsIHVuaGFwcHknKTtcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHRocm93IG5ldyBFcnJvcignYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScpO1xuICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIC8vIGlmIGBmaW5kVXNlcmAgZnVsZmlsbGVkLCBgcmVhc29uYCB3aWxsIGJlICdGb3VuZCB1c2VyLCBidXQgc3RpbGwgdW5oYXBweScuXG4gICAgLy8gSWYgYGZpbmRVc2VyYCByZWplY3RlZCwgYHJlYXNvbmAgd2lsbCBiZSAnYGZpbmRVc2VyYCByZWplY3RlZCBhbmQgd2UncmUgdW5oYXBweScuXG4gIH0pO1xuICBgYGBcbiAgSWYgdGhlIGRvd25zdHJlYW0gcHJvbWlzZSBkb2VzIG5vdCBzcGVjaWZ5IGEgcmVqZWN0aW9uIGhhbmRsZXIsIHJlamVjdGlvbiByZWFzb25zIHdpbGwgYmUgcHJvcGFnYXRlZCBmdXJ0aGVyIGRvd25zdHJlYW0uXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICB0aHJvdyBuZXcgUGVkYWdvZ2ljYWxFeGNlcHRpb24oJ1Vwc3RyZWFtIGVycm9yJyk7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgLy8gbmV2ZXIgcmVhY2hlZFxuICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIC8vIFRoZSBgUGVkZ2Fnb2NpYWxFeGNlcHRpb25gIGlzIHByb3BhZ2F0ZWQgYWxsIHRoZSB3YXkgZG93biB0byBoZXJlXG4gIH0pO1xuICBgYGBcbiAgIEFzc2ltaWxhdGlvblxuICAtLS0tLS0tLS0tLS1cbiAgIFNvbWV0aW1lcyB0aGUgdmFsdWUgeW91IHdhbnQgdG8gcHJvcGFnYXRlIHRvIGEgZG93bnN0cmVhbSBwcm9taXNlIGNhbiBvbmx5IGJlXG4gIHJldHJpZXZlZCBhc3luY2hyb25vdXNseS4gVGhpcyBjYW4gYmUgYWNoaWV2ZWQgYnkgcmV0dXJuaW5nIGEgcHJvbWlzZSBpbiB0aGVcbiAgZnVsZmlsbG1lbnQgb3IgcmVqZWN0aW9uIGhhbmRsZXIuIFRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCB0aGVuIGJlIHBlbmRpbmdcbiAgdW50aWwgdGhlIHJldHVybmVkIHByb21pc2UgaXMgc2V0dGxlZC4gVGhpcyBpcyBjYWxsZWQgKmFzc2ltaWxhdGlvbiouXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICByZXR1cm4gZmluZENvbW1lbnRzQnlBdXRob3IodXNlcik7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKGNvbW1lbnRzKSB7XG4gICAgLy8gVGhlIHVzZXIncyBjb21tZW50cyBhcmUgbm93IGF2YWlsYWJsZVxuICB9KTtcbiAgYGBgXG4gICBJZiB0aGUgYXNzaW1saWF0ZWQgcHJvbWlzZSByZWplY3RzLCB0aGVuIHRoZSBkb3duc3RyZWFtIHByb21pc2Ugd2lsbCBhbHNvIHJlamVjdC5cbiAgIGBgYGpzXG4gIGZpbmRVc2VyKCkudGhlbihmdW5jdGlvbiAodXNlcikge1xuICAgIHJldHVybiBmaW5kQ29tbWVudHNCeUF1dGhvcih1c2VyKTtcbiAgfSkudGhlbihmdW5jdGlvbiAoY29tbWVudHMpIHtcbiAgICAvLyBJZiBgZmluZENvbW1lbnRzQnlBdXRob3JgIGZ1bGZpbGxzLCB3ZSdsbCBoYXZlIHRoZSB2YWx1ZSBoZXJlXG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAvLyBJZiBgZmluZENvbW1lbnRzQnlBdXRob3JgIHJlamVjdHMsIHdlJ2xsIGhhdmUgdGhlIHJlYXNvbiBoZXJlXG4gIH0pO1xuICBgYGBcbiAgIFNpbXBsZSBFeGFtcGxlXG4gIC0tLS0tLS0tLS0tLS0tXG4gICBTeW5jaHJvbm91cyBFeGFtcGxlXG4gICBgYGBqYXZhc2NyaXB0XG4gIGxldCByZXN1bHQ7XG4gICB0cnkge1xuICAgIHJlc3VsdCA9IGZpbmRSZXN1bHQoKTtcbiAgICAvLyBzdWNjZXNzXG4gIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgLy8gZmFpbHVyZVxuICB9XG4gIGBgYFxuICAgRXJyYmFjayBFeGFtcGxlXG4gICBgYGBqc1xuICBmaW5kUmVzdWx0KGZ1bmN0aW9uKHJlc3VsdCwgZXJyKXtcbiAgICBpZiAoZXJyKSB7XG4gICAgICAvLyBmYWlsdXJlXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHN1Y2Nlc3NcbiAgICB9XG4gIH0pO1xuICBgYGBcbiAgIFByb21pc2UgRXhhbXBsZTtcbiAgIGBgYGphdmFzY3JpcHRcbiAgZmluZFJlc3VsdCgpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtcbiAgICAvLyBzdWNjZXNzXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gZmFpbHVyZVxuICB9KTtcbiAgYGBgXG4gICBBZHZhbmNlZCBFeGFtcGxlXG4gIC0tLS0tLS0tLS0tLS0tXG4gICBTeW5jaHJvbm91cyBFeGFtcGxlXG4gICBgYGBqYXZhc2NyaXB0XG4gIGxldCBhdXRob3IsIGJvb2tzO1xuICAgdHJ5IHtcbiAgICBhdXRob3IgPSBmaW5kQXV0aG9yKCk7XG4gICAgYm9va3MgID0gZmluZEJvb2tzQnlBdXRob3IoYXV0aG9yKTtcbiAgICAvLyBzdWNjZXNzXG4gIH0gY2F0Y2gocmVhc29uKSB7XG4gICAgLy8gZmFpbHVyZVxuICB9XG4gIGBgYFxuICAgRXJyYmFjayBFeGFtcGxlXG4gICBgYGBqc1xuICAgZnVuY3Rpb24gZm91bmRCb29rcyhib29rcykge1xuICAgfVxuICAgZnVuY3Rpb24gZmFpbHVyZShyZWFzb24pIHtcbiAgIH1cbiAgIGZpbmRBdXRob3IoZnVuY3Rpb24oYXV0aG9yLCBlcnIpe1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgIC8vIGZhaWx1cmVcbiAgICB9IGVsc2Uge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZmluZEJvb29rc0J5QXV0aG9yKGF1dGhvciwgZnVuY3Rpb24oYm9va3MsIGVycikge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZm91bmRCb29rcyhib29rcyk7XG4gICAgICAgICAgICB9IGNhdGNoKHJlYXNvbikge1xuICAgICAgICAgICAgICBmYWlsdXJlKHJlYXNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgICAgZmFpbHVyZShlcnIpO1xuICAgICAgfVxuICAgICAgLy8gc3VjY2Vzc1xuICAgIH1cbiAgfSk7XG4gIGBgYFxuICAgUHJvbWlzZSBFeGFtcGxlO1xuICAgYGBgamF2YXNjcmlwdFxuICBmaW5kQXV0aG9yKCkuXG4gICAgdGhlbihmaW5kQm9va3NCeUF1dGhvcikuXG4gICAgdGhlbihmdW5jdGlvbihib29rcyl7XG4gICAgICAvLyBmb3VuZCBib29rc1xuICB9KS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gIH0pO1xuICBgYGBcbiAgIEBtZXRob2QgdGhlblxuICBAcGFyYW0ge0Z1bmN0aW9ufSBvbkZ1bGZpbGxlZFxuICBAcGFyYW0ge0Z1bmN0aW9ufSBvblJlamVjdGVkXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX1cbiAgKi9cblxuICAvKipcbiAgYGNhdGNoYCBpcyBzaW1wbHkgc3VnYXIgZm9yIGB0aGVuKHVuZGVmaW5lZCwgb25SZWplY3Rpb24pYCB3aGljaCBtYWtlcyBpdCB0aGUgc2FtZVxuICBhcyB0aGUgY2F0Y2ggYmxvY2sgb2YgYSB0cnkvY2F0Y2ggc3RhdGVtZW50LlxuICBgYGBqc1xuICBmdW5jdGlvbiBmaW5kQXV0aG9yKCl7XG4gIHRocm93IG5ldyBFcnJvcignY291bGRuJ3QgZmluZCB0aGF0IGF1dGhvcicpO1xuICB9XG4gIC8vIHN5bmNocm9ub3VzXG4gIHRyeSB7XG4gIGZpbmRBdXRob3IoKTtcbiAgfSBjYXRjaChyZWFzb24pIHtcbiAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgfVxuICAvLyBhc3luYyB3aXRoIHByb21pc2VzXG4gIGZpbmRBdXRob3IoKS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICB9KTtcbiAgYGBgXG4gIEBtZXRob2QgY2F0Y2hcbiAgQHBhcmFtIHtGdW5jdGlvbn0gb25SZWplY3Rpb25cbiAgVXNlZnVsIGZvciB0b29saW5nLlxuICBAcmV0dXJuIHtQcm9taXNlfVxuICAqL1xuXG5cbiAgUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2ggPSBmdW5jdGlvbiBfY2F0Y2gob25SZWplY3Rpb24pIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0aW9uKTtcbiAgfTtcblxuICAvKipcbiAgICBgZmluYWxseWAgd2lsbCBiZSBpbnZva2VkIHJlZ2FyZGxlc3Mgb2YgdGhlIHByb21pc2UncyBmYXRlIGp1c3QgYXMgbmF0aXZlXG4gICAgdHJ5L2NhdGNoL2ZpbmFsbHkgYmVoYXZlc1xuICBcbiAgICBTeW5jaHJvbm91cyBleGFtcGxlOlxuICBcbiAgICBgYGBqc1xuICAgIGZpbmRBdXRob3IoKSB7XG4gICAgICBpZiAoTWF0aC5yYW5kb20oKSA+IDAuNSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgQXV0aG9yKCk7XG4gICAgfVxuICBcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZpbmRBdXRob3IoKTsgLy8gc3VjY2VlZCBvciBmYWlsXG4gICAgfSBjYXRjaChlcnJvcikge1xuICAgICAgcmV0dXJuIGZpbmRPdGhlckF1dGhlcigpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICAvLyBhbHdheXMgcnVuc1xuICAgICAgLy8gZG9lc24ndCBhZmZlY3QgdGhlIHJldHVybiB2YWx1ZVxuICAgIH1cbiAgICBgYGBcbiAgXG4gICAgQXN5bmNocm9ub3VzIGV4YW1wbGU6XG4gIFxuICAgIGBgYGpzXG4gICAgZmluZEF1dGhvcigpLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgICByZXR1cm4gZmluZE90aGVyQXV0aGVyKCk7XG4gICAgfSkuZmluYWxseShmdW5jdGlvbigpe1xuICAgICAgLy8gYXV0aG9yIHdhcyBlaXRoZXIgZm91bmQsIG9yIG5vdFxuICAgIH0pO1xuICAgIGBgYFxuICBcbiAgICBAbWV0aG9kIGZpbmFsbHlcbiAgICBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgIEByZXR1cm4ge1Byb21pc2V9XG4gICovXG5cblxuICBQcm9taXNlLnByb3RvdHlwZS5maW5hbGx5ID0gZnVuY3Rpb24gX2ZpbmFsbHkoY2FsbGJhY2spIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gICAgdmFyIGNvbnN0cnVjdG9yID0gcHJvbWlzZS5jb25zdHJ1Y3RvcjtcblxuICAgIGlmIChpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlLnRoZW4oY2FsbGJhY2ssIGNhbGxiYWNrKTtcbiAgfTtcblxuICByZXR1cm4gUHJvbWlzZTtcbn0oKTtcblxuUHJvbWlzZS5wcm90b3R5cGUudGhlbiA9IHRoZW47XG5leHBvcnQgZGVmYXVsdCBQcm9taXNlO1xuUHJvbWlzZS5hbGwgPSBhbGw7XG5Qcm9taXNlLnJhY2UgPSByYWNlO1xuUHJvbWlzZS5yZXNvbHZlID0gUmVzb2x2ZTtcblByb21pc2UucmVqZWN0ID0gUmVqZWN0O1xuUHJvbWlzZS5fc2V0U2NoZWR1bGVyID0gc2V0U2NoZWR1bGVyO1xuUHJvbWlzZS5fc2V0QXNhcCA9IHNldEFzYXA7XG5Qcm9taXNlLl9hc2FwID0gYXNhcDsiLCIvKmdsb2JhbCBzZWxmKi9cbmltcG9ydCBQcm9taXNlIGZyb20gJy4vcHJvbWlzZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBvbHlmaWxsKCkge1xuICB2YXIgbG9jYWwgPSB2b2lkIDA7XG5cbiAgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbG9jYWwgPSBnbG9iYWw7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbG9jYWwgPSBzZWxmO1xuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb2x5ZmlsbCBmYWlsZWQgYmVjYXVzZSBnbG9iYWwgb2JqZWN0IGlzIHVuYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQnKTtcbiAgICB9XG4gIH1cblxuICB2YXIgUCA9IGxvY2FsLlByb21pc2U7XG5cbiAgaWYgKFApIHtcbiAgICB2YXIgcHJvbWlzZVRvU3RyaW5nID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgcHJvbWlzZVRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFAucmVzb2x2ZSgpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBzaWxlbnRseSBpZ25vcmVkXG4gICAgfVxuXG4gICAgaWYgKHByb21pc2VUb1N0cmluZyA9PT0gJ1tvYmplY3QgUHJvbWlzZV0nICYmICFQLmNhc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBsb2NhbC5Qcm9taXNlID0gUHJvbWlzZTtcbn0iLCJpbXBvcnQgUHJvbWlzZSBmcm9tICcuL2VzNi1wcm9taXNlL3Byb21pc2UnO1xuaW1wb3J0IHBvbHlmaWxsIGZyb20gJy4vZXM2LXByb21pc2UvcG9seWZpbGwnO1xuXG4vLyBTdHJhbmdlIGNvbXBhdC4uXG5Qcm9taXNlLnBvbHlmaWxsID0gcG9seWZpbGw7XG5Qcm9taXNlLlByb21pc2UgPSBQcm9taXNlO1xuZXhwb3J0IGRlZmF1bHQgUHJvbWlzZTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/es6-promise/dist/es6-promise.js\n")},"./node_modules/process/browser.js":function(module,exports){eval("// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzP2U1YzciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFDQUFxQzs7QUFFckM7QUFDQTtBQUNBOztBQUVBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsVUFBVSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/process/browser.js\n")},"./node_modules/tslib/tslib.es6.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__extends", function() { return __extends; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__assign", function() { return __assign; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__rest", function() { return __rest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__decorate", function() { return __decorate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__param", function() { return __param; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__metadata", function() { return __metadata; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__awaiter", function() { return __awaiter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__generator", function() { return __generator; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__createBinding", function() { return __createBinding; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__exportStar", function() { return __exportStar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__values", function() { return __values; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__read", function() { return __read; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__spread", function() { return __spread; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__spreadArrays", function() { return __spreadArrays; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__await", function() { return __await; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncGenerator", function() { return __asyncGenerator; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncDelegator", function() { return __asyncDelegator; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncValues", function() { return __asyncValues; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__makeTemplateObject", function() { return __makeTemplateObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__importStar", function() { return __importStar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__importDefault", function() { return __importDefault; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__classPrivateFieldGet", function() { return __classPrivateFieldGet; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__classPrivateFieldSet", function() { return __classPrivateFieldSet; });\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nfunction __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nfunction __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError("Generator is already executing.");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nfunction __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nfunction __exportStar(m, exports) {\r\n    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nfunction __values(o) {\r\n    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === "number") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === "function" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i["return"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume("next", value); }\r\n    function reject(value) { resume("throw", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nfunction __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nfunction __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nfunction __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nfunction __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nfunction __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nfunction __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError("attempted to get private field on non-instance");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nfunction __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError("attempted to set private field on non-instance");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzP2ZlYzMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVSxnQkFBZ0Isc0NBQXNDLGlCQUFpQixFQUFFO0FBQ25GLHlCQUF5Qix1REFBdUQ7QUFDaEY7QUFDQTs7QUFFTztBQUNQO0FBQ0EsbUJBQW1CLHNCQUFzQjtBQUN6QztBQUNBOztBQUVPO0FBQ1A7QUFDQSxnREFBZ0QsT0FBTztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELGNBQWM7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQSw0Q0FBNEMsUUFBUTtBQUNwRDtBQUNBOztBQUVPO0FBQ1AsbUNBQW1DLG9DQUFvQztBQUN2RTs7QUFFTztBQUNQO0FBQ0E7O0FBRU87QUFDUCwyQkFBMkIsK0RBQStELGdCQUFnQixFQUFFLEVBQUU7QUFDOUc7QUFDQSxtQ0FBbUMsTUFBTSw2QkFBNkIsRUFBRSxZQUFZLFdBQVcsRUFBRTtBQUNqRyxrQ0FBa0MsTUFBTSxpQ0FBaUMsRUFBRSxZQUFZLFdBQVcsRUFBRTtBQUNwRywrQkFBK0IscUZBQXFGO0FBQ3BIO0FBQ0EsS0FBSztBQUNMOztBQUVPO0FBQ1AsYUFBYSw2QkFBNkIsMEJBQTBCLGFBQWEsRUFBRSxxQkFBcUI7QUFDeEcsZ0JBQWdCLHFEQUFxRCxvRUFBb0UsYUFBYSxFQUFFO0FBQ3hKLHNCQUFzQixzQkFBc0IscUJBQXFCLEdBQUc7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDLGtDQUFrQyxTQUFTO0FBQzNDLGtDQUFrQyxXQUFXLFVBQVU7QUFDdkQseUNBQXlDLGNBQWM7QUFDdkQ7QUFDQSw2R0FBNkcsT0FBTyxVQUFVO0FBQzlILGdGQUFnRixpQkFBaUIsT0FBTztBQUN4Ryx3REFBd0QsZ0JBQWdCLFFBQVEsT0FBTztBQUN2Riw4Q0FBOEMsZ0JBQWdCLGdCQUFnQixPQUFPO0FBQ3JGO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxTQUFTLFlBQVksYUFBYSxPQUFPLEVBQUUsVUFBVSxXQUFXO0FBQ2hFLG1DQUFtQyxTQUFTO0FBQzVDO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixNQUFNLGdCQUFnQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixzQkFBc0I7QUFDdkM7QUFDQTtBQUNBOztBQUVPO0FBQ1AsNEJBQTRCLHNCQUFzQjtBQUNsRDtBQUNBO0FBQ0E7O0FBRU87QUFDUCxpREFBaUQsUUFBUTtBQUN6RCx3Q0FBd0MsUUFBUTtBQUNoRCx3REFBd0QsUUFBUTtBQUNoRTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBLGlCQUFpQixzRkFBc0YsYUFBYSxFQUFFO0FBQ3RILHNCQUFzQixnQ0FBZ0MscUNBQXFDLDBDQUEwQyxFQUFFLEVBQUUsR0FBRztBQUM1SSwyQkFBMkIsTUFBTSxlQUFlLEVBQUUsWUFBWSxvQkFBb0IsRUFBRTtBQUNwRixzQkFBc0Isb0dBQW9HO0FBQzFILDZCQUE2Qix1QkFBdUI7QUFDcEQsNEJBQTRCLHdCQUF3QjtBQUNwRCwyQkFBMkIseURBQXlEO0FBQ3BGOztBQUVPO0FBQ1A7QUFDQSxpQkFBaUIsNENBQTRDLFNBQVMsRUFBRSxxREFBcUQsYUFBYSxFQUFFO0FBQzVJLHlCQUF5Qiw2QkFBNkIsb0JBQW9CLGdEQUFnRCxnQkFBZ0IsRUFBRSxLQUFLO0FBQ2pKOztBQUVPO0FBQ1A7QUFDQTtBQUNBLDJHQUEyRyxzRkFBc0YsYUFBYSxFQUFFO0FBQ2hOLHNCQUFzQiw4QkFBOEIsZ0RBQWdELHVEQUF1RCxFQUFFLEVBQUUsR0FBRztBQUNsSyw0Q0FBNEMsc0NBQXNDLFVBQVUsb0JBQW9CLEVBQUUsRUFBRSxVQUFVO0FBQzlIOztBQUVPO0FBQ1AsZ0NBQWdDLHVDQUF1QyxhQUFhLEVBQUUsRUFBRSxPQUFPLGtCQUFrQjtBQUNqSDtBQUNBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVPO0FBQ1AsNENBQTRDO0FBQzVDOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jcmVhdGVCaW5kaW5nKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHByaXZhdGVNYXAsIHZhbHVlKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZU1hcC5zZXQocmVjZWl2ZXIsIHZhbHVlKTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/tslib/tslib.es6.js\n')},"./node_modules/webpack/buildin/global.js":function(module,exports){eval('var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function("return this")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === "object") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it\'s\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzPzc3ZDYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0Q0FBNEM7O0FBRTVDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9nbG9iYWwuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/webpack/buildin/global.js\n')},"./node_modules/whatwg-fetch/fetch.js":function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Headers\", function() { return Headers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Request\", function() { return Request; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Response\", function() { return Response; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DOMException\", function() { return DOMException; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fetch\", function() { return fetch; });\nvar global =\n  (typeof globalThis !== 'undefined' && globalThis) ||\n  (typeof self !== 'undefined' && self) ||\n  (typeof global !== 'undefined' && global)\n\nvar support = {\n  searchParams: 'URLSearchParams' in global,\n  iterable: 'Symbol' in global && 'iterator' in Symbol,\n  blob:\n    'FileReader' in global &&\n    'Blob' in global &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in global,\n  arrayBuffer: 'ArrayBuffer' in global\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~!]/i.test(name) || name === '') {\n    throw new TypeError('Invalid character in header field name')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nfunction Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    /*\n      fetch-mock wraps the Response object in an ES6 Proxy to\n      provide useful test harness features such as flush. However, on\n      ES5 browsers without fetch or Proxy support pollyfills must be used;\n      the proxy-pollyfill is unable to proxy an attribute unless it exists\n      on the object before the Proxy is created. This change ensures\n      Response.bodyUsed exists on the instance, while maintaining the\n      semantic of setting Request.bodyUsed in the constructor before\n      _initBody is called.\n    */\n    this.bodyUsed = this.bodyUsed\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        var isConsumed = consumed(this)\n        if (isConsumed) {\n          return isConsumed\n        }\n        if (ArrayBuffer.isView(this._bodyArrayBuffer)) {\n          return Promise.resolve(\n            this._bodyArrayBuffer.buffer.slice(\n              this._bodyArrayBuffer.byteOffset,\n              this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength\n            )\n          )\n        } else {\n          return Promise.resolve(this._bodyArrayBuffer)\n        }\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nfunction Request(input, options) {\n  if (!(this instanceof Request)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n\n  if (this.method === 'GET' || this.method === 'HEAD') {\n    if (options.cache === 'no-store' || options.cache === 'no-cache') {\n      // Search for a '_' parameter in the query string\n      var reParamSearch = /([?&])_=[^&]*/\n      if (reParamSearch.test(this.url)) {\n        // If it already exists then set the value with the current time\n        this.url = this.url.replace(reParamSearch, '$1_=' + new Date().getTime())\n      } else {\n        // Otherwise add a new '_' parameter to the end with the current time\n        var reQueryString = /\\?/\n        this.url += (reQueryString.test(this.url) ? '&' : '?') + '_=' + new Date().getTime()\n      }\n    }\n  }\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  // Avoiding split via regex to work around a common IE11 bug with the core-js 3.6.0 regex polyfill\n  // https://github.com/github/fetch/issues/748\n  // https://github.com/zloirock/core-js/issues/751\n  preProcessedHeaders\n    .split('\\r')\n    .map(function(header) {\n      return header.indexOf('\\n') === 0 ? header.substr(1, header.length) : header\n    })\n    .forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nfunction Response(bodyInit, options) {\n  if (!(this instanceof Response)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = 'statusText' in options ? options.statusText : ''\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nvar DOMException = global.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nfunction fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      setTimeout(function() {\n        resolve(new Response(body, options))\n      }, 0)\n    }\n\n    xhr.onerror = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request failed'))\n      }, 0)\n    }\n\n    xhr.ontimeout = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request failed'))\n      }, 0)\n    }\n\n    xhr.onabort = function() {\n      setTimeout(function() {\n        reject(new DOMException('Aborted', 'AbortError'))\n      }, 0)\n    }\n\n    function fixUrl(url) {\n      try {\n        return url === '' && global.location.href ? global.location.href : url\n      } catch (e) {\n        return url\n      }\n    }\n\n    xhr.open(request.method, fixUrl(request.url), true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr) {\n      if (support.blob) {\n        xhr.responseType = 'blob'\n      } else if (\n        support.arrayBuffer &&\n        request.headers.get('Content-Type') &&\n        request.headers.get('Content-Type').indexOf('application/octet-stream') !== -1\n      ) {\n        xhr.responseType = 'arraybuffer'\n      }\n    }\n\n    if (init && typeof init.headers === 'object' && !(init.headers instanceof Headers)) {\n      Object.getOwnPropertyNames(init.headers).forEach(function(name) {\n        xhr.setRequestHeader(name, normalizeValue(init.headers[name]))\n      })\n    } else {\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n    }\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!global.fetch) {\n  global.fetch = fetch\n  global.Headers = Headers\n  global.Request = Request\n  global.Response = Response\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvd2hhdHdnLWZldGNoL2ZldGNoLmpzPzM1NjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxpQkFBaUIsaUJBQWlCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxREFBcUQ7QUFDckQsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQLDRFQUE0RTtBQUM1RTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0QkFBNEIscUJBQXFCO0FBQ2pEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBOztBQUVPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EscUNBQXFDLDBCQUEwQjtBQUMvRDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNkJBQTZCLDBCQUEwQixlQUFlO0FBQ3RFOztBQUVPO0FBQ1A7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy93aGF0d2ctZmV0Y2gvZmV0Y2guanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZ2xvYmFsID1cbiAgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyAmJiBnbG9iYWxUaGlzKSB8fFxuICAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnICYmIHNlbGYpIHx8XG4gICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyAmJiBnbG9iYWwpXG5cbnZhciBzdXBwb3J0ID0ge1xuICBzZWFyY2hQYXJhbXM6ICdVUkxTZWFyY2hQYXJhbXMnIGluIGdsb2JhbCxcbiAgaXRlcmFibGU6ICdTeW1ib2wnIGluIGdsb2JhbCAmJiAnaXRlcmF0b3InIGluIFN5bWJvbCxcbiAgYmxvYjpcbiAgICAnRmlsZVJlYWRlcicgaW4gZ2xvYmFsICYmXG4gICAgJ0Jsb2InIGluIGdsb2JhbCAmJlxuICAgIChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5ldyBCbG9iKClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfSkoKSxcbiAgZm9ybURhdGE6ICdGb3JtRGF0YScgaW4gZ2xvYmFsLFxuICBhcnJheUJ1ZmZlcjogJ0FycmF5QnVmZmVyJyBpbiBnbG9iYWxcbn1cblxuZnVuY3Rpb24gaXNEYXRhVmlldyhvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBEYXRhVmlldy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihvYmopXG59XG5cbmlmIChzdXBwb3J0LmFycmF5QnVmZmVyKSB7XG4gIHZhciB2aWV3Q2xhc3NlcyA9IFtcbiAgICAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgJ1tvYmplY3QgVWludDMyQXJyYXldJyxcbiAgICAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICAnW29iamVjdCBGbG9hdDY0QXJyYXldJ1xuICBdXG5cbiAgdmFyIGlzQXJyYXlCdWZmZXJWaWV3ID1cbiAgICBBcnJheUJ1ZmZlci5pc1ZpZXcgfHxcbiAgICBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgdmlld0NsYXNzZXMuaW5kZXhPZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSkgPiAtMVxuICAgIH1cbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplTmFtZShuYW1lKSB7XG4gIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICBuYW1lID0gU3RyaW5nKG5hbWUpXG4gIH1cbiAgaWYgKC9bXmEtejAtOVxcLSMkJSYnKisuXl9gfH4hXS9pLnRlc3QobmFtZSkgfHwgbmFtZSA9PT0gJycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGNoYXJhY3RlciBpbiBoZWFkZXIgZmllbGQgbmFtZScpXG4gIH1cbiAgcmV0dXJuIG5hbWUudG9Mb3dlckNhc2UoKVxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVWYWx1ZSh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKVxuICB9XG4gIHJldHVybiB2YWx1ZVxufVxuXG4vLyBCdWlsZCBhIGRlc3RydWN0aXZlIGl0ZXJhdG9yIGZvciB0aGUgdmFsdWUgbGlzdFxuZnVuY3Rpb24gaXRlcmF0b3JGb3IoaXRlbXMpIHtcbiAgdmFyIGl0ZXJhdG9yID0ge1xuICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHZhbHVlID0gaXRlbXMuc2hpZnQoKVxuICAgICAgcmV0dXJuIHtkb25lOiB2YWx1ZSA9PT0gdW5kZWZpbmVkLCB2YWx1ZTogdmFsdWV9XG4gICAgfVxuICB9XG5cbiAgaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcbiAgICBpdGVyYXRvcltTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gaXRlcmF0b3JcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaXRlcmF0b3Jcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEhlYWRlcnMoaGVhZGVycykge1xuICB0aGlzLm1hcCA9IHt9XG5cbiAgaWYgKGhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzKSB7XG4gICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICB0aGlzLmFwcGVuZChuYW1lLCB2YWx1ZSlcbiAgICB9LCB0aGlzKVxuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaGVhZGVycykpIHtcbiAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24oaGVhZGVyKSB7XG4gICAgICB0aGlzLmFwcGVuZChoZWFkZXJbMF0sIGhlYWRlclsxXSlcbiAgICB9LCB0aGlzKVxuICB9IGVsc2UgaWYgKGhlYWRlcnMpIHtcbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhoZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIGhlYWRlcnNbbmFtZV0pXG4gICAgfSwgdGhpcylcbiAgfVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKVxuICB2YWx1ZSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKVxuICB2YXIgb2xkVmFsdWUgPSB0aGlzLm1hcFtuYW1lXVxuICB0aGlzLm1hcFtuYW1lXSA9IG9sZFZhbHVlID8gb2xkVmFsdWUgKyAnLCAnICsgdmFsdWUgOiB2YWx1ZVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBmdW5jdGlvbihuYW1lKSB7XG4gIGRlbGV0ZSB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihuYW1lKSB7XG4gIG5hbWUgPSBub3JtYWxpemVOYW1lKG5hbWUpXG4gIHJldHVybiB0aGlzLmhhcyhuYW1lKSA/IHRoaXMubWFwW25hbWVdIDogbnVsbFxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHJldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShub3JtYWxpemVOYW1lKG5hbWUpKVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLm1hcCkge1xuICAgIGlmICh0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB0aGlzLm1hcFtuYW1lXSwgbmFtZSwgdGhpcylcbiAgICB9XG4gIH1cbn1cblxuSGVhZGVycy5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaXRlbXMgPSBbXVxuICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICBpdGVtcy5wdXNoKG5hbWUpXG4gIH0pXG4gIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbn1cblxuSGVhZGVycy5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24oKSB7XG4gIHZhciBpdGVtcyA9IFtdXG4gIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgIGl0ZW1zLnB1c2godmFsdWUpXG4gIH0pXG4gIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbn1cblxuSGVhZGVycy5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaXRlbXMgPSBbXVxuICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICBpdGVtcy5wdXNoKFtuYW1lLCB2YWx1ZV0pXG4gIH0pXG4gIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbn1cblxuaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcbiAgSGVhZGVycy5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IEhlYWRlcnMucHJvdG90eXBlLmVudHJpZXNcbn1cblxuZnVuY3Rpb24gY29uc3VtZWQoYm9keSkge1xuICBpZiAoYm9keS5ib2R5VXNlZCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKSlcbiAgfVxuICBib2R5LmJvZHlVc2VkID0gdHJ1ZVxufVxuXG5mdW5jdGlvbiBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQpXG4gICAgfVxuICAgIHJlYWRlci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICByZWplY3QocmVhZGVyLmVycm9yKVxuICAgIH1cbiAgfSlcbn1cblxuZnVuY3Rpb24gcmVhZEJsb2JBc0FycmF5QnVmZmVyKGJsb2IpIHtcbiAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgdmFyIHByb21pc2UgPSBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYilcbiAgcmV0dXJuIHByb21pc2Vcbn1cblxuZnVuY3Rpb24gcmVhZEJsb2JBc1RleHQoYmxvYikge1xuICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IpXG4gIHJldHVybiBwcm9taXNlXG59XG5cbmZ1bmN0aW9uIHJlYWRBcnJheUJ1ZmZlckFzVGV4dChidWYpIHtcbiAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShidWYpXG4gIHZhciBjaGFycyA9IG5ldyBBcnJheSh2aWV3Lmxlbmd0aClcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICBjaGFyc1tpXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUodmlld1tpXSlcbiAgfVxuICByZXR1cm4gY2hhcnMuam9pbignJylcbn1cblxuZnVuY3Rpb24gYnVmZmVyQ2xvbmUoYnVmKSB7XG4gIGlmIChidWYuc2xpY2UpIHtcbiAgICByZXR1cm4gYnVmLnNsaWNlKDApXG4gIH0gZWxzZSB7XG4gICAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShidWYuYnl0ZUxlbmd0aClcbiAgICB2aWV3LnNldChuZXcgVWludDhBcnJheShidWYpKVxuICAgIHJldHVybiB2aWV3LmJ1ZmZlclxuICB9XG59XG5cbmZ1bmN0aW9uIEJvZHkoKSB7XG4gIHRoaXMuYm9keVVzZWQgPSBmYWxzZVxuXG4gIHRoaXMuX2luaXRCb2R5ID0gZnVuY3Rpb24oYm9keSkge1xuICAgIC8qXG4gICAgICBmZXRjaC1tb2NrIHdyYXBzIHRoZSBSZXNwb25zZSBvYmplY3QgaW4gYW4gRVM2IFByb3h5IHRvXG4gICAgICBwcm92aWRlIHVzZWZ1bCB0ZXN0IGhhcm5lc3MgZmVhdHVyZXMgc3VjaCBhcyBmbHVzaC4gSG93ZXZlciwgb25cbiAgICAgIEVTNSBicm93c2VycyB3aXRob3V0IGZldGNoIG9yIFByb3h5IHN1cHBvcnQgcG9sbHlmaWxscyBtdXN0IGJlIHVzZWQ7XG4gICAgICB0aGUgcHJveHktcG9sbHlmaWxsIGlzIHVuYWJsZSB0byBwcm94eSBhbiBhdHRyaWJ1dGUgdW5sZXNzIGl0IGV4aXN0c1xuICAgICAgb24gdGhlIG9iamVjdCBiZWZvcmUgdGhlIFByb3h5IGlzIGNyZWF0ZWQuIFRoaXMgY2hhbmdlIGVuc3VyZXNcbiAgICAgIFJlc3BvbnNlLmJvZHlVc2VkIGV4aXN0cyBvbiB0aGUgaW5zdGFuY2UsIHdoaWxlIG1haW50YWluaW5nIHRoZVxuICAgICAgc2VtYW50aWMgb2Ygc2V0dGluZyBSZXF1ZXN0LmJvZHlVc2VkIGluIHRoZSBjb25zdHJ1Y3RvciBiZWZvcmVcbiAgICAgIF9pbml0Qm9keSBpcyBjYWxsZWQuXG4gICAgKi9cbiAgICB0aGlzLmJvZHlVc2VkID0gdGhpcy5ib2R5VXNlZFxuICAgIHRoaXMuX2JvZHlJbml0ID0gYm9keVxuICAgIGlmICghYm9keSkge1xuICAgICAgdGhpcy5fYm9keVRleHQgPSAnJ1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHlcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYmxvYiAmJiBCbG9iLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICB0aGlzLl9ib2R5QmxvYiA9IGJvZHlcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnQuZm9ybURhdGEgJiYgRm9ybURhdGEucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgIHRoaXMuX2JvZHlGb3JtRGF0YSA9IGJvZHlcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5LnRvU3RyaW5nKClcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgc3VwcG9ydC5ibG9iICYmIGlzRGF0YVZpZXcoYm9keSkpIHtcbiAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlciA9IGJ1ZmZlckNsb25lKGJvZHkuYnVmZmVyKVxuICAgICAgLy8gSUUgMTAtMTEgY2FuJ3QgaGFuZGxlIGEgRGF0YVZpZXcgYm9keS5cbiAgICAgIHRoaXMuX2JvZHlJbml0ID0gbmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pXG4gICAgfSBlbHNlIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyICYmIChBcnJheUJ1ZmZlci5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSB8fCBpc0FycmF5QnVmZmVyVmlldyhib2R5KSkpIHtcbiAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlciA9IGJ1ZmZlckNsb25lKGJvZHkpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChib2R5KVxuICAgIH1cblxuICAgIGlmICghdGhpcy5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykpIHtcbiAgICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ3RleHQvcGxhaW47Y2hhcnNldD1VVEYtOCcpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlCbG9iICYmIHRoaXMuX2JvZHlCbG9iLnR5cGUpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgdGhpcy5fYm9keUJsb2IudHlwZSlcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKHN1cHBvcnQuYmxvYikge1xuICAgIHRoaXMuYmxvYiA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUJsb2IpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKSlcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyBibG9iJylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlUZXh0XSkpXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5hcnJheUJ1ZmZlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICB2YXIgaXNDb25zdW1lZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgICAgIGlmIChpc0NvbnN1bWVkKSB7XG4gICAgICAgICAgcmV0dXJuIGlzQ29uc3VtZWRcbiAgICAgICAgfVxuICAgICAgICBpZiAoQXJyYXlCdWZmZXIuaXNWaWV3KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFxuICAgICAgICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyLmJ1ZmZlci5zbGljZShcbiAgICAgICAgICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyLmJ5dGVPZmZzZXQsXG4gICAgICAgICAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlci5ieXRlT2Zmc2V0ICsgdGhpcy5fYm9keUFycmF5QnVmZmVyLmJ5dGVMZW5ndGhcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJsb2IoKS50aGVuKHJlYWRCbG9iQXNBcnJheUJ1ZmZlcilcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB0aGlzLnRleHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICByZXR1cm4gcmVhZEJsb2JBc1RleHQodGhpcy5fYm9keUJsb2IpXG4gICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVhZEFycmF5QnVmZmVyQXNUZXh0KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikpXG4gICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyB0ZXh0JylcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5VGV4dClcbiAgICB9XG4gIH1cblxuICBpZiAoc3VwcG9ydC5mb3JtRGF0YSkge1xuICAgIHRoaXMuZm9ybURhdGEgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKGRlY29kZSlcbiAgICB9XG4gIH1cblxuICB0aGlzLmpzb24gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihKU09OLnBhcnNlKVxuICB9XG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuLy8gSFRUUCBtZXRob2RzIHdob3NlIGNhcGl0YWxpemF0aW9uIHNob3VsZCBiZSBub3JtYWxpemVkXG52YXIgbWV0aG9kcyA9IFsnREVMRVRFJywgJ0dFVCcsICdIRUFEJywgJ09QVElPTlMnLCAnUE9TVCcsICdQVVQnXVxuXG5mdW5jdGlvbiBub3JtYWxpemVNZXRob2QobWV0aG9kKSB7XG4gIHZhciB1cGNhc2VkID0gbWV0aG9kLnRvVXBwZXJDYXNlKClcbiAgcmV0dXJuIG1ldGhvZHMuaW5kZXhPZih1cGNhc2VkKSA+IC0xID8gdXBjYXNlZCA6IG1ldGhvZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVxdWVzdChpbnB1dCwgb3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmVxdWVzdCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQbGVhc2UgdXNlIHRoZSBcIm5ld1wiIG9wZXJhdG9yLCB0aGlzIERPTSBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLicpXG4gIH1cblxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuICB2YXIgYm9keSA9IG9wdGlvbnMuYm9keVxuXG4gIGlmIChpbnB1dCBpbnN0YW5jZW9mIFJlcXVlc3QpIHtcbiAgICBpZiAoaW5wdXQuYm9keVVzZWQpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpXG4gICAgfVxuICAgIHRoaXMudXJsID0gaW5wdXQudXJsXG4gICAgdGhpcy5jcmVkZW50aWFscyA9IGlucHV0LmNyZWRlbnRpYWxzXG4gICAgaWYgKCFvcHRpb25zLmhlYWRlcnMpIHtcbiAgICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKGlucHV0LmhlYWRlcnMpXG4gICAgfVxuICAgIHRoaXMubWV0aG9kID0gaW5wdXQubWV0aG9kXG4gICAgdGhpcy5tb2RlID0gaW5wdXQubW9kZVxuICAgIHRoaXMuc2lnbmFsID0gaW5wdXQuc2lnbmFsXG4gICAgaWYgKCFib2R5ICYmIGlucHV0Ll9ib2R5SW5pdCAhPSBudWxsKSB7XG4gICAgICBib2R5ID0gaW5wdXQuX2JvZHlJbml0XG4gICAgICBpbnB1dC5ib2R5VXNlZCA9IHRydWVcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhpcy51cmwgPSBTdHJpbmcoaW5wdXQpXG4gIH1cblxuICB0aGlzLmNyZWRlbnRpYWxzID0gb3B0aW9ucy5jcmVkZW50aWFscyB8fCB0aGlzLmNyZWRlbnRpYWxzIHx8ICdzYW1lLW9yaWdpbidcbiAgaWYgKG9wdGlvbnMuaGVhZGVycyB8fCAhdGhpcy5oZWFkZXJzKSB7XG4gICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICB9XG4gIHRoaXMubWV0aG9kID0gbm9ybWFsaXplTWV0aG9kKG9wdGlvbnMubWV0aG9kIHx8IHRoaXMubWV0aG9kIHx8ICdHRVQnKVxuICB0aGlzLm1vZGUgPSBvcHRpb25zLm1vZGUgfHwgdGhpcy5tb2RlIHx8IG51bGxcbiAgdGhpcy5zaWduYWwgPSBvcHRpb25zLnNpZ25hbCB8fCB0aGlzLnNpZ25hbFxuICB0aGlzLnJlZmVycmVyID0gbnVsbFxuXG4gIGlmICgodGhpcy5tZXRob2QgPT09ICdHRVQnIHx8IHRoaXMubWV0aG9kID09PSAnSEVBRCcpICYmIGJvZHkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCb2R5IG5vdCBhbGxvd2VkIGZvciBHRVQgb3IgSEVBRCByZXF1ZXN0cycpXG4gIH1cbiAgdGhpcy5faW5pdEJvZHkoYm9keSlcblxuICBpZiAodGhpcy5tZXRob2QgPT09ICdHRVQnIHx8IHRoaXMubWV0aG9kID09PSAnSEVBRCcpIHtcbiAgICBpZiAob3B0aW9ucy5jYWNoZSA9PT0gJ25vLXN0b3JlJyB8fCBvcHRpb25zLmNhY2hlID09PSAnbm8tY2FjaGUnKSB7XG4gICAgICAvLyBTZWFyY2ggZm9yIGEgJ18nIHBhcmFtZXRlciBpbiB0aGUgcXVlcnkgc3RyaW5nXG4gICAgICB2YXIgcmVQYXJhbVNlYXJjaCA9IC8oWz8mXSlfPVteJl0qL1xuICAgICAgaWYgKHJlUGFyYW1TZWFyY2gudGVzdCh0aGlzLnVybCkpIHtcbiAgICAgICAgLy8gSWYgaXQgYWxyZWFkeSBleGlzdHMgdGhlbiBzZXQgdGhlIHZhbHVlIHdpdGggdGhlIGN1cnJlbnQgdGltZVxuICAgICAgICB0aGlzLnVybCA9IHRoaXMudXJsLnJlcGxhY2UocmVQYXJhbVNlYXJjaCwgJyQxXz0nICsgbmV3IERhdGUoKS5nZXRUaW1lKCkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBPdGhlcndpc2UgYWRkIGEgbmV3ICdfJyBwYXJhbWV0ZXIgdG8gdGhlIGVuZCB3aXRoIHRoZSBjdXJyZW50IHRpbWVcbiAgICAgICAgdmFyIHJlUXVlcnlTdHJpbmcgPSAvXFw/L1xuICAgICAgICB0aGlzLnVybCArPSAocmVRdWVyeVN0cmluZy50ZXN0KHRoaXMudXJsKSA/ICcmJyA6ICc/JykgKyAnXz0nICsgbmV3IERhdGUoKS5nZXRUaW1lKClcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBSZXF1ZXN0KHRoaXMsIHtib2R5OiB0aGlzLl9ib2R5SW5pdH0pXG59XG5cbmZ1bmN0aW9uIGRlY29kZShib2R5KSB7XG4gIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKClcbiAgYm9keVxuICAgIC50cmltKClcbiAgICAuc3BsaXQoJyYnKVxuICAgIC5mb3JFYWNoKGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICBpZiAoYnl0ZXMpIHtcbiAgICAgICAgdmFyIHNwbGl0ID0gYnl0ZXMuc3BsaXQoJz0nKVxuICAgICAgICB2YXIgbmFtZSA9IHNwbGl0LnNoaWZ0KCkucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgdmFyIHZhbHVlID0gc3BsaXQuam9pbignPScpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG4gICAgICAgIGZvcm0uYXBwZW5kKGRlY29kZVVSSUNvbXBvbmVudChuYW1lKSwgZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSlcbiAgICAgIH1cbiAgICB9KVxuICByZXR1cm4gZm9ybVxufVxuXG5mdW5jdGlvbiBwYXJzZUhlYWRlcnMocmF3SGVhZGVycykge1xuICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKClcbiAgLy8gUmVwbGFjZSBpbnN0YW5jZXMgb2YgXFxyXFxuIGFuZCBcXG4gZm9sbG93ZWQgYnkgYXQgbGVhc3Qgb25lIHNwYWNlIG9yIGhvcml6b250YWwgdGFiIHdpdGggYSBzcGFjZVxuICAvLyBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNzIzMCNzZWN0aW9uLTMuMlxuICB2YXIgcHJlUHJvY2Vzc2VkSGVhZGVycyA9IHJhd0hlYWRlcnMucmVwbGFjZSgvXFxyP1xcbltcXHQgXSsvZywgJyAnKVxuICAvLyBBdm9pZGluZyBzcGxpdCB2aWEgcmVnZXggdG8gd29yayBhcm91bmQgYSBjb21tb24gSUUxMSBidWcgd2l0aCB0aGUgY29yZS1qcyAzLjYuMCByZWdleCBwb2x5ZmlsbFxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vZ2l0aHViL2ZldGNoL2lzc3Vlcy83NDhcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzc1MVxuICBwcmVQcm9jZXNzZWRIZWFkZXJzXG4gICAgLnNwbGl0KCdcXHInKVxuICAgIC5tYXAoZnVuY3Rpb24oaGVhZGVyKSB7XG4gICAgICByZXR1cm4gaGVhZGVyLmluZGV4T2YoJ1xcbicpID09PSAwID8gaGVhZGVyLnN1YnN0cigxLCBoZWFkZXIubGVuZ3RoKSA6IGhlYWRlclxuICAgIH0pXG4gICAgLmZvckVhY2goZnVuY3Rpb24obGluZSkge1xuICAgICAgdmFyIHBhcnRzID0gbGluZS5zcGxpdCgnOicpXG4gICAgICB2YXIga2V5ID0gcGFydHMuc2hpZnQoKS50cmltKClcbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gcGFydHMuam9pbignOicpLnRyaW0oKVxuICAgICAgICBoZWFkZXJzLmFwcGVuZChrZXksIHZhbHVlKVxuICAgICAgfVxuICAgIH0pXG4gIHJldHVybiBoZWFkZXJzXG59XG5cbkJvZHkuY2FsbChSZXF1ZXN0LnByb3RvdHlwZSlcblxuZXhwb3J0IGZ1bmN0aW9uIFJlc3BvbnNlKGJvZHlJbml0LCBvcHRpb25zKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZXNwb25zZSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQbGVhc2UgdXNlIHRoZSBcIm5ld1wiIG9wZXJhdG9yLCB0aGlzIERPTSBvYmplY3QgY29uc3RydWN0b3IgY2Fubm90IGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLicpXG4gIH1cbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHt9XG4gIH1cblxuICB0aGlzLnR5cGUgPSAnZGVmYXVsdCdcbiAgdGhpcy5zdGF0dXMgPSBvcHRpb25zLnN0YXR1cyA9PT0gdW5kZWZpbmVkID8gMjAwIDogb3B0aW9ucy5zdGF0dXNcbiAgdGhpcy5vayA9IHRoaXMuc3RhdHVzID49IDIwMCAmJiB0aGlzLnN0YXR1cyA8IDMwMFxuICB0aGlzLnN0YXR1c1RleHQgPSAnc3RhdHVzVGV4dCcgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc3RhdHVzVGV4dCA6ICcnXG4gIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgdGhpcy51cmwgPSBvcHRpb25zLnVybCB8fCAnJ1xuICB0aGlzLl9pbml0Qm9keShib2R5SW5pdClcbn1cblxuQm9keS5jYWxsKFJlc3BvbnNlLnByb3RvdHlwZSlcblxuUmVzcG9uc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgUmVzcG9uc2UodGhpcy5fYm9keUluaXQsIHtcbiAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgIHN0YXR1c1RleHQ6IHRoaXMuc3RhdHVzVGV4dCxcbiAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyh0aGlzLmhlYWRlcnMpLFxuICAgIHVybDogdGhpcy51cmxcbiAgfSlcbn1cblxuUmVzcG9uc2UuZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IDAsIHN0YXR1c1RleHQ6ICcnfSlcbiAgcmVzcG9uc2UudHlwZSA9ICdlcnJvcidcbiAgcmV0dXJuIHJlc3BvbnNlXG59XG5cbnZhciByZWRpcmVjdFN0YXR1c2VzID0gWzMwMSwgMzAyLCAzMDMsIDMwNywgMzA4XVxuXG5SZXNwb25zZS5yZWRpcmVjdCA9IGZ1bmN0aW9uKHVybCwgc3RhdHVzKSB7XG4gIGlmIChyZWRpcmVjdFN0YXR1c2VzLmluZGV4T2Yoc3RhdHVzKSA9PT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCBzdGF0dXMgY29kZScpXG4gIH1cblxuICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHtzdGF0dXM6IHN0YXR1cywgaGVhZGVyczoge2xvY2F0aW9uOiB1cmx9fSlcbn1cblxuZXhwb3J0IHZhciBET01FeGNlcHRpb24gPSBnbG9iYWwuRE9NRXhjZXB0aW9uXG50cnkge1xuICBuZXcgRE9NRXhjZXB0aW9uKClcbn0gY2F0Y2ggKGVycikge1xuICBET01FeGNlcHRpb24gPSBmdW5jdGlvbihtZXNzYWdlLCBuYW1lKSB7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZVxuICAgIHRoaXMubmFtZSA9IG5hbWVcbiAgICB2YXIgZXJyb3IgPSBFcnJvcihtZXNzYWdlKVxuICAgIHRoaXMuc3RhY2sgPSBlcnJvci5zdGFja1xuICB9XG4gIERPTUV4Y2VwdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSlcbiAgRE9NRXhjZXB0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IERPTUV4Y2VwdGlvblxufVxuXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2goaW5wdXQsIGluaXQpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoaW5wdXQsIGluaXQpXG5cbiAgICBpZiAocmVxdWVzdC5zaWduYWwgJiYgcmVxdWVzdC5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgcmV0dXJuIHJlamVjdChuZXcgRE9NRXhjZXB0aW9uKCdBYm9ydGVkJywgJ0Fib3J0RXJyb3InKSlcbiAgICB9XG5cbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcblxuICAgIGZ1bmN0aW9uIGFib3J0WGhyKCkge1xuICAgICAgeGhyLmFib3J0KClcbiAgICB9XG5cbiAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgaGVhZGVyczogcGFyc2VIZWFkZXJzKHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSB8fCAnJylcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMudXJsID0gJ3Jlc3BvbnNlVVJMJyBpbiB4aHIgPyB4aHIucmVzcG9uc2VVUkwgOiBvcHRpb25zLmhlYWRlcnMuZ2V0KCdYLVJlcXVlc3QtVVJMJylcbiAgICAgIHZhciBib2R5ID0gJ3Jlc3BvbnNlJyBpbiB4aHIgPyB4aHIucmVzcG9uc2UgOiB4aHIucmVzcG9uc2VUZXh0XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICByZXNvbHZlKG5ldyBSZXNwb25zZShib2R5LCBvcHRpb25zKSlcbiAgICAgIH0sIDApXG4gICAgfVxuXG4gICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG4gICAgICB9LCAwKVxuICAgIH1cblxuICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG4gICAgICB9LCAwKVxuICAgIH1cblxuICAgIHhoci5vbmFib3J0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IERPTUV4Y2VwdGlvbignQWJvcnRlZCcsICdBYm9ydEVycm9yJykpXG4gICAgICB9LCAwKVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpeFVybCh1cmwpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB1cmwgPT09ICcnICYmIGdsb2JhbC5sb2NhdGlvbi5ocmVmID8gZ2xvYmFsLmxvY2F0aW9uLmhyZWYgOiB1cmxcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHVybFxuICAgICAgfVxuICAgIH1cblxuICAgIHhoci5vcGVuKHJlcXVlc3QubWV0aG9kLCBmaXhVcmwocmVxdWVzdC51cmwpLCB0cnVlKVxuXG4gICAgaWYgKHJlcXVlc3QuY3JlZGVudGlhbHMgPT09ICdpbmNsdWRlJykge1xuICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWVcbiAgICB9IGVsc2UgaWYgKHJlcXVlc3QuY3JlZGVudGlhbHMgPT09ICdvbWl0Jykge1xuICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKCdyZXNwb25zZVR5cGUnIGluIHhocikge1xuICAgICAgaWYgKHN1cHBvcnQuYmxvYikge1xuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InXG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBzdXBwb3J0LmFycmF5QnVmZmVyICYmXG4gICAgICAgIHJlcXVlc3QuaGVhZGVycy5nZXQoJ0NvbnRlbnQtVHlwZScpICYmXG4gICAgICAgIHJlcXVlc3QuaGVhZGVycy5nZXQoJ0NvbnRlbnQtVHlwZScpLmluZGV4T2YoJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbScpICE9PSAtMVxuICAgICAgKSB7XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGluaXQgJiYgdHlwZW9mIGluaXQuaGVhZGVycyA9PT0gJ29iamVjdCcgJiYgIShpbml0LmhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzKSkge1xuICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaW5pdC5oZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgbm9ybWFsaXplVmFsdWUoaW5pdC5oZWFkZXJzW25hbWVdKSlcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcXVlc3QuaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKG5hbWUsIHZhbHVlKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAocmVxdWVzdC5zaWduYWwpIHtcbiAgICAgIHJlcXVlc3Quc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnRYaHIpXG5cbiAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gRE9ORSAoc3VjY2VzcyBvciBmYWlsdXJlKVxuICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICByZXF1ZXN0LnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIGFib3J0WGhyKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgeGhyLnNlbmQodHlwZW9mIHJlcXVlc3QuX2JvZHlJbml0ID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiByZXF1ZXN0Ll9ib2R5SW5pdClcbiAgfSlcbn1cblxuZmV0Y2gucG9seWZpbGwgPSB0cnVlXG5cbmlmICghZ2xvYmFsLmZldGNoKSB7XG4gIGdsb2JhbC5mZXRjaCA9IGZldGNoXG4gIGdsb2JhbC5IZWFkZXJzID0gSGVhZGVyc1xuICBnbG9iYWwuUmVxdWVzdCA9IFJlcXVlc3RcbiAgZ2xvYmFsLlJlc3BvbnNlID0gUmVzcG9uc2Vcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/whatwg-fetch/fetch.js\n")},"./scripts/app/App_Floodgate.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initialize", function() { return initialize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "showSurvey", function() { return showSurvey; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "showCustomSurvey", function() { return showCustomSurvey; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reset", function() { return reset; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSettingIdMap", function() { return getSettingIdMap; });\n/* harmony import */ var _CommonApp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CommonApp */ "./scripts/app/CommonApp.ts");\n/* harmony import */ var _CommonFloodgate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CommonFloodgate */ "./scripts/app/CommonFloodgate.ts");\n/* harmony import */ var _CommonUI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CommonUI */ "./scripts/app/CommonUI.ts");\n/* harmony import */ var _UI_UI__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./UI/UI */ "./scripts/app/UI/UI.ts");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Configuration/Configuration */ "./scripts/app/Configuration/Configuration.ts");\n/* harmony import */ var _Window_Window__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Window/Window */ "./scripts/app/Window/Window.ts");\n/* harmony import */ var _FloodgateCore_UISurvey_CustomUISurvey__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./FloodgateCore/UISurvey/CustomUISurvey */ "./scripts/app/FloodgateCore/UISurvey/CustomUISurvey.ts");\n/* harmony import */ var _FloodgateCore_UISurvey_DummyUISurvey__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./FloodgateCore/UISurvey/DummyUISurvey */ "./scripts/app/FloodgateCore/UISurvey/DummyUISurvey.ts");\n/* harmony import */ var _FloodgateCore_FloodgateTelemetryLogger__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./FloodgateCore/FloodgateTelemetryLogger */ "./scripts/app/FloodgateCore/FloodgateTelemetryLogger.ts");\n/* harmony import */ var _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore */ "../FloodgateCore/dist/index.js");\n/* harmony import */ var _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Api/Api */ "../FloodgateCore/dist/src/Api/Api.js");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Constants__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Constants */ "../FloodgateCore/dist/src/Constants.js");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Constants__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Constants__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "getEngineStartPromise", function() { return _CommonFloodgate__WEBPACK_IMPORTED_MODULE_1__["getEngineStartPromise"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "resetEngine", function() { return _CommonFloodgate__WEBPACK_IMPORTED_MODULE_1__["resetEngine"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "setEngineStartPromise", function() { return _CommonFloodgate__WEBPACK_IMPORTED_MODULE_1__["setEngineStartPromise"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "start", function() { return _CommonFloodgate__WEBPACK_IMPORTED_MODULE_1__["start"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "startInternal", function() { return _CommonFloodgate__WEBPACK_IMPORTED_MODULE_1__["startInternal"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "stop", function() { return _CommonFloodgate__WEBPACK_IMPORTED_MODULE_1__["stop"]; });\n\n/**\r\n * App_Floodgate.ts\r\n *\r\n * The entry point for floodgate.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Has the control been opened. Prevents more than one dialog being generated.\r\n */\r\nvar opened = false;\r\n/**\r\n * Initialize. Must be called before any other call to floodgate.\r\n * @returns A promise which will be rejected if the call fails.\r\n */\r\nfunction initialize() {\r\n    return new Promise(function (resolve, reject) {\r\n        var rejectAndLogError = function (errorMessage) {\r\n            var telemetryLogger = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_9__["FloodgateEngine"].getTelemetryLogger();\r\n            if (telemetryLogger) {\r\n                telemetryLogger.log_Event(_ms_ofb_officefloodgatecore_dist_src_Constants__WEBPACK_IMPORTED_MODULE_11__["TelemetryEvent"].Floodgate.Initialize.Failed, { ErrorMessage: errorMessage });\r\n            }\r\n            reject(errorMessage);\r\n        };\r\n        if (!_CommonFloodgate__WEBPACK_IMPORTED_MODULE_1__["getInitialized"]()) {\r\n            try {\r\n                _CommonApp__WEBPACK_IMPORTED_MODULE_0__["initialize"]();\r\n            }\r\n            catch (err) {\r\n                reject("CommonApp initialization failed: {" + err + "}");\r\n            }\r\n            _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_9__["FloodgateEngine"].setTelemetryLogger(new _FloodgateCore_FloodgateTelemetryLogger__WEBPACK_IMPORTED_MODULE_8__["default"]());\r\n            _CommonUI__WEBPACK_IMPORTED_MODULE_2__["initialize"]()\r\n                .then(function onInitializeFulfilled() {\r\n                try {\r\n                    _CommonFloodgate__WEBPACK_IMPORTED_MODULE_1__["initialize"]();\r\n                }\r\n                catch (err) {\r\n                    rejectAndLogError("CommonFloodgate initialization failed: {" + err + "}");\r\n                }\r\n                resolve();\r\n            })\r\n                .catch(function onInitializeRejected(err) {\r\n                rejectAndLogError("Initialization failed: {" + err + "}");\r\n            });\r\n        }\r\n        else {\r\n            resolve();\r\n        }\r\n    });\r\n}\r\n/**\r\n * Display the given Survey with it\'s prompt\r\n * @param survey the survey to show\r\n * @returns A promise which will be rejected if the call fails.\r\n */\r\nfunction showSurvey(survey) {\r\n    return new Promise(function (resolve, reject) {\r\n        if (opened) {\r\n            reject("Control already open");\r\n            return;\r\n        }\r\n        _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__["get"]().setFloodgateSurvey(survey ? survey : new _FloodgateCore_UISurvey_DummyUISurvey__WEBPACK_IMPORTED_MODULE_7__["default"]());\r\n        _UI_UI__WEBPACK_IMPORTED_MODULE_3__["createSurvey"](function () { opened = false; });\r\n        opened = true;\r\n        resolve();\r\n    });\r\n}\r\n/**\r\n * Method to allow users to launch a custom survey directly\r\n * @param survey the custom survey to show\r\n */\r\nfunction showCustomSurvey(survey) {\r\n    return showSurvey(new _FloodgateCore_UISurvey_CustomUISurvey__WEBPACK_IMPORTED_MODULE_6__["default"](survey));\r\n}\r\n/**\r\n * Reset the floodgate module. Used in unit tests.\r\n */\r\nfunction reset() {\r\n    _CommonApp__WEBPACK_IMPORTED_MODULE_0__["reset"]();\r\n    _CommonUI__WEBPACK_IMPORTED_MODULE_2__["reset"]();\r\n    _CommonFloodgate__WEBPACK_IMPORTED_MODULE_1__["reset"]();\r\n    opened = false;\r\n}\r\n/**\r\n * Get a list of setting names and ids\r\n * @returns the setting names and ids list\r\n */\r\nfunction getSettingIdMap() {\r\n    return _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_10__["IFloodgateSettingIdMap"].RoamingSettingIdMap;\r\n}\r\n_Window_Window__WEBPACK_IMPORTED_MODULE_5__["setFloodgateShowCustomSurvey"](showCustomSurvey);\r\n_Window_Window__WEBPACK_IMPORTED_MODULE_5__["setFloodgateShowSurvey"](showSurvey);\r\n_Window_Window__WEBPACK_IMPORTED_MODULE_5__["setFloodgateInitialize"](initialize);\r\n_Window_Window__WEBPACK_IMPORTED_MODULE_5__["getSettingIdMap"](getSettingIdMap);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9BcHBfRmxvb2RnYXRlLnRzPzEwNzAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRztBQUVzQztBQUNZO0FBQ2Q7QUFDVDtBQUNpQztBQUNyQjtBQUMyQjtBQUNGO0FBQ2E7QUFJbEI7QUFDd0I7QUFDTjtBQUd2RDtBQUV6Qjs7R0FFRztBQUNILElBQUksTUFBTSxHQUFZLEtBQUssQ0FBQztBQUU1Qjs7O0dBR0c7QUFDSSxTQUFTLFVBQVU7SUFDekIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNO1FBQ2xDLElBQU0saUJBQWlCLEdBQUcsVUFBQyxZQUFvQjtZQUM5QyxJQUFNLGVBQWUsR0FBRywyRUFBZSxDQUFDLGtCQUFrQixFQUFFLENBQUM7WUFDN0QsSUFBSSxlQUFlLEVBQUU7Z0JBQ3BCLGVBQWUsQ0FBQyxTQUFTLENBQUMsOEZBQWMsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxFQUFFLFlBQVksRUFBRSxZQUFZLEVBQUUsQ0FBQyxDQUFDO2FBQ3RHO1lBRUQsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ3RCLENBQUMsQ0FBQztRQUVGLElBQUksQ0FBQywrREFBOEIsRUFBRSxFQUFFO1lBQ3RDLElBQUk7Z0JBQ0gscURBQW9CLEVBQUUsQ0FBQzthQUN2QjtZQUFDLE9BQU8sR0FBRyxFQUFFO2dCQUNiLE1BQU0sQ0FBQyxvQ0FBb0MsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7YUFDekQ7WUFFRCwyRUFBZSxDQUFDLGtCQUFrQixDQUFDLElBQUksK0VBQXdCLEVBQUUsQ0FBQyxDQUFDO1lBRW5FLG9EQUFtQixFQUFFO2lCQUNwQixJQUFJLENBQ0osU0FBUyxxQkFBcUI7Z0JBQzdCLElBQUk7b0JBQ0gsMkRBQTBCLEVBQUUsQ0FBQztpQkFDN0I7Z0JBQUMsT0FBTyxHQUFHLEVBQUU7b0JBQ2IsaUJBQWlCLENBQUMsMENBQTBDLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO2lCQUMxRTtnQkFFRCxPQUFPLEVBQUUsQ0FBQztZQUNYLENBQUMsQ0FDRDtpQkFDQSxLQUFLLENBQ0wsU0FBUyxvQkFBb0IsQ0FBQyxHQUFHO2dCQUNoQyxpQkFBaUIsQ0FBQywwQkFBMEIsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7WUFDM0QsQ0FBQyxDQUNELENBQUM7U0FDRjthQUFNO1lBQ04sT0FBTyxFQUFFLENBQUM7U0FDVjtJQUNGLENBQUMsQ0FBQyxDQUFDO0FBQ0osQ0FBQztBQUVEOzs7O0dBSUc7QUFDSSxTQUFTLFVBQVUsQ0FBQyxNQUFpQjtJQUMzQyxPQUFPLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBTyxFQUFFLE1BQU07UUFDbEMsSUFBSSxNQUFNLEVBQUU7WUFDWCxNQUFNLENBQUMsc0JBQXNCLENBQUMsQ0FBQztZQUMvQixPQUFPO1NBQ1A7UUFFRCxnRUFBaUIsRUFBRSxDQUFDLGtCQUFrQixDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLDZFQUFhLEVBQUUsQ0FBQyxDQUFDO1FBQzlFLG1EQUFlLENBQUMsY0FBYyxNQUFNLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakQsTUFBTSxHQUFHLElBQUksQ0FBQztRQUNkLE9BQU8sRUFBRSxDQUFDO0lBQ1gsQ0FBQyxDQUFDLENBQUM7QUFDSixDQUFDO0FBRUQ7OztHQUdHO0FBQ0ksU0FBUyxnQkFBZ0IsQ0FBQyxNQUFxQjtJQUNyRCxPQUFPLFVBQVUsQ0FBQyxJQUFJLDhFQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztBQUMvQyxDQUFDO0FBRUQ7O0dBRUc7QUFDSSxTQUFTLEtBQUs7SUFDcEIsZ0RBQWUsRUFBRSxDQUFDO0lBQ2xCLCtDQUFjLEVBQUUsQ0FBQztJQUNqQixzREFBcUIsRUFBRSxDQUFDO0lBQ3hCLE1BQU0sR0FBRyxLQUFLLENBQUM7QUFDaEIsQ0FBQztBQUVEOzs7R0FHRztBQUNJLFNBQVMsZUFBZTtJQUM5QixPQUFPLG9HQUFzQixDQUFDLG1CQUFtQixDQUFDO0FBQ25ELENBQUM7QUFFRCwyRUFBbUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0FBQ3RELHFFQUE2QixDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQzFDLHFFQUE2QixDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQzFDLDhEQUFzQixDQUFDLGVBQWUsQ0FBQyxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvQXBwX0Zsb29kZ2F0ZS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBBcHBfRmxvb2RnYXRlLnRzXHJcbiAqXHJcbiAqIFRoZSBlbnRyeSBwb2ludCBmb3IgZmxvb2RnYXRlLlxyXG4gKi9cclxuXHJcbmltcG9ydCAqIGFzIENvbW1vbkFwcCBmcm9tIFwiLi9Db21tb25BcHBcIjtcclxuaW1wb3J0ICogYXMgQ29tbW9uRmxvb2RnYXRlIGZyb20gXCIuL0NvbW1vbkZsb29kZ2F0ZVwiO1xyXG5pbXBvcnQgKiBhcyBDb21tb25VSSBmcm9tIFwiLi9Db21tb25VSVwiO1xyXG5pbXBvcnQgKiBhcyBVSSBmcm9tIFwiLi9VSS9VSVwiO1xyXG5pbXBvcnQgKiBhcyBDb25maWd1cmF0aW9uIGZyb20gXCIuL0NvbmZpZ3VyYXRpb24vQ29uZmlndXJhdGlvblwiO1xyXG5pbXBvcnQgKiBhcyBXaW5kb3cgZnJvbSBcIi4vV2luZG93L1dpbmRvd1wiO1xyXG5pbXBvcnQgQ3VzdG9tVUlTdXJ2ZXkgZnJvbSBcIi4vRmxvb2RnYXRlQ29yZS9VSVN1cnZleS9DdXN0b21VSVN1cnZleVwiO1xyXG5pbXBvcnQgRHVtbXlVSVN1cnZleSBmcm9tIFwiLi9GbG9vZGdhdGVDb3JlL1VJU3VydmV5L0R1bW15VUlTdXJ2ZXlcIjtcclxuaW1wb3J0IEZsb29kZ2F0ZVRlbGVtZXRyeUxvZ2dlciBmcm9tIFwiLi9GbG9vZGdhdGVDb3JlL0Zsb29kZ2F0ZVRlbGVtZXRyeUxvZ2dlclwiO1xyXG5pbXBvcnQgSUN1c3RvbVN1cnZleSBmcm9tIFwiLi9GbG9vZGdhdGVDb3JlL0lDdXN0b21TdXJ2ZXlcIjtcclxuaW1wb3J0IElVSVN1cnZleSBmcm9tIFwiLi9GbG9vZGdhdGVDb3JlL1VJU3VydmV5L0lVSVN1cnZleVwiO1xyXG5cclxuaW1wb3J0IHsgRmxvb2RnYXRlRW5naW5lIH0gZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZVwiO1xyXG5pbXBvcnQgeyBJRmxvb2RnYXRlU2V0dGluZ0lkTWFwIH0gZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9BcGkvQXBpXCI7XHJcbmltcG9ydCB7IFRlbGVtZXRyeUV2ZW50IH0gZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9Db25zdGFudHNcIjtcclxuXHJcbmV4cG9ydCB7IGdldEVuZ2luZVN0YXJ0UHJvbWlzZSwgcmVzZXRFbmdpbmUsIHNldEVuZ2luZVN0YXJ0UHJvbWlzZSwgc3RhcnQsIHN0YXJ0SW50ZXJuYWwsIHN0b3AgfVxyXG5cdGZyb20gXCIuL0NvbW1vbkZsb29kZ2F0ZVwiXHJcblxyXG4vKipcclxuICogSGFzIHRoZSBjb250cm9sIGJlZW4gb3BlbmVkLiBQcmV2ZW50cyBtb3JlIHRoYW4gb25lIGRpYWxvZyBiZWluZyBnZW5lcmF0ZWQuXHJcbiAqL1xyXG5sZXQgb3BlbmVkOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4vKipcclxuICogSW5pdGlhbGl6ZS4gTXVzdCBiZSBjYWxsZWQgYmVmb3JlIGFueSBvdGhlciBjYWxsIHRvIGZsb29kZ2F0ZS5cclxuICogQHJldHVybnMgQSBwcm9taXNlIHdoaWNoIHdpbGwgYmUgcmVqZWN0ZWQgaWYgdGhlIGNhbGwgZmFpbHMuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpOiBQcm9taXNlPGFueT4ge1xyXG5cdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRjb25zdCByZWplY3RBbmRMb2dFcnJvciA9IChlcnJvck1lc3NhZ2U6IHN0cmluZykgPT4ge1xyXG5cdFx0XHRjb25zdCB0ZWxlbWV0cnlMb2dnZXIgPSBGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCk7XHJcblx0XHRcdGlmICh0ZWxlbWV0cnlMb2dnZXIpIHtcclxuXHRcdFx0XHR0ZWxlbWV0cnlMb2dnZXIubG9nX0V2ZW50KFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZS5Jbml0aWFsaXplLkZhaWxlZCwgeyBFcnJvck1lc3NhZ2U6IGVycm9yTWVzc2FnZSB9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmVqZWN0KGVycm9yTWVzc2FnZSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdGlmICghQ29tbW9uRmxvb2RnYXRlLmdldEluaXRpYWxpemVkKCkpIHtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRDb21tb25BcHAuaW5pdGlhbGl6ZSgpO1xyXG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcclxuXHRcdFx0XHRyZWplY3QoXCJDb21tb25BcHAgaW5pdGlhbGl6YXRpb24gZmFpbGVkOiB7XCIgKyBlcnIgKyBcIn1cIik7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdEZsb29kZ2F0ZUVuZ2luZS5zZXRUZWxlbWV0cnlMb2dnZXIobmV3IEZsb29kZ2F0ZVRlbGVtZXRyeUxvZ2dlcigpKTtcclxuXHJcblx0XHRcdENvbW1vblVJLmluaXRpYWxpemUoKVxyXG5cdFx0XHQudGhlbihcclxuXHRcdFx0XHRmdW5jdGlvbiBvbkluaXRpYWxpemVGdWxmaWxsZWQoKSB7XHJcblx0XHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0XHRDb21tb25GbG9vZGdhdGUuaW5pdGlhbGl6ZSgpO1xyXG5cdFx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XHJcblx0XHRcdFx0XHRcdHJlamVjdEFuZExvZ0Vycm9yKFwiQ29tbW9uRmxvb2RnYXRlIGluaXRpYWxpemF0aW9uIGZhaWxlZDoge1wiICsgZXJyICsgXCJ9XCIpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdClcclxuXHRcdFx0LmNhdGNoKFxyXG5cdFx0XHRcdGZ1bmN0aW9uIG9uSW5pdGlhbGl6ZVJlamVjdGVkKGVycikge1xyXG5cdFx0XHRcdFx0cmVqZWN0QW5kTG9nRXJyb3IoXCJJbml0aWFsaXphdGlvbiBmYWlsZWQ6IHtcIiArIGVyciArIFwifVwiKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXNvbHZlKCk7XHJcblx0XHR9XHJcblx0fSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEaXNwbGF5IHRoZSBnaXZlbiBTdXJ2ZXkgd2l0aCBpdCdzIHByb21wdFxyXG4gKiBAcGFyYW0gc3VydmV5IHRoZSBzdXJ2ZXkgdG8gc2hvd1xyXG4gKiBAcmV0dXJucyBBIHByb21pc2Ugd2hpY2ggd2lsbCBiZSByZWplY3RlZCBpZiB0aGUgY2FsbCBmYWlscy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzaG93U3VydmV5KHN1cnZleTogSVVJU3VydmV5KTogUHJvbWlzZTxhbnk+IHtcclxuXHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0aWYgKG9wZW5lZCkge1xyXG5cdFx0XHRyZWplY3QoXCJDb250cm9sIGFscmVhZHkgb3BlblwiKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdENvbmZpZ3VyYXRpb24uZ2V0KCkuc2V0Rmxvb2RnYXRlU3VydmV5KHN1cnZleSA/IHN1cnZleSA6IG5ldyBEdW1teVVJU3VydmV5KCkpO1xyXG5cdFx0VUkuY3JlYXRlU3VydmV5KGZ1bmN0aW9uICgpIHsgb3BlbmVkID0gZmFsc2U7IH0pO1xyXG5cdFx0b3BlbmVkID0gdHJ1ZTtcclxuXHRcdHJlc29sdmUoKTtcclxuXHR9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIE1ldGhvZCB0byBhbGxvdyB1c2VycyB0byBsYXVuY2ggYSBjdXN0b20gc3VydmV5IGRpcmVjdGx5XHJcbiAqIEBwYXJhbSBzdXJ2ZXkgdGhlIGN1c3RvbSBzdXJ2ZXkgdG8gc2hvd1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNob3dDdXN0b21TdXJ2ZXkoc3VydmV5OiBJQ3VzdG9tU3VydmV5KTogUHJvbWlzZTxhbnk+IHtcclxuXHRyZXR1cm4gc2hvd1N1cnZleShuZXcgQ3VzdG9tVUlTdXJ2ZXkoc3VydmV5KSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXNldCB0aGUgZmxvb2RnYXRlIG1vZHVsZS4gVXNlZCBpbiB1bml0IHRlc3RzLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0KCkge1xyXG5cdENvbW1vbkFwcC5yZXNldCgpO1xyXG5cdENvbW1vblVJLnJlc2V0KCk7XHJcblx0Q29tbW9uRmxvb2RnYXRlLnJlc2V0KCk7XHJcblx0b3BlbmVkID0gZmFsc2U7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgYSBsaXN0IG9mIHNldHRpbmcgbmFtZXMgYW5kIGlkc1xyXG4gKiBAcmV0dXJucyB0aGUgc2V0dGluZyBuYW1lcyBhbmQgaWRzIGxpc3RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXR0aW5nSWRNYXAoKTogSUZsb29kZ2F0ZVNldHRpbmdJZE1hcCB7XHJcblx0cmV0dXJuIElGbG9vZGdhdGVTZXR0aW5nSWRNYXAuUm9hbWluZ1NldHRpbmdJZE1hcDtcclxufVxyXG5cclxuV2luZG93LnNldEZsb29kZ2F0ZVNob3dDdXN0b21TdXJ2ZXkoc2hvd0N1c3RvbVN1cnZleSk7XHJcbldpbmRvdy5zZXRGbG9vZGdhdGVTaG93U3VydmV5KHNob3dTdXJ2ZXkpO1xyXG5XaW5kb3cuc2V0Rmxvb2RnYXRlSW5pdGlhbGl6ZShpbml0aWFsaXplKTtcclxuV2luZG93LmdldFNldHRpbmdJZE1hcChnZXRTZXR0aW5nSWRNYXApO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/App_Floodgate.ts\n')},"./scripts/app/App_InAppFeedback.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initialize", function() { return initialize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "multiFeedback", function() { return multiFeedback; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "singleFeedback", function() { return singleFeedback; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reset", function() { return reset; });\n/* harmony import */ var _CommonApp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CommonApp */ "./scripts/app/CommonApp.ts");\n/* harmony import */ var _CommonUI__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CommonUI */ "./scripts/app/CommonUI.ts");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Configuration/Configuration */ "./scripts/app/Configuration/Configuration.ts");\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Logging/Logging */ "./scripts/app/Logging/Logging.ts");\n/* harmony import */ var _UI_BellyBand_BellyBand__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./UI/BellyBand/BellyBand */ "./scripts/app/UI/BellyBand/BellyBand.ts");\n/* harmony import */ var _Window_Window__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Window/Window */ "./scripts/app/Window/Window.ts");\n/**\r\n * App_inAppFeedback.ts\r\n *\r\n * The entry point for inAppFeedback.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Has inAppFeedback been initialized\r\n */\r\nvar initialized = false;\r\n/**\r\n * Initialize\r\n * @returns A promise which will be rejected if the call fails.\r\n */\r\nfunction initialize() {\r\n    return new Promise(function (resolve, reject) {\r\n        if (!initialized) {\r\n            try {\r\n                _CommonApp__WEBPACK_IMPORTED_MODULE_0__["initialize"]();\r\n            }\r\n            catch (err) {\r\n                reject("CommonApp initialization failed: {" + err + "}");\r\n            }\r\n            _CommonUI__WEBPACK_IMPORTED_MODULE_1__["initialize"]()\r\n                .then(function onInitializeFulfilled() {\r\n                _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__["get"]().setInAppFeedbackInitOptions(_Window_Window__WEBPACK_IMPORTED_MODULE_5__["get"]().OfficeBrowserFeedback.initOptions);\r\n                initialized = true;\r\n                resolve();\r\n            })\r\n                .catch(function onInitializeRejected(err) { reject("Initialization failed: {" + err + "}"); });\r\n        }\r\n        else {\r\n            resolve();\r\n        }\r\n    });\r\n}\r\n/**\r\n * Has the control been opened. Prevents more than one dialog being generated.\r\n */\r\nvar opened = false;\r\n/**\r\n * Handler to launch the multi feedback dialog\r\n * @param launchOptions optional feedback properties\r\n * @returns A promise which will be rejected if the call fails.\r\n */\r\nfunction multiFeedback(launchOptions) {\r\n    return new Promise(function (resolve, reject) {\r\n        if (opened) {\r\n            reject("Control already open");\r\n            return;\r\n        }\r\n        initialize()\r\n            .then(function onInitializeFulfilled() {\r\n            _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__["get"]().setInAppFeedbackLaunchOptions(launchOptions);\r\n            _UI_BellyBand_BellyBand__WEBPACK_IMPORTED_MODULE_4__["createMulti"](function () { opened = false; });\r\n            _Logging_Logging__WEBPACK_IMPORTED_MODULE_3__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_3__["EventIds"].InApp.UI.Picker.Shown.VALUE, 1 /* Critical */, {\r\n                IsBugEnabled: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__["get"]().getInAppFeedbackInitOptions().bugForm,\r\n                IsIdeaEnabled: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__["get"]().getInAppFeedbackInitOptions().userVoice !== undefined,\r\n            });\r\n            opened = true;\r\n            resolve();\r\n        })\r\n            .catch(function onInitializeRejected(err) { reject("Initialization failed: {" + err + "}"); });\r\n    });\r\n}\r\n/**\r\n * Handler to launch the single feedback dialog\r\n * @param feedbackType the feedback type\r\n * @param launchOptions optional feedback properties\r\n * @returns A promise which will be rejected if the call fails.\r\n */\r\nfunction singleFeedback(feedbackType, launchOptions) {\r\n    return new Promise(function (resolve, reject) {\r\n        if (opened) {\r\n            reject("Control already open");\r\n            return;\r\n        }\r\n        var feedbackTypeEnum = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__["validateFeedbackType"](feedbackType);\r\n        initialize()\r\n            .then(function onInitializeFulfilled() {\r\n            _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__["get"]().setInAppFeedbackLaunchOptions(launchOptions);\r\n            _UI_BellyBand_BellyBand__WEBPACK_IMPORTED_MODULE_4__["createSingle"](function () { opened = false; }, feedbackTypeEnum);\r\n            _Logging_Logging__WEBPACK_IMPORTED_MODULE_3__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_3__["EventIds"].InApp.UI.Form.Shown.VALUE, 1 /* Critical */, {\r\n                FeedbackType: feedbackTypeEnum,\r\n            });\r\n            opened = true;\r\n            resolve();\r\n        })\r\n            .catch(function onInitializeRejected(err) { reject("Initialization failed: {" + err + "}"); });\r\n    });\r\n}\r\n/**\r\n * Reset the inappfeedback module. Used in unit tests.\r\n */\r\nfunction reset() {\r\n    _CommonApp__WEBPACK_IMPORTED_MODULE_0__["reset"]();\r\n    _CommonUI__WEBPACK_IMPORTED_MODULE_1__["reset"]();\r\n    initialized = false;\r\n    opened = false;\r\n}\r\n/* Make the FeedbackDialog methods available globally */\r\n_Window_Window__WEBPACK_IMPORTED_MODULE_5__["setMultiFeedback"](multiFeedback);\r\n_Window_Window__WEBPACK_IMPORTED_MODULE_5__["setSingleFeedback"](singleFeedback);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9BcHBfSW5BcHBGZWVkYmFjay50cz8zOTRlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztHQUlHO0FBRXNDO0FBQ0Y7QUFDd0I7QUFDbEI7QUFDRTtBQUNMO0FBRzFDOztHQUVHO0FBQ0gsSUFBSSxXQUFXLEdBQVksS0FBSyxDQUFDO0FBRWpDOzs7R0FHRztBQUNJLFNBQVMsVUFBVTtJQUN6QixPQUFPLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBTyxFQUFFLE1BQU07UUFDbEMsSUFBSSxDQUFDLFdBQVcsRUFBRTtZQUNqQixJQUFJO2dCQUNILHFEQUFvQixFQUFFLENBQUM7YUFDdkI7WUFBQyxPQUFPLEdBQUcsRUFBRTtnQkFDYixNQUFNLENBQUMsb0NBQW9DLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDO2FBQ3pEO1lBRUQsb0RBQW1CLEVBQUU7aUJBQ3BCLElBQUksQ0FDSixTQUFTLHFCQUFxQjtnQkFDN0IsZ0VBQWlCLEVBQUUsQ0FBQywyQkFBMkIsQ0FBQyxrREFBVSxFQUFFLENBQUMscUJBQXFCLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQ2hHLFdBQVcsR0FBRyxJQUFJLENBQUM7Z0JBQ25CLE9BQU8sRUFBRSxDQUFDO1lBQ1gsQ0FBQyxDQUNEO2lCQUNBLEtBQUssQ0FDTCxTQUFTLG9CQUFvQixDQUFDLEdBQUcsSUFBSSxNQUFNLENBQUMsMEJBQTBCLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUN0RixDQUFDO1NBQ0Y7YUFBTTtZQUNOLE9BQU8sRUFBRSxDQUFDO1NBQ1Y7SUFDRixDQUFDLENBQUMsQ0FBQztBQUNKLENBQUM7QUFFRDs7R0FFRztBQUNILElBQUksTUFBTSxHQUFZLEtBQUssQ0FBQztBQUU1Qjs7OztHQUlHO0FBQ0ksU0FBUyxhQUFhLENBQUMsYUFBMkM7SUFDeEUsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNO1FBQ2xDLElBQUksTUFBTSxFQUFFO1lBQ1gsTUFBTSxDQUFDLHNCQUFzQixDQUFDLENBQUM7WUFDL0IsT0FBTztTQUNQO1FBRUQsVUFBVSxFQUFFO2FBQ1gsSUFBSSxDQUNKLFNBQVMscUJBQXFCO1lBQzdCLGdFQUFpQixFQUFFLENBQUMsNkJBQTZCLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDakUsbUVBQWMsQ0FBQyxjQUFjLE1BQU0sR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNoRCwwREFBaUIsRUFBRSxDQUFDLFFBQVEsQ0FBQyx5REFBZ0IsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSyxvQkFFeEU7Z0JBQ0MsWUFBWSxFQUFFLGdFQUFpQixFQUFFLENBQUMsMkJBQTJCLEVBQUUsQ0FBQyxPQUFPO2dCQUN2RSxhQUFhLEVBQUUsZ0VBQWlCLEVBQUUsQ0FBQywyQkFBMkIsRUFBRSxDQUFDLFNBQVMsS0FBSyxTQUFTO2FBQ3hGLENBQUMsQ0FBQztZQUNKLE1BQU0sR0FBRyxJQUFJLENBQUM7WUFDZCxPQUFPLEVBQUUsQ0FBQztRQUNYLENBQUMsQ0FDRDthQUNBLEtBQUssQ0FDTCxTQUFTLG9CQUFvQixDQUFDLEdBQUcsSUFBSSxNQUFNLENBQUMsMEJBQTBCLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUN0RixDQUFDO0lBQ0gsQ0FBQyxDQUFDLENBQUM7QUFDSixDQUFDO0FBRUQ7Ozs7O0dBS0c7QUFDSSxTQUFTLGNBQWMsQ0FBQyxZQUFvQixFQUFFLGFBQTJDO0lBQy9GLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBQyxPQUFPLEVBQUUsTUFBTTtRQUNsQyxJQUFJLE1BQU0sRUFBRTtZQUNYLE1BQU0sQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO1lBQy9CLE9BQU87U0FDUDtRQUVELElBQUksZ0JBQWdCLEdBQUcsaUZBQWtDLENBQUMsWUFBWSxDQUFDLENBQUM7UUFFeEUsVUFBVSxFQUFFO2FBQ1gsSUFBSSxDQUNKLFNBQVMscUJBQXFCO1lBQzdCLGdFQUFpQixFQUFFLENBQUMsNkJBQTZCLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDakUsb0VBQWUsQ0FBQyxjQUFjLE1BQU0sR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztZQUNuRSwwREFBaUIsRUFBRSxDQUFDLFFBQVEsQ0FBQyx5REFBZ0IsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxvQkFFdEU7Z0JBQ0MsWUFBWSxFQUFFLGdCQUFnQjthQUM5QixDQUFDLENBQUM7WUFDSixNQUFNLEdBQUcsSUFBSSxDQUFDO1lBQ2QsT0FBTyxFQUFFLENBQUM7UUFDWCxDQUFDLENBQ0Q7YUFDQSxLQUFLLENBQ0wsU0FBUyxvQkFBb0IsQ0FBQyxHQUFHLElBQUksTUFBTSxDQUFDLDBCQUEwQixHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FDdEYsQ0FBQztJQUNILENBQUMsQ0FBQyxDQUFDO0FBQ0osQ0FBQztBQUVEOztHQUVHO0FBQ0ksU0FBUyxLQUFLO0lBQ3BCLGdEQUFlLEVBQUUsQ0FBQztJQUNsQiwrQ0FBYyxFQUFFLENBQUM7SUFDakIsV0FBVyxHQUFHLEtBQUssQ0FBQztJQUNwQixNQUFNLEdBQUcsS0FBSyxDQUFDO0FBQ2hCLENBQUM7QUFFRCx3REFBd0Q7QUFDeEQsK0RBQXVCLENBQUMsYUFBYSxDQUFDLENBQUM7QUFDdkMsZ0VBQXdCLENBQUMsY0FBYyxDQUFDLENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9BcHBfSW5BcHBGZWVkYmFjay50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBBcHBfaW5BcHBGZWVkYmFjay50c1xyXG4gKlxyXG4gKiBUaGUgZW50cnkgcG9pbnQgZm9yIGluQXBwRmVlZGJhY2suXHJcbiAqL1xyXG5cclxuaW1wb3J0ICogYXMgQ29tbW9uQXBwIGZyb20gXCIuL0NvbW1vbkFwcFwiO1xyXG5pbXBvcnQgKiBhcyBDb21tb25VSSBmcm9tIFwiLi9Db21tb25VSVwiO1xyXG5pbXBvcnQgKiBhcyBDb25maWd1cmF0aW9uIGZyb20gXCIuL0NvbmZpZ3VyYXRpb24vQ29uZmlndXJhdGlvblwiO1xyXG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuL0xvZ2dpbmcvTG9nZ2luZ1wiO1xyXG5pbXBvcnQgKiBhcyBVSSBmcm9tIFwiLi9VSS9CZWxseUJhbmQvQmVsbHlCYW5kXCI7XHJcbmltcG9ydCAqIGFzIFdpbmRvdyBmcm9tIFwiLi9XaW5kb3cvV2luZG93XCI7XHJcbmltcG9ydCB7IElMYXVuY2hPcHRpb25zSW5BcHBGZWVkYmFjayB9IGZyb20gXCIuL0NvbmZpZ3VyYXRpb24vSUxhdW5jaE9wdGlvbnNcIjtcclxuXHJcbi8qKlxyXG4gKiBIYXMgaW5BcHBGZWVkYmFjayBiZWVuIGluaXRpYWxpemVkXHJcbiAqL1xyXG5sZXQgaW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbi8qKlxyXG4gKiBJbml0aWFsaXplXHJcbiAqIEByZXR1cm5zIEEgcHJvbWlzZSB3aGljaCB3aWxsIGJlIHJlamVjdGVkIGlmIHRoZSBjYWxsIGZhaWxzLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemUoKTogUHJvbWlzZTxhbnk+IHtcclxuXHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0aWYgKCFpbml0aWFsaXplZCkge1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdENvbW1vbkFwcC5pbml0aWFsaXplKCk7XHJcblx0XHRcdH0gY2F0Y2ggKGVycikge1xyXG5cdFx0XHRcdHJlamVjdChcIkNvbW1vbkFwcCBpbml0aWFsaXphdGlvbiBmYWlsZWQ6IHtcIiArIGVyciArIFwifVwiKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Q29tbW9uVUkuaW5pdGlhbGl6ZSgpXHJcblx0XHRcdC50aGVuKFxyXG5cdFx0XHRcdGZ1bmN0aW9uIG9uSW5pdGlhbGl6ZUZ1bGZpbGxlZCgpIHtcclxuXHRcdFx0XHRcdENvbmZpZ3VyYXRpb24uZ2V0KCkuc2V0SW5BcHBGZWVkYmFja0luaXRPcHRpb25zKFdpbmRvdy5nZXQoKS5PZmZpY2VCcm93c2VyRmVlZGJhY2suaW5pdE9wdGlvbnMpO1xyXG5cdFx0XHRcdFx0aW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0KVxyXG5cdFx0XHQuY2F0Y2goXHJcblx0XHRcdFx0ZnVuY3Rpb24gb25Jbml0aWFsaXplUmVqZWN0ZWQoZXJyKSB7IHJlamVjdChcIkluaXRpYWxpemF0aW9uIGZhaWxlZDoge1wiICsgZXJyICsgXCJ9XCIpOyB9XHJcblx0XHRcdCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXNvbHZlKCk7XHJcblx0XHR9XHJcblx0fSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBIYXMgdGhlIGNvbnRyb2wgYmVlbiBvcGVuZWQuIFByZXZlbnRzIG1vcmUgdGhhbiBvbmUgZGlhbG9nIGJlaW5nIGdlbmVyYXRlZC5cclxuICovXHJcbmxldCBvcGVuZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbi8qKlxyXG4gKiBIYW5kbGVyIHRvIGxhdW5jaCB0aGUgbXVsdGkgZmVlZGJhY2sgZGlhbG9nXHJcbiAqIEBwYXJhbSBsYXVuY2hPcHRpb25zIG9wdGlvbmFsIGZlZWRiYWNrIHByb3BlcnRpZXNcclxuICogQHJldHVybnMgQSBwcm9taXNlIHdoaWNoIHdpbGwgYmUgcmVqZWN0ZWQgaWYgdGhlIGNhbGwgZmFpbHMuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbXVsdGlGZWVkYmFjayhsYXVuY2hPcHRpb25zPzogSUxhdW5jaE9wdGlvbnNJbkFwcEZlZWRiYWNrKTogUHJvbWlzZTxhbnk+IHtcclxuXHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0aWYgKG9wZW5lZCkge1xyXG5cdFx0XHRyZWplY3QoXCJDb250cm9sIGFscmVhZHkgb3BlblwiKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGluaXRpYWxpemUoKVxyXG5cdFx0LnRoZW4oXHJcblx0XHRcdGZ1bmN0aW9uIG9uSW5pdGlhbGl6ZUZ1bGZpbGxlZCgpIHtcclxuXHRcdFx0XHRDb25maWd1cmF0aW9uLmdldCgpLnNldEluQXBwRmVlZGJhY2tMYXVuY2hPcHRpb25zKGxhdW5jaE9wdGlvbnMpO1xyXG5cdFx0XHRcdFVJLmNyZWF0ZU11bHRpKGZ1bmN0aW9uICgpIHsgb3BlbmVkID0gZmFsc2U7IH0pO1xyXG5cdFx0XHRcdExvZ2dpbmcuZ2V0TG9nZ2VyKCkubG9nRXZlbnQoTG9nZ2luZy5FdmVudElkcy5JbkFwcC5VSS5QaWNrZXIuU2hvd24uVkFMVUUsXHJcblx0XHRcdFx0XHRMb2dnaW5nLkxvZ0xldmVsLkNyaXRpY2FsLFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRJc0J1Z0VuYWJsZWQ6IENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0SW5BcHBGZWVkYmFja0luaXRPcHRpb25zKCkuYnVnRm9ybSxcclxuXHRcdFx0XHRcdFx0SXNJZGVhRW5hYmxlZDogQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRJbkFwcEZlZWRiYWNrSW5pdE9wdGlvbnMoKS51c2VyVm9pY2UgIT09IHVuZGVmaW5lZCxcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdG9wZW5lZCA9IHRydWU7XHJcblx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHR9XHJcblx0XHQpXHJcblx0XHQuY2F0Y2goXHJcblx0XHRcdGZ1bmN0aW9uIG9uSW5pdGlhbGl6ZVJlamVjdGVkKGVycikgeyByZWplY3QoXCJJbml0aWFsaXphdGlvbiBmYWlsZWQ6IHtcIiArIGVyciArIFwifVwiKTsgfVxyXG5cdFx0KTtcclxuXHR9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEhhbmRsZXIgdG8gbGF1bmNoIHRoZSBzaW5nbGUgZmVlZGJhY2sgZGlhbG9nXHJcbiAqIEBwYXJhbSBmZWVkYmFja1R5cGUgdGhlIGZlZWRiYWNrIHR5cGVcclxuICogQHBhcmFtIGxhdW5jaE9wdGlvbnMgb3B0aW9uYWwgZmVlZGJhY2sgcHJvcGVydGllc1xyXG4gKiBAcmV0dXJucyBBIHByb21pc2Ugd2hpY2ggd2lsbCBiZSByZWplY3RlZCBpZiB0aGUgY2FsbCBmYWlscy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzaW5nbGVGZWVkYmFjayhmZWVkYmFja1R5cGU6IHN0cmluZywgbGF1bmNoT3B0aW9ucz86IElMYXVuY2hPcHRpb25zSW5BcHBGZWVkYmFjayk6IFByb21pc2U8YW55PiB7XHJcblx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdGlmIChvcGVuZWQpIHtcclxuXHRcdFx0cmVqZWN0KFwiQ29udHJvbCBhbHJlYWR5IG9wZW5cIik7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgZmVlZGJhY2tUeXBlRW51bSA9IENvbmZpZ3VyYXRpb24udmFsaWRhdGVGZWVkYmFja1R5cGUoZmVlZGJhY2tUeXBlKTtcclxuXHJcblx0XHRpbml0aWFsaXplKClcclxuXHRcdC50aGVuKFxyXG5cdFx0XHRmdW5jdGlvbiBvbkluaXRpYWxpemVGdWxmaWxsZWQoKSB7XHJcblx0XHRcdFx0Q29uZmlndXJhdGlvbi5nZXQoKS5zZXRJbkFwcEZlZWRiYWNrTGF1bmNoT3B0aW9ucyhsYXVuY2hPcHRpb25zKTtcclxuXHRcdFx0XHRVSS5jcmVhdGVTaW5nbGUoZnVuY3Rpb24gKCkgeyBvcGVuZWQgPSBmYWxzZTsgfSwgZmVlZGJhY2tUeXBlRW51bSk7XHJcblx0XHRcdFx0TG9nZ2luZy5nZXRMb2dnZXIoKS5sb2dFdmVudChMb2dnaW5nLkV2ZW50SWRzLkluQXBwLlVJLkZvcm0uU2hvd24uVkFMVUUsXHJcblx0XHRcdFx0XHRMb2dnaW5nLkxvZ0xldmVsLkNyaXRpY2FsLFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRGZWVkYmFja1R5cGU6IGZlZWRiYWNrVHlwZUVudW0sXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRvcGVuZWQgPSB0cnVlO1xyXG5cdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0fVxyXG5cdFx0KVxyXG5cdFx0LmNhdGNoKFxyXG5cdFx0XHRmdW5jdGlvbiBvbkluaXRpYWxpemVSZWplY3RlZChlcnIpIHsgcmVqZWN0KFwiSW5pdGlhbGl6YXRpb24gZmFpbGVkOiB7XCIgKyBlcnIgKyBcIn1cIik7IH1cclxuXHRcdCk7XHJcblx0fSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXNldCB0aGUgaW5hcHBmZWVkYmFjayBtb2R1bGUuIFVzZWQgaW4gdW5pdCB0ZXN0cy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByZXNldCgpIHtcclxuXHRDb21tb25BcHAucmVzZXQoKTtcclxuXHRDb21tb25VSS5yZXNldCgpO1xyXG5cdGluaXRpYWxpemVkID0gZmFsc2U7XHJcblx0b3BlbmVkID0gZmFsc2U7XHJcbn1cclxuXHJcbi8qIE1ha2UgdGhlIEZlZWRiYWNrRGlhbG9nIG1ldGhvZHMgYXZhaWxhYmxlIGdsb2JhbGx5ICovXHJcbldpbmRvdy5zZXRNdWx0aUZlZWRiYWNrKG11bHRpRmVlZGJhY2spO1xyXG5XaW5kb3cuc2V0U2luZ2xlRmVlZGJhY2soc2luZ2xlRmVlZGJhY2spO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/App_InAppFeedback.ts\n')},"./scripts/app/Common/UrlUtils.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "buildQueryParameters", function() { return buildQueryParameters; });\n/*\r\n * UrlUtils.ts\r\n */\r\nfunction buildQueryParameters(keyAndValues, encodeValueAsURI) {\r\n    if (encodeValueAsURI === void 0) { encodeValueAsURI = true; }\r\n    var queryParamsString = "";\r\n    for (var key in keyAndValues || []) {\r\n        if (keyAndValues.hasOwnProperty(key)) {\r\n            var value = keyAndValues[key];\r\n            if (value !== null && value !== undefined && typeof value !== "object") {\r\n                var prefix = !queryParamsString ? "" : "&";\r\n                var encodedValue = encodeValueAsURI ? encodeURIComponent(value) : value;\r\n                var queryParamItem = key + "=" + encodedValue;\r\n                queryParamsString += prefix + queryParamItem;\r\n            }\r\n        }\r\n    }\r\n    return queryParamsString;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Db21tb24vVXJsVXRpbHMudHM/MmQ5OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7O0dBRUc7QUFNSSxTQUFTLG9CQUFvQixDQUFDLFlBQTBCLEVBQUUsZ0JBQWdDO0lBQWhDLDBEQUFnQztJQUNoRyxJQUFJLGlCQUFpQixHQUFHLEVBQUUsQ0FBQztJQUMzQixLQUFLLElBQU0sR0FBRyxJQUFJLFlBQVksSUFBSSxFQUFFLEVBQUU7UUFDckMsSUFBSSxZQUFZLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQ3JDLElBQU0sS0FBSyxHQUFHLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNoQyxJQUFJLEtBQUssS0FBSyxJQUFJLElBQUksS0FBSyxLQUFLLFNBQVMsSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLEVBQUU7Z0JBQ3ZFLElBQU0sTUFBTSxHQUFHLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO2dCQUM3QyxJQUFNLFlBQVksR0FBRyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsa0JBQWtCLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztnQkFDMUUsSUFBTSxjQUFjLEdBQU0sR0FBRyxTQUFJLFlBQWMsQ0FBQztnQkFDaEQsaUJBQWlCLElBQUksTUFBTSxHQUFHLGNBQWMsQ0FBQzthQUM3QztTQUNEO0tBQ0Q7SUFFRCxPQUFPLGlCQUFpQixDQUFDO0FBQzFCLENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9Db21tb24vVXJsVXRpbHMudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiBVcmxVdGlscy50c1xyXG4gKi9cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVF1ZXJ5UGFyYW1zIHtcclxuXHRba2V5OiBzdHJpbmddOiBhbnk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBidWlsZFF1ZXJ5UGFyYW1ldGVycyhrZXlBbmRWYWx1ZXM6IElRdWVyeVBhcmFtcywgZW5jb2RlVmFsdWVBc1VSSTogYm9vbGVhbiA9IHRydWUpOiBzdHJpbmcge1xyXG5cdGxldCBxdWVyeVBhcmFtc1N0cmluZyA9IFwiXCI7XHJcblx0Zm9yIChjb25zdCBrZXkgaW4ga2V5QW5kVmFsdWVzIHx8IFtdKSB7XHJcblx0XHRpZiAoa2V5QW5kVmFsdWVzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuXHRcdFx0Y29uc3QgdmFsdWUgPSBrZXlBbmRWYWx1ZXNba2V5XTtcclxuXHRcdFx0aWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiKSB7XHJcblx0XHRcdFx0Y29uc3QgcHJlZml4ID0gIXF1ZXJ5UGFyYW1zU3RyaW5nID8gXCJcIiA6IFwiJlwiO1xyXG5cdFx0XHRcdGNvbnN0IGVuY29kZWRWYWx1ZSA9IGVuY29kZVZhbHVlQXNVUkkgPyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpIDogdmFsdWU7XHJcblx0XHRcdFx0Y29uc3QgcXVlcnlQYXJhbUl0ZW0gPSBgJHtrZXl9PSR7ZW5jb2RlZFZhbHVlfWA7XHJcblx0XHRcdFx0cXVlcnlQYXJhbXNTdHJpbmcgKz0gcHJlZml4ICsgcXVlcnlQYXJhbUl0ZW07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiBxdWVyeVBhcmFtc1N0cmluZztcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Common/UrlUtils.ts\n')},"./scripts/app/CommonApp.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initialize", function() { return initialize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reset", function() { return reset; });\n/* harmony import */ var _Polyfills_Promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Polyfills/Promise */ "./scripts/app/Polyfills/Promise.ts");\n/* harmony import */ var _Version__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Version */ "./scripts/app/Version.ts");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Configuration/Configuration */ "./scripts/app/Configuration/Configuration.ts");\n/* harmony import */ var _Window_Window__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Window/Window */ "./scripts/app/Window/Window.ts");\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Logging/Logging */ "./scripts/app/Logging/Logging.ts");\n/**\r\n * CommonApp.ts\r\n *\r\n * Common logic for entrypoints.\r\n */\r\n\r\n\r\n\r\n\r\n\r\nvar APP_NAME = "OfficeFeedbackSDK";\r\n/**\r\n * Has the SDK been initialized\r\n */\r\nvar initialized = false;\r\n/**\r\n * Initialize\r\n */\r\nfunction initialize() {\r\n    if (initialized) {\r\n        return;\r\n    }\r\n    if (!_Window_Window__WEBPACK_IMPORTED_MODULE_3__["get"]().OfficeBrowserFeedback.initOptions) {\r\n        throw new Error("Window.OfficeBrowserFeedback.initOptions not set");\r\n    }\r\n    _Window_Window__WEBPACK_IMPORTED_MODULE_3__["get"]().OfficeBrowserFeedback.sdkVersion = _Version__WEBPACK_IMPORTED_MODULE_1__["default"];\r\n    _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__["get"]().setCommonInitOptions(_Window_Window__WEBPACK_IMPORTED_MODULE_3__["get"]().OfficeBrowserFeedback.initOptions);\r\n    _Logging_Logging__WEBPACK_IMPORTED_MODULE_4__["initialize"](_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__["get"]().getCommonInitOptions(), APP_NAME, _Version__WEBPACK_IMPORTED_MODULE_1__["default"], _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__["get"]().getSdkSessionId(), _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__["get"]().getEventSampling());\r\n    initialized = true;\r\n}\r\n/**\r\n * Reset the module. Used in unit tests.\r\n */\r\nfunction reset() {\r\n    initialized = false;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Db21tb25BcHAudHM/MWE5NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRztBQUUwQjtBQUVHO0FBQytCO0FBQ3JCO0FBQ0c7QUFFN0MsSUFBTSxRQUFRLEdBQVcsbUJBQW1CLENBQUM7QUFFN0M7O0dBRUc7QUFDSCxJQUFJLFdBQVcsR0FBWSxLQUFLLENBQUM7QUFFakM7O0dBRUc7QUFDSSxTQUFTLFVBQVU7SUFDekIsSUFBSSxXQUFXLEVBQUU7UUFDaEIsT0FBTztLQUNQO0lBRUQsSUFBSSxDQUFDLGtEQUFVLEVBQUUsQ0FBQyxxQkFBcUIsQ0FBQyxXQUFXLEVBQUU7UUFDcEQsTUFBTSxJQUFJLEtBQUssQ0FBQyxrREFBa0QsQ0FBQyxDQUFDO0tBQ3BFO0lBRUQsa0RBQVUsRUFBRSxDQUFDLHFCQUFxQixDQUFDLFVBQVUsR0FBRyxnREFBTyxDQUFDO0lBQ3hELGdFQUFpQixFQUFFLENBQUMsb0JBQW9CLENBQUMsa0RBQVUsRUFBRSxDQUFDLHFCQUFxQixDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBRXpGLDJEQUFrQixDQUNqQixnRUFBaUIsRUFBRSxDQUFDLG9CQUFvQixFQUFFLEVBQzFDLFFBQVEsRUFDUixnREFBTyxFQUNQLGdFQUFpQixFQUFFLENBQUMsZUFBZSxFQUFFLEVBQ3JDLGdFQUFpQixFQUFFLENBQUMsZ0JBQWdCLEVBQUUsQ0FDdEMsQ0FBQztJQUVGLFdBQVcsR0FBRyxJQUFJLENBQUM7QUFDcEIsQ0FBQztBQUVEOztHQUVHO0FBQ0ksU0FBUyxLQUFLO0lBQ3BCLFdBQVcsR0FBRyxLQUFLLENBQUM7QUFDckIsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0NvbW1vbkFwcC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb21tb25BcHAudHNcclxuICpcclxuICogQ29tbW9uIGxvZ2ljIGZvciBlbnRyeXBvaW50cy5cclxuICovXHJcblxyXG5pbXBvcnQgXCIuL1BvbHlmaWxscy9Qcm9taXNlXCI7XHJcblxyXG5pbXBvcnQgVmVyc2lvbiBmcm9tIFwiLi9WZXJzaW9uXCI7XHJcbmltcG9ydCAqIGFzIENvbmZpZ3VyYXRpb24gZnJvbSBcIi4vQ29uZmlndXJhdGlvbi9Db25maWd1cmF0aW9uXCI7XHJcbmltcG9ydCAqIGFzIFdpbmRvdyBmcm9tIFwiLi9XaW5kb3cvV2luZG93XCI7XHJcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vTG9nZ2luZy9Mb2dnaW5nXCI7XHJcblxyXG5jb25zdCBBUFBfTkFNRTogc3RyaW5nID0gXCJPZmZpY2VGZWVkYmFja1NES1wiO1xyXG5cclxuLyoqXHJcbiAqIEhhcyB0aGUgU0RLIGJlZW4gaW5pdGlhbGl6ZWRcclxuICovXHJcbmxldCBpbml0aWFsaXplZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpemVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplKCk6IHZvaWQge1xyXG5cdGlmIChpbml0aWFsaXplZCkge1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0aWYgKCFXaW5kb3cuZ2V0KCkuT2ZmaWNlQnJvd3NlckZlZWRiYWNrLmluaXRPcHRpb25zKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJXaW5kb3cuT2ZmaWNlQnJvd3NlckZlZWRiYWNrLmluaXRPcHRpb25zIG5vdCBzZXRcIik7XHJcblx0fVxyXG5cclxuXHRXaW5kb3cuZ2V0KCkuT2ZmaWNlQnJvd3NlckZlZWRiYWNrLnNka1ZlcnNpb24gPSBWZXJzaW9uO1xyXG5cdENvbmZpZ3VyYXRpb24uZ2V0KCkuc2V0Q29tbW9uSW5pdE9wdGlvbnMoV2luZG93LmdldCgpLk9mZmljZUJyb3dzZXJGZWVkYmFjay5pbml0T3B0aW9ucyk7XHJcblxyXG5cdExvZ2dpbmcuaW5pdGlhbGl6ZShcclxuXHRcdENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKSxcclxuXHRcdEFQUF9OQU1FLFxyXG5cdFx0VmVyc2lvbixcclxuXHRcdENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0U2RrU2Vzc2lvbklkKCksXHJcblx0XHRDb25maWd1cmF0aW9uLmdldCgpLmdldEV2ZW50U2FtcGxpbmcoKVxyXG5cdCk7XHJcblxyXG5cdGluaXRpYWxpemVkID0gdHJ1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlc2V0IHRoZSBtb2R1bGUuIFVzZWQgaW4gdW5pdCB0ZXN0cy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByZXNldCgpIHtcclxuXHRpbml0aWFsaXplZCA9IGZhbHNlO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/CommonApp.ts\n')},"./scripts/app/CommonFloodgate.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initialize", function() { return initialize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setInitialized", function() { return setInitialized; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getInitialized", function() { return getInitialized; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setEngineStartPromise", function() { return setEngineStartPromise; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getEngineStartPromise", function() { return getEngineStartPromise; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setStringProvider", function() { return setStringProvider; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "startInternal", function() { return startInternal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "start", function() { return start; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "stop", function() { return stop; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getEngine", function() { return getEngine; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "resetEngine", function() { return resetEngine; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reset", function() { return reset; });\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Configuration/Configuration */ "./scripts/app/Configuration/Configuration.ts");\n/* harmony import */ var _Window_Window__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Window/Window */ "./scripts/app/Window/Window.ts");\n/* harmony import */ var _FloodgateCore_AdaptiveSurveyLauncherFactory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FloodgateCore/AdaptiveSurveyLauncherFactory */ "./scripts/app/FloodgateCore/AdaptiveSurveyLauncherFactory.ts");\n/* harmony import */ var _FloodgateCore_TransporterFactory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FloodgateCore/TransporterFactory */ "./scripts/app/FloodgateCore/TransporterFactory.ts");\n/* harmony import */ var _FloodgateCore_FloodgateEnvironmentProvider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FloodgateCore/FloodgateEnvironmentProvider */ "./scripts/app/FloodgateCore/FloodgateEnvironmentProvider.ts");\n/* harmony import */ var _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./FloodgateCore/FloodgateStorageProvider */ "./scripts/app/FloodgateCore/FloodgateStorageProvider.ts");\n/* harmony import */ var _FloodgateCore_FloodgateStringProvider__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./FloodgateCore/FloodgateStringProvider */ "./scripts/app/FloodgateCore/FloodgateStringProvider.ts");\n/* harmony import */ var _TargetedMessaging_TargetedMessagingCampaignDefinitionProvider__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./TargetedMessaging/TargetedMessagingCampaignDefinitionProvider */ "./scripts/app/TargetedMessaging/TargetedMessagingCampaignDefinitionProvider.ts");\n/* harmony import */ var _TargetedMessaging_UserFactsProvider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./TargetedMessaging/UserFactsProvider */ "./scripts/app/TargetedMessaging/UserFactsProvider.ts");\n/* harmony import */ var _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore */ "../FloodgateCore/dist/index.js");\n/* harmony import */ var _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Campaign_CampaignDefinitionProvider__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Campaign/CampaignDefinitionProvider */ "../FloodgateCore/dist/src/Campaign/CampaignDefinitionProvider.js");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Campaign_CampaignDefinitionProvider__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Campaign_CampaignDefinitionProvider__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Api/Api */ "../FloodgateCore/dist/src/Api/Api.js");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Constants__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Constants */ "../FloodgateCore/dist/src/Constants.js");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Constants__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Constants__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Configuration/DynamicConfiguration */ "./scripts/app/Configuration/DynamicConfiguration.ts");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Governor__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Governor */ "../FloodgateCore/dist/src/Governor.js");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Governor__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Governor__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_GovernedChannel__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/GovernedChannel */ "../FloodgateCore/dist/src/GovernedChannel.js");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_GovernedChannel__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_GovernedChannel__WEBPACK_IMPORTED_MODULE_15__);\n/**\r\n * CommonFloodgate.ts\r\n *\r\n * Common functionalities shared by App_Floodgate and App_Floodgate_Bare modules.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Has floodgate been initialized\r\n */\r\nvar initialized = false;\r\nvar startCount = 0;\r\nvar engine;\r\nvar engineStartPromise = null;\r\nvar engineTmsProvider = null;\r\nvar userFactsProvider = null;\r\nvar stringProvider;\r\nfunction initialize() {\r\n    if (!_FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_5__["default"].isStorageAvailable()) {\r\n        throw new Error("window.localStorage is not available.");\r\n    }\r\n    _Window_Window__WEBPACK_IMPORTED_MODULE_1__["get"]().OfficeBrowserFeedback.floodgate = _Window_Window__WEBPACK_IMPORTED_MODULE_1__["get"]().OfficeBrowserFeedback.floodgate || {};\r\n    var floodgateInitOptions = _Window_Window__WEBPACK_IMPORTED_MODULE_1__["get"]().OfficeBrowserFeedback.floodgate.initOptions;\r\n    floodgateInitOptions = floodgateInitOptions || {};\r\n    // Validate and copy campaign definitions to local storage\r\n    if (floodgateInitOptions.campaignDefinitions !== undefined) {\r\n        var filteredResult = Object(_ms_ofb_officefloodgatecore_dist_src_Campaign_CampaignDefinitionProvider__WEBPACK_IMPORTED_MODULE_10__["FilterValidCampaignDefinitions"])(floodgateInitOptions.campaignDefinitions);\r\n        if (filteredResult.error) {\r\n            throw new Error("floodgate.initOptions.campaignDefinitions error: " + filteredResult.error);\r\n        }\r\n        (new _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_5__["default"]()).write(_ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_11__["IFloodgateStorageProvider"].FileType.CampaignDefinitions, JSON.stringify(floodgateInitOptions.campaignDefinitions));\r\n    }\r\n    _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__["get"]().setFloodgateInitOptions(floodgateInitOptions);\r\n    initialized = true;\r\n    if (!_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__["get"]().getFloodgateInitOptions().surveyEnabled) {\r\n        var telemetryLogger = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_9__["FloodgateEngine"].getTelemetryLogger();\r\n        if (telemetryLogger) {\r\n            telemetryLogger.log_Event(_ms_ofb_officefloodgatecore_dist_src_Constants__WEBPACK_IMPORTED_MODULE_12__["TelemetryEvent"].Floodgate.Start.SurveysDisabled, { Count: startCount, Message: "Floodgate initialized with surveys disabled (surveyEnabled is false)" });\r\n        }\r\n    }\r\n}\r\nfunction setInitialized(initValue) {\r\n    initialized = initValue;\r\n}\r\nfunction getInitialized() {\r\n    return initialized;\r\n}\r\nfunction setEngineStartPromise(startPromise) {\r\n    engineStartPromise = startPromise;\r\n}\r\nfunction getEngineStartPromise() {\r\n    return engineStartPromise;\r\n}\r\nfunction setStringProvider(provider) {\r\n    stringProvider = provider;\r\n}\r\n/**\r\n * To support the multi-window scenario on web we need to initialize the engine on each resume.\r\n * Hence this separate method which does make() and start() together.\r\n */\r\nfunction startInternal(loadSynchronously, customEngine) {\r\n    if (customEngine === void 0) { customEngine = null; }\r\n    if (engineStartPromise) {\r\n        return engineStartPromise;\r\n    }\r\n    startCount++;\r\n    var startPromise = new Promise(function (resolve, reject) {\r\n        var rejectAndLogError = function (errorMessage, error) {\r\n            var telemetryLogger = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_9__["FloodgateEngine"].getTelemetryLogger();\r\n            if (telemetryLogger) {\r\n                telemetryLogger.log_Event(_ms_ofb_officefloodgatecore_dist_src_Constants__WEBPACK_IMPORTED_MODULE_12__["TelemetryEvent"].Floodgate.Start.Failed, { Count: startCount, ErrorMessage: errorMessage, ErrorDetails: error && error.stack });\r\n            }\r\n            reject(errorMessage);\r\n        };\r\n        try {\r\n            var commonInitOptions = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__["get"]().getCommonInitOptions();\r\n            if (!commonInitOptions) {\r\n                rejectAndLogError("Invalid floodgate common init options, state: " + initialized);\r\n                return;\r\n            }\r\n            var floodgateInitOptions = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__["get"]().getFloodgateInitOptions();\r\n            if (!floodgateInitOptions) {\r\n                var telemetryLogger = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_9__["FloodgateEngine"].getTelemetryLogger();\r\n                if (telemetryLogger) {\r\n                    telemetryLogger.log_Event(_ms_ofb_officefloodgatecore_dist_src_Constants__WEBPACK_IMPORTED_MODULE_12__["TelemetryEvent"].Floodgate.Start.Warning, { Count: startCount, ErrorMessage: "Invalid floodgate init options, state: " + initialized });\r\n                }\r\n                _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__["get"]().setFloodgateInitOptions({});\r\n                floodgateInitOptions = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__["get"]().getFloodgateInitOptions();\r\n            }\r\n            if (!customEngine && !engineTmsProvider) {\r\n                // AssetsProvider wraps auth callbacks which should not run every time we start()\r\n                var authTokenCallback = floodgateInitOptions && floodgateInitOptions.authTokenCallback;\r\n                if (authTokenCallback) {\r\n                    engineTmsProvider = new _TargetedMessaging_TargetedMessagingCampaignDefinitionProvider__WEBPACK_IMPORTED_MODULE_7__["TargetedMessagingCampaignDefinitionProvider"]();\r\n                    userFactsProvider = new _TargetedMessaging_UserFactsProvider__WEBPACK_IMPORTED_MODULE_8__["UserFactsProvider"]();\r\n                }\r\n            }\r\n            var currentTeachingCooldown = _ms_ofb_officefloodgatecore_dist_src_Governor__WEBPACK_IMPORTED_MODULE_14__["Governor"].GetChannelCoolDown(_ms_ofb_officefloodgatecore_dist_src_GovernedChannel__WEBPACK_IMPORTED_MODULE_15__["GovernedChannelType"].TeachingMessage);\r\n            var teachingCooldown = Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_13__["getDynamicSetting"])("TeachingMessageCooldown" /* teachingMessageCooldown */, currentTeachingCooldown);\r\n            _ms_ofb_officefloodgatecore_dist_src_Governor__WEBPACK_IMPORTED_MODULE_14__["Governor"].SetDefaultChannelCoolDown(_ms_ofb_officefloodgatecore_dist_src_GovernedChannel__WEBPACK_IMPORTED_MODULE_15__["GovernedChannelType"].TeachingMessage, teachingCooldown);\r\n            engine = customEngine || _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_9__["FloodgateEngine"].make(commonInitOptions.build || "", _FloodgateCore_AdaptiveSurveyLauncherFactory__WEBPACK_IMPORTED_MODULE_2__["default"].make(), floodgateInitOptions.onSurveyActivatedCallback, new _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_5__["default"](), floodgateInitOptions.settingStorageCallback, stringProvider ? stringProvider : new _FloodgateCore_FloodgateStringProvider__WEBPACK_IMPORTED_MODULE_6__["default"](), new _FloodgateCore_FloodgateEnvironmentProvider__WEBPACK_IMPORTED_MODULE_4__["default"](), new _FloodgateCore_TransporterFactory__WEBPACK_IMPORTED_MODULE_3__["default"](), [engineTmsProvider], userFactsProvider);\r\n            if (!engine) {\r\n                setEngineStartPromise(null);\r\n                rejectAndLogError("Failed to create floodgate engine");\r\n                return;\r\n            }\r\n            // start subsequent invocations in sync mode\r\n            var shouldStartEngineInSync = loadSynchronously || startCount > 1;\r\n            if (shouldStartEngineInSync) {\r\n                engine.start();\r\n                resolve();\r\n            }\r\n            else {\r\n                var enginePromise = engine.startAsync();\r\n                if (!enginePromise) {\r\n                    // ideally this should never happen\r\n                    setEngineStartPromise(null);\r\n                    rejectAndLogError("Failed to get floodgate engine");\r\n                    return;\r\n                }\r\n                enginePromise.then(function onFulfilled() {\r\n                    resolve();\r\n                }).catch(function onRejected(startError) {\r\n                    setEngineStartPromise(null);\r\n                    rejectAndLogError("Failed to start floodgate engine", startError);\r\n                });\r\n            }\r\n        }\r\n        catch (e) {\r\n            setEngineStartPromise(null);\r\n            rejectAndLogError("Failed to load floodgate engine: " + (e && e.toString()), e);\r\n        }\r\n    });\r\n    setEngineStartPromise(startPromise);\r\n    // reset on error\r\n    startPromise.catch(function (error) {\r\n        setEngineStartPromise(null);\r\n    });\r\n    return startPromise;\r\n}\r\nfunction start(loadSynchronously) {\r\n    if (loadSynchronously === void 0) { loadSynchronously = false; }\r\n    return startInternal(loadSynchronously);\r\n}\r\n/**\r\n * A proxy for the engine.stop() method for consistency with the start() method.\r\n */\r\nfunction stop() {\r\n    if (engine) {\r\n        engine.stop();\r\n    }\r\n    setEngineStartPromise(null);\r\n}\r\n/**\r\n * Get the engine object\r\n * @returns the engine object\r\n */\r\nfunction getEngine() {\r\n    return engine;\r\n}\r\n/**\r\n * Reset the floodgate engine state. Used in unit tests.\r\n */\r\nfunction resetEngine() {\r\n    startCount = 0;\r\n    engineStartPromise = null;\r\n    engine = null;\r\n    engineTmsProvider = null;\r\n    userFactsProvider = null;\r\n}\r\n/**\r\n * Reset the floodgate module. Used in unit tests.\r\n */\r\nfunction reset() {\r\n    initialized = false;\r\n    resetEngine();\r\n}\r\n_Window_Window__WEBPACK_IMPORTED_MODULE_1__["setFloodgateGetEngine"](getEngine);\r\n_Window_Window__WEBPACK_IMPORTED_MODULE_1__["setFloodgateStart"](start);\r\n_Window_Window__WEBPACK_IMPORTED_MODULE_1__["setFloodgateStop"](stop);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Db21tb25GbG9vZGdhdGUudHM/Mjc1ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRztBQUU0RDtBQUNyQjtBQUNnRDtBQUN0QjtBQUNvQjtBQUNSO0FBQ0Y7QUFFWDtBQUNPO0FBR1o7QUFFYztBQUNhO0FBQ1Q7QUFFSztBQUVaO0FBQ2tCO0FBRTNGOztHQUVHO0FBQ0gsSUFBSSxXQUFXLEdBQVksS0FBSyxDQUFDO0FBQ2pDLElBQUksVUFBVSxHQUFXLENBQUMsQ0FBQztBQUUzQixJQUFJLE1BQXVCLENBQUM7QUFDNUIsSUFBSSxrQkFBa0IsR0FBaUIsSUFBSSxDQUFDO0FBQzVDLElBQUksaUJBQWlCLEdBQWdELElBQUksQ0FBQztBQUMxRSxJQUFJLGlCQUFpQixHQUFzQixJQUFJLENBQUM7QUFDaEQsSUFBSSxjQUE0QyxDQUFDO0FBRTFDLFNBQVMsVUFBVTtJQUN6QixJQUFJLENBQUMsK0VBQXdCLENBQUMsa0JBQWtCLEVBQUUsRUFBRTtRQUNuRCxNQUFNLElBQUksS0FBSyxDQUFDLHVDQUF1QyxDQUFDLENBQUM7S0FDekQ7SUFFRCxrREFBVSxFQUFFLENBQUMscUJBQXFCLENBQUMsU0FBUyxHQUFHLGtEQUFVLEVBQUUsQ0FBQyxxQkFBcUIsQ0FBQyxTQUFTLElBQUksRUFBUyxDQUFDO0lBRXpHLElBQUksb0JBQW9CLEdBQUcsa0RBQVUsRUFBRSxDQUFDLHFCQUFxQixDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUM7SUFDcEYsb0JBQW9CLEdBQUcsb0JBQW9CLElBQUksRUFBUyxD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cC9Db21tb25GbG9vZGdhdGUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ29tbW9uRmxvb2RnYXRlLnRzXHJcbiAqXHJcbiAqIENvbW1vbiBmdW5jdGlvbmFsaXRpZXMgc2hhcmVkIGJ5IEFwcF9GbG9vZGdhdGUgYW5kIEFwcF9GbG9vZGdhdGVfQmFyZSBtb2R1bGVzLlxyXG4gKi9cclxuXHJcbmltcG9ydCAqIGFzIENvbmZpZ3VyYXRpb24gZnJvbSBcIi4vQ29uZmlndXJhdGlvbi9Db25maWd1cmF0aW9uXCI7XHJcbmltcG9ydCAqIGFzIFdpbmRvdyBmcm9tIFwiLi9XaW5kb3cvV2luZG93XCI7XHJcbmltcG9ydCBBZGFwdGl2ZVN1cnZleUxhdW5jaGVyRmFjdG9yeSBmcm9tIFwiLi9GbG9vZGdhdGVDb3JlL0FkYXB0aXZlU3VydmV5TGF1bmNoZXJGYWN0b3J5XCI7XHJcbmltcG9ydCBUcmFuc3BvcnRlckZhY3RvcnkgZnJvbSBcIi4vRmxvb2RnYXRlQ29yZS9UcmFuc3BvcnRlckZhY3RvcnlcIjtcclxuaW1wb3J0IEZsb29kZ2F0ZUVudmlyb25tZW50UHJvdmlkZXIgZnJvbSBcIi4vRmxvb2RnYXRlQ29yZS9GbG9vZGdhdGVFbnZpcm9ubWVudFByb3ZpZGVyXCI7XHJcbmltcG9ydCBGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIgZnJvbSBcIi4vRmxvb2RnYXRlQ29yZS9GbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXJcIjtcclxuaW1wb3J0IEZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyIGZyb20gXCIuL0Zsb29kZ2F0ZUNvcmUvRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXJcIjtcclxuaW1wb3J0IHsgVGFyZ2V0ZWRNZXNzYWdpbmdDYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlciB9IGZyb21cclxuXHRcIi4vVGFyZ2V0ZWRNZXNzYWdpbmcvVGFyZ2V0ZWRNZXNzYWdpbmdDYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlclwiO1xyXG5pbXBvcnQgeyBVc2VyRmFjdHNQcm92aWRlciB9IGZyb20gXCIuL1RhcmdldGVkTWVzc2FnaW5nL1VzZXJGYWN0c1Byb3ZpZGVyXCI7XHJcblxyXG5pbXBvcnQgKiBhcyBBcGkgZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9BcGkvQXBpXCI7XHJcbmltcG9ydCB7IEZsb29kZ2F0ZUVuZ2luZSB9IGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmVcIjtcclxuaW1wb3J0IHsgRmlsdGVyVmFsaWRDYW1wYWlnbkRlZmluaXRpb25zIH0gZnJvbVxyXG5cdFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0NhbXBhaWduL0NhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyXCI7XHJcbmltcG9ydCB7IElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIgfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0FwaS9BcGlcIjtcclxuaW1wb3J0IHsgVGVsZW1ldHJ5RXZlbnQgfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0NvbnN0YW50c1wiO1xyXG5cclxuaW1wb3J0IHsgZ2V0RHluYW1pY1NldHRpbmcsIFNldHRpbmdLZXkgfSBmcm9tIFwiLi9Db25maWd1cmF0aW9uL0R5bmFtaWNDb25maWd1cmF0aW9uXCI7XHJcblxyXG5pbXBvcnQgeyBHb3Zlcm5vciB9IGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmUvZGlzdC9zcmMvR292ZXJub3JcIjtcclxuaW1wb3J0IHsgR292ZXJuZWRDaGFubmVsVHlwZSB9IGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmUvZGlzdC9zcmMvR292ZXJuZWRDaGFubmVsXCI7XHJcblxyXG4vKipcclxuICogSGFzIGZsb29kZ2F0ZSBiZWVuIGluaXRpYWxpemVkXHJcbiAqL1xyXG5sZXQgaW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxubGV0IHN0YXJ0Q291bnQ6IG51bWJlciA9IDA7XHJcblxyXG5sZXQgZW5naW5lOiBGbG9vZGdhdGVFbmdpbmU7XHJcbmxldCBlbmdpbmVTdGFydFByb21pc2U6IFByb21pc2U8YW55PiA9IG51bGw7XHJcbmxldCBlbmdpbmVUbXNQcm92aWRlcjogVGFyZ2V0ZWRNZXNzYWdpbmdDYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlciA9IG51bGw7XHJcbmxldCB1c2VyRmFjdHNQcm92aWRlcjogVXNlckZhY3RzUHJvdmlkZXIgPSBudWxsO1xyXG5sZXQgc3RyaW5nUHJvdmlkZXI6IEFwaS5JRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpOiB2b2lkIHtcclxuXHRpZiAoIUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlci5pc1N0b3JhZ2VBdmFpbGFibGUoKSkge1xyXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwid2luZG93LmxvY2FsU3RvcmFnZSBpcyBub3QgYXZhaWxhYmxlLlwiKTtcclxuXHR9XHJcblxyXG5cdFdpbmRvdy5nZXQoKS5PZmZpY2VCcm93c2VyRmVlZGJhY2suZmxvb2RnYXRlID0gV2luZG93LmdldCgpLk9mZmljZUJyb3dzZXJGZWVkYmFjay5mbG9vZGdhdGUgfHwge30gYXMgYW55O1xyXG5cclxuXHRsZXQgZmxvb2RnYXRlSW5pdE9wdGlvbnMgPSBXaW5kb3cuZ2V0KCkuT2ZmaWNlQnJvd3NlckZlZWRiYWNrLmZsb29kZ2F0ZS5pbml0T3B0aW9ucztcclxuXHRmbG9vZGdhdGVJbml0T3B0aW9ucyA9IGZsb29kZ2F0ZUluaXRPcHRpb25zIHx8IHt9IGFzIGFueTtcclxuXHJcblx0Ly8gVmFsaWRhdGUgYW5kIGNvcHkgY2FtcGFpZ24gZGVmaW5pdGlvbnMgdG8gbG9jYWwgc3RvcmFnZVxyXG5cdGlmIChmbG9vZGdhdGVJbml0T3B0aW9ucy5jYW1wYWlnbkRlZmluaXRpb25zICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdGNvbnN0IGZpbHRlcmVkUmVzdWx0ID0gRmlsdGVyVmFsaWRDYW1wYWlnbkRlZmluaXRpb25zKGZsb29kZ2F0ZUluaXRPcHRpb25zLmNhbXBhaWduRGVmaW5pdGlvbnMpO1xyXG5cclxuXHRcdGlmIChmaWx0ZXJlZFJlc3VsdC5lcnJvcikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJmbG9vZGdhdGUuaW5pdE9wdGlvbnMuY2FtcGFpZ25EZWZpbml0aW9ucyBlcnJvcjogXCIgKyBmaWx0ZXJlZFJlc3VsdC5lcnJvcik7XHJcblx0XHR9XHJcblxyXG5cdFx0KG5ldyBGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIoKSkud3JpdGUoXHJcblx0XHRcdElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIuRmlsZVR5cGUuQ2FtcGFpZ25EZWZpbml0aW9ucyxcclxuXHRcdFx0SlNPTi5zdHJpbmdpZnkoZmxvb2RnYXRlSW5pdE9wdGlvbnMuY2FtcGFpZ25EZWZpbml0aW9ucylcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHRDb25maWd1cmF0aW9uLmdldCgpLnNldEZsb29kZ2F0ZUluaXRPcHRpb25zKGZsb29kZ2F0ZUluaXRPcHRpb25zKTtcclxuXHRpbml0aWFsaXplZCA9IHRydWU7XHJcblxyXG5cdGlmICghQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRGbG9vZGdhdGVJbml0T3B0aW9ucygpLnN1cnZleUVuYWJsZWQpIHtcclxuXHRcdGNvbnN0IHRlbGVtZXRyeUxvZ2dlciA9IEZsb29kZ2F0ZUVuZ2luZS5nZXRUZWxlbWV0cnlMb2dnZXIoKTtcclxuXHRcdGlmICh0ZWxlbWV0cnlMb2dnZXIpIHtcclxuXHRcdFx0dGVsZW1ldHJ5TG9nZ2VyLmxvZ19FdmVudChUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGUuU3RhcnQuU3VydmV5c0Rpc2FibGVkLFxyXG5cdFx0XHRcdHsgQ291bnQ6IHN0YXJ0Q291bnQsIE1lc3NhZ2U6IFwiRmxvb2RnYXRlIGluaXRpYWxpemVkIHdpdGggc3VydmV5cyBkaXNhYmxlZCAoc3VydmV5RW5hYmxlZCBpcyBmYWxzZSlcIiB9KTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRJbml0aWFsaXplZChpbml0VmFsdWU6IGJvb2xlYW4pOiB2b2lkIHtcclxuXHRpbml0aWFsaXplZCA9IGluaXRWYWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEluaXRpYWxpemVkKCk6IGJvb2xlYW4ge1xyXG5cdHJldHVybiBpbml0aWFsaXplZDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEVuZ2luZVN0YXJ0UHJvbWlzZShzdGFydFByb21pc2U6IFByb21pc2U8YW55Pik6IGFueSB7XHJcblx0ZW5naW5lU3RhcnRQcm9taXNlID0gc3RhcnRQcm9taXNlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RW5naW5lU3RhcnRQcm9taXNlKCk6IFByb21pc2U8YW55PiB7XHJcblx0cmV0dXJuIGVuZ2luZVN0YXJ0UHJvbWlzZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldFN0cmluZ1Byb3ZpZGVyKHByb3ZpZGVyOiBBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyKTogdm9pZCB7XHJcblx0c3RyaW5nUHJvdmlkZXIgPSBwcm92aWRlcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRvIHN1cHBvcnQgdGhlIG11bHRpLXdpbmRvdyBzY2VuYXJpbyBvbiB3ZWIgd2UgbmVlZCB0byBpbml0aWFsaXplIHRoZSBlbmdpbmUgb24gZWFjaCByZXN1bWUuXHJcbiAqIEhlbmNlIHRoaXMgc2VwYXJhdGUgbWV0aG9kIHdoaWNoIGRvZXMgbWFrZSgpIGFuZCBzdGFydCgpIHRvZ2V0aGVyLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0SW50ZXJuYWwobG9hZFN5bmNocm9ub3VzbHk6IGJvb2xlYW4sIGN1c3RvbUVuZ2luZTogRmxvb2RnYXRlRW5naW5lID0gbnVsbCk6IFByb21pc2U8YW55PiB7XHJcblx0aWYgKGVuZ2luZVN0YXJ0UHJvbWlzZSkge1xyXG5cdFx0cmV0dXJuIGVuZ2luZVN0YXJ0UHJvbWlzZTtcclxuXHR9XHJcblxyXG5cdHN0YXJ0Q291bnQrKztcclxuXHRjb25zdCBzdGFydFByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRjb25zdCByZWplY3RBbmRMb2dFcnJvciA9IChlcnJvck1lc3NhZ2U6IHN0cmluZywgZXJyb3I/OiBFcnJvcikgPT4ge1xyXG5cdFx0XHRjb25zdCB0ZWxlbWV0cnlMb2dnZXIgPSBGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCk7XHJcblx0XHRcdGlmICh0ZWxlbWV0cnlMb2dnZXIpIHtcclxuXHRcdFx0XHR0ZWxlbWV0cnlMb2dnZXIubG9nX0V2ZW50KFRlbGVtZXRyeUV2ZW50LkZsb29kZ2F0ZS5TdGFydC5GYWlsZWQsXHJcblx0XHRcdFx0XHR7IENvdW50OiBzdGFydENvdW50LCBFcnJvck1lc3NhZ2U6IGVycm9yTWVzc2FnZSwgRXJyb3JEZXRhaWxzOiBlcnJvciAmJiBlcnJvci5zdGFjayB9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmVqZWN0KGVycm9yTWVzc2FnZSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IGNvbW1vbkluaXRPcHRpb25zID0gQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRDb21tb25Jbml0T3B0aW9ucygpO1xyXG5cdFx0XHRpZiAoIWNvbW1vbkluaXRPcHRpb25zKSB7XHJcblx0XHRcdFx0cmVqZWN0QW5kTG9nRXJyb3IoXCJJbnZhbGlkIGZsb29kZ2F0ZSBjb21tb24gaW5pdCBvcHRpb25zLCBzdGF0ZTogXCIgKyBpbml0aWFsaXplZCk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRsZXQgZmxvb2RnYXRlSW5pdE9wdGlvbnMgPSBDb25maWd1cmF0aW9uLmdldCgpLmdldEZsb29kZ2F0ZUluaXRPcHRpb25zKCk7XHJcblx0XHRcdGlmICghZmxvb2RnYXRlSW5pdE9wdGlvbnMpIHtcclxuXHRcdFx0XHRjb25zdCB0ZWxlbWV0cnlMb2dnZXIgPSBGbG9vZGdhdGVFbmdpbmUuZ2V0VGVsZW1ldHJ5TG9nZ2VyKCk7XHJcblx0XHRcdFx0aWYgKHRlbGVtZXRyeUxvZ2dlcikge1xyXG5cdFx0XHRcdFx0dGVsZW1ldHJ5TG9nZ2VyLmxvZ19FdmVudChUZWxlbWV0cnlFdmVudC5GbG9vZGdhdGUuU3RhcnQuV2FybmluZyxcclxuXHRcdFx0XHRcdFx0eyBDb3VudDogc3RhcnRDb3VudCwgRXJyb3JNZXNzYWdlOiBcIkludmFsaWQgZmxvb2RnYXRlIGluaXQgb3B0aW9ucywgc3RhdGU6IFwiICsgaW5pdGlhbGl6ZWQgfSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRDb25maWd1cmF0aW9uLmdldCgpLnNldEZsb29kZ2F0ZUluaXRPcHRpb25zKHt9IGFzIGFueSk7XHJcblx0XHRcdFx0Zmxvb2RnYXRlSW5pdE9wdGlvbnMgPSBDb25maWd1cmF0aW9uLmdldCgpLmdldEZsb29kZ2F0ZUluaXRPcHRpb25zKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICghY3VzdG9tRW5naW5lICYmICFlbmdpbmVUbXNQcm92aWRlcikge1xyXG5cdFx0XHRcdC8vIEFzc2V0c1Byb3ZpZGVyIHdyYXBzIGF1dGggY2FsbGJhY2tzIHdoaWNoIHNob3VsZCBub3QgcnVuIGV2ZXJ5IHRpbWUgd2Ugc3RhcnQoKVxyXG5cdFx0XHRcdGNvbnN0IGF1dGhUb2tlbkNhbGxiYWNrID0gZmxvb2RnYXRlSW5pdE9wdGlvbnMgJiYgZmxvb2RnYXRlSW5pdE9wdGlvbnMuYXV0aFRva2VuQ2FsbGJhY2s7XHJcblx0XHRcdFx0aWYgKGF1dGhUb2tlbkNhbGxiYWNrKSB7XHJcblx0XHRcdFx0XHRlbmdpbmVUbXNQcm92aWRlciA9IG5ldyBUYXJnZXRlZE1lc3NhZ2luZ0NhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyKCk7XHJcblx0XHRcdFx0XHR1c2VyRmFjdHNQcm92aWRlciA9IG5ldyBVc2VyRmFjdHNQcm92aWRlcigpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgY3VycmVudFRlYWNoaW5nQ29vbGRvd24gPSBHb3Zlcm5vci5HZXRDaGFubmVsQ29vbERvd24oR292ZXJuZWRDaGFubmVsVHlwZS5UZWFjaGluZ01lc3NhZ2UpO1xyXG5cdFx0XHRjb25zdCB0ZWFjaGluZ0Nvb2xkb3duID0gZ2V0RHluYW1pY1NldHRpbmcoU2V0dGluZ0tleS50ZWFjaGluZ01lc3NhZ2VDb29sZG93biwgY3VycmVudFRlYWNoaW5nQ29vbGRvd24pO1xyXG5cdFx0XHRHb3Zlcm5vci5TZXREZWZhdWx0Q2hhbm5lbENvb2xEb3duKEdvdmVybmVkQ2hhbm5lbFR5cGUuVGVhY2hpbmdNZXNzYWdlLCB0ZWFjaGluZ0Nvb2xkb3duKTtcclxuXHJcblx0XHRcdGVuZ2luZSA9IGN1c3RvbUVuZ2luZSB8fCBGbG9vZGdhdGVFbmdpbmUubWFrZShcclxuXHRcdFx0XHRjb21tb25Jbml0T3B0aW9ucy5idWlsZCB8fCBcIlwiLFxyXG5cdFx0XHRcdEFkYXB0aXZlU3VydmV5TGF1bmNoZXJGYWN0b3J5Lm1ha2UoKSxcclxuXHRcdFx0XHRmbG9vZGdhdGVJbml0T3B0aW9ucy5vblN1cnZleUFjdGl2YXRlZENhbGxiYWNrLFxyXG5cdFx0XHRcdG5ldyBGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIoKSxcclxuXHRcdFx0XHRmbG9vZGdhdGVJbml0T3B0aW9ucy5zZXR0aW5nU3RvcmFnZUNhbGxiYWNrLFxyXG5cdFx0XHRcdHN0cmluZ1Byb3ZpZGVyID8gc3RyaW5nUHJvdmlkZXIgOiBuZXcgRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIoKSxcclxuXHRcdFx0XHRuZXcgRmxvb2RnYXRlRW52aXJvbm1lbnRQcm92aWRlcigpLFxyXG5cdFx0XHRcdG5ldyBUcmFuc3BvcnRlckZhY3RvcnkoKSxcclxuXHRcdFx0XHRbZW5naW5lVG1zUHJvdmlkZXJdLFxyXG5cdFx0XHRcdHVzZXJGYWN0c1Byb3ZpZGVyLFxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0aWYgKCFlbmdpbmUpIHtcclxuXHRcdFx0XHRzZXRFbmdpbmVTdGFydFByb21pc2UobnVsbCk7XHJcblx0XHRcdFx0cmVqZWN0QW5kTG9nRXJyb3IoXCJGYWlsZWQgdG8gY3JlYXRlIGZsb29kZ2F0ZSBlbmdpbmVcIik7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBzdGFydCBzdWJzZXF1ZW50IGludm9jYXRpb25zIGluIHN5bmMgbW9kZVxyXG5cdFx0XHRjb25zdCBzaG91bGRTdGFydEVuZ2luZUluU3luYyA9IGxvYWRTeW5jaHJvbm91c2x5IHx8IHN0YXJ0Q291bnQgPiAxO1xyXG5cdFx0XHRpZiAoc2hvdWxkU3RhcnRFbmdpbmVJblN5bmMpIHtcclxuXHRcdFx0XHRlbmdpbmUuc3RhcnQoKTtcclxuXHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Y29uc3QgZW5naW5lUHJvbWlzZSA9IGVuZ2luZS5zdGFydEFzeW5jKCk7XHJcblx0XHRcdFx0aWYgKCFlbmdpbmVQcm9taXNlKSB7XHJcblx0XHRcdFx0XHQvLyBpZGVhbGx5IHRoaXMgc2hvdWxkIG5ldmVyIGhhcHBlblxyXG5cdFx0XHRcdFx0c2V0RW5naW5lU3RhcnRQcm9taXNlKG51bGwpO1xyXG5cdFx0XHRcdFx0cmVqZWN0QW5kTG9nRXJyb3IoXCJGYWlsZWQgdG8gZ2V0IGZsb29kZ2F0ZSBlbmdpbmVcIik7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRlbmdpbmVQcm9taXNlLnRoZW4oXHJcblx0XHRcdFx0XHRmdW5jdGlvbiBvbkZ1bGZpbGxlZCgpIHtcclxuXHRcdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdCkuY2F0Y2goXHJcblx0XHRcdFx0XHRmdW5jdGlvbiBvblJlamVjdGVkKHN0YXJ0RXJyb3I6IEVycm9yKSB7XHJcblx0XHRcdFx0XHRcdHNldEVuZ2luZVN0YXJ0UHJvbWlzZShudWxsKTtcclxuXHRcdFx0XHRcdFx0cmVqZWN0QW5kTG9nRXJyb3IoXCJGYWlsZWQgdG8gc3RhcnQgZmxvb2RnYXRlIGVuZ2luZVwiLCBzdGFydEVycm9yKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdHNldEVuZ2luZVN0YXJ0UHJvbWlzZShudWxsKTtcclxuXHRcdFx0cmVqZWN0QW5kTG9nRXJyb3IoXCJGYWlsZWQgdG8gbG9hZCBmbG9vZGdhdGUgZW5naW5lOiBcIiArIChlICYmIGUudG9TdHJpbmcoKSksIGUpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRzZXRFbmdpbmVTdGFydFByb21pc2Uoc3RhcnRQcm9taXNlKTtcclxuXHJcblx0Ly8gcmVzZXQgb24gZXJyb3JcclxuXHRzdGFydFByb21pc2UuY2F0Y2goKGVycm9yKSA9PiB7XHJcblx0XHRzZXRFbmdpbmVTdGFydFByb21pc2UobnVsbCk7XHJcblx0fSk7XHJcblxyXG5cdHJldHVybiBzdGFydFByb21pc2U7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzdGFydChsb2FkU3luY2hyb25vdXNseTogYm9vbGVhbiA9IGZhbHNlKTogUHJvbWlzZTxhbnk+IHtcclxuXHRyZXR1cm4gc3RhcnRJbnRlcm5hbChsb2FkU3luY2hyb25vdXNseSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBIHByb3h5IGZvciB0aGUgZW5naW5lLnN0b3AoKSBtZXRob2QgZm9yIGNvbnNpc3RlbmN5IHdpdGggdGhlIHN0YXJ0KCkgbWV0aG9kLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHN0b3AoKSB7XHJcblx0aWYgKGVuZ2luZSkge1xyXG5cdFx0ZW5naW5lLnN0b3AoKTtcclxuXHR9XHJcblxyXG5cdHNldEVuZ2luZVN0YXJ0UHJvbWlzZShudWxsKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCB0aGUgZW5naW5lIG9iamVjdFxyXG4gKiBAcmV0dXJucyB0aGUgZW5naW5lIG9iamVjdFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEVuZ2luZSgpOiBGbG9vZGdhdGVFbmdpbmUge1xyXG5cdHJldHVybiBlbmdpbmU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXNldCB0aGUgZmxvb2RnYXRlIGVuZ2luZSBzdGF0ZS4gVXNlZCBpbiB1bml0IHRlc3RzLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0RW5naW5lKCkge1xyXG5cdHN0YXJ0Q291bnQgPSAwO1xyXG5cdGVuZ2luZVN0YXJ0UHJvbWlzZSA9IG51bGw7XHJcblx0ZW5naW5lID0gbnVsbDtcclxuXHRlbmdpbmVUbXNQcm92aWRlciA9IG51bGw7XHJcblx0dXNlckZhY3RzUHJvdmlkZXIgPSBudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogUmVzZXQgdGhlIGZsb29kZ2F0ZSBtb2R1bGUuIFVzZWQgaW4gdW5pdCB0ZXN0cy5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByZXNldCgpIHtcclxuXHRpbml0aWFsaXplZCA9IGZhbHNlO1xyXG5cdHJlc2V0RW5naW5lKCk7XHJcbn1cclxuXHJcbldpbmRvdy5zZXRGbG9vZGdhdGVHZXRFbmdpbmUoZ2V0RW5naW5lKTtcclxuV2luZG93LnNldEZsb29kZ2F0ZVN0YXJ0KHN0YXJ0KTtcclxuV2luZG93LnNldEZsb29kZ2F0ZVN0b3Aoc3RvcCk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/CommonFloodgate.ts\n')},"./scripts/app/CommonUI.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initialize", function() { return initialize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reset", function() { return reset; });\n/* harmony import */ var _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UIStrings/UIStrings */ "./scripts/app/UIStrings/UIStrings.ts");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Configuration/Configuration */ "./scripts/app/Configuration/Configuration.ts");\n/* harmony import */ var _Window_Window__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Window/Window */ "./scripts/app/Window/Window.ts");\n/* harmony import */ var _Theme__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Theme */ "./scripts/app/Theme.ts");\n/* harmony import */ var _Screenshot__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Screenshot */ "./scripts/app/Screenshot.ts");\n/* harmony import */ var _Window_DomUtils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Window/DomUtils */ "./scripts/app/Window/DomUtils.ts");\n/**\r\n * CommonUI.ts\r\n *\r\n * Common logic for UI.\r\n */\r\nvar html2canvas = __webpack_require__(/*! ../app/thirdparty/html2canvas/html2canvas */ "./scripts/app/thirdparty/html2canvas/html2canvas.js");\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Has the SDK been initialized\r\n */\r\nvar initialized = false;\r\n/**\r\n * Set ui Strings.\r\n * @param data the ui strings\r\n */\r\nfunction setUIStrings(data) {\r\n    _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["setUIStrings"](data);\r\n}\r\n;\r\n/**\r\n * Initialize\r\n */\r\nfunction initialize() {\r\n    return new Promise(function (resolve, reject) {\r\n        if (!initialized) {\r\n            var initOptionsCommon_1 = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getCommonInitOptions();\r\n            if (!initOptionsCommon_1) {\r\n                reject("initOptionsCommon is null");\r\n            }\r\n            Object(_Window_DomUtils__WEBPACK_IMPORTED_MODULE_5__["loadStylesheet"])(initOptionsCommon_1.stylesUrl);\r\n            var intlFileUrl_1 = initOptionsCommon_1.intlUrl + initOptionsCommon_1.locale.toLowerCase() + "/" +\r\n                initOptionsCommon_1.intlFilename;\r\n            Object(_Window_DomUtils__WEBPACK_IMPORTED_MODULE_5__["loadScript"])(intlFileUrl_1)\r\n                .then(function onLoadScriptFulfilled() {\r\n                if (!_UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]()) {\r\n                    reject("UiStrings were not loaded from " + intlFileUrl_1);\r\n                    return;\r\n                }\r\n                _Theme__WEBPACK_IMPORTED_MODULE_3__["initialize"](initOptionsCommon_1.primaryColour, initOptionsCommon_1.secondaryColour);\r\n                initialized = true;\r\n                resolve();\r\n            }).catch(function onLoadScriptRejected(err) {\r\n                reject("Script load failed for " + intlFileUrl_1 + ". " + err);\r\n            });\r\n        }\r\n        else {\r\n            resolve();\r\n        }\r\n    });\r\n}\r\n/**\r\n * Reset the module. Used in unit tests.\r\n */\r\nfunction reset() {\r\n    initialized = false;\r\n}\r\n/* Make the setUIStrings method available globally */\r\n_Window_Window__WEBPACK_IMPORTED_MODULE_2__["setSetUiStrings"](setUIStrings);\r\n_Window_Window__WEBPACK_IMPORTED_MODULE_2__["setCreateScreenshot"](_Screenshot__WEBPACK_IMPORTED_MODULE_4__["createScreenshot"]);\r\n_Window_Window__WEBPACK_IMPORTED_MODULE_2__["get"]().OfficeBrowserFeedback.html2canvas = html2canvas;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Db21tb25VSS50cz8wYWIzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0dBSUc7QUFFSCxJQUFNLFdBQVcsR0FBUSxtQkFBTyxDQUFDLHNHQUEyQyxDQUFDLENBQUM7QUFFM0I7QUFDWTtBQUNyQjtBQUNUO0FBQ1U7QUFDb0I7QUFFL0Q7O0dBRUc7QUFDSCxJQUFJLFdBQVcsR0FBWSxLQUFLLENBQUM7QUFFakM7OztHQUdHO0FBQ0gsU0FBUyxZQUFZLENBQUMsSUFBUztJQUM5QixpRUFBc0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUM5QixDQUFDO0FBQUEsQ0FBQztBQUVGOztHQUVHO0FBQ0ksU0FBUyxVQUFVO0lBQ3pCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBQyxPQUFPLEVBQUUsTUFBTTtRQUNsQyxJQUFJLENBQUMsV0FBVyxFQUFFO1lBQ2pCLElBQU0sbUJBQWlCLEdBQUcsZ0VBQWlCLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1lBQ3JFLElBQUksQ0FBQyxtQkFBaUIsRUFBRTtnQkFDdkIsTUFBTSxDQUFDLDJCQUEyQixDQUFDLENBQUM7YUFDcEM7WUFFRCx1RUFBYyxDQUFDLG1CQUFpQixDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBRTVDLElBQU0sYUFBVyxHQUFXLG1CQUFpQixDQUFDLE9BQU8sR0FBRyxtQkFBaUIsQ0FBQyxNQUFNLENBQUMsV0FBVyxFQUFFLEdBQUcsR0FBRztnQkFDbkcsbUJBQWlCLENBQUMsWUFBWSxDQUFDO1lBRWhDLG1FQUFVLENBQUMsYUFBVyxDQUFDO2lCQUN0QixJQUFJLENBQ0osU0FBUyxxQkFBcUI7Z0JBQzdCLElBQUksQ0FBQyxpRUFBc0IsRUFBRSxFQUFFO29CQUM5QixNQUFNLENBQUMsaUNBQWlDLEdBQUcsYUFBVyxDQUFDLENBQUM7b0JBQ3hELE9BQU87aUJBQ1A7Z0JBRUQsaURBQWdCLENBQUMsbUJBQWlCLENBQUMsYUFBYSxFQUFFLG1CQUFpQixDQUFDLGVBQWUsQ0FBQyxDQUFDO2dCQUVyRixXQUFXLEdBQUcsSUFBSSxDQUFDO2dCQUNuQixPQUFPLEVBQUUsQ0FBQztZQUNYLENBQUMsQ0FDRCxDQUFDLEtBQUssQ0FDTixTQUFTLG9CQUFvQixDQUFDLEdBQUc7Z0JBQ2hDLE1BQU0sQ0FBQyx5QkFBeUIsR0FBRyxhQUFXLEdBQUcsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDO1lBQzlELENBQUMsQ0FDRCxDQUFDO1NBQ0Y7YUFBTTtZQUNOLE9BQU8sRUFBRSxDQUFDO1NBQ1Y7SUFDRixDQUFDLENBQUMsQ0FBQztBQUNKLENBQUM7QUFFRDs7R0FFRztBQUNJLFNBQVMsS0FBSztJQUNwQixXQUFXLEdBQUcsS0FBSyxDQUFDO0FBQ3JCLENBQUM7QUFFRCxxREFBcUQ7QUFDckQsOERBQXNCLENBQUMsWUFBWSxDQUFDLENBQUM7QUFDckMsa0VBQTBCLENBQUMsNERBQTJCLENBQUMsQ0FBQztBQUN4RCxrREFBVSxFQUFFLENBQUMscUJBQXFCLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0NvbW1vblVJLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvbW1vblVJLnRzXHJcbiAqXHJcbiAqIENvbW1vbiBsb2dpYyBmb3IgVUkuXHJcbiAqL1xyXG5cclxuY29uc3QgaHRtbDJjYW52YXM6IGFueSA9IHJlcXVpcmUoXCIuLi9hcHAvdGhpcmRwYXJ0eS9odG1sMmNhbnZhcy9odG1sMmNhbnZhc1wiKTtcclxuXHJcbmltcG9ydCAqIGFzIFVJU3RyaW5ncyBmcm9tIFwiLi9VSVN0cmluZ3MvVUlTdHJpbmdzXCI7XHJcbmltcG9ydCAqIGFzIENvbmZpZ3VyYXRpb24gZnJvbSBcIi4vQ29uZmlndXJhdGlvbi9Db25maWd1cmF0aW9uXCI7XHJcbmltcG9ydCAqIGFzIFdpbmRvdyBmcm9tIFwiLi9XaW5kb3cvV2luZG93XCI7XHJcbmltcG9ydCAqIGFzIFRoZW1lIGZyb20gXCIuL1RoZW1lXCI7XHJcbmltcG9ydCAqIGFzIFNjcmVlbnNob3QgZnJvbSBcIi4vU2NyZWVuc2hvdFwiO1xyXG5pbXBvcnQgeyBsb2FkU3R5bGVzaGVldCwgbG9hZFNjcmlwdCB9IGZyb20gXCIuL1dpbmRvdy9Eb21VdGlsc1wiO1xyXG5cclxuLyoqXHJcbiAqIEhhcyB0aGUgU0RLIGJlZW4gaW5pdGlhbGl6ZWRcclxuICovXHJcbmxldCBpbml0aWFsaXplZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuLyoqXHJcbiAqIFNldCB1aSBTdHJpbmdzLlxyXG4gKiBAcGFyYW0gZGF0YSB0aGUgdWkgc3RyaW5nc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0VUlTdHJpbmdzKGRhdGE6IGFueSk6IHZvaWQge1xyXG5cdFVJU3RyaW5ncy5zZXRVSVN0cmluZ3MoZGF0YSk7XHJcbn07XHJcblxyXG4vKipcclxuICogSW5pdGlhbGl6ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemUoKTogUHJvbWlzZTxhbnk+IHtcclxuXHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0aWYgKCFpbml0aWFsaXplZCkge1xyXG5cdFx0XHRjb25zdCBpbml0T3B0aW9uc0NvbW1vbiA9IENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKTtcclxuXHRcdFx0aWYgKCFpbml0T3B0aW9uc0NvbW1vbikge1xyXG5cdFx0XHRcdHJlamVjdChcImluaXRPcHRpb25zQ29tbW9uIGlzIG51bGxcIik7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGxvYWRTdHlsZXNoZWV0KGluaXRPcHRpb25zQ29tbW9uLnN0eWxlc1VybCk7XHJcblxyXG5cdFx0XHRjb25zdCBpbnRsRmlsZVVybDogc3RyaW5nID0gaW5pdE9wdGlvbnNDb21tb24uaW50bFVybCArIGluaXRPcHRpb25zQ29tbW9uLmxvY2FsZS50b0xvd2VyQ2FzZSgpICsgXCIvXCIgK1xyXG5cdFx0XHRcdGluaXRPcHRpb25zQ29tbW9uLmludGxGaWxlbmFtZTtcclxuXHJcblx0XHRcdGxvYWRTY3JpcHQoaW50bEZpbGVVcmwpXHJcblx0XHRcdC50aGVuKFxyXG5cdFx0XHRcdGZ1bmN0aW9uIG9uTG9hZFNjcmlwdEZ1bGZpbGxlZCgpIHtcclxuXHRcdFx0XHRcdGlmICghVUlTdHJpbmdzLmdldFVJU3RyaW5ncygpKSB7XHJcblx0XHRcdFx0XHRcdHJlamVjdChcIlVpU3RyaW5ncyB3ZXJlIG5vdCBsb2FkZWQgZnJvbSBcIiArIGludGxGaWxlVXJsKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFRoZW1lLmluaXRpYWxpemUoaW5pdE9wdGlvbnNDb21tb24ucHJpbWFyeUNvbG91ciwgaW5pdE9wdGlvbnNDb21tb24uc2Vjb25kYXJ5Q29sb3VyKTtcclxuXHJcblx0XHRcdFx0XHRpbml0aWFsaXplZCA9IHRydWU7XHJcblx0XHRcdFx0XHRyZXNvbHZlKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHQpLmNhdGNoKFxyXG5cdFx0XHRcdGZ1bmN0aW9uIG9uTG9hZFNjcmlwdFJlamVjdGVkKGVycikge1xyXG5cdFx0XHRcdFx0cmVqZWN0KFwiU2NyaXB0IGxvYWQgZmFpbGVkIGZvciBcIiArIGludGxGaWxlVXJsICsgXCIuIFwiICsgZXJyKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXNvbHZlKCk7XHJcblx0XHR9XHJcblx0fSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXNldCB0aGUgbW9kdWxlLiBVc2VkIGluIHVuaXQgdGVzdHMuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmVzZXQoKSB7XHJcblx0aW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxufVxyXG5cclxuLyogTWFrZSB0aGUgc2V0VUlTdHJpbmdzIG1ldGhvZCBhdmFpbGFibGUgZ2xvYmFsbHkgKi9cclxuV2luZG93LnNldFNldFVpU3RyaW5ncyhzZXRVSVN0cmluZ3MpO1xyXG5XaW5kb3cuc2V0Q3JlYXRlU2NyZWVuc2hvdChTY3JlZW5zaG90LmNyZWF0ZVNjcmVlbnNob3QpO1xyXG5XaW5kb3cuZ2V0KCkuT2ZmaWNlQnJvd3NlckZlZWRiYWNrLmh0bWwyY2FudmFzID0gaHRtbDJjYW52YXM7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/CommonUI.ts\n')},"./scripts/app/Configuration/Configuration.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Configuration", function() { return Configuration; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "get", function() { return get; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "validateFeedbackType", function() { return validateFeedbackType; });\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../Utils */ "./scripts/app/Utils.ts");\n/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../Constants */ "./scripts/app/Constants.ts");\n/* harmony import */ var _Localization__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../Localization */ "./scripts/app/Localization.ts");\n/* harmony import */ var _IInitOptions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./IInitOptions */ "./scripts/app/Configuration/IInitOptions.ts");\n/* harmony import */ var _IInitOptions__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_IInitOptions__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _IInitOptions__WEBPACK_IMPORTED_MODULE_3__) if(["default","Configuration","get","validateFeedbackType"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _IInitOptions__WEBPACK_IMPORTED_MODULE_3__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n/* harmony import */ var _ILaunchOptions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ILaunchOptions */ "./scripts/app/Configuration/ILaunchOptions.ts");\n/* harmony import */ var _ILaunchOptions__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_ILaunchOptions__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _ILaunchOptions__WEBPACK_IMPORTED_MODULE_4__) if(["default","Configuration","get","validateFeedbackType"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _ILaunchOptions__WEBPACK_IMPORTED_MODULE_4__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n/**\r\n * Configuration.ts\r\n *\r\n * Module for logic relating to the sdk user configuration\r\n */\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Class representing a configuration (user provided options)\r\n */\r\nvar Configuration = /** @class */ (function () {\r\n    function Configuration() {\r\n    }\r\n    /**\r\n     * Validate category options, default "show" to false if CategoryOptions is not provided.\r\n     * @param categories Category options\r\n     * @returns {ICategoryOptions} the validated CategoryOptions\r\n     */\r\n    Configuration.validateCategoryOptions = function (categories) {\r\n        if (!categories) {\r\n            return { show: false };\r\n        }\r\n        _Utils__WEBPACK_IMPORTED_MODULE_0__["expectBoolean"](categories.show, "categories.show");\r\n        if (categories.customCategories) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__["expectArray"](categories.customCategories, "categories.customCategories");\r\n            for (var _i = 0, _a = categories.customCategories; _i < _a.length; _i++) {\r\n                var customCategory = _a[_i];\r\n                _Utils__WEBPACK_IMPORTED_MODULE_0__["expectString"](customCategory, "custom category \'" + customCategory + "\'");\r\n                if (customCategory.length > 20) {\r\n                    throw "custom category \'" + customCategory + "\' too long, max 20 characters.";\r\n                }\r\n            }\r\n        }\r\n        return categories;\r\n    };\r\n    Configuration.prototype.getCommonInitOptions = function () {\r\n        return this.commonInitOptions;\r\n    };\r\n    Configuration.prototype.getInAppFeedbackInitOptions = function () {\r\n        return this.inAppFeedbackInitOptions;\r\n    };\r\n    Configuration.prototype.getInAppFeedbackLaunchOptions = function () {\r\n        return this.inAppFeedbackLaunchOptions;\r\n    };\r\n    Configuration.prototype.getFloodgateInitOptions = function () {\r\n        return this.floodgateInitOptions;\r\n    };\r\n    Configuration.prototype.getFloodgateSurvey = function () {\r\n        return this.floodgateSurvey;\r\n    };\r\n    Configuration.prototype.getSdkSessionId = function () {\r\n        if (!this.sdkSessionId) {\r\n            this.sdkSessionId = _Utils__WEBPACK_IMPORTED_MODULE_0__["guid"]();\r\n        }\r\n        return this.sdkSessionId;\r\n    };\r\n    Configuration.prototype.getEventSampling = function () {\r\n        return this.eventSampling;\r\n    };\r\n    /**\r\n     * Set initOptions for common functionality.\r\n     */\r\n    Configuration.prototype.setCommonInitOptions = function (passedInitOptions) {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_0__["expectObject"](passedInitOptions, "passedInitOptions");\r\n        var initOptions = {\r\n            appId: passedInitOptions.appId,\r\n            applicationGroup: passedInitOptions.applicationGroup || {},\r\n            build: passedInitOptions.build,\r\n            cid: passedInitOptions.cid,\r\n            environment: passedInitOptions.environment,\r\n            intlFilename: passedInitOptions.intlFilename,\r\n            intlUrl: passedInitOptions.intlUrl,\r\n            webSurfacesResourceBaseUrl: passedInitOptions.webSurfacesResourceBaseUrl,\r\n            locale: passedInitOptions.locale,\r\n            onError: passedInitOptions.onError,\r\n            originalLocale: passedInitOptions.locale,\r\n            primaryColour: passedInitOptions.primaryColour,\r\n            secondaryColour: passedInitOptions.secondaryColour,\r\n            sessionId: passedInitOptions.sessionId,\r\n            stylesUrl: passedInitOptions.stylesUrl,\r\n            telemetryGroup: passedInitOptions.telemetryGroup || {},\r\n            userEmail: passedInitOptions.userEmail,\r\n            userEmailConsentDefault: passedInitOptions.userEmailConsentDefault,\r\n            webGroup: passedInitOptions.webGroup || {},\r\n            eventSampling: passedInitOptions.eventSampling,\r\n            petrolTimeout: passedInitOptions.petrolTimeout,\r\n            isCommercialHost: passedInitOptions.isCommercialHost,\r\n        };\r\n        _Utils__WEBPACK_IMPORTED_MODULE_0__["expectNumber"](initOptions.appId, "initOptions.appId");\r\n        if (!(initOptions.appId % 1 === 0 && initOptions.appId > 0)) {\r\n            throw "initOptions.appId is not a positive integer: " + initOptions.appId;\r\n        }\r\n        _Utils__WEBPACK_IMPORTED_MODULE_0__["expectString"](initOptions.stylesUrl, "initOptions.stylesUrl");\r\n        _Utils__WEBPACK_IMPORTED_MODULE_0__["expectString"](initOptions.intlUrl, "initOptions.intlUrl");\r\n        if (initOptions.intlFilename !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__["expectString"](initOptions.intlFilename, "initOptions.intlFilename");\r\n        }\r\n        else {\r\n            initOptions.intlFilename = "officebrowserfeedbackstrings.js";\r\n        }\r\n        _Utils__WEBPACK_IMPORTED_MODULE_0__["expectNumber"](initOptions.environment, "initOptions.environment");\r\n        if (!(initOptions.environment === 1 || initOptions.environment === 0)) {\r\n            throw "initOptions.environment has a bad value: " + initOptions.environment;\r\n        }\r\n        if (initOptions.userEmail !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__["expectString"](initOptions.userEmail, "initOptions.userEmail");\r\n        }\r\n        if (initOptions.userEmailConsentDefault !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__["expectBoolean"](initOptions.userEmailConsentDefault, "initOptions.userEmailConsentDefault");\r\n        }\r\n        if (initOptions.sessionId !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__["expectString"](initOptions.sessionId, "initOptions.sessionId");\r\n        }\r\n        else {\r\n            initOptions.sessionId = "00000000-0000-0000-0000-000000000000";\r\n        }\r\n        // Copy sessionID over to telemetryGroup\r\n        initOptions.telemetryGroup.processSessionId = initOptions.sessionId;\r\n        if (initOptions.cid !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__["expectString"](initOptions.cid, "initOptions.cid");\r\n            // Copy cid over to extendedManifestData of applicationGroup\r\n            initOptions.applicationGroup.extendedManifestData = JSON.stringify({ cid: initOptions.cid });\r\n        }\r\n        if (initOptions.build !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__["expectString"](initOptions.build, "initOptions.build");\r\n            var buildRegex = "^[0-9]{1,9}(\\\\.[0-9]{1,9})?(\\\\.[0-9]{1,9})?(\\\\.[0-9]{1,9})?$";\r\n            if (!new RegExp(buildRegex).test(initOptions.build)) {\r\n                initOptions.build = "0.0.0.0";\r\n            }\r\n        }\r\n        else {\r\n            initOptions.build = "0.0.0.0";\r\n        }\r\n        // Copy build over to telemetryGroup\r\n        initOptions.telemetryGroup.officeBuild = initOptions.build;\r\n        var hexColourRegex = new RegExp("^#[0-9a-f]{3}([0-9a-f]{3})?$", "i");\r\n        if (initOptions.primaryColour !== undefined) {\r\n            if (!hexColourRegex.test(initOptions.primaryColour)) {\r\n                initOptions.primaryColour = undefined;\r\n            }\r\n        }\r\n        if (initOptions.secondaryColour !== undefined) {\r\n            if (!hexColourRegex.test(initOptions.secondaryColour)) {\r\n                initOptions.secondaryColour = undefined;\r\n            }\r\n        }\r\n        if (initOptions.locale !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__["expectString"](initOptions.locale, "initOptions.locale");\r\n            initOptions.locale = _Localization__WEBPACK_IMPORTED_MODULE_2__["validate"](initOptions.locale);\r\n        }\r\n        else {\r\n            initOptions.locale = "en";\r\n        }\r\n        if (initOptions.onError === undefined) {\r\n            initOptions.onError = function (err) { return; };\r\n        }\r\n        if (initOptions.petrolTimeout !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__["expectNumber"](initOptions.petrolTimeout, "initOptions.petrolTimeout");\r\n        }\r\n        this.eventSampling = this.parseEventSamplingOption(initOptions.eventSampling);\r\n        this.commonInitOptions = initOptions;\r\n        if (initOptions.isCommercialHost === undefined || initOptions.isCommercialHost == null) {\r\n            initOptions.isCommercialHost = false; // By default privacy consent is not shown. (From SDK\'s perspective)\r\n        }\r\n        else {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__["expectBoolean"](initOptions.isCommercialHost, "initOptions.isCommercialHost");\r\n        }\r\n    };\r\n    /**\r\n     * Set init options for inAppFeedback\r\n     */\r\n    Configuration.prototype.setInAppFeedbackInitOptions = function (passedInitOptions) {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_0__["expectObject"](passedInitOptions, "passedInitOptions");\r\n        var initOptions = {\r\n            bugForm: passedInitOptions.bugForm,\r\n            onDismiss: passedInitOptions.onDismiss,\r\n            screenshot: passedInitOptions.screenshot,\r\n            showEmailAddress: passedInitOptions.showEmailAddress,\r\n            userEmail: passedInitOptions.userEmail,\r\n            userVoice: passedInitOptions.userVoice !== undefined ?\r\n                {\r\n                    url: passedInitOptions.userVoice.url,\r\n                } :\r\n                undefined,\r\n            transitionEnabled: passedInitOptions.transitionEnabled,\r\n            isShowThanks: passedInitOptions.isShowThanks,\r\n        };\r\n        if (initOptions.onDismiss === undefined) {\r\n            initOptions.onDismiss = function (submitted) { return; };\r\n        }\r\n        if (initOptions.bugForm !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__["expectBoolean"](initOptions.bugForm, "initOptions.bugForm");\r\n        }\r\n        else {\r\n            initOptions.bugForm = false;\r\n        }\r\n        if (initOptions.userEmail !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__["expectString"](initOptions.userEmail, "initOptions.userEmail");\r\n        }\r\n        if (initOptions.screenshot !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__["expectBoolean"](initOptions.screenshot, "initOptions.screenshot");\r\n        }\r\n        else {\r\n            initOptions.screenshot = true;\r\n        }\r\n        if (initOptions.showEmailAddress !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__["expectBoolean"](initOptions.showEmailAddress, "initOptions.showEmailAddress");\r\n        }\r\n        else {\r\n            initOptions.showEmailAddress = true;\r\n        }\r\n        if (initOptions.userVoice !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__["expectObject"](initOptions.userVoice, "initOptions.userVoice");\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__["expectString"](initOptions.userVoice.url, "initOptions.userVoice.url");\r\n        }\r\n        if (initOptions.isShowThanks !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__["expectBoolean"](initOptions.isShowThanks, "initOptions.isShowThanks");\r\n        }\r\n        else {\r\n            initOptions.isShowThanks = false;\r\n        }\r\n        if (initOptions.transitionEnabled === undefined) {\r\n            initOptions.transitionEnabled = true;\r\n        }\r\n        this.inAppFeedbackInitOptions = initOptions;\r\n    };\r\n    /**\r\n     * Set launch options for inAppFeedback\r\n     */\r\n    Configuration.prototype.setInAppFeedbackLaunchOptions = function (launchOptions) {\r\n        if (!this.commonInitOptions) {\r\n            throw "commonInitOptions not set";\r\n        }\r\n        if (!launchOptions) {\r\n            launchOptions = {};\r\n        }\r\n        // Override any setting done in LaunchOptions for the metadataGroups\r\n        this.commonInitOptions.applicationGroup = _Utils__WEBPACK_IMPORTED_MODULE_0__["overrideValues"](launchOptions.applicationGroup, this.commonInitOptions.applicationGroup);\r\n        this.commonInitOptions.telemetryGroup = _Utils__WEBPACK_IMPORTED_MODULE_0__["overrideValues"](launchOptions.telemetryGroup, this.commonInitOptions.telemetryGroup);\r\n        this.commonInitOptions.webGroup = _Utils__WEBPACK_IMPORTED_MODULE_0__["overrideValues"](launchOptions.webGroup, this.commonInitOptions.webGroup);\r\n        launchOptions.categories = Configuration.validateCategoryOptions(launchOptions.categories);\r\n        this.inAppFeedbackLaunchOptions = launchOptions;\r\n    };\r\n    /**\r\n     * Set init options for floodgate\r\n     */\r\n    Configuration.prototype.setFloodgateInitOptions = function (passedInitOptions) {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_0__["expectObject"](passedInitOptions, "passedInitOptions");\r\n        var initOptions = {\r\n            autoDismiss: passedInitOptions.autoDismiss,\r\n            campaignDefinitions: passedInitOptions.campaignDefinitions,\r\n            campaignFlights: passedInitOptions.campaignFlights,\r\n            campaignQueryParameters: passedInitOptions.campaignQueryParameters,\r\n            onDismiss: passedInitOptions.onDismiss,\r\n            onSurveyActivatedCallback: passedInitOptions.onSurveyActivatedCallback,\r\n            settingStorageCallback: passedInitOptions.settingStorageCallback,\r\n            uIStringGetter: passedInitOptions.uIStringGetter,\r\n            authTokenCallback: passedInitOptions.authTokenCallback,\r\n            surveyEnabled: passedInitOptions.surveyEnabled,\r\n            showEmailAddress: passedInitOptions.showEmailAddress,\r\n            augLoopCallback: passedInitOptions.augLoopCallback,\r\n        };\r\n        if (initOptions.autoDismiss === undefined) {\r\n            initOptions.autoDismiss = 0 /* NoAutoDismiss */;\r\n        }\r\n        if (initOptions.onDismiss === undefined) {\r\n            initOptions.onDismiss = function (campaignId, submitted) { return; };\r\n        }\r\n        if (initOptions.onSurveyActivatedCallback === undefined) {\r\n            var defaultOnSurveyActivatedCallback = {\r\n                onSurveyActivated: function (launcher) {\r\n                    launcher.launch();\r\n                },\r\n            };\r\n            initOptions.onSurveyActivatedCallback = defaultOnSurveyActivatedCallback;\r\n        }\r\n        if (initOptions.uIStringGetter === undefined) {\r\n            initOptions.uIStringGetter = function (str) { return str; }; // By default return the string as is.\r\n        }\r\n        if (initOptions.surveyEnabled === undefined) {\r\n            initOptions.surveyEnabled = true; // By default surveys are enabled. (From SDK\'s perspective)\r\n        }\r\n        else {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__["expectBoolean"](initOptions.surveyEnabled, "surveyEnabled");\r\n        }\r\n        if (initOptions.showEmailAddress !== undefined) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_0__["expectBoolean"](initOptions.showEmailAddress, "initOptionsFloodgate.showEmailAddress");\r\n        }\r\n        else {\r\n            initOptions.showEmailAddress = true; // By default email field and collection is enabled. (From SDK\'s perspective)\r\n        }\r\n        this.floodgateInitOptions = initOptions;\r\n    };\r\n    /**\r\n     * Set the floodgate survey\r\n     */\r\n    Configuration.prototype.setFloodgateSurvey = function (survey) {\r\n        this.floodgateSurvey = survey;\r\n    };\r\n    // Checks if the surveyEnabled policy is true or false.\r\n    Configuration.prototype.checkIfSurveysEnabled = function () {\r\n        // If no floodgateInitOptions defined, return true for surveyEnabled\r\n        return this.floodgateInitOptions ? this.floodgateInitOptions.surveyEnabled : true;\r\n    };\r\n    Configuration.prototype.parseEventSamplingOption = function (samplingOptions) {\r\n        var eventInitSampling = { event: {} };\r\n        if (samplingOptions !== undefined) {\r\n            // Iterating through init options\r\n            for (var index in samplingOptions) {\r\n                if (samplingOptions.hasOwnProperty(index)) {\r\n                    // Check for correct Type\r\n                    switch (samplingOptions[index].type) {\r\n                        case "Event":\r\n                            // Parsing the Name and SampleRate\r\n                            var sampleRate = samplingOptions[index].sampleRate;\r\n                            _Utils__WEBPACK_IMPORTED_MODULE_0__["expectNumber"](sampleRate, "initOption.EventSampling.SampleRate");\r\n                            _Utils__WEBPACK_IMPORTED_MODULE_0__["expectString"](samplingOptions[index].name, "initOption.EventSampling.Name");\r\n                            // check the range for sampling percentage\r\n                            if (sampleRate < 0 || sampleRate > 1) {\r\n                                throw "initOption.EventSampling." + samplingOptions[index].name + ".SampleRate is out of range";\r\n                            }\r\n                            // finally, save the sampling event\r\n                            eventInitSampling.event[samplingOptions[index].name] = sampleRate;\r\n                            break;\r\n                        default:\r\n                            throw "initOption.EventSampling.Type value is not recognized";\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return eventInitSampling;\r\n    };\r\n    return Configuration;\r\n}());\r\n\r\nvar configuration = new Configuration();\r\n/**\r\n * Get the current configuration\r\n */\r\nfunction get() {\r\n    return configuration;\r\n}\r\n/**\r\n * Validate feedbackType\r\n * @param feedbackType feedbackType\r\n * @returns {Constants.FeedbackType} the validated feedbackType\r\n */\r\nfunction validateFeedbackType(feedbackType) {\r\n    _Utils__WEBPACK_IMPORTED_MODULE_0__["expectString"](feedbackType, "feedbackType");\r\n    if (feedbackType === _Constants__WEBPACK_IMPORTED_MODULE_1__["FeedbackType"][_Constants__WEBPACK_IMPORTED_MODULE_1__["FeedbackType"].Smile]) {\r\n        return _Constants__WEBPACK_IMPORTED_MODULE_1__["FeedbackType"].Smile;\r\n    }\r\n    else if (feedbackType === _Constants__WEBPACK_IMPORTED_MODULE_1__["FeedbackType"][_Constants__WEBPACK_IMPORTED_MODULE_1__["FeedbackType"].Frown]) {\r\n        return _Constants__WEBPACK_IMPORTED_MODULE_1__["FeedbackType"].Frown;\r\n    }\r\n    else if (feedbackType === _Constants__WEBPACK_IMPORTED_MODULE_1__["FeedbackType"][_Constants__WEBPACK_IMPORTED_MODULE_1__["FeedbackType"].Bug]) {\r\n        return _Constants__WEBPACK_IMPORTED_MODULE_1__["FeedbackType"].Bug;\r\n    }\r\n    else {\r\n        throw "feedbackType should be one of Smile, Frown or Bug";\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Db25maWd1cmF0aW9uL0NvbmZpZ3VyYXRpb24udHM/MWQwMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0dBSUc7QUFFaUM7QUFDUTtBQUNNO0FBT25CO0FBQ0U7QUFFakM7O0dBRUc7QUFFSDtJQUFBO0lBK1hBLENBQUM7SUE5WEE7Ozs7T0FJRztJQUNZLHFDQUF1QixHQUF0QyxVQUF1QyxVQUE2QjtRQUNuRSxJQUFJLENBQUMsVUFBVSxFQUFFO1lBQ2hCLE9BQU8sRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLENBQUM7U0FDdkI7UUFFRCxvREFBbUIsQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLGlCQUFpQixDQUFDLENBQUM7UUFDeEQsSUFBSSxVQUFVLENBQUMsZ0JBQWdCLEVBQUU7WUFDaEMsa0RBQWlCLENBQUMsVUFBVSxDQUFDLGdCQUFnQixFQUFFLDZCQUE2QixDQUFDLENBQUM7WUFFOUUsS0FBMkIsVUFBMkIsRUFBM0IsZUFBVSxDQUFDLGdCQUFnQixFQUEzQixjQUEyQixFQUEzQixJQUEyQixFQUFFO2dCQUFuRCxJQUFJLGNBQWM7Z0JBQ3RCLG1EQUFrQixDQUFDLGNBQWMsRUFBRSxtQkFBbUIsR0FBRyxjQUFjLEdBQUcsR0FBRyxDQUFDLENBQUM7Z0JBQy9FLElBQUksY0FBYyxDQUFDLE1BQU0sR0FBRyxFQUFFLEVBQUU7b0JBQy9CLE1BQU0sbUJBQW1CLEdBQUcsY0FBYyxHQUFHLGdDQUFnQyxDQUFDO2lCQUM5RTthQUNEO1NBQ0Q7UUFFRCxPQUFPLFVBQVUsQ0FBQztJQUNuQixDQUFDO0lBY00sNENBQW9CLEdBQTNCO1FBQ0MsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUM7SUFDL0IsQ0FBQztJQUVNLG1EQUEyQixHQUFsQztRQUNDLE9BQU8sSUFBSSxDQUFDLHdCQUF3QixDQUFDO0lBQ3RDLENBQUM7SUFFTSxxREFBNkIsR0FBcEM7UUFDQyxPQUFPLElBQUksQ0FBQywwQkFBMEIsQ0FBQztJQUN4QyxDQUFDO0lBRU0sK0NBQXVCLEdBQTlCO1FBQ0MsT0FBTyxJQUFJLENBQUMsb0JBQW9CLENBQUM7SUFDbEMsQ0FBQztJQUVNLDBDQUFrQixHQUF6QjtRQUNDLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQztJQUM3QixDQUFDO0lBRU0sdUNBQWUsR0FBdEI7UUFDQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRTtZQUN2QixJQUFJLENBQUMsWUFBWSxHQUFHLDJDQUFVLEVBQUUsQ0FBQztTQUNqQztRQUVELE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQztJQUMxQixDQUFDO0lBRU0sd0NBQWdCLEdBQXZCO1FBQ0MsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDO0lBQzNCLENBQUM7SUFFRDs7T0FFRztJQUNJLDRDQUFvQixHQUEzQixVQUE0QixpQkFBa0Q7UUFDN0UsbURBQWtCLENBQUMsaUJBQWlCLEVBQUUsbUJBQW1CLENBQUMsQ0FBQztRQUMzRCxJQUFJLFdBQVcsR0FBb0M7WUFDbEQsS0FBSyxFQUFFLGlCQUFpQixDQUFDLEtBQUs7WUFDOUIsZ0JBQWdCLEVBQUUsaUJBQWlCLENBQUMsZ0JBQWdCLElBQUksRUFBRTtZQUMxRCxLQUFLLEVBQUUsaUJBQWlCLENBQUMsS0FBSztZQUM5QixHQUFHLEVBQUUsaUJBQWlCLENBQUMsR0FBRztZQUMxQixXQUFXLEVBQUUsaUJBQWlCLENBQUMsV0FBVztZQUMxQyxZQUFZLEVBQUUsaUJBQWlCLENBQUMsWUFBWTtZQUM1QyxPQUFPLEVBQUUsaUJBQWlCLENBQUMsT0FBTztZQUNsQywwQkFBMEIsRUFBRSxpQkFBaUIsQ0FBQywwQkFBMEI7WUFDeEUsTUFBTSxFQUFFLGlCQUFpQixDQUFDLE1BQU07WUFDaEMsT0FBTyxFQUFFLGlCQUFpQixDQUFDLE9BQU87WUFDbEMsY0FBYyxFQUFFLGlCQUFpQixDQUFDLE1BQU07WUFDeEMsYUFBYSxFQUFFLGlCQUFpQixDQUFDLGFBQWE7WUFDOUMsZUFBZSxFQUFFLGlCQUFpQixDQUFDLGVBQWU7WUFDbEQsU0FBUyxFQUFFLGlCQUFpQixDQUFDLFNBQVM7WUFDdEMsU0FBUyxFQUFFLGlCQUFpQixDQUFDLFNBQVM7WUFDdEMsY0FBYyxFQUFFLGlCQUFpQixDQUFDLGNBQWMsSUFBSSxFQUFFO1lBQ3RELFNBQVMsRUFBRSxpQkFBaUIsQ0FBQyxTQUFTO1lBQ3RDLHVCQUF1QixFQUFFLGlCQUFpQixDQUFDLHVCQUF1QjtZQUNsRSxRQUFRLEVBQUUsaUJBQWlCLENBQUMsUUFBUSxJQUFJLEVBQUU7WUFDMUMsYUFBYSxFQUFFLGlCQUFpQixDQUFDLGFBQWE7WUFDOUMsYUFBYSxFQUFFLGlCQUFpQixDQUFDLGFBQWE7WUFDOUMsZ0JBQWdCLEVBQUUsaUJBQWlCLENBQUMsZ0JBQWdCO1NBQ3BELENBQUM7UUFFRixtREFBa0IsQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLG1CQUFtQixDQUFDLENBQUM7UUFDM0QsSUFBSSxDQUFDLENBQUMsV0FBVyxDQUFDLEtBQUssR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLFdBQVcsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEVBQUU7WUFDNUQsTUFBTSwrQ0FBK0MsR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDO1NBQzFFO1FBRUQsbURBQWtCLENBQUMsV0FBVyxDQUFDLFNBQVMsRUFBRSx1QkFBdUIsQ0FBQyxDQUFDO1FBQ25FLG1EQUFrQixDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUscUJBQXFCLENBQUMsQ0FBQztRQUUvRCxJQUFJLFdBQVcsQ0FBQyxZQUFZLEtBQUssU0FBUyxFQUFFO1lBQzNDLG1EQUFrQixDQUFDLFdBQVcsQ0FBQyxZQUFZLEVBQUUsMEJBQTBCLENBQUMsQ0FBQztTQUN6RTthQUFNO1lBQ04sV0FBVyxDQUFDLFlBQVksR0FBRyxpQ0FBaUMsQ0FBQztTQUM3RDtRQUVELG1EQUFrQixDQUFDLFdBQVcsQ0FBQyxXQUFXLEVBQUUseUJBQXlCLENBQUMsQ0FBQztRQUN2RSxJQUFJLENBQUMsQ0FBQyxXQUFXLENBQUMsV0FBVyxLQUFLLENBQUMsSUFBSSxXQUFXLENBQUMsV0FBVyxLQUFLLENBQUMsQ0FBQyxFQUFFO1lBQ3RFLE1BQU0sMkNBQTJDLEdBQUcsV0FBVyxDQUFDLFdBQVcsQ0FBQztTQUM1RTtRQUVELElBQUksV0FBVyxDQUFDLFNBQVMsS0FBSyxTQUFTLEVBQUU7WUFDeEMsbURBQWtCLENBQUMsV0FBVyxDQUFDLFNBQVMsRUFBRSx1QkFBdUIsQ0FBQyxDQUFDO1NBQ25FO1FBRUQsSUFBSSxXQUFXLENBQUMsdUJBQXVCLEtBQUssU0FBUyxFQUFFO1lBQ3RELG9EQUFtQixDQUFDLFdBQVcsQ0FBQyx1QkFBdUIsRUFBRSxxQ0FBcUMsQ0FBQyxDQUFDO1NBQ2hHO1FBRUQsSUFBSSxXQUFXLENBQUMsU0FBUyxLQUFLLFNBQVMsRUFBRTtZQUN4QyxtREFBa0IsQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFLHVCQUF1QixDQUFDLENBQUM7U0FDbkU7YUFBTTtZQUNOLFdBQVcsQ0FBQyxTQUFTLEdBQUcsc0NBQXNDLENBQUM7U0FDL0Q7UUFFRCx3Q0FBd0M7UUFDeEMsV0FBVyxDQUFDLGNBQWMsQ0FBQyxnQkFBZ0IsR0FBRyxXQUFXLENBQUMsU0FBUyxDQUFDO1FBRXBFLElBQUksV0FBVyxDQUFDLEdBQUcsS0FBSyxTQUFTLEVBQUU7WUFDbEMsbURBQWtCLENBQUMsV0FBVyxDQUFDLEdBQUcsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO1lBRXZELDREQUE0RDtZQUM1RCxXQUFXLENBQUMsZ0JBQWdCLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxXQUFXLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztTQUM3RjtRQUVELElBQUksV0FBVyxDQUFDLEtBQUssS0FBSyxTQUFTLEVBQUU7WUFDcEMsbURBQWtCLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO1lBQzNELElBQUksVUFBVSxHQUFHLDhEQUE4RCxDQUFDO1lBQ2hGLElBQUksQ0FBQyxJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxFQUFFO2dCQUNwRCxXQUFXLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQzthQUM5QjtTQUNEO2FBQU07WUFDTixXQUFXLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQztTQUM5QjtRQUNELG9DQUFvQztRQUNwQyxXQUFXLENBQUMsY0FBYyxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDO1FBRTNELElBQUksY0FBYyxHQUFHLElBQUksTUFBTSxDQUFDLDhCQUE4QixFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ3JFLElBQUksV0FBVyxDQUFDLGFBQWEsS0FBSyxTQUFTLEVBQUU7WUFDNUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLGFBQWEsQ0FBQyxFQUFFO2dCQUNwRCxXQUFXLENBQUMsYUFBYSxHQUFHLFNBQVMsQ0FBQzthQUN0QztTQUNEO1FBRUQsSUFBSSxXQUFXLENBQUMsZUFBZSxLQUFLLFNBQVMsRUFBRTtZQUM5QyxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsZUFBZSxDQUFDLEVBQUU7Z0JBQ3RELFdBQVcsQ0FBQyxlQUFlLEdBQUcsU0FBUyxDQUFDO2FBQ3hDO1NBQ0Q7UUFFRCxJQUFJLFdBQVcsQ0FBQyxNQUFNLEtBQUssU0FBUyxFQUFFO1lBQ3JDLG1EQUFrQixDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsb0JBQW9CLENBQUMsQ0FBQztZQUM3RCxXQUFXLENBQUMsTUFBTSxHQUFHLHNEQUFxQixDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUMvRDthQUFNO1lBQ04sV0FBVyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7U0FDMUI7UUFFRCxJQUFJLFdBQVcsQ0FBQyxPQUFPLEtBQUssU0FBUyxFQUFFO1lBQ3RDLFdBQVcsQ0FBQyxPQUFPLEdBQUcsVUFBQyxHQUFXLElBQU8sT0FBTyxDQUFDLENBQUMsQ0FBQztTQUNuRDtRQUVELElBQUksV0FBVyxDQUFDLGFBQWEsS0FBSyxTQUFTLEVBQUU7WUFDNUMsbURBQWtCLENBQUMsV0FBVyxDQUFDLGFBQWEsRUFBRSwyQkFBMkIsQ0FBQyxDQUFDO1NBQzNFO1FBRUQsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsd0JBQXdCLENBQUMsV0FBVyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBRTlFLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxXQUFXLENBQUM7UUFFckMsSUFBSSxXQUFXLENBQUMsZ0JBQWdCLEtBQUssU0FBUyxJQUFJLFdBQVcsQ0FBQyxnQkFBZ0IsSUFBSSxJQUFJLEVBQUU7WUFDdkYsV0FBVyxDQUFDLGdCQUFnQixHQUFHLEtBQUssQ0FBQyxDQUFDLG9FQUFvRTtTQUMxRzthQUFNO1lBQ04sb0RBQW1CLENBQUMsV0FBVyxDQUFDLGdCQUFnQixFQUFFLDhCQUE4QixDQUFDLENBQUM7U0FDbEY7SUFDRixDQUFDO0lBRUQ7O09BRUc7SUFDSSxtREFBMkIsR0FBbEMsVUFBbUMsaUJBQXlEO1FBQzNGLG1EQUFrQixDQUFDLGlCQUFpQixFQUFFLG1CQUFtQixDQUFDLENBQUM7UUFFM0QsSUFBSSxXQUFXLEdBQTJDO1lBQ3pELE9BQU8sRUFBRSxpQkFBaUIsQ0FBQyxPQUFPO1lBQ2xDLFNBQVMsRUFBRSxpQkFBaUIsQ0FBQyxTQUFTO1lBQ3RDLFVBQVUsRUFBRSxpQkFBaUIsQ0FBQyxVQUFVO1lBQ3hDLGdCQUFnQixFQUFFLGlCQUFpQixDQUFDLGdCQUFnQjtZQUNwRCxTQUFTLEVBQUUsaUJBQWlCLENBQUMsU0FBUztZQUN0QyxTQUFTLEVBQUUsaUJBQWlCLENBQUMsU0FBUyxLQUFLLFNBQVMsQ0FBQyxDQUFDO2dCQUNyRDtvQkFDQyxHQUFHLEVBQUUsaUJBQWlCLENBQUMsU0FBUyxDQUFDLEdBQUc7aUJBQ3BDLENBQUMsQ0FBQztnQkFDSCxTQUFTO1lBQ1QsaUJBQWlCLEVBQUUsaUJBQWlCLENBQUMsaUJBQWlCO1lBQ3ZELFlBQVksRUFBRSxpQkFBaUIsQ0FBQyxZQUFZO1NBQzVDLENBQUM7UUFFRixJQUFJLFdBQVcsQ0FBQyxTQUFTLEtBQUssU0FBUyxFQUFFO1lBQ3hDLFdBQVcsQ0FBQyxTQUFTLEdBQUcsVUFBVSxTQUFrQixJQUFJLE9BQU8sQ0FBQyxDQUFDLENBQUM7U0FDbEU7UUFFRCxJQUFJLFdBQVcsQ0FBQyxPQUFPLEtBQUssU0FBUyxFQUFFO1lBQ3RDLG9EQUFtQixDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUscUJBQXFCLENBQUMsQ0FBQztTQUNoRTthQUFNO1lBQ04sV0FBVyxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7U0FDNUI7UUFFRCxJQUFJLFdBQVcsQ0FBQyxTQUFTLEtBQUssU0FBUyxFQUFFO1lBQ3hDLG1EQUFrQixDQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUUsdUJBQXVCLENBQUMsQ0FBQztTQUNuRTtRQUVELElBQUksV0FBVyxDQUFDLFVBQVUsS0FBSyxTQUFTLEVBQUU7WUFDekMsb0RBQW1CLENBQUMsV0FBVyxDQUFDLFVBQVUsRUFBRSx3QkFBd0IsQ0FBQyxDQUFDO1NBQ3RFO2FBQU07WUFDTixXQUFXLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztTQUM5QjtRQUVELElBQUksV0FBVyxDQUFDLGdCQUFnQixLQUFLLFNBQVMsRUFBRTtZQUMvQyxvREFBbUIsQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLEVBQUUsOEJBQThCLENBQUMsQ0FBQztTQUNsRjthQUFNO1lBQ04sV0FBVyxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQztTQUNwQztRQUVELElBQUksV0FBVyxDQUFDLFNBQVMsS0FBSyxTQUFTLEVBQUU7WUFDeEMsbURBQWtCLENBQUMsV0FBVyxDQUFDLFNBQVMsRUFBRSx1QkFBdUIsQ0FBQyxDQUFDO1lBQ25FLG1EQUFrQixDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLDJCQUEyQixDQUFDLENBQUM7U0FDM0U7UUFFRCxJQUFJLFdBQVcsQ0FBQyxZQUFZLEtBQUssU0FBUyxFQUFFO1lBQzNDLG9EQUFtQixDQUFDLFdBQVcsQ0FBQyxZQUFZLEVBQUUsMEJBQTBCLENBQUMsQ0FBQztTQUMxRTthQUFNO1lBQ04sV0FBVyxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUM7U0FDakM7UUFFRCxJQUFJLFdBQVcsQ0FBQyxpQkFBaUIsS0FBSyxTQUFTLEVBQUU7WUFDaEQsV0FBVyxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQztTQUNyQztRQUVELElBQUksQ0FBQyx3QkFBd0IsR0FBRyxXQUFXLENBQUM7SUFDN0MsQ0FBQztJQUVEOztPQUVHO0lBQ0kscURBQTZCLEdBQXBDLFVBQXFDLGFBQTBEO1FBQzlGLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUU7WUFDNUIsTUFBTSwyQkFBMkIsQ0FBQztTQUNsQztRQUVELElBQUksQ0FBQyxhQUFhLEVBQUU7WUFDbkIsYUFBYSxHQUFHLEVBQUUsQ0FBQztTQUNuQjtRQUVELG9FQUFvRTtRQUNwRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsZ0JBQWdCLEdBQUcscURBQW9CLENBQUMsYUFBYSxDQUFDLGdCQUFnQixFQUM1RixJQUFJLENBQUMsaUJBQWlCLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUMxQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsY0FBYyxHQUFHLHFEQUFvQixDQUFDLGFBQWEsQ0FBQyxjQUFjLEVBQ3hGLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUN4QyxJQUFJLENBQUMsaUJBQWlCLENBQUMsUUFBUSxHQUFHLHFEQUFvQixDQUFDLGFBQWEsQ0FBQyxRQUFRLEVBQzVFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUVsQyxhQUFhLENBQUMsVUFBVSxHQUFHLGFBQWEsQ0FBQyx1QkFBdUIsQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLENBQUM7UUFFM0YsSUFBSSxDQUFDLDBCQUEwQixHQUFHLGFBQWEsQ0FBQztJQUNqRCxDQUFDO0lBRUQ7O09BRUc7SUFDSSwrQ0FBdUIsR0FBOUIsVUFBK0IsaUJBQXFEO1FBQ25GLG1EQUFrQixDQUFDLGlCQUFpQixFQUFFLG1CQUFtQixDQUFDLENBQUM7UUFFM0QsSUFBSSxXQUFXLEdBQXVDO1lBQ3JELFdBQVcsRUFBRSxpQkFBaUIsQ0FBQyxXQUFXO1lBQzFDLG1CQUFtQixFQUFFLGlCQUFpQixDQUFDLG1CQUFtQjtZQUMxRCxlQUFlLEVBQUUsaUJBQWlCLENBQUMsZUFBZTtZQUNsRCx1QkFBdUIsRUFBRSxpQkFBaUIsQ0FBQyx1QkFBdUI7WUFDbEUsU0FBUyxFQUFFLGlCQUFpQixDQUFDLFNBQVM7WUFDdEMseUJBQXlCLEVBQUUsaUJBQWlCLENBQUMseUJBQXlCO1lBQ3RFLHNCQUFzQixFQUFFLGlCQUFpQixDQUFDLHNCQUFzQjtZQUNoRSxjQUFjLEVBQUUsaUJBQWlCLENBQUMsY0FBYztZQUNoRCxpQkFBaUIsRUFBRSxpQkFBaUIsQ0FBQyxpQkFBaUI7WUFDdEQsYUFBYSxFQUFFLGlCQUFpQixDQUFDLGFBQWE7WUFDOUMsZ0JBQWdCLEVBQUUsaUJBQWlCLENBQUMsZ0JBQWdCO1lBQ3BELGVBQWUsRUFBRSxpQkFBaUIsQ0FBQyxlQUFlO1NBQ2xELENBQUM7UUFFRixJQUFJLFdBQVcsQ0FBQyxXQUFXLEtBQUssU0FBUyxFQUFFO1lBQzFDLFdBQVcsQ0FBQyxXQUFXLHdCQUE0QyxDQUFDO1NBQ3BFO1FBRUQsSUFBSSxXQUFXLENBQUMsU0FBUyxLQUFLLFNBQVMsRUFBRTtZQUN4QyxXQUFXLENBQUMsU0FBUyxHQUFHLFVBQUMsVUFBa0IsRUFBRSxTQUFrQixJQUFPLE9BQU8sQ0FBQyxDQUFDLENBQUM7U0FDaEY7UUFFRCxJQUFJLFdBQVcsQ0FBQyx5QkFBeUIsS0FBSyxTQUFTLEVBQUU7WUFDeEQsSUFBSSxnQ0FBZ0MsR0FBK0I7Z0JBQ2xFLGlCQUFpQixFQUFqQixVQUFrQixRQUF5QjtvQkFDMUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDO2dCQUNuQixDQUFDO2FBQ0QsQ0FBQztZQUVGLFdBQVcsQ0FBQyx5QkFBeUIsR0FBRyxnQ0FBZ0MsQ0FBQztTQUN6RTtRQUVELElBQUksV0FBVyxDQUFDLGNBQWMsS0FBSyxTQUFTLEVBQUU7WUFDN0MsV0FBVyxDQUFDLGNBQWMsR0FBRyxVQUFDLEdBQVcsSUFBSyxVQUFHLEVBQUgsQ0FBRyxDQUFDLENBQUMsc0NBQXNDO1NBQ3pGO1FBRUQsSUFBSSxXQUFXLENBQUMsYUFBYSxLQUFLLFNBQVMsRUFBRTtZQUM1QyxXQUFXLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxDQUFDLDJEQUEyRDtTQUM3RjthQUFNO1lBQ04sb0RBQW1CLENBQUMsV0FBVyxDQUFDLGFBQWEsRUFBRSxlQUFlLENBQUMsQ0FBQztTQUNoRTtRQUVELElBQUksV0FBVyxDQUFDLGdCQUFnQixLQUFLLFNBQVMsRUFBRTtZQUMvQyxvREFBbUIsQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLEVBQUUsdUNBQXVDLENBQUMsQ0FBQztTQUMzRjthQUFNO1lBQ04sV0FBVyxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxDQUFFLDZFQUE2RTtTQUNuSDtRQUVELElBQUksQ0FBQyxvQkFBb0IsR0FBRyxXQUFXLENBQUM7SUFDekMsQ0FBQztJQUVEOztPQUVHO0lBQ0ksMENBQWtCLEdBQXpCLFVBQTBCLE1BQWlCO1FBQzFDLElBQUksQ0FBQyxlQUFlLEdBQUcsTUFBTSxDQUFDO0lBQy9CLENBQUM7SUFFRCx1REFBdUQ7SUFDaEQsNkNBQXFCLEdBQTVCO1FBQ0Msb0VBQW9FO1FBQ3BFLE9BQU8sSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7SUFDbkYsQ0FBQztJQUVPLGdEQUF3QixHQUFoQyxVQUFpQyxlQUE4QztRQUM5RSxJQUFJLGlCQUFpQixHQUFxQyxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsQ0FBQztRQUN4RSxJQUFJLGVBQWUsS0FBSyxTQUFTLEVBQUU7WUFDbEMsaUNBQWlDO1lBQ2pDLEtBQUssSUFBTSxLQUFLLElBQUksZUFBZSxFQUFFO2dCQUNwQyxJQUFJLGVBQWUsQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLEVBQUU7b0JBQzFDLHlCQUF5QjtvQkFDekIsUUFBUSxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxFQUFFO3dCQUNwQyxLQUFLLE9BQU87NEJBQ1gsa0NBQWtDOzRCQUNsQyxJQUFJLFVBQVUsR0FBRyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUMsVUFBVSxDQUFDOzRCQUNuRCxtREFBa0IsQ0FBQyxVQUFVLEVBQUUscUNBQXFDLENBQUMsQ0FBQzs0QkFDdEUsbURBQWtCLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksRUFBRSwrQkFBK0IsQ0FBQyxDQUFDOzRCQUNqRiwwQ0FBMEM7NEJBQzFDLElBQUksVUFBVSxHQUFHLENBQUMsSUFBSSxVQUFVLEdBQUcsQ0FBQyxFQUFFO2dDQUNyQyxNQUFNLDJCQUEyQixHQUFHLGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLEdBQUcsNkJBQTZCLENBQUM7NkJBQ2hHOzRCQUNELG1DQUFtQzs0QkFDbkMsaUJBQWlCLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxVQUFVLENBQUM7NEJBQ2xFLE1BQU07d0JBQ1A7NEJBQ0MsTUFBTSx1REFBdUQsQ0FBQztxQkFDL0Q7aUJBQ0Q7YUFDRDtTQUNEO1FBQ0QsT0FBTyxpQkFBaUIsQ0FBQztJQUMxQixDQUFDO0lBQ0Ysb0JBQUM7QUFBRCxDQUFDOztBQUVELElBQUksYUFBYSxHQUFrQixJQUFJLGFBQWEsRUFBRSxDQUFDO0FBRXZEOztHQUVHO0FBQ0ksU0FBUyxHQUFHO0lBQ2xCLE9BQU8sYUFBYSxDQUFDO0FBQ3RCLENBQUM7QUFFRDs7OztHQUlHO0FBQ0ksU0FBUyxvQkFBb0IsQ0FBQyxZQUFvQjtJQUN4RCxtREFBa0IsQ0FBQyxZQUFZLEVBQUUsY0FBYyxDQUFDLENBQUM7SUFFakQsSUFBSSxZQUFZLEtBQUssdURBQXNCLENBQUMsdURBQXNCLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDMUUsT0FBTyx1REFBc0IsQ0FBQyxLQUFLLENBQUM7S0FDcEM7U0FBTSxJQUFJLFlBQVksS0FBSyx1REFBc0IsQ0FBQyx1REFBc0IsQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUNqRixPQUFPLHVEQUFzQixDQUFDLEtBQUssQ0FBQztLQUNwQztTQUFNLElBQUksWUFBWSxLQUFLLHVEQUFzQixDQUFDLHVEQUFzQixDQUFDLEdBQUcsQ0FBQyxFQUFFO1FBQy9FLE9BQU8sdURBQXNCLENBQUMsR0FBRyxDQUFDO0tBQ2xDO1NBQU07UUFDTixNQUFNLG1EQUFtRCxDQUFDO0tBQzFEO0FBQ0YsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0NvbmZpZ3VyYXRpb24vQ29uZmlndXJhdGlvbi50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb25maWd1cmF0aW9uLnRzXHJcbiAqXHJcbiAqIE1vZHVsZSBmb3IgbG9naWMgcmVsYXRpbmcgdG8gdGhlIHNkayB1c2VyIGNvbmZpZ3VyYXRpb25cclxuICovXHJcblxyXG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tIFwiLi8uLi9VdGlsc1wiO1xyXG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSBcIi4vLi4vQ29uc3RhbnRzXCI7XHJcbmltcG9ydCAqIGFzIExvY2FsaXphdGlvbiBmcm9tIFwiLi8uLi9Mb2NhbGl6YXRpb25cIjtcclxuaW1wb3J0IHsgSUNhdGVnb3J5T3B0aW9ucyB9IGZyb20gXCIuL0lDYXRlZ29yeU9wdGlvbnNcIjtcclxuaW1wb3J0ICogYXMgSUluaXRPcHRpb25zIGZyb20gXCIuL0lJbml0T3B0aW9uc1wiO1xyXG5pbXBvcnQgKiBhcyBJTGF1bmNoT3B0aW9ucyBmcm9tIFwiLi9JTGF1bmNoT3B0aW9uc1wiO1xyXG5pbXBvcnQgSVVJU3VydmV5IGZyb20gXCIuLy4uL0Zsb29kZ2F0ZUNvcmUvVUlTdXJ2ZXkvSVVJU3VydmV5XCI7XHJcbmltcG9ydCB7IElPblN1cnZleUFjdGl2YXRlZENhbGxiYWNrLCBJU3VydmV5TGF1bmNoZXIgfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0FwaS9BcGlcIjtcclxuXHJcbmV4cG9ydCAqIGZyb20gXCIuL0lJbml0T3B0aW9uc1wiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9JTGF1bmNoT3B0aW9uc1wiO1xyXG5cclxuLyoqXHJcbiAqIENsYXNzIHJlcHJlc2VudGluZyBhIGNvbmZpZ3VyYXRpb24gKHVzZXIgcHJvdmlkZWQgb3B0aW9ucylcclxuICovXHJcblxyXG5leHBvcnQgY2xhc3MgQ29uZmlndXJhdGlvbiB7XHJcblx0LyoqXHJcblx0ICogVmFsaWRhdGUgY2F0ZWdvcnkgb3B0aW9ucywgZGVmYXVsdCBcInNob3dcIiB0byBmYWxzZSBpZiBDYXRlZ29yeU9wdGlvbnMgaXMgbm90IHByb3ZpZGVkLlxyXG5cdCAqIEBwYXJhbSBjYXRlZ29yaWVzIENhdGVnb3J5IG9wdGlvbnNcclxuXHQgKiBAcmV0dXJucyB7SUNhdGVnb3J5T3B0aW9uc30gdGhlIHZhbGlkYXRlZCBDYXRlZ29yeU9wdGlvbnNcclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXRpYyB2YWxpZGF0ZUNhdGVnb3J5T3B0aW9ucyhjYXRlZ29yaWVzPzogSUNhdGVnb3J5T3B0aW9ucyk6IElDYXRlZ29yeU9wdGlvbnMge1xyXG5cdFx0aWYgKCFjYXRlZ29yaWVzKSB7XHJcblx0XHRcdHJldHVybiB7IHNob3c6IGZhbHNlIH07XHJcblx0XHR9XHJcblxyXG5cdFx0VXRpbHMuZXhwZWN0Qm9vbGVhbihjYXRlZ29yaWVzLnNob3csIFwiY2F0ZWdvcmllcy5zaG93XCIpO1xyXG5cdFx0aWYgKGNhdGVnb3JpZXMuY3VzdG9tQ2F0ZWdvcmllcykge1xyXG5cdFx0XHRVdGlscy5leHBlY3RBcnJheShjYXRlZ29yaWVzLmN1c3RvbUNhdGVnb3JpZXMsIFwiY2F0ZWdvcmllcy5jdXN0b21DYXRlZ29yaWVzXCIpO1xyXG5cclxuXHRcdFx0Zm9yIChsZXQgY3VzdG9tQ2F0ZWdvcnkgb2YgY2F0ZWdvcmllcy5jdXN0b21DYXRlZ29yaWVzKSB7XHJcblx0XHRcdFx0VXRpbHMuZXhwZWN0U3RyaW5nKGN1c3RvbUNhdGVnb3J5LCBcImN1c3RvbSBjYXRlZ29yeSAnXCIgKyBjdXN0b21DYXRlZ29yeSArIFwiJ1wiKTtcclxuXHRcdFx0XHRpZiAoY3VzdG9tQ2F0ZWdvcnkubGVuZ3RoID4gMjApIHtcclxuXHRcdFx0XHRcdHRocm93IFwiY3VzdG9tIGNhdGVnb3J5ICdcIiArIGN1c3RvbUNhdGVnb3J5ICsgXCInIHRvbyBsb25nLCBtYXggMjAgY2hhcmFjdGVycy5cIjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gY2F0ZWdvcmllcztcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY29tbW9uSW5pdE9wdGlvbnM6IElJbml0T3B0aW9ucy5JSW5pdE9wdGlvbnNDb21tb247XHJcblxyXG5cdHByaXZhdGUgaW5BcHBGZWVkYmFja0luaXRPcHRpb25zOiBJSW5pdE9wdGlvbnMuSUluaXRPcHRpb25zSW5BcHBGZWVkYmFjaztcclxuXHRwcml2YXRlIGluQXBwRmVlZGJhY2tMYXVuY2hPcHRpb25zOiBJTGF1bmNoT3B0aW9ucy5JTGF1bmNoT3B0aW9uc0luQXBwRmVlZGJhY2s7XHJcblxyXG5cdHByaXZhdGUgZmxvb2RnYXRlSW5pdE9wdGlvbnM6IElJbml0T3B0aW9ucy5JSW5pdE9wdGlvbnNGbG9vZGdhdGU7XHJcblx0cHJpdmF0ZSBmbG9vZGdhdGVTdXJ2ZXk6IElVSVN1cnZleTtcclxuXHJcblx0cHJpdmF0ZSBzZGtTZXNzaW9uSWQ6IHN0cmluZztcclxuXHJcblx0cHJpdmF0ZSBldmVudFNhbXBsaW5nOiBJSW5pdE9wdGlvbnMuSVNhbXBsaW5nSW5pdE9wdGlvbjtcclxuXHJcblx0cHVibGljIGdldENvbW1vbkluaXRPcHRpb25zKCk6IElJbml0T3B0aW9ucy5JSW5pdE9wdGlvbnNDb21tb24ge1xyXG5cdFx0cmV0dXJuIHRoaXMuY29tbW9uSW5pdE9wdGlvbnM7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0SW5BcHBGZWVkYmFja0luaXRPcHRpb25zKCk6IElJbml0T3B0aW9ucy5JSW5pdE9wdGlvbnNJbkFwcEZlZWRiYWNrIHtcclxuXHRcdHJldHVybiB0aGlzLmluQXBwRmVlZGJhY2tJbml0T3B0aW9ucztcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRJbkFwcEZlZWRiYWNrTGF1bmNoT3B0aW9ucygpOiBJTGF1bmNoT3B0aW9ucy5JTGF1bmNoT3B0aW9uc0luQXBwRmVlZGJhY2sge1xyXG5cdFx0cmV0dXJuIHRoaXMuaW5BcHBGZWVkYmFja0xhdW5jaE9wdGlvbnM7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0Rmxvb2RnYXRlSW5pdE9wdGlvbnMoKTogSUluaXRPcHRpb25zLklJbml0T3B0aW9uc0Zsb29kZ2F0ZSB7XHJcblx0XHRyZXR1cm4gdGhpcy5mbG9vZGdhdGVJbml0T3B0aW9ucztcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRGbG9vZGdhdGVTdXJ2ZXkoKTogSVVJU3VydmV5IHtcclxuXHRcdHJldHVybiB0aGlzLmZsb29kZ2F0ZVN1cnZleTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRTZGtTZXNzaW9uSWQoKTogc3RyaW5nIHtcclxuXHRcdGlmICghdGhpcy5zZGtTZXNzaW9uSWQpIHtcclxuXHRcdFx0dGhpcy5zZGtTZXNzaW9uSWQgPSBVdGlscy5ndWlkKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuc2RrU2Vzc2lvbklkO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldEV2ZW50U2FtcGxpbmcoKTogSUluaXRPcHRpb25zLklTYW1wbGluZ0luaXRPcHRpb24ge1xyXG5cdFx0cmV0dXJuIHRoaXMuZXZlbnRTYW1wbGluZztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBpbml0T3B0aW9ucyBmb3IgY29tbW9uIGZ1bmN0aW9uYWxpdHkuXHJcblx0ICovXHJcblx0cHVibGljIHNldENvbW1vbkluaXRPcHRpb25zKHBhc3NlZEluaXRPcHRpb25zOiBJSW5pdE9wdGlvbnMuSUluaXRPcHRpb25zQ29tbW9uKSB7XHJcblx0XHRVdGlscy5leHBlY3RPYmplY3QocGFzc2VkSW5pdE9wdGlvbnMsIFwicGFzc2VkSW5pdE9wdGlvbnNcIik7XHJcblx0XHRsZXQgaW5pdE9wdGlvbnM6IElJbml0T3B0aW9ucy5JSW5pdE9wdGlvbnNDb21tb24gPSB7XHJcblx0XHRcdGFwcElkOiBwYXNzZWRJbml0T3B0aW9ucy5hcHBJZCxcclxuXHRcdFx0YXBwbGljYXRpb25Hcm91cDogcGFzc2VkSW5pdE9wdGlvbnMuYXBwbGljYXRpb25Hcm91cCB8fCB7fSxcclxuXHRcdFx0YnVpbGQ6IHBhc3NlZEluaXRPcHRpb25zLmJ1aWxkLFxyXG5cdFx0XHRjaWQ6IHBhc3NlZEluaXRPcHRpb25zLmNpZCxcclxuXHRcdFx0ZW52aXJvbm1lbnQ6IHBhc3NlZEluaXRPcHRpb25zLmVudmlyb25tZW50LFxyXG5cdFx0XHRpbnRsRmlsZW5hbWU6IHBhc3NlZEluaXRPcHRpb25zLmludGxGaWxlbmFtZSxcclxuXHRcdFx0aW50bFVybDogcGFzc2VkSW5pdE9wdGlvbnMuaW50bFVybCxcclxuXHRcdFx0d2ViU3VyZmFjZXNSZXNvdXJjZUJhc2VVcmw6IHBhc3NlZEluaXRPcHRpb25zLndlYlN1cmZhY2VzUmVzb3VyY2VCYXNlVXJsLFxyXG5cdFx0XHRsb2NhbGU6IHBhc3NlZEluaXRPcHRpb25zLmxvY2FsZSxcclxuXHRcdFx0b25FcnJvcjogcGFzc2VkSW5pdE9wdGlvbnMub25FcnJvcixcclxuXHRcdFx0b3JpZ2luYWxMb2NhbGU6IHBhc3NlZEluaXRPcHRpb25zLmxvY2FsZSxcclxuXHRcdFx0cHJpbWFyeUNvbG91cjogcGFzc2VkSW5pdE9wdGlvbnMucHJpbWFyeUNvbG91cixcclxuXHRcdFx0c2Vjb25kYXJ5Q29sb3VyOiBwYXNzZWRJbml0T3B0aW9ucy5zZWNvbmRhcnlDb2xvdXIsXHJcblx0XHRcdHNlc3Npb25JZDogcGFzc2VkSW5pdE9wdGlvbnMuc2Vzc2lvbklkLFxyXG5cdFx0XHRzdHlsZXNVcmw6IHBhc3NlZEluaXRPcHRpb25zLnN0eWxlc1VybCxcclxuXHRcdFx0dGVsZW1ldHJ5R3JvdXA6IHBhc3NlZEluaXRPcHRpb25zLnRlbGVtZXRyeUdyb3VwIHx8IHt9LFxyXG5cdFx0XHR1c2VyRW1haWw6IHBhc3NlZEluaXRPcHRpb25zLnVzZXJFbWFpbCxcclxuXHRcdFx0dXNlckVtYWlsQ29uc2VudERlZmF1bHQ6IHBhc3NlZEluaXRPcHRpb25zLnVzZXJFbWFpbENvbnNlbnREZWZhdWx0LFxyXG5cdFx0XHR3ZWJHcm91cDogcGFzc2VkSW5pdE9wdGlvbnMud2ViR3JvdXAgfHwge30sXHJcblx0XHRcdGV2ZW50U2FtcGxpbmc6IHBhc3NlZEluaXRPcHRpb25zLmV2ZW50U2FtcGxpbmcsXHJcblx0XHRcdHBldHJvbFRpbWVvdXQ6IHBhc3NlZEluaXRPcHRpb25zLnBldHJvbFRpbWVvdXQsXHJcblx0XHRcdGlzQ29tbWVyY2lhbEhvc3Q6IHBhc3NlZEluaXRPcHRpb25zLmlzQ29tbWVyY2lhbEhvc3QsXHJcblx0XHR9O1xyXG5cclxuXHRcdFV0aWxzLmV4cGVjdE51bWJlcihpbml0T3B0aW9ucy5hcHBJZCwgXCJpbml0T3B0aW9ucy5hcHBJZFwiKTtcclxuXHRcdGlmICghKGluaXRPcHRpb25zLmFwcElkICUgMSA9PT0gMCAmJiBpbml0T3B0aW9ucy5hcHBJZCA+IDApKSB7XHJcblx0XHRcdHRocm93IFwiaW5pdE9wdGlvbnMuYXBwSWQgaXMgbm90IGEgcG9zaXRpdmUgaW50ZWdlcjogXCIgKyBpbml0T3B0aW9ucy5hcHBJZDtcclxuXHRcdH1cclxuXHJcblx0XHRVdGlscy5leHBlY3RTdHJpbmcoaW5pdE9wdGlvbnMuc3R5bGVzVXJsLCBcImluaXRPcHRpb25zLnN0eWxlc1VybFwiKTtcclxuXHRcdFV0aWxzLmV4cGVjdFN0cmluZyhpbml0T3B0aW9ucy5pbnRsVXJsLCBcImluaXRPcHRpb25zLmludGxVcmxcIik7XHJcblxyXG5cdFx0aWYgKGluaXRPcHRpb25zLmludGxGaWxlbmFtZSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFV0aWxzLmV4cGVjdFN0cmluZyhpbml0T3B0aW9ucy5pbnRsRmlsZW5hbWUsIFwiaW5pdE9wdGlvbnMuaW50bEZpbGVuYW1lXCIpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aW5pdE9wdGlvbnMuaW50bEZpbGVuYW1lID0gXCJvZmZpY2Vicm93c2VyZmVlZGJhY2tzdHJpbmdzLmpzXCI7XHJcblx0XHR9XHJcblxyXG5cdFx0VXRpbHMuZXhwZWN0TnVtYmVyKGluaXRPcHRpb25zLmVudmlyb25tZW50LCBcImluaXRPcHRpb25zLmVudmlyb25tZW50XCIpO1xyXG5cdFx0aWYgKCEoaW5pdE9wdGlvbnMuZW52aXJvbm1lbnQgPT09IDEgfHwgaW5pdE9wdGlvbnMuZW52aXJvbm1lbnQgPT09IDApKSB7XHJcblx0XHRcdHRocm93IFwiaW5pdE9wdGlvbnMuZW52aXJvbm1lbnQgaGFzIGEgYmFkIHZhbHVlOiBcIiArIGluaXRPcHRpb25zLmVudmlyb25tZW50O1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy51c2VyRW1haWwgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRVdGlscy5leHBlY3RTdHJpbmcoaW5pdE9wdGlvbnMudXNlckVtYWlsLCBcImluaXRPcHRpb25zLnVzZXJFbWFpbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMudXNlckVtYWlsQ29uc2VudERlZmF1bHQgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRVdGlscy5leHBlY3RCb29sZWFuKGluaXRPcHRpb25zLnVzZXJFbWFpbENvbnNlbnREZWZhdWx0LCBcImluaXRPcHRpb25zLnVzZXJFbWFpbENvbnNlbnREZWZhdWx0XCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5zZXNzaW9uSWQgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRVdGlscy5leHBlY3RTdHJpbmcoaW5pdE9wdGlvbnMuc2Vzc2lvbklkLCBcImluaXRPcHRpb25zLnNlc3Npb25JZFwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluaXRPcHRpb25zLnNlc3Npb25JZCA9IFwiMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwXCI7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQ29weSBzZXNzaW9uSUQgb3ZlciB0byB0ZWxlbWV0cnlHcm91cFxyXG5cdFx0aW5pdE9wdGlvbnMudGVsZW1ldHJ5R3JvdXAucHJvY2Vzc1Nlc3Npb25JZCA9IGluaXRPcHRpb25zLnNlc3Npb25JZDtcclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMuY2lkICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0VXRpbHMuZXhwZWN0U3RyaW5nKGluaXRPcHRpb25zLmNpZCwgXCJpbml0T3B0aW9ucy5jaWRcIik7XHJcblxyXG5cdFx0XHQvLyBDb3B5IGNpZCBvdmVyIHRvIGV4dGVuZGVkTWFuaWZlc3REYXRhIG9mIGFwcGxpY2F0aW9uR3JvdXBcclxuXHRcdFx0aW5pdE9wdGlvbnMuYXBwbGljYXRpb25Hcm91cC5leHRlbmRlZE1hbmlmZXN0RGF0YSA9IEpTT04uc3RyaW5naWZ5KHsgY2lkOiBpbml0T3B0aW9ucy5jaWQgfSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGluaXRPcHRpb25zLmJ1aWxkICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0VXRpbHMuZXhwZWN0U3RyaW5nKGluaXRPcHRpb25zLmJ1aWxkLCBcImluaXRPcHRpb25zLmJ1aWxkXCIpO1xyXG5cdFx0XHRsZXQgYnVpbGRSZWdleCA9IFwiXlswLTldezEsOX0oXFxcXC5bMC05XXsxLDl9KT8oXFxcXC5bMC05XXsxLDl9KT8oXFxcXC5bMC05XXsxLDl9KT8kXCI7XHJcblx0XHRcdGlmICghbmV3IFJlZ0V4cChidWlsZFJlZ2V4KS50ZXN0KGluaXRPcHRpb25zLmJ1aWxkKSkge1xyXG5cdFx0XHRcdGluaXRPcHRpb25zLmJ1aWxkID0gXCIwLjAuMC4wXCI7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluaXRPcHRpb25zLmJ1aWxkID0gXCIwLjAuMC4wXCI7XHJcblx0XHR9XHJcblx0XHQvLyBDb3B5IGJ1aWxkIG92ZXIgdG8gdGVsZW1ldHJ5R3JvdXBcclxuXHRcdGluaXRPcHRpb25zLnRlbGVtZXRyeUdyb3VwLm9mZmljZUJ1aWxkID0gaW5pdE9wdGlvbnMuYnVpbGQ7XHJcblxyXG5cdFx0bGV0IGhleENvbG91clJlZ2V4ID0gbmV3IFJlZ0V4cChcIl4jWzAtOWEtZl17M30oWzAtOWEtZl17M30pPyRcIiwgXCJpXCIpO1xyXG5cdFx0aWYgKGluaXRPcHRpb25zLnByaW1hcnlDb2xvdXIgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRpZiAoIWhleENvbG91clJlZ2V4LnRlc3QoaW5pdE9wdGlvbnMucHJpbWFyeUNvbG91cikpIHtcclxuXHRcdFx0XHRpbml0T3B0aW9ucy5wcmltYXJ5Q29sb3VyID0gdW5kZWZpbmVkO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGluaXRPcHRpb25zLnNlY29uZGFyeUNvbG91ciAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdGlmICghaGV4Q29sb3VyUmVnZXgudGVzdChpbml0T3B0aW9ucy5zZWNvbmRhcnlDb2xvdXIpKSB7XHJcblx0XHRcdFx0aW5pdE9wdGlvbnMuc2Vjb25kYXJ5Q29sb3VyID0gdW5kZWZpbmVkO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGluaXRPcHRpb25zLmxvY2FsZSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFV0aWxzLmV4cGVjdFN0cmluZyhpbml0T3B0aW9ucy5sb2NhbGUsIFwiaW5pdE9wdGlvbnMubG9jYWxlXCIpO1xyXG5cdFx0XHRpbml0T3B0aW9ucy5sb2NhbGUgPSBMb2NhbGl6YXRpb24udmFsaWRhdGUoaW5pdE9wdGlvbnMubG9jYWxlKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluaXRPcHRpb25zLmxvY2FsZSA9IFwiZW5cIjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMub25FcnJvciA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdGluaXRPcHRpb25zLm9uRXJyb3IgPSAoZXJyOiBzdHJpbmcpID0+IHsgcmV0dXJuOyB9O1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5wZXRyb2xUaW1lb3V0ICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0VXRpbHMuZXhwZWN0TnVtYmVyKGluaXRPcHRpb25zLnBldHJvbFRpbWVvdXQsIFwiaW5pdE9wdGlvbnMucGV0cm9sVGltZW91dFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmV2ZW50U2FtcGxpbmcgPSB0aGlzLnBhcnNlRXZlbnRTYW1wbGluZ09wdGlvbihpbml0T3B0aW9ucy5ldmVudFNhbXBsaW5nKTtcclxuXHJcblx0XHR0aGlzLmNvbW1vbkluaXRPcHRpb25zID0gaW5pdE9wdGlvbnM7XHJcblxyXG5cdFx0aWYgKGluaXRPcHRpb25zLmlzQ29tbWVyY2lhbEhvc3QgPT09IHVuZGVmaW5lZCB8fCBpbml0T3B0aW9ucy5pc0NvbW1lcmNpYWxIb3N0ID09IG51bGwpIHtcclxuXHRcdFx0aW5pdE9wdGlvbnMuaXNDb21tZXJjaWFsSG9zdCA9IGZhbHNlOyAvLyBCeSBkZWZhdWx0IHByaXZhY3kgY29uc2VudCBpcyBub3Qgc2hvd24uIChGcm9tIFNESydzIHBlcnNwZWN0aXZlKVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0VXRpbHMuZXhwZWN0Qm9vbGVhbihpbml0T3B0aW9ucy5pc0NvbW1lcmNpYWxIb3N0LCBcImluaXRPcHRpb25zLmlzQ29tbWVyY2lhbEhvc3RcIik7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgaW5pdCBvcHRpb25zIGZvciBpbkFwcEZlZWRiYWNrXHJcblx0ICovXHJcblx0cHVibGljIHNldEluQXBwRmVlZGJhY2tJbml0T3B0aW9ucyhwYXNzZWRJbml0T3B0aW9uczogSUluaXRPcHRpb25zLklJbml0T3B0aW9uc0luQXBwRmVlZGJhY2spIHtcclxuXHRcdFV0aWxzLmV4cGVjdE9iamVjdChwYXNzZWRJbml0T3B0aW9ucywgXCJwYXNzZWRJbml0T3B0aW9uc1wiKTtcclxuXHJcblx0XHRsZXQgaW5pdE9wdGlvbnM6IElJbml0T3B0aW9ucy5JSW5pdE9wdGlvbnNJbkFwcEZlZWRiYWNrID0ge1xyXG5cdFx0XHRidWdGb3JtOiBwYXNzZWRJbml0T3B0aW9ucy5idWdGb3JtLFxyXG5cdFx0XHRvbkRpc21pc3M6IHBhc3NlZEluaXRPcHRpb25zLm9uRGlzbWlzcyxcclxuXHRcdFx0c2NyZWVuc2hvdDogcGFzc2VkSW5pdE9wdGlvbnMuc2NyZWVuc2hvdCxcclxuXHRcdFx0c2hvd0VtYWlsQWRkcmVzczogcGFzc2VkSW5pdE9wdGlvbnMuc2hvd0VtYWlsQWRkcmVzcyxcclxuXHRcdFx0dXNlckVtYWlsOiBwYXNzZWRJbml0T3B0aW9ucy51c2VyRW1haWwsXHJcblx0XHRcdHVzZXJWb2ljZTogcGFzc2VkSW5pdE9wdGlvbnMudXNlclZvaWNlICE9PSB1bmRlZmluZWQgP1xyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdHVybDogcGFzc2VkSW5pdE9wdGlvbnMudXNlclZvaWNlLnVybCxcclxuXHRcdFx0XHR9IDpcclxuXHRcdFx0XHR1bmRlZmluZWQsXHJcblx0XHRcdFx0dHJhbnNpdGlvbkVuYWJsZWQ6IHBhc3NlZEluaXRPcHRpb25zLnRyYW5zaXRpb25FbmFibGVkLFxyXG5cdFx0XHRpc1Nob3dUaGFua3M6IHBhc3NlZEluaXRPcHRpb25zLmlzU2hvd1RoYW5rcyxcclxuXHRcdH07XHJcblxyXG5cdFx0aWYgKGluaXRPcHRpb25zLm9uRGlzbWlzcyA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdGluaXRPcHRpb25zLm9uRGlzbWlzcyA9IGZ1bmN0aW9uIChzdWJtaXR0ZWQ6IGJvb2xlYW4pIHsgcmV0dXJuOyB9O1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5idWdGb3JtICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0VXRpbHMuZXhwZWN0Qm9vbGVhbihpbml0T3B0aW9ucy5idWdGb3JtLCBcImluaXRPcHRpb25zLmJ1Z0Zvcm1cIik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpbml0T3B0aW9ucy5idWdGb3JtID0gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGluaXRPcHRpb25zLnVzZXJFbWFpbCAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFV0aWxzLmV4cGVjdFN0cmluZyhpbml0T3B0aW9ucy51c2VyRW1haWwsIFwiaW5pdE9wdGlvbnMudXNlckVtYWlsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5zY3JlZW5zaG90ICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0VXRpbHMuZXhwZWN0Qm9vbGVhbihpbml0T3B0aW9ucy5zY3JlZW5zaG90LCBcImluaXRPcHRpb25zLnNjcmVlbnNob3RcIik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpbml0T3B0aW9ucy5zY3JlZW5zaG90ID0gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMuc2hvd0VtYWlsQWRkcmVzcyAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFV0aWxzLmV4cGVjdEJvb2xlYW4oaW5pdE9wdGlvbnMuc2hvd0VtYWlsQWRkcmVzcywgXCJpbml0T3B0aW9ucy5zaG93RW1haWxBZGRyZXNzXCIpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aW5pdE9wdGlvbnMuc2hvd0VtYWlsQWRkcmVzcyA9IHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGluaXRPcHRpb25zLnVzZXJWb2ljZSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFV0aWxzLmV4cGVjdE9iamVjdChpbml0T3B0aW9ucy51c2VyVm9pY2UsIFwiaW5pdE9wdGlvbnMudXNlclZvaWNlXCIpO1xyXG5cdFx0XHRVdGlscy5leHBlY3RTdHJpbmcoaW5pdE9wdGlvbnMudXNlclZvaWNlLnVybCwgXCJpbml0T3B0aW9ucy51c2VyVm9pY2UudXJsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5pc1Nob3dUaGFua3MgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRVdGlscy5leHBlY3RCb29sZWFuKGluaXRPcHRpb25zLmlzU2hvd1RoYW5rcywgXCJpbml0T3B0aW9ucy5pc1Nob3dUaGFua3NcIik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpbml0T3B0aW9ucy5pc1Nob3dUaGFua3MgPSBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMudHJhbnNpdGlvbkVuYWJsZWQgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRpbml0T3B0aW9ucy50cmFuc2l0aW9uRW5hYmxlZCA9IHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5pbkFwcEZlZWRiYWNrSW5pdE9wdGlvbnMgPSBpbml0T3B0aW9ucztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBsYXVuY2ggb3B0aW9ucyBmb3IgaW5BcHBGZWVkYmFja1xyXG5cdCAqL1xyXG5cdHB1YmxpYyBzZXRJbkFwcEZlZWRiYWNrTGF1bmNoT3B0aW9ucyhsYXVuY2hPcHRpb25zPzogSUxhdW5jaE9wdGlvbnMuSUxhdW5jaE9wdGlvbnNJbkFwcEZlZWRiYWNrKSB7XHJcblx0XHRpZiAoIXRoaXMuY29tbW9uSW5pdE9wdGlvbnMpIHtcclxuXHRcdFx0dGhyb3cgXCJjb21tb25Jbml0T3B0aW9ucyBub3Qgc2V0XCI7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFsYXVuY2hPcHRpb25zKSB7XHJcblx0XHRcdGxhdW5jaE9wdGlvbnMgPSB7fTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBPdmVycmlkZSBhbnkgc2V0dGluZyBkb25lIGluIExhdW5jaE9wdGlvbnMgZm9yIHRoZSBtZXRhZGF0YUdyb3Vwc1xyXG5cdFx0dGhpcy5jb21tb25Jbml0T3B0aW9ucy5hcHBsaWNhdGlvbkdyb3VwID0gVXRpbHMub3ZlcnJpZGVWYWx1ZXMobGF1bmNoT3B0aW9ucy5hcHBsaWNhdGlvbkdyb3VwLFxyXG5cdFx0XHR0aGlzLmNvbW1vbkluaXRPcHRpb25zLmFwcGxpY2F0aW9uR3JvdXApO1xyXG5cdFx0dGhpcy5jb21tb25Jbml0T3B0aW9ucy50ZWxlbWV0cnlHcm91cCA9IFV0aWxzLm92ZXJyaWRlVmFsdWVzKGxhdW5jaE9wdGlvbnMudGVsZW1ldHJ5R3JvdXAsXHJcblx0XHRcdHRoaXMuY29tbW9uSW5pdE9wdGlvbnMudGVsZW1ldHJ5R3JvdXApO1xyXG5cdFx0dGhpcy5jb21tb25Jbml0T3B0aW9ucy53ZWJHcm91cCA9IFV0aWxzLm92ZXJyaWRlVmFsdWVzKGxhdW5jaE9wdGlvbnMud2ViR3JvdXAsXHJcblx0XHRcdHRoaXMuY29tbW9uSW5pdE9wdGlvbnMud2ViR3JvdXApO1xyXG5cclxuXHRcdGxhdW5jaE9wdGlvbnMuY2F0ZWdvcmllcyA9IENvbmZpZ3VyYXRpb24udmFsaWRhdGVDYXRlZ29yeU9wdGlvbnMobGF1bmNoT3B0aW9ucy5jYXRlZ29yaWVzKTtcclxuXHJcblx0XHR0aGlzLmluQXBwRmVlZGJhY2tMYXVuY2hPcHRpb25zID0gbGF1bmNoT3B0aW9ucztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBpbml0IG9wdGlvbnMgZm9yIGZsb29kZ2F0ZVxyXG5cdCAqL1xyXG5cdHB1YmxpYyBzZXRGbG9vZGdhdGVJbml0T3B0aW9ucyhwYXNzZWRJbml0T3B0aW9uczogSUluaXRPcHRpb25zLklJbml0T3B0aW9uc0Zsb29kZ2F0ZSkge1xyXG5cdFx0VXRpbHMuZXhwZWN0T2JqZWN0KHBhc3NlZEluaXRPcHRpb25zLCBcInBhc3NlZEluaXRPcHRpb25zXCIpO1xyXG5cclxuXHRcdGxldCBpbml0T3B0aW9uczogSUluaXRPcHRpb25zLklJbml0T3B0aW9uc0Zsb29kZ2F0ZSA9IHtcclxuXHRcdFx0YXV0b0Rpc21pc3M6IHBhc3NlZEluaXRPcHRpb25zLmF1dG9EaXNtaXNzLFxyXG5cdFx0XHRjYW1wYWlnbkRlZmluaXRpb25zOiBwYXNzZWRJbml0T3B0aW9ucy5jYW1wYWlnbkRlZmluaXRpb25zLFxyXG5cdFx0XHRjYW1wYWlnbkZsaWdodHM6IHBhc3NlZEluaXRPcHRpb25zLmNhbXBhaWduRmxpZ2h0cyxcclxuXHRcdFx0Y2FtcGFpZ25RdWVyeVBhcmFtZXRlcnM6IHBhc3NlZEluaXRPcHRpb25zLmNhbXBhaWduUXVlcnlQYXJhbWV0ZXJzLFxyXG5cdFx0XHRvbkRpc21pc3M6IHBhc3NlZEluaXRPcHRpb25zLm9uRGlzbWlzcyxcclxuXHRcdFx0b25TdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFjazogcGFzc2VkSW5pdE9wdGlvbnMub25TdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFjayxcclxuXHRcdFx0c2V0dGluZ1N0b3JhZ2VDYWxsYmFjazogcGFzc2VkSW5pdE9wdGlvbnMuc2V0dGluZ1N0b3JhZ2VDYWxsYmFjayxcclxuXHRcdFx0dUlTdHJpbmdHZXR0ZXI6IHBhc3NlZEluaXRPcHRpb25zLnVJU3RyaW5nR2V0dGVyLFxyXG5cdFx0XHRhdXRoVG9rZW5DYWxsYmFjazogcGFzc2VkSW5pdE9wdGlvbnMuYXV0aFRva2VuQ2FsbGJhY2ssXHJcblx0XHRcdHN1cnZleUVuYWJsZWQ6IHBhc3NlZEluaXRPcHRpb25zLnN1cnZleUVuYWJsZWQsXHJcblx0XHRcdHNob3dFbWFpbEFkZHJlc3M6IHBhc3NlZEluaXRPcHRpb25zLnNob3dFbWFpbEFkZHJlc3MsXHJcblx0XHRcdGF1Z0xvb3BDYWxsYmFjazogcGFzc2VkSW5pdE9wdGlvbnMuYXVnTG9vcENhbGxiYWNrLFxyXG5cdFx0fTtcclxuXHJcblx0XHRpZiAoaW5pdE9wdGlvbnMuYXV0b0Rpc21pc3MgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRpbml0T3B0aW9ucy5hdXRvRGlzbWlzcyA9IENvbnN0YW50cy5BdXRvRGlzbWlzc1ZhbHVlcy5Ob0F1dG9EaXNtaXNzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5vbkRpc21pc3MgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRpbml0T3B0aW9ucy5vbkRpc21pc3MgPSAoY2FtcGFpZ25JZDogc3RyaW5nLCBzdWJtaXR0ZWQ6IGJvb2xlYW4pID0+IHsgcmV0dXJuOyB9O1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5vblN1cnZleUFjdGl2YXRlZENhbGxiYWNrID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0bGV0IGRlZmF1bHRPblN1cnZleUFjdGl2YXRlZENhbGxiYWNrOiBJT25TdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFjayA9IHtcclxuXHRcdFx0XHRvblN1cnZleUFjdGl2YXRlZChsYXVuY2hlcjogSVN1cnZleUxhdW5jaGVyKTogdm9pZCB7XHJcblx0XHRcdFx0XHRsYXVuY2hlci5sYXVuY2goKTtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0aW5pdE9wdGlvbnMub25TdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFjayA9IGRlZmF1bHRPblN1cnZleUFjdGl2YXRlZENhbGxiYWNrO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy51SVN0cmluZ0dldHRlciA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdGluaXRPcHRpb25zLnVJU3RyaW5nR2V0dGVyID0gKHN0cjogc3RyaW5nKSA9PiBzdHI7IC8vIEJ5IGRlZmF1bHQgcmV0dXJuIHRoZSBzdHJpbmcgYXMgaXMuXHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGluaXRPcHRpb25zLnN1cnZleUVuYWJsZWQgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRpbml0T3B0aW9ucy5zdXJ2ZXlFbmFibGVkID0gdHJ1ZTsgLy8gQnkgZGVmYXVsdCBzdXJ2ZXlzIGFyZSBlbmFibGVkLiAoRnJvbSBTREsncyBwZXJzcGVjdGl2ZSlcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdFV0aWxzLmV4cGVjdEJvb2xlYW4oaW5pdE9wdGlvbnMuc3VydmV5RW5hYmxlZCwgXCJzdXJ2ZXlFbmFibGVkXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbml0T3B0aW9ucy5zaG93RW1haWxBZGRyZXNzICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0VXRpbHMuZXhwZWN0Qm9vbGVhbihpbml0T3B0aW9ucy5zaG93RW1haWxBZGRyZXNzLCBcImluaXRPcHRpb25zRmxvb2RnYXRlLnNob3dFbWFpbEFkZHJlc3NcIik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpbml0T3B0aW9ucy5zaG93RW1haWxBZGRyZXNzID0gdHJ1ZTsgIC8vIEJ5IGRlZmF1bHQgZW1haWwgZmllbGQgYW5kIGNvbGxlY3Rpb24gaXMgZW5hYmxlZC4gKEZyb20gU0RLJ3MgcGVyc3BlY3RpdmUpXHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5mbG9vZGdhdGVJbml0T3B0aW9ucyA9IGluaXRPcHRpb25zO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2V0IHRoZSBmbG9vZGdhdGUgc3VydmV5XHJcblx0ICovXHJcblx0cHVibGljIHNldEZsb29kZ2F0ZVN1cnZleShzdXJ2ZXk6IElVSVN1cnZleSk6IHZvaWQge1xyXG5cdFx0dGhpcy5mbG9vZGdhdGVTdXJ2ZXkgPSBzdXJ2ZXk7XHJcblx0fVxyXG5cclxuXHQvLyBDaGVja3MgaWYgdGhlIHN1cnZleUVuYWJsZWQgcG9saWN5IGlzIHRydWUgb3IgZmFsc2UuXHJcblx0cHVibGljIGNoZWNrSWZTdXJ2ZXlzRW5hYmxlZCgpOiBib29sZWFuIHtcclxuXHRcdC8vIElmIG5vIGZsb29kZ2F0ZUluaXRPcHRpb25zIGRlZmluZWQsIHJldHVybiB0cnVlIGZvciBzdXJ2ZXlFbmFibGVkXHJcblx0XHRyZXR1cm4gdGhpcy5mbG9vZGdhdGVJbml0T3B0aW9ucyA/IHRoaXMuZmxvb2RnYXRlSW5pdE9wdGlvbnMuc3VydmV5RW5hYmxlZCA6IHRydWU7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHBhcnNlRXZlbnRTYW1wbGluZ09wdGlvbihzYW1wbGluZ09wdGlvbnM6IElJbml0T3B0aW9ucy5JU2FtcGxpbmdFdmVudFtdKTogSUluaXRPcHRpb25zLklTYW1wbGluZ0luaXRPcHRpb24ge1xyXG5cdFx0bGV0IGV2ZW50SW5pdFNhbXBsaW5nOiBJSW5pdE9wdGlvbnMuSVNhbXBsaW5nSW5pdE9wdGlvbiA9IHsgZXZlbnQ6IHt9IH07XHJcblx0XHRpZiAoc2FtcGxpbmdPcHRpb25zICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0Ly8gSXRlcmF0aW5nIHRocm91Z2ggaW5pdCBvcHRpb25zXHJcblx0XHRcdGZvciAoY29uc3QgaW5kZXggaW4gc2FtcGxpbmdPcHRpb25zKSB7XHJcblx0XHRcdFx0aWYgKHNhbXBsaW5nT3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShpbmRleCkpIHtcclxuXHRcdFx0XHRcdC8vIENoZWNrIGZvciBjb3JyZWN0IFR5cGVcclxuXHRcdFx0XHRcdHN3aXRjaCAoc2FtcGxpbmdPcHRpb25zW2luZGV4XS50eXBlKSB7XHJcblx0XHRcdFx0XHRcdGNhc2UgXCJFdmVudFwiOlxyXG5cdFx0XHRcdFx0XHRcdC8vIFBhcnNpbmcgdGhlIE5hbWUgYW5kIFNhbXBsZVJhdGVcclxuXHRcdFx0XHRcdFx0XHRsZXQgc2FtcGxlUmF0ZSA9IHNhbXBsaW5nT3B0aW9uc1tpbmRleF0uc2FtcGxlUmF0ZTtcclxuXHRcdFx0XHRcdFx0XHRVdGlscy5leHBlY3ROdW1iZXIoc2FtcGxlUmF0ZSwgXCJpbml0T3B0aW9uLkV2ZW50U2FtcGxpbmcuU2FtcGxlUmF0ZVwiKTtcclxuXHRcdFx0XHRcdFx0XHRVdGlscy5leHBlY3RTdHJpbmcoc2FtcGxpbmdPcHRpb25zW2luZGV4XS5uYW1lLCBcImluaXRPcHRpb24uRXZlbnRTYW1wbGluZy5OYW1lXCIpO1xyXG5cdFx0XHRcdFx0XHRcdC8vIGNoZWNrIHRoZSByYW5nZSBmb3Igc2FtcGxpbmcgcGVyY2VudGFnZVxyXG5cdFx0XHRcdFx0XHRcdGlmIChzYW1wbGVSYXRlIDwgMCB8fCBzYW1wbGVSYXRlID4gMSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0dGhyb3cgXCJpbml0T3B0aW9uLkV2ZW50U2FtcGxpbmcuXCIgKyBzYW1wbGluZ09wdGlvbnNbaW5kZXhdLm5hbWUgKyBcIi5TYW1wbGVSYXRlIGlzIG91dCBvZiByYW5nZVwiO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHQvLyBmaW5hbGx5LCBzYXZlIHRoZSBzYW1wbGluZyBldmVudFxyXG5cdFx0XHRcdFx0XHRcdGV2ZW50SW5pdFNhbXBsaW5nLmV2ZW50W3NhbXBsaW5nT3B0aW9uc1tpbmRleF0ubmFtZV0gPSBzYW1wbGVSYXRlO1xyXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdFx0XHRcdHRocm93IFwiaW5pdE9wdGlvbi5FdmVudFNhbXBsaW5nLlR5cGUgdmFsdWUgaXMgbm90IHJlY29nbml6ZWRcIjtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBldmVudEluaXRTYW1wbGluZztcclxuXHR9XHJcbn1cclxuXHJcbmxldCBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uID0gbmV3IENvbmZpZ3VyYXRpb24oKTtcclxuXHJcbi8qKlxyXG4gKiBHZXQgdGhlIGN1cnJlbnQgY29uZmlndXJhdGlvblxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldCgpOiBDb25maWd1cmF0aW9uIHtcclxuXHRyZXR1cm4gY29uZmlndXJhdGlvbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFZhbGlkYXRlIGZlZWRiYWNrVHlwZVxyXG4gKiBAcGFyYW0gZmVlZGJhY2tUeXBlIGZlZWRiYWNrVHlwZVxyXG4gKiBAcmV0dXJucyB7Q29uc3RhbnRzLkZlZWRiYWNrVHlwZX0gdGhlIHZhbGlkYXRlZCBmZWVkYmFja1R5cGVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUZlZWRiYWNrVHlwZShmZWVkYmFja1R5cGU6IHN0cmluZyk6IENvbnN0YW50cy5GZWVkYmFja1R5cGUge1xyXG5cdFV0aWxzLmV4cGVjdFN0cmluZyhmZWVkYmFja1R5cGUsIFwiZmVlZGJhY2tUeXBlXCIpO1xyXG5cclxuXHRpZiAoZmVlZGJhY2tUeXBlID09PSBDb25zdGFudHMuRmVlZGJhY2tUeXBlW0NvbnN0YW50cy5GZWVkYmFja1R5cGUuU21pbGVdKSB7XHJcblx0XHRyZXR1cm4gQ29uc3RhbnRzLkZlZWRiYWNrVHlwZS5TbWlsZTtcclxuXHR9IGVsc2UgaWYgKGZlZWRiYWNrVHlwZSA9PT0gQ29uc3RhbnRzLkZlZWRiYWNrVHlwZVtDb25zdGFudHMuRmVlZGJhY2tUeXBlLkZyb3duXSkge1xyXG5cdFx0cmV0dXJuIENvbnN0YW50cy5GZWVkYmFja1R5cGUuRnJvd247XHJcblx0fSBlbHNlIGlmIChmZWVkYmFja1R5cGUgPT09IENvbnN0YW50cy5GZWVkYmFja1R5cGVbQ29uc3RhbnRzLkZlZWRiYWNrVHlwZS5CdWddKSB7XHJcblx0XHRyZXR1cm4gQ29uc3RhbnRzLkZlZWRiYWNrVHlwZS5CdWc7XHJcblx0fSBlbHNlIHtcclxuXHRcdHRocm93IFwiZmVlZGJhY2tUeXBlIHNob3VsZCBiZSBvbmUgb2YgU21pbGUsIEZyb3duIG9yIEJ1Z1wiO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Configuration/Configuration.ts\n')},"./scripts/app/Configuration/DynamicConfiguration.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDynamicSetting", function() { return getDynamicSetting; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "resetDynamicSettingsTmsgCache", function() { return resetDynamicSettingsTmsgCache; });\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils */ "./scripts/app/Utils.ts");\n/* harmony import */ var _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../FloodgateCore/FloodgateStorageProvider */ "./scripts/app/FloodgateCore/FloodgateStorageProvider.ts");\n/* harmony import */ var _TargetedMessaging_TargetedMessagingCache__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../TargetedMessaging/TargetedMessagingCache */ "./scripts/app/TargetedMessaging/TargetedMessagingCache.ts");\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Logging/Logging */ "./scripts/app/Logging/Logging.ts");\n\r\n\r\n\r\n\r\nvar isNOU = _Utils__WEBPACK_IMPORTED_MODULE_0__["isNOU"];\r\nvar dynamicSettingsTmsgCache = null;\r\nfunction getDynamicSetting(key, defaultValue) {\r\n    try {\r\n        if (!dynamicSettingsTmsgCache && _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_1__["default"].isStorageAvailable()) {\r\n            dynamicSettingsTmsgCache = new _TargetedMessaging_TargetedMessagingCache__WEBPACK_IMPORTED_MODULE_2__["TargetedMessagingCache"](["DynamicSettings" /* dynamicSettings */]);\r\n        }\r\n        if (!dynamicSettingsTmsgCache) {\r\n            return defaultValue;\r\n        }\r\n        var settingsObj = dynamicSettingsTmsgCache.getItemContent("DynamicSettings" /* dynamicSettings */);\r\n        if (!isNOU(settingsObj)\r\n            && settingsObj.hasOwnProperty(key)\r\n            && !isNOU(settingsObj[key])) {\r\n            var settingValue = settingsObj[key];\r\n            // parse types\r\n            if (typeof defaultValue === "number" && typeof settingValue !== "number") {\r\n                if (typeof settingValue === "string") {\r\n                    var returnValue = settingValue.indexOf(".") === -1 ? parseInt(settingValue, 10) : parseFloat(settingValue);\r\n                    return isNaN(returnValue) ? defaultValue : returnValue;\r\n                }\r\n                return defaultValue;\r\n            }\r\n            return settingValue;\r\n        }\r\n    }\r\n    catch (error) {\r\n        _Logging_Logging__WEBPACK_IMPORTED_MODULE_3__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_3__["EventIds"].Common.Error.VALUE, 2 /* Error */, {\r\n            ErrorMessage: "Error reading dynamic setting " + (error && error.message),\r\n            Type: key,\r\n        });\r\n    }\r\n    return defaultValue;\r\n}\r\nfunction resetDynamicSettingsTmsgCache() {\r\n    dynamicSettingsTmsgCache = null;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Db25maWd1cmF0aW9uL0R5bmFtaWNDb25maWd1cmF0aW9uLnRzP2RiOGYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBa0M7QUFDK0M7QUFDSTtBQUd2QztBQUV0QyxTQUFLLEdBQUssNENBQUwsQ0FBVztBQWtDeEIsSUFBSSx3QkFBd0IsR0FBMkIsSUFBSSxDQUFDO0FBRXJELFNBQVMsaUJBQWlCLENBQUksR0FBZSxFQUFFLFlBQWU7SUFDcEUsSUFBSTtRQUNILElBQUksQ0FBQyx3QkFBd0IsSUFBSSwrRUFBd0IsQ0FBQyxrQkFBa0IsRUFBRSxFQUFFO1lBQy9FLHdCQUF3QixHQUFJLElBQUksZ0dBQXNCLENBQUMseUNBQTZCLENBQUMsQ0FBQztTQUN0RjtRQUVELElBQUksQ0FBQyx3QkFBd0IsRUFBRTtZQUM5QixPQUFPLFlBQVksQ0FBQztTQUNwQjtRQUVELElBQU0sV0FBVyxHQUFHLHdCQUF3QixDQUFDLGNBQWMseUNBQWdELENBQUM7UUFDNUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUM7ZUFDbkIsV0FBVyxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUM7ZUFDL0IsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7WUFDN0IsSUFBTSxZQUFZLEdBQUcsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBRXRDLGNBQWM7WUFDZCxJQUFJLE9BQU8sWUFBWSxLQUFLLFFBQVEsSUFBSSxPQUFPLFlBQVksS0FBSyxRQUFRLEVBQUU7Z0JBQ3pFLElBQUksT0FBTyxZQUFZLEtBQUssUUFBUSxFQUFFO29CQUNyQyxJQUFNLFdBQVcsR0FBRyxZQUFZLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsWUFBWSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLENBQUM7b0JBQzdHLE9BQU8sS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLFdBQTJCLENBQUM7aUJBQ3ZFO2dCQUVELE9BQU8sWUFBWSxDQUFDO2FBQ3BCO1lBRUQsT0FBTyxZQUFZLENBQUM7U0FDcEI7S0FDRDtJQUFDLE9BQU8sS0FBSyxFQUFFO1FBQ2YsMERBQWlCLEVBQUUsQ0FBQyxRQUFRLENBQzNCLHlEQUFnQixDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSyxpQkFFbkM7WUFDQyxZQUFZLEVBQUUsb0NBQWlDLEtBQUssSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFFO1lBQ3ZFLElBQUksRUFBRSxHQUFHO1NBQ1QsQ0FBQyxDQUFDO0tBQ0o7SUFFRCxPQUFPLFlBQVksQ0FBQztBQUNyQixDQUFDO0FBRU0sU0FBUyw2QkFBNkI7SUFDNUMsd0JBQXdCLEdBQUcsSUFBSSxDQUFDO0FBQ2pDLENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9Db25maWd1cmF0aW9uL0R5bmFtaWNDb25maWd1cmF0aW9uLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XHJcbmltcG9ydCBGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIgZnJvbSBcIi4uL0Zsb29kZ2F0ZUNvcmUvRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyXCI7XHJcbmltcG9ydCB7IFRhcmdldGVkTWVzc2FnaW5nQ2FjaGUgfSBmcm9tIFwiLi4vVGFyZ2V0ZWRNZXNzYWdpbmcvVGFyZ2V0ZWRNZXNzYWdpbmdDYWNoZVwiO1xyXG5pbXBvcnQgeyBDb250ZW50VHlwZSB9IGZyb20gXCIuLi9UYXJnZXRlZE1lc3NhZ2luZy9UYXJnZXRlZE1lc3NhZ2luZ0NvbnRlbnRUeXBlXCI7XHJcblxyXG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuLi9Mb2dnaW5nL0xvZ2dpbmdcIjtcclxuXHJcbmNvbnN0IHsgaXNOT1UgfSA9IFV0aWxzO1xyXG5cclxuZXhwb3J0IGNvbnN0IGVudW0gU2V0dGluZ0tleSB7XHJcblx0Ly8gR2VuZXJhbFxyXG5cdGxvZ0xldmVsU2V0dGluZ3MgPSBcIkxvZ0xldmVsU2V0dGluZ3NcIixcclxuXHJcblx0Ly8gV2ViIHN1cmZhY2VzXHJcblx0dGVhY2hpbmdNZXNzYWdlQ29vbGRvd24gPSBcIlRlYWNoaW5nTWVzc2FnZUNvb2xkb3duXCIsXHJcblx0d2ViU3VyZmFjZXNMaW5rID0gXCJXZWJTdXJmYWNlc0xpbmtcIixcclxuXHJcblx0Ly8gVE1TIHNldHRpbmdzXHJcblx0dG1zQXBwSWQgPSBcIlRtc0FwcElkXCIsXHJcblx0dG1zU2VydmljZVVybCA9IFwiVG1zU2VydmljZVVybFwiLFxyXG5cdHRtc0FjdGlvblVybCA9IFwiVG1zQWN0aW9uVXJsXCIsXHJcblx0dG1zTG9hZFRpbWVvdXQgPSBcIlRtc0xvYWRUaW1lb3V0XCIsXHJcblx0dG1zTWVzc2FnZU1ldGFkYXRhRXhwaXJ5ID0gXCJUbXNNZXNzYWdlTWV0YWRhdGFFeHBpcnlcIixcclxuXHR0bXNVc2VyR292ZXJuYW5jZVJ1bGVzRXhwaXJ5ID0gXCJUbXNVc2VyR292ZXJuYW5jZVJ1bGVzRXhwaXJ5XCIsXHJcblx0dG1zQ2FtcGFpZ25Db250ZW50RXhwaXJ5ID0gXCJUbXNDYW1wYWlnbkNvbnRlbnRFeHBpcnlcIixcclxuXHR0bXNEeW5hbWljU2V0dGluZ3NFeHBpcnkgPSBcIlRtc0R5bmFtaWNTZXR0aW5nc0V4cGlyeVwiLFxyXG5cdHRtc0xvZ0xldmVsU2V0dGluZ3NFeHBpcnkgPSBcIlRtc0xvZ0xldmVsU2V0dGluZ3NFeHBpcnlcIixcclxuXHR0bXNVc2VyRmFjdHNFeHBpcnkgPSBcIlRtc1VzZXJGYWN0c0V4cGlyeVwiLFxyXG5cclxuXHQvLyBUdWxpcHNcclxuXHR0dWxpcHNBcHBJZCA9IFwiVHVsaXBzQXBwSWRcIixcclxuXHR0dWxpcHNMb2FkVGltZW91dCA9IFwiVHVsaXBzTG9hZFRpbWVvdXRcIixcclxuXHR0dWxpcHNTZXJ2aWNlVXJsID0gXCJUdWxpcHNTZXJ2aWNlVXJsXCIsXHJcblx0dHVsaXBzSW5nZXN0aW9uVGltZUludGVydmFsID0gXCJUdWxpcHNJbmdlc3Rpb25UaW1lSW50ZXJ2YWxcIixcclxuXHJcblx0Ly8gQXVnTG9vcFxyXG5cdHR1bGlwc0F1Z0xvb3BBbm5vdGF0aW9uTmFtZSA9IFwiVHVsaXBzQXVnTG9vcEFubm90YXRpb25OYW1lXCIsXHJcblx0dHVsaXBzQXVnTG9vcFBhY2thZ2VEZWxheUxvYWQgPSBcIlR1bGlwc0F1Z0xvb3BQYWNrYWdlRGVsYXlMb2FkXCIsXHJcblx0dHVsaXBzQXVnTG9vcExvYWRUaW1lb3V0ID0gXCJUdWxpcHNBdWdMb29wTG9hZFRpbWVvdXRcIixcclxufVxyXG5cclxubGV0IGR5bmFtaWNTZXR0aW5nc1Rtc2dDYWNoZTogVGFyZ2V0ZWRNZXNzYWdpbmdDYWNoZSA9IG51bGw7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RHluYW1pY1NldHRpbmc8VD4oa2V5OiBTZXR0aW5nS2V5LCBkZWZhdWx0VmFsdWU6IFQpOiBUIHtcclxuXHR0cnlcdHtcclxuXHRcdGlmICghZHluYW1pY1NldHRpbmdzVG1zZ0NhY2hlICYmIEZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlci5pc1N0b3JhZ2VBdmFpbGFibGUoKSkge1xyXG5cdFx0XHRkeW5hbWljU2V0dGluZ3NUbXNnQ2FjaGUgPSAgbmV3IFRhcmdldGVkTWVzc2FnaW5nQ2FjaGUoW0NvbnRlbnRUeXBlLmR5bmFtaWNTZXR0aW5nc10pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghZHluYW1pY1NldHRpbmdzVG1zZ0NhY2hlKSB7XHJcblx0XHRcdHJldHVybiBkZWZhdWx0VmFsdWU7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgc2V0dGluZ3NPYmogPSBkeW5hbWljU2V0dGluZ3NUbXNnQ2FjaGUuZ2V0SXRlbUNvbnRlbnQ8UmVjb3JkPHN0cmluZywgVD4+KENvbnRlbnRUeXBlLmR5bmFtaWNTZXR0aW5ncyk7XHJcblx0XHRpZiAoIWlzTk9VKHNldHRpbmdzT2JqKVxyXG5cdFx0XHQmJiBzZXR0aW5nc09iai5oYXNPd25Qcm9wZXJ0eShrZXkpXHJcblx0XHRcdCYmICFpc05PVShzZXR0aW5nc09ialtrZXldKSkge1xyXG5cdFx0XHRjb25zdCBzZXR0aW5nVmFsdWUgPSBzZXR0aW5nc09ialtrZXldO1xyXG5cclxuXHRcdFx0Ly8gcGFyc2UgdHlwZXNcclxuXHRcdFx0aWYgKHR5cGVvZiBkZWZhdWx0VmFsdWUgPT09IFwibnVtYmVyXCIgJiYgdHlwZW9mIHNldHRpbmdWYWx1ZSAhPT0gXCJudW1iZXJcIikge1xyXG5cdFx0XHRcdGlmICh0eXBlb2Ygc2V0dGluZ1ZhbHVlID09PSBcInN0cmluZ1wiKSB7XHJcblx0XHRcdFx0XHRjb25zdCByZXR1cm5WYWx1ZSA9IHNldHRpbmdWYWx1ZS5pbmRleE9mKFwiLlwiKSA9PT0gLTEgPyBwYXJzZUludChzZXR0aW5nVmFsdWUsIDEwKSA6IHBhcnNlRmxvYXQoc2V0dGluZ1ZhbHVlKTtcclxuXHRcdFx0XHRcdHJldHVybiBpc05hTihyZXR1cm5WYWx1ZSkgPyBkZWZhdWx0VmFsdWUgOiByZXR1cm5WYWx1ZSBhcyB1bmtub3duIGFzIFQ7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gc2V0dGluZ1ZhbHVlO1xyXG5cdFx0fVxyXG5cdH0gY2F0Y2ggKGVycm9yKSB7XHJcblx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KFxyXG5cdFx0XHRMb2dnaW5nLkV2ZW50SWRzLkNvbW1vbi5FcnJvci5WQUxVRSxcclxuXHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5FcnJvcixcclxuXHRcdFx0e1xyXG5cdFx0XHRcdEVycm9yTWVzc2FnZTogYEVycm9yIHJlYWRpbmcgZHluYW1pYyBzZXR0aW5nICR7ZXJyb3IgJiYgZXJyb3IubWVzc2FnZX1gLFxyXG5cdFx0XHRcdFR5cGU6IGtleSxcclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVzZXREeW5hbWljU2V0dGluZ3NUbXNnQ2FjaGUoKSB7XHJcblx0ZHluYW1pY1NldHRpbmdzVG1zZ0NhY2hlID0gbnVsbDtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Configuration/DynamicConfiguration.ts\n')},"./scripts/app/Configuration/IInitOptions.ts":function(module,exports){eval("//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0NvbmZpZ3VyYXRpb24vSUluaXRPcHRpb25zLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/Configuration/IInitOptions.ts\n")},"./scripts/app/Configuration/ILaunchOptions.ts":function(module,exports){eval("/**\r\n * LaunchOptions interfaces\r\n */\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Db25maWd1cmF0aW9uL0lMYXVuY2hPcHRpb25zLnRzP2YyOWEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUciLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9Db25maWd1cmF0aW9uL0lMYXVuY2hPcHRpb25zLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIExhdW5jaE9wdGlvbnMgaW50ZXJmYWNlc1xyXG4gKi9cclxuXHJcbmltcG9ydCB7SUNhdGVnb3J5T3B0aW9uc30gZnJvbSBcIi4vSUNhdGVnb3J5T3B0aW9uc1wiO1xyXG5pbXBvcnQge0lNYW5pZmVzdERhdGFBcHBsaWNhdGlvbiwgSU1hbmlmZXN0RGF0YVRlbGVtZXRyeSwgSU1hbmlmZXN0RGF0YVdlYn0gZnJvbSBcIi4vLi4vVHJhbnNwb3J0L1RyYW5zcG9ydFwiO1xyXG5cclxuLyoqXHJcbiAqIEludGVyZmFjZSBmb3IgbGF1bmNoIG9wdGlvbnMgZm9yIGluQXBwRmVlZGJhY2tcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUxhdW5jaE9wdGlvbnNJbkFwcEZlZWRiYWNrIHtcclxuXHRhcHBsaWNhdGlvbkdyb3VwPzogSU1hbmlmZXN0RGF0YUFwcGxpY2F0aW9uO1xyXG5cdHRlbGVtZXRyeUdyb3VwPzogSU1hbmlmZXN0RGF0YVRlbGVtZXRyeTtcclxuXHR3ZWJHcm91cD86IElNYW5pZmVzdERhdGFXZWI7XHJcblx0Y2F0ZWdvcmllcz86IElDYXRlZ29yeU9wdGlvbnM7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/Configuration/ILaunchOptions.ts\n")},"./scripts/app/Constants.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FeedbackType", function() { return FeedbackType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DynamicScriptUrls", function() { return DynamicScriptUrls; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GUIDs", function() { return GUIDs; });\n/**\r\n * Constants.ts\r\n *\r\n * A module for non-UI constants.\r\n */\r\n/**\r\n * Values for types of feedback that go into the json\r\n * Also used to determine the FormTemplate used on each one of the feedback types.\r\n */\r\nvar FeedbackType;\r\n(function (FeedbackType) {\r\n    FeedbackType[FeedbackType["Smile"] = 0] = "Smile";\r\n    FeedbackType[FeedbackType["Frown"] = 1] = "Frown";\r\n    FeedbackType[FeedbackType["Idea"] = 2] = "Idea";\r\n    FeedbackType[FeedbackType["Bug"] = 3] = "Bug";\r\n})(FeedbackType || (FeedbackType = {}));\r\n/**\r\n * Dynamic scripts\r\n */\r\nvar DynamicScriptUrls = /** @class */ (function () {\r\n    function DynamicScriptUrls() {\r\n    }\r\n    /**\r\n     * Link to the Office WebSurfaces UX package\r\n     */\r\n    /* tslint:disable:max-line-length */\r\n    DynamicScriptUrls.WebSurfacesLink = "https://content.growth.office.net/mirrored/resources/programmablesurfaces/prod/officewebsurfaces.core.min.js";\r\n    return DynamicScriptUrls;\r\n}());\r\n\r\n/**\r\n * Constant GUIDs\r\n */\r\nvar GUIDs = /** @class */ (function () {\r\n    function GUIDs() {\r\n    }\r\n    GUIDs.TMSAppID = "4c4f550b-42b2-4a16-93f9-fdb9e01bb6ed";\r\n    GUIDs.TULIPSAppID = "05c88d91-956e-46b4-91b0-77a33cc21a4d";\r\n    return GUIDs;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Db25zdGFudHMudHM/MTBhZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0dBSUc7QUFFSDs7O0dBR0c7QUFDSCxJQUFZLFlBS1g7QUFMRCxXQUFZLFlBQVk7SUFDdkIsaURBQUs7SUFDTCxpREFBSztJQUNMLCtDQUFJO0lBQ0osNkNBQUc7QUFDSixDQUFDLEVBTFcsWUFBWSxLQUFaLFlBQVksUUFLdkI7QUE2QkQ7O0dBRUc7QUFDSDtJQUFBO0lBTUEsQ0FBQztJQUxBOztPQUVHO0lBQ0gsb0NBQW9DO0lBQ3RCLGlDQUFlLEdBQVcsOEdBQThHLENBQUM7SUFDeEosd0JBQUM7Q0FBQTtBQU42QjtBQVE5Qjs7R0FFRztBQUNIO0lBQUE7SUFHQSxDQUFDO0lBRmMsY0FBUSxHQUFXLHNDQUFzQyxDQUFDO0lBQzFELGlCQUFXLEdBQVcsc0NBQXNDLENBQUM7SUFDNUUsWUFBQztDQUFBO0FBSGlCIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvQ29uc3RhbnRzLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvbnN0YW50cy50c1xyXG4gKlxyXG4gKiBBIG1vZHVsZSBmb3Igbm9uLVVJIGNvbnN0YW50cy5cclxuICovXHJcblxyXG4vKipcclxuICogVmFsdWVzIGZvciB0eXBlcyBvZiBmZWVkYmFjayB0aGF0IGdvIGludG8gdGhlIGpzb25cclxuICogQWxzbyB1c2VkIHRvIGRldGVybWluZSB0aGUgRm9ybVRlbXBsYXRlIHVzZWQgb24gZWFjaCBvbmUgb2YgdGhlIGZlZWRiYWNrIHR5cGVzLlxyXG4gKi9cclxuZXhwb3J0IGVudW0gRmVlZGJhY2tUeXBlIHtcclxuXHRTbWlsZSxcclxuXHRGcm93bixcclxuXHRJZGVhLFxyXG5cdEJ1ZyxcclxufVxyXG5cclxuLyoqXHJcbiAqIFZhbHVlcyBmb3IgdHlwZXMgb2YgcGFuZWxzIHRoYXQgZ28gaW50byB0aGUganNvblxyXG4gKiBBbHNvIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBQYW5lbFRlbXBsYXRlIHVzZWQgb24gZWFjaCBvbmUgb2YgdGhlIHBhbmVsIHR5cGVzLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGVudW0gUGFuZWxUeXBlIHtcclxuXHRUaGFua3NcclxufVxyXG5cclxuLyoqXHJcbiAqIFZhbHVlcyBmb3IgdGhlIGVudmlyb25tZW50XHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZW51bSBFbnZpcm9ubWVudCB7XHJcblx0UHJvZHVjdGlvbixcclxuXHRJbnRcclxufVxyXG5cclxuLyoqXHJcbiAqIFZhbHVlcyBmb3IgYXV0b2Rpc21pc3NcclxuICovXHJcbmV4cG9ydCBjb25zdCBlbnVtIEF1dG9EaXNtaXNzVmFsdWVzIHtcclxuXHROb0F1dG9EaXNtaXNzLFxyXG5cdFNldmVuU2Vjb25kcyxcclxuXHRGb3VydGVlblNlY29uZHMsXHJcblx0VHdlbnR5T25lU2Vjb25kcyxcclxuXHRUd2VudHlFaWdodFNlY29uZHNcclxufVxyXG5cclxuLyoqXHJcbiAqIER5bmFtaWMgc2NyaXB0c1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIER5bmFtaWNTY3JpcHRVcmxzIHtcclxuXHQvKipcclxuXHQgKiBMaW5rIHRvIHRoZSBPZmZpY2UgV2ViU3VyZmFjZXMgVVggcGFja2FnZVxyXG5cdCAqL1xyXG5cdC8qIHRzbGludDpkaXNhYmxlOm1heC1saW5lLWxlbmd0aCAqL1xyXG5cdHB1YmxpYyBzdGF0aWMgV2ViU3VyZmFjZXNMaW5rOiBzdHJpbmcgPSBcImh0dHBzOi8vY29udGVudC5ncm93dGgub2ZmaWNlLm5ldC9taXJyb3JlZC9yZXNvdXJjZXMvcHJvZ3JhbW1hYmxlc3VyZmFjZXMvcHJvZC9vZmZpY2V3ZWJzdXJmYWNlcy5jb3JlLm1pbi5qc1wiO1xyXG59XHJcblxyXG4vKipcclxuICogQ29uc3RhbnQgR1VJRHNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBHVUlEcyB7XHJcblx0cHVibGljIHN0YXRpYyBUTVNBcHBJRDogc3RyaW5nID0gXCI0YzRmNTUwYi00MmIyLTRhMTYtOTNmOS1mZGI5ZTAxYmI2ZWRcIjtcclxuXHRwdWJsaWMgc3RhdGljIFRVTElQU0FwcElEOiBzdHJpbmcgPSBcIjA1Yzg4ZDkxLTk1NmUtNDZiNC05MWIwLTc3YTMzY2MyMWE0ZFwiO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/Constants.ts\n')},"./scripts/app/FloodgateCore/AdaptiveSurveyLauncherFactory.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore */ "../FloodgateCore/dist/index.js");\n/* harmony import */ var _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _CoachingUXLauncherFactory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CoachingUXLauncherFactory */ "./scripts/app/FloodgateCore/CoachingUXLauncherFactory.ts");\n/* harmony import */ var _RudeSurveyLauncherFactory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RudeSurveyLauncherFactory */ "./scripts/app/FloodgateCore/RudeSurveyLauncherFactory.ts");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Configuration/Configuration */ "./scripts/app/Configuration/Configuration.ts");\n/**\r\n * Survey launcher factory for Web SDK\r\n */\r\n\r\n\r\n\r\n\r\nvar isNOU = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__["Utils"].isNOU;\r\nvar AdaptiveSurveyLauncherFactory = /** @class */ (function () {\r\n    function AdaptiveSurveyLauncherFactory(rudeSurveyLauncherFactory, coachingUXLauncherFactory) {\r\n        this.rudeSurveyLauncherFactory = rudeSurveyLauncherFactory;\r\n        this.coachingUXLauncherFactory = coachingUXLauncherFactory;\r\n    }\r\n    AdaptiveSurveyLauncherFactory.make = function () {\r\n        return new AdaptiveSurveyLauncherFactory(new _RudeSurveyLauncherFactory__WEBPACK_IMPORTED_MODULE_2__["default"](), new _CoachingUXLauncherFactory__WEBPACK_IMPORTED_MODULE_1__["default"]());\r\n    };\r\n    AdaptiveSurveyLauncherFactory.prototype.makeSurveyLauncher = function (survey) {\r\n        if (isNOU(survey)) {\r\n            return null;\r\n        }\r\n        switch (survey.getLauncherType().toLocaleLowerCase()) {\r\n            case _CoachingUXLauncherFactory__WEBPACK_IMPORTED_MODULE_1__["default"].LAUNCHER_TYPE:\r\n                return this.makeGenericMessagingSurfaceLauncher(survey);\r\n            case _RudeSurveyLauncherFactory__WEBPACK_IMPORTED_MODULE_2__["default"].LAUNCHER_TYPE:\r\n            default:\r\n                return this.makeRudeSurveyLauncher(survey);\r\n        }\r\n    };\r\n    AdaptiveSurveyLauncherFactory.prototype.AcceptsSurvey = function (survey) {\r\n        if (isNOU(survey)) {\r\n            return false;\r\n        }\r\n        switch (survey.getType()) {\r\n            case _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__["Api"].ISurvey.Type.GenericMessagingSurface:\r\n                return (!isNOU(this.coachingUXLauncherFactory)\r\n                    && this.coachingUXLauncherFactory.AcceptsSurvey(survey));\r\n            default:\r\n                return _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_3__["get"]().checkIfSurveysEnabled() &&\r\n                    !isNOU(this.rudeSurveyLauncherFactory) &&\r\n                    this.rudeSurveyLauncherFactory.AcceptsSurvey(survey);\r\n        }\r\n    };\r\n    AdaptiveSurveyLauncherFactory.prototype.makeGenericMessagingSurfaceLauncher = function (survey) {\r\n        if (!isNOU(this.coachingUXLauncherFactory)) {\r\n            return this.coachingUXLauncherFactory.makeSurveyLauncher(survey);\r\n        }\r\n        return null;\r\n    };\r\n    AdaptiveSurveyLauncherFactory.prototype.makeRudeSurveyLauncher = function (survey) {\r\n        if (!isNOU(this.rudeSurveyLauncherFactory)) {\r\n            return this.rudeSurveyLauncherFactory.makeSurveyLauncher(survey);\r\n        }\r\n        return null;\r\n    };\r\n    return AdaptiveSurveyLauncherFactory;\r\n}());\r\n/* harmony default export */ __webpack_exports__["default"] = (AdaptiveSurveyLauncherFactory);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9GbG9vZGdhdGVDb3JlL0FkYXB0aXZlU3VydmV5TGF1bmNoZXJGYWN0b3J5LnRzPzg4ZjMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0dBRUc7QUFFc0Q7QUFDVztBQUNBO0FBQ0o7QUFFeEQsU0FBSyxHQUFLLGlFQUFLLE1BQVYsQ0FBVztBQUV4QjtJQVVDLHVDQUFvQix5QkFBb0QsRUFDdkUseUJBQW9EO1FBQ3BELElBQUksQ0FBQyx5QkFBeUIsR0FBRyx5QkFBeUIsQ0FBQztRQUMzRCxJQUFJLENBQUMseUJBQXlCLEdBQUcseUJBQXlCLENBQUM7SUFDNUQsQ0FBQztJQWJhLGtDQUFJLEdBQWxCO1FBQ0MsT0FBTyxJQUFJLDZCQUE2QixDQUN2QyxJQUFJLGtFQUF5QixFQUFFLEVBQy9CLElBQUksa0VBQXlCLEVBQUUsQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFXTSwwREFBa0IsR0FBekIsVUFBMEIsTUFBbUI7UUFDNUMsSUFBSSxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFDbEIsT0FBTyxJQUFJLENBQUM7U0FDWjtRQUVELFFBQVEsTUFBTSxDQUFDLGVBQWUsRUFBRSxDQUFDLGlCQUFpQixFQUFFLEVBQUU7WUFDckQsS0FBSyxrRUFBeUIsQ0FBQyxhQUFhO2dCQUMzQyxPQUFPLElBQUksQ0FBQyxtQ0FBbUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUN6RCxLQUFLLGtFQUF5QixDQUFDLGFBQWEsQ0FBQztZQUM3QztnQkFDQyxPQUFPLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUM1QztJQUNGLENBQUM7SUFFTSxxREFBYSxHQUFwQixVQUFxQixNQUFtQjtRQUN2QyxJQUFJLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUNsQixPQUFPLEtBQUssQ0FBQztTQUNiO1FBRUQsUUFBUSxNQUFNLENBQUMsT0FBTyxFQUFFLEVBQUU7WUFDekIsS0FBSywrREFBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsdUJBQXVCO2dCQUM1QyxPQUFPLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLHlCQUF5QixDQUFDO3VCQUN6QyxJQUFJLENBQUMseUJBQXlCLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDNUQ7Z0JBQ0MsT0FBTyxnRUFBaUIsRUFBRSxDQUFDLHFCQUFxQixFQUFFO29CQUNqRCxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMseUJBQXlCLENBQUM7b0JBQ3RDLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDdkQ7SUFDRixDQUFDO0lBRU8sMkVBQW1DLEdBQTNDLFVBQTRDLE1BQW1CO1FBQzlELElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLHlCQUF5QixDQUFDLEVBQUU7WUFDM0MsT0FBTyxJQUFJLENBQUMseUJBQXlCLENBQUMsa0JBQWtCLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDakU7UUFFRCxPQUFPLElBQUksQ0FBQztJQUNiLENBQUM7SUFFTyw4REFBc0IsR0FBOUIsVUFBK0IsTUFBbUI7UUFDakQsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMseUJBQXlCLENBQUMsRUFBRTtZQUMzQyxPQUFPLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUNqRTtRQUVELE9BQU8sSUFBSSxDQUFDO0lBQ2IsQ0FBQztJQUNGLG9DQUFDO0FBQUQsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0Zsb29kZ2F0ZUNvcmUvQWRhcHRpdmVTdXJ2ZXlMYXVuY2hlckZhY3RvcnkudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogU3VydmV5IGxhdW5jaGVyIGZhY3RvcnkgZm9yIFdlYiBTREtcclxuICovXHJcblxyXG5pbXBvcnQgeyBBcGksIFV0aWxzIH0gZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZVwiO1xyXG5pbXBvcnQgQ29hY2hpbmdVWExhdW5jaGVyRmFjdG9yeSBmcm9tIFwiLi9Db2FjaGluZ1VYTGF1bmNoZXJGYWN0b3J5XCI7XHJcbmltcG9ydCBSdWRlU3VydmV5TGF1bmNoZXJGYWN0b3J5IGZyb20gXCIuL1J1ZGVTdXJ2ZXlMYXVuY2hlckZhY3RvcnlcIjtcclxuaW1wb3J0ICogYXMgQ29uZmlndXJhdGlvbiBmcm9tIFwiLi4vQ29uZmlndXJhdGlvbi9Db25maWd1cmF0aW9uXCI7XHJcblxyXG5jb25zdCB7IGlzTk9VIH0gPSBVdGlscztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFkYXB0aXZlU3VydmV5TGF1bmNoZXJGYWN0b3J5IGltcGxlbWVudHMgQXBpLklTdXJ2ZXlMYXVuY2hlckZhY3Rvcnkge1xyXG5cdHB1YmxpYyBzdGF0aWMgbWFrZSgpOiBBcGkuSVN1cnZleUxhdW5jaGVyRmFjdG9yeSB7XHJcblx0XHRyZXR1cm4gbmV3IEFkYXB0aXZlU3VydmV5TGF1bmNoZXJGYWN0b3J5KFxyXG5cdFx0XHRuZXcgUnVkZVN1cnZleUxhdW5jaGVyRmFjdG9yeSgpLFxyXG5cdFx0XHRuZXcgQ29hY2hpbmdVWExhdW5jaGVyRmFjdG9yeSgpKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcnVkZVN1cnZleUxhdW5jaGVyRmFjdG9yeTogUnVkZVN1cnZleUxhdW5jaGVyRmFjdG9yeTtcclxuXHRwcml2YXRlIGNvYWNoaW5nVVhMYXVuY2hlckZhY3Rvcnk6IENvYWNoaW5nVVhMYXVuY2hlckZhY3Rvcnk7XHJcblxyXG5cdHByaXZhdGUgY29uc3RydWN0b3IocnVkZVN1cnZleUxhdW5jaGVyRmFjdG9yeTogUnVkZVN1cnZleUxhdW5jaGVyRmFjdG9yeSxcclxuXHRcdGNvYWNoaW5nVVhMYXVuY2hlckZhY3Rvcnk6IENvYWNoaW5nVVhMYXVuY2hlckZhY3RvcnkpIHtcclxuXHRcdHRoaXMucnVkZVN1cnZleUxhdW5jaGVyRmFjdG9yeSA9IHJ1ZGVTdXJ2ZXlMYXVuY2hlckZhY3Rvcnk7XHJcblx0XHR0aGlzLmNvYWNoaW5nVVhMYXVuY2hlckZhY3RvcnkgPSBjb2FjaGluZ1VYTGF1bmNoZXJGYWN0b3J5O1xyXG5cdH1cclxuXHJcblx0cHVibGljIG1ha2VTdXJ2ZXlMYXVuY2hlcihzdXJ2ZXk6IEFwaS5JU3VydmV5KTogQXBpLklTdXJ2ZXlMYXVuY2hlciB7XHJcblx0XHRpZiAoaXNOT1Uoc3VydmV5KSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRzd2l0Y2ggKHN1cnZleS5nZXRMYXVuY2hlclR5cGUoKS50b0xvY2FsZUxvd2VyQ2FzZSgpKSB7XHJcblx0XHRcdGNhc2UgQ29hY2hpbmdVWExhdW5jaGVyRmFjdG9yeS5MQVVOQ0hFUl9UWVBFOlxyXG5cdFx0XHRcdHJldHVybiB0aGlzLm1ha2VHZW5lcmljTWVzc2FnaW5nU3VyZmFjZUxhdW5jaGVyKHN1cnZleSk7XHJcblx0XHRcdGNhc2UgUnVkZVN1cnZleUxhdW5jaGVyRmFjdG9yeS5MQVVOQ0hFUl9UWVBFOlxyXG5cdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdHJldHVybiB0aGlzLm1ha2VSdWRlU3VydmV5TGF1bmNoZXIoc3VydmV5KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBBY2NlcHRzU3VydmV5KHN1cnZleTogQXBpLklTdXJ2ZXkpOiBib29sZWFuIHtcclxuXHRcdGlmIChpc05PVShzdXJ2ZXkpKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRzd2l0Y2ggKHN1cnZleS5nZXRUeXBlKCkpIHtcclxuXHRcdFx0Y2FzZSBBcGkuSVN1cnZleS5UeXBlLkdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlOlxyXG5cdFx0XHRcdHJldHVybiAoIWlzTk9VKHRoaXMuY29hY2hpbmdVWExhdW5jaGVyRmFjdG9yeSlcclxuXHRcdFx0XHRcdFx0JiYgdGhpcy5jb2FjaGluZ1VYTGF1bmNoZXJGYWN0b3J5LkFjY2VwdHNTdXJ2ZXkoc3VydmV5KSk7XHJcblx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0cmV0dXJuIENvbmZpZ3VyYXRpb24uZ2V0KCkuY2hlY2tJZlN1cnZleXNFbmFibGVkKCkgJiZcclxuXHRcdFx0XHRcdCFpc05PVSh0aGlzLnJ1ZGVTdXJ2ZXlMYXVuY2hlckZhY3RvcnkpICYmXHJcblx0XHRcdFx0XHR0aGlzLnJ1ZGVTdXJ2ZXlMYXVuY2hlckZhY3RvcnkuQWNjZXB0c1N1cnZleShzdXJ2ZXkpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBtYWtlR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2VMYXVuY2hlcihzdXJ2ZXk6IEFwaS5JU3VydmV5KTogQXBpLklTdXJ2ZXlMYXVuY2hlciB7XHJcblx0XHRpZiAoIWlzTk9VKHRoaXMuY29hY2hpbmdVWExhdW5jaGVyRmFjdG9yeSkpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuY29hY2hpbmdVWExhdW5jaGVyRmFjdG9yeS5tYWtlU3VydmV5TGF1bmNoZXIoc3VydmV5KTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgbWFrZVJ1ZGVTdXJ2ZXlMYXVuY2hlcihzdXJ2ZXk6IEFwaS5JU3VydmV5KTogQXBpLklTdXJ2ZXlMYXVuY2hlciB7XHJcblx0XHRpZiAoIWlzTk9VKHRoaXMucnVkZVN1cnZleUxhdW5jaGVyRmFjdG9yeSkpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMucnVkZVN1cnZleUxhdW5jaGVyRmFjdG9yeS5tYWtlU3VydmV5TGF1bmNoZXIoc3VydmV5KTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/FloodgateCore/AdaptiveSurveyLauncherFactory.ts\n')},"./scripts/app/FloodgateCore/CoachingUXLauncherFactory.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CoachingUXLauncher", function() { return CoachingUXLauncher; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");\n/* harmony import */ var _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore */ "../FloodgateCore/dist/index.js");\n/* harmony import */ var _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../Configuration/Configuration */ "./scripts/app/Configuration/Configuration.ts");\n/* harmony import */ var _Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Configuration/DynamicConfiguration */ "./scripts/app/Configuration/DynamicConfiguration.ts");\n/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Constants */ "./scripts/app/Constants.ts");\n/* harmony import */ var _Window_DomUtils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Window/DomUtils */ "./scripts/app/Window/DomUtils.ts");\n/* harmony import */ var _Window_Window__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Window/Window */ "./scripts/app/Window/Window.ts");\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Logging/Logging */ "./scripts/app/Logging/Logging.ts");\n/* harmony import */ var _TargetedMessaging_AssetsProvider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../TargetedMessaging/AssetsProvider */ "./scripts/app/TargetedMessaging/AssetsProvider.ts");\n/**\r\n * CoachingUX launcher factory for Web SDK\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar isNOU = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_1__["Utils"].isNOU;\r\nvar CoachingUXLauncherFactory = /** @class */ (function () {\r\n    function CoachingUXLauncherFactory() {\r\n    }\r\n    CoachingUXLauncherFactory.prototype.makeSurveyLauncher = function (survey) {\r\n        if (this.AcceptsSurvey(survey)) {\r\n            return new CoachingUXLauncher(survey);\r\n        }\r\n        return null;\r\n    };\r\n    CoachingUXLauncherFactory.prototype.AcceptsSurvey = function (survey) {\r\n        if (!isNOU(survey) && survey.getType() === _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_1__["Api"].ISurvey.Type.GenericMessagingSurface\r\n            && survey.getLauncherType().toLocaleLowerCase() === CoachingUXLauncherFactory.LAUNCHER_TYPE) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    CoachingUXLauncherFactory.LAUNCHER_TYPE = "coachingux";\r\n    return CoachingUXLauncherFactory;\r\n}());\r\n/* harmony default export */ __webpack_exports__["default"] = (CoachingUXLauncherFactory);\r\nvar CoachingUXLauncher = /** @class */ (function () {\r\n    function CoachingUXLauncher(survey) {\r\n        this.survey = survey;\r\n    }\r\n    CoachingUXLauncher.prototype.launch = function () {\r\n        var surveyInfo = this.survey && this.survey.getSurveyInfo();\r\n        var surveyMetadata = surveyInfo && surveyInfo.getMetadata();\r\n        var contentMetadata = surveyMetadata && surveyMetadata.getContentMetadata();\r\n        if (!contentMetadata) {\r\n            return;\r\n        }\r\n        var startTime = new Date();\r\n        var getWebSurfacesInstance = function () {\r\n            var windowInstance = _Window_Window__WEBPACK_IMPORTED_MODULE_6__["getGlobal"]();\r\n            return windowInstance && windowInstance.OfficeWebSurfaces;\r\n        };\r\n        var renderWebSurface = function (uxInitOptions) {\r\n            var officeWebSurfaces = getWebSurfacesInstance();\r\n            if (uxInitOptions) {\r\n                officeWebSurfaces.Initialize(uxInitOptions);\r\n            }\r\n            officeWebSurfaces.RemoveSurface();\r\n            officeWebSurfaces.RenderSurface(contentMetadata, null /* targetElementId */, surveyInfo.getBackEndId());\r\n        };\r\n        var logErrorEvent = function (error) {\r\n            _Logging_Logging__WEBPACK_IMPORTED_MODULE_7__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_7__["EventIds"].WebSurfaces.Common.Error.VALUE, 1 /* Critical */, {\r\n                ErrorMessage: "Error loading websurfaces" + (error && error.message ? ": " + error.message : ""),\r\n                TimeMilliseconds: Date.now() - (+startTime),\r\n            });\r\n        };\r\n        try {\r\n            if (getWebSurfacesInstance()) {\r\n                renderWebSurface();\r\n                return;\r\n            }\r\n            // if UX package isn\'t already loaded, download package and render surface\r\n            _Window_DomUtils__WEBPACK_IMPORTED_MODULE_5__["loadScript"](Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_3__["getDynamicSetting"])("WebSurfacesLink" /* webSurfacesLink */, _Constants__WEBPACK_IMPORTED_MODULE_4__["DynamicScriptUrls"].WebSurfacesLink), null)\r\n                .then(function () {\r\n                var initOptions = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__["get"]().getCommonInitOptions();\r\n                var floodgateInitOptions = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__["get"]().getFloodgateInitOptions();\r\n                var surveyActivatedCallback = floodgateInitOptions && floodgateInitOptions.onSurveyActivatedCallback;\r\n                var beaconCallback = function (beaconParameters) {\r\n                    if (beaconParameters) {\r\n                        return _TargetedMessaging_AssetsProvider__WEBPACK_IMPORTED_MODULE_8__["get"]().setCampaignAction(beaconParameters);\r\n                    }\r\n                };\r\n                var uxOptions = Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])(Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])({}, initOptions), floodgateInitOptions), { beaconCallback: beaconCallback, surfaceInitTime: startTime, surfaceId: surveyInfo.getBackEndId(), logSessionId: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__["get"]().getSdkSessionId(), logSettings: Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_3__["getDynamicSetting"])("LogLevelSettings" /* logLevelSettings */, undefined), renderer: surveyActivatedCallback, renderCallback: surveyActivatedCallback && surveyActivatedCallback.onTeachingCampaignRender });\r\n                renderWebSurface(uxOptions);\r\n            }).catch(function (error) {\r\n                logErrorEvent(error);\r\n            });\r\n        }\r\n        catch (error) {\r\n            logErrorEvent(error);\r\n        }\r\n    };\r\n    return CoachingUXLauncher;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9GbG9vZGdhdGVDb3JlL0NvYWNoaW5nVVhMYXVuY2hlckZhY3RvcnkudHM/NDA2OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7R0FFRzs7QUFFc0Q7QUFFUztBQUVvQjtBQUU1QztBQUNLO0FBQ0o7QUFDRztBQUN3QjtBQUU5RCxTQUFLLEdBQUssaUVBQUssTUFBVixDQUFXO0FBdUJ4QjtJQUFBO0lBbUJBLENBQUM7SUFoQk8sc0RBQWtCLEdBQXpCLFVBQTBCLE1BQW1CO1FBQzVDLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUMvQixPQUFPLElBQUksa0JBQWtCLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDdEM7UUFFRCxPQUFPLElBQUksQ0FBQztJQUNiLENBQUM7SUFFTSxpREFBYSxHQUFwQixVQUFxQixNQUFtQjtRQUN2QyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLE1BQU0sQ0FBQyxPQUFPLEVBQUUsS0FBSywrREFBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsdUJBQXVCO2VBQ2hGLE1BQU0sQ0FBQyxlQUFlLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxLQUFLLHlCQUF5QixDQUFDLGFBQWEsRUFBRTtZQUM1RixPQUFPLElBQUksQ0FBQztTQUNaO1FBRUQsT0FBTyxLQUFLLENBQUM7SUFDZCxDQUFDO0lBakJzQix1Q0FBYSxHQUFXLFlBQVksQ0FBQztJQWtCN0QsZ0NBQUM7Q0FBQTtBQW5Cb0Isd0ZBQXlCO0FBcUI5QztJQUdDLDRCQUFZLE1BQW1CO1FBQzlCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBQ3RCLENBQUM7SUFFTSxtQ0FBTSxHQUFiO1FBQ0MsSUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJ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Z0JBQ2IsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3RCLENBQUMsQ0FBQyxDQUFDO1NBQ0g7UUFBQyxPQUFPLEtBQUssRUFBRTtZQUNmLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNyQjtJQUNGLENBQUM7SUFDRix5QkFBQztBQUFELENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9GbG9vZGdhdGVDb3JlL0NvYWNoaW5nVVhMYXVuY2hlckZhY3RvcnkudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ29hY2hpbmdVWCBsYXVuY2hlciBmYWN0b3J5IGZvciBXZWIgU0RLXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQXBpLCBVdGlscyB9IGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmVcIjtcclxuXHJcbmltcG9ydCAqIGFzIENvbmZpZ3VyYXRpb24gZnJvbSBcIi4vLi4vQ29uZmlndXJhdGlvbi9Db25maWd1cmF0aW9uXCI7XHJcbmltcG9ydCB7IElJbml0T3B0aW9uc0NvbW1vbiB9IGZyb20gXCIuLy4uL0NvbmZpZ3VyYXRpb24vQ29uZmlndXJhdGlvblwiO1xyXG5pbXBvcnQgeyBnZXREeW5hbWljU2V0dGluZywgU2V0dGluZ0tleSB9IGZyb20gXCIuLi9Db25maWd1cmF0aW9uL0R5bmFtaWNDb25maWd1cmF0aW9uXCI7XHJcblxyXG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSBcIi4uL0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgKiBhcyBEb21VdGlscyBmcm9tIFwiLi4vV2luZG93L0RvbVV0aWxzXCI7XHJcbmltcG9ydCAqIGFzIFdpbmRvdyBmcm9tIFwiLi4vV2luZG93L1dpbmRvd1wiO1xyXG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuLi9Mb2dnaW5nL0xvZ2dpbmdcIjtcclxuaW1wb3J0ICogYXMgQXNzZXRzUHJvdmlkZXIgZnJvbSBcIi4uL1RhcmdldGVkTWVzc2FnaW5nL0Fzc2V0c1Byb3ZpZGVyXCI7XHJcblxyXG5jb25zdCB7IGlzTk9VIH0gPSBVdGlscztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUJlYWNvblBhcmFtZXRlcnMge1xyXG5cdGFjdGlvbk5hbWU6IHN0cmluZztcclxuXHRhY3Rpb25Vcmw6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJT2ZmaWNlV2ViU3VyZmFjZXMge1xyXG5cdEluaXRpYWxpemUoaW50T3B0aW9uczogSUluaXRPcHRpb25zQ29tbW9uKTogdm9pZDtcclxuXHRSZW5kZXJTdXJmYWNlKFxyXG5cdFx0c3VyZmFjZVBhcmFtczogYW55LFxyXG5cdFx0dGFyZ2V0RWxlbWVudElkPzogc3RyaW5nLFxyXG5cdFx0c3VyZmFjZUlkPzogc3RyaW5nKTogdm9pZDtcclxuXHRSZW1vdmVTdXJmYWNlKCk6IHZvaWQ7XHJcblx0R2V0U3VyZmFjZUNvbnRhaW5lcklkKCk6IHN0cmluZztcclxufVxyXG5cclxuZGVjbGFyZSBtb2R1bGUgXCIuLi9XaW5kb3cvV2luZG93XCIge1xyXG5cdGludGVyZmFjZSBJV2luZG93IHtcclxuXHRcdE9mZmljZVdlYlN1cmZhY2VzOiBJT2ZmaWNlV2ViU3VyZmFjZXM7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb2FjaGluZ1VYTGF1bmNoZXJGYWN0b3J5IGltcGxlbWVudHMgQXBpLklTdXJ2ZXlMYXVuY2hlckZhY3Rvcnkge1xyXG5cdHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgTEFVTkNIRVJfVFlQRTogc3RyaW5nID0gXCJjb2FjaGluZ3V4XCI7XHJcblxyXG5cdHB1YmxpYyBtYWtlU3VydmV5TGF1bmNoZXIoc3VydmV5OiBBcGkuSVN1cnZleSk6IEFwaS5JU3VydmV5TGF1bmNoZXIge1xyXG5cdFx0aWYgKHRoaXMuQWNjZXB0c1N1cnZleShzdXJ2ZXkpKSB7XHJcblx0XHRcdHJldHVybiBuZXcgQ29hY2hpbmdVWExhdW5jaGVyKHN1cnZleSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgQWNjZXB0c1N1cnZleShzdXJ2ZXk6IEFwaS5JU3VydmV5KTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIWlzTk9VKHN1cnZleSkgJiYgc3VydmV5LmdldFR5cGUoKSA9PT0gQXBpLklTdXJ2ZXkuVHlwZS5HZW5lcmljTWVzc2FnaW5nU3VyZmFjZVxyXG5cdFx0JiYgc3VydmV5LmdldExhdW5jaGVyVHlwZSgpLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IENvYWNoaW5nVVhMYXVuY2hlckZhY3RvcnkuTEFVTkNIRVJfVFlQRSkge1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ29hY2hpbmdVWExhdW5jaGVyIGltcGxlbWVudHMgQXBpLklTdXJ2ZXlMYXVuY2hlciB7XHJcblx0cHJpdmF0ZSBzdXJ2ZXk6IEFwaS5JU3VydmV5O1xyXG5cclxuXHRjb25zdHJ1Y3RvcihzdXJ2ZXk6IEFwaS5JU3VydmV5KSB7XHJcblx0XHR0aGlzLnN1cnZleSA9IHN1cnZleTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBsYXVuY2goKTogdm9pZCB7XHJcblx0XHRjb25zdCBzdXJ2ZXlJbmZvID0gdGhpcy5zdXJ2ZXkgJiYgdGhpcy5zdXJ2ZXkuZ2V0U3VydmV5SW5mbygpO1xyXG5cdFx0Y29uc3Qgc3VydmV5TWV0YWRhdGEgPSBzdXJ2ZXlJbmZvICYmIHN1cnZleUluZm8uZ2V0TWV0YWRhdGEoKTtcclxuXHRcdGNvbnN0IGNvbnRlbnRNZXRhZGF0YSA9IHN1cnZleU1ldGFkYXRhICYmIHN1cnZleU1ldGFkYXRhLmdldENvbnRlbnRNZXRhZGF0YSgpO1xyXG5cdFx0aWYgKCFjb250ZW50TWV0YWRhdGEpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7XHJcblx0XHRjb25zdCBnZXRXZWJTdXJmYWNlc0luc3RhbmNlID0gKCkgPT4ge1xyXG5cdFx0XHRjb25zdCB3aW5kb3dJbnN0YW5jZSA9IFdpbmRvdy5nZXRHbG9iYWwoKTtcclxuXHRcdFx0cmV0dXJuIHdpbmRvd0luc3RhbmNlICYmIHdpbmRvd0luc3RhbmNlLk9mZmljZVdlYlN1cmZhY2VzO1xyXG5cdFx0fTtcclxuXHJcblx0XHRjb25zdCByZW5kZXJXZWJTdXJmYWNlID0gKHV4SW5pdE9wdGlvbnM/OiBhbnkpID0+IHtcclxuXHRcdFx0Y29uc3Qgb2ZmaWNlV2ViU3VyZmFjZXMgPSBnZXRXZWJTdXJmYWNlc0luc3RhbmNlKCk7XHJcblx0XHRcdGlmICh1eEluaXRPcHRpb25zKSB7XHJcblx0XHRcdFx0b2ZmaWNlV2ViU3VyZmFjZXMuSW5pdGlhbGl6ZSh1eEluaXRPcHRpb25zKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0b2ZmaWNlV2ViU3VyZmFjZXMuUmVtb3ZlU3VyZmFjZSgpO1xyXG5cdFx0XHRvZmZpY2VXZWJTdXJmYWNlcy5SZW5kZXJTdXJmYWNlKFxyXG5cdFx0XHRcdGNvbnRlbnRNZXRhZGF0YSxcclxuXHRcdFx0XHRudWxsIC8qIHRhcmdldEVsZW1lbnRJZCAqLyxcclxuXHRcdFx0XHRzdXJ2ZXlJbmZvLmdldEJhY2tFbmRJZCgpKTtcclxuXHRcdH07XHJcblxyXG5cdFx0Y29uc3QgbG9nRXJyb3JFdmVudCA9IChlcnJvcj86IEVycm9yKSA9PiB7XHJcblx0XHRcdExvZ2dpbmcuZ2V0TG9nZ2VyKCkubG9nRXZlbnQoXHJcblx0XHRcdFx0TG9nZ2luZy5FdmVudElkcy5XZWJTdXJmYWNlcy5Db21tb24uRXJyb3IuVkFMVUUsXHJcblx0XHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5Dcml0aWNhbCxcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRFcnJvck1lc3NhZ2U6IFwiRXJyb3IgbG9hZGluZyB3ZWJzdXJmYWNlc1wiICsgKGVycm9yICYmIGVycm9yLm1lc3NhZ2UgPyBcIjogXCIgKyBlcnJvci5tZXNzYWdlIDogXCJcIiksXHJcblx0XHRcdFx0XHRUaW1lTWlsbGlzZWNvbmRzOiBEYXRlLm5vdygpIC0gKCtzdGFydFRpbWUpLFxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHR0cnkge1xyXG5cdFx0XHRpZiAoZ2V0V2ViU3VyZmFjZXNJbnN0YW5jZSgpKSB7XHJcblx0XHRcdFx0cmVuZGVyV2ViU3VyZmFjZSgpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gaWYgVVggcGFja2FnZSBpc24ndCBhbHJlYWR5IGxvYWRlZCwgZG93bmxvYWQgcGFja2FnZSBhbmQgcmVuZGVyIHN1cmZhY2VcclxuXHRcdFx0RG9tVXRpbHMubG9hZFNjcmlwdChnZXREeW5hbWljU2V0dGluZyhTZXR0aW5nS2V5LndlYlN1cmZhY2VzTGluaywgQ29uc3RhbnRzLkR5bmFtaWNTY3JpcHRVcmxzLldlYlN1cmZhY2VzTGluayksIG51bGwpXHJcblx0XHRcdC50aGVuKCgpID0+IHtcclxuXHRcdFx0XHRjb25zdCBpbml0T3B0aW9ucyA9IENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKTtcclxuXHRcdFx0XHRjb25zdCBmbG9vZGdhdGVJbml0T3B0aW9ucyA9IENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Rmxvb2RnYXRlSW5pdE9wdGlvbnMoKTtcclxuXHRcdFx0XHRjb25zdCBzdXJ2ZXlBY3RpdmF0ZWRDYWxsYmFjayA9IGZsb29kZ2F0ZUluaXRPcHRpb25zICYmIGZsb29kZ2F0ZUluaXRPcHRpb25zLm9uU3VydmV5QWN0aXZhdGVkQ2FsbGJhY2s7XHJcblxyXG5cdFx0XHRcdGNvbnN0IGJlYWNvbkNhbGxiYWNrID0gKGJlYWNvblBhcmFtZXRlcnM6IElCZWFjb25QYXJhbWV0ZXJzKTogUHJvbWlzZTxib29sZWFuPiA9PiB7XHJcblx0XHRcdFx0XHRpZiAoYmVhY29uUGFyYW1ldGVycykge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gQXNzZXRzUHJvdmlkZXIuZ2V0KCkuc2V0Q2FtcGFpZ25BY3Rpb24oYmVhY29uUGFyYW1ldGVycyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0Y29uc3QgdXhPcHRpb25zID0ge1xyXG5cdFx0XHRcdFx0Li4uaW5pdE9wdGlvbnMsXHJcblx0XHRcdFx0XHQuLi5mbG9vZGdhdGVJbml0T3B0aW9ucyxcclxuXHRcdFx0XHRcdGJlYWNvbkNhbGxiYWNrLFxyXG5cdFx0XHRcdFx0c3VyZmFjZUluaXRUaW1lOiBzdGFydFRpbWUsXHJcblx0XHRcdFx0XHRzdXJmYWNlSWQ6IHN1cnZleUluZm8uZ2V0QmFja0VuZElkKCksXHJcblx0XHRcdFx0XHRsb2dTZXNzaW9uSWQ6IENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0U2RrU2Vzc2lvbklkKCksXHJcblx0XHRcdFx0XHRsb2dTZXR0aW5nczogZ2V0RHluYW1pY1NldHRpbmcoU2V0dGluZ0tleS5sb2dMZXZlbFNldHRpbmdzLCB1bmRlZmluZWQpLFxyXG5cdFx0XHRcdFx0cmVuZGVyZXI6IHN1cnZleUFjdGl2YXRlZENhbGxiYWNrLFxyXG5cdFx0XHRcdFx0cmVuZGVyQ2FsbGJhY2s6IHN1cnZleUFjdGl2YXRlZENhbGxiYWNrICYmIHN1cnZleUFjdGl2YXRlZENhbGxiYWNrLm9uVGVhY2hpbmdDYW1wYWlnblJlbmRlcixcclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRyZW5kZXJXZWJTdXJmYWNlKHV4T3B0aW9ucyk7XHJcblx0XHRcdH0pLmNhdGNoKGVycm9yID0+IHtcclxuXHRcdFx0XHRsb2dFcnJvckV2ZW50KGVycm9yKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRsb2dFcnJvckV2ZW50KGVycm9yKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/FloodgateCore/CoachingUXLauncherFactory.ts\n')},"./scripts/app/FloodgateCore/FloodgateEnvironmentProvider.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../Configuration/Configuration */ "./scripts/app/Configuration/Configuration.ts");\n/**\r\n * Implementation for IFloodgateEnvironmentProvider for web SDK.\r\n * We pass the SDK\'s internal locale here and not the one which the host app specifies.\r\n */\r\n\r\nvar FloodgateEnvironmentProvider = /** @class */ (function () {\r\n    function FloodgateEnvironmentProvider() {\r\n    }\r\n    FloodgateEnvironmentProvider.prototype.getLanguage = function () {\r\n        return _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__["get"]().getCommonInitOptions().originalLocale;\r\n    };\r\n    return FloodgateEnvironmentProvider;\r\n}());\r\n/* harmony default export */ __webpack_exports__["default"] = (FloodgateEnvironmentProvider);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9GbG9vZGdhdGVDb3JlL0Zsb29kZ2F0ZUVudmlyb25tZW50UHJvdmlkZXIudHM/NGY0ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7OztHQUdHO0FBRytEO0FBRWxFO0lBQUE7SUFJQSxDQUFDO0lBSE8sa0RBQVcsR0FBbEI7UUFDQyxPQUFPLGdFQUFpQixFQUFFLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxjQUFjLENBQUM7SUFDbEUsQ0FBQztJQUNGLG1DQUFDO0FBQUQsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0Zsb29kZ2F0ZUNvcmUvRmxvb2RnYXRlRW52aXJvbm1lbnRQcm92aWRlci50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBJbXBsZW1lbnRhdGlvbiBmb3IgSUZsb29kZ2F0ZUVudmlyb25tZW50UHJvdmlkZXIgZm9yIHdlYiBTREsuXHJcbiAqIFdlIHBhc3MgdGhlIFNESydzIGludGVybmFsIGxvY2FsZSBoZXJlIGFuZCBub3QgdGhlIG9uZSB3aGljaCB0aGUgaG9zdCBhcHAgc3BlY2lmaWVzLlxyXG4gKi9cclxuXHJcbmltcG9ydCAqIGFzIEFwaSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0FwaS9BcGlcIjtcclxuaW1wb3J0ICogYXMgQ29uZmlndXJhdGlvbiBmcm9tIFwiLi8uLi9Db25maWd1cmF0aW9uL0NvbmZpZ3VyYXRpb25cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZsb29kZ2F0ZUVudmlyb25tZW50UHJvdmlkZXIgaW1wbGVtZW50cyBBcGkuSUZsb29kZ2F0ZUVudmlyb25tZW50UHJvdmlkZXIge1xyXG5cdHB1YmxpYyBnZXRMYW5ndWFnZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKS5vcmlnaW5hbExvY2FsZTtcclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/FloodgateCore/FloodgateEnvironmentProvider.ts\n')},"./scripts/app/FloodgateCore/FloodgateStorageProvider.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Api/Api */ "../FloodgateCore/dist/src/Api/Api.js");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Window_Window__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../Window/Window */ "./scripts/app/Window/Window.ts");\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../Logging/Logging */ "./scripts/app/Logging/Logging.ts");\n/**\r\n * Implementation of IFloodgateStorageProvider for Web SDK\r\n */\r\nvar _a;\r\n\r\n\r\n\r\nvar FileType = _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_0__["IFloodgateStorageProvider"].FileType;\r\nvar fileTypeToKeyMap = (_a = {},\r\n    _a[FileType.CampaignDefinitions] = "obf-CampaignDefinitions",\r\n    _a[FileType.CampaignStates] = "obf-CampaignStates",\r\n    _a[FileType.FloodgateSettings] = "obf-FloodgateSettings",\r\n    _a[FileType.GovernedChannelStates] = "obf-GovernedChannelStates",\r\n    _a[FileType.SurveyActivationStats] = "obf-SurveyActivationStats",\r\n    _a[FileType.SurveyEventActivityStats] = "obf-SurveyEventActivityStats",\r\n    _a[FileType.TmsCache_CampaignContent] = "obf-TmsCampaignContent",\r\n    _a[FileType.TmsCache_MessageMetadata] = "obf-TmsMessageMetadata",\r\n    _a[FileType.TmsCache_UserGovernance] = "obf-TmsUserGovernance",\r\n    _a[FileType.Tms_DynamicSettings] = "obf-TmsDynamicSettings",\r\n    _a[FileType.LogLevelSettings] = "obf-LogLevelSettings",\r\n    _a[FileType.UserFacts] = "obf-UserFacts",\r\n    _a[FileType.DebugOverrides] = "obf-DebugOverrides",\r\n    _a);\r\nvar FloodgateStorageProvider = /** @class */ (function () {\r\n    function FloodgateStorageProvider() {\r\n    }\r\n    /**\r\n     * Code to detect localStorage presence.\r\n     * Copied from MDN: https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API\r\n     */\r\n    FloodgateStorageProvider.isStorageAvailable = function () {\r\n        try {\r\n            var x = "__storage_test__";\r\n            _Window_Window__WEBPACK_IMPORTED_MODULE_1__["getGlobal"]().localStorage.setItem(x, x);\r\n            _Window_Window__WEBPACK_IMPORTED_MODULE_1__["getGlobal"]().localStorage.removeItem(x);\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            return e instanceof DOMException && (\r\n            // everything except Firefox\r\n            e.code === 22 ||\r\n                // Firefox\r\n                e.code === 1014 ||\r\n                // test name field too, because code might not be present\r\n                // everything except Firefox\r\n                e.name === "QuotaExceededError" ||\r\n                // Firefox\r\n                e.name === "NS_ERROR_DOM_QUOTA_REACHED") &&\r\n                // acknowledge QuotaExceededError only if there\'s something already stored\r\n                _Window_Window__WEBPACK_IMPORTED_MODULE_1__["getGlobal"]().localStorage.length !== 0;\r\n        }\r\n    };\r\n    /**\r\n     * Safely read an object\r\n     */\r\n    FloodgateStorageProvider.safeReadObject = function (fileType, defaultValue) {\r\n        if (defaultValue === void 0) { defaultValue = undefined; }\r\n        if (!(fileType in FileType)) {\r\n            return defaultValue;\r\n        }\r\n        try {\r\n            var storageKey = fileTypeToKeyMap[fileType];\r\n            var result = _Window_Window__WEBPACK_IMPORTED_MODULE_1__["getGlobal"]().localStorage.getItem(storageKey);\r\n            var parsedObject = result && (result[0] === "{" || result[0] === "[") ? JSON.parse(result) : result;\r\n            return parsedObject !== null && parsedObject !== void 0 ? parsedObject : defaultValue;\r\n        }\r\n        catch (e) {\r\n            // ignore\r\n        }\r\n        return defaultValue;\r\n    };\r\n    /**\r\n     * Lock the file to prevent access from another process.\r\n     */\r\n    FloodgateStorageProvider.prototype.fileLock = function (fileType) {\r\n        // JS runs on a single thread in the browser.\r\n        return;\r\n    };\r\n    /**\r\n     * Unlock the file.\r\n     */\r\n    FloodgateStorageProvider.prototype.fileUnlock = function (fileType) {\r\n        // JS runs on a single thread in the browser.\r\n        return;\r\n    };\r\n    /**\r\n     * Read the file\r\n     */\r\n    FloodgateStorageProvider.prototype.read = function (fileType) {\r\n        if (!(fileType in FileType)) {\r\n            return "";\r\n        }\r\n        var storageKey = fileTypeToKeyMap[fileType];\r\n        var result;\r\n        try {\r\n            result = _Window_Window__WEBPACK_IMPORTED_MODULE_1__["getGlobal"]().localStorage.getItem(storageKey);\r\n        }\r\n        catch (e) {\r\n            _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_2__["EventIds"].SURVEY_FLOODGATE_FILEREAD_FAILED, 2 /* Error */, {\r\n                ErrorMessage: e.toString(),\r\n                FileName: storageKey,\r\n            });\r\n            return "";\r\n        }\r\n        return result;\r\n    };\r\n    /**\r\n     * Write to the file\r\n     */\r\n    FloodgateStorageProvider.prototype.write = function (fileType, content) {\r\n        if (!(fileType in FileType)) {\r\n            return;\r\n        }\r\n        var storageKey = fileTypeToKeyMap[fileType];\r\n        try {\r\n            _Window_Window__WEBPACK_IMPORTED_MODULE_1__["getGlobal"]().localStorage.setItem(storageKey, content);\r\n        }\r\n        catch (e) {\r\n            _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_2__["EventIds"].SURVEY_FLOODGATE_FILEWRITE_FAILED, 2 /* Error */, {\r\n                ErrorMessage: e.toString(),\r\n                FileName: storageKey,\r\n            });\r\n            return;\r\n        }\r\n    };\r\n    return FloodgateStorageProvider;\r\n}());\r\n/* harmony default export */ __webpack_exports__["default"] = (FloodgateStorageProvider);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9GbG9vZGdhdGVDb3JlL0Zsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlci50cz84YTc5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7R0FFRzs7QUFFc0Y7QUFDNUM7QUFDRztBQUNoRCxJQUFPLFFBQVEsR0FBRyxzR0FBeUIsQ0FBQyxRQUFRLENBQUM7QUFFckQsSUFBTSxnQkFBZ0I7SUFDckIsR0FBQyxRQUFRLENBQUMsbUJBQW1CLElBQUcseUJBQXlCO0lBQ3pELEdBQUMsUUFBUSxDQUFDLGNBQWMsSUFBRyxvQkFBb0I7SUFDL0MsR0FBQyxRQUFRLENBQUMsaUJBQWlCLElBQUcsdUJBQXVCO0lBQ3JELEdBQUMsUUFBUSxDQUFDLHFCQUFxQixJQUFHLDJCQUEyQjtJQUM3RCxHQUFDLFFBQVEsQ0FBQyxxQkFBcUIsSUFBRywyQkFBMkI7SUFDN0QsR0FBQyxRQUFRLENBQUMsd0JBQXdCLElBQUcsOEJBQThCO0lBQ25FLEdBQUMsUUFBUSxDQUFDLHdCQUF3QixJQUFHLHdCQUF3QjtJQUM3RCxHQUFDLFFBQVEsQ0FBQyx3QkFBd0IsSUFBRyx3QkFBd0I7SUFDN0QsR0FBQyxRQUFRLENBQUMsdUJBQXVCLElBQUcsdUJBQXVCO0lBQzNELEdBQUMsUUFBUSxDQUFDLG1CQUFtQixJQUFHLHdCQUF3QjtJQUN4RCxHQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsSUFBRyxzQkFBc0I7SUFDbkQsR0FBQyxRQUFRLENBQUMsU0FBUyxJQUFHLGVBQWU7SUFDckMsR0FBQyxRQUFRLENBQUMsY0FBYyxJQUFHLG9CQUFvQjtPQUMvQyxDQUFDO0FBRUY7SUFBQTtJQTZHQSxDQUFDO0lBNUdBOzs7T0FHRztJQUNXLDJDQUFrQixHQUFoQztRQUNDLElBQUk7WUFDSCxJQUFJLENBQUMsR0FBRyxrQkFBa0IsQ0FBQztZQUMzQix3REFBZ0IsRUFBRSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FB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QUFFLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FDN0Q7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNYLDBEQUFpQixFQUFFLENBQUMsUUFBUSxDQUFDLHlEQUFnQixDQUFDLGlDQUFpQyxpQkFFOUU7Z0JBQ0MsWUFBWSxFQUFFLENBQUMsQ0FBQyxRQUFRLEVBQUU7Z0JBQzFCLFFBQVEsRUFBRSxVQUFVO2FBQ3BCLENBQUMsQ0FBQztZQUNKLE9BQU87U0FDUDtJQUNGLENBQUM7SUFDRiwrQkFBQztBQUFELENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9GbG9vZGdhdGVDb3JlL0Zsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlci50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBJbXBsZW1lbnRhdGlvbiBvZiBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyIGZvciBXZWIgU0RLXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlciB9IGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmUvZGlzdC9zcmMvQXBpL0FwaVwiO1xyXG5pbXBvcnQgKiBhcyBXaW5kb3cgZnJvbSBcIi4vLi4vV2luZG93L1dpbmRvd1wiO1xyXG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuLy4uL0xvZ2dpbmcvTG9nZ2luZ1wiO1xyXG5pbXBvcnQgRmlsZVR5cGUgPSBJRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLkZpbGVUeXBlO1xyXG5cclxuY29uc3QgZmlsZVR5cGVUb0tleU1hcDogeyBbayBpbiBGaWxlVHlwZV06IHN0cmluZyB9ID0ge1xyXG5cdFtGaWxlVHlwZS5DYW1wYWlnbkRlZmluaXRpb25zXTogXCJvYmYtQ2FtcGFpZ25EZWZpbml0aW9uc1wiLFxyXG5cdFtGaWxlVHlwZS5DYW1wYWlnblN0YXRlc106IFwib2JmLUNhbXBhaWduU3RhdGVzXCIsXHJcblx0W0ZpbGVUeXBlLkZsb29kZ2F0ZVNldHRpbmdzXTogXCJvYmYtRmxvb2RnYXRlU2V0dGluZ3NcIixcclxuXHRbRmlsZVR5cGUuR292ZXJuZWRDaGFubmVsU3RhdGVzXTogXCJvYmYtR292ZXJuZWRDaGFubmVsU3RhdGVzXCIsXHJcblx0W0ZpbGVUeXBlLlN1cnZleUFjdGl2YXRpb25TdGF0c106IFwib2JmLVN1cnZleUFjdGl2YXRpb25TdGF0c1wiLFxyXG5cdFtGaWxlVHlwZS5TdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHNdOiBcIm9iZi1TdXJ2ZXlFdmVudEFjdGl2aXR5U3RhdHNcIixcclxuXHRbRmlsZVR5cGUuVG1zQ2FjaGVfQ2FtcGFpZ25Db250ZW50XTogXCJvYmYtVG1zQ2FtcGFpZ25Db250ZW50XCIsXHJcblx0W0ZpbGVUeXBlLlRtc0NhY2hlX01lc3NhZ2VNZXRhZGF0YV06IFwib2JmLVRtc01lc3NhZ2VNZXRhZGF0YVwiLFxyXG5cdFtGaWxlVHlwZS5UbXNDYWNoZV9Vc2VyR292ZXJuYW5jZV06IFwib2JmLVRtc1VzZXJHb3Zlcm5hbmNlXCIsXHJcblx0W0ZpbGVUeXBlLlRtc19EeW5hbWljU2V0dGluZ3NdOiBcIm9iZi1UbXNEeW5hbWljU2V0dGluZ3NcIixcclxuXHRbRmlsZVR5cGUuTG9nTGV2ZWxTZXR0aW5nc106IFwib2JmLUxvZ0xldmVsU2V0dGluZ3NcIixcclxuXHRbRmlsZVR5cGUuVXNlckZhY3RzXTogXCJvYmYtVXNlckZhY3RzXCIsXHJcblx0W0ZpbGVUeXBlLkRlYnVnT3ZlcnJpZGVzXTogXCJvYmYtRGVidWdPdmVycmlkZXNcIixcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlciBpbXBsZW1lbnRzIElGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIge1xyXG5cdC8qKlxyXG5cdCAqIENvZGUgdG8gZGV0ZWN0IGxvY2FsU3RvcmFnZSBwcmVzZW5jZS5cclxuXHQgKiBDb3BpZWQgZnJvbSBNRE46IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJfU3RvcmFnZV9BUEkvVXNpbmdfdGhlX1dlYl9TdG9yYWdlX0FQSVxyXG5cdCAqL1xyXG5cdHB1YmxpYyBzdGF0aWMgaXNTdG9yYWdlQXZhaWxhYmxlKCk6IGJvb2xlYW4ge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0bGV0IHggPSBcIl9fc3RvcmFnZV90ZXN0X19cIjtcclxuXHRcdFx0V2luZG93LmdldEdsb2JhbCgpLmxvY2FsU3RvcmFnZS5zZXRJdGVtKHgsIHgpO1xyXG5cdFx0XHRXaW5kb3cuZ2V0R2xvYmFsKCkubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oeCk7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRyZXR1cm4gZSBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbiAmJiAoXHJcblx0XHRcdFx0Ly8gZXZlcnl0aGluZyBleGNlcHQgRmlyZWZveFxyXG5cdFx0XHRcdGUuY29kZSA9PT0gMjIgfHxcclxuXHRcdFx0XHQvLyBGaXJlZm94XHJcblx0XHRcdFx0ZS5jb2RlID09PSAxMDE0IHx8XHJcblx0XHRcdFx0Ly8gdGVzdCBuYW1lIGZpZWxkIHRvbywgYmVjYXVzZSBjb2RlIG1pZ2h0IG5vdCBiZSBwcmVzZW50XHJcblx0XHRcdFx0Ly8gZXZlcnl0aGluZyBleGNlcHQgRmlyZWZveFxyXG5cdFx0XHRcdGUubmFtZSA9PT0gXCJRdW90YUV4Y2VlZGVkRXJyb3JcIiB8fFxyXG5cdFx0XHRcdC8vIEZpcmVmb3hcclxuXHRcdFx0XHRlLm5hbWUgPT09IFwiTlNfRVJST1JfRE9NX1FVT1RBX1JFQUNIRURcIikgJiZcclxuXHRcdFx0XHQvLyBhY2tub3dsZWRnZSBRdW90YUV4Y2VlZGVkRXJyb3Igb25seSBpZiB0aGVyZSdzIHNvbWV0aGluZyBhbHJlYWR5IHN0b3JlZFxyXG5cdFx0XHRcdFdpbmRvdy5nZXRHbG9iYWwoKS5sb2NhbFN0b3JhZ2UubGVuZ3RoICE9PSAwO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU2FmZWx5IHJlYWQgYW4gb2JqZWN0XHJcblx0ICovXHJcblx0cHVibGljIHN0YXRpYyBzYWZlUmVhZE9iamVjdDxUPihmaWxlVHlwZTogRmlsZVR5cGUsIGRlZmF1bHRWYWx1ZTogVCA9IHVuZGVmaW5lZCk6IFQge1xyXG5cdFx0aWYgKCEoZmlsZVR5cGUgaW4gRmlsZVR5cGUpKSB7XHJcblx0XHRcdHJldHVybiBkZWZhdWx0VmFsdWU7XHJcblx0XHR9XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0bGV0IHN0b3JhZ2VLZXkgPSBmaWxlVHlwZVRvS2V5TWFwW2ZpbGVUeXBlXTtcclxuXHRcdFx0Y29uc3QgcmVzdWx0ID0gV2luZG93LmdldEdsb2JhbCgpLmxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXkpO1xyXG5cdFx0XHRjb25zdCBwYXJzZWRPYmplY3QgPSByZXN1bHQgJiYgKHJlc3VsdFswXSA9PT0gXCJ7XCIgfHwgcmVzdWx0WzBdID09PSBcIltcIikgPyBKU09OLnBhcnNlKHJlc3VsdCkgOiByZXN1bHQ7XHJcblx0XHRcdHJldHVybiBwYXJzZWRPYmplY3QgPz8gZGVmYXVsdFZhbHVlO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHQvLyBpZ25vcmVcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9jayB0aGUgZmlsZSB0byBwcmV2ZW50IGFjY2VzcyBmcm9tIGFub3RoZXIgcHJvY2Vzcy5cclxuXHQgKi9cclxuXHRwdWJsaWMgZmlsZUxvY2soZmlsZVR5cGU6IEZpbGVUeXBlKTogdm9pZCB7XHJcblx0XHQvLyBKUyBydW5zIG9uIGEgc2luZ2xlIHRocmVhZCBpbiB0aGUgYnJvd3Nlci5cclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFVubG9jayB0aGUgZmlsZS5cclxuXHQgKi9cclxuXHRwdWJsaWMgZmlsZVVubG9jayhmaWxlVHlwZTogRmlsZVR5cGUpOiB2b2lkIHtcclxuXHRcdC8vIEpTIHJ1bnMgb24gYSBzaW5nbGUgdGhyZWFkIGluIHRoZSBicm93c2VyLlxyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUmVhZCB0aGUgZmlsZVxyXG5cdCAqL1xyXG5cdHB1YmxpYyByZWFkKGZpbGVUeXBlOiBGaWxlVHlwZSk6IHN0cmluZyB7XHJcblx0XHRpZiAoIShmaWxlVHlwZSBpbiBGaWxlVHlwZSkpIHtcclxuXHRcdFx0cmV0dXJuIFwiXCI7XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IHN0b3JhZ2VLZXkgPSBmaWxlVHlwZVRvS2V5TWFwW2ZpbGVUeXBlXTtcclxuXHRcdGxldCByZXN1bHQ6IHN0cmluZztcclxuXHRcdHRyeSB7XHJcblx0XHRcdHJlc3VsdCA9IFdpbmRvdy5nZXRHbG9iYWwoKS5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5KTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0TG9nZ2luZy5nZXRMb2dnZXIoKS5sb2dFdmVudChMb2dnaW5nLkV2ZW50SWRzLlNVUlZFWV9GTE9PREdBVEVfRklMRVJFQURfRkFJTEVELFxyXG5cdFx0XHRcdExvZ2dpbmcuTG9nTGV2ZWwuRXJyb3IsXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0RXJyb3JNZXNzYWdlOiBlLnRvU3RyaW5nKCksXHJcblx0XHRcdFx0XHRGaWxlTmFtZTogc3RvcmFnZUtleSxcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0cmV0dXJuIFwiXCI7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFdyaXRlIHRvIHRoZSBmaWxlXHJcblx0ICovXHJcblx0cHVibGljIHdyaXRlKGZpbGVUeXBlOiBGaWxlVHlwZSwgY29udGVudDogc3RyaW5nKTogdm9pZCB7XHJcblx0XHRpZiAoIShmaWxlVHlwZSBpbiBGaWxlVHlwZSkpIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBzdG9yYWdlS2V5ID0gZmlsZVR5cGVUb0tleU1hcFtmaWxlVHlwZV07XHJcblx0XHR0cnkge1xyXG5cdFx0XHRXaW5kb3cuZ2V0R2xvYmFsKCkubG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZUtleSwgY29udGVudCk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdExvZ2dpbmcuZ2V0TG9nZ2VyKCkubG9nRXZlbnQoTG9nZ2luZy5FdmVudElkcy5TVVJWRVlfRkxPT0RHQVRFX0ZJTEVXUklURV9GQUlMRUQsXHJcblx0XHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5FcnJvcixcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRFcnJvck1lc3NhZ2U6IGUudG9TdHJpbmcoKSxcclxuXHRcdFx0XHRcdEZpbGVOYW1lOiBzdG9yYWdlS2V5LFxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/FloodgateCore/FloodgateStorageProvider.ts\n')},"./scripts/app/FloodgateCore/FloodgateStringProvider.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Api/Api */ "../FloodgateCore/dist/src/Api/Api.js");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../UIStrings/UIStrings */ "./scripts/app/UIStrings/UIStrings.ts");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../Configuration/Configuration */ "./scripts/app/Configuration/Configuration.ts");\n/**\r\n * Implementation of IFloodgateStringProvider for Web SDK\r\n */\r\n\r\n\r\n\r\n/* tslint:disable:max-line-length */\r\nvar FloodgateStringProvider = /** @class */ (function () {\r\n    function FloodgateStringProvider() {\r\n    }\r\n    FloodgateStringProvider.prototype.loadStringResource = function (stringId) {\r\n        var uiStrings = _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_1__["getUIStrings"]();\r\n        switch (stringId) {\r\n            case (5 /* Nps11RatingValue0 */): return uiStrings.Floodgate.Nps.Rating.Points11Value0;\r\n            case (6 /* Nps11RatingValue1 */): return uiStrings.Floodgate.Nps.Rating.Points11Value1;\r\n            case (7 /* Nps11RatingValue2 */): return uiStrings.Floodgate.Nps.Rating.Points11Value2;\r\n            case (8 /* Nps11RatingValue3 */): return uiStrings.Floodgate.Nps.Rating.Points11Value3;\r\n            case (9 /* Nps11RatingValue4 */): return uiStrings.Floodgate.Nps.Rating.Points11Value4;\r\n            case (10 /* Nps11RatingValue5 */): return uiStrings.Floodgate.Nps.Rating.Points11Value5;\r\n            case (11 /* Nps11RatingValue6 */): return uiStrings.Floodgate.Nps.Rating.Points11Value6;\r\n            case (12 /* Nps11RatingValue7 */): return uiStrings.Floodgate.Nps.Rating.Points11Value7;\r\n            case (13 /* Nps11RatingValue8 */): return uiStrings.Floodgate.Nps.Rating.Points11Value8;\r\n            case (14 /* Nps11RatingValue9 */): return uiStrings.Floodgate.Nps.Rating.Points11Value9;\r\n            case (15 /* Nps11RatingValue10 */): return uiStrings.Floodgate.Nps.Rating.Points11Value10;\r\n            case (16 /* Nps5RatingValue1 */): return uiStrings.Floodgate.Nps.Rating.Points5Value1;\r\n            case (17 /* Nps5RatingValue2 */): return uiStrings.Floodgate.Nps.Rating.Points5Value2;\r\n            case (18 /* Nps5RatingValue3 */): return uiStrings.Floodgate.Nps.Rating.Points5Value3;\r\n            case (19 /* Nps5RatingValue4 */): return uiStrings.Floodgate.Nps.Rating.Points5Value4;\r\n            case (20 /* Nps5RatingValue5 */): return uiStrings.Floodgate.Nps.Rating.Points5Value5;\r\n            case (4 /* NpsRatingQuestion */): return uiStrings.Floodgate.Nps.Rating.Question;\r\n            case (21 /* NpsCommentQuestion */): return uiStrings.Floodgate.Nps.Comment.Question;\r\n            case (3 /* NpsPromptNotNowLabel */): return uiStrings.Floodgate.Nps.Prompt.No;\r\n            case (1 /* NpsPromptQuestion */): return uiStrings.Floodgate.Nps.Prompt.Question;\r\n            case (0 /* NpsPromptTitle */): return uiStrings.Floodgate.Nps.Prompt.Title;\r\n            case (2 /* NpsPromptYesLabel */): return uiStrings.Floodgate.Nps.Prompt.Yes;\r\n            default:\r\n                return "";\r\n        }\r\n    };\r\n    FloodgateStringProvider.prototype.getCustomString = function (str) {\r\n        return _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_2__["get"]().getFloodgateInitOptions().uIStringGetter(str);\r\n    };\r\n    return FloodgateStringProvider;\r\n}());\r\n/* harmony default export */ __webpack_exports__["default"] = (FloodgateStringProvider);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9GbG9vZGdhdGVDb3JlL0Zsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLnRzPzZiZDkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztHQUVHO0FBRWlFO0FBQ2Q7QUFDWTtBQUVsRSxvQ0FBb0M7QUFFcEM7SUFBQTtJQW1DQSxDQUFDO0lBbENPLG9EQUFrQixHQUF6QixVQUEwQixRQUFpRDtRQUMxRSxJQUFJLFNBQVMsR0FBRyxpRUFBc0IsRUFBRSxDQUFDO1FBRXpDLFFBQVEsUUFBUSxFQUFFO1lBQ2pCLEtBQUssMkJBQTJELENBQUMsQ0FBRSxPQUFPLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUM7WUFDeEgsS0FBSywyQkFBMkQsQ0FBQyxDQUFFLE9BQU8sU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQztZQUN4SCxLQUFLLDJCQUEyRCxDQUFDLENBQUUsT0FBTyxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDO1lBQ3hILEtBQUssMkJBQTJELENBQUMsQ0FBRSxPQUFPLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUM7WUFDeEgsS0FBSywyQkFBMkQsQ0FBQyxDQUFFLE9BQU8sU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQztZQUN4SCxLQUFLLDRCQUEyRCxDQUFDLENBQUUsT0FBTyxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDO1lBQ3hILEtBQUssNEJBQTJELENBQUMsQ0FBRSxPQUFPLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUM7WUFDeEgsS0FBSyw0QkFBMkQsQ0FBQyxDQUFFLE9BQU8sU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQztZQUN4SCxLQUFLLDRCQUEyRCxDQUFDLENBQUUsT0FBTyxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDO1lBQ3hILEtBQUssNEJBQTJELENBQUMsQ0FBRSxPQUFPLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUM7WUFDeEgsS0FBSyw2QkFBNEQsQ0FBQyxDQUFFLE9BQU8sU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQztZQUMxSCxLQUFLLDJCQUEwRCxDQUFDLENBQUUsT0FBTyxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDO1lBQ3RILEtBQUssMkJBQTBELENBQUMsQ0FBRSxPQUFPLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUM7WUFDdEgsS0FBSywyQkFBMEQsQ0FBQyxDQUFFLE9BQU8sU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQztZQUN0SCxLQUFLLDJCQUEwRCxDQUFDLENBQUUsT0FBTyxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDO1lBQ3RILEtBQUssMkJBQTBELENBQUMsQ0FBRSxPQUFPLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUM7WUFDdEgsS0FBSywyQkFBMkQsQ0FBQyxDQUFFLE9BQU8sU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztZQUNsSCxLQUFLLDZCQUE0RCxDQUFDLENBQUUsT0FBTyxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDO1lBQ3BILEtBQUssOEJBQThELENBQUMsQ0FBQyxPQUFPLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7WUFDOUcsS0FBSywyQkFBMkQsQ0FBQyxDQUFFLE9BQU8sU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztZQUNsSCxLQUFLLHdCQUF3RCxDQUFDLENBQUcsT0FBTyxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDO1lBQzdHLEtBQUssMkJBQTJELENBQUMsQ0FBRSxPQUFPLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUM7WUFDN0c7Z0JBQ0MsT0FBTyxFQUFFLENBQUM7U0FDWDtJQUNGLENBQUM7SUFFTSxpREFBZSxHQUF0QixVQUF1QixHQUFXO1FBQ2pDLE9BQU8sZ0VBQWlCLEVBQUUsQ0FBQyx1QkFBdUIsRUFBRSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMxRSxDQUFDO0lBQ0YsOEJBQUM7QUFBRCxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvRmxvb2RnYXRlQ29yZS9GbG9vZGdhdGVTdHJpbmdQcm92aWRlci50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBJbXBsZW1lbnRhdGlvbiBvZiBJRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIgZm9yIFdlYiBTREtcclxuICovXHJcblxyXG5pbXBvcnQgKiBhcyBBcGkgZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9BcGkvQXBpXCI7XHJcbmltcG9ydCAqIGFzIFVJU3RyaW5ncyBmcm9tIFwiLi8uLi9VSVN0cmluZ3MvVUlTdHJpbmdzXCI7XHJcbmltcG9ydCAqIGFzIENvbmZpZ3VyYXRpb24gZnJvbSBcIi4vLi4vQ29uZmlndXJhdGlvbi9Db25maWd1cmF0aW9uXCI7XHJcblxyXG4vKiB0c2xpbnQ6ZGlzYWJsZTptYXgtbGluZS1sZW5ndGggKi9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyIGltcGxlbWVudHMgQXBpLklGbG9vZGdhdGVTdHJpbmdQcm92aWRlciB7XHJcblx0cHVibGljIGxvYWRTdHJpbmdSZXNvdXJjZShzdHJpbmdJZDogQXBpLklGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlKTogc3RyaW5nIHtcclxuXHRcdGxldCB1aVN0cmluZ3MgPSBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCk7XHJcblxyXG5cdFx0c3dpdGNoIChzdHJpbmdJZCkge1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTApOlx0XHRyZXR1cm4gdWlTdHJpbmdzLkZsb29kZ2F0ZS5OcHMuUmF0aW5nLlBvaW50czExVmFsdWUwO1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTEpOlx0XHRyZXR1cm4gdWlTdHJpbmdzLkZsb29kZ2F0ZS5OcHMuUmF0aW5nLlBvaW50czExVmFsdWUxO1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTIpOlx0XHRyZXR1cm4gdWlTdHJpbmdzLkZsb29kZ2F0ZS5OcHMuUmF0aW5nLlBvaW50czExVmFsdWUyO1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTMpOlx0XHRyZXR1cm4gdWlTdHJpbmdzLkZsb29kZ2F0ZS5OcHMuUmF0aW5nLlBvaW50czExVmFsdWUzO1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTQpOlx0XHRyZXR1cm4gdWlTdHJpbmdzLkZsb29kZ2F0ZS5OcHMuUmF0aW5nLlBvaW50czExVmFsdWU0O1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTUpOlx0XHRyZXR1cm4gdWlTdHJpbmdzLkZsb29kZ2F0ZS5OcHMuUmF0aW5nLlBvaW50czExVmFsdWU1O1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTYpOlx0XHRyZXR1cm4gdWlTdHJpbmdzLkZsb29kZ2F0ZS5OcHMuUmF0aW5nLlBvaW50czExVmFsdWU2O1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTcpOlx0XHRyZXR1cm4gdWlTdHJpbmdzLkZsb29kZ2F0ZS5OcHMuUmF0aW5nLlBvaW50czExVmFsdWU3O1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTgpOlx0XHRyZXR1cm4gdWlTdHJpbmdzLkZsb29kZ2F0ZS5OcHMuUmF0aW5nLlBvaW50czExVmFsdWU4O1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTkpOlx0XHRyZXR1cm4gdWlTdHJpbmdzLkZsb29kZ2F0ZS5OcHMuUmF0aW5nLlBvaW50czExVmFsdWU5O1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzMTFSYXRpbmdWYWx1ZTEwKTpcdFx0cmV0dXJuIHVpU3RyaW5ncy5GbG9vZGdhdGUuTnBzLlJhdGluZy5Qb2ludHMxMVZhbHVlMTA7XHJcblx0XHRcdGNhc2UgKEFwaS5JRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHM1UmF0aW5nVmFsdWUxKTpcdFx0cmV0dXJuIHVpU3RyaW5ncy5GbG9vZGdhdGUuTnBzLlJhdGluZy5Qb2ludHM1VmFsdWUxO1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzNVJhdGluZ1ZhbHVlMik6XHRcdHJldHVybiB1aVN0cmluZ3MuRmxvb2RnYXRlLk5wcy5SYXRpbmcuUG9pbnRzNVZhbHVlMjtcclxuXHRcdFx0Y2FzZSAoQXBpLklGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wczVSYXRpbmdWYWx1ZTMpOlx0XHRyZXR1cm4gdWlTdHJpbmdzLkZsb29kZ2F0ZS5OcHMuUmF0aW5nLlBvaW50czVWYWx1ZTM7XHJcblx0XHRcdGNhc2UgKEFwaS5JRmxvb2RnYXRlU3RyaW5nUHJvdmlkZXIuU3RyaW5nVHlwZS5OcHM1UmF0aW5nVmFsdWU0KTpcdFx0cmV0dXJuIHVpU3RyaW5ncy5GbG9vZGdhdGUuTnBzLlJhdGluZy5Qb2ludHM1VmFsdWU0O1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzNVJhdGluZ1ZhbHVlNSk6XHRcdHJldHVybiB1aVN0cmluZ3MuRmxvb2RnYXRlLk5wcy5SYXRpbmcuUG9pbnRzNVZhbHVlNTtcclxuXHRcdFx0Y2FzZSAoQXBpLklGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wc1JhdGluZ1F1ZXN0aW9uKTpcdFx0cmV0dXJuIHVpU3RyaW5ncy5GbG9vZGdhdGUuTnBzLlJhdGluZy5RdWVzdGlvbjtcclxuXHRcdFx0Y2FzZSAoQXBpLklGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wc0NvbW1lbnRRdWVzdGlvbik6XHRcdHJldHVybiB1aVN0cmluZ3MuRmxvb2RnYXRlLk5wcy5Db21tZW50LlF1ZXN0aW9uO1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzUHJvbXB0Tm90Tm93TGFiZWwpOlx0cmV0dXJuIHVpU3RyaW5ncy5GbG9vZGdhdGUuTnBzLlByb21wdC5ObztcclxuXHRcdFx0Y2FzZSAoQXBpLklGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wc1Byb21wdFF1ZXN0aW9uKTpcdFx0cmV0dXJuIHVpU3RyaW5ncy5GbG9vZGdhdGUuTnBzLlByb21wdC5RdWVzdGlvbjtcclxuXHRcdFx0Y2FzZSAoQXBpLklGbG9vZGdhdGVTdHJpbmdQcm92aWRlci5TdHJpbmdUeXBlLk5wc1Byb21wdFRpdGxlKTpcdFx0XHRyZXR1cm4gdWlTdHJpbmdzLkZsb29kZ2F0ZS5OcHMuUHJvbXB0LlRpdGxlO1xyXG5cdFx0XHRjYXNlIChBcGkuSUZsb29kZ2F0ZVN0cmluZ1Byb3ZpZGVyLlN0cmluZ1R5cGUuTnBzUHJvbXB0WWVzTGFiZWwpOlx0XHRyZXR1cm4gdWlTdHJpbmdzLkZsb29kZ2F0ZS5OcHMuUHJvbXB0LlllcztcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRyZXR1cm4gXCJcIjtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRDdXN0b21TdHJpbmcoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Rmxvb2RnYXRlSW5pdE9wdGlvbnMoKS51SVN0cmluZ0dldHRlcihzdHIpO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/FloodgateCore/FloodgateStringProvider.ts\n')},"./scripts/app/FloodgateCore/FloodgateTelemetryLogger.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Logging/Logging */ "./scripts/app/Logging/Logging.ts");\n/**\r\n * Implementation of IFloodgateTelemetryLogger for Web SDK\r\n */\r\n\r\nvar IFloodgateTelemetryLogger = /** @class */ (function () {\r\n    function IFloodgateTelemetryLogger() {\r\n    }\r\n    /**\r\n     * Log that a survey\'s trigger was met.\r\n     * @param campaignId Id of the campaign the survey belongs to.\r\n     * @param surveyId Id of the survey.\r\n     * @param surveyType Type of the survey.\r\n     */\r\n    IFloodgateTelemetryLogger.prototype.log_TriggerMet = function (campaignId, surveyId, surveyType) {\r\n        _Logging_Logging__WEBPACK_IMPORTED_MODULE_0__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_0__["EventIds"].SURVEY_FLOODGATE_TRIGGERMET, 1 /* Critical */, {\r\n            CampaignId: campaignId,\r\n            SurveyId: surveyId,\r\n            SurveyType: surveyType,\r\n        });\r\n    };\r\n    /**\r\n     * Log that a user was selected(nominated) for a survey if it\'s not sampled\r\n     * @param campaignId Id of the campaign the survey belongs to.\r\n     * @param surveyId Id of the survey.\r\n     * @param surveyType Type of the survey.\r\n     */\r\n    IFloodgateTelemetryLogger.prototype.log_UserSelected = function (campaignId, surveyId, surveyType) {\r\n        _Logging_Logging__WEBPACK_IMPORTED_MODULE_0__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_0__["EventIds"].SURVEY_FLOODGATE_USERSELECTED, 1 /* Critical */, {\r\n            CampaignId: campaignId,\r\n            SurveyId: surveyId,\r\n            SurveyType: surveyType,\r\n        });\r\n    };\r\n    /**\r\n     * Log that campaign definitions failed to load.\r\n     * @param errorMessage error message\r\n     */\r\n    IFloodgateTelemetryLogger.prototype.log_CampaignLoad_Failed = function (errorMessage) {\r\n        _Logging_Logging__WEBPACK_IMPORTED_MODULE_0__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_0__["EventIds"].SURVEY_FLOODGATE_CAMPAIGNLOAD_FAILED, 2 /* Error */, {\r\n            ErrorMessage: errorMessage,\r\n        });\r\n    };\r\n    /**\r\n     * Log an event with error message\r\n     * @param eventId event id\r\n     * @param errorMessage error message\r\n     */\r\n    IFloodgateTelemetryLogger.prototype.log_Error = function (eventId, errorMessage) {\r\n        var event = { name: eventId };\r\n        _Logging_Logging__WEBPACK_IMPORTED_MODULE_0__["getLogger"]().logEvent(event, 2 /* Error */, {\r\n            ErrorMessage: errorMessage,\r\n        });\r\n    };\r\n    /**\r\n     * Log an event with properties\r\n     * @param eventId event id\r\n     * @param properties telemetry event properties\r\n     */\r\n    IFloodgateTelemetryLogger.prototype.log_Event = function (eventId, properties) {\r\n        var event = { name: eventId };\r\n        _Logging_Logging__WEBPACK_IMPORTED_MODULE_0__["getLogger"]().logEvent(event, 1 /* Critical */, properties);\r\n    };\r\n    return IFloodgateTelemetryLogger;\r\n}());\r\n/* harmony default export */ __webpack_exports__["default"] = (IFloodgateTelemetryLogger);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9GbG9vZGdhdGVDb3JlL0Zsb29kZ2F0ZVRlbGVtZXRyeUxvZ2dlci50cz9iNWMzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTs7R0FFRztBQUcyQztBQUU5QztJQUFBO0lBcUVBLENBQUM7SUFuRUE7Ozs7O09BS0c7SUFDSSxrREFBYyxHQUFyQixVQUFzQixVQUFrQixFQUFFLFFBQWdCLEVBQUUsVUFBNEI7UUFDdkYsMERBQWlCLEVBQUUsQ0FBQyxRQUFRLENBQUMseURBQWdCLENBQUMsMkJBQTJCLG9CQUV4RTtZQUNDLFVBQVUsRUFBRSxVQUFVO1lBQ3RCLFFBQVEsRUFBRSxRQUFRO1lBQ2xCLFVBQVUsRUFBRSxVQUFVO1NBQ3RCLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRDs7Ozs7T0FLRztJQUNJLG9EQUFnQixHQUF2QixVQUF3QixVQUFrQixFQUFFLFFBQWdCLEVBQUUsVUFBNEI7UUFDekYsMERBQWlCLEVBQUUsQ0FBQyxRQUFRLENBQUMseURBQWdCLENBQUMsNkJBQTZCLG9CQUUxRTtZQUNDLFVBQVUsRUFBRSxVQUFVO1lBQ3RCLFFBQVEsRUFBRSxRQUFRO1lBQ2xCLFVBQVUsRUFBRSxVQUFVO1NBQ3RCLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRDs7O09BR0c7SUFDSSwyREFBdUIsR0FBOUIsVUFBK0IsWUFBb0I7UUFDbEQsMERBQWlCLEVBQUUsQ0FBQyxRQUFRLENBQUMseURBQWdCLENBQUMsb0NBQW9DLGlCQUVqRjtZQUNDLFlBQVksRUFBRSxZQUFZO1NBQzFCLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRDs7OztPQUlHO0lBQ0ksNkNBQVMsR0FBaEIsVUFBaUIsT0FBZSxFQUFFLFlBQW9CO1FBQ3JELElBQU0sS0FBSyxHQUFxQixFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsQ0FBQztRQUNsRCwwREFBaUIsRUFBRSxDQUFDLFFBQVEsQ0FBQyxLQUFLLGlCQUVqQztZQUNDLFlBQVksRUFBRSxZQUFZO1NBQzFCLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRDs7OztPQUlHO0lBQ0ksNkNBQVMsR0FBaEIsVUFBaUIsT0FBZSxFQUFFLFVBQW9DO1FBQ3JFLElBQU0sS0FBSyxHQUFxQixFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsQ0FBQztRQUNsRCwwREFBaUIsRUFBRSxDQUFDLFFBQVEsQ0FBQyxLQUFLLG9CQUE2QixVQUFVLENBQUMsQ0FBQztJQUM1RSxDQUFDO0lBQ0YsZ0NBQUM7QUFBRCxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvRmxvb2RnYXRlQ29yZS9GbG9vZGdhdGVUZWxlbWV0cnlMb2dnZXIudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogSW1wbGVtZW50YXRpb24gb2YgSUZsb29kZ2F0ZVRlbGVtZXRyeUxvZ2dlciBmb3IgV2ViIFNES1xyXG4gKi9cclxuXHJcbmltcG9ydCAqIGFzIEFwaSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0FwaS9BcGlcIjtcclxuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi4vTG9nZ2luZy9Mb2dnaW5nXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJRmxvb2RnYXRlVGVsZW1ldHJ5TG9nZ2VyIGltcGxlbWVudHMgQXBpLklGbG9vZGdhdGVUZWxlbWV0cnlMb2dnZXIge1xyXG5cclxuXHQvKipcclxuXHQgKiBMb2cgdGhhdCBhIHN1cnZleSdzIHRyaWdnZXIgd2FzIG1ldC5cclxuXHQgKiBAcGFyYW0gY2FtcGFpZ25JZCBJZCBvZiB0aGUgY2FtcGFpZ24gdGhlIHN1cnZleSBiZWxvbmdzIHRvLlxyXG5cdCAqIEBwYXJhbSBzdXJ2ZXlJZCBJZCBvZiB0aGUgc3VydmV5LlxyXG5cdCAqIEBwYXJhbSBzdXJ2ZXlUeXBlIFR5cGUgb2YgdGhlIHN1cnZleS5cclxuXHQgKi9cclxuXHRwdWJsaWMgbG9nX1RyaWdnZXJNZXQoY2FtcGFpZ25JZDogc3RyaW5nLCBzdXJ2ZXlJZDogc3RyaW5nLCBzdXJ2ZXlUeXBlOiBBcGkuSVN1cnZleS5UeXBlKTogdm9pZCB7XHJcblx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KExvZ2dpbmcuRXZlbnRJZHMuU1VSVkVZX0ZMT09ER0FURV9UUklHR0VSTUVULFxyXG5cdFx0XHRMb2dnaW5nLkxvZ0xldmVsLkNyaXRpY2FsLFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Q2FtcGFpZ25JZDogY2FtcGFpZ25JZCxcclxuXHRcdFx0XHRTdXJ2ZXlJZDogc3VydmV5SWQsXHJcblx0XHRcdFx0U3VydmV5VHlwZTogc3VydmV5VHlwZSxcclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBMb2cgdGhhdCBhIHVzZXIgd2FzIHNlbGVjdGVkKG5vbWluYXRlZCkgZm9yIGEgc3VydmV5IGlmIGl0J3Mgbm90IHNhbXBsZWRcclxuXHQgKiBAcGFyYW0gY2FtcGFpZ25JZCBJZCBvZiB0aGUgY2FtcGFpZ24gdGhlIHN1cnZleSBiZWxvbmdzIHRvLlxyXG5cdCAqIEBwYXJhbSBzdXJ2ZXlJZCBJZCBvZiB0aGUgc3VydmV5LlxyXG5cdCAqIEBwYXJhbSBzdXJ2ZXlUeXBlIFR5cGUgb2YgdGhlIHN1cnZleS5cclxuXHQgKi9cclxuXHRwdWJsaWMgbG9nX1VzZXJTZWxlY3RlZChjYW1wYWlnbklkOiBzdHJpbmcsIHN1cnZleUlkOiBzdHJpbmcsIHN1cnZleVR5cGU6IEFwaS5JU3VydmV5LlR5cGUpOiB2b2lkIHtcclxuXHRcdExvZ2dpbmcuZ2V0TG9nZ2VyKCkubG9nRXZlbnQoTG9nZ2luZy5FdmVudElkcy5TVVJWRVlfRkxPT0RHQVRFX1VTRVJTRUxFQ1RFRCxcclxuXHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5Dcml0aWNhbCxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdENhbXBhaWduSWQ6IGNhbXBhaWduSWQsXHJcblx0XHRcdFx0U3VydmV5SWQ6IHN1cnZleUlkLFxyXG5cdFx0XHRcdFN1cnZleVR5cGU6IHN1cnZleVR5cGUsXHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9nIHRoYXQgY2FtcGFpZ24gZGVmaW5pdGlvbnMgZmFpbGVkIHRvIGxvYWQuXHJcblx0ICogQHBhcmFtIGVycm9yTWVzc2FnZSBlcnJvciBtZXNzYWdlXHJcblx0ICovXHJcblx0cHVibGljIGxvZ19DYW1wYWlnbkxvYWRfRmFpbGVkKGVycm9yTWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XHJcblx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KExvZ2dpbmcuRXZlbnRJZHMuU1VSVkVZX0ZMT09ER0FURV9DQU1QQUlHTkxPQURfRkFJTEVELFxyXG5cdFx0XHRMb2dnaW5nLkxvZ0xldmVsLkVycm9yLFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0RXJyb3JNZXNzYWdlOiBlcnJvck1lc3NhZ2UsXHJcblx0XHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogTG9nIGFuIGV2ZW50IHdpdGggZXJyb3IgbWVzc2FnZVxyXG5cdCAqIEBwYXJhbSBldmVudElkIGV2ZW50IGlkXHJcblx0ICogQHBhcmFtIGVycm9yTWVzc2FnZSBlcnJvciBtZXNzYWdlXHJcblx0ICovXHJcblx0cHVibGljIGxvZ19FcnJvcihldmVudElkOiBzdHJpbmcsIGVycm9yTWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XHJcblx0XHRjb25zdCBldmVudDogTG9nZ2luZy5JRXZlbnRJZCA9IHsgbmFtZTogZXZlbnRJZCB9O1xyXG5cdFx0TG9nZ2luZy5nZXRMb2dnZXIoKS5sb2dFdmVudChldmVudCxcclxuXHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5FcnJvcixcclxuXHRcdFx0e1xyXG5cdFx0XHRcdEVycm9yTWVzc2FnZTogZXJyb3JNZXNzYWdlLFxyXG5cdFx0XHR9KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvZyBhbiBldmVudCB3aXRoIHByb3BlcnRpZXNcclxuXHQgKiBAcGFyYW0gZXZlbnRJZCBldmVudCBpZFxyXG5cdCAqIEBwYXJhbSBwcm9wZXJ0aWVzIHRlbGVtZXRyeSBldmVudCBwcm9wZXJ0aWVzXHJcblx0ICovXHJcblx0cHVibGljIGxvZ19FdmVudChldmVudElkOiBzdHJpbmcsIHByb3BlcnRpZXM6IEFwaS5JVGVsZW1ldHJ5UHJvcGVydGllcyk6IHZvaWQge1xyXG5cdFx0Y29uc3QgZXZlbnQ6IExvZ2dpbmcuSUV2ZW50SWQgPSB7IG5hbWU6IGV2ZW50SWQgfTtcclxuXHRcdExvZ2dpbmcuZ2V0TG9nZ2VyKCkubG9nRXZlbnQoZXZlbnQsIExvZ2dpbmcuTG9nTGV2ZWwuQ3JpdGljYWwsIHByb3BlcnRpZXMpO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/FloodgateCore/FloodgateTelemetryLogger.ts\n')},"./scripts/app/FloodgateCore/RudeSurveyLauncherFactory.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RudeSurveyLauncher", function() { return RudeSurveyLauncher; });\n/* harmony import */ var _FloodgateCore_UISurvey_UISurvey__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../FloodgateCore/UISurvey/UISurvey */ "./scripts/app/FloodgateCore/UISurvey/UISurvey.ts");\n/* harmony import */ var _Window_Window__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../Window/Window */ "./scripts/app/Window/Window.ts");\n/* harmony import */ var _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore */ "../FloodgateCore/dist/index.js");\n/* harmony import */ var _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_2__);\n/**\r\n * Rude survey launcher factory for Web SDK\r\n */\r\n\r\n\r\n\r\nvar isNOU = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_2__["Utils"].isNOU;\r\nvar RudeSurveyLauncherFactory = /** @class */ (function () {\r\n    function RudeSurveyLauncherFactory() {\r\n    }\r\n    RudeSurveyLauncherFactory.prototype.makeSurveyLauncher = function (survey) {\r\n        if (this.AcceptsSurvey(survey)) {\r\n            return new RudeSurveyLauncher(survey);\r\n        }\r\n        return null;\r\n    };\r\n    RudeSurveyLauncherFactory.prototype.AcceptsSurvey = function (survey) {\r\n        // This factory should accept any type that is not of type GenericMessagingSurface\r\n        // This will ensure that a rude survey launcher is returned for any survey type old or new\r\n        // as a launcher is needed to invoke survey activated callback\r\n        if (!isNOU(survey) && survey.getType() !== _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_2__["Api"].ISurvey.Type.GenericMessagingSurface) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    RudeSurveyLauncherFactory.LAUNCHER_TYPE = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_2__["Api"].ISurvey.LAUNCHER_TYPE_DEFAULT;\r\n    return RudeSurveyLauncherFactory;\r\n}());\r\n/* harmony default export */ __webpack_exports__["default"] = (RudeSurveyLauncherFactory);\r\nvar RudeSurveyLauncher = /** @class */ (function () {\r\n    function RudeSurveyLauncher(survey) {\r\n        this.survey = survey;\r\n    }\r\n    RudeSurveyLauncher.prototype.launch = function () {\r\n        _Window_Window__WEBPACK_IMPORTED_MODULE_1__["get"]().OfficeBrowserFeedback.floodgate.showSurvey(new _FloodgateCore_UISurvey_UISurvey__WEBPACK_IMPORTED_MODULE_0__["default"](this.survey));\r\n    };\r\n    return RudeSurveyLauncher;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9GbG9vZGdhdGVDb3JlL1J1ZGVTdXJ2ZXlMYXVuY2hlckZhY3RvcnkudHM/NDQyMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7R0FFRztBQUV5RDtBQUNmO0FBQ1k7QUFFakQsU0FBSyxHQUFLLGlFQUFLLE1BQVYsQ0FBVztBQUV4QjtJQUFBO0lBcUJBLENBQUM7SUFsQk8sc0RBQWtCLEdBQXpCLFVBQTBCLE1BQW1CO1FBQzVDLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUMvQixPQUFPLElBQUksa0JBQWtCLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDdEM7UUFFRCxPQUFPLElBQUksQ0FBQztJQUNiLENBQUM7SUFFTSxpREFBYSxHQUFwQixVQUFxQixNQUFtQjtRQUN2QyxrRkFBa0Y7UUFDbEYsMEZBQTBGO1FBQzFGLDhEQUE4RDtRQUM5RCxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFLLE1BQU0sQ0FBQyxPQUFPLEVBQUUsS0FBSywrREFBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsdUJBQXVCLEVBQUU7WUFDckYsT0FBTyxJQUFJLENBQUM7U0FDWjtRQUVELE9BQU8sS0FBSyxDQUFDO0lBQ2QsQ0FBQztJQW5Cc0IsdUNBQWEsR0FBVywrREFBRyxDQUFDLE9BQU8sQ0FBQyxxQkFBcUIsQ0FBQztJQW9CbEYsZ0NBQUM7Q0FBQTtBQXJCb0Isd0ZBQXlCO0FBdUI5QztJQUdDLDRCQUFZLE1BQW1CO1FBQzlCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBQ3RCLENBQUM7SUFFTSxtQ0FBTSxHQUFiO1FBQ0Msa0RBQVUsRUFBRSxDQUFDLHFCQUFxQixDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsSUFBSSx3RUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQ3BGLENBQUM7SUFDRix5QkFBQztBQUFELENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9GbG9vZGdhdGVDb3JlL1J1ZGVTdXJ2ZXlMYXVuY2hlckZhY3RvcnkudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogUnVkZSBzdXJ2ZXkgbGF1bmNoZXIgZmFjdG9yeSBmb3IgV2ViIFNES1xyXG4gKi9cclxuXHJcbmltcG9ydCBVSVN1cnZleSBmcm9tIFwiLi8uLi9GbG9vZGdhdGVDb3JlL1VJU3VydmV5L1VJU3VydmV5XCI7XHJcbmltcG9ydCAqIGFzIFdpbmRvdyBmcm9tIFwiLi8uLi9XaW5kb3cvV2luZG93XCI7XHJcbmltcG9ydCB7IEFwaSwgVXRpbHMgfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlXCI7XHJcblxyXG5jb25zdCB7IGlzTk9VIH0gPSBVdGlscztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJ1ZGVTdXJ2ZXlMYXVuY2hlckZhY3RvcnkgaW1wbGVtZW50cyBBcGkuSVN1cnZleUxhdW5jaGVyRmFjdG9yeSB7XHJcblx0cHVibGljIHN0YXRpYyByZWFkb25seSBMQVVOQ0hFUl9UWVBFOiBzdHJpbmcgPSBBcGkuSVN1cnZleS5MQVVOQ0hFUl9UWVBFX0RFRkFVTFQ7XHJcblxyXG5cdHB1YmxpYyBtYWtlU3VydmV5TGF1bmNoZXIoc3VydmV5OiBBcGkuSVN1cnZleSk6IEFwaS5JU3VydmV5TGF1bmNoZXIge1xyXG5cdFx0aWYgKHRoaXMuQWNjZXB0c1N1cnZleShzdXJ2ZXkpKSB7XHJcblx0XHRcdHJldHVybiBuZXcgUnVkZVN1cnZleUxhdW5jaGVyKHN1cnZleSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgQWNjZXB0c1N1cnZleShzdXJ2ZXk6IEFwaS5JU3VydmV5KTogYm9vbGVhbiB7XHJcblx0XHQvLyBUaGlzIGZhY3Rvcnkgc2hvdWxkIGFjY2VwdCBhbnkgdHlwZSB0aGF0IGlzIG5vdCBvZiB0eXBlIEdlbmVyaWNNZXNzYWdpbmdTdXJmYWNlXHJcblx0XHQvLyBUaGlzIHdpbGwgZW5zdXJlIHRoYXQgYSBydWRlIHN1cnZleSBsYXVuY2hlciBpcyByZXR1cm5lZCBmb3IgYW55IHN1cnZleSB0eXBlIG9sZCBvciBuZXdcclxuXHRcdC8vIGFzIGEgbGF1bmNoZXIgaXMgbmVlZGVkIHRvIGludm9rZSBzdXJ2ZXkgYWN0aXZhdGVkIGNhbGxiYWNrXHJcblx0XHRpZiAoIWlzTk9VKHN1cnZleSkgICYmIHN1cnZleS5nZXRUeXBlKCkgIT09IEFwaS5JU3VydmV5LlR5cGUuR2VuZXJpY01lc3NhZ2luZ1N1cmZhY2UpIHtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFJ1ZGVTdXJ2ZXlMYXVuY2hlciBpbXBsZW1lbnRzIEFwaS5JU3VydmV5TGF1bmNoZXIge1xyXG5cdHByaXZhdGUgc3VydmV5OiBBcGkuSVN1cnZleTtcclxuXHJcblx0Y29uc3RydWN0b3Ioc3VydmV5OiBBcGkuSVN1cnZleSkge1xyXG5cdFx0dGhpcy5zdXJ2ZXkgPSBzdXJ2ZXk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgbGF1bmNoKCk6IHZvaWQge1xyXG5cdFx0V2luZG93LmdldCgpLk9mZmljZUJyb3dzZXJGZWVkYmFjay5mbG9vZGdhdGUuc2hvd1N1cnZleShuZXcgVUlTdXJ2ZXkodGhpcy5zdXJ2ZXkpKTtcclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/FloodgateCore/RudeSurveyLauncherFactory.ts\n')},"./scripts/app/FloodgateCore/TransporterFactory.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Transport_Transport__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../Transport/Transport */ "./scripts/app/Transport/Transport.ts");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../Configuration/Configuration */ "./scripts/app/Configuration/Configuration.ts");\n/**\r\n * Implementation of Transporter Factory Interface for calling submit directly to petrol\r\n */\r\n\r\n\r\nvar TransporterFactory = /** @class */ (function () {\r\n    function TransporterFactory() {\r\n    }\r\n    TransporterFactory.prototype.makeTransporter = function (surveyType) {\r\n        return new _Transport_Transport__WEBPACK_IMPORTED_MODULE_0__["Transporter"](_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getCommonInitOptions().environment, surveyType, _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getCommonInitOptions().appId, "Survey", _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getCommonInitOptions().applicationGroup, _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getCommonInitOptions().telemetryGroup, _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getCommonInitOptions().webGroup);\r\n    };\r\n    return TransporterFactory;\r\n}());\r\n/* harmony default export */ __webpack_exports__["default"] = (TransporterFactory);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9GbG9vZGdhdGVDb3JlL1RyYW5zcG9ydGVyRmFjdG9yeS50cz80NGVjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBOztHQUVHO0FBR29EO0FBQ1c7QUFFbEU7SUFBQTtJQVlBLENBQUM7SUFYTyw0Q0FBZSxHQUF0QixVQUF1QixVQUFrQjtRQUN4QyxPQUFPLElBQUksZ0VBQVcsQ0FDckIsZ0VBQWlCLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLFdBQVcsRUFDdEQsVUFBVSxFQUNWLGdFQUFpQixFQUFFLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxLQUFLLEVBQ2hELFFBQVEsRUFDUixnRUFBaUIsRUFBRSxDQUFDLG9CQUFvQixFQUFFLENBQUMsZ0JBQWdCLEVBQzNELGdFQUFpQixFQUFFLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxjQUFjLEVBQ3pELGdFQUFpQixFQUFFLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxRQUFRLENBQ25ELENBQUM7SUFDSCxDQUFDO0lBQ0YseUJBQUM7QUFBRCxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvRmxvb2RnYXRlQ29yZS9UcmFuc3BvcnRlckZhY3RvcnkudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogSW1wbGVtZW50YXRpb24gb2YgVHJhbnNwb3J0ZXIgRmFjdG9yeSBJbnRlcmZhY2UgZm9yIGNhbGxpbmcgc3VibWl0IGRpcmVjdGx5IHRvIHBldHJvbFxyXG4gKi9cclxuXHJcbmltcG9ydCB7IEFwaSB9IGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmVcIjtcclxuaW1wb3J0IHsgVHJhbnNwb3J0ZXIgfSBmcm9tIFwiLi8uLi9UcmFuc3BvcnQvVHJhbnNwb3J0XCI7XHJcbmltcG9ydCAqIGFzIENvbmZpZ3VyYXRpb24gZnJvbSBcIi4vLi4vQ29uZmlndXJhdGlvbi9Db25maWd1cmF0aW9uXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUcmFuc3BvcnRlckZhY3RvcnkgaW1wbGVtZW50cyBBcGkuSVRyYW5zcG9ydGVyRmFjdG9yeSB7XHJcblx0cHVibGljIG1ha2VUcmFuc3BvcnRlcihzdXJ2ZXlUeXBlOiBzdHJpbmcpOiBBcGkuSVRyYW5zcG9ydGVyIHtcclxuXHRcdHJldHVybiBuZXcgVHJhbnNwb3J0ZXIoXHJcblx0XHRcdENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKS5lbnZpcm9ubWVudCxcclxuXHRcdFx0c3VydmV5VHlwZSxcclxuXHRcdFx0Q29uZmlndXJhdGlvbi5nZXQoKS5nZXRDb21tb25Jbml0T3B0aW9ucygpLmFwcElkLFxyXG5cdFx0XHRcIlN1cnZleVwiLFxyXG5cdFx0XHRDb25maWd1cmF0aW9uLmdldCgpLmdldENvbW1vbkluaXRPcHRpb25zKCkuYXBwbGljYXRpb25Hcm91cCxcclxuXHRcdFx0Q29uZmlndXJhdGlvbi5nZXQoKS5nZXRDb21tb25Jbml0T3B0aW9ucygpLnRlbGVtZXRyeUdyb3VwLFxyXG5cdFx0XHRDb25maWd1cmF0aW9uLmdldCgpLmdldENvbW1vbkluaXRPcHRpb25zKCkud2ViR3JvdXAsXHJcblx0XHQpO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/FloodgateCore/TransporterFactory.ts\n')},"./scripts/app/FloodgateCore/UISurvey/CustomUISurvey.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Utils */ "./scripts/app/Utils.ts");\n/**\r\n * IUISurvey implementation based on an ICustomSurvey object\r\n */\r\n\r\nvar CustomUISurvey = /** @class */ (function () {\r\n    function CustomUISurvey(survey) {\r\n        this.comment = "";\r\n        this.ratingIndex = -1;\r\n        this.showPrompt = survey.showPrompt;\r\n        this.showEmailRequest = _Utils__WEBPACK_IMPORTED_MODULE_0__["isBoolean"](survey.showEmailRequest) ? survey.showEmailRequest : false;\r\n        this.survey = survey;\r\n    }\r\n    CustomUISurvey.prototype.getPromptQuestion = function () {\r\n        return this.survey.promptQuestion;\r\n    };\r\n    CustomUISurvey.prototype.getTitle = function () {\r\n        return this.survey.title;\r\n    };\r\n    CustomUISurvey.prototype.getPromptYesButtonText = function () {\r\n        return this.survey.promptYesButtonText;\r\n    };\r\n    CustomUISurvey.prototype.getPromptNoButtonText = function () {\r\n        return this.survey.promptNoButtonText;\r\n    };\r\n    CustomUISurvey.prototype.getRatingValuesAscending = function () {\r\n        return this.survey.ratingValuesAscending;\r\n    };\r\n    CustomUISurvey.prototype.getRatingQuestion = function () {\r\n        return this.survey.ratingQuestion;\r\n    };\r\n    CustomUISurvey.prototype.getCommentQuestion = function () {\r\n        return this.survey.commentQuestion;\r\n    };\r\n    CustomUISurvey.prototype.getInterceptTitle = function () {\r\n        return undefined;\r\n    };\r\n    CustomUISurvey.prototype.getInterceptQuestion = function () {\r\n        return undefined;\r\n    };\r\n    CustomUISurvey.prototype.getInterceptUrl = function () {\r\n        return undefined;\r\n    };\r\n    CustomUISurvey.prototype.setValues = function (ratingIndex, comment) {\r\n        this.comment = comment;\r\n        if (this.isRatingIndexValid(ratingIndex)) {\r\n            this.ratingIndex = ratingIndex;\r\n        }\r\n        else {\r\n            this.ratingIndex = -1;\r\n        }\r\n    };\r\n    CustomUISurvey.prototype.getJsonElements = function () {\r\n        var result = {};\r\n        result.comment = this.comment;\r\n        result.rating = this.getNormalizedRatingScore();\r\n        result.survey = {\r\n            surveyId: this.getCampaignId(),\r\n        };\r\n        return result;\r\n    };\r\n    CustomUISurvey.prototype.getSurveyType = function () {\r\n        return this.survey.surveyType;\r\n    };\r\n    CustomUISurvey.prototype.getCampaignId = function () {\r\n        return this.survey.campaignId;\r\n    };\r\n    CustomUISurvey.prototype.getId = function () {\r\n        return this.getCampaignId();\r\n    };\r\n    CustomUISurvey.prototype.isRatingIndexValid = function (index) {\r\n        return (index >= 0 && index < this.survey.ratingValuesAscending.length);\r\n    };\r\n    CustomUISurvey.prototype.getNormalizedRatingScore = function () {\r\n        if (!this.isRatingIndexValid(this.ratingIndex)) {\r\n            return -1;\r\n        }\r\n        if (this.survey.isZeroBased) {\r\n            return (this.ratingIndex) / (this.survey.ratingValuesAscending.length - 1);\r\n        }\r\n        else {\r\n            return (this.ratingIndex + 1.0) / this.survey.ratingValuesAscending.length;\r\n        }\r\n    };\r\n    return CustomUISurvey;\r\n}());\r\n/* harmony default export */ __webpack_exports__["default"] = (CustomUISurvey);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9GbG9vZGdhdGVDb3JlL1VJU3VydmV5L0N1c3RvbVVJU3VydmV5LnRzPzNkYzEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBOztHQUVHO0FBR2tDO0FBSXJDO0lBU0Msd0JBQW1CLE1BQXFCO1FBSmhDLFlBQU8sR0FBVyxFQUFFLENBQUM7UUFDckIsZ0JBQVcsR0FBVyxDQUFDLENBQUMsQ0FBQztRQUloQyxJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUM7UUFDcEMsSUFBSSxDQUFDLGdCQUFnQixHQUFJLGdEQUFlLENBQUMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO1FBRXBHLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBQ3RCLENBQUM7SUFFTSwwQ0FBaUIsR0FBeEI7UUFDQyxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDO0lBQ25DLENBQUM7SUFFTSxpQ0FBUSxHQUFmO1FBQ0MsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztJQUMxQixDQUFDO0lBRU0sK0NBQXNCLEdBQTdCO1FBQ0MsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLG1CQUFtQixDQUFDO0lBQ3hDLENBQUM7SUFFTSw4Q0FBcUIsR0FBNUI7UUFDQyxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsa0JBQWtCLENBQUM7SUFDdkMsQ0FBQztJQUVNLGlEQUF3QixHQUEvQjtRQUNDLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQztJQUMxQyxDQUFDO0lBRU0sMENBQWlCLEdBQXhCO1FBQ0MsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQztJQUNuQyxDQUFDO0lBRU0sMkNBQWtCLEdBQXpCO1FBQ0MsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQztJQUNwQyxDQUFDO0lBRU0sMENBQWlCLEdBQXhCO1FBQ0MsT0FBTyxTQUFTLENBQUM7SUFDbEIsQ0FBQztJQUVNLDZDQUFvQixHQUEzQjtRQUNDLE9BQU8sU0FBUyxDQUFDO0lBQ2xCLENBQUM7SUFFTSx3Q0FBZSxHQUF0QjtRQUNDLE9BQU8sU0FBUyxDQUFDO0lBQ2xCLENBQUM7SUFFTSxrQ0FBUyxHQUFoQixVQUFpQixXQUFtQixFQUFFLE9BQWU7UUFDcEQsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7UUFDdkIsSUFBSSxJQUFJLENBQUMsa0JBQWtCLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFDekMsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7U0FDL0I7YUFBTTtZQUNOLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDLENBQUM7U0FDdEI7SUFDRixDQUFDO0lBRU0sd0NBQWUsR0FBdEI7UUFDQyxJQUFJLE1BQU0sR0FBUSxFQUFFLENBQUM7UUFFckIsTUFBTSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO1FBQzlCLE1BQU0sQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLHdCQUF3QixFQUFFLENBQUM7UUFDaEQsTUFBTSxDQUFDLE1BQU0sR0FBRztZQUNmLFFBQVEsRUFBRSxJQUFJLENBQUMsYUFBYSxFQUFFO1NBQzlCLENBQUM7UUFFRixPQUFPLE1BQU0sQ0FBQztJQUNmLENBQUM7SUFFTSxzQ0FBYSxHQUFwQjtRQUNDLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUM7SUFDL0IsQ0FBQztJQUVNLHNDQUFhLEdBQXBCO1FBQ0MsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQztJQUMvQixDQUFDO0lBRU0sOEJBQUssR0FBWjtRQUNDLE9BQU8sSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO0lBQzdCLENBQUM7SUFFTywyQ0FBa0IsR0FBMUIsVUFBMkIsS0FBYTtRQUN2QyxPQUFPLENBQUMsS0FBSyxJQUFJLENBQUMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUN6RSxDQUFDO0lBRU8saURBQXdCLEdBQWhDO1FBQ0MsSUFBSSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFDL0MsT0FBTyxDQUFDLENBQUMsQ0FBQztTQUNWO1FBRUQsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRTtZQUM1QixPQUFPLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7U0FDM0U7YUFBTTtZQUNOLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMscUJBQXFCLENBQUMsTUFBTSxDQUFDO1NBQzNFO0lBQ0YsQ0FBQztJQUNGLHFCQUFDO0FBQUQsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0Zsb29kZ2F0ZUNvcmUvVUlTdXJ2ZXkvQ3VzdG9tVUlTdXJ2ZXkudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogSVVJU3VydmV5IGltcGxlbWVudGF0aW9uIGJhc2VkIG9uIGFuIElDdXN0b21TdXJ2ZXkgb2JqZWN0XHJcbiAqL1xyXG5cclxuaW1wb3J0IElDdXN0b21TdXJ2ZXkgZnJvbSBcIi4uL0lDdXN0b21TdXJ2ZXlcIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uLy4uL1V0aWxzXCI7XHJcbmltcG9ydCBJVUlTdXJ2ZXkgZnJvbSBcIi4vSVVJU3VydmV5XCI7XHJcbmltcG9ydCAqIGFzIEFwaSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0FwaS9BcGlcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEN1c3RvbVVJU3VydmV5IGltcGxlbWVudHMgSVVJU3VydmV5IHtcclxuXHRwdWJsaWMgc2hvd1Byb21wdDogYm9vbGVhbjtcclxuXHJcblx0cHVibGljIHNob3dFbWFpbFJlcXVlc3Q6IGJvb2xlYW47XHJcblxyXG5cdHByaXZhdGUgY29tbWVudDogc3RyaW5nID0gXCJcIjtcclxuXHRwcml2YXRlIHJhdGluZ0luZGV4OiBudW1iZXIgPSAtMTtcclxuXHRwcml2YXRlIHN1cnZleTogSUN1c3RvbVN1cnZleTtcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKHN1cnZleTogSUN1c3RvbVN1cnZleSkge1xyXG5cdFx0dGhpcy5zaG93UHJvbXB0ID0gc3VydmV5LnNob3dQcm9tcHQ7XHJcblx0XHR0aGlzLnNob3dFbWFpbFJlcXVlc3QgPSAgVXRpbHMuaXNCb29sZWFuKHN1cnZleS5zaG93RW1haWxSZXF1ZXN0KSA/IHN1cnZleS5zaG93RW1haWxSZXF1ZXN0IDogZmFsc2U7XHJcblxyXG5cdFx0dGhpcy5zdXJ2ZXkgPSBzdXJ2ZXk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0UHJvbXB0UXVlc3Rpb24oKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLnN1cnZleS5wcm9tcHRRdWVzdGlvbjtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRUaXRsZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuc3VydmV5LnRpdGxlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFByb21wdFllc0J1dHRvblRleHQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLnN1cnZleS5wcm9tcHRZZXNCdXR0b25UZXh0O1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFByb21wdE5vQnV0dG9uVGV4dCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuc3VydmV5LnByb21wdE5vQnV0dG9uVGV4dDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRSYXRpbmdWYWx1ZXNBc2NlbmRpbmcoKTogc3RyaW5nW10ge1xyXG5cdFx0cmV0dXJuIHRoaXMuc3VydmV5LnJhdGluZ1ZhbHVlc0FzY2VuZGluZztcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRSYXRpbmdRdWVzdGlvbigpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuc3VydmV5LnJhdGluZ1F1ZXN0aW9uO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENvbW1lbnRRdWVzdGlvbigpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuc3VydmV5LmNvbW1lbnRRdWVzdGlvbjtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRJbnRlcmNlcHRUaXRsZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRJbnRlcmNlcHRRdWVzdGlvbigpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRJbnRlcmNlcHRVcmwoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB1bmRlZmluZWQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0VmFsdWVzKHJhdGluZ0luZGV4OiBudW1iZXIsIGNvbW1lbnQ6IHN0cmluZyk6IHZvaWQge1xyXG5cdFx0dGhpcy5jb21tZW50ID0gY29tbWVudDtcclxuXHRcdGlmICh0aGlzLmlzUmF0aW5nSW5kZXhWYWxpZChyYXRpbmdJbmRleCkpIHtcclxuXHRcdFx0dGhpcy5yYXRpbmdJbmRleCA9IHJhdGluZ0luZGV4O1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5yYXRpbmdJbmRleCA9IC0xO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHVibGljIGdldEpzb25FbGVtZW50cygpOiBhbnkge1xyXG5cdFx0bGV0IHJlc3VsdDogYW55ID0ge307XHJcblxyXG5cdFx0cmVzdWx0LmNvbW1lbnQgPSB0aGlzLmNvbW1lbnQ7XHJcblx0XHRyZXN1bHQucmF0aW5nID0gdGhpcy5nZXROb3JtYWxpemVkUmF0aW5nU2NvcmUoKTtcclxuXHRcdHJlc3VsdC5zdXJ2ZXkgPSB7XHJcblx0XHRcdHN1cnZleUlkOiB0aGlzLmdldENhbXBhaWduSWQoKSxcclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRTdXJ2ZXlUeXBlKCk6IEFwaS5JU3VydmV5LlR5cGUge1xyXG5cdFx0cmV0dXJuIHRoaXMuc3VydmV5LnN1cnZleVR5cGU7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0Q2FtcGFpZ25JZCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuc3VydmV5LmNhbXBhaWduSWQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0SWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmdldENhbXBhaWduSWQoKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgaXNSYXRpbmdJbmRleFZhbGlkKGluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHRoaXMuc3VydmV5LnJhdGluZ1ZhbHVlc0FzY2VuZGluZy5sZW5ndGgpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZXROb3JtYWxpemVkUmF0aW5nU2NvcmUoKTogbnVtYmVyIHtcclxuXHRcdGlmICghdGhpcy5pc1JhdGluZ0luZGV4VmFsaWQodGhpcy5yYXRpbmdJbmRleCkpIHtcclxuXHRcdFx0cmV0dXJuIC0xO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLnN1cnZleS5pc1plcm9CYXNlZCkge1xyXG5cdFx0XHRyZXR1cm4gKHRoaXMucmF0aW5nSW5kZXgpIC8gKHRoaXMuc3VydmV5LnJhdGluZ1ZhbHVlc0FzY2VuZGluZy5sZW5ndGggLSAxKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiAodGhpcy5yYXRpbmdJbmRleCArIDEuMCkgLyB0aGlzLnN1cnZleS5yYXRpbmdWYWx1ZXNBc2NlbmRpbmcubGVuZ3RoO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/FloodgateCore/UISurvey/CustomUISurvey.ts\n')},"./scripts/app/FloodgateCore/UISurvey/DummyUISurvey.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Utils */ "./scripts/app/Utils.ts");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Api/Api */ "../FloodgateCore/dist/src/Api/Api.js");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_1__);\n/**\r\n * Dummy IUISurvey implementation without dependancy on officefloodgatecore\r\n */\r\n\r\n\r\nvar DummySurvey = /** @class */ (function () {\r\n    function DummySurvey() {\r\n        this.showPrompt = true;\r\n        this.showEmailRequest = true;\r\n        this.comment = "";\r\n    }\r\n    DummySurvey.prototype.getPromptQuestion = function () {\r\n        return "Prompt question?";\r\n    };\r\n    DummySurvey.prototype.getTitle = function () {\r\n        return "Title";\r\n    };\r\n    DummySurvey.prototype.getPromptYesButtonText = function () {\r\n        return "Yes";\r\n    };\r\n    DummySurvey.prototype.getPromptNoButtonText = function () {\r\n        return "No";\r\n    };\r\n    DummySurvey.prototype.getRatingValuesAscending = function () {\r\n        return ["worst", "worse", "ok", "better", "best"];\r\n    };\r\n    DummySurvey.prototype.getRatingQuestion = function () {\r\n        return "Rating question?";\r\n    };\r\n    DummySurvey.prototype.getCommentQuestion = function () {\r\n        return "Comment question?";\r\n    };\r\n    DummySurvey.prototype.getInterceptTitle = function () {\r\n        return "Intercept Title";\r\n    };\r\n    DummySurvey.prototype.getInterceptQuestion = function () {\r\n        return "Intercept question?";\r\n    };\r\n    DummySurvey.prototype.getInterceptUrl = function () {\r\n        return "https://example.com";\r\n    };\r\n    DummySurvey.prototype.setValues = function (selectedIndex, comment) {\r\n        if (comment) {\r\n            this.comment = comment;\r\n        }\r\n        if (_Utils__WEBPACK_IMPORTED_MODULE_0__["isInteger"](selectedIndex) && selectedIndex >= 0 && selectedIndex <= 4) {\r\n            this.rating = selectedIndex / 4.0;\r\n        }\r\n    };\r\n    DummySurvey.prototype.getJsonElements = function () {\r\n        var result = {};\r\n        if (this.comment) {\r\n            result.comment = this.comment;\r\n        }\r\n        if (this.rating) {\r\n            result.rating = this.rating;\r\n        }\r\n        return result;\r\n    };\r\n    DummySurvey.prototype.getSurveyType = function () {\r\n        return _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_1__["ISurvey"].Type.Nps;\r\n    };\r\n    DummySurvey.prototype.getCampaignId = function () {\r\n        return "10000000-0000-0000-0000-000000000000";\r\n    };\r\n    DummySurvey.prototype.getId = function () {\r\n        return "00000000-0000-0000-0000-000000000000";\r\n    };\r\n    return DummySurvey;\r\n}());\r\n/* harmony default export */ __webpack_exports__["default"] = (DummySurvey);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9GbG9vZGdhdGVDb3JlL1VJU3VydmV5L0R1bW15VUlTdXJ2ZXkudHM/MGZjMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztHQUVHO0FBR2tDO0FBQytCO0FBRXBFO0lBQUE7UUFDUSxlQUFVLEdBQVksSUFBSSxDQUFDO1FBRTNCLHFCQUFnQixHQUFZLElBQUksQ0FBQztRQUVoQyxZQUFPLEdBQVcsRUFBRSxDQUFDO0lBc0U5QixDQUFDO0lBbkVPLHVDQUFpQixHQUF4QjtRQUNDLE9BQU8sa0JBQWtCLENBQUM7SUFDM0IsQ0FBQztJQUVNLDhCQUFRLEdBQWY7UUFDQyxPQUFPLE9BQU8sQ0FBQztJQUNoQixDQUFDO0lBRU0sNENBQXNCLEdBQTdCO1FBQ0MsT0FBTyxLQUFLLENBQUM7SUFDZCxDQUFDO0lBRU0sMkNBQXFCLEdBQTVCO1FBQ0MsT0FBTyxJQUFJLENBQUM7SUFDYixDQUFDO0lBRU0sOENBQXdCLEdBQS9CO1FBQ0MsT0FBTyxDQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUNuRCxDQUFDO0lBRU0sdUNBQWlCLEdBQXhCO1FBQ0MsT0FBTyxrQkFBa0IsQ0FBQztJQUMzQixDQUFDO0lBRU0sd0NBQWtCLEdBQXpCO1FBQ0MsT0FBTyxtQkFBbUIsQ0FBQztJQUM1QixDQUFDO0lBRU0sdUNBQWlCLEdBQXhCO1FBQ0MsT0FBTyxpQkFBaUIsQ0FBQztJQUMxQixDQUFDO0lBRU0sMENBQW9CLEdBQTNCO1FBQ0MsT0FBTyxxQkFBcUIsQ0FBQztJQUM5QixDQUFDO0lBRU0scUNBQWUsR0FBdEI7UUFDQyxPQUFPLHFCQUFxQixDQUFDO0lBQzlCLENBQUM7SUFFTSwrQkFBUyxHQUFoQixVQUFpQixhQUFxQixFQUFFLE9BQWU7UUFDdEQsSUFBSSxPQUFPLEVBQUU7WUFBRSxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztTQUFFO1FBQ3hDLElBQUksZ0RBQWUsQ0FBQyxhQUFhLENBQUMsSUFBSSxhQUFhLElBQUksQ0FBQyxJQUFJLGFBQWEsSUFBSSxDQUFDLEVBQUU7WUFDL0UsSUFBSSxDQUFDLE1BQU0sR0FBRyxhQUFhLEdBQUcsR0FBRyxDQUFDO1NBQ2xDO0lBQ0YsQ0FBQztJQUVNLHFDQUFlLEdBQXRCO1FBQ0MsSUFBSSxNQUFNLEdBQVEsRUFBRSxDQUFDO1FBRXJCLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUFFLE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztTQUFFO1FBQ3BELElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUFFLE1BQU0sQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztTQUFFO1FBRWpELE9BQU8sTUFBTSxDQUFDO0lBQ2YsQ0FBQztJQUVNLG1DQUFhLEdBQXBCO1FBQ0MsT0FBTyxvRkFBVyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7SUFDN0IsQ0FBQztJQUVNLG1DQUFhLEdBQXBCO1FBQ0MsT0FBTyxzQ0FBc0MsQ0FBQztJQUMvQyxDQUFDO0lBRU0sMkJBQUssR0FBWjtRQUNDLE9BQU8sc0NBQXNDLENBQUM7SUFDL0MsQ0FBQztJQUNGLGtCQUFDO0FBQUQsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0Zsb29kZ2F0ZUNvcmUvVUlTdXJ2ZXkvRHVtbXlVSVN1cnZleS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBEdW1teSBJVUlTdXJ2ZXkgaW1wbGVtZW50YXRpb24gd2l0aG91dCBkZXBlbmRhbmN5IG9uIG9mZmljZWZsb29kZ2F0ZWNvcmVcclxuICovXHJcblxyXG5pbXBvcnQgSVVJU3VydmV5IGZyb20gXCIuL0lVSVN1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tIFwiLi4vLi4vVXRpbHNcIjtcclxuaW1wb3J0ICogYXMgQXBpIGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmUvZGlzdC9zcmMvQXBpL0FwaVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHVtbXlTdXJ2ZXkgaW1wbGVtZW50cyBJVUlTdXJ2ZXkge1xyXG5cdHB1YmxpYyBzaG93UHJvbXB0OiBib29sZWFuID0gdHJ1ZTtcclxuXHJcblx0cHVibGljIHNob3dFbWFpbFJlcXVlc3Q6IGJvb2xlYW4gPSB0cnVlO1xyXG5cclxuXHRwcml2YXRlIGNvbW1lbnQ6IHN0cmluZyA9IFwiXCI7XHJcblx0cHJpdmF0ZSByYXRpbmc6IG51bWJlcjtcclxuXHJcblx0cHVibGljIGdldFByb21wdFF1ZXN0aW9uKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gXCJQcm9tcHQgcXVlc3Rpb24/XCI7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0VGl0bGUoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiBcIlRpdGxlXCI7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0UHJvbXB0WWVzQnV0dG9uVGV4dCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIFwiWWVzXCI7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0UHJvbXB0Tm9CdXR0b25UZXh0KCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gXCJOb1wiO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFJhdGluZ1ZhbHVlc0FzY2VuZGluZygpOiBzdHJpbmdbXSB7XHJcblx0XHRyZXR1cm4gW1wid29yc3RcIiwgXCJ3b3JzZVwiLCBcIm9rXCIsIFwiYmV0dGVyXCIsIFwiYmVzdFwiXTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRSYXRpbmdRdWVzdGlvbigpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIFwiUmF0aW5nIHF1ZXN0aW9uP1wiO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENvbW1lbnRRdWVzdGlvbigpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIFwiQ29tbWVudCBxdWVzdGlvbj9cIjtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRJbnRlcmNlcHRUaXRsZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIFwiSW50ZXJjZXB0IFRpdGxlXCI7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0SW50ZXJjZXB0UXVlc3Rpb24oKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiBcIkludGVyY2VwdCBxdWVzdGlvbj9cIjtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRJbnRlcmNlcHRVcmwoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiBcImh0dHBzOi8vZXhhbXBsZS5jb21cIjtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRWYWx1ZXMoc2VsZWN0ZWRJbmRleDogbnVtYmVyLCBjb21tZW50OiBzdHJpbmcpOiB2b2lkIHtcclxuXHRcdGlmIChjb21tZW50KSB7IHRoaXMuY29tbWVudCA9IGNvbW1lbnQ7IH1cclxuXHRcdGlmIChVdGlscy5pc0ludGVnZXIoc2VsZWN0ZWRJbmRleCkgJiYgc2VsZWN0ZWRJbmRleCA+PSAwICYmIHNlbGVjdGVkSW5kZXggPD0gNCkge1xyXG5cdFx0XHR0aGlzLnJhdGluZyA9IHNlbGVjdGVkSW5kZXggLyA0LjA7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0SnNvbkVsZW1lbnRzKCk6IGFueSB7XHJcblx0XHRsZXQgcmVzdWx0OiBhbnkgPSB7fTtcclxuXHJcblx0XHRpZiAodGhpcy5jb21tZW50KSB7IHJlc3VsdC5jb21tZW50ID0gdGhpcy5jb21tZW50OyB9XHJcblx0XHRpZiAodGhpcy5yYXRpbmcpIHsgcmVzdWx0LnJhdGluZyA9IHRoaXMucmF0aW5nOyB9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRTdXJ2ZXlUeXBlKCk6IEFwaS5JU3VydmV5LlR5cGUge1xyXG5cdFx0cmV0dXJuIEFwaS5JU3VydmV5LlR5cGUuTnBzO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENhbXBhaWduSWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiBcIjEwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMFwiO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldElkKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gXCIwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDBcIjtcclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/FloodgateCore/UISurvey/DummyUISurvey.ts\n')},"./scripts/app/FloodgateCore/UISurvey/UISurvey.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Api/Api */ "../FloodgateCore/dist/src/Api/Api.js");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_0__);\n/**\r\n * An implementation of IUISurvey based on floodgate.core INpsSurvey\r\n */\r\n\r\nvar UISurvey = /** @class */ (function () {\r\n    function UISurvey(survey) {\r\n        this.showPrompt = true;\r\n        this.showEmailRequest = false;\r\n        if (!survey) {\r\n            throw Error("survey must not be null");\r\n        }\r\n        else {\r\n            this.survey = survey;\r\n        }\r\n        if (survey.getType() === _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_0__["ISurvey"].Type.Intercept) {\r\n            this.isIntercept = true;\r\n            var interceptComponent = survey.getComponent("Intercept" /* Intercept */);\r\n            if (interceptComponent) {\r\n                this.intercept = interceptComponent;\r\n            }\r\n            else {\r\n                throw Error("intercept component must not be null");\r\n            }\r\n        }\r\n        else {\r\n            this.isIntercept = false;\r\n            var promptComponent = survey.getComponent("Prompt" /* Prompt */);\r\n            var commentComponent = survey.getComponent("Comment" /* Comment */);\r\n            var ratingComponent = survey.getComponent("Rating" /* Rating */);\r\n            if (promptComponent) {\r\n                this.prompt = promptComponent;\r\n            }\r\n            else {\r\n                throw Error("prompt component must not be null");\r\n            }\r\n            // Check for additonalDataRequested options\r\n            this.showEmailRequest = survey.getSurveyInfo().isAdditionalDataRequested(0 /* EmailAddress */);\r\n            if (commentComponent) {\r\n                this.comment = commentComponent;\r\n            }\r\n            else {\r\n                throw Error("comment component must not be null");\r\n            }\r\n            if (ratingComponent) {\r\n                this.rating = ratingComponent;\r\n            }\r\n            else {\r\n                throw Error("rating component must not be null");\r\n            }\r\n        }\r\n    }\r\n    UISurvey.prototype.getPromptQuestion = function () {\r\n        return this.isIntercept ? undefined : this.prompt.getQuestion();\r\n    };\r\n    UISurvey.prototype.getTitle = function () {\r\n        return this.isIntercept ? undefined : this.prompt.getTitle();\r\n    };\r\n    UISurvey.prototype.getPromptYesButtonText = function () {\r\n        return this.isIntercept ? undefined : this.prompt.getYesButtonText();\r\n    };\r\n    UISurvey.prototype.getPromptNoButtonText = function () {\r\n        return this.isIntercept ? undefined : this.prompt.getNoButtonText();\r\n    };\r\n    UISurvey.prototype.getRatingValuesAscending = function () {\r\n        return this.isIntercept ? undefined : this.rating.getRatingValuesAscending();\r\n    };\r\n    UISurvey.prototype.getRatingQuestion = function () {\r\n        return this.isIntercept ? undefined : this.rating.getQuestion();\r\n    };\r\n    UISurvey.prototype.getCommentQuestion = function () {\r\n        return this.isIntercept ? undefined : this.comment.getQuestion();\r\n    };\r\n    UISurvey.prototype.getInterceptTitle = function () {\r\n        return this.isIntercept ? this.intercept.getTitle() : undefined;\r\n    };\r\n    UISurvey.prototype.getInterceptQuestion = function () {\r\n        return this.isIntercept ? this.intercept.getQuestion() : undefined;\r\n    };\r\n    UISurvey.prototype.getInterceptUrl = function () {\r\n        return this.isIntercept ? this.intercept.getUrl() : undefined;\r\n    };\r\n    UISurvey.prototype.setValues = function (selectedIndex, comment) {\r\n        if (!this.isIntercept) {\r\n            this.rating.setSelectedRatingIndex(selectedIndex);\r\n            this.comment.setSubmittedText(comment);\r\n        }\r\n    };\r\n    UISurvey.prototype.getJsonElements = function () {\r\n        return this.survey.getJsonElements();\r\n    };\r\n    UISurvey.prototype.getSurveyType = function () {\r\n        return this.survey.getType();\r\n    };\r\n    UISurvey.prototype.getCampaignId = function () {\r\n        return this.survey.getSurveyInfo().getBackEndId();\r\n    };\r\n    UISurvey.prototype.getId = function () {\r\n        return this.survey.getSurveyInfo().getId();\r\n    };\r\n    return UISurvey;\r\n}());\r\n/* harmony default export */ __webpack_exports__["default"] = (UISurvey);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9GbG9vZGdhdGVDb3JlL1VJU3VydmV5L1VJU3VydmV5LnRzP2EwMDMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7O0dBRUc7QUFHaUU7QUFFcEU7SUFhQyxrQkFBWSxNQUFtQjtRQVp4QixlQUFVLEdBQVksSUFBSSxDQUFDO1FBRTNCLHFCQUFnQixHQUFZLEtBQUssQ0FBQztRQVd4QyxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ1osTUFBTSxLQUFLLENBQUMseUJBQXlCLENBQUMsQ0FBQztTQUN2QzthQUFNO1lBQ04sSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7U0FDckI7UUFFRCxJQUFJLE1BQU0sQ0FBQyxPQUFPLEVBQUUsS0FBSyxvRkFBVyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFDcEQsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUM7WUFFeEIsSUFBSSxrQkFBa0IsR0FBeUIsTUFBTSxDQUFDLFlBQVksNkJBQXFDLENBQUM7WUFFeEcsSUFBSSxrQkFBa0IsRUFBRTtnQkFDdkIsSUFBSSxDQUFDLFNBQVMsR0FBSSxrQkFBOEMsQ0FBQzthQUNqRTtpQkFBTTtnQkFDTixNQUFNLEtBQUssQ0FBQyxzQ0FBc0MsQ0FBQyxDQUFDO2FBQ3BEO1NBRUQ7YUFBTTtZQUNOLElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO1lBRXpCLElBQUksZUFBZSxHQUF5QixNQUFNLENBQUMsWUFBWSx1QkFBa0MsQ0FBQztZQUNsRyxJQUFJLGdCQUFnQixHQUF5QixNQUFNLENBQUMsWUFBWSx5QkFBbUMsQ0FBQztZQUNwRyxJQUFJLGVBQWUsR0FBeUIsTUFBTSxDQUFDLFlBQVksdUJBQWtDLENBQUM7WUFFbEcsSUFBSSxlQUFlLEVBQUU7Z0JBQ3BCLElBQUksQ0FBQyxNQUFNLEdBQUksZUFBd0MsQ0FBQzthQUN4RDtpQkFBTTtnQkFDTixNQUFNLEtBQUssQ0FBQyxtQ0FB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QUF0QjtRQUNDLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUN0QyxDQUFDO0lBRU0sZ0NBQWEsR0FBcEI7UUFDQyxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDOUIsQ0FBQztJQUVNLGdDQUFhLEdBQXBCO1FBQ0MsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLGFBQWEsRUFBRSxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ25ELENBQUM7SUFFTSx3QkFBSyxHQUFaO1FBQ0MsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLGFBQWEsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQzVDLENBQUM7SUFDRixlQUFDO0FBQUQsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0Zsb29kZ2F0ZUNvcmUvVUlTdXJ2ZXkvVUlTdXJ2ZXkudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQW4gaW1wbGVtZW50YXRpb24gb2YgSVVJU3VydmV5IGJhc2VkIG9uIGZsb29kZ2F0ZS5jb3JlIElOcHNTdXJ2ZXlcclxuICovXHJcblxyXG5pbXBvcnQgSVVJU3VydmV5IGZyb20gXCIuL0lVSVN1cnZleVwiO1xyXG5pbXBvcnQgKiBhcyBBcGkgZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9BcGkvQXBpXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSVN1cnZleSBpbXBsZW1lbnRzIElVSVN1cnZleSB7XHJcblx0cHVibGljIHNob3dQcm9tcHQ6IGJvb2xlYW4gPSB0cnVlO1xyXG5cclxuXHRwdWJsaWMgc2hvd0VtYWlsUmVxdWVzdDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuXHRwcml2YXRlIGlzSW50ZXJjZXB0OiBib29sZWFuO1xyXG5cclxuXHRwcml2YXRlIHN1cnZleTogQXBpLklTdXJ2ZXk7XHJcblx0cHJpdmF0ZSBwcm9tcHQ6IEFwaS5JUHJvbXB0Q29tcG9uZW50O1xyXG5cdHByaXZhdGUgY29tbWVudDogQXBpLklDb21tZW50Q29tcG9uZW50O1xyXG5cdHByaXZhdGUgcmF0aW5nOiBBcGkuSVJhdGluZ0NvbXBvbmVudDtcclxuXHRwcml2YXRlIGludGVyY2VwdDogQXBpLklJbnRlcmNlcHRDb21wb25lbnQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHN1cnZleTogQXBpLklTdXJ2ZXkpIHtcclxuXHRcdGlmICghc3VydmV5KSB7XHJcblx0XHRcdHRocm93IEVycm9yKFwic3VydmV5IG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLnN1cnZleSA9IHN1cnZleTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoc3VydmV5LmdldFR5cGUoKSA9PT0gQXBpLklTdXJ2ZXkuVHlwZS5JbnRlcmNlcHQpIHtcclxuXHRcdFx0dGhpcy5pc0ludGVyY2VwdCA9IHRydWU7XHJcblxyXG5cdFx0XHRsZXQgaW50ZXJjZXB0Q29tcG9uZW50OiBBcGkuSVN1cnZleUNvbXBvbmVudCA9IHN1cnZleS5nZXRDb21wb25lbnQoQXBpLklTdXJ2ZXlDb21wb25lbnQuVHlwZS5JbnRlcmNlcHQpO1xyXG5cclxuXHRcdFx0aWYgKGludGVyY2VwdENvbXBvbmVudCkge1xyXG5cdFx0XHRcdHRoaXMuaW50ZXJjZXB0ID0gKGludGVyY2VwdENvbXBvbmVudCBhcyBBcGkuSUludGVyY2VwdENvbXBvbmVudCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhyb3cgRXJyb3IoXCJpbnRlcmNlcHQgY29tcG9uZW50IG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHRcdH1cclxuXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLmlzSW50ZXJjZXB0ID0gZmFsc2U7XHJcblxyXG5cdFx0XHRsZXQgcHJvbXB0Q29tcG9uZW50OiBBcGkuSVN1cnZleUNvbXBvbmVudCA9IHN1cnZleS5nZXRDb21wb25lbnQoQXBpLklTdXJ2ZXlDb21wb25lbnQuVHlwZS5Qcm9tcHQpO1xyXG5cdFx0XHRsZXQgY29tbWVudENvbXBvbmVudDogQXBpLklTdXJ2ZXlDb21wb25lbnQgPSBzdXJ2ZXkuZ2V0Q29tcG9uZW50KEFwaS5JU3VydmV5Q29tcG9uZW50LlR5cGUuQ29tbWVudCk7XHJcblx0XHRcdGxldCByYXRpbmdDb21wb25lbnQ6IEFwaS5JU3VydmV5Q29tcG9uZW50ID0gc3VydmV5LmdldENvbXBvbmVudChBcGkuSVN1cnZleUNvbXBvbmVudC5UeXBlLlJhdGluZyk7XHJcblxyXG5cdFx0XHRpZiAocHJvbXB0Q29tcG9uZW50KSB7XHJcblx0XHRcdFx0dGhpcy5wcm9tcHQgPSAocHJvbXB0Q29tcG9uZW50IGFzIEFwaS5JUHJvbXB0Q29tcG9uZW50KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aHJvdyBFcnJvcihcInByb21wdCBjb21wb25lbnQgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gQ2hlY2sgZm9yIGFkZGl0b25hbERhdGFSZXF1ZXN0ZWQgb3B0aW9uc1xyXG5cdFx0XHR0aGlzLnNob3dFbWFpbFJlcXVlc3QgPSBzdXJ2ZXkuZ2V0U3VydmV5SW5mbygpLmlzQWRkaXRpb25hbERhdGFSZXF1ZXN0ZWQoXHJcblx0XHRcdFx0QXBpLklTdXJ2ZXlJbmZvLkFkZGl0aW9uYWxEYXRhVHlwZS5FbWFpbEFkZHJlc3MpO1xyXG5cclxuXHRcdFx0aWYgKGNvbW1lbnRDb21wb25lbnQpIHtcclxuXHRcdFx0XHR0aGlzLmNvbW1lbnQgPSAoY29tbWVudENvbXBvbmVudCBhcyBBcGkuSUNvbW1lbnRDb21wb25lbnQpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRocm93IEVycm9yKFwiY29tbWVudCBjb21wb25lbnQgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHJhdGluZ0NvbXBvbmVudCkge1xyXG5cdFx0XHRcdHRoaXMucmF0aW5nID0gKHJhdGluZ0NvbXBvbmVudCBhcyBBcGkuSVJhdGluZ0NvbXBvbmVudCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhyb3cgRXJyb3IoXCJyYXRpbmcgY29tcG9uZW50IG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRQcm9tcHRRdWVzdGlvbigpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNJbnRlcmNlcHQgPyB1bmRlZmluZWQgOiB0aGlzLnByb21wdC5nZXRRdWVzdGlvbigpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFRpdGxlKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5pc0ludGVyY2VwdCA/IHVuZGVmaW5lZCA6IHRoaXMucHJvbXB0LmdldFRpdGxlKCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0UHJvbXB0WWVzQnV0dG9uVGV4dCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuaXNJbnRlcmNlcHQgPyB1bmRlZmluZWQgOiB0aGlzLnByb21wdC5nZXRZZXNCdXR0b25UZXh0KCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0UHJvbXB0Tm9CdXR0b25UZXh0KCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5pc0ludGVyY2VwdCA/IHVuZGVmaW5lZCA6IHRoaXMucHJvbXB0LmdldE5vQnV0dG9uVGV4dCgpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFJhdGluZ1ZhbHVlc0FzY2VuZGluZygpOiBzdHJpbmdbXSB7XHJcblx0XHRyZXR1cm4gdGhpcy5pc0ludGVyY2VwdCA/IHVuZGVmaW5lZCA6IHRoaXMucmF0aW5nLmdldFJhdGluZ1ZhbHVlc0FzY2VuZGluZygpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFJhdGluZ1F1ZXN0aW9uKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5pc0ludGVyY2VwdCA/IHVuZGVmaW5lZCA6IHRoaXMucmF0aW5nLmdldFF1ZXN0aW9uKCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0Q29tbWVudFF1ZXN0aW9uKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5pc0ludGVyY2VwdCA/IHVuZGVmaW5lZCA6IHRoaXMuY29tbWVudC5nZXRRdWVzdGlvbigpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldEludGVyY2VwdFRpdGxlKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5pc0ludGVyY2VwdCA/IHRoaXMuaW50ZXJjZXB0LmdldFRpdGxlKCkgOiB1bmRlZmluZWQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0SW50ZXJjZXB0UXVlc3Rpb24oKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmlzSW50ZXJjZXB0ID8gdGhpcy5pbnRlcmNlcHQuZ2V0UXVlc3Rpb24oKSA6IHVuZGVmaW5lZDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRJbnRlcmNlcHRVcmwoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmlzSW50ZXJjZXB0ID8gdGhpcy5pbnRlcmNlcHQuZ2V0VXJsKCkgOiB1bmRlZmluZWQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0VmFsdWVzKHNlbGVjdGVkSW5kZXg6IG51bWJlciwgY29tbWVudDogc3RyaW5nKTogdm9pZCB7XHJcblx0XHRpZiAoIXRoaXMuaXNJbnRlcmNlcHQpIHtcclxuXHRcdFx0dGhpcy5yYXRpbmcuc2V0U2VsZWN0ZWRSYXRpbmdJbmRleChzZWxlY3RlZEluZGV4KTtcclxuXHRcdFx0dGhpcy5jb21tZW50LnNldFN1Ym1pdHRlZFRleHQoY29tbWVudCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0SnNvbkVsZW1lbnRzKCk6IGFueSB7XHJcblx0XHRyZXR1cm4gdGhpcy5zdXJ2ZXkuZ2V0SnNvbkVsZW1lbnRzKCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0U3VydmV5VHlwZSgpOiBBcGkuSVN1cnZleS5UeXBlIHtcclxuXHRcdHJldHVybiB0aGlzLnN1cnZleS5nZXRUeXBlKCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0Q2FtcGFpZ25JZCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuc3VydmV5LmdldFN1cnZleUluZm8oKS5nZXRCYWNrRW5kSWQoKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRJZCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuc3VydmV5LmdldFN1cnZleUluZm8oKS5nZXRJZCgpO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/FloodgateCore/UISurvey/UISurvey.ts\n')},"./scripts/app/Localization.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "validate", function() { return validate; });\n/**\r\n * Localization.ts\r\n *\r\n * Module for Localization\r\n */\r\n/**\r\n * List of supported Locales\r\n * REMINDER: update readme to match the list below if change is made\r\n */\r\nvar supportedLocales = [\r\n    "af",\r\n    "am",\r\n    "ar",\r\n    "as",\r\n    "az",\r\n    "be",\r\n    "bg",\r\n    "bn-BD",\r\n    "bn-IN",\r\n    "bs",\r\n    "ca",\r\n    "ca-Es-VALENCIA",\r\n    "chr-Cher",\r\n    "cs",\r\n    "cy",\r\n    "da",\r\n    "de",\r\n    "el",\r\n    "en-GB",\r\n    "es",\r\n    "es-MX",\r\n    "et",\r\n    "eu",\r\n    "fa",\r\n    "fi",\r\n    "fil",\r\n    "fr",\r\n    "fr-CA",\r\n    "ga",\r\n    "gd",\r\n    "gl",\r\n    "gu",\r\n    "ha-Latn-NG",\r\n    "he",\r\n    "hi",\r\n    "hr",\r\n    "hu",\r\n    "hy",\r\n    "id",\r\n    "is",\r\n    "it",\r\n    "ja",\r\n    "ka",\r\n    "kk",\r\n    "km-KH",\r\n    "kn",\r\n    "ko",\r\n    "kok",\r\n    "ky",\r\n    "lb",\r\n    "lo",\r\n    "lt",\r\n    "lv",\r\n    "mi",\r\n    "mk",\r\n    "ml",\r\n    "mn",\r\n    "mr",\r\n    "ms",\r\n    "mt",\r\n    "nb-NO",\r\n    "ne",\r\n    "nl",\r\n    "nn-NO",\r\n    "or",\r\n    "pa",\r\n    "pl",\r\n    "prs",\r\n    "pt-BR",\r\n    "pt-PT",\r\n    "quz",\r\n    "ro",\r\n    "ru",\r\n    "sd",\r\n    "si",\r\n    "sk",\r\n    "sl",\r\n    "sq",\r\n    "sr-Cyrl-BA",\r\n    "sr-Cyrl-RS",\r\n    "sr-Latn-RS",\r\n    "sv",\r\n    "sw",\r\n    "ta",\r\n    "te",\r\n    "th",\r\n    "tk",\r\n    "tr",\r\n    "tt",\r\n    "ug",\r\n    "uk",\r\n    "ur",\r\n    "uz-Latn-UZ",\r\n    "vi",\r\n    "zh-Hans",\r\n    "zh-Hant",\r\n];\r\nvar localeVariantToSupportedlocaleMap = {\r\n    "ZH-CN": "zh-Hans",\r\n    "ZH-HK": "zh-Hant",\r\n    "ZH-MO": "zh-Hant",\r\n    "ZH-SG": "zh-Hans",\r\n    "ZH-TW": "zh-Hant",\r\n};\r\nfunction validate(locale) {\r\n    var localeUpperCase = locale.toLocaleUpperCase();\r\n    // support for Chinese ll-cc, VSO Bug 1583389\r\n    if (localeUpperCase in localeVariantToSupportedlocaleMap) {\r\n        return localeVariantToSupportedlocaleMap[localeUpperCase];\r\n    }\r\n    // return supported locale if exact match found\r\n    for (var _i = 0, supportedLocales_1 = supportedLocales; _i < supportedLocales_1.length; _i++) {\r\n        var supportedLocale = supportedLocales_1[_i];\r\n        if (supportedLocale.toUpperCase() === localeUpperCase) {\r\n            return supportedLocale;\r\n        }\r\n    }\r\n    var localePartOne = localeUpperCase.split("-")[0];\r\n    // return supported "ll" if exact match not found, but "ll" matches\r\n    for (var _a = 0, supportedLocales_2 = supportedLocales; _a < supportedLocales_2.length; _a++) {\r\n        var supportedLocale = supportedLocales_2[_a];\r\n        if (supportedLocale.toUpperCase() === localePartOne) {\r\n            return supportedLocale;\r\n        }\r\n    }\r\n    // default everything else to en\r\n    return "en";\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Mb2NhbGl6YXRpb24udHM/MmNmNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7Ozs7R0FJRztBQUVIOzs7R0FHRztBQUNILElBQUksZ0JBQWdCLEdBQWE7SUFDaEMsSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLE9BQU87SUFDUCxPQUFPO0lBQ1AsSUFBSTtJQUNKLElBQUk7SUFDSixnQkFBZ0I7SUFDaEIsVUFBVTtJQUNWLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osT0FBTztJQUNQLElBQUk7SUFDSixPQUFPO0lBQ1AsSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLEtBQUs7SUFDTCxJQUFJO0lBQ0osT0FBTztJQUNQLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixZQUFZO0lBQ1osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixPQUFPO0lBQ1AsSUFBSTtJQUNKLElBQUk7SUFDSixLQUFLO0lBQ0wsSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osT0FBTztJQUNQLElBQUk7SUFDSixJQUFJO0lBQ0osT0FBTztJQUNQLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLEtBQUs7SUFDTCxPQUFPO0lBQ1AsT0FBTztJQUNQLEtBQUs7SUFDTCxJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osWUFBWTtJQUNaLFlBQVk7SUFDWixZQUFZO0lBQ1osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixZQUFZO0lBQ1osSUFBSTtJQUNKLFNBQVM7SUFDVCxTQUFTO0NBQ1QsQ0FBQztBQUVGLElBQU0saUNBQWlDLEdBQThCO0lBQ3BFLE9BQU8sRUFBRSxTQUFTO0lBQ2xCLE9BQU8sRUFBRSxTQUFTO0lBQ2xCLE9BQU8sRUFBRSxTQUFTO0lBQ2xCLE9BQU8sRUFBRSxTQUFTO0lBQ2xCLE9BQU8sRUFBRSxTQUFTO0NBQ2xCLENBQUM7QUFFSyxTQUFTLFFBQVEsQ0FBQyxNQUFjO0lBQ3RDLElBQUksZUFBZSxHQUFHLE1BQU0sQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0lBRWpELDZDQUE2QztJQUM3QyxJQUFJLGVBQWUsSUFBSSxpQ0FBaUMsRUFBRTtRQUN6RCxPQUFPLGlDQUFpQyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0tBQzFEO0lBRUQsK0NBQStDO0lBQy9DLEtBQTRCLFVBQWdCLEVBQWhCLHFDQUFnQixFQUFoQiw4QkFBZ0IsRUFBaEIsSUFBZ0IsRUFBRTtRQUF6QyxJQUFJLGVBQWU7UUFDdkIsSUFBSSxlQUFlLENBQUMsV0FBVyxFQUFFLEtBQUssZUFBZSxFQUFFO1lBQ3RELE9BQU8sZUFBZSxDQUFDO1NBQ3ZCO0tBQ0Q7SUFFRCxJQUFJLGFBQWEsR0FBRyxlQUFlLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2xELG1FQUFtRTtJQUNuRSxLQUE0QixVQUFnQixFQUFoQixxQ0FBZ0IsRUFBaEIsOEJBQWdCLEVBQWhCLElBQWdCLEVBQUU7UUFBekMsSUFBSSxlQUFlO1FBQ3ZCLElBQUksZUFBZSxDQUFDLFdBQVcsRUFBRSxLQUFLLGFBQWEsRUFBRTtZQUNwRCxPQUFPLGVBQWUsQ0FBQztTQUN2QjtLQUNEO0lBRUQsZ0NBQWdDO0lBQ2hDLE9BQU8sSUFBSSxDQUFDO0FBQ2IsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0xvY2FsaXphdGlvbi50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBMb2NhbGl6YXRpb24udHNcclxuICpcclxuICogTW9kdWxlIGZvciBMb2NhbGl6YXRpb25cclxuICovXHJcblxyXG4vKipcclxuICogTGlzdCBvZiBzdXBwb3J0ZWQgTG9jYWxlc1xyXG4gKiBSRU1JTkRFUjogdXBkYXRlIHJlYWRtZSB0byBtYXRjaCB0aGUgbGlzdCBiZWxvdyBpZiBjaGFuZ2UgaXMgbWFkZVxyXG4gKi9cclxubGV0IHN1cHBvcnRlZExvY2FsZXM6IHN0cmluZ1tdID0gW1xyXG5cdFwiYWZcIixcclxuXHRcImFtXCIsXHJcblx0XCJhclwiLFxyXG5cdFwiYXNcIixcclxuXHRcImF6XCIsXHJcblx0XCJiZVwiLFxyXG5cdFwiYmdcIixcclxuXHRcImJuLUJEXCIsXHJcblx0XCJibi1JTlwiLFxyXG5cdFwiYnNcIixcclxuXHRcImNhXCIsXHJcblx0XCJjYS1Fcy1WQUxFTkNJQVwiLFxyXG5cdFwiY2hyLUNoZXJcIixcclxuXHRcImNzXCIsXHJcblx0XCJjeVwiLFxyXG5cdFwiZGFcIixcclxuXHRcImRlXCIsXHJcblx0XCJlbFwiLFxyXG5cdFwiZW4tR0JcIixcclxuXHRcImVzXCIsXHJcblx0XCJlcy1NWFwiLFxyXG5cdFwiZXRcIixcclxuXHRcImV1XCIsXHJcblx0XCJmYVwiLFxyXG5cdFwiZmlcIixcclxuXHRcImZpbFwiLFxyXG5cdFwiZnJcIixcclxuXHRcImZyLUNBXCIsXHJcblx0XCJnYVwiLFxyXG5cdFwiZ2RcIixcclxuXHRcImdsXCIsXHJcblx0XCJndVwiLFxyXG5cdFwiaGEtTGF0bi1OR1wiLFxyXG5cdFwiaGVcIixcclxuXHRcImhpXCIsXHJcblx0XCJoclwiLFxyXG5cdFwiaHVcIixcclxuXHRcImh5XCIsXHJcblx0XCJpZFwiLFxyXG5cdFwiaXNcIixcclxuXHRcIml0XCIsXHJcblx0XCJqYVwiLFxyXG5cdFwia2FcIixcclxuXHRcImtrXCIsXHJcblx0XCJrbS1LSFwiLFxyXG5cdFwia25cIixcclxuXHRcImtvXCIsXHJcblx0XCJrb2tcIixcclxuXHRcImt5XCIsXHJcblx0XCJsYlwiLFxyXG5cdFwibG9cIixcclxuXHRcImx0XCIsXHJcblx0XCJsdlwiLFxyXG5cdFwibWlcIixcclxuXHRcIm1rXCIsXHJcblx0XCJtbFwiLFxyXG5cdFwibW5cIixcclxuXHRcIm1yXCIsXHJcblx0XCJtc1wiLFxyXG5cdFwibXRcIixcclxuXHRcIm5iLU5PXCIsXHJcblx0XCJuZVwiLFxyXG5cdFwibmxcIixcclxuXHRcIm5uLU5PXCIsXHJcblx0XCJvclwiLFxyXG5cdFwicGFcIixcclxuXHRcInBsXCIsXHJcblx0XCJwcnNcIixcclxuXHRcInB0LUJSXCIsXHJcblx0XCJwdC1QVFwiLFxyXG5cdFwicXV6XCIsXHJcblx0XCJyb1wiLFxyXG5cdFwicnVcIixcclxuXHRcInNkXCIsXHJcblx0XCJzaVwiLFxyXG5cdFwic2tcIixcclxuXHRcInNsXCIsXHJcblx0XCJzcVwiLFxyXG5cdFwic3ItQ3lybC1CQVwiLFxyXG5cdFwic3ItQ3lybC1SU1wiLFxyXG5cdFwic3ItTGF0bi1SU1wiLFxyXG5cdFwic3ZcIixcclxuXHRcInN3XCIsXHJcblx0XCJ0YVwiLFxyXG5cdFwidGVcIixcclxuXHRcInRoXCIsXHJcblx0XCJ0a1wiLFxyXG5cdFwidHJcIixcclxuXHRcInR0XCIsXHJcblx0XCJ1Z1wiLFxyXG5cdFwidWtcIixcclxuXHRcInVyXCIsXHJcblx0XCJ1ei1MYXRuLVVaXCIsXHJcblx0XCJ2aVwiLFxyXG5cdFwiemgtSGFuc1wiLFxyXG5cdFwiemgtSGFudFwiLFxyXG5dO1xyXG5cclxuY29uc3QgbG9jYWxlVmFyaWFudFRvU3VwcG9ydGVkbG9jYWxlTWFwOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge1xyXG5cdFwiWkgtQ05cIjogXCJ6aC1IYW5zXCIsXHJcblx0XCJaSC1IS1wiOiBcInpoLUhhbnRcIixcclxuXHRcIlpILU1PXCI6IFwiemgtSGFudFwiLFxyXG5cdFwiWkgtU0dcIjogXCJ6aC1IYW5zXCIsXHJcblx0XCJaSC1UV1wiOiBcInpoLUhhbnRcIixcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZShsb2NhbGU6IHN0cmluZyk6IHN0cmluZyB7XHJcblx0bGV0IGxvY2FsZVVwcGVyQ2FzZSA9IGxvY2FsZS50b0xvY2FsZVVwcGVyQ2FzZSgpO1xyXG5cclxuXHQvLyBzdXBwb3J0IGZvciBDaGluZXNlIGxsLWNjLCBWU08gQnVnIDE1ODMzODlcclxuXHRpZiAobG9jYWxlVXBwZXJDYXNlIGluIGxvY2FsZVZhcmlhbnRUb1N1cHBvcnRlZGxvY2FsZU1hcCkge1xyXG5cdFx0cmV0dXJuIGxvY2FsZVZhcmlhbnRUb1N1cHBvcnRlZGxvY2FsZU1hcFtsb2NhbGVVcHBlckNhc2VdO1xyXG5cdH1cclxuXHJcblx0Ly8gcmV0dXJuIHN1cHBvcnRlZCBsb2NhbGUgaWYgZXhhY3QgbWF0Y2ggZm91bmRcclxuXHRmb3IgKGxldCBzdXBwb3J0ZWRMb2NhbGUgb2Ygc3VwcG9ydGVkTG9jYWxlcykge1xyXG5cdFx0aWYgKHN1cHBvcnRlZExvY2FsZS50b1VwcGVyQ2FzZSgpID09PSBsb2NhbGVVcHBlckNhc2UpIHtcclxuXHRcdFx0cmV0dXJuIHN1cHBvcnRlZExvY2FsZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGxldCBsb2NhbGVQYXJ0T25lID0gbG9jYWxlVXBwZXJDYXNlLnNwbGl0KFwiLVwiKVswXTtcclxuXHQvLyByZXR1cm4gc3VwcG9ydGVkIFwibGxcIiBpZiBleGFjdCBtYXRjaCBub3QgZm91bmQsIGJ1dCBcImxsXCIgbWF0Y2hlc1xyXG5cdGZvciAobGV0IHN1cHBvcnRlZExvY2FsZSBvZiBzdXBwb3J0ZWRMb2NhbGVzKSB7XHJcblx0XHRpZiAoc3VwcG9ydGVkTG9jYWxlLnRvVXBwZXJDYXNlKCkgPT09IGxvY2FsZVBhcnRPbmUpIHtcclxuXHRcdFx0cmV0dXJuIHN1cHBvcnRlZExvY2FsZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIGRlZmF1bHQgZXZlcnl0aGluZyBlbHNlIHRvIGVuXHJcblx0cmV0dXJuIFwiZW5cIjtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Localization.ts\n')},"./scripts/app/Logging/Constants.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EventIds", function() { return EventIds; });\n/**\r\n * Constants.ts\r\n *\r\n * Module to hold logging-related constants\r\n */\r\nvar EventIds = /** @class */ (function () {\r\n    function EventIds() {\r\n    }\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6, _7, _8;\r\n    EventIds.InApp = (_a = /** @class */ (function () {\r\n            function class_1() {\r\n            }\r\n            return class_1;\r\n        }()),\r\n        _a.UI = (_b = /** @class */ (function () {\r\n                function class_2() {\r\n                }\r\n                return class_2;\r\n            }()),\r\n            _b.Picker = (_c = /** @class */ (function () {\r\n                    function class_3() {\r\n                    }\r\n                    return class_3;\r\n                }()),\r\n                _c.Shown = (_d = /** @class */ (function () {\r\n                        function class_4() {\r\n                        }\r\n                        return class_4;\r\n                    }()),\r\n                    _d.VALUE = { name: "InApp_UI_Picker_Shown" },\r\n                    _d),\r\n                _c),\r\n            _b.Form = (_e = /** @class */ (function () {\r\n                    function class_5() {\r\n                    }\r\n                    return class_5;\r\n                }()),\r\n                _e.Shown = (_f = /** @class */ (function () {\r\n                        function class_6() {\r\n                        }\r\n                        return class_6;\r\n                    }()),\r\n                    _f.VALUE = { name: "InApp_UI_Form_Shown" },\r\n                    _f),\r\n                _e.Submit = (_g = /** @class */ (function () {\r\n                        function class_7() {\r\n                        }\r\n                        return class_7;\r\n                    }()),\r\n                    _g.VALUE = { name: "InApp_UI_Form_Submit" },\r\n                    _g),\r\n                _e),\r\n            _b),\r\n        _a);\r\n    // This saves ~400 bytes (minified) vs nested classes\r\n    EventIds.SURVEY_FLOODGATE_CAMPAIGNLOAD_FAILED = { name: "Survey_Floodgate_CampaignLoad_Failed" };\r\n    EventIds.SURVEY_FLOODGATE_FILEREAD_FAILED = { name: "Survey_Floodgate_FileRead_Failed" };\r\n    EventIds.SURVEY_FLOODGATE_FILEWRITE_FAILED = { name: "Survey_Floodgate_FileWrite_Failed" };\r\n    EventIds.SURVEY_FLOODGATE_TRIGGERMET = { name: "Survey_Floodgate_TriggerMet" };\r\n    EventIds.SURVEY_FLOODGATE_USERSELECTED = { name: "Survey_Floodgate_UserSelected" };\r\n    EventIds.SURVEY_UI_FORM_SHOWN = { name: "Survey_UI_Form_Shown" };\r\n    EventIds.SURVEY_UI_FORM_SUBMIT = { name: "Survey_UI_Form_Submit" };\r\n    EventIds.SURVEY_UI_FORM_USERCLOSED = { name: "Survey_UI_Form_UserClosed" };\r\n    EventIds.SURVEY_UI_PROMPT_AUTODISMISSED = { name: "Survey_UI_Prompt_AutoDismissed" };\r\n    EventIds.SURVEY_UI_PROMPT_SHOWN = { name: "Survey_UI_Prompt_Shown" };\r\n    EventIds.SURVEY_UI_PROMPT_USERCLOSED = { name: "Survey_UI_Prompt_UserClosed" };\r\n    EventIds.SURVEY_UI_PROMPT_CLICKED = { name: "Survey_UI_Prompt_Clicked" };\r\n    EventIds.SURVEY_UI_REDIRECTIONFAILURE = { name: "Survey_UI_RedirectionFailure" };\r\n    EventIds.Shared = (_h = /** @class */ (function () {\r\n            function class_8() {\r\n            }\r\n            return class_8;\r\n        }()),\r\n        _h.Upload = (_j = /** @class */ (function () {\r\n                function class_9() {\r\n                }\r\n                return class_9;\r\n            }()),\r\n            _j.Failed = (_k = /** @class */ (function () {\r\n                    function class_10() {\r\n                    }\r\n                    return class_10;\r\n                }()),\r\n                _k.VALUE = { name: "Shared_Upload_Failed" },\r\n                _k),\r\n            _j),\r\n        _h.Screenshot = (_l = /** @class */ (function () {\r\n                function class_11() {\r\n                }\r\n                return class_11;\r\n            }()),\r\n            _l.Render = (_m = /** @class */ (function () {\r\n                    function class_12() {\r\n                    }\r\n                    return class_12;\r\n                }()),\r\n                _m.Failed = (_o = /** @class */ (function () {\r\n                        function class_13() {\r\n                        }\r\n                        return class_13;\r\n                    }()),\r\n                    _o.VALUE = { name: "Shared_Screenshot_Render_Failed" },\r\n                    _o),\r\n                _m.Success = (_p = /** @class */ (function () {\r\n                        function class_14() {\r\n                        }\r\n                        return class_14;\r\n                    }()),\r\n                    _p.VALUE = { name: "Shared_Screenshot_Render_Success" },\r\n                    _p),\r\n                _m),\r\n            _l.GetContent = (_q = /** @class */ (function () {\r\n                    function class_15() {\r\n                    }\r\n                    return class_15;\r\n                }()),\r\n                _q.Failed = (_r = /** @class */ (function () {\r\n                        function class_16() {\r\n                        }\r\n                        return class_16;\r\n                    }()),\r\n                    _r.DefaultImage = (_s = /** @class */ (function () {\r\n                            function class_17() {\r\n                            }\r\n                            return class_17;\r\n                        }()),\r\n                        _s.Returned = (_t = /** @class */ (function () {\r\n                                function class_18() {\r\n                                }\r\n                                return class_18;\r\n                            }()),\r\n                            _t.VALUE = { name: "Shared_Screenshot_GetContent_Failed_DefaultImage_Returned" },\r\n                            _t),\r\n                        _s),\r\n                    _r),\r\n                _q),\r\n            _l),\r\n        _h);\r\n    EventIds.WebSurfaces = (_u = /** @class */ (function () {\r\n            function class_19() {\r\n            }\r\n            return class_19;\r\n        }()),\r\n        _u.Common = (_v = /** @class */ (function () {\r\n                function class_20() {\r\n                }\r\n                return class_20;\r\n            }()),\r\n            _v.Error = (_w = /** @class */ (function () {\r\n                    function class_21() {\r\n                    }\r\n                    return class_21;\r\n                }()),\r\n                _w.VALUE = { name: "WebSurfaces_Common_Error" },\r\n                _w),\r\n            _v.Info = (_x = /** @class */ (function () {\r\n                    function class_22() {\r\n                    }\r\n                    return class_22;\r\n                }()),\r\n                _x.VALUE = { name: "WebSurfaces_Common_Info" },\r\n                _x),\r\n            _v),\r\n        _u.Messaging = (_y = /** @class */ (function () {\r\n                function class_23() {\r\n                }\r\n                return class_23;\r\n            }()),\r\n            _y.Requests = (_z = /** @class */ (function () {\r\n                    function class_24() {\r\n                    }\r\n                    return class_24;\r\n                }()),\r\n                _z.VALUE = { name: "WebSurfaces_Messaging_Requests" },\r\n                _z),\r\n            _y),\r\n        _u);\r\n    EventIds.UserFacts = (_0 = /** @class */ (function () {\r\n            function class_25() {\r\n            }\r\n            return class_25;\r\n        }()),\r\n        _0.Common = (_1 = /** @class */ (function () {\r\n                function class_26() {\r\n                }\r\n                return class_26;\r\n            }()),\r\n            _1.Error = (_2 = /** @class */ (function () {\r\n                    function class_27() {\r\n                    }\r\n                    return class_27;\r\n                }()),\r\n                _2.VALUE = { name: "UserFacts_Common_Error" },\r\n                _2),\r\n            _1.Info = (_3 = /** @class */ (function () {\r\n                    function class_28() {\r\n                    }\r\n                    return class_28;\r\n                }()),\r\n                _3.VALUE = { name: "UserFacts_Common_Info" },\r\n                _3),\r\n            _1),\r\n        _0.Messaging = (_4 = /** @class */ (function () {\r\n                function class_29() {\r\n                }\r\n                return class_29;\r\n            }()),\r\n            _4.Requests = (_5 = /** @class */ (function () {\r\n                    function class_30() {\r\n                    }\r\n                    return class_30;\r\n                }()),\r\n                _5.VALUE = { name: "UserFacts_Messaging_Requests" },\r\n                _5),\r\n            _4),\r\n        _0);\r\n    EventIds.Common = (_6 = /** @class */ (function () {\r\n            function class_31() {\r\n            }\r\n            return class_31;\r\n        }()),\r\n        _6.Error = (_7 = /** @class */ (function () {\r\n                function class_32() {\r\n                }\r\n                return class_32;\r\n            }()),\r\n            _7.VALUE = { name: "Common_Error" },\r\n            _7),\r\n        _6.Info = (_8 = /** @class */ (function () {\r\n                function class_33() {\r\n                }\r\n                return class_33;\r\n            }()),\r\n            _8.VALUE = { name: "Common_Info" },\r\n            _8),\r\n        _6);\r\n    return EventIds;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Mb2dnaW5nL0NvbnN0YW50cy50cz9hZmEwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTs7OztHQUlHO0FBaUNIO0lBQUE7SUEyR0EsQ0FBQzs7SUExR2MsY0FBSztZQUFHO1lBa0J0QixDQUFDO1lBQUQsY0FBQztRQUFELENBQUM7UUFqQmMsS0FBRTtnQkFBRztnQkFnQm5CLENBQUM7Z0JBQUQsY0FBQztZQUFELENBQUM7WUFmYyxTQUFNO29CQUFHO29CQUl2QixDQUFDO29CQUFELGNBQUM7Z0JBQUQsQ0FBQztnQkFIYyxRQUFLO3dCQUFHO3dCQUV0QixDQUFDO3dCQUFELGNBQUM7b0JBQUQsQ0FBQztvQkFEYyxRQUFLLEdBQWEsRUFBRSxJQUFJLEVBQUUsdUJBQXVCLEVBQUc7dUJBQ2pFO21CQUNEO1lBRVksT0FBSTtvQkFBRztvQkFRckIsQ0FBQztvQkFBRCxjQUFDO2dCQUFELENBQUM7Z0JBUGMsUUFBSzt3QkFBRzt3QkFFdEIsQ0FBQzt3QkFBRCxjQUFDO29CQUFELENBQUM7b0JBRGMsUUFBSyxHQUFhLEVBQUUsSUFBSSxFQUFFLHFCQUFxQixFQUFHO3VCQUMvRDtnQkFFWSxTQUFNO3dCQUFHO3dCQUV2QixDQUFDO3dCQUFELGNBQUM7b0JBQUQsQ0FBQztvQkFEYyxRQUFLLEdBQWEsRUFBRSxJQUFJLEVBQUUsc0JBQXNCLEVBQUc7dUJBQ2hFO21CQUNEO2VBQ0Q7WUFDRDtJQUVGLHFEQUFxRDtJQUN2Qyw2Q0FBb0MsR0FBYSxFQUFFLElBQUksRUFBRSxzQ0FBc0MsRUFBRSxDQUFDO0lBQ2xHLHlDQUFnQyxHQUFhLEVBQUUsSUFBSSxFQUFFLGtDQUFrQyxFQUFFLENBQUM7SUFDMUYsMENBQWlDLEdBQWEsRUFBRSxJQUFJLEVBQUUsbUNBQW1DLEVBQUUsQ0FBQztJQUM1RixvQ0FBMkIsR0FBYSxFQUFFLElBQUksRUFBRSw2QkFBNkIsRUFBRSxDQUFDO0lBQ2hGLHNDQUE2QixHQUFh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QUV0QixDQUFDO29CQUFELGVBQUM7Z0JBQUQsQ0FBQztnQkFEYyxRQUFLLEdBQWEsRUFBRSxJQUFJLEVBQUUsd0JBQXdCLEVBQUc7bUJBQ2xFO1lBQ1ksT0FBSTtvQkFBRztvQkFFckIsQ0FBQztvQkFBRCxlQUFDO2dCQUFELENBQUM7Z0JBRGMsUUFBSyxHQUFhLEVBQUUsSUFBSSxFQUFFLHVCQUF1QixFQUFHO21CQUNqRTtlQUNEO1FBRVksWUFBUztnQkFBRztnQkFJMUIsQ0FBQztnQkFBRCxlQUFDO1lBQUQsQ0FBQztZQUhjLFdBQVE7b0JBQUc7b0JBRXpCLENBQUM7b0JBQUQsZUFBQztnQkFBRCxDQUFDO2dCQURjLFFBQUssR0FBYSxFQUFFLElBQUksRUFBRSw4QkFBOEIsRUFBRzttQkFDeEU7ZUFDRDtZQUNEO0lBRVksZUFBTTtZQUFHO1lBT3ZCLENBQUM7WUFBRCxlQUFDO1FBQUQsQ0FBQztRQU5jLFFBQUs7Z0JBQUc7Z0JBRXRCLENBQUM7Z0JBQUQsZUFBQztZQUFELENBQUM7WUFEYyxRQUFLLEdBQWEsRUFBRSxJQUFJLEVBQUUsY0FBYyxFQUFHO2VBQ3hEO1FBQ1ksT0FBSTtnQkFBRztnQkFFckIsQ0FBQztnQkFBRCxlQUFDO1lBQUQsQ0FBQztZQURjLFFBQUssR0FBYSxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUc7ZUFDdkQ7WUFDRDtJQUNILGVBQUM7Q0FBQTtBQTNHb0IiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9Mb2dnaW5nL0NvbnN0YW50cy50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb25zdGFudHMudHNcclxuICpcclxuICogTW9kdWxlIHRvIGhvbGQgbG9nZ2luZy1yZWxhdGVkIGNvbnN0YW50c1xyXG4gKi9cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUN1c3RvbVByb3BlcnRpZXMge1xyXG5cdENhbXBhaWduSWQ/OiBzdHJpbmc7XHJcblx0Q29ycmVsYXRpb25JZD86IHN0cmluZztcclxuXHREYXRhPzogc3RyaW5nO1xyXG5cdEVycm9yTWVzc2FnZT86IHN0cmluZztcclxuXHRGZWVkYmFja1R5cGU/OiBudW1iZXI7XHJcblx0UGFuZWxUeXBlPzogbnVtYmVyO1xyXG5cdEZpbGVOYW1lPzogc3RyaW5nO1xyXG5cdEZsaWdodHM/OiBzdHJpbmc7XHJcblx0SHR0cFN0YXR1c0NvZGU/OiBudW1iZXI7XHJcblx0SHR0cFN0YXR1c1RleHQ/OiBzdHJpbmc7XHJcblx0SXNCdWdFbmFibGVkPzogYm9vbGVhbjtcclxuXHRJc0RpYWdub3N0aWNzSW5jbHVkZWQ/OiBib29sZWFuO1xyXG5cdElzRW1haWxJbmNsdWRlZD86IGJvb2xlYW47XHJcblx0SXNFbWFpbFBvbGljeUVuYWJsZWQ/OiBib29sZWFuO1xyXG5cdElzSWRlYUVuYWJsZWQ/OiBib29sZWFuO1xyXG5cdElzU2NyZWVuc2hvdEluY2x1ZGVkPzogYm9vbGVhbjtcclxuXHRNZXNzYWdlPzogc3RyaW5nO1xyXG5cdFNlc3Npb25JZD86IHN0cmluZztcclxuXHRTdXJ2ZXlJZD86IHN0cmluZztcclxuXHRTdXJ2ZXlUeXBlPzogbnVtYmVyO1xyXG5cdFRpbWVNaWxsaXNlY29uZHM/OiBudW1iZXI7XHJcblx0VHlwZT86IHN0cmluZztcclxuXHRDbGllbnRGZWVkYmFja0lkPzogc3RyaW5nO1xyXG5cdFByb21wdEF1dG9EaXNtaXNzPzogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElFdmVudElkIHtcclxuXHRuYW1lOiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBFdmVudElkcyB7XHJcblx0cHVibGljIHN0YXRpYyBJbkFwcCA9IGNsYXNzIHtcclxuXHRcdHB1YmxpYyBzdGF0aWMgVUkgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgUGlja2VyID0gY2xhc3Mge1xyXG5cdFx0XHRcdHB1YmxpYyBzdGF0aWMgU2hvd24gPSBjbGFzcyB7XHJcblx0XHRcdFx0XHRwdWJsaWMgc3RhdGljIFZBTFVFOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJJbkFwcF9VSV9QaWNrZXJfU2hvd25cIiB9O1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEZvcm0gPSBjbGFzcyB7XHJcblx0XHRcdFx0cHVibGljIHN0YXRpYyBTaG93biA9IGNsYXNzIHtcclxuXHRcdFx0XHRcdHB1YmxpYyBzdGF0aWMgVkFMVUU6IElFdmVudElkID0geyBuYW1lOiBcIkluQXBwX1VJX0Zvcm1fU2hvd25cIiB9O1xyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdHB1YmxpYyBzdGF0aWMgU3VibWl0ID0gY2xhc3Mge1xyXG5cdFx0XHRcdFx0cHVibGljIHN0YXRpYyBWQUxVRTogSUV2ZW50SWQgPSB7IG5hbWU6IFwiSW5BcHBfVUlfRm9ybV9TdWJtaXRcIiB9O1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdH07XHJcblx0XHR9O1xyXG5cdH07XHJcblxyXG5cdC8vIFRoaXMgc2F2ZXMgfjQwMCBieXRlcyAobWluaWZpZWQpIHZzIG5lc3RlZCBjbGFzc2VzXHJcblx0cHVibGljIHN0YXRpYyBTVVJWRVlfRkxPT0RHQVRFX0NBTVBBSUdOTE9BRF9GQUlMRUQ6IElFdmVudElkID0geyBuYW1lOiBcIlN1cnZleV9GbG9vZGdhdGVfQ2FtcGFpZ25Mb2FkX0ZhaWxlZFwiIH07XHJcblx0cHVibGljIHN0YXRpYyBTVVJWRVlfRkxPT0RHQVRFX0ZJTEVSRUFEX0ZBSUxFRDogSUV2ZW50SWQgPSB7IG5hbWU6IFwiU3VydmV5X0Zsb29kZ2F0ZV9GaWxlUmVhZF9GYWlsZWRcIiB9O1xyXG5cdHB1YmxpYyBzdGF0aWMgU1VSVkVZX0ZMT09ER0FURV9GSUxFV1JJVEVfRkFJTEVEOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJTdXJ2ZXlfRmxvb2RnYXRlX0ZpbGVXcml0ZV9GYWlsZWRcIiB9O1xyXG5cdHB1YmxpYyBzdGF0aWMgU1VSVkVZX0ZMT09ER0FURV9UUklHR0VSTUVUOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJTdXJ2ZXlfRmxvb2RnYXRlX1RyaWdnZXJNZXRcIiB9O1xyXG5cdHB1YmxpYyBzdGF0aWMgU1VSVkVZX0ZMT09ER0FURV9VU0VSU0VMRUNURUQ6IElFdmVudElkID0geyBuYW1lOiBcIlN1cnZleV9GbG9vZGdhdGVfVXNlclNlbGVjdGVkXCIgfTtcclxuXHRwdWJsaWMgc3RhdGljIFNVUlZFWV9VSV9GT1JNX1NIT1dOOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJTdXJ2ZXlfVUlfRm9ybV9TaG93blwiIH07XHJcblx0cHVibGljIHN0YXRpYyBTVVJWRVlfVUlfRk9STV9TVUJNSVQ6IElFdmVudElkID0geyBuYW1lOiBcIlN1cnZleV9VSV9Gb3JtX1N1Ym1pdFwiIH07XHJcblx0cHVibGljIHN0YXRpYyBTVVJWRVlfVUlfRk9STV9VU0VSQ0xPU0VEOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJTdXJ2ZXlfVUlfRm9ybV9Vc2VyQ2xvc2VkXCIgfTtcclxuXHRwdWJsaWMgc3RhdGljIFNVUlZFWV9VSV9QUk9NUFRfQVVUT0RJU01JU1NFRDogSUV2ZW50SWQgPSB7IG5hbWU6IFwiU3VydmV5X1VJX1Byb21wdF9BdXRvRGlzbWlzc2VkXCIgfTtcclxuXHRwdWJsaWMgc3RhdGljIFNVUlZFWV9VSV9QUk9NUFRfU0hPV046IElFdmVudElkID0geyBuYW1lOiBcIlN1cnZleV9VSV9Qcm9tcHRfU2hvd25cIiB9O1xyXG5cdHB1YmxpYyBzdGF0aWMgU1VSVkVZX1VJX1BST01QVF9VU0VSQ0xPU0VEOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJTdXJ2ZXlfVUlfUHJvbXB0X1VzZXJDbG9zZWRcIiB9O1xyXG5cdHB1YmxpYyBzdGF0aWMgU1VSVkVZX1VJX1BST01QVF9DTElDS0VEOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJTdXJ2ZXlfVUlfUHJvbXB0X0NsaWNrZWRcIiB9O1xyXG5cdHB1YmxpYyBzdGF0aWMgU1VSVkVZX1VJX1JFRElSRUNUSU9ORkFJTFVSRTogSUV2ZW50SWQgPSB7IG5hbWU6IFwiU3VydmV5X1VJX1JlZGlyZWN0aW9uRmFpbHVyZVwiIH07XHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgU2hhcmVkID0gY2xhc3Mge1xyXG5cdFx0cHVibGljIHN0YXRpYyBVcGxvYWQgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRmFpbGVkID0gY2xhc3Mge1xyXG5cdFx0XHRcdHB1YmxpYyBzdGF0aWMgVkFMVUU6IElFdmVudElkID0geyBuYW1lOiBcIlNoYXJlZF9VcGxvYWRfRmFpbGVkXCIgfTtcclxuXHRcdFx0fTtcclxuXHRcdH07XHJcblxyXG5cdFx0cHVibGljIHN0YXRpYyBTY3JlZW5zaG90ID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIFJlbmRlciA9IGNsYXNzIHtcclxuXHRcdFx0XHRwdWJsaWMgc3RhdGljIEZhaWxlZCA9IGNsYXNzIHtcclxuXHRcdFx0XHRcdHB1YmxpYyBzdGF0aWMgVkFMVUU6IElFdmVudElkID0geyBuYW1lOiBcIlNoYXJlZF9TY3JlZW5zaG90X1JlbmRlcl9GYWlsZWRcIiB9O1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdFx0cHVibGljIHN0YXRpYyBTdWNjZXNzID0gY2xhc3Mge1xyXG5cdFx0XHRcdFx0cHVibGljIHN0YXRpYyBWQUxVRTogSUV2ZW50SWQgPSB7IG5hbWU6IFwiU2hhcmVkX1NjcmVlbnNob3RfUmVuZGVyX1N1Y2Nlc3NcIiB9O1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRwdWJsaWMgc3RhdGljIEdldENvbnRlbnQgPSBjbGFzcyB7XHJcblx0XHRcdFx0cHVibGljIHN0YXRpYyBGYWlsZWQgPSBjbGFzcyB7XHJcblx0XHRcdFx0XHRwdWJsaWMgc3RhdGljIERlZmF1bHRJbWFnZSA9IGNsYXNzIHtcclxuXHRcdFx0XHRcdFx0cHVibGljIHN0YXRpYyBSZXR1cm5lZCA9IGNsYXNzIHtcclxuXHRcdFx0XHRcdFx0XHRwdWJsaWMgc3RhdGljIFZBTFVFOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJTaGFyZWRfU2NyZWVuc2hvdF9HZXRDb250ZW50X0ZhaWxlZF9EZWZhdWx0SW1hZ2VfUmV0dXJuZWRcIiB9O1xyXG5cdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9O1xyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHRwdWJsaWMgc3RhdGljIFdlYlN1cmZhY2VzID0gY2xhc3Mge1xyXG5cdFx0cHVibGljIHN0YXRpYyBDb21tb24gPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgRXJyb3IgPSBjbGFzcyB7XHJcblx0XHRcdFx0cHVibGljIHN0YXRpYyBWQUxVRTogSUV2ZW50SWQgPSB7IG5hbWU6IFwiV2ViU3VyZmFjZXNfQ29tbW9uX0Vycm9yXCIgfTtcclxuXHRcdFx0fTtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBJbmZvID0gY2xhc3Mge1xyXG5cdFx0XHRcdHB1YmxpYyBzdGF0aWMgVkFMVUU6IElFdmVudElkID0geyBuYW1lOiBcIldlYlN1cmZhY2VzX0NvbW1vbl9JbmZvXCIgfTtcclxuXHRcdFx0fTtcclxuXHRcdH07XHJcblxyXG5cdFx0cHVibGljIHN0YXRpYyBNZXNzYWdpbmcgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgUmVxdWVzdHMgPSBjbGFzcyB7XHJcblx0XHRcdFx0cHVibGljIHN0YXRpYyBWQUxVRTogSUV2ZW50SWQgPSB7IG5hbWU6IFwiV2ViU3VyZmFjZXNfTWVzc2FnaW5nX1JlcXVlc3RzXCIgfTtcclxuXHRcdFx0fTtcclxuXHRcdH07XHJcblx0fTtcclxuXHJcblx0cHVibGljIHN0YXRpYyBVc2VyRmFjdHMgPSBjbGFzcyB7XHJcblx0XHRwdWJsaWMgc3RhdGljIENvbW1vbiA9IGNsYXNzIHtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBFcnJvciA9IGNsYXNzIHtcclxuXHRcdFx0XHRwdWJsaWMgc3RhdGljIFZBTFVFOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJVc2VyRmFjdHNfQ29tbW9uX0Vycm9yXCIgfTtcclxuXHRcdFx0fTtcclxuXHRcdFx0cHVibGljIHN0YXRpYyBJbmZvID0gY2xhc3Mge1xyXG5cdFx0XHRcdHB1YmxpYyBzdGF0aWMgVkFMVUU6IElFdmVudElkID0geyBuYW1lOiBcIlVzZXJGYWN0c19Db21tb25fSW5mb1wiIH07XHJcblx0XHRcdH07XHJcblx0XHR9O1xyXG5cclxuXHRcdHB1YmxpYyBzdGF0aWMgTWVzc2FnaW5nID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIFJlcXVlc3RzID0gY2xhc3Mge1xyXG5cdFx0XHRcdHB1YmxpYyBzdGF0aWMgVkFMVUU6IElFdmVudElkID0geyBuYW1lOiBcIlVzZXJGYWN0c19NZXNzYWdpbmdfUmVxdWVzdHNcIiB9O1xyXG5cdFx0XHR9O1xyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHRwdWJsaWMgc3RhdGljIENvbW1vbiA9IGNsYXNzIHtcclxuXHRcdHB1YmxpYyBzdGF0aWMgRXJyb3IgPSBjbGFzcyB7XHJcblx0XHRcdHB1YmxpYyBzdGF0aWMgVkFMVUU6IElFdmVudElkID0geyBuYW1lOiBcIkNvbW1vbl9FcnJvclwiIH07XHJcblx0XHR9O1xyXG5cdFx0cHVibGljIHN0YXRpYyBJbmZvID0gY2xhc3Mge1xyXG5cdFx0XHRwdWJsaWMgc3RhdGljIFZBTFVFOiBJRXZlbnRJZCA9IHsgbmFtZTogXCJDb21tb25fSW5mb1wiIH07XHJcblx0XHR9O1xyXG5cdH07XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/Logging/Constants.ts\n')},"./scripts/app/Logging/Logging.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initialize", function() { return initialize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getLogger", function() { return getLogger; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Logger", function() { return Logger; });\n/* harmony import */ var _Telemetry_Contracts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Telemetry/Contracts */ "./scripts/app/Logging/Telemetry/Contracts.ts");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../Utils */ "./scripts/app/Utils.ts");\n/* harmony import */ var _Telemetry_TelemetryLoggerFactory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Telemetry/TelemetryLoggerFactory */ "./scripts/app/Logging/Telemetry/TelemetryLoggerFactory.ts");\n/* harmony import */ var _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../FloodgateCore/FloodgateStorageProvider */ "./scripts/app/FloodgateCore/FloodgateStorageProvider.ts");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Api/IFloodgateStorageProvider */ "../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Constants */ "./scripts/app/Logging/Constants.ts");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "EventIds", function() { return _Constants__WEBPACK_IMPORTED_MODULE_5__["EventIds"]; });\n\n/* harmony import */ var _Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Configuration/DynamicConfiguration */ "./scripts/app/Configuration/DynamicConfiguration.ts");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Configuration/Configuration */ "./scripts/app/Configuration/Configuration.ts");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar isNOU = _Utils__WEBPACK_IMPORTED_MODULE_1__["isNOU"];\r\nvar NAMESPACE = "Office_Feedback";\r\nvar logger;\r\nvar env;\r\n/**\r\n * Initialize the logging module\r\n * @param initOptionsCommon object contains common init options\r\n * @param appName app name\r\n * @param appVersion app version\r\n * @param logSessionId local SDK session id\r\n */\r\nfunction initialize(initOptionsCommon, appName, appVersion, logSessionId, samplingOption) {\r\n    var telemetryGroup = initOptionsCommon.telemetryGroup ? initOptionsCommon.telemetryGroup : {};\r\n    var webGroup = initOptionsCommon.webGroup ? initOptionsCommon.webGroup : {};\r\n    logger = new Logger(_Telemetry_TelemetryLoggerFactory__WEBPACK_IMPORTED_MODULE_2__["default"].create(TokenManager.getTenantToken(initOptionsCommon.environment), NAMESPACE, new _Telemetry_Contracts__WEBPACK_IMPORTED_MODULE_0__["App"](appName, appVersion), new _Telemetry_Contracts__WEBPACK_IMPORTED_MODULE_0__["Session"](logSessionId), new _Telemetry_Contracts__WEBPACK_IMPORTED_MODULE_0__["Host"](initOptionsCommon.appId.toString(), initOptionsCommon.originalLocale, initOptionsCommon.sessionId, initOptionsCommon.build), new _Telemetry_Contracts__WEBPACK_IMPORTED_MODULE_0__["Release"](telemetryGroup.audienceGroup), new _Telemetry_Contracts__WEBPACK_IMPORTED_MODULE_0__["Browser"](webGroup.browser, webGroup.browserVersion), new _Telemetry_Contracts__WEBPACK_IMPORTED_MODULE_0__["Device"](telemetryGroup.deviceId), new _Telemetry_Contracts__WEBPACK_IMPORTED_MODULE_0__["User"](telemetryGroup.loggableUserId ? telemetryGroup.loggableUserId : initOptionsCommon.cid, telemetryGroup.tenantId)), samplingOption);\r\n    env = initOptionsCommon.environment;\r\n}\r\n/**\r\n * Get the logger object\r\n */\r\nfunction getLogger() {\r\n    return logger;\r\n}\r\n/**\r\n * Class representing a logger for the feedback SDK\r\n */\r\nvar Logger = /** @class */ (function () {\r\n    function Logger(telemetryLogger, samplingOptions) {\r\n        this.SAMPLING_RESULT = Math.random();\r\n        if (!telemetryLogger) {\r\n            throw new Error("telemetryLogger must not be null");\r\n        }\r\n        this.telemetryLogger = telemetryLogger;\r\n        this.eventSampling = samplingOptions;\r\n    }\r\n    /**\r\n     * Log an event\r\n     * @param eventId event Id\r\n     * @param logSeverity the log level severity for the message\r\n     * @param customProperties custom properties to add to the log\r\n     */\r\n    Logger.prototype.logEvent = function (eventId, logSeverity, customProperties) {\r\n        if (!eventId) {\r\n            throw new Error("eventId must not be null");\r\n        }\r\n        var sampleRate = this.getEventSamplingRate(eventId.name);\r\n        if (isNOU(logSeverity) || logSeverity === 0 /* None */) {\r\n            if (env === 0 /* Production */) {\r\n                var errorMessage = "logSeverity must not be null or none";\r\n                if (this.isConsoleLogEnabled && console) {\r\n                    // tslint:disable:no-console\r\n                    console.log("Floodgate event: ", Logger.EVENT_NAME, errorMessage);\r\n                }\r\n                this.telemetryLogger.logEvent(Logger.EVENT_NAME, { ErrorMessage: errorMessage }, sampleRate);\r\n            }\r\n            return false;\r\n        }\r\n        customProperties = customProperties || {};\r\n        customProperties[Logger.EVENT_ID] = eventId.name;\r\n        if (this.isLoggingEnabled(logSeverity, sampleRate)) {\r\n            this.telemetryLogger.logEvent(Logger.EVENT_NAME, customProperties, sampleRate);\r\n        }\r\n        if (this.isConsoleLogEnabled && console) {\r\n            // tslint:disable:no-console\r\n            console.log("Floodgate event: ", Logger.EVENT_NAME, logSeverity, customProperties);\r\n        }\r\n        return true;\r\n    };\r\n    Logger.prototype.logLocal = function (logSeverity) {\r\n        var others = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            others[_i - 1] = arguments[_i];\r\n        }\r\n        if (this.isLoggingEnabled(logSeverity) && this.isConsoleLogEnabled && console) {\r\n            // tslint:disable:no-console\r\n            console.log("FG: ", logSeverity, others);\r\n        }\r\n    };\r\n    Logger.prototype.getUserSamplingRate = function () {\r\n        return this.SAMPLING_RESULT;\r\n    };\r\n    /**\r\n     * This method enables logging only if the log severity of the event is less than or equal to the\r\n     * current log level set and within the sample rate. For example, if the log severity of the event is\r\n     * LogLevel.Error and the current log level is set as LogLevel.Critical, then isLoggingEnabled will\r\n     * return false since the condition LogLevel.Error <= LogLevel.Critical is false. Because, the log severity\r\n     * follows the order defined in the LogLevel enum (None < Critical < Error < Info). The sample rate is the\r\n     * percentage of users allow to send the event back. If the random genarated number is less than the sample rate\r\n     * and the sample rate is not full blocking (0 value)\r\n     * If no current log level is set, then the default log level is set as LogLevel.Error so that all events\r\n     * marked with critical and error log severity get logged.\r\n     * @param inputLogLevel the log severity of the event\r\n     */\r\n    Logger.prototype.isLoggingEnabled = function (inputLogLevel, sampleRate) {\r\n        if (sampleRate === void 0) { sampleRate = 1; }\r\n        if (isNOU(this.logLevel)) {\r\n            var currentLogLevel = this.getCurrentLogLevel();\r\n            this.logLevel = isNOU(currentLogLevel) ? 2 /* Error */ : currentLogLevel;\r\n        }\r\n        return (inputLogLevel <= this.logLevel && this.SAMPLING_RESULT <= sampleRate && sampleRate !== 0);\r\n    };\r\n    /**\r\n     * This method returns the current log level if it is set in either url query parameters or floodgate local storage.\r\n     * Following table summarizes whether the log event calls with a log severity will log the events or not according\r\n     * to the current log level set. For example, the first row in the table demonstrates that when the current log level\r\n     * enabled is critical, then the log event will log the events only if the log severity is critical.\r\n     *\r\n     * Current Log Level Enabled | LogSeverity: Critical\t| LogSeverity: Error\t| LogSeverity: Info\r\n     * --------------------------------------------------------------------------------------------\r\n     * Critical Enabled\t\t\t | yes      \t\t\t\t| no    \t\t\t \t| no\r\n     * Error Enabled       \t\t | yes      \t\t\t\t| yes   \t\t\t \t| no\r\n     * Info Enabled        \t\t | yes      \t\t\t\t| yes   \t\t\t \t| yes\r\n     * None Enabled        \t\t | no       \t\t\t\t| no    \t\t\t \t| no\r\n     *\r\n     * Console logging will be enabled when the current log level is set through the url query parameters or\r\n     * when the url query parameter "obfconsolelog" is explicitly set to true.\r\n     */\r\n    Logger.prototype.getCurrentLogLevel = function () {\r\n        try {\r\n            // Check if log level is set in url query parameters\r\n            var urlParams = typeof URLSearchParams !== "undefined" && new URLSearchParams(window.location.search) || undefined;\r\n            var consoleLogParam = urlParams && urlParams.get("obfconsolelog");\r\n            if (!consoleLogParam) {\r\n                // for getting iframe host url - eg: WAC\r\n                var documentReferrer = typeof document !== "undefined" && document.referrer;\r\n                consoleLogParam = documentReferrer && documentReferrer.indexOf("obfconsolelog") !== -1;\r\n            }\r\n            if (consoleLogParam) {\r\n                this.isConsoleLogEnabled = true;\r\n            }\r\n            var logLevelParam = urlParams && urlParams.get("obfloglevel");\r\n            if (!isNOU(logLevelParam)) {\r\n                this.isConsoleLogEnabled = true;\r\n                return parseInt(logLevelParam, 10);\r\n            }\r\n            // Check if log level is set in floodgate local storage\r\n            if (_FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_3__["default"].isStorageAvailable()) {\r\n                var floodgateStorageProvider = new _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_3__["default"]();\r\n                var tempStorageItem = floodgateStorageProvider.read(_ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_4__["FileType"].LogLevelSettings);\r\n                if (!tempStorageItem) {\r\n                    tempStorageItem = Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_6__["getDynamicSetting"])("LogLevelSettings" /* logLevelSettings */, "");\r\n                }\r\n                var settingsObj = tempStorageItem && this.parseObject(tempStorageItem);\r\n                if (settingsObj) {\r\n                    var logSettings = settingsObj.content;\r\n                    var initOptionsCommon = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_7__["get"]().getCommonInitOptions();\r\n                    if (initOptionsCommon) {\r\n                        var appId = initOptionsCommon.appId && initOptionsCommon.appId.toString();\r\n                        var locale = initOptionsCommon.originalLocale && initOptionsCommon.originalLocale.toLowerCase();\r\n                        // log settings from more specific to generic order\r\n                        logSettings = settingsObj["content_" + appId + "_" + locale] ||\r\n                            settingsObj["content_" + appId] ||\r\n                            settingsObj["content_" + locale] ||\r\n                            settingsObj["content"];\r\n                    }\r\n                    if (logSettings) {\r\n                        if (logSettings.consoleLog) {\r\n                            this.isConsoleLogEnabled = true;\r\n                        }\r\n                        return logSettings.logLevel;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            if (this.isConsoleLogEnabled) {\r\n                // tslint:disable:no-console\r\n                console.log("Error while getting the current log level: ", e);\r\n            }\r\n            return undefined;\r\n        }\r\n        return null;\r\n    };\r\n    Logger.prototype.parseObject = function (tempItem) {\r\n        try {\r\n            return JSON.parse(tempItem);\r\n        }\r\n        catch (e) {\r\n            if (this.isConsoleLogEnabled) {\r\n                // tslint:disable:no-console\r\n                console.log("Error while parsing the json string for log level: ", e);\r\n            }\r\n            return null;\r\n        }\r\n    };\r\n    Logger.prototype.getEventSamplingRate = function (eventId) {\r\n        var sampleRate = 1;\r\n        if (this.eventSampling.event) {\r\n            // If the event is init with sample rate\r\n            // check the sampling result against the sample rate\r\n            if (eventId in this.eventSampling.event) {\r\n                sampleRate = this.eventSampling.event[eventId];\r\n            }\r\n        }\r\n        return sampleRate;\r\n    };\r\n    Logger.EVENT_NAME = "SDK";\r\n    Logger.EVENT_ID = "EventId";\r\n    return Logger;\r\n}());\r\n\r\nvar TokenManager = /** @class */ (function () {\r\n    function TokenManager() {\r\n    }\r\n    TokenManager.getTenantToken = function (environment) {\r\n        if (environment === 0 /* Production */) {\r\n            return TokenManager.TENANT_TOKEN_PRODUCTION;\r\n        }\r\n        else {\r\n            return TokenManager.TENANT_TOKEN_PRE_PRODUCTION;\r\n        }\r\n    };\r\n    TokenManager.TENANT_TOKEN_PRODUCTION = "d79e824386c4441cb8c1d4ae15690526-bd443309-5494-444a-aba9-0af9eef99f84-7360"; // "Office Feedback" Prod Aria tenant\r\n    TokenManager.TENANT_TOKEN_PRE_PRODUCTION = "2bf6a2ffddca4a80a892a0b182132961-625cb102-8b0c-480e-af53-92e48695d08d-7736"; // "Office Feedback" Sandbox Aria tenant\r\n    return TokenManager;\r\n}());\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Mb2dnaW5nL0xvZ2dpbmcudHM/ZDhlYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBMkY7QUFDdkQ7QUFFb0M7QUFDUztBQUNhO0FBRTFCO0FBQ2tCO0FBQ3RCO0FBRXhELFNBQUssR0FBSyw0Q0FBTCxDQUFXO0FBQ3hCLElBQU0sU0FBUyxHQUFXLGlCQUFpQixDQUFDO0FBRTVDLElBQUksTUFBZSxDQUFDO0FBQ3BCLElBQUksR0FBZ0IsQ0FBQztBQUVyQjs7Ozs7O0dBTUc7QUFDSSxTQUFTLFVBQVUsQ0FBQyxpQkFBcUMsRUFBRSxPQUFlLEVBQUUsVUFBa0IsRUFDcEcsWUFBb0IsRUFBRSxjQUFtQztJQUV6RCxJQUFNLGNBQWMsR0FBRyxpQkFBaUIsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQ2hHLElBQU0sUUFBUSxHQUFHLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFFOUUsTUFBTSxHQUFHLElBQUksTUFBTSxDQUNsQix5RUFBc0IsQ0FBQyxNQUFNLENBQzVCLFlBQVksQ0FBQyxjQUFjLENBQUMsaUJBQWlCLENBQUMsV0FBVyxDQUFDLEVBQzFELFNBQVMsRUFDVCxJQUFJLHdEQUFHLENBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQyxFQUM1QixJQUFJLDREQUFPLENBQUMsWUFBWSxDQUFDLEVBQ3pCLElBQUkseURBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLEVBQUUsaUJBQWlCLENBQUMsY0FBYyxFQUFFLGlCQUFpQixDQUFDLFNBQVMsRUFBRSxpQkFBaUIsQ0FBQyxLQUFL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QUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLEVBQUU7WUFDN0Isd0NBQXdDO1lBQ3hDLG9EQUFvRDtZQUNwRCxJQUFJLE9BQU8sSUFBSSxJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssRUFBRTtnQkFDeEMsVUFBVSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO2FBQy9DO1NBQ0Q7UUFDRCxPQUFPLFVBQVUsQ0FBQztJQUNuQixDQUFDO0lBbE1jLGlCQUFVLEdBQVcsS0FBSyxDQUFDO0lBQzNCLGVBQVEsR0FBVyxTQUFTLENBQUM7SUFrTTdDLGFBQUM7Q0FBQTtBQXBNa0I7QUFzTW5CO0lBQUE7SUFhQSxDQUFDO0lBWmMsMkJBQWMsR0FBNUIsVUFBNkIsV0FBd0I7UUFDcEQsSUFBSSxXQUFXLHVCQUEyQixFQUFFO1lBQzNDLE9BQU8sWUFBWSxDQUFDLHVCQUF1QixDQUFDO1NBQzVDO2FBQU07WUFDTixPQUFPLFlBQVksQ0FBQywyQkFBMkIsQ0FBQztTQUNoRDtJQUNGLENBQUM7SUFFYyxvQ0FBdUIsR0FDdEMsNEVBQTRFLENBQUMsQ0FBQyxxQ0FBcUM7SUFDcEcsd0NBQTJCLEdBQzFDLDRFQUE0RSxDQUFDLENBQUMsd0NBQXdDO0lBQ3ZILG1CQUFDO0NBQUEiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9Mb2dnaW5nL0xvZ2dpbmcudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJSW5pdE9wdGlvbnNDb21tb24sIElTYW1wbGluZ0luaXRPcHRpb24gfSBmcm9tIFwiLi8uLi9Db25maWd1cmF0aW9uL0lJbml0T3B0aW9uc1wiO1xyXG5pbXBvcnQgeyBJRXZlbnRJZCwgSUN1c3RvbVByb3BlcnRpZXMgfSBmcm9tIFwiLi9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgRW52aXJvbm1lbnQgfSBmcm9tIFwiLi8uLi9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgQXBwLCBCcm93c2VyLCBEZXZpY2UsIEhvc3QsIFJlbGVhc2UsIFNlc3Npb24sIFVzZXIgfSBmcm9tIFwiLi9UZWxlbWV0cnkvQ29udHJhY3RzXCI7XHJcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gXCIuLy4uL1V0aWxzXCI7XHJcbmltcG9ydCBJVGVsZW1ldHJ5TG9nZ2VyIGZyb20gXCIuL1RlbGVtZXRyeS9JVGVsZW1ldHJ5TG9nZ2VyXCI7XHJcbmltcG9ydCBUZWxlbWV0cnlMb2dnZXJGYWN0b3J5IGZyb20gXCIuL1RlbGVtZXRyeS9UZWxlbWV0cnlMb2dnZXJGYWN0b3J5XCI7XHJcbmltcG9ydCBGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIgZnJvbSBcIi4uL0Zsb29kZ2F0ZUNvcmUvRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyXCI7XHJcbmltcG9ydCB7IEZpbGVUeXBlIH0gZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9BcGkvSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlclwiO1xyXG5cclxuZXhwb3J0IHsgSUN1c3RvbVByb3BlcnRpZXMsIElFdmVudElkLCBFdmVudElkcyB9IGZyb20gXCIuL0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBnZXREeW5hbWljU2V0dGluZywgU2V0dGluZ0tleSB9IGZyb20gXCIuLi9Db25maWd1cmF0aW9uL0R5bmFtaWNDb25maWd1cmF0aW9uXCI7XHJcbmltcG9ydCAqIGFzIENvbmZpZ3VyYXRpb24gZnJvbSBcIi4uL0NvbmZpZ3VyYXRpb24vQ29uZmlndXJhdGlvblwiO1xyXG5cclxuY29uc3QgeyBpc05PVSB9ID0gVXRpbHM7XHJcbmNvbnN0IE5BTUVTUEFDRTogc3RyaW5nID0gXCJPZmZpY2VfRmVlZGJhY2tcIjtcclxuXHJcbmxldCBsb2dnZXI6IElMb2dnZXI7XHJcbmxldCBlbnY6IEVudmlyb25tZW50O1xyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpemUgdGhlIGxvZ2dpbmcgbW9kdWxlXHJcbiAqIEBwYXJhbSBpbml0T3B0aW9uc0NvbW1vbiBvYmplY3QgY29udGFpbnMgY29tbW9uIGluaXQgb3B0aW9uc1xyXG4gKiBAcGFyYW0gYXBwTmFtZSBhcHAgbmFtZVxyXG4gKiBAcGFyYW0gYXBwVmVyc2lvbiBhcHAgdmVyc2lvblxyXG4gKiBAcGFyYW0gbG9nU2Vzc2lvbklkIGxvY2FsIFNESyBzZXNzaW9uIGlkXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZShpbml0T3B0aW9uc0NvbW1vbjogSUluaXRPcHRpb25zQ29tbW9uLCBhcHBOYW1lOiBzdHJpbmcsIGFwcFZlcnNpb246IHN0cmluZyxcclxuXHRsb2dTZXNzaW9uSWQ6IHN0cmluZywgc2FtcGxpbmdPcHRpb246IElTYW1wbGluZ0luaXRPcHRpb24pOiB2b2lkIHtcclxuXHJcblx0Y29uc3QgdGVsZW1ldHJ5R3JvdXAgPSBpbml0T3B0aW9uc0NvbW1vbi50ZWxlbWV0cnlHcm91cCA/IGluaXRPcHRpb25zQ29tbW9uLnRlbGVtZXRyeUdyb3VwIDoge307XHJcblx0Y29uc3Qgd2ViR3JvdXAgPSBpbml0T3B0aW9uc0NvbW1vbi53ZWJHcm91cCA/IGluaXRPcHRpb25zQ29tbW9uLndlYkdyb3VwIDoge307XHJcblxyXG5cdGxvZ2dlciA9IG5ldyBMb2dnZXIoXHJcblx0XHRUZWxlbWV0cnlMb2dnZXJGYWN0b3J5LmNyZWF0ZShcclxuXHRcdFx0VG9rZW5NYW5hZ2VyLmdldFRlbmFudFRva2VuKGluaXRPcHRpb25zQ29tbW9uLmVudmlyb25tZW50KSxcclxuXHRcdFx0TkFNRVNQQUNFLFxyXG5cdFx0XHRuZXcgQXBwKGFwcE5hbWUsIGFwcFZlcnNpb24pLFxyXG5cdFx0XHRuZXcgU2Vzc2lvbihsb2dTZXNzaW9uSWQpLFxyXG5cdFx0XHRuZXcgSG9zdChpbml0T3B0aW9uc0NvbW1vbi5hcHBJZC50b1N0cmluZygpLCBpbml0T3B0aW9uc0NvbW1vbi5vcmlnaW5hbExvY2FsZSwgaW5pdE9wdGlvbnNDb21tb24uc2Vzc2lvbklkLCBpbml0T3B0aW9uc0NvbW1vbi5idWlsZCksXHJcblx0XHRcdG5ldyBSZWxlYXNlKHRlbGVtZXRyeUdyb3VwLmF1ZGllbmNlR3JvdXApLFxyXG5cdFx0XHRuZXcgQnJvd3Nlcih3ZWJHcm91cC5icm93c2VyLCB3ZWJHcm91cC5icm93c2VyVmVyc2lvbiksXHJcblx0XHRcdG5ldyBEZXZpY2UodGVsZW1ldHJ5R3JvdXAuZGV2aWNlSWQpLFxyXG5cdFx0XHRuZXcgVXNlcih0ZWxlbWV0cnlHcm91cC5sb2dnYWJsZVVzZXJJZCA/IHRlbGVtZXRyeUdyb3VwLmxvZ2dhYmxlVXNlcklkIDogaW5pdE9wdGlvbnNDb21tb24uY2lkLCB0ZWxlbWV0cnlHcm91cC50ZW5hbnRJZClcclxuXHRcdCksXHJcblx0XHRzYW1wbGluZ09wdGlvblxyXG5cdCk7XHJcblxyXG5cdGVudiA9IGluaXRPcHRpb25zQ29tbW9uLmVudmlyb25tZW50O1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IHRoZSBsb2dnZXIgb2JqZWN0XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9nZ2VyKCk6IElMb2dnZXIge1xyXG5cdHJldHVybiBsb2dnZXI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbnRlcmZhY2UgZm9yIGEgbG9nZ2VyXHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIElMb2dnZXIge1xyXG5cdGxvZ0V2ZW50KGV2ZW50SWQ6IElFdmVudElkLCBsb2dTZXZlcml0eTogTG9nTGV2ZWwsIGN1c3RvbVByb3BlcnRpZXM/OiBJQ3VzdG9tUHJvcGVydGllcywgc2FtcGxlUmF0ZT86IG51bWJlcik6IHZvaWQ7XHJcblx0bG9nTG9jYWw/KGxvZ1NldmVyaXR5OiBMb2dMZXZlbCwgLi4ub3RoZXJzOiBhbnlbXSk6IHZvaWQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMb2cgbGV2ZWwgc2V0dGluZ3NcclxuICovXHJcbmV4cG9ydCBjb25zdCBlbnVtIExvZ0xldmVsIHtcclxuXHROb25lLFxyXG5cdENyaXRpY2FsLFxyXG5cdEVycm9yLFxyXG5cdEluZm9cclxufVxyXG5cclxuLyoqXHJcbiAqIENsYXNzIHJlcHJlc2VudGluZyBhIGxvZ2dlciBmb3IgdGhlIGZlZWRiYWNrIFNES1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIExvZ2dlciBpbXBsZW1lbnRzIElMb2dnZXIge1xyXG5cdHByaXZhdGUgc3RhdGljIEVWRU5UX05BTUU6IHN0cmluZyA9IFwiU0RLXCI7XHJcblx0cHJpdmF0ZSBzdGF0aWMgRVZFTlRfSUQ6IHN0cmluZyA9IFwiRXZlbnRJZFwiO1xyXG5cclxuXHRwcml2YXRlIHRlbGVtZXRyeUxvZ2dlcjogSVRlbGVtZXRyeUxvZ2dlcjtcclxuXHRwcml2YXRlIGxvZ0xldmVsOiBMb2dMZXZlbDtcclxuXHRwcml2YXRlIGlzQ29uc29sZUxvZ0VuYWJsZWQ6IGJvb2xlYW47XHJcblxyXG5cdHByaXZhdGUgZXZlbnRTYW1wbGluZzogSVNhbXBsaW5nSW5pdE9wdGlvbjtcclxuXHRwcml2YXRlIHJlYWRvbmx5IFNBTVBMSU5HX1JFU1VMVCA9IE1hdGgucmFuZG9tKCk7XHJcblxyXG5cdGNvbnN0cnVjdG9yKHRlbGVtZXRyeUxvZ2dlcjogSVRlbGVtZXRyeUxvZ2dlciwgc2FtcGxpbmdPcHRpb25zOiBJU2FtcGxpbmdJbml0T3B0aW9uKSB7XHJcblx0XHRpZiAoIXRlbGVtZXRyeUxvZ2dlcikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJ0ZWxlbWV0cnlMb2dnZXIgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLnRlbGVtZXRyeUxvZ2dlciA9IHRlbGVtZXRyeUxvZ2dlcjtcclxuXHRcdHRoaXMuZXZlbnRTYW1wbGluZyA9IHNhbXBsaW5nT3B0aW9ucztcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIExvZyBhbiBldmVudFxyXG5cdCAqIEBwYXJhbSBldmVudElkIGV2ZW50IElkXHJcblx0ICogQHBhcmFtIGxvZ1NldmVyaXR5IHRoZSBsb2cgbGV2ZWwgc2V2ZXJpdHkgZm9yIHRoZSBtZXNzYWdlXHJcblx0ICogQHBhcmFtIGN1c3RvbVByb3BlcnRpZXMgY3VzdG9tIHByb3BlcnRpZXMgdG8gYWRkIHRvIHRoZSBsb2dcclxuXHQgKi9cclxuXHRwdWJsaWMgbG9nRXZlbnQoZXZlbnRJZDogSUV2ZW50SWQsIGxvZ1NldmVyaXR5OiBMb2dMZXZlbCwgY3VzdG9tUHJvcGVydGllcz86IElDdXN0b21Qcm9wZXJ0aWVzKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoIWV2ZW50SWQpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiZXZlbnRJZCBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHNhbXBsZVJhdGUgPSB0aGlzLmdldEV2ZW50U2FtcGxpbmdSYXRlKGV2ZW50SWQubmFtZSk7XHJcblxyXG5cdFx0aWYgKGlzTk9VKGxvZ1NldmVyaXR5KSB8fCBsb2dTZXZlcml0eSA9PT0gTG9nTGV2ZWwuTm9uZSkge1xyXG5cdFx0XHRpZiAoZW52ID09PSBFbnZpcm9ubWVudC5Qcm9kdWN0aW9uKSB7XHJcblx0XHRcdFx0Y29uc3QgZXJyb3JNZXNzYWdlID0gXCJsb2dTZXZlcml0eSBtdXN0IG5vdCBiZSBudWxsIG9yIG5vbmVcIjtcclxuXHRcdFx0XHRpZiAodGhpcy5pc0NvbnNvbGVMb2dFbmFibGVkICYmIGNvbnNvbGUpIHtcclxuXHRcdFx0XHRcdC8vIHRzbGludDpkaXNhYmxlOm5vLWNvbnNvbGVcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiRmxvb2RnYXRlIGV2ZW50OiBcIiwgTG9nZ2VyLkVWRU5UX05BTUUsIGVycm9yTWVzc2FnZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHRoaXMudGVsZW1ldHJ5TG9nZ2VyLmxvZ0V2ZW50KExvZ2dlci5FVkVOVF9OQU1FLCB7IEVycm9yTWVzc2FnZTogZXJyb3JNZXNzYWdlIH0sIHNhbXBsZVJhdGUpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHRjdXN0b21Qcm9wZXJ0aWVzID0gY3VzdG9tUHJvcGVydGllcyB8fCB7fTtcclxuXHRcdCg8YW55PiBjdXN0b21Qcm9wZXJ0aWVzKVtMb2dnZXIuRVZFTlRfSURdID0gZXZlbnRJZC5uYW1lO1xyXG5cclxuXHRcdGlmICh0aGlzLmlzTG9nZ2luZ0VuYWJsZWQobG9nU2V2ZXJpdHksIHNhbXBsZVJhdGUpKSB7XHJcblx0XHRcdHRoaXMudGVsZW1ldHJ5TG9nZ2VyLmxvZ0V2ZW50KExvZ2dlci5FVkVOVF9OQU1FLCBjdXN0b21Qcm9wZXJ0aWVzLCBzYW1wbGVSYXRlKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5pc0NvbnNvbGVMb2dFbmFibGVkICYmIGNvbnNvbGUpIHtcclxuXHRcdFx0Ly8gdHNsaW50OmRpc2FibGU6bm8tY29uc29sZVxyXG5cdFx0XHRjb25zb2xlLmxvZyhcIkZsb29kZ2F0ZSBldmVudDogXCIsIExvZ2dlci5FVkVOVF9OQU1FLCBsb2dTZXZlcml0eSwgY3VzdG9tUHJvcGVydGllcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgbG9nTG9jYWw/KGxvZ1NldmVyaXR5OiBMb2dMZXZlbCwgLi4ub3RoZXJzOiBhbnlbXSk6IHZvaWQge1xyXG5cdFx0aWYgKHRoaXMuaXNMb2dnaW5nRW5hYmxlZChsb2dTZXZlcml0eSkgJiYgdGhpcy5pc0NvbnNvbGVMb2dFbmFibGVkICYmIGNvbnNvbGUpIHtcclxuXHRcdFx0Ly8gdHNsaW50OmRpc2FibGU6bm8tY29uc29sZVxyXG5cdFx0XHRjb25zb2xlLmxvZyhcIkZHOiBcIiwgbG9nU2V2ZXJpdHksIG90aGVycyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0VXNlclNhbXBsaW5nUmF0ZSgpOiBudW1iZXIge1xyXG5cdFx0cmV0dXJuIHRoaXMuU0FNUExJTkdfUkVTVUxUO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVGhpcyBtZXRob2QgZW5hYmxlcyBsb2dnaW5nIG9ubHkgaWYgdGhlIGxvZyBzZXZlcml0eSBvZiB0aGUgZXZlbnQgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZVxyXG5cdCAqIGN1cnJlbnQgbG9nIGxldmVsIHNldCBhbmQgd2l0aGluIHRoZSBzYW1wbGUgcmF0ZS4gRm9yIGV4YW1wbGUsIGlmIHRoZSBsb2cgc2V2ZXJpdHkgb2YgdGhlIGV2ZW50IGlzIFxyXG5cdCAqIExvZ0xldmVsLkVycm9yIGFuZCB0aGUgY3VycmVudCBsb2cgbGV2ZWwgaXMgc2V0IGFzIExvZ0xldmVsLkNyaXRpY2FsLCB0aGVuIGlzTG9nZ2luZ0VuYWJsZWQgd2lsbCBcclxuXHQgKiByZXR1cm4gZmFsc2Ugc2luY2UgdGhlIGNvbmRpdGlvbiBMb2dMZXZlbC5FcnJvciA8PSBMb2dMZXZlbC5Dcml0aWNhbCBpcyBmYWxzZS4gQmVjYXVzZSwgdGhlIGxvZyBzZXZlcml0eSBcclxuXHQgKiBmb2xsb3dzIHRoZSBvcmRlciBkZWZpbmVkIGluIHRoZSBMb2dMZXZlbCBlbnVtIChOb25lIDwgQ3JpdGljYWwgPCBFcnJvciA8IEluZm8pLiBUaGUgc2FtcGxlIHJhdGUgaXMgdGhlXHJcblx0ICogcGVyY2VudGFnZSBvZiB1c2VycyBhbGxvdyB0byBzZW5kIHRoZSBldmVudCBiYWNrLiBJZiB0aGUgcmFuZG9tIGdlbmFyYXRlZCBudW1iZXIgaXMgbGVzcyB0aGFuIHRoZSBzYW1wbGUgcmF0ZVxyXG5cdCAqIGFuZCB0aGUgc2FtcGxlIHJhdGUgaXMgbm90IGZ1bGwgYmxvY2tpbmcgKDAgdmFsdWUpXHJcblx0ICogSWYgbm8gY3VycmVudCBsb2cgbGV2ZWwgaXMgc2V0LCB0aGVuIHRoZSBkZWZhdWx0IGxvZyBsZXZlbCBpcyBzZXQgYXMgTG9nTGV2ZWwuRXJyb3Igc28gdGhhdCBhbGwgZXZlbnRzXHJcblx0ICogbWFya2VkIHdpdGggY3JpdGljYWwgYW5kIGVycm9yIGxvZyBzZXZlcml0eSBnZXQgbG9nZ2VkLlxyXG5cdCAqIEBwYXJhbSBpbnB1dExvZ0xldmVsIHRoZSBsb2cgc2V2ZXJpdHkgb2YgdGhlIGV2ZW50XHJcblx0ICovXHJcblx0cHJpdmF0ZSBpc0xvZ2dpbmdFbmFibGVkKGlucHV0TG9nTGV2ZWw6IExvZ0xldmVsLCBzYW1wbGVSYXRlOiBudW1iZXIgPSAxKTogYm9vbGVhbiB7XHJcblx0XHRpZiAoaXNOT1UodGhpcy5sb2dMZXZlbCkpIHtcclxuXHRcdFx0Y29uc3QgY3VycmVudExvZ0xldmVsID0gdGhpcy5nZXRDdXJyZW50TG9nTGV2ZWwoKTtcclxuXHRcdFx0dGhpcy5sb2dMZXZlbCA9IGlzTk9VKGN1cnJlbnRMb2dMZXZlbCkgPyBMb2dMZXZlbC5FcnJvciA6IGN1cnJlbnRMb2dMZXZlbDtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gKGlucHV0TG9nTGV2ZWwgPD0gdGhpcy5sb2dMZXZlbCAmJiB0aGlzLlNBTVBMSU5HX1JFU1VMVCA8PSBzYW1wbGVSYXRlICYmIHNhbXBsZVJhdGUgIT09IDApO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgY3VycmVudCBsb2cgbGV2ZWwgaWYgaXQgaXMgc2V0IGluIGVpdGhlciB1cmwgcXVlcnkgcGFyYW1ldGVycyBvciBmbG9vZGdhdGUgbG9jYWwgc3RvcmFnZS5cclxuXHQgKiBGb2xsb3dpbmcgdGFibGUgc3VtbWFyaXplcyB3aGV0aGVyIHRoZSBsb2cgZXZlbnQgY2FsbHMgd2l0aCBhIGxvZyBzZXZlcml0eSB3aWxsIGxvZyB0aGUgZXZlbnRzIG9yIG5vdCBhY2NvcmRpbmdcclxuXHQgKiB0byB0aGUgY3VycmVudCBsb2cgbGV2ZWwgc2V0LiBGb3IgZXhhbXBsZSwgdGhlIGZpcnN0IHJvdyBpbiB0aGUgdGFibGUgZGVtb25zdHJhdGVzIHRoYXQgd2hlbiB0aGUgY3VycmVudCBsb2cgbGV2ZWxcclxuXHQgKiBlbmFibGVkIGlzIGNyaXRpY2FsLCB0aGVuIHRoZSBsb2cgZXZlbnQgd2lsbCBsb2cgdGhlIGV2ZW50cyBvbmx5IGlmIHRoZSBsb2cgc2V2ZXJpdHkgaXMgY3JpdGljYWwuXHJcblx0ICpcclxuXHQgKiBDdXJyZW50IExvZyBMZXZlbCBFbmFibGVkIHwgTG9nU2V2ZXJpdHk6IENyaXRpY2FsXHR8IExvZ1NldmVyaXR5OiBFcnJvclx0fCBMb2dTZXZlcml0eTogSW5mb1xyXG5cdCAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0ICogQ3JpdGljYWwgRW5hYmxlZFx0XHRcdCB8IHllcyAgICAgIFx0XHRcdFx0fCBubyAgICBcdFx0XHQgXHR8IG5vXHJcblx0ICogRXJyb3IgRW5hYmxlZCAgICAgICBcdFx0IHwgeWVzICAgICAgXHRcdFx0XHR8IHllcyAgIFx0XHRcdCBcdHwgbm9cclxuXHQgKiBJbmZvIEVuYWJsZWQgICAgICAgIFx0XHQgfCB5ZXMgICAgICBcdFx0XHRcdHwgeWVzICAgXHRcdFx0IFx0fCB5ZXNcclxuXHQgKiBOb25lIEVuYWJsZWQgICAgICAgIFx0XHQgfCBubyAgICAgICBcdFx0XHRcdHwgbm8gICAgXHRcdFx0IFx0fCBub1xyXG5cdCAqXHJcblx0ICogQ29uc29sZSBsb2dnaW5nIHdpbGwgYmUgZW5hYmxlZCB3aGVuIHRoZSBjdXJyZW50IGxvZyBsZXZlbCBpcyBzZXQgdGhyb3VnaCB0aGUgdXJsIHF1ZXJ5IHBhcmFtZXRlcnMgb3JcclxuXHQgKiB3aGVuIHRoZSB1cmwgcXVlcnkgcGFyYW1ldGVyIFwib2JmY29uc29sZWxvZ1wiIGlzIGV4cGxpY2l0bHkgc2V0IHRvIHRydWUuXHJcblx0ICovXHJcblx0cHJpdmF0ZSBnZXRDdXJyZW50TG9nTGV2ZWwoKTogTG9nTGV2ZWwge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Ly8gQ2hlY2sgaWYgbG9nIGxldmVsIGlzIHNldCBpbiB1cmwgcXVlcnkgcGFyYW1ldGVyc1xyXG5cdFx0XHRjb25zdCB1cmxQYXJhbXMgPSB0eXBlb2YgVVJMU2VhcmNoUGFyYW1zICE9PSBcInVuZGVmaW5lZFwiICYmIG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCkgfHwgdW5kZWZpbmVkO1xyXG5cdFx0XHRsZXQgY29uc29sZUxvZ1BhcmFtOiBzdHJpbmcgfCBib29sZWFuID0gdXJsUGFyYW1zICYmIHVybFBhcmFtcy5nZXQoXCJvYmZjb25zb2xlbG9nXCIpO1xyXG5cdFx0XHRpZiAoIWNvbnNvbGVMb2dQYXJhbSkge1xyXG5cdFx0XHRcdC8vIGZvciBnZXR0aW5nIGlmcmFtZSBob3N0IHVybCAtIGVnOiBXQUNcclxuXHRcdFx0XHRjb25zdCBkb2N1bWVudFJlZmVycmVyID0gdHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50LnJlZmVycmVyO1xyXG5cdFx0XHRcdGNvbnNvbGVMb2dQYXJhbSA9IGRvY3VtZW50UmVmZXJyZXIgJiYgZG9jdW1lbnRSZWZlcnJlci5pbmRleE9mKFwib2JmY29uc29sZWxvZ1wiKSAhPT0gLTE7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChjb25zb2xlTG9nUGFyYW0pIHtcclxuXHRcdFx0XHR0aGlzLmlzQ29uc29sZUxvZ0VuYWJsZWQgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCBsb2dMZXZlbFBhcmFtID0gdXJsUGFyYW1zICYmIHVybFBhcmFtcy5nZXQoXCJvYmZsb2dsZXZlbFwiKTtcclxuXHRcdFx0aWYgKCFpc05PVShsb2dMZXZlbFBhcmFtKSkge1xyXG5cdFx0XHRcdHRoaXMuaXNDb25zb2xlTG9nRW5hYmxlZCA9IHRydWU7XHJcblx0XHRcdFx0cmV0dXJuIHBhcnNlSW50KGxvZ0xldmVsUGFyYW0sIDEwKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gQ2hlY2sgaWYgbG9nIGxldmVsIGlzIHNldCBpbiBmbG9vZGdhdGUgbG9jYWwgc3RvcmFnZVxyXG5cdFx0XHRpZiAoRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLmlzU3RvcmFnZUF2YWlsYWJsZSgpKSB7XHJcblx0XHRcdFx0Y29uc3QgZmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyOiBGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIgPSBuZXcgRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyKCk7XHJcblx0XHRcdFx0bGV0IHRlbXBTdG9yYWdlSXRlbTogc3RyaW5nID0gZmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLnJlYWQoRmlsZVR5cGUuTG9nTGV2ZWxTZXR0aW5ncyk7XHJcblx0XHRcdFx0aWYgKCF0ZW1wU3RvcmFnZUl0ZW0pIHtcclxuXHRcdFx0XHRcdHRlbXBTdG9yYWdlSXRlbSA9IGdldER5bmFtaWNTZXR0aW5nKFNldHRpbmdLZXkubG9nTGV2ZWxTZXR0aW5ncywgXCJcIik7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRjb25zdCBzZXR0aW5nc09iaiA9IHRlbXBTdG9yYWdlSXRlbSAmJiB0aGlzLnBhcnNlT2JqZWN0KHRlbXBTdG9yYWdlSXRlbSk7XHJcblx0XHRcdFx0aWYgKHNldHRpbmdzT2JqKSB7XHJcblx0XHRcdFx0XHRsZXQgbG9nU2V0dGluZ3MgPSBzZXR0aW5nc09iai5jb250ZW50O1xyXG5cclxuXHRcdFx0XHRcdGNvbnN0IGluaXRPcHRpb25zQ29tbW9uID0gQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRDb21tb25Jbml0T3B0aW9ucygpO1xyXG5cdFx0XHRcdFx0aWYgKGluaXRPcHRpb25zQ29tbW9uKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGFwcElkID0gaW5pdE9wdGlvbnNDb21tb24uYXBwSWQgJiYgaW5pdE9wdGlvbnNDb21tb24uYXBwSWQudG9TdHJpbmcoKTtcclxuXHRcdFx0XHRcdFx0Y29uc3QgbG9jYWxlID0gIGluaXRPcHRpb25zQ29tbW9uLm9yaWdpbmFsTG9jYWxlICYmIGluaXRPcHRpb25zQ29tbW9uLm9yaWdpbmFsTG9jYWxlLnRvTG93ZXJDYXNlKCk7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBsb2cgc2V0dGluZ3MgZnJvbSBtb3JlIHNwZWNpZmljIHRvIGdlbmVyaWMgb3JkZXJcclxuXHRcdFx0XHRcdFx0bG9nU2V0dGluZ3MgPSBzZXR0aW5nc09ialtgY29udGVudF8ke2FwcElkfV8ke2xvY2FsZX1gXSB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNldHRpbmdzT2JqW2Bjb250ZW50XyR7YXBwSWR9YF0gfHxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzZXR0aW5nc09ialtgY29udGVudF8ke2xvY2FsZX1gXSB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNldHRpbmdzT2JqW2Bjb250ZW50YF07XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0aWYgKGxvZ1NldHRpbmdzKSB7XHJcblx0XHRcdFx0XHRcdGlmIChsb2dTZXR0aW5ncy5jb25zb2xlTG9nKSB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5pc0NvbnNvbGVMb2dFbmFibGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0cmV0dXJuIGxvZ1NldHRpbmdzLmxvZ0xldmVsO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRpZiAodGhpcy5pc0NvbnNvbGVMb2dFbmFibGVkKSB7XHJcblx0XHRcdFx0Ly8gdHNsaW50OmRpc2FibGU6bm8tY29uc29sZVxyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiRXJyb3Igd2hpbGUgZ2V0dGluZyB0aGUgY3VycmVudCBsb2cgbGV2ZWw6IFwiLCBlKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBwYXJzZU9iamVjdCh0ZW1wSXRlbTogc3RyaW5nKTogYW55IHtcclxuXHRcdHRyeSB7XHJcblx0XHRcdHJldHVybiBKU09OLnBhcnNlKHRlbXBJdGVtKTtcclxuXHRcdH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0aWYgKHRoaXMuaXNDb25zb2xlTG9nRW5hYmxlZCkge1xyXG5cdFx0XHRcdC8vIHRzbGludDpkaXNhYmxlOm5vLWNvbnNvbGVcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhcIkVycm9yIHdoaWxlIHBhcnNpbmcgdGhlIGpzb24gc3RyaW5nIGZvciBsb2cgbGV2ZWw6IFwiLCBlKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0RXZlbnRTYW1wbGluZ1JhdGUoZXZlbnRJZDogc3RyaW5nKTogbnVtYmVyIHtcclxuXHRcdGxldCBzYW1wbGVSYXRlID0gMTtcclxuXHRcdGlmICh0aGlzLmV2ZW50U2FtcGxpbmcuZXZlbnQpIHtcclxuXHRcdFx0Ly8gSWYgdGhlIGV2ZW50IGlzIGluaXQgd2l0aCBzYW1wbGUgcmF0ZVxyXG5cdFx0XHQvLyBjaGVjayB0aGUgc2FtcGxpbmcgcmVzdWx0IGFnYWluc3QgdGhlIHNhbXBsZSByYXRlXHJcblx0XHRcdGlmIChldmVudElkIGluIHRoaXMuZXZlbnRTYW1wbGluZy5ldmVudCkge1xyXG5cdFx0XHRcdHNhbXBsZVJhdGUgPSB0aGlzLmV2ZW50U2FtcGxpbmcuZXZlbnRbZXZlbnRJZF07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBzYW1wbGVSYXRlO1xyXG5cdH1cclxufVxyXG5cclxuY2xhc3MgVG9rZW5NYW5hZ2VyIHtcclxuXHRwdWJsaWMgc3RhdGljIGdldFRlbmFudFRva2VuKGVudmlyb25tZW50OiBFbnZpcm9ubWVudCk6IHN0cmluZyB7XHJcblx0XHRpZiAoZW52aXJvbm1lbnQgPT09IEVudmlyb25tZW50LlByb2R1Y3Rpb24pIHtcclxuXHRcdFx0cmV0dXJuIFRva2VuTWFuYWdlci5URU5BTlRfVE9LRU5fUFJPRFVDVElPTjtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiBUb2tlbk1hbmFnZXIuVEVOQU5UX1RPS0VOX1BSRV9QUk9EVUNUSU9OO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgVEVOQU5UX1RPS0VOX1BST0RVQ1RJT046IHN0cmluZyA9XHJcblx0XCJkNzllODI0Mzg2YzQ0NDFjYjhjMWQ0YWUxNTY5MDUyNi1iZDQ0MzMwOS01NDk0LTQ0NGEtYWJhOS0wYWY5ZWVmOTlmODQtNzM2MFwiOyAvLyBcIk9mZmljZSBGZWVkYmFja1wiIFByb2QgQXJpYSB0ZW5hbnRcclxuXHRwcml2YXRlIHN0YXRpYyBURU5BTlRfVE9LRU5fUFJFX1BST0RVQ1RJT046IHN0cmluZyA9XHJcblx0XCIyYmY2YTJmZmRkY2E0YTgwYTg5MmEwYjE4MjEzMjk2MS02MjVjYjEwMi04YjBjLTQ4MGUtYWY1My05MmU0ODY5NWQwOGQtNzczNlwiOyAvLyBcIk9mZmljZSBGZWVkYmFja1wiIFNhbmRib3ggQXJpYSB0ZW5hbnRcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Logging/Logging.ts\n')},"./scripts/app/Logging/Telemetry/Aria.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AWT", function() { return AWT; });\n/**\r\n * Aria.ts\r\n *\r\n * Module for wrapper around Aria\r\n */\r\nvar aria = __webpack_require__(/*! ./../../thirdparty/aria-webjs-compact-sdk-1.2.2 */ "./scripts/app/thirdparty/aria-webjs-compact-sdk-1.2.2.js");\r\nfunction AWT() { return aria.AWT; }\r\n;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Mb2dnaW5nL1RlbGVtZXRyeS9BcmlhLnRzP2NhOWQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBOzs7O0dBSUc7QUFFSCxJQUFJLElBQUksR0FBUSxtQkFBTyxDQUFDLGlIQUFpRCxDQUFDLENBQUM7QUFFcEUsU0FBUyxHQUFHLEtBQUssT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUFBLENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9Mb2dnaW5nL1RlbGVtZXRyeS9BcmlhLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEFyaWEudHNcclxuICpcclxuICogTW9kdWxlIGZvciB3cmFwcGVyIGFyb3VuZCBBcmlhXHJcbiAqL1xyXG5cclxubGV0IGFyaWE6IGFueSA9IHJlcXVpcmUoXCIuLy4uLy4uL3RoaXJkcGFydHkvYXJpYS13ZWJqcy1jb21wYWN0LXNkay0xLjIuMlwiKTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBBV1QoKSB7IHJldHVybiBhcmlhLkFXVDsgfTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/Logging/Telemetry/Aria.ts\n')},"./scripts/app/Logging/Telemetry/AriaTelemetryLogger.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Aria__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Aria */ "./scripts/app/Logging/Telemetry/Aria.ts");\n/* harmony import */ var _Contracts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Contracts */ "./scripts/app/Logging/Telemetry/Contracts.ts");\n/**\r\n * An Aria-based logger\r\n */\r\n\r\n\r\nvar AriaTelemetryLogger = /** @class */ (function () {\r\n    function AriaTelemetryLogger(tenantToken, namespace, app, session, host, release, browser, device, user) {\r\n        if (!tenantToken) {\r\n            throw new Error("tenantToken must not be null");\r\n        }\r\n        if (!namespace) {\r\n            throw new Error("namespace must not be null");\r\n        }\r\n        if (!app) {\r\n            throw new Error("app must not be null");\r\n        }\r\n        if (!session) {\r\n            throw new Error("session must not be null");\r\n        }\r\n        _Aria__WEBPACK_IMPORTED_MODULE_0__["AWT"]().initialize(tenantToken);\r\n        this.namespace = namespace;\r\n        this.oesApp = app;\r\n        this.oesSession = session;\r\n        this.oesHost = host;\r\n        this.oesRelease = release;\r\n        this.oesBrowser = browser;\r\n        this.oesDevice = device;\r\n        this.oesUser = user;\r\n        this.sequence = 1; // Sequence starts at 1 not 0\r\n    }\r\n    AriaTelemetryLogger.setApp = function (properties, app) {\r\n        properties["App.Name"] = app.getName();\r\n        properties["App.Platform"] = app.getPlatform();\r\n        properties["App.Version"] = app.getVersion();\r\n    };\r\n    AriaTelemetryLogger.setSession = function (properties, session) {\r\n        properties["Session.Id"] = session.getId();\r\n    };\r\n    AriaTelemetryLogger.setHost = function (properties, host) {\r\n        if (host) {\r\n            properties["Host.Id"] = host.getId();\r\n            properties["Host.SessionId2"] = host.getSessionId();\r\n            properties["Host.Version"] = host.getVersion();\r\n            properties["Host.Locale"] = host.getLocale();\r\n        }\r\n    };\r\n    AriaTelemetryLogger.setEvent = function (properties, event) {\r\n        properties["Event.Name"] = event.getName();\r\n        properties["Event.Id"] = event.getId();\r\n        properties["Event.Source"] = event.getSource();\r\n        properties["Event.SchemaVersion"] = event.getSchemaVersion();\r\n        properties["Event.Sequence"] = event.getSequence();\r\n        properties["Event.SampleRate"] = event.getSampleRate();\r\n    };\r\n    AriaTelemetryLogger.setRelease = function (properties, release) {\r\n        if (release) {\r\n            properties["Release.AudienceGroup"] = release.getAudienceGroup();\r\n        }\r\n    };\r\n    AriaTelemetryLogger.setBrowser = function (properties, browser) {\r\n        if (browser) {\r\n            properties["Browser.Name"] = browser.getName();\r\n            properties["Browser.Version"] = browser.getVersion();\r\n        }\r\n    };\r\n    AriaTelemetryLogger.setDevice = function (properties, device) {\r\n        if (device) {\r\n            properties["Device.Id"] = device.getId();\r\n        }\r\n    };\r\n    AriaTelemetryLogger.setUser = function (properties, user) {\r\n        if (user) {\r\n            properties["User.PrimaryIdentityHash"] = user.getPrimaryIdentityHash();\r\n            properties["User.PrimaryIdentitySpace"] = user.getPrimaryIdentitySpace();\r\n            properties["User.TenantId"] = user.getTenantId();\r\n        }\r\n    };\r\n    AriaTelemetryLogger.prototype.logEvent = function (eventName, customProperties, sampleRate) {\r\n        if (sampleRate === void 0) { sampleRate = 1; }\r\n        if (!eventName) {\r\n            throw new Error("eventName must not be null");\r\n        }\r\n        var oesEvent = new _Contracts__WEBPACK_IMPORTED_MODULE_1__["Event"](this.namespace + AriaTelemetryLogger.EVENT_NAME_DELIMITER + eventName, this.oesSession.getId(), this.sequence, sampleRate);\r\n        var ariaProperties = {};\r\n        if (customProperties != null) {\r\n            for (var key in customProperties) {\r\n                if (customProperties.hasOwnProperty(key)) {\r\n                    ariaProperties[AriaTelemetryLogger.CUSTOM_PROPERTIES_FIELD_PREFIX + key] = customProperties[key];\r\n                }\r\n            }\r\n        }\r\n        AriaTelemetryLogger.setApp(ariaProperties, this.oesApp);\r\n        AriaTelemetryLogger.setSession(ariaProperties, this.oesSession);\r\n        AriaTelemetryLogger.setHost(ariaProperties, this.oesHost);\r\n        AriaTelemetryLogger.setRelease(ariaProperties, this.oesRelease);\r\n        AriaTelemetryLogger.setEvent(ariaProperties, oesEvent);\r\n        AriaTelemetryLogger.setBrowser(ariaProperties, this.oesBrowser);\r\n        AriaTelemetryLogger.setDevice(ariaProperties, this.oesDevice);\r\n        AriaTelemetryLogger.setUser(ariaProperties, this.oesUser);\r\n        _Aria__WEBPACK_IMPORTED_MODULE_0__["AWT"]().logEvent({\r\n            name: oesEvent.getName(),\r\n            properties: ariaProperties,\r\n        });\r\n        this.sequence++;\r\n    };\r\n    // Event.name is set as namespace<DELIMITER>eventName\r\n    AriaTelemetryLogger.EVENT_NAME_DELIMITER = "_";\r\n    AriaTelemetryLogger.CUSTOM_PROPERTIES_FIELD_PREFIX = "Data.";\r\n    return AriaTelemetryLogger;\r\n}());\r\n/* harmony default export */ __webpack_exports__["default"] = (AriaTelemetryLogger);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Mb2dnaW5nL1RlbGVtZXRyeS9BcmlhVGVsZW1ldHJ5TG9nZ2VyLnRzPzlhMDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7O0dBRUc7QUFFNEI7QUFDeUQ7QUFHeEY7SUF1RUMsNkJBQVksV0FBbUIsRUFBRSxTQUFpQixFQUFFLEdBQVEsRUFBRSxPQUFnQixFQUFFLElBQVcsRUFBRSxPQUFpQixFQUM3RyxPQUFpQixFQUFFLE1BQWUsRUFBRSxJQUFXO1FBRS9DLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDakIsTUFBTSxJQUFJLEtBQUssQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDO1NBQ2hEO1FBQ0QsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNmLE1BQU0sSUFBSSxLQUFLLENBQUMsNEJBQTRCLENBQUMsQ0FBQztTQUM5QztRQUNELElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDVCxNQUFNLElBQUksS0FBSyxDQUFDLHNCQUFzQixDQUFDLENBQUM7U0FDeEM7UUFDRCxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2IsTUFBTSxJQUFJLEtBQUssQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO1NBQzVDO1FBRUQseUNBQVEsRUFBRSxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNuQyxJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztRQUMzQixJQUFJLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQztRQUNsQixJQUFJLENBQUMsVUFBVSxHQUFHLE9BQU8sQ0FBQztRQUMxQixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUNwQixJQUFJLENBQUMsVUFBVSxHQUFHLE9BQU8sQ0FBQztRQUMxQixJQUFJLENBQUMsVUFBVSxHQUFHLE9BQU8sQ0FBQztRQUMxQixJQUFJLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQztRQUN4QixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUNw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LG1CQUFtQixDQUFDLFNBQVMsQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzlELG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRTFELHlDQUFRLEVBQUUsQ0FBQyxRQUFRLENBQUM7WUFDbkIsSUFBSSxFQUFFLFFBQVEsQ0FBQyxPQUFPLEVBQUU7WUFDeEIsVUFBVSxFQUFFLGNBQWM7U0FDMUIsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQ2pCLENBQUM7SUF2SUQscURBQXFEO0lBQ3RDLHdDQUFvQixHQUFXLEdBQUcsQ0FBQztJQUNuQyxrREFBOEIsR0FBVyxPQUFPLENBQUM7SUFzSWpFLDBCQUFDO0NBQUE7QUF6SW9CLGtGQUFtQiIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0xvZ2dpbmcvVGVsZW1ldHJ5L0FyaWFUZWxlbWV0cnlMb2dnZXIudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQW4gQXJpYS1iYXNlZCBsb2dnZXJcclxuICovXHJcblxyXG5pbXBvcnQgKiBhcyBBcmlhIGZyb20gXCIuL0FyaWFcIjtcclxuaW1wb3J0IHsgQXBwLCBCcm93c2VyLCBEZXZpY2UsIEV2ZW50LCBIb3N0LCBSZWxlYXNlLCBTZXNzaW9uLCBVc2VyIH0gZnJvbSBcIi4vQ29udHJhY3RzXCI7XHJcbmltcG9ydCBJVGVsZW1ldHJ5TG9nZ2VyIGZyb20gXCIuL0lUZWxlbWV0cnlMb2dnZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFyaWFUZWxlbWV0cnlMb2dnZXIgaW1wbGVtZW50cyBJVGVsZW1ldHJ5TG9nZ2VyIHtcclxuXHQvLyBFdmVudC5uYW1lIGlzIHNldCBhcyBuYW1lc3BhY2U8REVMSU1JVEVSPmV2ZW50TmFtZVxyXG5cdHByaXZhdGUgc3RhdGljIEVWRU5UX05BTUVfREVMSU1JVEVSOiBzdHJpbmcgPSBcIl9cIjtcclxuXHRwcml2YXRlIHN0YXRpYyBDVVNUT01fUFJPUEVSVElFU19GSUVMRF9QUkVGSVg6IHN0cmluZyA9IFwiRGF0YS5cIjtcclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgc2V0QXBwKHByb3BlcnRpZXM6IGFueSwgYXBwOiBBcHApOiB2b2lkIHtcclxuXHRcdHByb3BlcnRpZXNbXCJBcHAuTmFtZVwiXSA9IGFwcC5nZXROYW1lKCk7XHJcblx0XHRwcm9wZXJ0aWVzW1wiQXBwLlBsYXRmb3JtXCJdID0gYXBwLmdldFBsYXRmb3JtKCk7XHJcblx0XHRwcm9wZXJ0aWVzW1wiQXBwLlZlcnNpb25cIl0gPSBhcHAuZ2V0VmVyc2lvbigpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgc2V0U2Vzc2lvbihwcm9wZXJ0aWVzOiBhbnksIHNlc3Npb246IFNlc3Npb24pIHtcclxuXHRcdHByb3BlcnRpZXNbXCJTZXNzaW9uLklkXCJdID0gc2Vzc2lvbi5nZXRJZCgpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgc2V0SG9zdChwcm9wZXJ0aWVzOiBhbnksIGhvc3Q6IEhvc3QpIHtcclxuXHRcdGlmIChob3N0KSB7XHJcblx0XHRcdHByb3BlcnRpZXNbXCJIb3N0LklkXCJdID0gaG9zdC5nZXRJZCgpO1xyXG5cdFx0XHRwcm9wZXJ0aWVzW1wiSG9zdC5TZXNzaW9uSWQyXCJdID0gaG9zdC5nZXRTZXNzaW9uSWQoKTtcclxuXHRcdFx0cHJvcGVydGllc1tcIkhvc3QuVmVyc2lvblwiXSA9IGhvc3QuZ2V0VmVyc2lvbigpO1xyXG5cdFx0XHRwcm9wZXJ0aWVzW1wiSG9zdC5Mb2NhbGVcIl0gPSBob3N0LmdldExvY2FsZSgpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgc2V0RXZlbnQocHJvcGVydGllczogYW55LCBldmVudDogRXZlbnQpIHtcclxuXHRcdHByb3BlcnRpZXNbXCJFdmVudC5OYW1lXCJdID0gZXZlbnQuZ2V0TmFtZSgpO1xyXG5cdFx0cHJvcGVydGllc1tcIkV2ZW50LklkXCJdID0gZXZlbnQuZ2V0SWQoKTtcclxuXHRcdHByb3BlcnRpZXNbXCJFdmVudC5Tb3VyY2VcIl0gPSBldmVudC5nZXRTb3VyY2UoKTtcclxuXHRcdHByb3BlcnRpZXNbXCJFdmVudC5TY2hlbWFWZXJzaW9uXCJdID0gZXZlbnQuZ2V0U2NoZW1hVmVyc2lvbigpO1xyXG5cdFx0cHJvcGVydGllc1tcIkV2ZW50LlNlcXVlbmNlXCJdID0gZXZlbnQuZ2V0U2VxdWVuY2UoKTtcclxuXHRcdHByb3BlcnRpZXNbXCJFdmVudC5TYW1wbGVSYXRlXCJdID0gZXZlbnQuZ2V0U2FtcGxlUmF0ZSgpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzdGF0aWMgc2V0UmVsZWFzZShwcm9wZXJ0aWVzOiBhbnksIHJlbGVhc2U6IFJlbGVhc2UpIHtcclxuXHRcdGlmIChyZWxlYXNlKSB7XHJcblx0XHRcdHByb3BlcnRpZXNbXCJSZWxlYXNlLkF1ZGllbmNlR3JvdXBcIl0gPSByZWxlYXNlLmdldEF1ZGllbmNlR3JvdXAoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIHNldEJyb3dzZXIocHJvcGVydGllczogYW55LCBicm93c2VyOiBCcm93c2VyKSB7XHJcblx0XHRpZiAoYnJvd3Nlcikge1xyXG5cdFx0XHRwcm9wZXJ0aWVzW1wiQnJvd3Nlci5OYW1lXCJdID0gYnJvd3Nlci5nZXROYW1lKCk7XHJcblx0XHRcdHByb3BlcnRpZXNbXCJCcm93c2VyLlZlcnNpb25cIl0gPSBicm93c2VyLmdldFZlcnNpb24oKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIHNldERldmljZShwcm9wZXJ0aWVzOiBhbnksIGRldmljZTogRGV2aWNlKSB7XHJcblx0XHRpZiAoZGV2aWNlKSB7XHJcblx0XHRcdHByb3BlcnRpZXNbXCJEZXZpY2UuSWRcIl0gPSBkZXZpY2UuZ2V0SWQoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIHNldFVzZXIocHJvcGVydGllczogYW55LCB1c2VyOiBVc2VyKSB7XHJcblx0XHRpZiAodXNlcikge1xyXG5cdFx0XHRwcm9wZXJ0aWVzW1wiVXNlci5QcmltYXJ5SWRlbnRpdHlIYXNoXCJdID0gdXNlci5nZXRQcmltYXJ5SWRlbnRpdHlIYXNoKCk7XHJcblx0XHRcdHByb3BlcnRpZXNbXCJVc2VyLlByaW1hcnlJZGVudGl0eVNwYWNlXCJdID0gdXNlci5nZXRQcmltYXJ5SWRlbnRpdHlTcGFjZSgpO1xyXG5cdFx0XHRwcm9wZXJ0aWVzW1wiVXNlci5UZW5hbnRJZFwiXSA9IHVzZXIuZ2V0VGVuYW50SWQoKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgb2VzQXBwOiBBcHA7XHJcblx0cHJpdmF0ZSBvZXNTZXNzaW9uOiBTZXNzaW9uO1xyXG5cdHByaXZhdGUgb2VzSG9zdDogSG9zdDtcclxuXHRwcml2YXRlIG9lc1JlbGVhc2U6IFJlbGVhc2U7XHJcblx0cHJpdmF0ZSBvZXNCcm93c2VyOiBCcm93c2VyO1xyXG5cdHByaXZhdGUgb2VzRGV2aWNlOiBEZXZpY2U7XHJcblx0cHJpdmF0ZSBvZXNVc2VyOiBVc2VyO1xyXG5cclxuXHRwcml2YXRlIG5hbWVzcGFjZTogc3RyaW5nO1xyXG5cdHByaXZhdGUgc2VxdWVuY2U6IG51bWJlcjtcclxuXHJcblx0Y29uc3RydWN0b3IodGVuYW50VG9rZW46IHN0cmluZywgbmFtZXNwYWNlOiBzdHJpbmcsIGFwcDogQXBwLCBzZXNzaW9uOiBTZXNzaW9uLCBob3N0PzogSG9zdCwgcmVsZWFzZT86IFJlbGVhc2UsXHJcblx0XHRicm93c2VyPzogQnJvd3NlciwgZGV2aWNlPzogRGV2aWNlLCB1c2VyPzogVXNlcikge1xyXG5cclxuXHRcdGlmICghdGVuYW50VG9rZW4pIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwidGVuYW50VG9rZW4gbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghbmFtZXNwYWNlKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5hbWVzcGFjZSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFhcHApIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiYXBwIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoIXNlc3Npb24pIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwic2Vzc2lvbiBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdEFyaWEuQVdUKCkuaW5pdGlhbGl6ZSh0ZW5hbnRUb2tlbik7XHJcblx0XHR0aGlzLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcclxuXHRcdHRoaXMub2VzQXBwID0gYXBwO1xyXG5cdFx0dGhpcy5vZXNTZXNzaW9uID0gc2Vzc2lvbjtcclxuXHRcdHRoaXMub2VzSG9zdCA9IGhvc3Q7XHJcblx0XHR0aGlzLm9lc1JlbGVhc2UgPSByZWxlYXNlO1xyXG5cdFx0dGhpcy5vZXNCcm93c2VyID0gYnJvd3NlcjtcclxuXHRcdHRoaXMub2VzRGV2aWNlID0gZGV2aWNlO1xyXG5cdFx0dGhpcy5vZXNVc2VyID0gdXNlcjtcclxuXHRcdHRoaXMuc2VxdWVuY2UgPSAxOyAvLyBTZXF1ZW5jZSBzdGFydHMgYXQgMSBub3QgMFxyXG5cdH1cclxuXHJcblx0cHVibGljIGxvZ0V2ZW50KGV2ZW50TmFtZTogc3RyaW5nLCBjdXN0b21Qcm9wZXJ0aWVzPzogeyBbY3VzdG9tRmllbGQ6IHN0cmluZ106IGFueSB9LCBzYW1wbGVSYXRlOiBudW1iZXIgPSAxKSB7XHJcblx0XHRpZiAoIWV2ZW50TmFtZSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJldmVudE5hbWUgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgb2VzRXZlbnQ6IEV2ZW50ID0gbmV3IEV2ZW50KFxyXG5cdFx0XHR0aGlzLm5hbWVzcGFjZSArIEFyaWFUZWxlbWV0cnlMb2dnZXIuRVZFTlRfTkFNRV9ERUxJTUlURVIgKyBldmVudE5hbWUsXHJcblx0XHRcdHRoaXMub2VzU2Vzc2lvbi5nZXRJZCgpLFxyXG5cdFx0XHR0aGlzLnNlcXVlbmNlLFxyXG5cdFx0XHRzYW1wbGVSYXRlXHJcblx0XHQpO1xyXG5cclxuXHRcdGxldCBhcmlhUHJvcGVydGllczogYW55ID0ge307XHJcblxyXG5cdFx0aWYgKGN1c3RvbVByb3BlcnRpZXMgIT0gbnVsbCkge1xyXG5cdFx0XHRmb3IgKGNvbnN0IGtleSBpbiBjdXN0b21Qcm9wZXJ0aWVzKSB7XHJcblx0XHRcdFx0aWYgKGN1c3RvbVByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG5cdFx0XHRcdFx0YXJpYVByb3BlcnRpZXNbQXJpYVRlbGVtZXRyeUxvZ2dlci5DVVNUT01fUFJPUEVSVElFU19GSUVMRF9QUkVGSVggKyBrZXldID0gY3VzdG9tUHJvcGVydGllc1trZXldO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdEFyaWFUZWxlbWV0cnlMb2dnZXIuc2V0QXBwKGFyaWFQcm9wZXJ0aWVzLCB0aGlzLm9lc0FwcCk7XHJcblx0XHRBcmlhVGVsZW1ldHJ5TG9nZ2VyLnNldFNlc3Npb24oYXJpYVByb3BlcnRpZXMsIHRoaXMub2VzU2Vzc2lvbik7XHJcblx0XHRBcmlhVGVsZW1ldHJ5TG9nZ2VyLnNldEhvc3QoYXJpYVByb3BlcnRpZXMsIHRoaXMub2VzSG9zdCk7XHJcblx0XHRBcmlhVGVsZW1ldHJ5TG9nZ2VyLnNldFJlbGVhc2UoYXJpYVByb3BlcnRpZXMsIHRoaXMub2VzUmVsZWFzZSk7XHJcblx0XHRBcmlhVGVsZW1ldHJ5TG9nZ2VyLnNldEV2ZW50KGFyaWFQcm9wZXJ0aWVzLCBvZXNFdmVudCk7XHJcblx0XHRBcmlhVGVsZW1ldHJ5TG9nZ2VyLnNldEJyb3dzZXIoYXJpYVByb3BlcnRpZXMsIHRoaXMub2VzQnJvd3Nlcik7XHJcblx0XHRBcmlhVGVsZW1ldHJ5TG9nZ2VyLnNldERldmljZShhcmlhUHJvcGVydGllcywgdGhpcy5vZXNEZXZpY2UpO1xyXG5cdFx0QXJpYVRlbGVtZXRyeUxvZ2dlci5zZXRVc2VyKGFyaWFQcm9wZXJ0aWVzLCB0aGlzLm9lc1VzZXIpO1xyXG5cclxuXHRcdEFyaWEuQVdUKCkubG9nRXZlbnQoe1xyXG5cdFx0XHRuYW1lOiBvZXNFdmVudC5nZXROYW1lKCksXHJcblx0XHRcdHByb3BlcnRpZXM6IGFyaWFQcm9wZXJ0aWVzLFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dGhpcy5zZXF1ZW5jZSsrO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Logging/Telemetry/AriaTelemetryLogger.ts\n')},"./scripts/app/Logging/Telemetry/Contracts.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "App", function() { return App; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Session", function() { return Session; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Host", function() { return Host; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Event", function() { return Event; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Release", function() { return Release; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Browser", function() { return Browser; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Device", function() { return Device; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "User", function() { return User; });\n/**\r\n * Contracts enforced by OfficeEventSchema (OES)\r\n */\r\nvar App = /** @class */ (function () {\r\n    function App(name, version) {\r\n        if (!name) {\r\n            throw new Error("name must not be null");\r\n        }\r\n        if (!version) {\r\n            throw new Error("version must not be null");\r\n        }\r\n        this.name = name;\r\n        this.version = version;\r\n    }\r\n    App.prototype.getName = function () {\r\n        return this.name;\r\n    };\r\n    App.prototype.getPlatform = function () {\r\n        return App.PLATFORM;\r\n    };\r\n    App.prototype.getVersion = function () {\r\n        return this.version;\r\n    };\r\n    App.PLATFORM = "Web";\r\n    return App;\r\n}());\r\n\r\nvar Session = /** @class */ (function () {\r\n    function Session(id) {\r\n        if (!id) {\r\n            throw new Error("id must not be null");\r\n        }\r\n        this.id = id;\r\n    }\r\n    Session.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    return Session;\r\n}());\r\n\r\nvar Host = /** @class */ (function () {\r\n    function Host(id, locale, sessionId, version) {\r\n        this.id = id;\r\n        this.locale = locale;\r\n        this.sessionId = sessionId;\r\n        this.version = version;\r\n    }\r\n    Host.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    Host.prototype.getLocale = function () {\r\n        return this.locale;\r\n    };\r\n    Host.prototype.getSessionId = function () {\r\n        return this.sessionId;\r\n    };\r\n    Host.prototype.getVersion = function () {\r\n        return this.version;\r\n    };\r\n    return Host;\r\n}());\r\n\r\nvar Event = /** @class */ (function () {\r\n    function Event(name, sessionId, sequence, sampleRate) {\r\n        if (!name) {\r\n            throw new Error("name must not be null");\r\n        }\r\n        if (!sessionId) {\r\n            throw new Error("sessionId must not be null");\r\n        }\r\n        if ((!sequence && sequence !== 0) || sequence < 0) {\r\n            throw new Error("sequence must not be negative");\r\n        }\r\n        this.name = name;\r\n        this.id = sessionId + Event.ID_DELIMITER + sequence;\r\n        this.sequence = sequence;\r\n        this.sampleRate = sampleRate;\r\n    }\r\n    Event.prototype.getName = function () {\r\n        return this.name;\r\n    };\r\n    Event.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    Event.prototype.getSource = function () {\r\n        return Event.SOURCE;\r\n    };\r\n    Event.prototype.getSchemaVersion = function () {\r\n        return Event.SCHEMA_VERSION;\r\n    };\r\n    Event.prototype.getSequence = function () {\r\n        return this.sequence;\r\n    };\r\n    Event.prototype.getSampleRate = function () {\r\n        return this.sampleRate;\r\n    };\r\n    // Id is set to sessionId<DELIMITER>sequence\r\n    Event.ID_DELIMITER = ".";\r\n    Event.SOURCE = "MsoThin";\r\n    Event.SCHEMA_VERSION = 1;\r\n    return Event;\r\n}());\r\n\r\nvar Release = /** @class */ (function () {\r\n    function Release(audienceGroup) {\r\n        this.audienceGroup = audienceGroup;\r\n    }\r\n    Release.prototype.getAudienceGroup = function () {\r\n        return this.audienceGroup;\r\n    };\r\n    return Release;\r\n}());\r\n\r\nvar Browser = /** @class */ (function () {\r\n    function Browser(name, version) {\r\n        this.name = name;\r\n        this.version = version;\r\n    }\r\n    Browser.prototype.getName = function () {\r\n        return this.name;\r\n    };\r\n    Browser.prototype.getVersion = function () {\r\n        return this.version;\r\n    };\r\n    return Browser;\r\n}());\r\n\r\nvar Device = /** @class */ (function () {\r\n    function Device(id) {\r\n        this.id = id;\r\n    }\r\n    Device.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    return Device;\r\n}());\r\n\r\nvar User = /** @class */ (function () {\r\n    function User(primaryIdentityHash, tenantId) {\r\n        this.tenantId = tenantId;\r\n        this.primaryIdentityHash = primaryIdentityHash ? primaryIdentityHash.trim() : primaryIdentityHash;\r\n        this.primaryIdentitySpace = this.generatePrimaryIdentitySpace();\r\n    }\r\n    User.prototype.getTenantId = function () {\r\n        return this.tenantId;\r\n    };\r\n    User.prototype.getPrimaryIdentityHash = function () {\r\n        return this.primaryIdentityHash;\r\n    };\r\n    User.prototype.getPrimaryIdentitySpace = function () {\r\n        return this.primaryIdentitySpace;\r\n    };\r\n    User.prototype.generatePrimaryIdentitySpace = function () {\r\n        if (this.primaryIdentityHash) {\r\n            if (this.primaryIdentityHash.startsWith("a:")) {\r\n                return "UserObjectId";\r\n            }\r\n            if (this.primaryIdentityHash.startsWith("p:")) {\r\n                return "MsaPuid";\r\n            }\r\n            if (this.primaryIdentityHash.startsWith("ap:")) {\r\n                return "OrgIdPuid";\r\n            }\r\n        }\r\n        return undefined;\r\n    };\r\n    return User;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Mb2dnaW5nL1RlbGVtZXRyeS9Db250cmFjdHMudHM/Mzc0ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7R0FFRztBQUVIO0lBTUMsYUFBbUIsSUFBWSxFQUFFLE9BQWU7UUFDL0MsSUFBSSxDQUFDLElBQUksRUFBRTtZQUNWLE1BQU0sSUFBSSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQztTQUN6QztRQUNELElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDYixNQUFNLElBQUksS0FBSyxDQUFDLDBCQUEwQixDQUFDLENBQUM7U0FDNUM7UUFFRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztJQUN4QixDQUFDO0lBRU0scUJBQU8sR0FBZDtRQUNDLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQztJQUNsQixDQUFDO0lBRU0seUJBQVcsR0FBbEI7UUFDQyxPQUFPLEdBQUcsQ0FBQyxRQUFRLENBQUM7SUFDckIsQ0FBQztJQUVNLHdCQUFVLEdBQWpCO1FBQ0MsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQ3JCLENBQUM7SUEzQmMsWUFBUSxHQUFXLEtBQUssQ0FBQztJQTRCekMsVUFBQztDQUFBO0FBN0JlO0FBK0JoQjtJQUdDLGlCQUFtQixFQUFVO1FBQzVCLElBQUksQ0FBQyxFQUFFLEVBQUU7WUFDUixNQUFNLElBQUksS0FBSyxDQUFDLHFCQUFxQixDQUFDLENBQUM7U0FDdkM7UUFFRCxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztJQUNkLENBQUM7SUFFTSx1QkFBSyxHQUFaO1FBQ0MsT0FBTyxJQUFJLENBQUMsRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUFDRixjQUFDO0FBQUQsQ0FBQzs7QUFFRDtJQU1DLGNBQVksRUFBVSxFQUFFLE1BQWMs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LENBQUM7SUFDRixXQUFDO0FBQUQsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL0xvZ2dpbmcvVGVsZW1ldHJ5L0NvbnRyYWN0cy50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb250cmFjdHMgZW5mb3JjZWQgYnkgT2ZmaWNlRXZlbnRTY2hlbWEgKE9FUylcclxuICovXHJcblxyXG5leHBvcnQgY2xhc3MgQXBwIHtcclxuXHRwcml2YXRlIHN0YXRpYyBQTEFURk9STTogc3RyaW5nID0gXCJXZWJcIjtcclxuXHJcblx0cHJpdmF0ZSBuYW1lOiBzdHJpbmc7XHJcblx0cHJpdmF0ZSB2ZXJzaW9uOiBzdHJpbmc7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHZlcnNpb246IHN0cmluZykge1xyXG5cdFx0aWYgKCFuYW1lKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5hbWUgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHRcdGlmICghdmVyc2lvbikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJ2ZXJzaW9uIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5uYW1lID0gbmFtZTtcclxuXHRcdHRoaXMudmVyc2lvbiA9IHZlcnNpb247XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0TmFtZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMubmFtZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRQbGF0Zm9ybSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIEFwcC5QTEFURk9STTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRWZXJzaW9uKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy52ZXJzaW9uO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNlc3Npb24ge1xyXG5cdHByaXZhdGUgaWQ6IHN0cmluZztcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcpIHtcclxuXHRcdGlmICghaWQpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiaWQgbXVzdCBub3QgYmUgbnVsbFwiKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmlkID0gaWQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0SWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmlkO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEhvc3Qge1xyXG5cdHByaXZhdGUgaWQ6IHN0cmluZztcclxuXHRwcml2YXRlIGxvY2FsZTogc3RyaW5nO1xyXG5cdHByaXZhdGUgc2Vzc2lvbklkOiBzdHJpbmc7XHJcblx0cHJpdmF0ZSB2ZXJzaW9uOiBzdHJpbmc7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcsIGxvY2FsZTogc3RyaW5nLCBzZXNzaW9uSWQ6IHN0cmluZywgdmVyc2lvbjogc3RyaW5nKSB7XHJcblx0XHR0aGlzLmlkID0gaWQ7XHJcblx0XHR0aGlzLmxvY2FsZSA9IGxvY2FsZTtcclxuXHRcdHRoaXMuc2Vzc2lvbklkID0gc2Vzc2lvbklkO1xyXG5cdFx0dGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRJZCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuaWQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0TG9jYWxlKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5sb2NhbGU7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0U2Vzc2lvbklkKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5zZXNzaW9uSWQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0VmVyc2lvbigpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMudmVyc2lvbjtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBFdmVudCB7XHJcblx0Ly8gSWQgaXMgc2V0IHRvIHNlc3Npb25JZDxERUxJTUlURVI+c2VxdWVuY2VcclxuXHRwcml2YXRlIHN0YXRpYyBJRF9ERUxJTUlURVIgPSBcIi5cIjtcclxuXHRwcml2YXRlIHN0YXRpYyBTT1VSQ0U6IHN0cmluZyA9IFwiTXNvVGhpblwiO1xyXG5cdHByaXZhdGUgc3RhdGljIFNDSEVNQV9WRVJTSU9OOiBudW1iZXIgPSAxO1xyXG5cclxuXHRwcml2YXRlIG5hbWU6IHN0cmluZztcclxuXHRwcml2YXRlIGlkOiBzdHJpbmc7XHJcblx0cHJpdmF0ZSBzZXF1ZW5jZTogbnVtYmVyO1xyXG5cdHByaXZhdGUgc2FtcGxlUmF0ZTogbnVtYmVyO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCBzZXNzaW9uSWQ6IHN0cmluZywgc2VxdWVuY2U6IG51bWJlciwgc2FtcGxlUmF0ZTogbnVtYmVyKSB7XHJcblx0XHRpZiAoIW5hbWUpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibmFtZSBtdXN0IG5vdCBiZSBudWxsXCIpO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCFzZXNzaW9uSWQpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwic2Vzc2lvbklkIG11c3Qgbm90IGJlIG51bGxcIik7XHJcblx0XHR9XHJcblx0XHRpZiAoKCFzZXF1ZW5jZSAmJiBzZXF1ZW5jZSAhPT0gMCkgfHwgc2VxdWVuY2UgPCAwKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihcInNlcXVlbmNlIG11c3Qgbm90IGJlIG5lZ2F0aXZlXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMubmFtZSA9IG5hbWU7XHJcblx0XHR0aGlzLmlkID0gc2Vzc2lvbklkICsgRXZlbnQuSURfREVMSU1JVEVSICsgc2VxdWVuY2U7XHJcblx0XHR0aGlzLnNlcXVlbmNlID0gc2VxdWVuY2U7XHJcblx0XHR0aGlzLnNhbXBsZVJhdGUgPSBzYW1wbGVSYXRlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldE5hbWUoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLm5hbWU7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0SWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmlkO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFNvdXJjZSgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIEV2ZW50LlNPVVJDRTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRTY2hlbWFWZXJzaW9uKCk6IG51bWJlciB7XHJcblx0XHRyZXR1cm4gRXZlbnQuU0NIRU1BX1ZFUlNJT047XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0U2VxdWVuY2UoKTogbnVtYmVyIHtcclxuXHRcdHJldHVybiB0aGlzLnNlcXVlbmNlO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFNhbXBsZVJhdGUoKTogbnVtYmVyIHtcclxuXHRcdHJldHVybiB0aGlzLnNhbXBsZVJhdGU7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUmVsZWFzZSB7XHJcblx0cHJpdmF0ZSBhdWRpZW5jZUdyb3VwOiBzdHJpbmc7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihhdWRpZW5jZUdyb3VwOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMuYXVkaWVuY2VHcm91cCA9IGF1ZGllbmNlR3JvdXA7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0QXVkaWVuY2VHcm91cCgpOiBzdHJpbmcge1xyXG5cdFx0cmV0dXJuIHRoaXMuYXVkaWVuY2VHcm91cDtcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBCcm93c2VyIHtcclxuXHRwcml2YXRlIG5hbWU6IHN0cmluZztcclxuXHRwcml2YXRlIHZlcnNpb246IHN0cmluZztcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgdmVyc2lvbjogc3RyaW5nKSB7XHJcblx0XHR0aGlzLm5hbWUgPSBuYW1lO1xyXG5cdFx0dGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXROYW1lKCk6IHN0cmluZyB7XHJcblx0XHRyZXR1cm4gdGhpcy5uYW1lO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFZlcnNpb24oKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLnZlcnNpb247XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRGV2aWNlIHtcclxuXHRwcml2YXRlIGlkOiBzdHJpbmc7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihpZDogc3RyaW5nKSB7XHJcblx0XHR0aGlzLmlkID0gaWQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0SWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmlkO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFVzZXIge1xyXG5cdHByaXZhdGUgcHJpbWFyeUlkZW50aXR5SGFzaDogc3RyaW5nO1xyXG5cdHByaXZhdGUgcHJpbWFyeUlkZW50aXR5U3BhY2U6IHN0cmluZztcclxuXHRwcml2YXRlIHRlbmFudElkOiBzdHJpbmc7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihwcmltYXJ5SWRlbnRpdHlIYXNoOiBzdHJpbmcsIHRlbmFudElkOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMudGVuYW50SWQgPSB0ZW5hbnRJZDtcclxuXHRcdHRoaXMucHJpbWFyeUlkZW50aXR5SGFzaCA9IHByaW1hcnlJZGVudGl0eUhhc2ggPyBwcmltYXJ5SWRlbnRpdHlIYXNoLnRyaW0oKSA6IHByaW1hcnlJZGVudGl0eUhhc2g7XHJcblx0XHR0aGlzLnByaW1hcnlJZGVudGl0eVNwYWNlID0gdGhpcy5nZW5lcmF0ZVByaW1hcnlJZGVudGl0eVNwYWNlKCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0VGVuYW50SWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLnRlbmFudElkO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFByaW1hcnlJZGVudGl0eUhhc2goKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLnByaW1hcnlJZGVudGl0eUhhc2g7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0UHJpbWFyeUlkZW50aXR5U3BhY2UoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLnByaW1hcnlJZGVudGl0eVNwYWNlO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBnZW5lcmF0ZVByaW1hcnlJZGVudGl0eVNwYWNlKCk6IHN0cmluZyB7XHJcblx0XHRpZiAodGhpcy5wcmltYXJ5SWRlbnRpdHlIYXNoKSB7XHJcblx0XHRcdGlmICh0aGlzLnByaW1hcnlJZGVudGl0eUhhc2guc3RhcnRzV2l0aChcImE6XCIpKSB7XHJcblx0XHRcdFx0cmV0dXJuIFwiVXNlck9iamVjdElkXCI7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHRoaXMucHJpbWFyeUlkZW50aXR5SGFzaC5zdGFydHNXaXRoKFwicDpcIikpIHtcclxuXHRcdFx0XHRyZXR1cm4gXCJNc2FQdWlkXCI7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKHRoaXMucHJpbWFyeUlkZW50aXR5SGFzaC5zdGFydHNXaXRoKFwiYXA6XCIpKSB7XHJcblx0XHRcdFx0cmV0dXJuIFwiT3JnSWRQdWlkXCI7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdW5kZWZpbmVkO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Logging/Telemetry/Contracts.ts\n')},"./scripts/app/Logging/Telemetry/TelemetryLoggerFactory.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _AriaTelemetryLogger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AriaTelemetryLogger */ "./scripts/app/Logging/Telemetry/AriaTelemetryLogger.ts");\n/**\r\n * Factory to return ITelemetryLogger objects\r\n */\r\n\r\nvar TelemetryLoggerFactory = /** @class */ (function () {\r\n    function TelemetryLoggerFactory() {\r\n    }\r\n    TelemetryLoggerFactory.create = function (tenantToken, namespace, app, session, host, release, browser, device, user) {\r\n        return new _AriaTelemetryLogger__WEBPACK_IMPORTED_MODULE_0__["default"](tenantToken, namespace, app, session, host, release, browser, device, user);\r\n    };\r\n    return TelemetryLoggerFactory;\r\n}());\r\n/* harmony default export */ __webpack_exports__["default"] = (TelemetryLoggerFactory);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Mb2dnaW5nL1RlbGVtZXRyeS9UZWxlbWV0cnlMb2dnZXJGYWN0b3J5LnRzPzA4YmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBOztHQUVHO0FBSXFEO0FBRXhEO0lBQUE7SUFLQSxDQUFDO0lBSmMsNkJBQU0sR0FBcEIsVUFBcUIsV0FBbUIsRUFBRSxTQUFpQixFQUFFLEdBQVEsRUFBRSxPQUFnQixFQUN0RixJQUFVLEVBQUUsT0FBZ0IsRUFBRSxPQUFnQixFQUFFLE1BQWMsRUFBRSxJQUFVO1FBQ3pFLE9BQU8sSUFBSSw0REFBbUIsQ0FBQyxXQUFXLEVBQUUsU0FBUyxFQUFFLEdBQUcsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzVHLENBQUM7SUFDSCw2QkFBQztBQUFELENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9Mb2dnaW5nL1RlbGVtZXRyeS9UZWxlbWV0cnlMb2dnZXJGYWN0b3J5LnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEZhY3RvcnkgdG8gcmV0dXJuIElUZWxlbWV0cnlMb2dnZXIgb2JqZWN0c1xyXG4gKi9cclxuXHJcbmltcG9ydCB7IEFwcCwgQnJvd3NlciwgRGV2aWNlLCBIb3N0LCBSZWxlYXNlLCBTZXNzaW9uLCBVc2VyIH0gZnJvbSBcIi4vQ29udHJhY3RzXCI7XHJcbmltcG9ydCBJVGVsZW1ldHJ5TG9nZ2VyIGZyb20gXCIuL0lUZWxlbWV0cnlMb2dnZXJcIjtcclxuaW1wb3J0IEFyaWFUZWxlbWV0cnlMb2dnZXIgZnJvbSBcIi4vQXJpYVRlbGVtZXRyeUxvZ2dlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGVsZW1ldHJ5TG9nZ2VyRmFjdG9yeSB7XHJcblx0cHVibGljIHN0YXRpYyBjcmVhdGUodGVuYW50VG9rZW46IHN0cmluZywgbmFtZXNwYWNlOiBzdHJpbmcsIGFwcDogQXBwLCBzZXNzaW9uOiBTZXNzaW9uLFxyXG5cdFx0aG9zdDogSG9zdCwgcmVsZWFzZTogUmVsZWFzZSwgYnJvd3NlcjogQnJvd3NlciwgZGV2aWNlOiBEZXZpY2UsIHVzZXI6IFVzZXIpOiBJVGVsZW1ldHJ5TG9nZ2VyIHtcclxuXHRcdFx0cmV0dXJuIG5ldyBBcmlhVGVsZW1ldHJ5TG9nZ2VyKHRlbmFudFRva2VuLCBuYW1lc3BhY2UsIGFwcCwgc2Vzc2lvbiwgaG9zdCwgcmVsZWFzZSwgYnJvd3NlciwgZGV2aWNlLCB1c2VyKTtcclxuXHRcdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Logging/Telemetry/TelemetryLoggerFactory.ts\n')},"./scripts/app/Polyfills/Fetch.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var whatwg_fetch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! whatwg-fetch */ "./node_modules/whatwg-fetch/fetch.js");\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Qb2x5ZmlsbHMvRmV0Y2gudHM/Y2M3YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQXNCIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvUG9seWZpbGxzL0ZldGNoLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwid2hhdHdnLWZldGNoXCI7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/Polyfills/Fetch.ts\n')},"./scripts/app/Polyfills/Promise.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var es6_promise_auto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! es6-promise/auto */ "./node_modules/es6-promise/auto.js");\n/* harmony import */ var es6_promise_auto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(es6_promise_auto__WEBPACK_IMPORTED_MODULE_0__);\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9Qb2x5ZmlsbHMvUHJvbWlzZS50cz85Zjg4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUEwQiIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1BvbHlmaWxscy9Qcm9taXNlLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwiZXM2LXByb21pc2UvYXV0b1wiO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Polyfills/Promise.ts\n')},"./scripts/app/Screenshot.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createScreenshot", function() { return createScreenshot; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");\n/**\r\n * Screenshot.ts\r\n *\r\n * A module for screenshot. It uses the html2canvas package.\r\n */\r\n\r\nvar html2canvas = __webpack_require__(/*! ../app/thirdparty/html2canvas/html2canvas */ "./scripts/app/thirdparty/html2canvas/html2canvas.js");\r\n/**\r\n * Get screenshot\r\n * @param domElement document element or document body\r\n * @param options background color\r\n */\r\nfunction createScreenshot(domElement, options) {\r\n    return html2canvas(domElement || document.body, Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])({ background: "#ffffff" }, options));\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9TY3JlZW5zaG90LnRzPzUwMDEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRzs7QUFFSCxJQUFNLFdBQVcsR0FBUSxtQkFBTyxDQUFDLHNHQUEyQyxDQUFDLENBQUM7QUFFOUU7Ozs7R0FJRztBQUNJLFNBQVMsZ0JBQWdCLENBQUMsVUFBbUIsRUFBRSxPQUFhO0lBQ2xFLE9BQU8sV0FBVyxDQUFDLFVBQVUsSUFBSSxRQUFRLENBQUMsSUFBSSxFQUFFLHlEQUFFLFVBQVUsRUFBRSxTQUFTLElBQUssT0FBTyxFQUFHLENBQUM7QUFDeEYsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1NjcmVlbnNob3QudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogU2NyZWVuc2hvdC50c1xyXG4gKlxyXG4gKiBBIG1vZHVsZSBmb3Igc2NyZWVuc2hvdC4gSXQgdXNlcyB0aGUgaHRtbDJjYW52YXMgcGFja2FnZS5cclxuICovXHJcblxyXG5jb25zdCBodG1sMmNhbnZhczogYW55ID0gcmVxdWlyZShcIi4uL2FwcC90aGlyZHBhcnR5L2h0bWwyY2FudmFzL2h0bWwyY2FudmFzXCIpO1xyXG5cclxuLyoqXHJcbiAqIEdldCBzY3JlZW5zaG90XHJcbiAqIEBwYXJhbSBkb21FbGVtZW50IGRvY3VtZW50IGVsZW1lbnQgb3IgZG9jdW1lbnQgYm9keSBcclxuICogQHBhcmFtIG9wdGlvbnMgYmFja2dyb3VuZCBjb2xvclxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNjcmVlbnNob3QoZG9tRWxlbWVudD86IG9iamVjdCwgb3B0aW9ucz86IGFueSk6IFByb21pc2U8SFRNTENhbnZhc0VsZW1lbnQ+IHtcclxuXHRyZXR1cm4gaHRtbDJjYW52YXMoZG9tRWxlbWVudCB8fCBkb2N1bWVudC5ib2R5LCB7IGJhY2tncm91bmQ6IFwiI2ZmZmZmZlwiLCAuLi5vcHRpb25zIH0pO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/Screenshot.ts\n')},"./scripts/app/TargetedMessaging/AssetsProvider.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssetsProvider", function() { return AssetsProvider; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "get", function() { return get; });\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Configuration/Configuration */ "./scripts/app/Configuration/Configuration.ts");\n/* harmony import */ var _Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Configuration/DynamicConfiguration */ "./scripts/app/Configuration/DynamicConfiguration.ts");\n/* harmony import */ var _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TargetedMessagingConstants */ "./scripts/app/TargetedMessaging/TargetedMessagingConstants.ts");\n/* harmony import */ var _TargetedMessagingClient__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TargetedMessagingClient */ "./scripts/app/TargetedMessaging/TargetedMessagingClient.ts");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Utils */ "./scripts/app/Utils.ts");\n/**\r\n * Module that provides campaign definitions,\r\n * governance rules & message metadata from\r\n * targeted messaging service.\r\n */\r\n\r\n\r\n\r\n\r\n\r\nvar AssetsProvider = /** @class */ (function () {\r\n    function AssetsProvider() {\r\n        this.configuration = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__["get"]();\r\n        // Enable TargetedMessaging client only if authCallback is provided\r\n        // This is for cases where existing Floodgate hosts are not yet on-boarded into web surfaces flow\r\n        var floodgateInitOptions = this.configuration && this.configuration.getFloodgateInitOptions();\r\n        var authTokenCallback = floodgateInitOptions && floodgateInitOptions.authTokenCallback;\r\n        if ((authTokenCallback && (authTokenCallback.getAuthToken || authTokenCallback.getUserPuid)) ||\r\n            this.isAugLoopEnabled()) {\r\n            var initOptions = this.configuration.getCommonInitOptions();\r\n            this.tmsgClient = new _TargetedMessagingClient__WEBPACK_IMPORTED_MODULE_3__["TargetedMessagingClient"](initOptions.appId.toString(), "Web" /*platform*/, initOptions.build, initOptions.originalLocale, this.extractCountryFromLocale(initOptions.originalLocale), this.configuration.getSdkSessionId(), floodgateInitOptions.authTokenCallback, floodgateInitOptions.augLoopCallback, floodgateInitOptions.campaignFlights, floodgateInitOptions.campaignQueryParameters);\r\n        }\r\n    }\r\n    /**\r\n     * Get campaign definitions from TMS\r\n     */\r\n    AssetsProvider.prototype.getCampaignDefinitions = function () {\r\n        var debugResponse = Object(_TargetedMessagingClient__WEBPACK_IMPORTED_MODULE_3__["getDebugCampaignDefinitions"])();\r\n        if (debugResponse && debugResponse.content) {\r\n            return Promise.resolve(debugResponse.content);\r\n        }\r\n        if (!this.tmsgClient) {\r\n            return Promise.resolve(null);\r\n        }\r\n        return this.tmsgClient.getContent("CampaignContent" /* campaignContent */)\r\n            .then(function (_a) {\r\n            var content = _a.content;\r\n            return content;\r\n        });\r\n    };\r\n    AssetsProvider.prototype.getUserGovernanceRules = function () {\r\n        if (!this.tmsgClient) {\r\n            return Promise.resolve(null);\r\n        }\r\n        return this.tmsgClient.getContent("UserGovernance" /* userGovernanceRules */)\r\n            .then(function (_a) {\r\n            var content = _a.content;\r\n            return content;\r\n        });\r\n    };\r\n    AssetsProvider.prototype.getMessageMetadata = function () {\r\n        if (!this.tmsgClient) {\r\n            return Promise.resolve(null);\r\n        }\r\n        return this.tmsgClient.getContent("MessageMetadata" /* messageMetadata */)\r\n            .then(function (_a) {\r\n            var content = _a.content;\r\n            return content;\r\n        });\r\n    };\r\n    /**\r\n     * Get TULIPS user facts from AugLoop or GWS endpoint\r\n     */\r\n    AssetsProvider.prototype.getUserFacts = function () {\r\n        var _this = this;\r\n        var debugResponse = Object(_TargetedMessagingClient__WEBPACK_IMPORTED_MODULE_3__["getDebugCampaignDefinitions"])();\r\n        if (debugResponse && debugResponse.content) {\r\n            return Promise.resolve(debugResponse.content);\r\n        }\r\n        if (!this.tmsgClient) {\r\n            return Promise.resolve(null);\r\n        }\r\n        // Try to get facts from AL first\r\n        if (this.isAugLoopEnabled()) {\r\n            var timeoutMilliseconds = Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_1__["getDynamicSetting"])("TulipsLoadTimeout" /* tulipsLoadTimeout */, _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_2__["TULIPS_LOAD_TIMEOUT"]);\r\n            var timeoutPromise = Object(_Utils__WEBPACK_IMPORTED_MODULE_4__["createTimeoutPromise"])(timeoutMilliseconds, this.getAugLoopUserFacts());\r\n            return timeoutPromise\r\n                .then(function (userFacts) { return userFacts; })\r\n                .catch(function () { return _this.getSubstrateUserFacts(); });\r\n        }\r\n        return this.getSubstrateUserFacts();\r\n    };\r\n    AssetsProvider.prototype.setCampaignAction = function (beaconParameters) {\r\n        if (!this.tmsgClient) {\r\n            return;\r\n        }\r\n        var initOptions = this.configuration.getCommonInitOptions();\r\n        var floodgateInitOptions = this.configuration.getFloodgateInitOptions();\r\n        return this.tmsgClient.sendBeaconRequestToService(initOptions.appId.toString(), beaconParameters, "Web" /*platform*/, initOptions.build, initOptions.originalLocale, this.extractCountryFromLocale(initOptions.originalLocale), this.configuration.getSdkSessionId(), floodgateInitOptions.authTokenCallback);\r\n    };\r\n    // Floodgate doesn\'t have country, so we have to use locale as a proxy and extract the country code\r\n    AssetsProvider.prototype.extractCountryFromLocale = function (locale) {\r\n        if (!locale) {\r\n            return undefined;\r\n        }\r\n        var splitLocale = locale.split("-");\r\n        if (splitLocale.length === 2) {\r\n            return splitLocale[1];\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    };\r\n    AssetsProvider.prototype.getSubstrateUserFacts = function () {\r\n        if (!this.tmsgClient) {\r\n            return Promise.resolve(null);\r\n        }\r\n        return this.tmsgClient.getUserFactsContent("UserFacts" /* userFacts */)\r\n            .then(function (_a) {\r\n            var content = _a.content;\r\n            return content;\r\n        });\r\n    };\r\n    AssetsProvider.prototype.getAugLoopUserFacts = function () {\r\n        if (!this.tmsgClient) {\r\n            return Promise.resolve(null);\r\n        }\r\n        return this.tmsgClient.getAugLoopUserFactsContent("UserFacts" /* userFacts */)\r\n            .then(function (_a) {\r\n            var content = _a.content;\r\n            return content;\r\n        });\r\n    };\r\n    AssetsProvider.prototype.isAugLoopEnabled = function () {\r\n        var _a, _b, _c;\r\n        return (_c = (_b = (_a = this.configuration) === null || _a === void 0 ? void 0 : _a.getFloodgateInitOptions()) === null || _b === void 0 ? void 0 : _b.augLoopCallback) === null || _c === void 0 ? void 0 : _c.isEnabled;\r\n    };\r\n    return AssetsProvider;\r\n}());\r\n\r\nvar assetsProvider;\r\nfunction get() {\r\n    if (!assetsProvider) {\r\n        assetsProvider = new AssetsProvider();\r\n    }\r\n    return assetsProvider;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UYXJnZXRlZE1lc3NhZ2luZy9Bc3NldHNQcm92aWRlci50cz83MTY4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztHQUlHO0FBTzZEO0FBQ3NCO0FBQ25CO0FBRStDO0FBRWxFO0FBR2hEO0lBSUM7UUFDQyxJQUFJLENBQUMsYUFBYSxHQUFHLGdFQUFpQixFQUFFLENBQUM7UUFFekMsbUVBQW1FO1FBQ25FLGlHQUFpRztRQUNqRyxJQUFNLG9CQUFvQixHQUFHLElBQUksQ0FBQyxhQUFhLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyx1QkFBdUIsRUFBRSxDQUFDO1FBQ2hHLElBQU0saUJBQWlCLEdBQUcsb0JBQW9CLElBQUksb0JBQW9CLENBQUMsaUJBQWlCLENBQUM7UUFDekYsSUFBSSxDQUFDLGlCQUFpQixJQUFJLENBQUMsaUJBQWlCLENBQUMsWUFBWSxJQUFJLGlCQUFpQixDQUFDLFdBQVcsQ0FBQyxDQUFDO1lBQzNGLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxFQUFFO1lBQ3pCLElBQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztZQUM5RCxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksZ0ZBQXVCLENBQzVDLFdBQVcsQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLEVBQzVCLEtBQUssQ0FBQyxZQUFZLEVBQ2xCLFdBQVcsQ0FBQyxLQUFLLEVBQ2pCLFdBQVcsQ0FBQyxjQUFjLEVBQzFCLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxXQUFXLENBQUMsY0FBYyxDQUFDLEVBQ3pELElBQUksQ0FBQyxhQUFhLENBQUMsZUFBZSxFQUFFLEVBQ3BDLG9CQUFvQixDQUFDLGlCQUFpQixFQUN0QyxvQkFBb0IsQ0FBQyxlQUFlLEVBQ3BDLG9CQUFvQixDQUFDLGVBQWUsRUFDcEMsb0JBQW9CLENBQUMs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QUFDO0lBQ25ELENBQUM7SUFFTyx5Q0FBZ0IsR0FBeEI7O1FBQ0MseUJBQU8sSUFBSSxDQUFDLGFBQWEsMENBQUUsdUJBQXVCLDRDQUFJLGVBQWUsMENBQUUsU0FBUyxDQUFDO0lBQ2xGLENBQUM7SUFDRixxQkFBQztBQUFELENBQUM7O0FBRUQsSUFBSSxjQUE4QixDQUFDO0FBRTVCLFNBQVMsR0FBRztJQUNsQixJQUFJLENBQUMsY0FBYyxFQUFFO1FBQ3BCLGNBQWMsR0FBRyxJQUFJLGNBQWMsRUFBRSxDQUFDO0tBQ3RDO0lBRUQsT0FBTyxjQUFjLENBQUM7QUFDdkIsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1RhcmdldGVkTWVzc2FnaW5nL0Fzc2V0c1Byb3ZpZGVyLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIE1vZHVsZSB0aGF0IHByb3ZpZGVzIGNhbXBhaWduIGRlZmluaXRpb25zLFxyXG4gKiBnb3Zlcm5hbmNlIHJ1bGVzICYgbWVzc2FnZSBtZXRhZGF0YSBmcm9tXHJcbiAqIHRhcmdldGVkIG1lc3NhZ2luZyBzZXJ2aWNlLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IEFwaSB9IGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmVcIjtcclxuaW1wb3J0IHsgQ2FtcGFpZ25EZWZpbml0aW9ucyB9IGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmUvZGlzdC9zcmMvR292ZXJuYW5jZS9DYW1wYWlnbkRlZmluaXRpb25zXCI7XHJcbmltcG9ydCB7IE1lc3NhZ2VTcGVjIH0gZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9Hb3Zlcm5hbmNlL01lc3NhZ2VNZXRhZGF0YVwiO1xyXG5pbXBvcnQgeyBVc2VyR292ZXJuYW5jZVJ1bGVzIH0gZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9Hb3Zlcm5hbmNlL1VzZXJHb3Zlcm5hbmNlUnVsZXNcIjtcclxuXHJcbmltcG9ydCAqIGFzIENvbmZpZ3VyYXRpb24gZnJvbSBcIi4uL0NvbmZpZ3VyYXRpb24vQ29uZmlndXJhdGlvblwiO1xyXG5pbXBvcnQgeyBnZXREeW5hbWljU2V0dGluZywgU2V0dGluZ0tleSB9IGZyb20gXCIuLi9Db25maWd1cmF0aW9uL0R5bmFtaWNDb25maWd1cmF0aW9uXCI7XHJcbmltcG9ydCB7IFRVTElQU19MT0FEX1RJTUVPVVQgfSBmcm9tIFwiLi9UYXJnZXRlZE1lc3NhZ2luZ0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBDb250ZW50VHlwZSB9IGZyb20gXCIuL1RhcmdldGVkTWVzc2FnaW5nQ29udGVudFR5cGVcIjtcclxuaW1wb3J0IHsgVGFyZ2V0ZWRNZXNzYWdpbmdDbGllbnQsIENvbnRlbnRSZXNwb25zZSwgZ2V0RGVidWdDYW1wYWlnbkRlZmluaXRpb25zIH0gZnJvbSBcIi4vVGFyZ2V0ZWRNZXNzYWdpbmdDbGllbnRcIjtcclxuXHJcbmltcG9ydCB7IGNyZWF0ZVRpbWVvdXRQcm9taXNlIH0gZnJvbSBcIi4uL1V0aWxzXCI7XHJcbmltcG9ydCB7IElCZWFjb25QYXJhbWV0ZXJzIH0gZnJvbSBcIi4uL0Zsb29kZ2F0ZUNvcmUvQ29hY2hpbmdVWExhdW5jaGVyRmFjdG9yeVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFzc2V0c1Byb3ZpZGVyIGltcGxlbWVudHMgQXBpLklBc3NldHNQcm92aWRlciB7XHJcblx0cHJpdmF0ZSBjb25maWd1cmF0aW9uOiBDb25maWd1cmF0aW9uLkNvbmZpZ3VyYXRpb247XHJcblx0cHJpdmF0ZSB0bXNnQ2xpZW50OiBUYXJnZXRlZE1lc3NhZ2luZ0NsaWVudDtcclxuXHJcblx0cHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0dGhpcy5jb25maWd1cmF0aW9uID0gQ29uZmlndXJhdGlvbi5nZXQoKTtcclxuXHJcblx0XHQvLyBFbmFibGUgVGFyZ2V0ZWRNZXNzYWdpbmcgY2xpZW50IG9ubHkgaWYgYXV0aENhbGxiYWNrIGlzIHByb3ZpZGVkXHJcblx0XHQvLyBUaGlzIGlzIGZvciBjYXNlcyB3aGVyZSBleGlzdGluZyBGbG9vZGdhdGUgaG9zdHMgYXJlIG5vdCB5ZXQgb24tYm9hcmRlZCBpbnRvIHdlYiBzdXJmYWNlcyBmbG93XHJcblx0XHRjb25zdCBmbG9vZGdhdGVJbml0T3B0aW9ucyA9IHRoaXMuY29uZmlndXJhdGlvbiAmJiB0aGlzLmNvbmZpZ3VyYXRpb24uZ2V0Rmxvb2RnYXRlSW5pdE9wdGlvbnMoKTtcclxuXHRcdGNvbnN0IGF1dGhUb2tlbkNhbGxiYWNrID0gZmxvb2RnYXRlSW5pdE9wdGlvbnMgJiYgZmxvb2RnYXRlSW5pdE9wdGlvbnMuYXV0aFRva2VuQ2FsbGJhY2s7XHJcblx0XHRpZiAoKGF1dGhUb2tlbkNhbGxiYWNrICYmIChhdXRoVG9rZW5DYWxsYmFjay5nZXRBdXRoVG9rZW4gfHwgYXV0aFRva2VuQ2FsbGJhY2suZ2V0VXNlclB1aWQpKSB8fFxyXG5cdFx0XHR0aGlzLmlzQXVnTG9vcEVuYWJsZWQoKSkge1xyXG5cdFx0XHRjb25zdCBpbml0T3B0aW9ucyA9IHRoaXMuY29uZmlndXJhdGlvbi5nZXRDb21tb25Jbml0T3B0aW9ucygpO1xyXG5cdFx0XHR0aGlzLnRtc2dDbGllbnQgPSBuZXcgVGFyZ2V0ZWRNZXNzYWdpbmdDbGllbnQoXHJcblx0XHRcdFx0aW5pdE9wdGlvbnMuYXBwSWQudG9TdHJpbmcoKSxcclxuXHRcdFx0XHRcIldlYlwiIC8qcGxhdGZvcm0qLyxcclxuXHRcdFx0XHRpbml0T3B0aW9ucy5idWlsZCxcclxuXHRcdFx0XHRpbml0T3B0aW9ucy5vcmlnaW5hbExvY2FsZSxcclxuXHRcdFx0XHR0aGlzLmV4dHJhY3RDb3VudHJ5RnJvbUxvY2FsZShpbml0T3B0aW9ucy5vcmlnaW5hbExvY2FsZSksXHJcblx0XHRcdFx0dGhpcy5jb25maWd1cmF0aW9uLmdldFNka1Nlc3Npb25JZCgpLFxyXG5cdFx0XHRcdGZsb29kZ2F0ZUluaXRPcHRpb25zLmF1dGhUb2tlbkNhbGxiYWNrLFxyXG5cdFx0XHRcdGZsb29kZ2F0ZUluaXRPcHRpb25zLmF1Z0xvb3BDYWxsYmFjayxcclxuXHRcdFx0XHRmbG9vZGdhdGVJbml0T3B0aW9ucy5jYW1wYWlnbkZsaWdodHMsXHJcblx0XHRcdFx0Zmxvb2RnYXRlSW5pdE9wdGlvbnMuY2FtcGFpZ25RdWVyeVBhcmFtZXRlcnMpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IGNhbXBhaWduIGRlZmluaXRpb25zIGZyb20gVE1TXHJcblx0ICovXHJcblx0cHVibGljIGdldENhbXBhaWduRGVmaW5pdGlvbnMoKTogUHJvbWlzZTxDYW1wYWlnbkRlZmluaXRpb25zPiB7XHJcblx0XHRjb25zdCBkZWJ1Z1Jlc3BvbnNlID0gZ2V0RGVidWdDYW1wYWlnbkRlZmluaXRpb25zKCk7XHJcblx0XHRpZiAoZGVidWdSZXNwb25zZSAmJiBkZWJ1Z1Jlc3BvbnNlLmNvbnRlbnQpIHtcclxuXHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZShkZWJ1Z1Jlc3BvbnNlLmNvbnRlbnQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghdGhpcy50bXNnQ2xpZW50KSB7XHJcblx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMudG1zZ0NsaWVudC5nZXRDb250ZW50KENvbnRlbnRUeXBlLmNhbXBhaWduQ29udGVudClcclxuXHRcdFx0LnRoZW4oKHsgY29udGVudCB9OiBDb250ZW50UmVzcG9uc2UpID0+IGNvbnRlbnQpO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldFVzZXJHb3Zlcm5hbmNlUnVsZXMoKTogUHJvbWlzZTxVc2VyR292ZXJuYW5jZVJ1bGVzPiB7XHJcblx0XHRpZiAoIXRoaXMudG1zZ0NsaWVudCkge1xyXG5cdFx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLnRtc2dDbGllbnQuZ2V0Q29udGVudChDb250ZW50VHlwZS51c2VyR292ZXJuYW5jZVJ1bGVzKVxyXG5cdFx0XHQudGhlbigoeyBjb250ZW50IH06IENvbnRlbnRSZXNwb25zZSkgPT4gY29udGVudCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0TWVzc2FnZU1ldGFkYXRhKCk6IFByb21pc2U8TWVzc2FnZVNwZWM+IHtcclxuXHRcdGlmICghdGhpcy50bXNnQ2xpZW50KSB7XHJcblx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMudG1zZ0NsaWVudC5nZXRDb250ZW50KENvbnRlbnRUeXBlLm1lc3NhZ2VNZXRhZGF0YSlcclxuXHRcdFx0LnRoZW4oKHsgY29udGVudCB9OiBDb250ZW50UmVzcG9uc2UpID0+IGNvbnRlbnQpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogR2V0IFRVTElQUyB1c2VyIGZhY3RzIGZyb20gQXVnTG9vcCBvciBHV1MgZW5kcG9pbnRcclxuXHQgKi9cclxuXHRwdWJsaWMgZ2V0VXNlckZhY3RzKCk6IFByb21pc2U8QXBpLklVc2VyRmFjdFtdPiB7XHJcblx0XHRjb25zdCBkZWJ1Z1Jlc3BvbnNlID0gZ2V0RGVidWdDYW1wYWlnbkRlZmluaXRpb25zKCk7XHJcblx0XHRpZiAoZGVidWdSZXNwb25zZSAmJiBkZWJ1Z1Jlc3BvbnNlLmNvbnRlbnQpIHtcclxuXHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZShkZWJ1Z1Jlc3BvbnNlLmNvbnRlbnQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghdGhpcy50bXNnQ2xpZW50KSB7XHJcblx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gVHJ5IHRvIGdldCBmYWN0cyBmcm9tIEFMIGZpcnN0XHJcblx0XHRpZiAodGhpcy5pc0F1Z0xvb3BFbmFibGVkKCkpIHtcclxuXHRcdFx0Y29uc3QgdGltZW91dE1pbGxpc2Vjb25kcyA9IGdldER5bmFtaWNTZXR0aW5nKFNldHRpbmdLZXkudHVsaXBzTG9hZFRpbWVvdXQsIFRVTElQU19MT0FEX1RJTUVPVVQpO1xyXG5cdFx0XHRjb25zdCB0aW1lb3V0UHJvbWlzZSA9IGNyZWF0ZVRpbWVvdXRQcm9taXNlKHRpbWVvdXRNaWxsaXNlY29uZHMsIHRoaXMuZ2V0QXVnTG9vcFVzZXJGYWN0cygpKTtcclxuXHRcdFx0cmV0dXJuIHRpbWVvdXRQcm9taXNlXHJcblx0XHRcdFx0LnRoZW4odXNlckZhY3RzID0+IHVzZXJGYWN0cylcclxuXHRcdFx0XHQuY2F0Y2goKCkgPT4gdGhpcy5nZXRTdWJzdHJhdGVVc2VyRmFjdHMoKSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuZ2V0U3Vic3RyYXRlVXNlckZhY3RzKCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0Q2FtcGFpZ25BY3Rpb24oYmVhY29uUGFyYW1ldGVyczogSUJlYWNvblBhcmFtZXRlcnMpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuXHRcdGlmICghdGhpcy50bXNnQ2xpZW50KSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBpbml0T3B0aW9ucyA9IHRoaXMuY29uZmlndXJhdGlvbi5nZXRDb21tb25Jbml0T3B0aW9ucygpO1xyXG5cdFx0Y29uc3QgZmxvb2RnYXRlSW5pdE9wdGlvbnMgPSB0aGlzLmNvbmZpZ3VyYXRpb24uZ2V0Rmxvb2RnYXRlSW5pdE9wdGlvbnMoKTtcclxuXHRcdHJldHVybiB0aGlzLnRtc2dDbGllbnQuc2VuZEJlYWNvblJlcXVlc3RUb1NlcnZpY2UoXHJcblx0XHRcdGluaXRPcHRpb25zLmFwcElkLnRvU3RyaW5nKCksXHJcblx0XHRcdGJlYWNvblBhcmFtZXRlcnMsXHJcblx0XHRcdFwiV2ViXCIgLypwbGF0Zm9ybSovLFxyXG5cdFx0XHRpbml0T3B0aW9ucy5idWlsZCxcclxuXHRcdFx0aW5pdE9wdGlvbnMub3JpZ2luYWxMb2NhbGUsXHJcblx0XHRcdHRoaXMuZXh0cmFjdENvdW50cnlGcm9tTG9jYWxlKGluaXRPcHRpb25zLm9yaWdpbmFsTG9jYWxlKSxcclxuXHRcdFx0dGhpcy5jb25maWd1cmF0aW9uLmdldFNka1Nlc3Npb25JZCgpLFxyXG5cdFx0XHRmbG9vZGdhdGVJbml0T3B0aW9ucy5hdXRoVG9rZW5DYWxsYmFjayk7XHJcblx0fVxyXG5cclxuXHQvLyBGbG9vZGdhdGUgZG9lc24ndCBoYXZlIGNvdW50cnksIHNvIHdlIGhhdmUgdG8gdXNlIGxvY2FsZSBhcyBhIHByb3h5IGFuZCBleHRyYWN0IHRoZSBjb3VudHJ5IGNvZGVcclxuXHRwcml2YXRlIGV4dHJhY3RDb3VudHJ5RnJvbUxvY2FsZShsb2NhbGU/OiBzdHJpbmcpOiBzdHJpbmcge1xyXG5cdFx0aWYgKCFsb2NhbGUpIHtcclxuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBzcGxpdExvY2FsZSA9IGxvY2FsZS5zcGxpdChcIi1cIik7XHJcblx0XHRpZiAoc3BsaXRMb2NhbGUubGVuZ3RoID09PSAyKSB7XHJcblx0XHRcdHJldHVybiBzcGxpdExvY2FsZVsxXTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldFN1YnN0cmF0ZVVzZXJGYWN0cygpOiBQcm9taXNlPEFwaS5JVXNlckZhY3RbXT4ge1xyXG5cdFx0aWYgKCF0aGlzLnRtc2dDbGllbnQpIHtcclxuXHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy50bXNnQ2xpZW50LmdldFVzZXJGYWN0c0NvbnRlbnQoQ29udGVudFR5cGUudXNlckZhY3RzKVxyXG5cdFx0XHQudGhlbigoeyBjb250ZW50IH06IENvbnRlbnRSZXNwb25zZSkgPT4gY29udGVudCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGdldEF1Z0xvb3BVc2VyRmFjdHMoKTogUHJvbWlzZTxBcGkuSVVzZXJGYWN0W10+IHtcclxuXHRcdGlmICghdGhpcy50bXNnQ2xpZW50KSB7XHJcblx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMudG1zZ0NsaWVudC5nZXRBdWdMb29wVXNlckZhY3RzQ29udGVudChDb250ZW50VHlwZS51c2VyRmFjdHMpXHJcblx0XHRcdC50aGVuKCh7IGNvbnRlbnQgfTogQ29udGVudFJlc3BvbnNlKSA9PiBjb250ZW50KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgaXNBdWdMb29wRW5hYmxlZCgpOiBib29sZWFuIHtcclxuXHRcdHJldHVybiB0aGlzLmNvbmZpZ3VyYXRpb24/LmdldEZsb29kZ2F0ZUluaXRPcHRpb25zKCk/LmF1Z0xvb3BDYWxsYmFjaz8uaXNFbmFibGVkO1xyXG5cdH1cclxufVxyXG5cclxubGV0IGFzc2V0c1Byb3ZpZGVyOiBBc3NldHNQcm92aWRlcjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXQoKSB7XHJcblx0aWYgKCFhc3NldHNQcm92aWRlcikge1xyXG5cdFx0YXNzZXRzUHJvdmlkZXIgPSBuZXcgQXNzZXRzUHJvdmlkZXIoKTtcclxuXHR9XHJcblxyXG5cdHJldHVybiBhc3NldHNQcm92aWRlcjtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/TargetedMessaging/AssetsProvider.ts\n')},"./scripts/app/TargetedMessaging/AugLoopHelper.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAugLoopAnnotationData", function() { return getAugLoopAnnotationData; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");\n/* harmony import */ var _augloop_types_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @augloop/types-core */ "./node_modules/@augloop/types-core/dist/src/index.js");\n/* harmony import */ var _augloop_types_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_augloop_types_core__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Configuration/DynamicConfiguration */ "./scripts/app/Configuration/DynamicConfiguration.ts");\n/*\r\n * AugLoopHelper.ts\r\n */\r\n\r\n\r\n\r\nfunction sleep(milliseconds) {\r\n    return new Promise(function (resolve) {\r\n        setTimeout(resolve, milliseconds);\r\n    });\r\n}\r\nfunction getObjectProperty(targetObject, propertyName) {\r\n    var propertyValue = targetObject && targetObject[propertyName];\r\n    return (propertyValue || Object.getOwnPropertyDescriptor(targetObject, propertyName)) ? propertyValue : undefined;\r\n}\r\n// listen to property change on targetObject and return the value when it is set\r\nfunction getDelayDefinedObjectValue(targetObject, propertyName) {\r\n    if (!targetObject) {\r\n        return Promise.resolve(null);\r\n    }\r\n    var currentPropertyValue = getObjectProperty(targetObject, propertyName);\r\n    if (currentPropertyValue) {\r\n        return Promise.resolve(currentPropertyValue);\r\n    }\r\n    return new Promise(function (resolve, reject) {\r\n        var propertyValue;\r\n        Object.defineProperty(targetObject, propertyName, {\r\n            get: function () { return propertyValue; },\r\n            set: function (newValue) {\r\n                propertyValue = newValue;\r\n                resolve(propertyValue);\r\n            },\r\n        });\r\n    });\r\n}\r\n// Invoke AL calls and get the data\r\nfunction getAnnotationData(augLoopSession, annotationName) {\r\n    return new Promise(function (resolve, reject) {\r\n        augLoopSession.activateAnnotation(annotationName, {\r\n            callback: function (operation) {\r\n                try {\r\n                    var operationItems = operation && operation.items ? operation.items : [];\r\n                    var schemaObjects = operationItems.filter(function (item) { return annotationName === _augloop_types_core__WEBPACK_IMPORTED_MODULE_1__["SchemaObject"].getTypeNameFor(item.body); });\r\n                    resolve(schemaObjects && schemaObjects[0] && schemaObjects[0].body);\r\n                }\r\n                catch (error) {\r\n                    resolve({ error: error });\r\n                }\r\n            },\r\n        });\r\n    });\r\n}\r\n// Get the Augloop global object - window.augLoop\r\nfunction getGlobalAugLoopRuntime(loadDelay) {\r\n    if (loadDelay === void 0) { loadDelay = 100; }\r\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function () {\r\n        var augLoopRuntime, delayLoadTime;\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"])(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    augLoopRuntime = getObjectProperty(window, "augLoop");\r\n                    if (!!augLoopRuntime) return [3 /*break*/, 5];\r\n                    delayLoadTime = Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_2__["getDynamicSetting"])("TulipsAugLoopPackageDelayLoad" /* tulipsAugLoopPackageDelayLoad */, -1);\r\n                    if (!(delayLoadTime > 0)) return [3 /*break*/, 2];\r\n                    // wait for augloop to load after sometime\r\n                    return [4 /*yield*/, sleep(delayLoadTime)];\r\n                case 1:\r\n                    // wait for augloop to load after sometime\r\n                    _a.sent();\r\n                    augLoopRuntime = getObjectProperty(window, "augLoop");\r\n                    return [3 /*break*/, 5];\r\n                case 2: return [4 /*yield*/, getDelayDefinedObjectValue(window, "augLoop")];\r\n                case 3:\r\n                    // Wait for augloop to mount on window\r\n                    augLoopRuntime = _a.sent();\r\n                    if (!(loadDelay > 0)) return [3 /*break*/, 5];\r\n                    return [4 /*yield*/, sleep(loadDelay)];\r\n                case 4:\r\n                    _a.sent();\r\n                    _a.label = 5;\r\n                case 5: return [2 /*return*/, augLoopRuntime];\r\n            }\r\n        });\r\n    });\r\n}\r\nfunction getAugLoopAnnotationData(annotationName, getRuntimeSession, loadDelay) {\r\n    if (loadDelay === void 0) { loadDelay = 100; }\r\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function () {\r\n        var augLoopSession, _a, augLoopRuntime, augLoopSessionPromise;\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"])(this, function (_b) {\r\n            switch (_b.label) {\r\n                case 0:\r\n                    _a = getRuntimeSession;\r\n                    if (!_a) return [3 /*break*/, 2];\r\n                    return [4 /*yield*/, getRuntimeSession()];\r\n                case 1:\r\n                    _a = (_b.sent());\r\n                    _b.label = 2;\r\n                case 2:\r\n                    augLoopSession = _a;\r\n                    if (!!augLoopSession) return [3 /*break*/, 5];\r\n                    return [4 /*yield*/, getGlobalAugLoopRuntime(loadDelay)];\r\n                case 3:\r\n                    augLoopRuntime = _b.sent();\r\n                    if (!augLoopRuntime) {\r\n                        throw new Error("Unable to get AL runtime");\r\n                    }\r\n                    augLoopSessionPromise = window.augLoop.ALFactoryGlobal.getAugLoopRuntimeManager().getSession();\r\n                    if (!augLoopSessionPromise) {\r\n                        throw new Error("Unable to get AL session promise");\r\n                    }\r\n                    return [4 /*yield*/, augLoopSessionPromise];\r\n                case 4:\r\n                    augLoopSession = _b.sent();\r\n                    if (!augLoopSession) {\r\n                        throw new Error("Unable to get AL session");\r\n                    }\r\n                    _b.label = 5;\r\n                case 5: return [2 /*return*/, getAnnotationData(augLoopSession, annotationName)];\r\n            }\r\n        });\r\n    });\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UYXJnZXRlZE1lc3NhZ2luZy9BdWdMb29wSGVscGVyLnRzPzlmMjUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0dBRUc7O0FBRzJFO0FBQ1E7QUFNdEYsU0FBUyxLQUFLLENBQUMsWUFBb0I7SUFDbEMsT0FBTyxJQUFJLE9BQU8sQ0FBTyxpQkFBTztRQUMvQixVQUFVLENBQUMsT0FBTyxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQ25DLENBQUMsQ0FBQyxDQUFDO0FBQ0osQ0FBQztBQUVELFNBQVMsaUJBQWlCLENBQUksWUFBaUIsRUFBRSxZQUFvQjtJQUNwRSxJQUFNLGFBQWEsR0FBRyxZQUFZLElBQUksWUFBWSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ2pFLE9BQU8sQ0FBQyxhQUFhLElBQUksTUFBTSxDQUFDLHdCQUF3QixDQUFDLFlBQVksRUFBRSxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztBQUNuSCxDQUFDO0FBRUQsZ0ZBQWdGO0FBQ2hGLFNBQVMsMEJBQTBCLENBQUksWUFBaUIsRUFBRSxZQUFvQjtJQUM3RSxJQUFJLENBQUMsWUFBWSxFQUFFO1FBQ2xCLE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUM3QjtJQUVELElBQU0sb0JBQW9CLEdBQUcsaUJBQWlCLENBQUksWUFBWSxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQzlFLElBQUksb0JBQW9CLEVBQUU7UUFDekIsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLG9CQUFvQixDQUFDLENBQUM7S0FDN0M7SUFFRCxPQUFPLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBTyxFQUFFLE1BQU07UUFDbEMsSUFBSSxhQUFnQixDQUFDO1FBQ3JCLE1BQU0sQ0FBQyxjQUFjLENBQUMsWUFBWSxFQUFFLFlBQVksRUFB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QixFQUFFO3dCQUMzQixNQUFNLElBQUksS0FBSyxDQUFDLGtDQUFrQyxDQUFDLENBQUM7cUJBQ3BEO29CQUVnQixxQkFBTSxxQkFBcUI7O29CQUE1QyxjQUFjLEdBQUcsU0FBMkIsQ0FBQztvQkFDN0MsSUFBSSxDQUFDLGNBQWMsRUFBRTt3QkFDcEIsTUFBTSxJQUFJLEtBQUssQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO3FCQUM1Qzs7d0JBR0Ysc0JBQU8saUJBQWlCLENBQUMsY0FBYyxFQUFFLGNBQWMsQ0FBQyxFQUFDOzs7O0NBQ3pEIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvVGFyZ2V0ZWRNZXNzYWdpbmcvQXVnTG9vcEhlbHBlci50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiAqIEF1Z0xvb3BIZWxwZXIudHNcclxuICovXHJcblxyXG5pbXBvcnQgeyBJU2Vzc2lvbiB9IGZyb20gXCJAYXVnbG9vcC9ydW50aW1lLWNsaWVudFwiO1xyXG5pbXBvcnQgeyBJT3BlcmF0aW9uLCBJU2NoZW1hT2JqZWN0LCBTY2hlbWFPYmplY3QgfSBmcm9tIFwiQGF1Z2xvb3AvdHlwZXMtY29yZVwiO1xyXG5pbXBvcnQgeyBnZXREeW5hbWljU2V0dGluZywgU2V0dGluZ0tleSB9IGZyb20gXCIuLi9Db25maWd1cmF0aW9uL0R5bmFtaWNDb25maWd1cmF0aW9uXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElBdWdMb29wUmVzcG9uc2UgZXh0ZW5kcyBJU2NoZW1hT2JqZWN0IHtcclxuXHRlcnJvcj86IGFueTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2xlZXAobWlsbGlzZWNvbmRzOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcclxuXHRyZXR1cm4gbmV3IFByb21pc2U8dm9pZD4ocmVzb2x2ZSA9PiB7XHJcblx0XHRzZXRUaW1lb3V0KHJlc29sdmUsIG1pbGxpc2Vjb25kcyk7XHJcblx0fSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldE9iamVjdFByb3BlcnR5PFQ+KHRhcmdldE9iamVjdDogYW55LCBwcm9wZXJ0eU5hbWU6IHN0cmluZyk6IFQge1xyXG5cdGNvbnN0IHByb3BlcnR5VmFsdWUgPSB0YXJnZXRPYmplY3QgJiYgdGFyZ2V0T2JqZWN0W3Byb3BlcnR5TmFtZV07XHJcblx0cmV0dXJuIChwcm9wZXJ0eVZhbHVlIHx8IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0T2JqZWN0LCBwcm9wZXJ0eU5hbWUpKSA/IHByb3BlcnR5VmFsdWUgOiB1bmRlZmluZWQ7XHJcbn1cclxuXHJcbi8vIGxpc3RlbiB0byBwcm9wZXJ0eSBjaGFuZ2Ugb24gdGFyZ2V0T2JqZWN0IGFuZCByZXR1cm4gdGhlIHZhbHVlIHdoZW4gaXQgaXMgc2V0XHJcbmZ1bmN0aW9uIGdldERlbGF5RGVmaW5lZE9iamVjdFZhbHVlPFQ+KHRhcmdldE9iamVjdDogYW55LCBwcm9wZXJ0eU5hbWU6IHN0cmluZyk6IFByb21pc2U8VD4ge1xyXG5cdGlmICghdGFyZ2V0T2JqZWN0KSB7XHJcblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xyXG5cdH1cclxuXHJcblx0Y29uc3QgY3VycmVudFByb3BlcnR5VmFsdWUgPSBnZXRPYmplY3RQcm9wZXJ0eTxUPih0YXJnZXRPYmplY3QsIHByb3BlcnR5TmFtZSk7XHJcblx0aWYgKGN1cnJlbnRQcm9wZXJ0eVZhbHVlKSB7XHJcblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGN1cnJlbnRQcm9wZXJ0eVZhbHVlKTtcclxuXHR9XHJcblxyXG5cdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRsZXQgcHJvcGVydHlWYWx1ZTogVDtcclxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXRPYmplY3QsIHByb3BlcnR5TmFtZSwge1xyXG5cdFx0XHRnZXQ6ICgpID0+IHByb3BlcnR5VmFsdWUsXHJcblx0XHRcdHNldDogKG5ld1ZhbHVlOiBUKSA9PiB7XHJcblx0XHRcdFx0cHJvcGVydHlWYWx1ZSA9IG5ld1ZhbHVlO1xyXG5cdFx0XHRcdHJlc29sdmUocHJvcGVydHlWYWx1ZSk7XHJcblx0XHRcdH0sXHJcblx0XHR9KTtcclxuXHR9KTtcclxufVxyXG5cclxuLy8gSW52b2tlIEFMIGNhbGxzIGFuZCBnZXQgdGhlIGRhdGFcclxuZnVuY3Rpb24gZ2V0QW5ub3RhdGlvbkRhdGEoYXVnTG9vcFNlc3Npb246IElTZXNzaW9uLCBhbm5vdGF0aW9uTmFtZTogc3RyaW5nKTogUHJvbWlzZTxJQXVnTG9vcFJlc3BvbnNlPiB7XHJcblx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdGF1Z0xvb3BTZXNzaW9uLmFjdGl2YXRlQW5ub3RhdGlvbihhbm5vdGF0aW9uTmFtZSwge1xyXG5cdFx0XHRjYWxsYmFjazogKG9wZXJhdGlvbjogSU9wZXJhdGlvbikgPT4ge1xyXG5cdFx0XHRcdHRyeSB7XHJcblx0XHRcdFx0XHRjb25zdCBvcGVyYXRpb25JdGVtcyA9IG9wZXJhdGlvbiAmJiBvcGVyYXRpb24uaXRlbXMgPyBvcGVyYXRpb24uaXRlbXMgOiBbXTtcclxuXHRcdFx0XHRcdGNvbnN0IHNjaGVtYU9iamVjdHMgPSBvcGVyYXRpb25JdGVtcy5maWx0ZXIoaXRlbSA9PiBhbm5vdGF0aW9uTmFtZSA9PT0gU2NoZW1hT2JqZWN0LmdldFR5cGVOYW1lRm9yKGl0ZW0uYm9keSkpO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZShzY2hlbWFPYmplY3RzICYmIHNjaGVtYU9iamVjdHNbMF0gJiYgc2NoZW1hT2JqZWN0c1swXS5ib2R5KTtcclxuXHRcdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdFx0cmVzb2x2ZSh7ZXJyb3I6IGVycm9yfSBhcyBhbnkpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSxcclxuXHRcdH0pO1xyXG5cdH0pO1xyXG59XHJcblxyXG4vLyBHZXQgdGhlIEF1Z2xvb3AgZ2xvYmFsIG9iamVjdCAtIHdpbmRvdy5hdWdMb29wXHJcbmFzeW5jIGZ1bmN0aW9uIGdldEdsb2JhbEF1Z0xvb3BSdW50aW1lKGxvYWREZWxheSA9IDEwMCkge1xyXG5cdC8vIHRyeSB0byBnZXQgdGhlIGF1Z2xvb3AgZ2xvYmFsIHJ1bnRpbWUgd2luZG93LmF1Z0xvb3BcclxuXHRsZXQgYXVnTG9vcFJ1bnRpbWUgPSBnZXRPYmplY3RQcm9wZXJ0eSh3aW5kb3csIFwiYXVnTG9vcFwiKTtcclxuXHRpZiAoIWF1Z0xvb3BSdW50aW1lKSB7XHJcblx0XHRjb25zdCBkZWxheUxvYWRUaW1lID0gZ2V0RHluYW1pY1NldHRpbmcoU2V0dGluZ0tleS50dWxpcHNBdWdMb29wUGFja2FnZURlbGF5TG9hZCwgLTEpO1xyXG5cdFx0aWYgKGRlbGF5TG9hZFRpbWUgPiAwKSB7XHJcblx0XHRcdC8vIHdhaXQgZm9yIGF1Z2xvb3AgdG8gbG9hZCBhZnRlciBzb21ldGltZVxyXG5cdFx0XHRhd2FpdCBzbGVlcChkZWxheUxvYWRUaW1lKTtcclxuXHRcdFx0YXVnTG9vcFJ1bnRpbWUgPSBnZXRPYmplY3RQcm9wZXJ0eSh3aW5kb3csIFwiYXVnTG9vcFwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIFdhaXQgZm9yIGF1Z2xvb3AgdG8gbW91bnQgb24gd2luZG93XHJcblx0XHRcdGF1Z0xvb3BSdW50aW1lID0gYXdhaXQgZ2V0RGVsYXlEZWZpbmVkT2JqZWN0VmFsdWUod2luZG93LCBcImF1Z0xvb3BcIik7XHJcblx0XHRcdGlmIChsb2FkRGVsYXkgPiAwKSB7XHJcblx0XHRcdFx0YXdhaXQgc2xlZXAobG9hZERlbGF5KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmV0dXJuIGF1Z0xvb3BSdW50aW1lO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXVnTG9vcEFubm90YXRpb25EYXRhKFxyXG5cdGFubm90YXRpb25OYW1lOiBzdHJpbmcsXHJcblx0Z2V0UnVudGltZVNlc3Npb24/OiAoKSA9PiBQcm9taXNlPElTZXNzaW9uPixcclxuXHRsb2FkRGVsYXkgPSAxMDApOiBQcm9taXNlPElTY2hlbWFPYmplY3Q+IHtcclxuXHRsZXQgYXVnTG9vcFNlc3Npb24gPSBnZXRSdW50aW1lU2Vzc2lvbiAmJiBhd2FpdCBnZXRSdW50aW1lU2Vzc2lvbigpO1xyXG5cdGlmICghYXVnTG9vcFNlc3Npb24pIHtcclxuXHRcdGNvbnN0IGF1Z0xvb3BSdW50aW1lID0gYXdhaXQgZ2V0R2xvYmFsQXVnTG9vcFJ1bnRpbWUobG9hZERlbGF5KTtcclxuXHRcdGlmICghYXVnTG9vcFJ1bnRpbWUpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGdldCBBTCBydW50aW1lXCIpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGF1Z0xvb3BTZXNzaW9uUHJvbWlzZSA9ICh3aW5kb3cgYXMgYW55KS5hdWdMb29wLkFMRmFjdG9yeUdsb2JhbC5nZXRBdWdMb29wUnVudGltZU1hbmFnZXIoKS5nZXRTZXNzaW9uKCkgYXMgUHJvbWlzZTxJU2Vzc2lvbj47XHJcblx0XHRpZiAoIWF1Z0xvb3BTZXNzaW9uUHJvbWlzZSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZ2V0IEFMIHNlc3Npb24gcHJvbWlzZVwiKTtcclxuXHRcdH1cclxuXHJcblx0XHRhdWdMb29wU2Vzc2lvbiA9IGF3YWl0IGF1Z0xvb3BTZXNzaW9uUHJvbWlzZTtcclxuXHRcdGlmICghYXVnTG9vcFNlc3Npb24pIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGdldCBBTCBzZXNzaW9uXCIpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmV0dXJuIGdldEFubm90YXRpb25EYXRhKGF1Z0xvb3BTZXNzaW9uLCBhbm5vdGF0aW9uTmFtZSk7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/TargetedMessaging/AugLoopHelper.ts\n')},"./scripts/app/TargetedMessaging/TargetedMessagingCache.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TargetedMessagingCache", function() { return TargetedMessagingCache; });\n/* harmony import */ var _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FloodgateCore/FloodgateStorageProvider */ "./scripts/app/FloodgateCore/FloodgateStorageProvider.ts");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Utils */ "./scripts/app/Utils.ts");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Api/IFloodgateStorageProvider */ "../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_2__);\n\r\n\r\n\r\nvar isNOU = _Utils__WEBPACK_IMPORTED_MODULE_1__["isNOU"];\r\nvar TargetedMessagingCache = /** @class */ (function () {\r\n    function TargetedMessagingCache(items) {\r\n        this.useLocalStorage = false;\r\n        this.cachedItems = {};\r\n        this.initialize(items);\r\n    }\r\n    TargetedMessagingCache.prototype.setContentItem = function (contentType, content, expiryTime) {\r\n        var cacheItem = this.createItem(contentType, content, expiryTime);\r\n        this.setItem(cacheItem);\r\n        return cacheItem;\r\n    };\r\n    TargetedMessagingCache.prototype.getItemContent = function (contentType) {\r\n        var cacheItem = this.getItem(contentType);\r\n        return cacheItem && cacheItem.content;\r\n    };\r\n    TargetedMessagingCache.prototype.has = function (contentType) {\r\n        return contentType in this.cachedItems;\r\n    };\r\n    TargetedMessagingCache.prototype.isItemExpired = function (contentType) {\r\n        var cacheItem = this.getItem(contentType);\r\n        return !cacheItem\r\n            || !cacheItem.expiryDate\r\n            || cacheItem.expiryDate < new Date();\r\n    };\r\n    TargetedMessagingCache.prototype.createItem = function (contentType, content, expiryTime) {\r\n        var cacheItem = {\r\n            contentType: contentType,\r\n            content: content,\r\n            expiryDate: new Date(Date.now() + expiryTime),\r\n            lastRetrievedDate: new Date(),\r\n        };\r\n        return cacheItem;\r\n    };\r\n    TargetedMessagingCache.prototype.setItem = function (cacheItem) {\r\n        this.cachedItems[cacheItem.contentType] = cacheItem;\r\n        this.updateItemInLocalStorage(cacheItem);\r\n    };\r\n    TargetedMessagingCache.prototype.getItem = function (contentType) {\r\n        return this.cachedItems[contentType];\r\n    };\r\n    TargetedMessagingCache.prototype.initialize = function (items) {\r\n        this.cachedItems = {};\r\n        if (_FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_0__["default"].isStorageAvailable()) {\r\n            this.floodgateStorage = new _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_0__["default"]();\r\n            this.useLocalStorage = true;\r\n            // try to fetch items from local storage if available from prior sessions\r\n            this.initCachedItemsFromLocalStorage(items);\r\n        }\r\n        else {\r\n            // no LocalStorage support, only active object cache only\r\n        }\r\n    };\r\n    TargetedMessagingCache.prototype.initCachedItemsFromLocalStorage = function (items) {\r\n        if (this.useLocalStorage) {\r\n            if (!isNOU(items)) {\r\n                for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\r\n                    var contentKey = items_1[_i];\r\n                    var tempStorageItem = this.floodgateStorage.read(this.mapContentTypeToFloodgateProviderKey(contentKey));\r\n                    if (!isNOU(tempStorageItem)) {\r\n                        var tempCacheItem = this.parseObjectFromCache(tempStorageItem);\r\n                        if (!isNOU(tempCacheItem)) {\r\n                            tempCacheItem.expiryDate = typeof tempCacheItem.expiryDate === "string" ?\r\n                                new Date(tempCacheItem.expiryDate) : tempCacheItem.expiryDate;\r\n                            this.cachedItems[tempCacheItem.contentType] = tempCacheItem;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    TargetedMessagingCache.prototype.updateItemInLocalStorage = function (cacheItem) {\r\n        if (this.useLocalStorage) {\r\n            this.floodgateStorage.write(this.mapContentTypeToFloodgateProviderKey(cacheItem.contentType), JSON.stringify(cacheItem));\r\n        }\r\n    };\r\n    TargetedMessagingCache.prototype.parseObjectFromCache = function (tempItem) {\r\n        try {\r\n            var tempCacheItem = JSON.parse(tempItem);\r\n            return tempCacheItem;\r\n        }\r\n        catch (e) {\r\n            return null;\r\n        }\r\n    };\r\n    TargetedMessagingCache.prototype.mapContentTypeToFloodgateProviderKey = function (contentType) {\r\n        switch (contentType) {\r\n            case "CampaignContent" /* campaignContent */:\r\n                return _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_2__["FileType"].TmsCache_CampaignContent;\r\n            case "MessageMetadata" /* messageMetadata */:\r\n                return _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_2__["FileType"].TmsCache_MessageMetadata;\r\n            case "UserGovernance" /* userGovernanceRules */:\r\n                return _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_2__["FileType"].TmsCache_UserGovernance;\r\n            case "DynamicSettings" /* dynamicSettings */:\r\n                return _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_2__["FileType"].Tms_DynamicSettings;\r\n            case "LogLevelSettings" /* logLevelSettings */:\r\n                return _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_2__["FileType"].LogLevelSettings;\r\n            case "UserFacts" /* userFacts */:\r\n                return _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_2__["FileType"].UserFacts;\r\n            default:\r\n                throw new Error("Unmapped ContentType in TmsCache");\r\n        }\r\n    };\r\n    return TargetedMessagingCache;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UYXJnZXRlZE1lc3NhZ2luZy9UYXJnZXRlZE1lc3NhZ2luZ0NhY2hlLnRzP2I5YjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQWlGO0FBQy9DO0FBQzREO0FBRXRGLFNBQUssR0FBSyw0Q0FBTCxDQUFXO0FBU3hCO0lBS0MsZ0NBQVksS0FBeUI7UUFKN0Isb0JBQWUsR0FBWSxLQUFLLENBQUM7UUFDakMsZ0JBQVcsR0FBa0MsRUFBRSxDQUFDO1FBSXZELElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDeEIsQ0FBQztJQUVNLCtDQUFjLEdBQXJCLFVBQXNCLFdBQXdCLEVBQUUsT0FBWSxFQUFFLFVBQWtCO1FBQy9FLElBQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxFQUFFLE9BQU8sRUFBRSxVQUFVLENBQUMsQ0FBQztRQUNwRSxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3hCLE9BQU8sU0FBUyxDQUFDO0lBQ2xCLENBQUM7SUFFTSwrQ0FBYyxHQUFyQixVQUF5QixXQUF3QjtRQUNoRCxJQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzVDLE9BQU8sU0FBUyxJQUFJLFNBQVMsQ0FBQyxPQUFPLENBQUM7SUFDdkMsQ0FBQztJQUVNLG9DQUFHLEdBQVYsVUFBVyxXQUF3QjtRQUNsQyxPQUFPLFdBQVcsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDO0lBQ3hDLENBQUM7SUFFTSw4Q0FBYSxHQUFwQixVQUFxQixXQUF3QjtRQUM1QyxJQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzVDLE9BQU8sQ0FBQyxTQUFTO2VBQ2IsQ0FBQyxTQUFTLENBQUMsVUFBVTtlQUNyQixTQUFTLENBQUMsVUFBVSxHQUFH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QztTQUNaO0lBQ0YsQ0FBQztJQUVPLHFFQUFvQyxHQUE1QyxVQUE2QyxXQUF3QjtRQUNwRSxRQUFRLFdBQVcsRUFBRTtZQUNwQjtnQkFDQyxPQUFPLDJHQUFRLENBQUMsd0JBQXdCLENBQUM7WUFDMUM7Z0JBQ0MsT0FBTywyR0FBUSxDQUFDLHdCQUF3QixDQUFDO1lBQzFDO2dCQUNDLE9BQU8sMkdBQVEsQ0FBQyx1QkFBdUIsQ0FBQztZQUN6QztnQkFDQyxPQUFPLDJHQUFRLENBQUMsbUJBQW1CLENBQUM7WUFDckM7Z0JBQ0MsT0FBTywyR0FBUSxDQUFDLGdCQUFnQixDQUFDO1lBQ2xDO2dCQUNDLE9BQU8sMkdBQVEsQ0FBQyxTQUFTLENBQUM7WUFDM0I7Z0JBQ0MsTUFBTSxJQUFJLEtBQUssQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDO1NBQ3JEO0lBQ0YsQ0FBQztJQUNGLDZCQUFDO0FBQUQsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1RhcmdldGVkTWVzc2FnaW5nL1RhcmdldGVkTWVzc2FnaW5nQ2FjaGUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb250ZW50VHlwZSB9IGZyb20gXCIuL1RhcmdldGVkTWVzc2FnaW5nQ29udGVudFR5cGVcIjtcclxuaW1wb3J0IEZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlciBmcm9tIFwiLi4vRmxvb2RnYXRlQ29yZS9GbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXJcIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4uL1V0aWxzXCI7XHJcbmltcG9ydCB7IEZpbGVUeXBlIH0gZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9BcGkvSUZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlclwiO1xyXG5cclxuY29uc3QgeyBpc05PVSB9ID0gVXRpbHM7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElDYWNoZUl0ZW0ge1xyXG5cdGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZTtcclxuXHRjb250ZW50OiBhbnk7XHJcblx0ZXhwaXJ5RGF0ZTogRGF0ZTtcclxuXHRsYXN0UmV0cmlldmVkRGF0ZTogRGF0ZTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFRhcmdldGVkTWVzc2FnaW5nQ2FjaGUge1xyXG5cdHByaXZhdGUgdXNlTG9jYWxTdG9yYWdlOiBib29sZWFuID0gZmFsc2U7XHJcblx0cHJpdmF0ZSBjYWNoZWRJdGVtczogeyBba2V5OiBzdHJpbmddOiBJQ2FjaGVJdGVtIH0gPSB7fTtcclxuXHRwcml2YXRlIGZsb29kZ2F0ZVN0b3JhZ2U6IEZsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlcjtcclxuXHJcblx0Y29uc3RydWN0b3IoaXRlbXM6IEFycmF5PENvbnRlbnRUeXBlPikge1xyXG5cdFx0dGhpcy5pbml0aWFsaXplKGl0ZW1zKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRDb250ZW50SXRlbShjb250ZW50VHlwZTogQ29udGVudFR5cGUsIGNvbnRlbnQ6IGFueSwgZXhwaXJ5VGltZTogbnVtYmVyKTogSUNhY2hlSXRlbSB7XHJcblx0XHRjb25zdCBjYWNoZUl0ZW0gPSB0aGlzLmNyZWF0ZUl0ZW0oY29udGVudFR5cGUsIGNvbnRlbnQsIGV4cGlyeVRpbWUpO1xyXG5cdFx0dGhpcy5zZXRJdGVtKGNhY2hlSXRlbSk7XHJcblx0XHRyZXR1cm4gY2FjaGVJdGVtO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldEl0ZW1Db250ZW50PFQ+KGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZSk6IFQge1xyXG5cdFx0Y29uc3QgY2FjaGVJdGVtID0gdGhpcy5nZXRJdGVtKGNvbnRlbnRUeXBlKTtcclxuXHRcdHJldHVybiBjYWNoZUl0ZW0gJiYgY2FjaGVJdGVtLmNvbnRlbnQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgaGFzKGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZSk6IGJvb2xlYW4ge1xyXG5cdFx0cmV0dXJuIGNvbnRlbnRUeXBlIGluIHRoaXMuY2FjaGVkSXRlbXM7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgaXNJdGVtRXhwaXJlZChjb250ZW50VHlwZTogQ29udGVudFR5cGUpOiBib29sZWFuIHtcclxuXHRcdGNvbnN0IGNhY2hlSXRlbSA9IHRoaXMuZ2V0SXRlbShjb250ZW50VHlwZSk7XHJcblx0XHRyZXR1cm4gIWNhY2hlSXRlbVxyXG5cdFx0XHR8fCAhY2FjaGVJdGVtLmV4cGlyeURhdGVcclxuXHRcdFx0fHwgY2FjaGVJdGVtLmV4cGlyeURhdGUgPCBuZXcgRGF0ZSgpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBjcmVhdGVJdGVtKGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZSwgY29udGVudDogYW55LCBleHBpcnlUaW1lOiBudW1iZXIpOiBJQ2FjaGVJdGVtIHtcclxuXHRcdGNvbnN0IGNhY2hlSXRlbTogSUNhY2hlSXRlbSA9IHtcclxuXHRcdFx0Y29udGVudFR5cGUsXHJcblx0XHRcdGNvbnRlbnQsXHJcblx0XHRcdGV4cGlyeURhdGU6ICBuZXcgRGF0ZShEYXRlLm5vdygpICsgZXhwaXJ5VGltZSksXHJcblx0XHRcdGxhc3RSZXRyaWV2ZWREYXRlOiBuZXcgRGF0ZSgpLFxyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4gY2FjaGVJdGVtO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBzZXRJdGVtKGNhY2hlSXRlbTogSUNhY2hlSXRlbSk6IHZvaWQge1xyXG5cdFx0dGhpcy5jYWNoZWRJdGVtc1tjYWNoZUl0ZW0uY29udGVudFR5cGVdID0gY2FjaGVJdGVtO1xyXG5cdFx0dGhpcy51cGRhdGVJdGVtSW5Mb2NhbFN0b3JhZ2UoY2FjaGVJdGVtKTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgZ2V0SXRlbShjb250ZW50VHlwZTogQ29udGVudFR5cGUpOiBJQ2FjaGVJdGVtIHtcclxuXHRcdHJldHVybiB0aGlzLmNhY2hlZEl0ZW1zW2NvbnRlbnRUeXBlXTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgaW5pdGlhbGl6ZShpdGVtczogQXJyYXk8Q29udGVudFR5cGU+KTogdm9pZCB7XHJcblx0XHR0aGlzLmNhY2hlZEl0ZW1zID0ge307XHJcblx0XHRpZiAoRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLmlzU3RvcmFnZUF2YWlsYWJsZSgpKSB7XHJcblx0XHRcdHRoaXMuZmxvb2RnYXRlU3RvcmFnZSA9IG5ldyBGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIoKTtcclxuXHRcdFx0dGhpcy51c2VMb2NhbFN0b3JhZ2UgPSB0cnVlO1xyXG5cclxuXHRcdFx0Ly8gdHJ5IHRvIGZldGNoIGl0ZW1zIGZyb20gbG9jYWwgc3RvcmFnZSBpZiBhdmFpbGFibGUgZnJvbSBwcmlvciBzZXNzaW9uc1xyXG5cdFx0XHR0aGlzLmluaXRDYWNoZWRJdGVtc0Zyb21Mb2NhbFN0b3JhZ2UoaXRlbXMpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gbm8gTG9jYWxTdG9yYWdlIHN1cHBvcnQsIG9ubHkgYWN0aXZlIG9iamVjdCBjYWNoZSBvbmx5XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGluaXRDYWNoZWRJdGVtc0Zyb21Mb2NhbFN0b3JhZ2UoaXRlbXM6IEFycmF5PENvbnRlbnRUeXBlPik6IHZvaWQge1xyXG5cdFx0aWYgKHRoaXMudXNlTG9jYWxTdG9yYWdlKSB7XHJcblx0XHRcdGlmICghaXNOT1UoaXRlbXMpKSB7XHJcblx0XHRcdFx0Zm9yIChsZXQgY29udGVudEtleSBvZiBpdGVtcykge1xyXG5cdFx0XHRcdFx0bGV0IHRlbXBTdG9yYWdlSXRlbTogc3RyaW5nID0gdGhpcy5mbG9vZGdhdGVTdG9yYWdlLnJlYWQodGhpcy5tYXBDb250ZW50VHlwZVRvRmxvb2RnYXRlUHJvdmlkZXJLZXkoY29udGVudEtleSkpO1xyXG5cdFx0XHRcdFx0aWYgKCFpc05PVSh0ZW1wU3RvcmFnZUl0ZW0pKSB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHRlbXBDYWNoZUl0ZW06IElDYWNoZUl0ZW0gPSB0aGlzLnBhcnNlT2JqZWN0RnJvbUNhY2hlKHRlbXBTdG9yYWdlSXRlbSk7XHJcblx0XHRcdFx0XHRcdGlmICghaXNOT1UodGVtcENhY2hlSXRlbSkpIHtcclxuXHRcdFx0XHRcdFx0XHR0ZW1wQ2FjaGVJdGVtLmV4cGlyeURhdGUgPSB0eXBlb2YgdGVtcENhY2hlSXRlbS5leHBpcnlEYXRlID09PSBcInN0cmluZ1wiID9cclxuXHRcdFx0XHRcdFx0XHRcdG5ldyBEYXRlKHRlbXBDYWNoZUl0ZW0uZXhwaXJ5RGF0ZSkgOiB0ZW1wQ2FjaGVJdGVtLmV4cGlyeURhdGU7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5jYWNoZWRJdGVtc1t0ZW1wQ2FjaGVJdGVtLmNvbnRlbnRUeXBlXSA9IHRlbXBDYWNoZUl0ZW07XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgdXBkYXRlSXRlbUluTG9jYWxTdG9yYWdlKGNhY2hlSXRlbTogSUNhY2hlSXRlbSk6IHZvaWQge1xyXG5cdFx0aWYgKHRoaXMudXNlTG9jYWxTdG9yYWdlKSB7XHJcblx0XHRcdHRoaXMuZmxvb2RnYXRlU3RvcmFnZS53cml0ZShcclxuXHRcdFx0XHR0aGlzLm1hcENvbnRlbnRUeXBlVG9GbG9vZGdhdGVQcm92aWRlcktleShjYWNoZUl0ZW0uY29udGVudFR5cGUpLFxyXG5cdFx0XHRcdEpTT04uc3RyaW5naWZ5KGNhY2hlSXRlbSkpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBwYXJzZU9iamVjdEZyb21DYWNoZSh0ZW1wSXRlbTogc3RyaW5nKTogSUNhY2hlSXRlbSB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRjb25zdCB0ZW1wQ2FjaGVJdGVtOiBJQ2FjaGVJdGVtID0gSlNPTi5wYXJzZSh0ZW1wSXRlbSk7XHJcblx0XHRcdHJldHVybiB0ZW1wQ2FjaGVJdGVtO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgbWFwQ29udGVudFR5cGVUb0Zsb29kZ2F0ZVByb3ZpZGVyS2V5KGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZSk6IEZpbGVUeXBlIHtcclxuXHRcdHN3aXRjaCAoY29udGVudFR5cGUpIHtcclxuXHRcdFx0Y2FzZSBDb250ZW50VHlwZS5jYW1wYWlnbkNvbnRlbnQ6XHJcblx0XHRcdFx0cmV0dXJuIEZpbGVUeXBlLlRtc0NhY2hlX0NhbXBhaWduQ29udGVudDtcclxuXHRcdFx0Y2FzZSBDb250ZW50VHlwZS5tZXNzYWdlTWV0YWRhdGE6XHJcblx0XHRcdFx0cmV0dXJuIEZpbGVUeXBlLlRtc0NhY2hlX01lc3NhZ2VNZXRhZGF0YTtcclxuXHRcdFx0Y2FzZSBDb250ZW50VHlwZS51c2VyR292ZXJuYW5jZVJ1bGVzOlxyXG5cdFx0XHRcdHJldHVybiBGaWxlVHlwZS5UbXNDYWNoZV9Vc2VyR292ZXJuYW5jZTtcclxuXHRcdFx0Y2FzZSBDb250ZW50VHlwZS5keW5hbWljU2V0dGluZ3M6XHJcblx0XHRcdFx0cmV0dXJuIEZpbGVUeXBlLlRtc19EeW5hbWljU2V0dGluZ3M7XHJcblx0XHRcdGNhc2UgQ29udGVudFR5cGUubG9nTGV2ZWxTZXR0aW5nczpcclxuXHRcdFx0XHRyZXR1cm4gRmlsZVR5cGUuTG9nTGV2ZWxTZXR0aW5ncztcclxuXHRcdFx0Y2FzZSBDb250ZW50VHlwZS51c2VyRmFjdHM6XHJcblx0XHRcdFx0cmV0dXJuIEZpbGVUeXBlLlVzZXJGYWN0cztcclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbm1hcHBlZCBDb250ZW50VHlwZSBpbiBUbXNDYWNoZVwiKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/TargetedMessaging/TargetedMessagingCache.ts\n')},"./scripts/app/TargetedMessaging/TargetedMessagingCampaignDefinitionProvider.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TargetedMessagingCampaignDefinitionProvider", function() { return TargetedMessagingCampaignDefinitionProvider; });\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Campaign_CampaignDefinitionProvider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Campaign/CampaignDefinitionProvider */ "../FloodgateCore/dist/src/Campaign/CampaignDefinitionProvider.js");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Campaign_CampaignDefinitionProvider__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Campaign_CampaignDefinitionProvider__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Configuration/DynamicConfiguration */ "./scripts/app/Configuration/DynamicConfiguration.ts");\n/* harmony import */ var _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TargetedMessagingConstants */ "./scripts/app/TargetedMessaging/TargetedMessagingConstants.ts");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Utils */ "./scripts/app/Utils.ts");\n/* harmony import */ var _AssetsProvider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AssetsProvider */ "./scripts/app/TargetedMessaging/AssetsProvider.ts");\n/**\r\n * TargetedMessagingProvider.ts\r\n *\r\n * Module for targeted messaging campaign definition provider.\r\n */\r\n\r\n\r\n\r\n\r\n\r\nvar TargetedMessagingCampaignDefinitionProvider = /** @class */ (function () {\r\n    function TargetedMessagingCampaignDefinitionProvider() {\r\n        this.loadAsyncTriggered = false;\r\n        this.campaignDefinitions = [];\r\n    }\r\n    TargetedMessagingCampaignDefinitionProvider.prototype.load = function () {\r\n        if (!this.loadAsyncTriggered) {\r\n            this.loadAsync();\r\n            this.loadAsyncTriggered = true;\r\n        }\r\n        return this.campaignDefinitions || [];\r\n    };\r\n    TargetedMessagingCampaignDefinitionProvider.prototype.loadAsync = function () {\r\n        var thisObj = this;\r\n        var campaignDefinitionsPromise = _AssetsProvider__WEBPACK_IMPORTED_MODULE_4__["get"]().getCampaignDefinitions();\r\n        campaignDefinitionsPromise.then(function (response) {\r\n            thisObj.loadCampaignDefinitions(response);\r\n            thisObj.loadAsyncTriggered = true;\r\n        });\r\n        var timeoutMilliseconds = Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_1__["getDynamicSetting"])("TmsLoadTimeout" /* tmsLoadTimeout */, _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_2__["TMS_CAMPAIGN_LOAD_TIMEOUT"]);\r\n        var timeoutPromise = Object(_Utils__WEBPACK_IMPORTED_MODULE_3__["createTimeoutPromise"])(timeoutMilliseconds, campaignDefinitionsPromise);\r\n        return new Promise(function (resolve, reject) {\r\n            timeoutPromise.then(function onFulfilled(response) {\r\n                thisObj.loadCampaignDefinitions(response);\r\n                thisObj.loadAsyncTriggered = true;\r\n                resolve(thisObj.campaignDefinitions);\r\n            }).catch(\r\n            // might have timed out or getCampaignDefinitions might have failed\r\n            // In either case we log and return resolve\r\n            function onRejected(error) {\r\n                resolve(thisObj.campaignDefinitions);\r\n            });\r\n        });\r\n    };\r\n    TargetedMessagingCampaignDefinitionProvider.prototype.loadCampaignDefinitions = function (response) {\r\n        var definitions = response && response.campaigns;\r\n        if (definitions) {\r\n            this.campaignDefinitions = Object(_ms_ofb_officefloodgatecore_dist_src_Campaign_CampaignDefinitionProvider__WEBPACK_IMPORTED_MODULE_0__["FilterValidCampaignDefinitions"])(definitions).result;\r\n        }\r\n    };\r\n    return TargetedMessagingCampaignDefinitionProvider;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UYXJnZXRlZE1lc3NhZ2luZy9UYXJnZXRlZE1lc3NhZ2luZ0NhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyLnRzPzVmNmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0dBSUc7QUFLeUU7QUFDVTtBQUNiO0FBQ3pCO0FBRUc7QUFFbkQ7SUFBQTtRQUNTLHVCQUFrQixHQUFZLEtBQUssQ0FBQztRQUNwQyx3QkFBbUIsR0FBNkIsRUFBRSxDQUFDO0lBNEM1RCxDQUFDO0lBMUNPLDBEQUFJLEdBQVg7UUFDQyxJQUFJLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFO1lBQzdCLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUNqQixJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDO1NBQy9CO1FBRUQsT0FBTyxJQUFJLENBQUMsbUJBQW1CLElBQUksRUFBRSxDQUFDO0lBQ3ZDLENBQUM7SUFFTSwrREFBUyxHQUFoQjtRQUNDLElBQU0sT0FBTyxHQUFHLElBQUksQ0FBQztRQUNyQixJQUFNLDBCQUEwQixHQUFHLG1EQUFrQixFQUFFLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztRQUNqRiwwQkFBMEIsQ0FBQyxJQUFJLENBQUMsVUFBQyxRQUFRO1lBQ3hDLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUMxQyxPQUFPLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDO1FBQ25DLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBTSxtQkFBbUIsR0FBRyw2RkFBaUIsd0NBQTRCLHFGQUF5QixDQUFDLENBQUM7UUFDcEcsSUFBTSxjQUFjLEdBQUcsbUVBQW9CLENBQUMsbUJBQW1CLEVBQUUsMEJBQTBCLENBQUMsQ0FBQztRQUM3RixPQUFPLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBTyxFQUFFLE1BQU07WUFDbEMsY0FBYyxDQUFDLElBQUksQ0FDbEIsU0FBUyxXQUFXLENBQUMsUUFBUTtnQkFDNUIsT0FBTyxDQUFDLHVCQUF1QixDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUMxQyxPQUFPLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDO2dCQUNsQyxPQUFPLENBQUMsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDdEMsQ0FBQyxDQUNELENBQUMsS0FBSztZQUNOLG1FQUFtRTtZQUNuRSwyQ0FBMkM7WUFDM0MsU0FBUyxVQUFVLENBQUMsS0FBSztnQkFDeEIsT0FBTyxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1lBQ3RDLENBQUMsQ0FDRCxDQUFDO1FBQ0gsQ0FBQyxDQUFDLENBQUM7SUFDSixDQUFDO0lBRU8sNkVBQXVCLEdBQS9CLFVBQWdDLFFBQTZCO1FBQzVELElBQU0sV0FBVyxHQUFHLFFBQVEsSUFBSSxRQUFRLENBQUMsU0FBUyxDQUFDO1FBQ25ELElBQUksV0FBVyxFQUFFO1lBQ2hCLElBQUksQ0FBQyxtQkFBbUIsR0FBRywrSUFBOEIsQ0FBQyxXQUFXLENBQUMsQ0FBQyxNQUFNLENBQUM7U0FDOUU7SUFDRixDQUFDO0lBQ0Ysa0RBQUM7QUFBRCxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvVGFyZ2V0ZWRNZXNzYWdpbmcvVGFyZ2V0ZWRNZXNzYWdpbmdDYW1wYWlnbkRlZmluaXRpb25Qcm92aWRlci50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBUYXJnZXRlZE1lc3NhZ2luZ1Byb3ZpZGVyLnRzXHJcbiAqXHJcbiAqIE1vZHVsZSBmb3IgdGFyZ2V0ZWQgbWVzc2FnaW5nIGNhbXBhaWduIGRlZmluaXRpb24gcHJvdmlkZXIuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQXBpIH0gZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZVwiO1xyXG5pbXBvcnQgeyBDYW1wYWlnbkRlZmluaXRpb25zIH0gZnJvbSBcIkBtcy1vZmIvb2ZmaWNlZmxvb2RnYXRlY29yZS9kaXN0L3NyYy9Hb3Zlcm5hbmNlL0NhbXBhaWduRGVmaW5pdGlvbnNcIjtcclxuaW1wb3J0IHsgRmlsdGVyVmFsaWRDYW1wYWlnbkRlZmluaXRpb25zIH0gZnJvbVxyXG5cdFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0NhbXBhaWduL0NhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyXCI7XHJcbmltcG9ydCB7IGdldER5bmFtaWNTZXR0aW5nLCBTZXR0aW5nS2V5IH0gZnJvbSBcIi4uL0NvbmZpZ3VyYXRpb24vRHluYW1pY0NvbmZpZ3VyYXRpb25cIjtcclxuaW1wb3J0IHsgVE1TX0NBTVBBSUdOX0xPQURfVElNRU9VVCB9IGZyb20gXCIuL1RhcmdldGVkTWVzc2FnaW5nQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVRpbWVvdXRQcm9taXNlIH0gZnJvbSBcIi4uL1V0aWxzXCI7XHJcblxyXG5pbXBvcnQgKiBhcyBBc3NldHNQcm92aWRlciBmcm9tIFwiLi9Bc3NldHNQcm92aWRlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRhcmdldGVkTWVzc2FnaW5nQ2FtcGFpZ25EZWZpbml0aW9uUHJvdmlkZXIgaW1wbGVtZW50cyBBcGkuSUNhbXBhaWduRGVmaW5pdGlvblByb3ZpZGVyIHtcclxuXHRwcml2YXRlIGxvYWRBc3luY1RyaWdnZXJlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cdHByaXZhdGUgY2FtcGFpZ25EZWZpbml0aW9uczogQXBpLkNhbXBhaWduRGVmaW5pdGlvbltdID0gW107XHJcblxyXG5cdHB1YmxpYyBsb2FkKCk6IEFwaS5DYW1wYWlnbkRlZmluaXRpb25bXSB7XHJcblx0XHRpZiAoIXRoaXMubG9hZEFzeW5jVHJpZ2dlcmVkKSB7XHJcblx0XHRcdHRoaXMubG9hZEFzeW5jKCk7XHJcblx0XHRcdHRoaXMubG9hZEFzeW5jVHJpZ2dlcmVkID0gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy5jYW1wYWlnbkRlZmluaXRpb25zIHx8IFtdO1xyXG5cdH1cclxuXHJcblx0cHVibGljIGxvYWRBc3luYygpOiBQcm9taXNlPEFwaS5DYW1wYWlnbkRlZmluaXRpb25bXT4ge1xyXG5cdFx0Y29uc3QgdGhpc09iaiA9IHRoaXM7XHJcblx0XHRjb25zdCBjYW1wYWlnbkRlZmluaXRpb25zUHJvbWlzZSA9IEFzc2V0c1Byb3ZpZGVyLmdldCgpLmdldENhbXBhaWduRGVmaW5pdGlvbnMoKTtcclxuXHRcdGNhbXBhaWduRGVmaW5pdGlvbnNQcm9taXNlLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcblx0XHRcdHRoaXNPYmoubG9hZENhbXBhaWduRGVmaW5pdGlvbnMocmVzcG9uc2UpO1xyXG5cdFx0XHR0aGlzT2JqLmxvYWRBc3luY1RyaWdnZXJlZCA9IHRydWU7XHJcblx0XHR9KTtcclxuXHJcblx0XHRjb25zdCB0aW1lb3V0TWlsbGlzZWNvbmRzID0gZ2V0RHluYW1pY1NldHRpbmcoU2V0dGluZ0tleS50bXNMb2FkVGltZW91dCwgVE1TX0NBTVBBSUdOX0xPQURfVElNRU9VVCk7XHJcblx0XHRjb25zdCB0aW1lb3V0UHJvbWlzZSA9IGNyZWF0ZVRpbWVvdXRQcm9taXNlKHRpbWVvdXRNaWxsaXNlY29uZHMsIGNhbXBhaWduRGVmaW5pdGlvbnNQcm9taXNlKTtcclxuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdHRpbWVvdXRQcm9taXNlLnRoZW4oXHJcblx0XHRcdFx0ZnVuY3Rpb24gb25GdWxmaWxsZWQocmVzcG9uc2UpIHtcclxuXHRcdFx0XHRcdHRoaXNPYmoubG9hZENhbXBhaWduRGVmaW5pdGlvbnMocmVzcG9uc2UpO1xyXG5cdFx0XHRcdFx0dGhpc09iai5sb2FkQXN5bmNUcmlnZ2VyZWQgPSB0cnVlO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZSh0aGlzT2JqLmNhbXBhaWduRGVmaW5pdGlvbnMpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0KS5jYXRjaChcclxuXHRcdFx0XHQvLyBtaWdodCBoYXZlIHRpbWVkIG91dCBvciBnZXRDYW1wYWlnbkRlZmluaXRpb25zIG1pZ2h0IGhhdmUgZmFpbGVkXHJcblx0XHRcdFx0Ly8gSW4gZWl0aGVyIGNhc2Ugd2UgbG9nIGFuZCByZXR1cm4gcmVzb2x2ZVxyXG5cdFx0XHRcdGZ1bmN0aW9uIG9uUmVqZWN0ZWQoZXJyb3IpIHtcclxuXHRcdFx0XHRcdHJlc29sdmUodGhpc09iai5jYW1wYWlnbkRlZmluaXRpb25zKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgbG9hZENhbXBhaWduRGVmaW5pdGlvbnMocmVzcG9uc2U6IENhbXBhaWduRGVmaW5pdGlvbnMpIHtcclxuXHRcdGNvbnN0IGRlZmluaXRpb25zID0gcmVzcG9uc2UgJiYgcmVzcG9uc2UuY2FtcGFpZ25zO1xyXG5cdFx0aWYgKGRlZmluaXRpb25zKSB7XHJcblx0XHRcdHRoaXMuY2FtcGFpZ25EZWZpbml0aW9ucyA9IEZpbHRlclZhbGlkQ2FtcGFpZ25EZWZpbml0aW9ucyhkZWZpbml0aW9ucykucmVzdWx0O1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/TargetedMessaging/TargetedMessagingCampaignDefinitionProvider.ts\n')},"./scripts/app/TargetedMessaging/TargetedMessagingClient.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ContentResponse", function() { return ContentResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDebugCampaignDefinitions", function() { return getDebugCampaignDefinitions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDebugUserFacts", function() { return getDebugUserFacts; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TargetedMessagingClient", function() { return TargetedMessagingClient; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Api/IFloodgateStorageProvider */ "../FloodgateCore/dist/src/Api/IFloodgateStorageProvider.js");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _TargetedMessagingTransport__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TargetedMessagingTransport */ "./scripts/app/TargetedMessaging/TargetedMessagingTransport.ts");\n/* harmony import */ var _Common_UrlUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Common/UrlUtils */ "./scripts/app/Common/UrlUtils.ts");\n/* harmony import */ var _TargetedMessagingCache__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TargetedMessagingCache */ "./scripts/app/TargetedMessaging/TargetedMessagingCache.ts");\n/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Constants */ "./scripts/app/Constants.ts");\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Logging/Logging */ "./scripts/app/Logging/Logging.ts");\n/* harmony import */ var _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./TargetedMessagingConstants */ "./scripts/app/TargetedMessaging/TargetedMessagingConstants.ts");\n/* harmony import */ var _Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Configuration/DynamicConfiguration */ "./scripts/app/Configuration/DynamicConfiguration.ts");\n/* harmony import */ var _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../FloodgateCore/FloodgateStorageProvider */ "./scripts/app/FloodgateCore/FloodgateStorageProvider.ts");\n/* harmony import */ var _AugLoopHelper__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./AugLoopHelper */ "./scripts/app/TargetedMessaging/AugLoopHelper.ts");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar ContentResponse = /** @class */ (function () {\r\n    function ContentResponse() {\r\n    }\r\n    return ContentResponse;\r\n}());\r\n\r\nfunction getDebugCampaignDefinitions() {\r\n    var debugOverrides = _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_9__["default"].safeReadObject(_ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_1__["FileType"].DebugOverrides, {});\r\n    return debugOverrides && debugOverrides.tmsResponse && debugOverrides.tmsResponse.CampaignContent && {\r\n        contentType: "CampaignContent" /* campaignContent */,\r\n        content: debugOverrides.tmsResponse.CampaignContent,\r\n    };\r\n}\r\nfunction getDebugUserFacts() {\r\n    var debugOverrides = _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_9__["default"].safeReadObject(_ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_1__["FileType"].DebugOverrides, {});\r\n    return debugOverrides && debugOverrides.userFactsResponse && {\r\n        contentType: "UserFacts" /* userFacts */,\r\n        content: debugOverrides.userFactsResponse,\r\n    };\r\n}\r\nvar TargetedMessagingClient = /** @class */ (function () {\r\n    function TargetedMessagingClient(app, platform, version, locale, country, sessionId, authTokenCallback, augLoopCallback, campaignFlights, campaignParameters, tmsgCacheIn) {\r\n        this.locale = "en-us";\r\n        this.country = "US";\r\n        this.locale = locale;\r\n        this.country = country;\r\n        this.authTokenCallback = authTokenCallback;\r\n        this.augLoopCallback = augLoopCallback;\r\n        this.app = app;\r\n        this.platform = platform;\r\n        this.version = version;\r\n        this.sessionId = sessionId;\r\n        this.campaignFlights = campaignFlights;\r\n        this.campaignParameters = campaignParameters;\r\n        this.tmsgCache = this.tmsgCache || tmsgCacheIn || new _TargetedMessagingCache__WEBPACK_IMPORTED_MODULE_4__["TargetedMessagingCache"]([\r\n            "MessageMetadata" /* messageMetadata */,\r\n            "UserGovernance" /* userGovernanceRules */,\r\n            "CampaignContent" /* campaignContent */,\r\n            "DynamicSettings" /* dynamicSettings */,\r\n            "LogLevelSettings" /* logLevelSettings */,\r\n            "UserFacts" /* userFacts */,\r\n        ]);\r\n    }\r\n    TargetedMessagingClient.prototype.getContent = function (requestedContent) {\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function () {\r\n            var response;\r\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"])(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.refreshItemsInCacheFromTmsService([requestedContent])];\r\n                    case 1:\r\n                        _a.sent();\r\n                        response = this.retrieveCacheItemAndCreateContentResponse(requestedContent);\r\n                        return [2 /*return*/, response];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    TargetedMessagingClient.prototype.getMultipleContents = function (requestedContent) {\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function () {\r\n            var contentResponses, bulkRefreshList, _i, requestedContent_1, contentType, responseItem;\r\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"])(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.refreshItemsInCacheFromTmsService(requestedContent)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        contentResponses = new Array();\r\n                        bulkRefreshList = new Array();\r\n                        for (_i = 0, requestedContent_1 = requestedContent; _i < requestedContent_1.length; _i++) {\r\n                            contentType = requestedContent_1[_i];\r\n                            responseItem = this.createCachedContentResponse(contentType);\r\n                            contentResponses.push(responseItem);\r\n                        }\r\n                        this.refreshItemsInCacheFromTmsService(bulkRefreshList);\r\n                        return [2 /*return*/, contentResponses];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    TargetedMessagingClient.prototype.getUserFactsContent = function (requestedContent) {\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function () {\r\n            var response;\r\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"])(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.refreshItemsInCacheFromTulipsService(requestedContent)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        response = this.retrieveCacheItemAndCreateContentResponse(requestedContent);\r\n                        return [2 /*return*/, response];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    TargetedMessagingClient.prototype.sendBeaconRequestToService = function (app, beaconParameters, platform, version, locale, country, sessionId, authTokenCallback) {\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function () {\r\n            var tmsAppId, authToken, puid, _a, requestStartTime, tmsQueryParams, requestBody, response, error_1;\r\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"])(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        this.sessionId = sessionId;\r\n                        this.authTokenCallback = authTokenCallback;\r\n                        tmsAppId = Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_8__["getDynamicSetting"])("TmsAppId" /* tmsAppId */, _Constants__WEBPACK_IMPORTED_MODULE_5__["GUIDs"].TMSAppID);\r\n                        return [4 /*yield*/, this.getAuthToken(tmsAppId)];\r\n                    case 1:\r\n                        authToken = _b.sent();\r\n                        puid = undefined;\r\n                        if (!!authToken) return [3 /*break*/, 4];\r\n                        _a = this.authTokenCallback.getUserPuid;\r\n                        if (!_a) return [3 /*break*/, 3];\r\n                        return [4 /*yield*/, this.authTokenCallback.getUserPuid()];\r\n                    case 2:\r\n                        _a = (_b.sent());\r\n                        _b.label = 3;\r\n                    case 3:\r\n                        puid = _a;\r\n                        _b.label = 4;\r\n                    case 4:\r\n                        requestStartTime = +new Date();\r\n                        _b.label = 5;\r\n                    case 5:\r\n                        _b.trys.push([5, 7, , 8]);\r\n                        tmsQueryParams = {\r\n                            app: app,\r\n                            country: country,\r\n                            locale: locale,\r\n                            platform: platform,\r\n                            puid: puid,\r\n                            version: version,\r\n                        };\r\n                        requestBody = JSON.stringify({\r\n                            actionName: beaconParameters.actionName,\r\n                            actionUrl: beaconParameters.actionUrl,\r\n                        });\r\n                        return [4 /*yield*/, this.sendRequest(tmsQueryParams, authToken, "TmsActionUrl" /* tmsActionUrl */, _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_7__["TMS_SERVICE_ACTION_URL"], requestBody, "POST")];\r\n                    case 6:\r\n                        response = _b.sent();\r\n                        if (!response || response.status !== 200) {\r\n                            _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_6__["EventIds"].WebSurfaces.Common.Error.VALUE, 2 /* Error */, this.createTelemetryData(requestStartTime, response, "Beacon" + beaconParameters.actionName));\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        return [2 /*return*/, true];\r\n                    case 7:\r\n                        error_1 = _b.sent();\r\n                        _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_6__["EventIds"].WebSurfaces.Common.Error.VALUE, 2 /* Error */, Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])({ ErrorMessage: "Error fetching from TMS SetCampaignAction endpoint" + (error_1 && error_1.message ? ": " + error_1.message : "") }, this.createTelemetryData(requestStartTime, null, "Beacon" + beaconParameters.actionName)));\r\n                        return [2 /*return*/, false];\r\n                    case 8: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    TargetedMessagingClient.prototype.getAugLoopUserFactsContent = function (requestedContent) {\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function () {\r\n            var response;\r\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"])(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!!this.tmsgCache.getItemContent("UserFacts" /* userFacts */)) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.refreshUserFactsInCacheFromAugLoop()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        if (this.tmsgCache.isItemExpired("UserFacts" /* userFacts */)) {\r\n                            this.refreshUserFactsInCacheFromAugLoop();\r\n                        }\r\n                        response = this.retrieveCacheItemAndCreateContentResponse(requestedContent);\r\n                        return [2 /*return*/, response];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    TargetedMessagingClient.prototype.refreshUserFactsInCacheFromAugLoop = function () {\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function () {\r\n            var requestStartTime, userFacts, annotationName, augLoopSessionPromise, response, augLoopError, error_2;\r\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"])(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.tmsgCache.isItemExpired("UserFacts" /* userFacts */)) {\r\n                            return [2 /*return*/, this.tmsgCache.getItemContent("UserFacts" /* userFacts */)];\r\n                        }\r\n                        requestStartTime = +new Date();\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        annotationName = Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_8__["getDynamicSetting"])("TulipsAugLoopAnnotationName" /* tulipsAugLoopAnnotationName */, "AugLoop_User_UserLifecycleFactsAnnotation");\r\n                        augLoopSessionPromise = this.augLoopCallback.getRuntimeSession;\r\n                        return [4 /*yield*/, Object(_AugLoopHelper__WEBPACK_IMPORTED_MODULE_10__["getAugLoopAnnotationData"])(annotationName, augLoopSessionPromise)];\r\n                    case 2:\r\n                        response = _a.sent();\r\n                        if (response && response.userFacts) {\r\n                            userFacts = this.addClientIngestionTimeAndNormalizeKeysInArray(response.userFacts);\r\n                            this.tmsgCache.setContentItem("UserFacts" /* userFacts */, userFacts, _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_7__["CACHE_EXPIRY_USERFACTS"]);\r\n                            _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_6__["EventIds"].UserFacts.Messaging.Requests.VALUE, 3 /* Info */, this.createTelemetryData(requestStartTime, null, "AugLoopUserFacts"));\r\n                        }\r\n                        else {\r\n                            augLoopError = response && response.error;\r\n                            _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_6__["EventIds"].UserFacts.Common.Error.VALUE, 2 /* Error */, Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])({ ErrorMessage: "Error getting augloop facts " + (augLoopError && augLoopError.toString()) }, this.createTelemetryData(requestStartTime, null, "AugLoopUserFacts")));\r\n                        }\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        error_2 = _a.sent();\r\n                        _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_6__["EventIds"].UserFacts.Common.Error.VALUE, 2 /* Error */, Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])({ ErrorMessage: "Error getting facts " + (error_2 && error_2.message) }, this.createTelemetryData(requestStartTime, null, "AugLoopUserFacts")));\r\n                        return [3 /*break*/, 4];\r\n                    case 4: return [2 /*return*/, userFacts];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    TargetedMessagingClient.prototype.createTelemetryData = function (requestStartTimestamp, response, type) {\r\n        var _a = response || {}, headers = _a.headers, status = _a.status, statusText = _a.statusText;\r\n        var serverSessionId = headers && headers.get("X-UserSessionId");\r\n        var serverCorrelationId = headers && headers.get("X-CorrelationId");\r\n        return {\r\n            Type: type,\r\n            TimeMilliseconds: +new Date() - requestStartTimestamp,\r\n            SessionId: serverSessionId || this.sessionId,\r\n            CorrelationId: serverCorrelationId || undefined,\r\n            HttpStatusCode: status || undefined,\r\n            HttpStatusText: statusText || undefined,\r\n            Flights: this.campaignFlights,\r\n        };\r\n    };\r\n    TargetedMessagingClient.prototype.sendRequest = function (tmsgQueryParams, authToken, key, serviceUrl, requestBody, verb) {\r\n        this.tmsgTransport = this.tmsgTransport || new _TargetedMessagingTransport__WEBPACK_IMPORTED_MODULE_2__["TargetedMessagingTransport"](this.sessionId);\r\n        var queryParamStr = Object(_Common_UrlUtils__WEBPACK_IMPORTED_MODULE_3__["buildQueryParameters"])(tmsgQueryParams);\r\n        var tmsgBaseUrl = Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_8__["getDynamicSetting"])(key, serviceUrl);\r\n        var requestPromise = verb === "POST" ?\r\n            this.tmsgTransport.sendPostRequest(tmsgBaseUrl + queryParamStr, requestBody, authToken) :\r\n            this.tmsgTransport.sendGetRequest(tmsgBaseUrl + queryParamStr, authToken);\r\n        return requestPromise;\r\n    };\r\n    TargetedMessagingClient.prototype.retrieveCacheItemAndCreateContentResponse = function (contentType) {\r\n        var responseItem = this.createCachedContentResponse(contentType);\r\n        if (this.tmsgCache.isItemExpired(contentType)) {\r\n            if (contentType === "UserFacts" /* userFacts */) {\r\n                this.refreshItemsInCacheFromTulipsService(contentType);\r\n            }\r\n            else {\r\n                this.refreshItemsInCacheFromTmsService([contentType]);\r\n            }\r\n        }\r\n        return responseItem;\r\n    };\r\n    TargetedMessagingClient.prototype.createCachedContentResponse = function (requestedContent) {\r\n        var contentResponse = new ContentResponse();\r\n        contentResponse.content = this.tmsgCache.getItemContent(requestedContent);\r\n        contentResponse.contentType = requestedContent;\r\n        return contentResponse;\r\n    };\r\n    TargetedMessagingClient.prototype.getAuthToken = function (appIdOrUri) {\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function () {\r\n            var startTime, getDuration, createAuthTelemetryData, retVal, error_3;\r\n            var _this = this;\r\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"])(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.authTokenCallback || !this.authTokenCallback.getAuthToken) {\r\n                            return [2 /*return*/, null];\r\n                        }\r\n                        startTime = +new Date();\r\n                        getDuration = function () { return +new Date() - startTime; };\r\n                        createAuthTelemetryData = function (errorMessage) {\r\n                            if (errorMessage === void 0) { errorMessage = undefined; }\r\n                            return {\r\n                                ErrorMessage: errorMessage,\r\n                                SessionId: _this.sessionId,\r\n                                TimeMilliseconds: getDuration(),\r\n                                Type: appIdOrUri,\r\n                            };\r\n                        };\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        return [4 /*yield*/, this.authTokenCallback.getAuthToken(appIdOrUri)];\r\n                    case 2:\r\n                        retVal = _a.sent();\r\n                        _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_6__["EventIds"].WebSurfaces.Common.Info.VALUE, 3 /* Info */, createAuthTelemetryData());\r\n                        return [2 /*return*/, retVal];\r\n                    case 3:\r\n                        error_3 = _a.sent();\r\n                        _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_6__["EventIds"].WebSurfaces.Common.Error.VALUE, 2 /* Error */, createAuthTelemetryData("Error getting token " + (error_3 && error_3.message ? ": " + error_3.message : "")));\r\n                        return [3 /*break*/, 4];\r\n                    case 4: return [2 /*return*/, null];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    TargetedMessagingClient.prototype.refreshItemsInCacheFromTmsService = function (contentTypes) {\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function () {\r\n            var bulkRefreshList, _i, contentTypes_1, contentType, tmsAppId, authToken, userPuid, _a, requestStartTime, documentElement, browserParams, debugOverrides, tmsQueryParams, response, tmsServiceResponse, error_4;\r\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"])(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        if (contentTypes.length === 0) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        bulkRefreshList = new Array();\r\n                        for (_i = 0, contentTypes_1 = contentTypes; _i < contentTypes_1.length; _i++) {\r\n                            contentType = contentTypes_1[_i];\r\n                            if (this.tmsgCache.isItemExpired(contentType)) {\r\n                                bulkRefreshList.push(contentType);\r\n                            }\r\n                        }\r\n                        if (bulkRefreshList.length === 0) {\r\n                            // exit out if all items in cache are still valid to avoid unnecessary service roundtrips \r\n                            return [2 /*return*/];\r\n                        }\r\n                        tmsAppId = Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_8__["getDynamicSetting"])("TmsAppId" /* tmsAppId */, _Constants__WEBPACK_IMPORTED_MODULE_5__["GUIDs"].TMSAppID);\r\n                        return [4 /*yield*/, this.getAuthToken(tmsAppId)];\r\n                    case 1:\r\n                        authToken = _b.sent();\r\n                        userPuid = undefined;\r\n                        if (!!authToken) return [3 /*break*/, 4];\r\n                        _a = this.authTokenCallback.getUserPuid;\r\n                        if (!_a) return [3 /*break*/, 3];\r\n                        return [4 /*yield*/, this.authTokenCallback.getUserPuid()];\r\n                    case 2:\r\n                        _a = (_b.sent());\r\n                        _b.label = 3;\r\n                    case 3:\r\n                        userPuid = _a;\r\n                        _b.label = 4;\r\n                    case 4:\r\n                        requestStartTime = +new Date();\r\n                        _b.label = 5;\r\n                    case 5:\r\n                        _b.trys.push([5, 10, , 11]);\r\n                        documentElement = document && (document.documentElement || document.getElementsByTagName("body")[0]);\r\n                        browserParams = {\r\n                            pageWidth: window.innerWidth || documentElement.clientWidth,\r\n                            pageHeight: window.innerHeight || documentElement.clientHeight,\r\n                            screenWidth: screen ? screen.width : undefined,\r\n                            screenHeight: screen ? screen.height : undefined,\r\n                            colorDepth: screen ? screen.colorDepth : undefined,\r\n                        };\r\n                        debugOverrides = _FloodgateCore_FloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_9__["default"].safeReadObject(_ms_ofb_officefloodgatecore_dist_src_Api_IFloodgateStorageProvider__WEBPACK_IMPORTED_MODULE_1__["FileType"].DebugOverrides, {});\r\n                        tmsQueryParams = debugOverrides.replaceTmsQueryParams || Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])({ country: this.country, locale: this.locale, app: this.app, platform: this.platform, version: this.version, campaignParams: Object(_Common_UrlUtils__WEBPACK_IMPORTED_MODULE_3__["buildQueryParameters"])(browserParams) + "&more=true&" + (this.campaignParameters || ""), contentType: contentTypes.join(";"), puid: userPuid, OFC_FLIGHTS: this.campaignFlights }, (debugOverrides.addTmsQueryParams || {}));\r\n                        return [4 /*yield*/, this.sendRequest(tmsQueryParams, authToken, "TmsServiceUrl" /* tmsServiceUrl */, _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_7__["TMS_SERVICEURL"])];\r\n                    case 6:\r\n                        response = _b.sent();\r\n                        if (!(response.status === 200)) return [3 /*break*/, 8];\r\n                        return [4 /*yield*/, response.json()];\r\n                    case 7:\r\n                        tmsServiceResponse = _b.sent();\r\n                        if (contentTypes.indexOf("MessageMetadata" /* messageMetadata */) !== -1\r\n                            && tmsServiceResponse.MessageMetadata !== undefined) {\r\n                            this.tmsgCache.setContentItem("MessageMetadata" /* messageMetadata */, tmsServiceResponse.MessageMetadata, Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_8__["getDynamicSetting"])("TmsMessageMetadataExpiry" /* tmsMessageMetadataExpiry */, _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_7__["CACHE_EXPIRY_MESSAGEMETADATA"]));\r\n                        }\r\n                        if (contentTypes.indexOf("UserGovernance" /* userGovernanceRules */) !== -1\r\n                            && tmsServiceResponse.UserGovernanceRules !== undefined) {\r\n                            this.tmsgCache.setContentItem("UserGovernance" /* userGovernanceRules */, tmsServiceResponse.UserGovernanceRules, Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_8__["getDynamicSetting"])("TmsUserGovernanceRulesExpiry" /* tmsUserGovernanceRulesExpiry */, _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_7__["CACHE_EXPIRY_USERGOVERNANCERULES"]));\r\n                        }\r\n                        if (contentTypes.indexOf("CampaignContent" /* campaignContent */) !== -1\r\n                            && tmsServiceResponse.CampaignContent !== undefined) {\r\n                            this.tmsgCache.setContentItem("CampaignContent" /* campaignContent */, tmsServiceResponse.CampaignContent, Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_8__["getDynamicSetting"])("TmsCampaignContentExpiry" /* tmsCampaignContentExpiry */, _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_7__["CACHE_EXPIRY_CAMPAIGNCONTENT"]));\r\n                        }\r\n                        // There is no explicit request for the next set of ContentTypes in the code\r\n                        // If the server responds with these types save and use them later\r\n                        if (tmsServiceResponse.DynamicSettings !== undefined) {\r\n                            this.tmsgCache.setContentItem("DynamicSettings" /* dynamicSettings */, tmsServiceResponse.DynamicSettings, Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_8__["getDynamicSetting"])("TmsDynamicSettingsExpiry" /* tmsDynamicSettingsExpiry */, _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_7__["CACHE_EXPIRY_DYNAMICSETTINGS"]));\r\n                        }\r\n                        if (tmsServiceResponse.LogLevelSettings !== undefined) {\r\n                            this.tmsgCache.setContentItem("LogLevelSettings" /* logLevelSettings */, tmsServiceResponse.LogLevelSettings, Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_8__["getDynamicSetting"])("TmsLogLevelSettingsExpiry" /* tmsLogLevelSettingsExpiry */, _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_7__["CACHE_EXPIRY_LOGLEVELSETTINGS"]));\r\n                        }\r\n                        _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_6__["EventIds"].WebSurfaces.Messaging.Requests.VALUE, 3 /* Info */, this.createTelemetryData(requestStartTime, response, contentTypes.join(";")));\r\n                        return [3 /*break*/, 9];\r\n                    case 8:\r\n                        _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_6__["EventIds"].WebSurfaces.Common.Error.VALUE, 2 /* Error */, this.createTelemetryData(requestStartTime, response, contentTypes.join(";")));\r\n                        _b.label = 9;\r\n                    case 9: return [3 /*break*/, 11];\r\n                    case 10:\r\n                        error_4 = _b.sent();\r\n                        _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_6__["EventIds"].WebSurfaces.Common.Error.VALUE, 2 /* Error */, Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])({ ErrorMessage: "Error fetching from TMS" + (error_4 && error_4.message ? ": " + error_4.message : "") }, this.createTelemetryData(requestStartTime, null, contentTypes.join(";"))));\r\n                        return [3 /*break*/, 11];\r\n                    case 11: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    TargetedMessagingClient.prototype.refreshItemsInCacheFromTulipsService = function (contentType) {\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function () {\r\n            var tulipsAppId, authToken, requestStartTime, response, tulipsServiceResponse, normalizedUserFacts, error_5;\r\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"])(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        // check if touched item is actually due for refresh or is still valid\r\n                        if (!this.tmsgCache.isItemExpired(contentType)) {\r\n                            // exit out if the cache is still valid to avoid unnecessary service roundtrips\r\n                            return [2 /*return*/];\r\n                        }\r\n                        tulipsAppId = Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_8__["getDynamicSetting"])("TulipsAppId" /* tulipsAppId */, _Constants__WEBPACK_IMPORTED_MODULE_5__["GUIDs"].TULIPSAppID);\r\n                        return [4 /*yield*/, this.getAuthToken(tulipsAppId)];\r\n                    case 1:\r\n                        authToken = _a.sent();\r\n                        if (!authToken) {\r\n                            // if authToken is null then exit out since service call cannot be made without authToken\r\n                            return [2 /*return*/];\r\n                        }\r\n                        requestStartTime = +new Date();\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        _a.trys.push([2, 7, , 8]);\r\n                        return [4 /*yield*/, this.sendRequest({}, authToken, "TulipsServiceUrl" /* tulipsServiceUrl */, _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_7__["TULIPS_SERVICEURL"])];\r\n                    case 3:\r\n                        response = _a.sent();\r\n                        if (!(response.status === 200 || response.status === 204)) return [3 /*break*/, 5];\r\n                        return [4 /*yield*/, response.json()];\r\n                    case 4:\r\n                        tulipsServiceResponse = _a.sent();\r\n                        if (contentType.indexOf("UserFacts" /* userFacts */) !== -1\r\n                            && tulipsServiceResponse !== undefined) {\r\n                            normalizedUserFacts = this.addClientIngestionTimeAndNormalizeKeys(tulipsServiceResponse);\r\n                            this.tmsgCache.setContentItem("UserFacts" /* userFacts */, normalizedUserFacts, _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_7__["CACHE_EXPIRY_USERFACTS"]);\r\n                        }\r\n                        _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_6__["EventIds"].UserFacts.Messaging.Requests.VALUE, 3 /* Info */, this.createTelemetryData(requestStartTime, response, contentType));\r\n                        return [3 /*break*/, 6];\r\n                    case 5:\r\n                        _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_6__["EventIds"].UserFacts.Common.Error.VALUE, 2 /* Error */, this.createTelemetryData(requestStartTime, response, contentType));\r\n                        _a.label = 6;\r\n                    case 6: return [3 /*break*/, 8];\r\n                    case 7:\r\n                        error_5 = _a.sent();\r\n                        _Logging_Logging__WEBPACK_IMPORTED_MODULE_6__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_6__["EventIds"].UserFacts.Common.Error.VALUE, 2 /* Error */, Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])({ ErrorMessage: "Error fetching from TULIPS" + (error_5 && error_5.message ? ": " + error_5.message : "") }, this.createTelemetryData(requestStartTime, null, contentType)));\r\n                        return [3 /*break*/, 8];\r\n                    case 8: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    TargetedMessagingClient.prototype.addClientIngestionTimeAndNormalizeKeys = function (tulipsServiceResponse) {\r\n        var _this = this;\r\n        var currentDateTime = new Date(Date.now()).toISOString();\r\n        return tulipsServiceResponse.map(function (responseFact) {\r\n            var fact = _this.normalizeKeys(responseFact);\r\n            fact.clientIngestionDateTime = currentDateTime;\r\n            return fact;\r\n        });\r\n    };\r\n    TargetedMessagingClient.prototype.addClientIngestionTimeAndNormalizeKeysInArray = function (userFacts) {\r\n        var _this = this;\r\n        var currentDateTime = new Date(Date.now()).toISOString();\r\n        return userFacts.map(function (userFact) {\r\n            var fact = _this.normalizeKeys(userFact);\r\n            fact.clientIngestionDateTime = currentDateTime;\r\n            return fact;\r\n        });\r\n    };\r\n    /**\r\n     * This method normalizes the keys of the user fact object retrieved from the TULIPS service.\r\n     * Specifically it converts the first letter of each key in the object to lower case.\r\n     * For example the key "UserFactType" returned from the service will be converted to "userFactType".\r\n     * @param userFact the user fact object\r\n     */\r\n    TargetedMessagingClient.prototype.normalizeKeys = function (userFact) {\r\n        var normalizedUserFact = {};\r\n        for (var _i = 0, _a = Object.keys(userFact); _i < _a.length; _i++) {\r\n            var key = _a[_i];\r\n            var normalizedKey = (key.charAt(0).toLowerCase() + key.substring(1));\r\n            normalizedUserFact[normalizedKey] = userFact[key];\r\n        }\r\n        return normalizedUserFact;\r\n    };\r\n    return TargetedMessagingClient;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UYXJnZXRlZE1lc3NhZ2luZy9UYXJnZXRlZE1lc3NhZ2luZ0NsaWVudC50cz8xMmM4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUM4RjtBQUtwQjtBQUVGO0FBQ047QUFFeEI7QUFDSTtBQUNnQjtBQUV3QjtBQUNMO0FBQ1g7QUFHTztBQUc3RTtJQUFBO0lBR0EsQ0FBQztJQUFELHNCQUFDO0FBQUQsQ0FBQzs7QUEwQk0sU0FBUywyQkFBMkI7SUFDMUMsSUFBTSxjQUFjLEdBQUcsK0VBQXdCLENBQUMsY0FBYyxDQUFrQiwyR0FBUSxDQUFDLGNBQWMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUM3RyxPQUFPLGNBQWMsSUFBSSxjQUFjLENBQUMsV0FBVyxJQUFJLGNBQWMsQ0FBQyxXQUFXLENBQUMsZUFBZSxJQUFJO1FBQ3BHLFdBQVcseUNBQTZCO1FBQ3hDLE9BQU8sRUFBRSxjQUFjLENBQUMsV0FBVyxDQUFDLGVBQWU7S0FDbkQsQ0FBQztBQUNILENBQUM7QUFFTSxTQUFTLGlCQUFpQjtJQUNoQyxJQUFNLGNBQWMsR0FBRywrRUFBd0IsQ0FBQyxjQUFjLENBQWtCLDJHQUFRLENBQUMsY0FBYyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQzdHLE9BQU8sY0FBYyxJQUFJLGNBQWMsQ0FBQyxpQkFBaUIsSUFBSTtRQUM1RCxXQUFXLDZCQUF1QjtRQUNsQyxPQUFPLEVBQUUsY0FBYyxDQUFDLGlCQUFpQjtLQUN6QyxDQUFDO0FBQ0gsQ0FBQztBQUVEO0lBZUMsaUNBQ0MsR0FBVyxFQUNYLFFBQWdCLEVBQ2hCLE9BQWUsRUFDZixNQUFjLEVBQ2QsT0FBZSxFQUNmLFNBQWlCLEVBQ2pCLGlCQUE4QyxFQUM5QyxlQUEyQyxFQUMzQyxlQUF3QixFQUN4QixrQkFBMkIsRUFDM0IsV0FBb0M7UUF6QjdCLFdBQU0sR0FBVyxPQUFPLENBQUM7UUFDekIsWUFBTyxHQUFXLElBQUksQ0FBQztRQXlC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QkFBa0IsQ0FBQyxhQUFhLENBQUMsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDbEQ7UUFFRCxPQUFPLGtCQUFrQixDQUFDO0lBQzNCLENBQUM7SUFDRiw4QkFBQztBQUFELENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9UYXJnZXRlZE1lc3NhZ2luZy9UYXJnZXRlZE1lc3NhZ2luZ0NsaWVudC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwaSB9IGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmVcIjtcclxuaW1wb3J0IHsgRmlsZVR5cGUgfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0FwaS9JRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyXCI7XHJcbmltcG9ydCB7IElBdWdMb29wQ2FsbGJhY2sgfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0FwaS9JQXVnTG9vcENhbGxiYWNrXCI7XHJcbmltcG9ydCB7IElGbG9vZGdhdGVBdXRoVG9rZW5DYWxsYmFjayB9IGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmUvZGlzdC9zcmMvQXBpL0lGbG9vZGdhdGVBdXRoVG9rZW5DYWxsYmFja1wiO1xyXG5pbXBvcnQgeyBNZXNzYWdlU3BlYyB9IGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmUvZGlzdC9zcmMvR292ZXJuYW5jZS9NZXNzYWdlTWV0YWRhdGFcIjtcclxuXHJcbmltcG9ydCB7IFRhcmdldGVkTWVzc2FnaW5nVHJhbnNwb3J0IH0gZnJvbSBcIi4vVGFyZ2V0ZWRNZXNzYWdpbmdUcmFuc3BvcnRcIjtcclxuaW1wb3J0IHsgQ29udGVudFR5cGUgfSBmcm9tIFwiLi9UYXJnZXRlZE1lc3NhZ2luZ0NvbnRlbnRUeXBlXCI7XHJcbmltcG9ydCB7IGJ1aWxkUXVlcnlQYXJhbWV0ZXJzLCBJUXVlcnlQYXJhbXMgfSBmcm9tIFwiLi4vQ29tbW9uL1VybFV0aWxzXCI7XHJcbmltcG9ydCB7IFRhcmdldGVkTWVzc2FnaW5nQ2FjaGUgfSBmcm9tIFwiLi9UYXJnZXRlZE1lc3NhZ2luZ0NhY2hlXCI7XHJcblxyXG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSBcIi4uL0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuLi9Mb2dnaW5nL0xvZ2dpbmdcIjtcclxuaW1wb3J0ICogYXMgVG1zZ0NvbnN0YW50cyBmcm9tIFwiLi9UYXJnZXRlZE1lc3NhZ2luZ0NvbnN0YW50c1wiO1xyXG5cclxuaW1wb3J0IHsgZ2V0RHluYW1pY1NldHRpbmcsIFNldHRpbmdLZXkgfSBmcm9tIFwiLi4vQ29uZmlndXJhdGlvbi9EeW5hbWljQ29uZmlndXJhdGlvblwiO1xyXG5pbXBvcnQgRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyIGZyb20gXCIuLi9GbG9vZGdhdGVDb3JlL0Zsb29kZ2F0ZVN0b3JhZ2VQcm92aWRlclwiO1xyXG5pbXBvcnQgeyBUTVNfU0VSVklDRV9BQ1RJT05fVVJMIH0gZnJvbSBcIi4vVGFyZ2V0ZWRNZXNzYWdpbmdDb25zdGFudHNcIjtcclxuaW1wb3J0IHsgSUJlYWNvblBhcmFtZXRlcnMgfSBmcm9tIFwiLi4vRmxvb2RnYXRlQ29yZS9Db2FjaGluZ1VYTGF1bmNoZXJGYWN0b3J5XCI7XHJcblxyXG5pbXBvcnQgeyBnZXRBdWdMb29wQW5ub3RhdGlvbkRhdGEsIElBdWdMb29wUmVzcG9uc2UgfSBmcm9tIFwiLi9BdWdMb29wSGVscGVyXCI7XHJcbmltcG9ydCB7IElTZXNzaW9uIH0gZnJvbSBcIkBhdWdsb29wL3J1bnRpbWUtY2xpZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29udGVudFJlc3BvbnNlIHtcclxuXHRwdWJsaWMgY29udGVudFR5cGU6IENvbnRlbnRUeXBlO1xyXG5cdHB1YmxpYyBjb250ZW50OiBhbnk7XHJcbn1cclxuXHJcbmludGVyZmFjZSBJVG1zU2VydmljZVJlc3BvbnNlIHtcclxuXHRNZXNzYWdlTWV0YWRhdGE6IE1lc3NhZ2VTcGVjO1xyXG5cdFVzZXJHb3Zlcm5hbmNlUnVsZXM6IGFueTtcclxuXHRDYW1wYWlnbkNvbnRlbnQ6IGFueTtcclxuXHREeW5hbWljU2V0dGluZ3M6IGFueTtcclxuXHRMb2dMZXZlbFNldHRpbmdzOiBJTG9nTGV2ZWxTZXR0aW5ncztcclxufVxyXG5cclxuaW50ZXJmYWNlIElVc2VyRmFjdHNBdWdMb29wUmVzcG9uc2Uge1xyXG5cdHB1aWQ6IHN0cmluZztcclxuXHR1c2VyRmFjdHM6IEFwaS5JVXNlckZhY3RbXTtcclxufVxyXG5cclxuaW50ZXJmYWNlIElMb2dMZXZlbFNldHRpbmdzIHtcclxuXHRsb2dMZXZlbDogTG9nZ2luZy5Mb2dMZXZlbDtcclxufVxyXG5cclxuaW50ZXJmYWNlIElEZWJ1Z092ZXJyaWRlcyB7XHJcblx0YWRkVG1zUXVlcnlQYXJhbXM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xyXG5cdHJlcGxhY2VUbXNRdWVyeVBhcmFtcz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XHJcblx0dG1zUmVzcG9uc2U/OiBJVG1zU2VydmljZVJlc3BvbnNlO1xyXG5cdHVzZXJGYWN0c1Jlc3BvbnNlPzogSVRtc1NlcnZpY2VSZXNwb25zZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldERlYnVnQ2FtcGFpZ25EZWZpbml0aW9ucygpOiBDb250ZW50UmVzcG9uc2Uge1xyXG5cdGNvbnN0IGRlYnVnT3ZlcnJpZGVzID0gRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLnNhZmVSZWFkT2JqZWN0PElEZWJ1Z092ZXJyaWRlcz4oRmlsZVR5cGUuRGVidWdPdmVycmlkZXMsIHt9KTtcclxuXHRyZXR1cm4gZGVidWdPdmVycmlkZXMgJiYgZGVidWdPdmVycmlkZXMudG1zUmVzcG9uc2UgJiYgZGVidWdPdmVycmlkZXMudG1zUmVzcG9uc2UuQ2FtcGFpZ25Db250ZW50ICYmIHtcclxuXHRcdGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZS5jYW1wYWlnbkNvbnRlbnQsXHJcblx0XHRjb250ZW50OiBkZWJ1Z092ZXJyaWRlcy50bXNSZXNwb25zZS5DYW1wYWlnbkNvbnRlbnQsXHJcblx0fTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldERlYnVnVXNlckZhY3RzKCk6IENvbnRlbnRSZXNwb25zZSB7XHJcblx0Y29uc3QgZGVidWdPdmVycmlkZXMgPSBGbG9vZGdhdGVTdG9yYWdlUHJvdmlkZXIuc2FmZVJlYWRPYmplY3Q8SURlYnVnT3ZlcnJpZGVzPihGaWxlVHlwZS5EZWJ1Z092ZXJyaWRlcywge30pO1xyXG5cdHJldHVybiBkZWJ1Z092ZXJyaWRlcyAmJiBkZWJ1Z092ZXJyaWRlcy51c2VyRmFjdHNSZXNwb25zZSAmJiB7XHJcblx0XHRjb250ZW50VHlwZTogQ29udGVudFR5cGUudXNlckZhY3RzLFxyXG5cdFx0Y29udGVudDogZGVidWdPdmVycmlkZXMudXNlckZhY3RzUmVzcG9uc2UsXHJcblx0fTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFRhcmdldGVkTWVzc2FnaW5nQ2xpZW50IHtcclxuXHRwcml2YXRlIGxvY2FsZTogc3RyaW5nID0gXCJlbi11c1wiO1xyXG5cdHByaXZhdGUgY291bnRyeTogc3RyaW5nID0gXCJVU1wiO1xyXG5cdHByaXZhdGUgYXV0aFRva2VuQ2FsbGJhY2s6IElGbG9vZGdhdGVBdXRoVG9rZW5DYWxsYmFjaztcclxuXHRwcml2YXRlIGF1Z0xvb3BDYWxsYmFjazogSUF1Z0xvb3BDYWxsYmFjazxJU2Vzc2lvbj47XHJcblx0cHJpdmF0ZSBhcHA6IHN0cmluZztcclxuXHRwcml2YXRlIHBsYXRmb3JtOiBzdHJpbmc7XHJcblx0cHJpdmF0ZSB2ZXJzaW9uOiBzdHJpbmc7XHJcblx0cHJpdmF0ZSBzZXNzaW9uSWQ6IHN0cmluZztcclxuXHRwcml2YXRlIGNhbXBhaWduRmxpZ2h0czogc3RyaW5nO1xyXG5cdHByaXZhdGUgY2FtcGFpZ25QYXJhbWV0ZXJzOiBzdHJpbmc7XHJcblxyXG5cdHByaXZhdGUgdG1zZ0NhY2hlOiBUYXJnZXRlZE1lc3NhZ2luZ0NhY2hlO1xyXG5cdHByaXZhdGUgdG1zZ1RyYW5zcG9ydDogVGFyZ2V0ZWRNZXNzYWdpbmdUcmFuc3BvcnQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0YXBwOiBzdHJpbmcsXHJcblx0XHRwbGF0Zm9ybTogc3RyaW5nLFxyXG5cdFx0dmVyc2lvbjogc3RyaW5nLFxyXG5cdFx0bG9jYWxlOiBzdHJpbmcsXHJcblx0XHRjb3VudHJ5OiBzdHJpbmcsXHJcblx0XHRzZXNzaW9uSWQ6IHN0cmluZyxcclxuXHRcdGF1dGhUb2tlbkNhbGxiYWNrOiBJRmxvb2RnYXRlQXV0aFRva2VuQ2FsbGJhY2ssXHJcblx0XHRhdWdMb29wQ2FsbGJhY2s6IElBdWdMb29wQ2FsbGJhY2s8SVNlc3Npb24+LFxyXG5cdFx0Y2FtcGFpZ25GbGlnaHRzPzogc3RyaW5nLFxyXG5cdFx0Y2FtcGFpZ25QYXJhbWV0ZXJzPzogc3RyaW5nLFxyXG5cdFx0dG1zZ0NhY2hlSW4/OiBUYXJnZXRlZE1lc3NhZ2luZ0NhY2hlKSB7XHJcblx0XHR0aGlzLmxvY2FsZSA9IGxvY2FsZTtcclxuXHRcdHRoaXMuY291bnRyeSA9IGNvdW50cnk7XHJcblx0XHR0aGlzLmF1dGhUb2tlbkNhbGxiYWNrID0gYXV0aFRva2VuQ2FsbGJhY2s7XHJcblx0XHR0aGlzLmF1Z0xvb3BDYWxsYmFjayA9IGF1Z0xvb3BDYWxsYmFjaztcclxuXHRcdHRoaXMuYXBwID0gYXBwO1xyXG5cdFx0dGhpcy5wbGF0Zm9ybSA9IHBsYXRmb3JtO1xyXG5cdFx0dGhpcy52ZXJzaW9uID0gdmVyc2lvbjtcclxuXHRcdHRoaXMuc2Vzc2lvbklkID0gc2Vzc2lvbklkO1xyXG5cdFx0dGhpcy5jYW1wYWlnbkZsaWdodHMgPSBjYW1wYWlnbkZsaWdodHM7XHJcblx0XHR0aGlzLmNhbXBhaWduUGFyYW1ldGVycyA9IGNhbXBhaWduUGFyYW1ldGVycztcclxuXHJcblx0XHR0aGlzLnRtc2dDYWNoZSA9IHRoaXMudG1zZ0NhY2hlIHx8IHRtc2dDYWNoZUluIHx8IG5ldyBUYXJnZXRlZE1lc3NhZ2luZ0NhY2hlKFtcclxuXHRcdFx0Q29udGVudFR5cGUubWVzc2FnZU1ldGFkYXRhLFxyXG5cdFx0XHRDb250ZW50VHlwZS51c2VyR292ZXJuYW5jZVJ1bGVzLFxyXG5cdFx0XHRDb250ZW50VHlwZS5jYW1wYWlnbkNvbnRlbnQsXHJcblx0XHRcdENvbnRlbnRUeXBlLmR5bmFtaWNTZXR0aW5ncyxcclxuXHRcdFx0Q29udGVudFR5cGUubG9nTGV2ZWxTZXR0aW5ncyxcclxuXHRcdFx0Q29udGVudFR5cGUudXNlckZhY3RzLFxyXG5cdFx0XSk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgYXN5bmMgZ2V0Q29udGVudChcclxuXHRcdHJlcXVlc3RlZENvbnRlbnQ6IENvbnRlbnRUeXBlKTogUHJvbWlzZTxDb250ZW50UmVzcG9uc2U+IHtcclxuXHRcdGF3YWl0IHRoaXMucmVmcmVzaEl0ZW1zSW5DYWNoZUZyb21UbXNTZXJ2aWNlKFtyZXF1ZXN0ZWRDb250ZW50XSk7XHJcblx0XHRjb25zdCByZXNwb25zZTogQ29udGVudFJlc3BvbnNlID0gdGhpcy5yZXRyaWV2ZUNhY2hlSXRlbUFuZENyZWF0ZUNvbnRlbnRSZXNwb25zZShyZXF1ZXN0ZWRDb250ZW50KTtcclxuXHRcdHJldHVybiByZXNwb25zZTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBhc3luYyBnZXRNdWx0aXBsZUNvbnRlbnRzKFxyXG5cdFx0cmVxdWVzdGVkQ29udGVudDogQXJyYXk8Q29udGVudFR5cGU+KTogUHJvbWlzZTxDb250ZW50UmVzcG9uc2VbXT4ge1xyXG5cdFx0YXdhaXQgdGhpcy5yZWZyZXNoSXRlbXNJbkNhY2hlRnJvbVRtc1NlcnZpY2UocmVxdWVzdGVkQ29udGVudCk7XHJcblxyXG5cdFx0Y29uc3QgY29udGVudFJlc3BvbnNlczogQ29udGVudFJlc3BvbnNlW10gPSBuZXcgQXJyYXk8Q29udGVudFJlc3BvbnNlPigpO1xyXG5cdFx0Y29uc3QgYnVsa1JlZnJlc2hMaXN0OiBDb250ZW50VHlwZVtdID0gbmV3IEFycmF5PENvbnRlbnRUeXBlPigpO1xyXG5cdFx0Zm9yIChsZXQgY29udGVudFR5cGUgb2YgcmVxdWVzdGVkQ29udGVudCkge1xyXG5cdFx0XHRjb25zdCByZXNwb25zZUl0ZW0gPSB0aGlzLmNyZWF0ZUNhY2hlZENvbnRlbnRSZXNwb25zZShjb250ZW50VHlwZSk7XHJcblx0XHRcdGNvbnRlbnRSZXNwb25zZXMucHVzaChyZXNwb25zZUl0ZW0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMucmVmcmVzaEl0ZW1zSW5DYWNoZUZyb21UbXNTZXJ2aWNlKGJ1bGtSZWZyZXNoTGlzdCk7XHJcblxyXG5cdFx0cmV0dXJuIGNvbnRlbnRSZXNwb25zZXM7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgYXN5bmMgZ2V0VXNlckZhY3RzQ29udGVudChcclxuXHRcdHJlcXVlc3RlZENvbnRlbnQ6IENvbnRlbnRUeXBlKTogUHJvbWlzZTxDb250ZW50UmVzcG9uc2U+IHtcclxuXHRcdGF3YWl0IHRoaXMucmVmcmVzaEl0ZW1zSW5DYWNoZUZyb21UdWxpcHNTZXJ2aWNlKHJlcXVlc3RlZENvbnRlbnQpO1xyXG5cdFx0Y29uc3QgcmVzcG9uc2U6IENvbnRlbnRSZXNwb25zZSA9IHRoaXMucmV0cmlldmVDYWNoZUl0ZW1BbmRDcmVhdGVDb250ZW50UmVzcG9uc2UocmVxdWVzdGVkQ29udGVudCk7XHJcblx0XHRyZXR1cm4gcmVzcG9uc2U7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgYXN5bmMgc2VuZEJlYWNvblJlcXVlc3RUb1NlcnZpY2UoXHJcblx0XHRhcHA6IHN0cmluZyxcclxuXHRcdGJlYWNvblBhcmFtZXRlcnM6IElCZWFjb25QYXJhbWV0ZXJzLFxyXG5cdFx0cGxhdGZvcm06IHN0cmluZyxcclxuXHRcdHZlcnNpb246IHN0cmluZyxcclxuXHRcdGxvY2FsZTogc3RyaW5nLFxyXG5cdFx0Y291bnRyeTogc3RyaW5nLFxyXG5cdFx0c2Vzc2lvbklkOiBzdHJpbmcsXHJcblx0XHRhdXRoVG9rZW5DYWxsYmFjazogSUZsb29kZ2F0ZUF1dGhUb2tlbkNhbGxiYWNrXHJcblx0XHQpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuXHRcdHRoaXMuc2Vzc2lvbklkID0gc2Vzc2lvbklkO1xyXG5cdFx0dGhpcy5hdXRoVG9rZW5DYWxsYmFjayA9IGF1dGhUb2tlbkNhbGxiYWNrO1xyXG5cclxuXHRcdGNvbnN0IHRtc0FwcElkID0gZ2V0RHluYW1pY1NldHRpbmcoU2V0dGluZ0tleS50bXNBcHBJZCwgQ29uc3RhbnRzLkdVSURzLlRNU0FwcElEKTtcclxuXHRcdGNvbnN0IGF1dGhUb2tlbiA9IGF3YWl0IHRoaXMuZ2V0QXV0aFRva2VuKHRtc0FwcElkKTtcclxuXHRcdGxldCBwdWlkOiBzdHJpbmcgPSB1bmRlZmluZWQ7XHJcblx0XHRpZiAoIWF1dGhUb2tlbikge1xyXG5cdFx0XHRwdWlkID0gdGhpcy5hdXRoVG9rZW5DYWxsYmFjay5nZXRVc2VyUHVpZCAmJiBhd2FpdCB0aGlzLmF1dGhUb2tlbkNhbGxiYWNrLmdldFVzZXJQdWlkKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgcmVxdWVzdFN0YXJ0VGltZSA9ICtuZXcgRGF0ZSgpO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgdG1zUXVlcnlQYXJhbXM6IElRdWVyeVBhcmFtcyA9IHtcclxuXHRcdFx0XHRhcHAsXHJcblx0XHRcdFx0Y291bnRyeSxcclxuXHRcdFx0XHRsb2NhbGUsXHJcblx0XHRcdFx0cGxhdGZvcm0sXHJcblx0XHRcdFx0cHVpZCxcclxuXHRcdFx0XHR2ZXJzaW9uLFxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Y29uc3QgcmVxdWVzdEJvZHkgPSBKU09OLnN0cmluZ2lmeSh7XHJcblx0XHRcdFx0YWN0aW9uTmFtZTogYmVhY29uUGFyYW1ldGVycy5hY3Rpb25OYW1lLFxyXG5cdFx0XHRcdGFjdGlvblVybDogYmVhY29uUGFyYW1ldGVycy5hY3Rpb25VcmwsXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Y29uc3QgcmVzcG9uc2U6IFJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdChcclxuXHRcdFx0XHR0bXNRdWVyeVBhcmFtcyxcclxuXHRcdFx0XHRhdXRoVG9rZW4sXHJcblx0XHRcdFx0U2V0dGluZ0tleS50bXNBY3Rpb25VcmwsXHJcblx0XHRcdFx0VE1TX1NFUlZJQ0VfQUNUSU9OX1VSTCxcclxuXHRcdFx0XHRyZXF1ZXN0Qm9keSxcclxuXHRcdFx0XHRcIlBPU1RcIik7XHJcblxyXG5cdFx0XHRpZiAoIXJlc3BvbnNlIHx8IHJlc3BvbnNlLnN0YXR1cyAhPT0gMjAwKSB7XHJcblx0XHRcdFx0TG9nZ2luZy5nZXRMb2dnZXIoKS5sb2dFdmVudChcclxuXHRcdFx0XHRcdExvZ2dpbmcuRXZlbnRJZHMuV2ViU3VyZmFjZXMuQ29tbW9uLkVycm9yLlZBTFVFLFxyXG5cdFx0XHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5FcnJvcixcclxuXHRcdFx0XHRcdHRoaXMuY3JlYXRlVGVsZW1ldHJ5RGF0YShyZXF1ZXN0U3RhcnRUaW1lLCByZXNwb25zZSwgYEJlYWNvbiR7YmVhY29uUGFyYW1ldGVycy5hY3Rpb25OYW1lfWApKTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KFxyXG5cdFx0XHRcdExvZ2dpbmcuRXZlbnRJZHMuV2ViU3VyZmFjZXMuQ29tbW9uLkVycm9yLlZBTFVFLFxyXG5cdFx0XHRcdExvZ2dpbmcuTG9nTGV2ZWwuRXJyb3IsXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0RXJyb3JNZXNzYWdlOlxyXG5cdFx0XHRcdFx0XHRcIkVycm9yIGZldGNoaW5nIGZyb20gVE1TIFNldENhbXBhaWduQWN0aW9uIGVuZHBvaW50XCIgKyAoZXJyb3IgJiYgZXJyb3IubWVzc2FnZSA/IFwiOiBcIiArIGVycm9yLm1lc3NhZ2UgOiBcIlwiKSxcclxuXHRcdFx0XHRcdC4uLnRoaXMuY3JlYXRlVGVsZW1ldHJ5RGF0YShyZXF1ZXN0U3RhcnRUaW1lLCBudWxsLCBgQmVhY29uJHtiZWFjb25QYXJhbWV0ZXJzLmFjdGlvbk5hbWV9YCksXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHB1YmxpYyBhc3luYyBnZXRBdWdMb29wVXNlckZhY3RzQ29udGVudChyZXF1ZXN0ZWRDb250ZW50OiBDb250ZW50VHlwZSk6IFByb21pc2U8Q29udGVudFJlc3BvbnNlPiB7XHJcblx0XHRpZiAoIXRoaXMudG1zZ0NhY2hlLmdldEl0ZW1Db250ZW50KENvbnRlbnRUeXBlLnVzZXJGYWN0cykpIHtcclxuXHRcdFx0YXdhaXQgdGhpcy5yZWZyZXNoVXNlckZhY3RzSW5DYWNoZUZyb21BdWdMb29wKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHRoaXMudG1zZ0NhY2hlLmlzSXRlbUV4cGlyZWQoQ29udGVudFR5cGUudXNlckZhY3RzKSkge1xyXG5cdFx0XHR0aGlzLnJlZnJlc2hVc2VyRmFjdHNJbkNhY2hlRnJvbUF1Z0xvb3AoKTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByZXNwb25zZTogQ29udGVudFJlc3BvbnNlID0gdGhpcy5yZXRyaWV2ZUNhY2hlSXRlbUFuZENyZWF0ZUNvbnRlbnRSZXNwb25zZShyZXF1ZXN0ZWRDb250ZW50KTtcclxuXHRcdHJldHVybiByZXNwb25zZTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgcmVmcmVzaFVzZXJGYWN0c0luQ2FjaGVGcm9tQXVnTG9vcCgpOiBQcm9taXNlPEFwaS5JVXNlckZhY3RbXT4ge1xyXG5cdFx0aWYgKCF0aGlzLnRtc2dDYWNoZS5pc0l0ZW1FeHBpcmVkKENvbnRlbnRUeXBlLnVzZXJGYWN0cykpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMudG1zZ0NhY2hlLmdldEl0ZW1Db250ZW50KENvbnRlbnRUeXBlLnVzZXJGYWN0cyk7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgcmVxdWVzdFN0YXJ0VGltZSA9ICtuZXcgRGF0ZSgpO1xyXG5cdFx0bGV0IHVzZXJGYWN0czogQXBpLklVc2VyRmFjdFtdO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgYW5ub3RhdGlvbk5hbWUgPSBnZXREeW5hbWljU2V0dGluZyhTZXR0aW5nS2V5LnR1bGlwc0F1Z0xvb3BBbm5vdGF0aW9uTmFtZSwgXCJBdWdMb29wX1VzZXJfVXNlckxpZmVjeWNsZUZhY3RzQW5ub3RhdGlvblwiKTtcclxuXHRcdFx0Y29uc3QgYXVnTG9vcFNlc3Npb25Qcm9taXNlID0gdGhpcy5hdWdMb29wQ2FsbGJhY2suZ2V0UnVudGltZVNlc3Npb247XHJcblx0XHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZ2V0QXVnTG9vcEFubm90YXRpb25EYXRhKGFubm90YXRpb25OYW1lLCBhdWdMb29wU2Vzc2lvblByb21pc2UpIGFzIElVc2VyRmFjdHNBdWdMb29wUmVzcG9uc2U7XHJcblx0XHRcdGlmIChyZXNwb25zZSAmJiByZXNwb25zZS51c2VyRmFjdHMpIHtcclxuXHRcdFx0XHR1c2VyRmFjdHMgPSB0aGlzLmFkZENsaWVudEluZ2VzdGlvblRpbWVBbmROb3JtYWxpemVLZXlzSW5BcnJheShyZXNwb25zZS51c2VyRmFjdHMpO1xyXG5cdFx0XHRcdHRoaXMudG1zZ0NhY2hlLnNldENvbnRlbnRJdGVtKFxyXG5cdFx0XHRcdFx0XHRDb250ZW50VHlwZS51c2VyRmFjdHMsXHJcblx0XHRcdFx0XHRcdHVzZXJGYWN0cyxcclxuXHRcdFx0XHRcdFx0VG1zZ0NvbnN0YW50cy5DQUNIRV9FWFBJUllfVVNFUkZBQ1RTKTtcclxuXHJcblx0XHRcdFx0TG9nZ2luZy5nZXRMb2dnZXIoKS5sb2dFdmVudChcclxuXHRcdFx0XHRcdExvZ2dpbmcuRXZlbnRJZHMuVXNlckZhY3RzLk1lc3NhZ2luZy5SZXF1ZXN0cy5WQUxVRSxcclxuXHRcdFx0XHRcdExvZ2dpbmcuTG9nTGV2ZWwuSW5mbyxcclxuXHRcdFx0XHRcdHRoaXMuY3JlYXRlVGVsZW1ldHJ5RGF0YShyZXF1ZXN0U3RhcnRUaW1lLCBudWxsLCBcIkF1Z0xvb3BVc2VyRmFjdHNcIikpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGNvbnN0IGF1Z0xvb3BFcnJvciA9IHJlc3BvbnNlICYmIChyZXNwb25zZSBhcyBJQXVnTG9vcFJlc3BvbnNlKS5lcnJvcjtcclxuXHRcdFx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KFxyXG5cdFx0XHRcdFx0TG9nZ2luZy5FdmVudElkcy5Vc2VyRmFjdHMuQ29tbW9uLkVycm9yLlZBTFVFLFxyXG5cdFx0XHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5FcnJvcixcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0RXJyb3JNZXNzYWdlOiBcIkVycm9yIGdldHRpbmcgYXVnbG9vcCBmYWN0cyBcIiArIChhdWdMb29wRXJyb3IgJiYgYXVnTG9vcEVycm9yLnRvU3RyaW5nKCkpLFxyXG5cdFx0XHRcdFx0XHQuLi50aGlzLmNyZWF0ZVRlbGVtZXRyeURhdGEocmVxdWVzdFN0YXJ0VGltZSwgbnVsbCwgXCJBdWdMb29wVXNlckZhY3RzXCIpLFxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0TG9nZ2luZy5nZXRMb2dnZXIoKS5sb2dFdmVudChcclxuXHRcdFx0XHRMb2dnaW5nLkV2ZW50SWRzLlVzZXJGYWN0cy5Db21tb24uRXJyb3IuVkFMVUUsXHJcblx0XHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5FcnJvcixcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRFcnJvck1lc3NhZ2U6IFwiRXJyb3IgZ2V0dGluZyBmYWN0cyBcIiArIChlcnJvciAmJiBlcnJvci5tZXNzYWdlKSxcclxuXHRcdFx0XHRcdC4uLnRoaXMuY3JlYXRlVGVsZW1ldHJ5RGF0YShyZXF1ZXN0U3RhcnRUaW1lLCBudWxsLCBcIkF1Z0xvb3BVc2VyRmFjdHNcIiksXHJcblx0XHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHVzZXJGYWN0cztcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgY3JlYXRlVGVsZW1ldHJ5RGF0YShyZXF1ZXN0U3RhcnRUaW1lc3RhbXA6IG51bWJlciwgcmVzcG9uc2U6IFJlc3BvbnNlLCB0eXBlOiBzdHJpbmcpOiBMb2dnaW5nLklDdXN0b21Qcm9wZXJ0aWVzIHtcclxuXHRcdGNvbnN0IHsgaGVhZGVycywgc3RhdHVzLCBzdGF0dXNUZXh0IH0gPSByZXNwb25zZSB8fCB7fSBhcyBSZXNwb25zZTtcclxuXHRcdGNvbnN0IHNlcnZlclNlc3Npb25JZCA9IGhlYWRlcnMgJiYgaGVhZGVycy5nZXQoXCJYLVVzZXJTZXNzaW9uSWRcIik7XHJcblx0XHRjb25zdCBzZXJ2ZXJDb3JyZWxhdGlvbklkID0gaGVhZGVycyAmJiBoZWFkZXJzLmdldChcIlgtQ29ycmVsYXRpb25JZFwiKTtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdFR5cGU6IHR5cGUsXHJcblx0XHRcdFRpbWVNaWxsaXNlY29uZHM6ICtuZXcgRGF0ZSgpIC0gcmVxdWVzdFN0YXJ0VGltZXN0YW1wLFxyXG5cdFx0XHRTZXNzaW9uSWQ6IHNlcnZlclNlc3Npb25JZCB8fCB0aGlzLnNlc3Npb25JZCxcclxuXHRcdFx0Q29ycmVsYXRpb25JZDogc2VydmVyQ29ycmVsYXRpb25JZCB8fCB1bmRlZmluZWQsXHJcblx0XHRcdEh0dHBTdGF0dXNDb2RlOiBzdGF0dXMgfHwgdW5kZWZpbmVkLFxyXG5cdFx0XHRIdHRwU3RhdHVzVGV4dDogc3RhdHVzVGV4dCB8fCB1bmRlZmluZWQsXHJcblxyXG5cdFx0XHRGbGlnaHRzOiB0aGlzLmNhbXBhaWduRmxpZ2h0cyxcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHNlbmRSZXF1ZXN0KFxyXG5cdFx0dG1zZ1F1ZXJ5UGFyYW1zOiBJUXVlcnlQYXJhbXMsXHJcblx0XHRhdXRoVG9rZW46IHN0cmluZyxcclxuXHRcdGtleTogU2V0dGluZ0tleSxcclxuXHRcdHNlcnZpY2VVcmw6IHN0cmluZyxcclxuXHRcdHJlcXVlc3RCb2R5Pzogc3RyaW5nLFxyXG5cdFx0dmVyYj86IHN0cmluZyk6IFByb21pc2U8UmVzcG9uc2U+IHtcclxuXHRcdHRoaXMudG1zZ1RyYW5zcG9ydCA9IHRoaXMudG1zZ1RyYW5zcG9ydCB8fCBuZXcgVGFyZ2V0ZWRNZXNzYWdpbmdUcmFuc3BvcnQodGhpcy5zZXNzaW9uSWQpO1xyXG5cdFx0Y29uc3QgcXVlcnlQYXJhbVN0ciA9IGJ1aWxkUXVlcnlQYXJhbWV0ZXJzKHRtc2dRdWVyeVBhcmFtcyk7XHJcblx0XHRjb25zdCB0bXNnQmFzZVVybCA9IGdldER5bmFtaWNTZXR0aW5nKGtleSwgc2VydmljZVVybCk7XHJcblx0XHRjb25zdCByZXF1ZXN0UHJvbWlzZSA9IHZlcmIgPT09IFwiUE9TVFwiID9cclxuXHRcdFx0dGhpcy50bXNnVHJhbnNwb3J0LnNlbmRQb3N0UmVxdWVzdCh0bXNnQmFzZVVybCArIHF1ZXJ5UGFyYW1TdHIsIHJlcXVlc3RCb2R5LCBhdXRoVG9rZW4pIDpcclxuXHRcdFx0dGhpcy50bXNnVHJhbnNwb3J0LnNlbmRHZXRSZXF1ZXN0KHRtc2dCYXNlVXJsICsgcXVlcnlQYXJhbVN0ciwgYXV0aFRva2VuKTtcclxuXHRcdHJldHVybiByZXF1ZXN0UHJvbWlzZTtcclxuXHR9XHJcblxyXG5cdHByaXZhdGUgcmV0cmlldmVDYWNoZUl0ZW1BbmRDcmVhdGVDb250ZW50UmVzcG9uc2UoY29udGVudFR5cGU6IENvbnRlbnRUeXBlKTogQ29udGVudFJlc3BvbnNlIHtcclxuXHRcdGNvbnN0IHJlc3BvbnNlSXRlbTogQ29udGVudFJlc3BvbnNlID0gdGhpcy5jcmVhdGVDYWNoZWRDb250ZW50UmVzcG9uc2UoY29udGVudFR5cGUpO1xyXG5cdFx0aWYgKHRoaXMudG1zZ0NhY2hlLmlzSXRlbUV4cGlyZWQoY29udGVudFR5cGUpKSB7XHJcblx0XHRcdGlmIChjb250ZW50VHlwZSA9PT0gQ29udGVudFR5cGUudXNlckZhY3RzKSB7XHJcblx0XHRcdFx0dGhpcy5yZWZyZXNoSXRlbXNJbkNhY2hlRnJvbVR1bGlwc1NlcnZpY2UoY29udGVudFR5cGUpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRoaXMucmVmcmVzaEl0ZW1zSW5DYWNoZUZyb21UbXNTZXJ2aWNlKFtjb250ZW50VHlwZV0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzcG9uc2VJdGVtO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBjcmVhdGVDYWNoZWRDb250ZW50UmVzcG9uc2UocmVxdWVzdGVkQ29udGVudDogQ29udGVudFR5cGUpOiBDb250ZW50UmVzcG9uc2Uge1xyXG5cdFx0Y29uc3QgY29udGVudFJlc3BvbnNlOiBDb250ZW50UmVzcG9uc2UgPSBuZXcgQ29udGVudFJlc3BvbnNlKCk7XHJcblx0XHRjb250ZW50UmVzcG9uc2UuY29udGVudCA9IHRoaXMudG1zZ0NhY2hlLmdldEl0ZW1Db250ZW50KHJlcXVlc3RlZENvbnRlbnQpO1xyXG5cdFx0Y29udGVudFJlc3BvbnNlLmNvbnRlbnRUeXBlID0gcmVxdWVzdGVkQ29udGVudDtcclxuXHJcblx0XHRyZXR1cm4gY29udGVudFJlc3BvbnNlO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBhc3luYyBnZXRBdXRoVG9rZW4oYXBwSWRPclVyaTogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuXHRcdGlmICghdGhpcy5hdXRoVG9rZW5DYWxsYmFjayB8fCAhdGhpcy5hdXRoVG9rZW5DYWxsYmFjay5nZXRBdXRoVG9rZW4pIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3Qgc3RhcnRUaW1lID0gK25ldyBEYXRlKCk7XHJcblx0XHRjb25zdCBnZXREdXJhdGlvbiA9ICgpID0+ICtuZXcgRGF0ZSgpIC0gc3RhcnRUaW1lO1xyXG5cdFx0Y29uc3QgY3JlYXRlQXV0aFRlbGVtZXRyeURhdGEgPSAoZXJyb3JNZXNzYWdlOiBzdHJpbmcgPSB1bmRlZmluZWQpOiBMb2dnaW5nLklDdXN0b21Qcm9wZXJ0aWVzID0+IHtcclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRFcnJvck1lc3NhZ2U6IGVycm9yTWVzc2FnZSxcclxuXHRcdFx0XHRTZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkLFxyXG5cdFx0XHRcdFRpbWVNaWxsaXNlY29uZHM6IGdldER1cmF0aW9uKCksXHJcblx0XHRcdFx0VHlwZTogYXBwSWRPclVyaSxcclxuXHRcdFx0fTtcclxuXHRcdH07XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0Y29uc3QgcmV0VmFsID0gYXdhaXQgdGhpcy5hdXRoVG9rZW5DYWxsYmFjay5nZXRBdXRoVG9rZW4oYXBwSWRPclVyaSk7XHJcblx0XHRcdExvZ2dpbmcuZ2V0TG9nZ2VyKCkubG9nRXZlbnQoXHJcblx0XHRcdFx0TG9nZ2luZy5FdmVudElkcy5XZWJTdXJmYWNlcy5Db21tb24uSW5mby5WQUxVRSxcclxuXHRcdFx0XHRMb2dnaW5nLkxvZ0xldmVsLkluZm8sXHJcblx0XHRcdFx0Y3JlYXRlQXV0aFRlbGVtZXRyeURhdGEoKSk7XHJcblxyXG5cdFx0XHRyZXR1cm4gcmV0VmFsO1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0TG9nZ2luZy5nZXRMb2dnZXIoKS5sb2dFdmVudChcclxuXHRcdFx0XHRMb2dnaW5nLkV2ZW50SWRzLldlYlN1cmZhY2VzLkNvbW1vbi5FcnJvci5WQUxVRSxcclxuXHRcdFx0XHRMb2dnaW5nLkxvZ0xldmVsLkVycm9yLFxyXG5cdFx0XHRcdGNyZWF0ZUF1dGhUZWxlbWV0cnlEYXRhKFwiRXJyb3IgZ2V0dGluZyB0b2tlbiBcIiArIChlcnJvciAmJiBlcnJvci5tZXNzYWdlID8gXCI6IFwiICsgZXJyb3IubWVzc2FnZSA6IFwiXCIpKSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFzeW5jIHJlZnJlc2hJdGVtc0luQ2FjaGVGcm9tVG1zU2VydmljZShjb250ZW50VHlwZXM6IEFycmF5PENvbnRlbnRUeXBlPik6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0aWYgKGNvbnRlbnRUeXBlcy5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGNoZWNrIGlmIHRvdWNoZWQgaXRlbXMgYXJlIGFjdHVhbGx5IGR1ZSBmb3IgcmVmcmVzaCBvciBhcmUgc3RpbGwgdmFsaWRcclxuXHRcdGNvbnN0IGJ1bGtSZWZyZXNoTGlzdDogQ29udGVudFR5cGVbXSA9IG5ldyBBcnJheTxDb250ZW50VHlwZT4oKTtcclxuXHRcdGZvciAobGV0IGNvbnRlbnRUeXBlIG9mIGNvbnRlbnRUeXBlcykge1xyXG5cdFx0XHRpZiAodGhpcy50bXNnQ2FjaGUuaXNJdGVtRXhwaXJlZChjb250ZW50VHlwZSkpIHtcclxuXHRcdFx0XHRidWxrUmVmcmVzaExpc3QucHVzaChjb250ZW50VHlwZSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoYnVsa1JlZnJlc2hMaXN0Lmxlbmd0aCA9PT0gMCkge1xyXG5cdFx0XHQvLyBleGl0IG91dCBpZiBhbGwgaXRlbXMgaW4gY2FjaGUgYXJlIHN0aWxsIHZhbGlkIHRvIGF2b2lkIHVubmVjZXNzYXJ5IHNlcnZpY2Ugcm91bmR0cmlwcyBcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHRtc0FwcElkID0gZ2V0RHluYW1pY1NldHRpbmcoU2V0dGluZ0tleS50bXNBcHBJZCwgQ29uc3RhbnRzLkdVSURzLlRNU0FwcElEKTtcclxuXHRcdGNvbnN0IGF1dGhUb2tlbiA9IGF3YWl0IHRoaXMuZ2V0QXV0aFRva2VuKHRtc0FwcElkKTtcclxuXHRcdGxldCB1c2VyUHVpZDogc3RyaW5nID0gdW5kZWZpbmVkO1xyXG5cdFx0aWYgKCFhdXRoVG9rZW4pIHtcclxuXHRcdFx0dXNlclB1aWQgPSB0aGlzLmF1dGhUb2tlbkNhbGxiYWNrLmdldFVzZXJQdWlkICYmIGF3YWl0IHRoaXMuYXV0aFRva2VuQ2FsbGJhY2suZ2V0VXNlclB1aWQoKTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByZXF1ZXN0U3RhcnRUaW1lID0gK25ldyBEYXRlKCk7XHJcblxyXG5cdFx0Ly8gbWFrZSBzZXJ2aWNlIGNhbGwgZm9yIGV4cGlyZWQgb3IgdW5jYWNoZWQgaXRlbXNcclxuXHRcdHRyeSB7XHJcblx0XHRcdC8vIGNhcHR1cmUgYnJvd3NlciBkYXRhIHRvIHBlcmZvcm0gYWRkaXRpb25hbCBmaWx0ZXJzIG9uIElSSVNcclxuXHRcdFx0Ly8gdGhpcyBpcyB0byBhdm9pZCBzaG93aW5nIGJhZCBVSSBleHBlcmllbmNlIG9uIHVuc3VwcG9ydGVkIGJyb3dzZXJzL2RpbWVuc2lvbnNcclxuXHRcdFx0Y29uc3QgZG9jdW1lbnRFbGVtZW50ID0gZG9jdW1lbnQgJiYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIilbMF0pO1xyXG5cdFx0XHRjb25zdCBicm93c2VyUGFyYW1zOiBJUXVlcnlQYXJhbXMgPSB7XHJcblx0XHRcdFx0cGFnZVdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsXHJcblx0XHRcdFx0cGFnZUhlaWdodDogd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsXHJcblx0XHRcdFx0c2NyZWVuV2lkdGg6IHNjcmVlbiA/IHNjcmVlbi53aWR0aCA6IHVuZGVmaW5lZCxcclxuXHRcdFx0XHRzY3JlZW5IZWlnaHQ6IHNjcmVlbiA/IHNjcmVlbi5oZWlnaHQgOiB1bmRlZmluZWQsXHJcblx0XHRcdFx0Y29sb3JEZXB0aDogc2NyZWVuID8gc2NyZWVuLmNvbG9yRGVwdGggOiB1bmRlZmluZWQsXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHQvLyBhbGxvdyB0ZXN0aW5nIHdpdGggcXVlcnkgcGFyYW0gb3ZlcnJpZGVzIHdpdGgga2V5IG9iZi1EZWJ1Z092ZXJyaWRlc1xyXG5cdFx0XHQvLyBlZzoge1wiYWRkVG1zUXVlcnlQYXJhbXNcIjp7XCJrZXkxXCI6XCJrZXkxdmFsdWVcIn0sXCJyZXBsYWNlVG1zUXVlcnlQYXJhbXNcIjp7XCJrZXkyXCI6XCJrZXkydmFsdWVcIn0sIFwidG1zUmVzcG9uc2VcIjoge319XHJcblx0XHRcdGNvbnN0IGRlYnVnT3ZlcnJpZGVzID0gRmxvb2RnYXRlU3RvcmFnZVByb3ZpZGVyLnNhZmVSZWFkT2JqZWN0PElEZWJ1Z092ZXJyaWRlcz4oRmlsZVR5cGUuRGVidWdPdmVycmlkZXMsIHt9KTtcclxuXHRcdFx0Y29uc3QgdG1zUXVlcnlQYXJhbXM6IElRdWVyeVBhcmFtcyA9IGRlYnVnT3ZlcnJpZGVzLnJlcGxhY2VUbXNRdWVyeVBhcmFtcyB8fCB7XHJcblx0XHRcdFx0Y291bnRyeTogdGhpcy5jb3VudHJ5LFxyXG5cdFx0XHRcdGxvY2FsZTogdGhpcy5sb2NhbGUsXHJcblx0XHRcdFx0YXBwOiB0aGlzLmFwcCxcclxuXHRcdFx0XHRwbGF0Zm9ybTogdGhpcy5wbGF0Zm9ybSxcclxuXHRcdFx0XHR2ZXJzaW9uOiB0aGlzLnZlcnNpb24sXHJcblx0XHRcdFx0Y2FtcGFpZ25QYXJhbXM6IGJ1aWxkUXVlcnlQYXJhbWV0ZXJzKGJyb3dzZXJQYXJhbXMpICsgXCImbW9yZT10cnVlJlwiICsgKHRoaXMuY2FtcGFpZ25QYXJhbWV0ZXJzIHx8IFwiXCIpLFxyXG5cdFx0XHRcdGNvbnRlbnRUeXBlOiBjb250ZW50VHlwZXMuam9pbihcIjtcIiksXHJcblx0XHRcdFx0cHVpZDogdXNlclB1aWQsXHJcblx0XHRcdFx0T0ZDX0ZMSUdIVFM6IHRoaXMuY2FtcGFpZ25GbGlnaHRzLFxyXG5cdFx0XHRcdC4uLihkZWJ1Z092ZXJyaWRlcy5hZGRUbXNRdWVyeVBhcmFtcyB8fCB7fSksXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRjb25zdCByZXNwb25zZTogUmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KFxyXG5cdFx0XHRcdHRtc1F1ZXJ5UGFyYW1zLFxyXG5cdFx0XHRcdGF1dGhUb2tlbixcclxuXHRcdFx0XHRTZXR0aW5nS2V5LnRtc1NlcnZpY2VVcmwsXHJcblx0XHRcdFx0VG1zZ0NvbnN0YW50cy5UTVNfU0VSVklDRVVSTCk7XHJcblx0XHRcdGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkge1xyXG5cdFx0XHRcdGNvbnN0IHRtc1NlcnZpY2VSZXNwb25zZTogSVRtc1NlcnZpY2VSZXNwb25zZSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcblx0XHRcdFx0aWYgKGNvbnRlbnRUeXBlcy5pbmRleE9mKENvbnRlbnRUeXBlLm1lc3NhZ2VNZXRhZGF0YSkgIT09IC0xXHJcblx0XHRcdFx0XHQmJiB0bXNTZXJ2aWNlUmVzcG9uc2UuTWVzc2FnZU1ldGFkYXRhICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdHRoaXMudG1zZ0NhY2hlLnNldENvbnRlbnRJdGVtKFxyXG5cdFx0XHRcdFx0XHRcdENvbnRlbnRUeXBlLm1lc3NhZ2VNZXRhZGF0YSxcclxuXHRcdFx0XHRcdFx0XHR0bXNTZXJ2aWNlUmVzcG9uc2UuTWVzc2FnZU1ldGFkYXRhLFxyXG5cdFx0XHRcdFx0XHRcdGdldER5bmFtaWNTZXR0aW5nKFNldHRpbmdLZXkudG1zTWVzc2FnZU1ldGFkYXRhRXhwaXJ5LCBUbXNnQ29uc3RhbnRzLkNBQ0hFX0VYUElSWV9NRVNTQUdFTUVUQURBVEEpKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmIChjb250ZW50VHlwZXMuaW5kZXhPZihDb250ZW50VHlwZS51c2VyR292ZXJuYW5jZVJ1bGVzKSAhPT0gLTFcclxuXHRcdFx0XHRcdCYmIHRtc1NlcnZpY2VSZXNwb25zZS5Vc2VyR292ZXJuYW5jZVJ1bGVzICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdHRoaXMudG1zZ0NhY2hlLnNldENvbnRlbnRJdGVtKFxyXG5cdFx0XHRcdFx0XHRcdENvbnRlbnRUeXBlLnVzZXJHb3Zlcm5hbmNlUnVsZXMsXHJcblx0XHRcdFx0XHRcdFx0dG1zU2VydmljZVJlc3BvbnNlLlVzZXJHb3Zlcm5hbmNlUnVsZXMsXHJcblx0XHRcdFx0XHRcdFx0Z2V0RHluYW1pY1NldHRpbmcoU2V0dGluZ0tleS50bXNVc2VyR292ZXJuYW5jZVJ1bGVzRXhwaXJ5LCBUbXNnQ29uc3RhbnRzLkNBQ0hFX0VYUElSWV9VU0VSR09WRVJOQU5DRVJVTEVTKSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoY29udGVudFR5cGVzLmluZGV4T2YoQ29udGVudFR5cGUuY2FtcGFpZ25Db250ZW50KSAhPT0gLTFcclxuXHRcdFx0XHRcdCYmIHRtc1NlcnZpY2VSZXNwb25zZS5DYW1wYWlnbkNvbnRlbnQgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdFx0dGhpcy50bXNnQ2FjaGUuc2V0Q29udGVudEl0ZW0oXHJcblx0XHRcdFx0XHRcdFx0Q29udGVudFR5cGUuY2FtcGFpZ25Db250ZW50LFxyXG5cdFx0XHRcdFx0XHRcdHRtc1NlcnZpY2VSZXNwb25zZS5DYW1wYWlnbkNvbnRlbnQsXHJcblx0XHRcdFx0XHRcdFx0Z2V0RHluYW1pY1NldHRpbmcoU2V0dGluZ0tleS50bXNDYW1wYWlnbkNvbnRlbnRFeHBpcnksIFRtc2dDb25zdGFudHMuQ0FDSEVfRVhQSVJZX0NBTVBBSUdOQ09OVEVOVCkpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gVGhlcmUgaXMgbm8gZXhwbGljaXQgcmVxdWVzdCBmb3IgdGhlIG5leHQgc2V0IG9mIENvbnRlbnRUeXBlcyBpbiB0aGUgY29kZVxyXG5cdFx0XHRcdC8vIElmIHRoZSBzZXJ2ZXIgcmVzcG9uZHMgd2l0aCB0aGVzZSB0eXBlcyBzYXZlIGFuZCB1c2UgdGhlbSBsYXRlclxyXG5cdFx0XHRcdGlmICh0bXNTZXJ2aWNlUmVzcG9uc2UuRHluYW1pY1NldHRpbmdzICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdHRoaXMudG1zZ0NhY2hlLnNldENvbnRlbnRJdGVtKFxyXG5cdFx0XHRcdFx0XHRcdENvbnRlbnRUeXBlLmR5bmFtaWNTZXR0aW5ncyxcclxuXHRcdFx0XHRcdFx0XHR0bXNTZXJ2aWNlUmVzcG9uc2UuRHluYW1pY1NldHRpbmdzLFxyXG5cdFx0XHRcdFx0XHRcdGdldER5bmFtaWNTZXR0aW5nKFNldHRpbmdLZXkudG1zRHluYW1pY1NldHRpbmdzRXhwaXJ5LCBUbXNnQ29uc3RhbnRzLkNBQ0hFX0VYUElSWV9EWU5BTUlDU0VUVElOR1MpKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmICh0bXNTZXJ2aWNlUmVzcG9uc2UuTG9nTGV2ZWxTZXR0aW5ncyAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0XHR0aGlzLnRtc2dDYWNoZS5zZXRDb250ZW50SXRlbShcclxuXHRcdFx0XHRcdFx0XHRDb250ZW50VHlwZS5sb2dMZXZlbFNldHRpbmdzLFxyXG5cdFx0XHRcdFx0XHRcdHRtc1NlcnZpY2VSZXNwb25zZS5Mb2dMZXZlbFNldHRpbmdzLFxyXG5cdFx0XHRcdFx0XHRcdGdldER5bmFtaWNTZXR0aW5nKFNldHRpbmdLZXkudG1zTG9nTGV2ZWxTZXR0aW5nc0V4cGlyeSwgVG1zZ0NvbnN0YW50cy5DQUNIRV9FWFBJUllfTE9HTEVWRUxTRVRUSU5HUykpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0TG9nZ2luZy5nZXRMb2dnZXIoKS5sb2dFdmVudChcclxuXHRcdFx0XHRcdExvZ2dpbmcuRXZlbnRJZHMuV2ViU3VyZmFjZXMuTWVzc2FnaW5nLlJlcXVlc3RzLlZBTFVFLFxyXG5cdFx0XHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5JbmZvLFxyXG5cdFx0XHRcdFx0dGhpcy5jcmVhdGVUZWxlbWV0cnlEYXRhKHJlcXVlc3RTdGFydFRpbWUsIHJlc3BvbnNlLCBjb250ZW50VHlwZXMuam9pbihcIjtcIikpKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KFxyXG5cdFx0XHRcdFx0TG9nZ2luZy5FdmVudElkcy5XZWJTdXJmYWNlcy5Db21tb24uRXJyb3IuVkFMVUUsXHJcblx0XHRcdFx0XHRMb2dnaW5nLkxvZ0xldmVsLkVycm9yLFxyXG5cdFx0XHRcdFx0dGhpcy5jcmVhdGVUZWxlbWV0cnlEYXRhKHJlcXVlc3RTdGFydFRpbWUsIHJlc3BvbnNlLCBjb250ZW50VHlwZXMuam9pbihcIjtcIikpKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0TG9nZ2luZy5nZXRMb2dnZXIoKS5sb2dFdmVudChcclxuXHRcdFx0XHRMb2dnaW5nLkV2ZW50SWRzLldlYlN1cmZhY2VzLkNvbW1vbi5FcnJvci5WQUxVRSxcclxuXHRcdFx0XHRMb2dnaW5nLkxvZ0xldmVsLkVycm9yLFxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdEVycm9yTWVzc2FnZTogXCJFcnJvciBmZXRjaGluZyBmcm9tIFRNU1wiICsgKGVycm9yICYmIGVycm9yLm1lc3NhZ2UgPyBcIjogXCIgKyBlcnJvci5tZXNzYWdlIDogXCJcIiksXHJcblx0XHRcdFx0XHQuLi50aGlzLmNyZWF0ZVRlbGVtZXRyeURhdGEocmVxdWVzdFN0YXJ0VGltZSwgbnVsbCwgY29udGVudFR5cGVzLmpvaW4oXCI7XCIpKSxcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYXN5bmMgcmVmcmVzaEl0ZW1zSW5DYWNoZUZyb21UdWxpcHNTZXJ2aWNlKGNvbnRlbnRUeXBlOiBDb250ZW50VHlwZSk6IFByb21pc2U8dm9pZD4ge1xyXG5cdFx0Ly8gY2hlY2sgaWYgdG91Y2hlZCBpdGVtIGlzIGFjdHVhbGx5IGR1ZSBmb3IgcmVmcmVzaCBvciBpcyBzdGlsbCB2YWxpZFxyXG5cdFx0aWYgKCF0aGlzLnRtc2dDYWNoZS5pc0l0ZW1FeHBpcmVkKGNvbnRlbnRUeXBlKSkge1xyXG5cdFx0XHQvLyBleGl0IG91dCBpZiB0aGUgY2FjaGUgaXMgc3RpbGwgdmFsaWQgdG8gYXZvaWQgdW5uZWNlc3Nhcnkgc2VydmljZSByb3VuZHRyaXBzXHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCB0dWxpcHNBcHBJZCA9IGdldER5bmFtaWNTZXR0aW5nKFNldHRpbmdLZXkudHVsaXBzQXBwSWQsIENvbnN0YW50cy5HVUlEcy5UVUxJUFNBcHBJRCk7XHJcblx0XHRjb25zdCBhdXRoVG9rZW4gPSBhd2FpdCB0aGlzLmdldEF1dGhUb2tlbih0dWxpcHNBcHBJZCk7XHJcblx0XHRpZiAoIWF1dGhUb2tlbikge1xyXG5cdFx0XHQvLyBpZiBhdXRoVG9rZW4gaXMgbnVsbCB0aGVuIGV4aXQgb3V0IHNpbmNlIHNlcnZpY2UgY2FsbCBjYW5ub3QgYmUgbWFkZSB3aXRob3V0IGF1dGhUb2tlblxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgcmVxdWVzdFN0YXJ0VGltZSA9ICtuZXcgRGF0ZSgpO1xyXG5cclxuXHRcdC8vIG1ha2Ugc2VydmljZSBjYWxsIGZvciBleHBpcmVkIG9yIHVuY2FjaGVkIGl0ZW1cclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IHJlc3BvbnNlOiBSZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoXHJcblx0XHRcdFx0e30sXHJcblx0XHRcdFx0YXV0aFRva2VuLFxyXG5cdFx0XHRcdFNldHRpbmdLZXkudHVsaXBzU2VydmljZVVybCxcclxuXHRcdFx0XHRUbXNnQ29uc3RhbnRzLlRVTElQU19TRVJWSUNFVVJMKTtcclxuXHRcdFx0aWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwIHx8IHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XHJcblx0XHRcdFx0Y29uc3QgdHVsaXBzU2VydmljZVJlc3BvbnNlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cclxuXHRcdFx0XHRpZiAoY29udGVudFR5cGUuaW5kZXhPZihDb250ZW50VHlwZS51c2VyRmFjdHMpICE9PSAtMVxyXG5cdFx0XHRcdFx0JiYgdHVsaXBzU2VydmljZVJlc3BvbnNlICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdGNvbnN0IG5vcm1hbGl6ZWRVc2VyRmFjdHMgPSB0aGlzLmFkZENsaWVudEluZ2VzdGlvblRpbWVBbmROb3JtYWxpemVLZXlzKHR1bGlwc1NlcnZpY2VSZXNwb25zZSk7XHJcblx0XHRcdFx0XHR0aGlzLnRtc2dDYWNoZS5zZXRDb250ZW50SXRlbShcclxuXHRcdFx0XHRcdFx0XHRDb250ZW50VHlwZS51c2VyRmFjdHMsXHJcblx0XHRcdFx0XHRcdFx0bm9ybWFsaXplZFVzZXJGYWN0cyxcclxuXHRcdFx0XHRcdFx0XHRUbXNnQ29uc3RhbnRzLkNBQ0hFX0VYUElSWV9VU0VSRkFDVFMpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0TG9nZ2luZy5nZXRMb2dnZXIoKS5sb2dFdmVudChcclxuXHRcdFx0XHRcdExvZ2dpbmcuRXZlbnRJZHMuVXNlckZhY3RzLk1lc3NhZ2luZy5SZXF1ZXN0cy5WQUxVRSxcclxuXHRcdFx0XHRcdExvZ2dpbmcuTG9nTGV2ZWwuSW5mbyxcclxuXHRcdFx0XHRcdHRoaXMuY3JlYXRlVGVsZW1ldHJ5RGF0YShyZXF1ZXN0U3RhcnRUaW1lLCByZXNwb25zZSwgY29udGVudFR5cGUpKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KFxyXG5cdFx0XHRcdFx0TG9nZ2luZy5FdmVudElkcy5Vc2VyRmFjdHMuQ29tbW9uLkVycm9yLlZBTFVFLFxyXG5cdFx0XHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5FcnJvcixcclxuXHRcdFx0XHRcdHRoaXMuY3JlYXRlVGVsZW1ldHJ5RGF0YShyZXF1ZXN0U3RhcnRUaW1lLCByZXNwb25zZSwgY29udGVudFR5cGUpKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0TG9nZ2luZy5nZXRMb2dnZXIoKS5sb2dFdmVudChcclxuXHRcdFx0XHRMb2dnaW5nLkV2ZW50SWRzLlVzZXJGYWN0cy5Db21tb24uRXJyb3IuVkFMVUUsXHJcblx0XHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5FcnJvcixcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRFcnJvck1lc3NhZ2U6IFwiRXJyb3IgZmV0Y2hpbmcgZnJvbSBUVUxJUFNcIiArIChlcnJvciAmJiBlcnJvci5tZXNzYWdlID8gXCI6IFwiICsgZXJyb3IubWVzc2FnZSA6IFwiXCIpLFxyXG5cdFx0XHRcdFx0Li4udGhpcy5jcmVhdGVUZWxlbWV0cnlEYXRhKHJlcXVlc3RTdGFydFRpbWUsIG51bGwsIGNvbnRlbnRUeXBlKSxcclxuXHRcdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgYWRkQ2xpZW50SW5nZXN0aW9uVGltZUFuZE5vcm1hbGl6ZUtleXModHVsaXBzU2VydmljZVJlc3BvbnNlOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+W10pOiBBcGkuSVVzZXJGYWN0W10ge1xyXG5cdFx0Y29uc3QgY3VycmVudERhdGVUaW1lID0gbmV3IERhdGUoRGF0ZS5ub3coKSkudG9JU09TdHJpbmcoKTtcclxuXHJcblx0XHRyZXR1cm4gdHVsaXBzU2VydmljZVJlc3BvbnNlLm1hcChyZXNwb25zZUZhY3QgPT4ge1xyXG5cdFx0XHRjb25zdCBmYWN0ID0gdGhpcy5ub3JtYWxpemVLZXlzKHJlc3BvbnNlRmFjdCk7XHJcblx0XHRcdGZhY3QuY2xpZW50SW5nZXN0aW9uRGF0ZVRpbWUgPSBjdXJyZW50RGF0ZVRpbWU7XHJcblx0XHRcdHJldHVybiBmYWN0O1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGFkZENsaWVudEluZ2VzdGlvblRpbWVBbmROb3JtYWxpemVLZXlzSW5BcnJheSh1c2VyRmFjdHM6IEFwaS5JVXNlckZhY3RbXSk6IEFwaS5JVXNlckZhY3RbXSB7XHJcblx0XHRjb25zdCBjdXJyZW50RGF0ZVRpbWUgPSBuZXcgRGF0ZShEYXRlLm5vdygpKS50b0lTT1N0cmluZygpO1xyXG5cclxuXHRcdHJldHVybiB1c2VyRmFjdHMubWFwKHVzZXJGYWN0ID0+IHtcclxuXHRcdFx0Y29uc3QgZmFjdCA9IHRoaXMubm9ybWFsaXplS2V5cyh1c2VyRmFjdCBhcyB1bmtub3duIGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz4pO1xyXG5cdFx0XHRmYWN0LmNsaWVudEluZ2VzdGlvbkRhdGVUaW1lID0gY3VycmVudERhdGVUaW1lO1xyXG5cdFx0XHRyZXR1cm4gZmFjdDtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVGhpcyBtZXRob2Qgbm9ybWFsaXplcyB0aGUga2V5cyBvZiB0aGUgdXNlciBmYWN0IG9iamVjdCByZXRyaWV2ZWQgZnJvbSB0aGUgVFVMSVBTIHNlcnZpY2UuXHJcblx0ICogU3BlY2lmaWNhbGx5IGl0IGNvbnZlcnRzIHRoZSBmaXJzdCBsZXR0ZXIgb2YgZWFjaCBrZXkgaW4gdGhlIG9iamVjdCB0byBsb3dlciBjYXNlLlxyXG5cdCAqIEZvciBleGFtcGxlIHRoZSBrZXkgXCJVc2VyRmFjdFR5cGVcIiByZXR1cm5lZCBmcm9tIHRoZSBzZXJ2aWNlIHdpbGwgYmUgY29udmVydGVkIHRvIFwidXNlckZhY3RUeXBlXCIuXHJcblx0ICogQHBhcmFtIHVzZXJGYWN0IHRoZSB1c2VyIGZhY3Qgb2JqZWN0XHJcblx0ICovXHJcblx0cHJpdmF0ZSBub3JtYWxpemVLZXlzKHVzZXJGYWN0OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KSB7XHJcblx0XHRjb25zdCBub3JtYWxpemVkVXNlckZhY3QgPSB7fSBhcyBBcGkuSVVzZXJGYWN0O1xyXG5cdFx0Zm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXModXNlckZhY3QpKSB7XHJcblx0XHRcdGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSAoa2V5LmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsga2V5LnN1YnN0cmluZygxKSkgYXMga2V5b2YgQXBpLklVc2VyRmFjdDtcclxuXHRcdFx0bm9ybWFsaXplZFVzZXJGYWN0W25vcm1hbGl6ZWRLZXldID0gdXNlckZhY3Rba2V5XTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbm9ybWFsaXplZFVzZXJGYWN0O1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/TargetedMessaging/TargetedMessagingClient.ts\n')},"./scripts/app/TargetedMessaging/TargetedMessagingConstants.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CACHE_EXPIRY_MESSAGEMETADATA", function() { return CACHE_EXPIRY_MESSAGEMETADATA; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CACHE_EXPIRY_USERGOVERNANCERULES", function() { return CACHE_EXPIRY_USERGOVERNANCERULES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CACHE_EXPIRY_CAMPAIGNCONTENT", function() { return CACHE_EXPIRY_CAMPAIGNCONTENT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CACHE_EXPIRY_DYNAMICSETTINGS", function() { return CACHE_EXPIRY_DYNAMICSETTINGS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CACHE_EXPIRY_LOGLEVELSETTINGS", function() { return CACHE_EXPIRY_LOGLEVELSETTINGS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CACHE_EXPIRY_USERFACTS", function() { return CACHE_EXPIRY_USERFACTS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TMS_SERVICEURL", function() { return TMS_SERVICEURL; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TMS_SERVICE_ACTION_URL", function() { return TMS_SERVICE_ACTION_URL; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TMS_CAMPAIGN_LOAD_TIMEOUT", function() { return TMS_CAMPAIGN_LOAD_TIMEOUT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TMS_FETCH_TIMEOUT", function() { return TMS_FETCH_TIMEOUT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TULIPS_SERVICEURL", function() { return TULIPS_SERVICEURL; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TULIPS_LOAD_TIMEOUT", function() { return TULIPS_LOAD_TIMEOUT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TULIPS_FETCH_TIMEOUT", function() { return TULIPS_FETCH_TIMEOUT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TULIPS_INGESTION_TIME", function() { return TULIPS_INGESTION_TIME; });\nvar CACHE_EXPIRY_MESSAGEMETADATA = 14400000; // expiry in ms - 4hrs\r\nvar CACHE_EXPIRY_USERGOVERNANCERULES = 14400000; // expiry in ms - 4hrs\r\nvar CACHE_EXPIRY_CAMPAIGNCONTENT = 14400000; // expiry in ms - 4hrs\r\nvar CACHE_EXPIRY_DYNAMICSETTINGS = 14400000; // expiry in ms - 4hrs\r\nvar CACHE_EXPIRY_LOGLEVELSETTINGS = 14400000; // expiry in ms - 4hrs\r\nvar CACHE_EXPIRY_USERFACTS = 86400000; // expiry in ms - 24hrs\r\nvar TMS_SERVICEURL = "https://messaging.office.com/lifecycle/CampaignMetadataAggregator?";\r\nvar TMS_SERVICE_ACTION_URL = "https://messaging.office.com/lifecycle/SetCampaignAction?";\r\nvar TMS_CAMPAIGN_LOAD_TIMEOUT = 1000;\r\nvar TMS_FETCH_TIMEOUT = 5000; // timeout for fetching tms service requests\r\nvar TULIPS_SERVICEURL = "https://substrate.office.com/OfficePersonalizationUserLifecycle/api/facts";\r\nvar TULIPS_LOAD_TIMEOUT = 1000;\r\nvar TULIPS_FETCH_TIMEOUT = 5000; // timeout for fetching tulips service requests\r\nvar TULIPS_INGESTION_TIME = 24 * 60 * 60 * 1000; // Tulips ingestion time\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UYXJnZXRlZE1lc3NhZ2luZy9UYXJnZXRlZE1lc3NhZ2luZ0NvbnN0YW50cy50cz9hOTQ4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFPLElBQU0sNEJBQTRCLEdBQUcsUUFBUSxDQUFDLENBQUMsc0JBQXNCO0FBQ3JFLElBQU0sZ0NBQWdDLEdBQUcsUUFBUSxDQUFDLENBQUMsc0JBQXNCO0FBQ3pFLElBQU0sNEJBQTRCLEdBQUcsUUFBUSxDQUFDLENBQUMsc0JBQXNCO0FBQ3JFLElBQU0sNEJBQTRCLEdBQUcsUUFBUSxDQUFDLENBQUMsc0JBQXNCO0FBQ3JFLElBQU0sNkJBQTZCLEdBQUcsUUFBUSxDQUFDLENBQUMsc0JBQXNCO0FBQ3RFLElBQU0sc0JBQXNCLEdBQUcsUUFBUSxDQUFDLENBQUMsdUJBQXVCO0FBRWhFLElBQU0sY0FBYyxHQUFHLG9FQUFvRSxDQUFDO0FBQzVGLElBQU0sc0JBQXNCLEdBQUcsMkRBQTJELENBQUM7QUFDM0YsSUFBTSx5QkFBeUIsR0FBRyxJQUFJLENBQUM7QUFFdkMsSUFBTSxpQkFBaUIsR0FBRyxJQUFJLENBQUMsQ0FBQyw0Q0FBNEM7QUFFNUUsSUFBTSxpQkFBaUIsR0FDN0IsMkVBQTJFLENBQUM7QUFFdEUsSUFBTSxtQkFBbUIsR0FBRyxJQUFJLENBQUM7QUFFakMsSUFBTSxvQkFBb0IsR0FBRyxJQUFJLENBQUMsQ0FBQywrQ0FBK0M7QUFFbEYsSUFBTSxxQkFBcUIsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyx3QkFBd0IiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9UYXJnZXRlZE1lc3NhZ2luZy9UYXJnZXRlZE1lc3NhZ2luZ0NvbnN0YW50cy50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBDQUNIRV9FWFBJUllfTUVTU0FHRU1FVEFEQVRBID0gMTQ0MDAwMDA7IC8vIGV4cGlyeSBpbiBtcyAtIDRocnNcclxuZXhwb3J0IGNvbnN0IENBQ0hFX0VYUElSWV9VU0VSR09WRVJOQU5DRVJVTEVTID0gMTQ0MDAwMDA7IC8vIGV4cGlyeSBpbiBtcyAtIDRocnNcclxuZXhwb3J0IGNvbnN0IENBQ0hFX0VYUElSWV9DQU1QQUlHTkNPTlRFTlQgPSAxNDQwMDAwMDsgLy8gZXhwaXJ5IGluIG1zIC0gNGhyc1xyXG5leHBvcnQgY29uc3QgQ0FDSEVfRVhQSVJZX0RZTkFNSUNTRVRUSU5HUyA9IDE0NDAwMDAwOyAvLyBleHBpcnkgaW4gbXMgLSA0aHJzXHJcbmV4cG9ydCBjb25zdCBDQUNIRV9FWFBJUllfTE9HTEVWRUxTRVRUSU5HUyA9IDE0NDAwMDAwOyAvLyBleHBpcnkgaW4gbXMgLSA0aHJzXHJcbmV4cG9ydCBjb25zdCBDQUNIRV9FWFBJUllfVVNFUkZBQ1RTID0gODY0MDAwMDA7IC8vIGV4cGlyeSBpbiBtcyAtIDI0aHJzXHJcblxyXG5leHBvcnQgY29uc3QgVE1TX1NFUlZJQ0VVUkwgPSBcImh0dHBzOi8vbWVzc2FnaW5nLm9mZmljZS5jb20vbGlmZWN5Y2xlL0NhbXBhaWduTWV0YWRhdGFBZ2dyZWdhdG9yP1wiO1xyXG5leHBvcnQgY29uc3QgVE1TX1NFUlZJQ0VfQUNUSU9OX1VSTCA9IFwiaHR0cHM6Ly9tZXNzYWdpbmcub2ZmaWNlLmNvbS9saWZlY3ljbGUvU2V0Q2FtcGFpZ25BY3Rpb24/XCI7XHJcbmV4cG9ydCBjb25zdCBUTVNfQ0FNUEFJR05fTE9BRF9USU1FT1VUID0gMTAwMDtcclxuXHJcbmV4cG9ydCBjb25zdCBUTVNfRkVUQ0hfVElNRU9VVCA9IDUwMDA7IC8vIHRpbWVvdXQgZm9yIGZldGNoaW5nIHRtcyBzZXJ2aWNlIHJlcXVlc3RzXHJcblxyXG5leHBvcnQgY29uc3QgVFVMSVBTX1NFUlZJQ0VVUkwgPVxyXG5cdFwiaHR0cHM6Ly9zdWJzdHJhdGUub2ZmaWNlLmNvbS9PZmZpY2VQZXJzb25hbGl6YXRpb25Vc2VyTGlmZWN5Y2xlL2FwaS9mYWN0c1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFRVTElQU19MT0FEX1RJTUVPVVQgPSAxMDAwO1xyXG5cclxuZXhwb3J0IGNvbnN0IFRVTElQU19GRVRDSF9USU1FT1VUID0gNTAwMDsgLy8gdGltZW91dCBmb3IgZmV0Y2hpbmcgdHVsaXBzIHNlcnZpY2UgcmVxdWVzdHNcclxuXHJcbmV4cG9ydCBjb25zdCBUVUxJUFNfSU5HRVNUSU9OX1RJTUUgPSAyNCAqIDYwICogNjAgKiAxMDAwOyAvLyBUdWxpcHMgaW5nZXN0aW9uIHRpbWVcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/TargetedMessaging/TargetedMessagingConstants.ts\n')},"./scripts/app/TargetedMessaging/TargetedMessagingTransport.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TargetedMessagingTransport", function() { return TargetedMessagingTransport; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");\n/* harmony import */ var _Polyfills_Fetch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Polyfills/Fetch */ "./scripts/app/Polyfills/Fetch.ts");\n/* harmony import */ var _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TargetedMessagingConstants */ "./scripts/app/TargetedMessaging/TargetedMessagingConstants.ts");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Utils */ "./scripts/app/Utils.ts");\n\r\n\r\n\r\n\r\nvar isNOU = _Utils__WEBPACK_IMPORTED_MODULE_3__["isNOU"];\r\nvar TargetedMessagingTransport = /** @class */ (function () {\r\n    function TargetedMessagingTransport(sessionId) {\r\n        this.sessionId = sessionId;\r\n    }\r\n    TargetedMessagingTransport.prototype.sendGetRequest = function (requestUrl, token, useTimeout) {\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function () {\r\n            var requestInit;\r\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"])(this, function (_a) {\r\n                requestInit = {\r\n                    method: "GET",\r\n                    headers: this.createHeaders(token),\r\n                };\r\n                return [2 /*return*/, useTimeout ? this.timeoutFetch(requestUrl, requestInit) : fetch(requestUrl, requestInit)];\r\n            });\r\n        });\r\n    };\r\n    TargetedMessagingTransport.prototype.sendPostRequest = function (requestUrl, requestBody, token, useTimeout) {\r\n        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function () {\r\n            var requestInit;\r\n            return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__generator"])(this, function (_a) {\r\n                requestInit = {\r\n                    method: "POST",\r\n                    headers: this.createHeaders(token),\r\n                    body: requestBody,\r\n                };\r\n                return [2 /*return*/, useTimeout ? this.timeoutFetch(requestUrl, requestInit) : fetch(requestUrl, requestInit)];\r\n            });\r\n        });\r\n    };\r\n    TargetedMessagingTransport.prototype.timeoutFetch = function (input, init) {\r\n        if (init === void 0) { init = {}; }\r\n        return new Promise(function (resolve, reject) {\r\n            fetch(input, init).then(resolve, reject);\r\n            setTimeout(function () { return reject(new Error("Service request timed out")); }, _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_2__["TMS_FETCH_TIMEOUT"]);\r\n        });\r\n    };\r\n    TargetedMessagingTransport.prototype.createHeaders = function (token) {\r\n        var headers = typeof Headers !== "undefined" && new Headers();\r\n        if (headers) {\r\n            if (!isNOU(token)) {\r\n                headers.append("Authorization", "Bearer " + token);\r\n            }\r\n            headers.append("X-CorrelationId", _Utils__WEBPACK_IMPORTED_MODULE_3__["guid"]());\r\n            if (this.sessionId) {\r\n                headers.append("X-UserSessionId", this.sessionId);\r\n            }\r\n        }\r\n        return headers;\r\n    };\r\n    return TargetedMessagingTransport;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UYXJnZXRlZE1lc3NhZ2luZy9UYXJnZXRlZE1lc3NhZ2luZ1RyYW5zcG9ydC50cz8xMmE5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBNEI7QUFDaUM7QUFDM0I7QUFFMUIsU0FBSyxHQUFLLDRDQUFMLENBQVc7QUFFeEI7SUFDQyxvQ0FBb0IsU0FBa0I7UUFBbEIsY0FBUyxHQUFULFNBQVMsQ0FBUztJQUN0QyxDQUFDO0lBRVksbURBQWMsR0FBM0IsVUFBNEIsVUFBa0IsRUFBRSxLQUFjLEVBQUUsVUFBb0I7Ozs7Z0JBQzdFLFdBQVcsR0FBRztvQkFDbkIsTUFBTSxFQUFFLEtBQUs7b0JBQ2IsT0FBTyxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDO2lCQUNsQyxDQUFDO2dCQUVGLHNCQUFPLFVBQVUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxVQUFVLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUUsV0FBVyxDQUFDLEVBQUM7OztLQUNoRztJQUVZLG9EQUFlLEdBQTVCLFVBQ0MsVUFBa0IsRUFBRSxXQUFtQixFQUFFLEtBQWMsRUFBRSxVQUFvQjs7OztnQkFDdkUsV0FBVyxHQUFHO29CQUNuQixNQUFNLEVBQUUsTUFBTTtvQkFDZCxPQUFPLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUM7b0JBQ2xDLElBQUksRUFBRSxXQUFXO2lCQUNqQixDQUFDO2dCQUNGLHNCQUFPLFVBQVUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxVQUFVLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUUsV0FBVyxDQUFDLEVBQUM7OztLQUNoRztJQUVPLGlEQUFZLEdBQXBCLFVBQXFCLEtBQWtCLEVBQUUsSUFBc0I7UUFBdEIsZ0NBQXNCO1FBQzlELE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBQyxPQUFPLEVBQUUsTUFBTTtZQUNsQyxLQUFLLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFDekMsVUFBVSxDQUFDLGNBQU0sYUFBTSxDQUN0QixJQUFJLEtBQUssQ0FBQywyQkFBMkIsQ0FBQyxDQUFDLEVBRHZCLENBQ3VCLEVBQ3ZDLDZFQUE4QixDQUFDLENBQUM7UUFDbEMsQ0FBQyxDQUFDLENBQUM7SUFDSixDQUFDO0lBRU8sa0RBQWEsR0FBckIsVUFBc0IsS0FBYztRQUNuQyxJQUFNLE9BQU8sR0FBWSxPQUFPLE9BQU8sS0FBSyxXQUFXLElBQUksSUFBSSxPQUFPLEVBQUUsQ0FBQztRQUN6RSxJQUFJLE9BQU8sRUFBRTtZQUNaLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUU7Z0JBQ2xCLE9BQU8sQ0FBQyxNQUFNLENBQUMsZUFBZSxFQUFFLFNBQVMsR0FBRyxLQUFLLENBQUMsQ0FBQzthQUNuRDtZQUVELE9BQU8sQ0FBQyxNQUFNLENBQUMsaUJBQWlCLEVBQUUsMkNBQVUsRUFBRSxDQUFDLENBQUM7WUFDaEQsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO2dCQUNuQixPQUFPLENBQUMsTUFBTSxDQUFDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQzthQUNsRDtTQUNEO1FBRUQsT0FBTyxPQUFPLENBQUM7SUFDaEIsQ0FBQztJQUNGLGlDQUFDO0FBQUQsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1RhcmdldGVkTWVzc2FnaW5nL1RhcmdldGVkTWVzc2FnaW5nVHJhbnNwb3J0LnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwiLi4vUG9seWZpbGxzL0ZldGNoXCI7XHJcbmltcG9ydCAqIGFzIFRtc0NvbnN0YW50cyBmcm9tIFwiLi9UYXJnZXRlZE1lc3NhZ2luZ0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tIFwiLi4vVXRpbHNcIjtcclxuXHJcbmNvbnN0IHsgaXNOT1UgfSA9IFV0aWxzO1xyXG5cclxuZXhwb3J0IGNsYXNzIFRhcmdldGVkTWVzc2FnaW5nVHJhbnNwb3J0IHtcclxuXHRjb25zdHJ1Y3Rvcihwcml2YXRlIHNlc3Npb25JZD86IHN0cmluZykge1xyXG5cdH1cclxuXHJcblx0cHVibGljIGFzeW5jIHNlbmRHZXRSZXF1ZXN0KHJlcXVlc3RVcmw6IHN0cmluZywgdG9rZW4/OiBzdHJpbmcsIHVzZVRpbWVvdXQ/OiBib29sZWFuKTogUHJvbWlzZTxSZXNwb25zZT4ge1xyXG5cdFx0Y29uc3QgcmVxdWVzdEluaXQgPSB7XHJcblx0XHRcdG1ldGhvZDogXCJHRVRcIixcclxuXHRcdFx0aGVhZGVyczogdGhpcy5jcmVhdGVIZWFkZXJzKHRva2VuKSxcclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIHVzZVRpbWVvdXQgPyB0aGlzLnRpbWVvdXRGZXRjaChyZXF1ZXN0VXJsLCByZXF1ZXN0SW5pdCkgOiBmZXRjaChyZXF1ZXN0VXJsLCByZXF1ZXN0SW5pdCk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgYXN5bmMgc2VuZFBvc3RSZXF1ZXN0KFxyXG5cdFx0cmVxdWVzdFVybDogc3RyaW5nLCByZXF1ZXN0Qm9keTogc3RyaW5nLCB0b2tlbj86IHN0cmluZywgdXNlVGltZW91dD86IGJvb2xlYW4pOiBQcm9taXNlPFJlc3BvbnNlPiB7XHJcblx0XHRjb25zdCByZXF1ZXN0SW5pdCA9IHtcclxuXHRcdFx0bWV0aG9kOiBcIlBPU1RcIixcclxuXHRcdFx0aGVhZGVyczogdGhpcy5jcmVhdGVIZWFkZXJzKHRva2VuKSxcclxuXHRcdFx0Ym9keTogcmVxdWVzdEJvZHksXHJcblx0XHR9O1xyXG5cdFx0cmV0dXJuIHVzZVRpbWVvdXQgPyB0aGlzLnRpbWVvdXRGZXRjaChyZXF1ZXN0VXJsLCByZXF1ZXN0SW5pdCkgOiBmZXRjaChyZXF1ZXN0VXJsLCByZXF1ZXN0SW5pdCk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHRpbWVvdXRGZXRjaChpbnB1dDogUmVxdWVzdEluZm8sIGluaXQ6IFJlcXVlc3RJbml0ID0ge30pOiBQcm9taXNlPFJlc3BvbnNlPiB7XHJcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0XHRmZXRjaChpbnB1dCwgaW5pdCkudGhlbihyZXNvbHZlLCByZWplY3QpO1xyXG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHJlamVjdChcclxuXHRcdFx0XHRuZXcgRXJyb3IoXCJTZXJ2aWNlIHJlcXVlc3QgdGltZWQgb3V0XCIpKSxcclxuXHRcdFx0XHRUbXNDb25zdGFudHMuVE1TX0ZFVENIX1RJTUVPVVQpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGNyZWF0ZUhlYWRlcnModG9rZW4/OiBzdHJpbmcpOiBIZWFkZXJzIHtcclxuXHRcdGNvbnN0IGhlYWRlcnM6IEhlYWRlcnMgPSB0eXBlb2YgSGVhZGVycyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBuZXcgSGVhZGVycygpO1xyXG5cdFx0aWYgKGhlYWRlcnMpIHtcclxuXHRcdFx0aWYgKCFpc05PVSh0b2tlbikpIHtcclxuXHRcdFx0XHRoZWFkZXJzLmFwcGVuZChcIkF1dGhvcml6YXRpb25cIiwgXCJCZWFyZXIgXCIgKyB0b2tlbik7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGhlYWRlcnMuYXBwZW5kKFwiWC1Db3JyZWxhdGlvbklkXCIsIFV0aWxzLmd1aWQoKSk7XHJcblx0XHRcdGlmICh0aGlzLnNlc3Npb25JZCkge1xyXG5cdFx0XHRcdGhlYWRlcnMuYXBwZW5kKFwiWC1Vc2VyU2Vzc2lvbklkXCIsIHRoaXMuc2Vzc2lvbklkKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBoZWFkZXJzO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/TargetedMessaging/TargetedMessagingTransport.ts\n')},"./scripts/app/TargetedMessaging/UserFactsProvider.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserFactsProvider", function() { return UserFactsProvider; });\n/* harmony import */ var _Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Configuration/DynamicConfiguration */ "./scripts/app/Configuration/DynamicConfiguration.ts");\n/* harmony import */ var _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TargetedMessagingConstants */ "./scripts/app/TargetedMessaging/TargetedMessagingConstants.ts");\n/* harmony import */ var _AssetsProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AssetsProvider */ "./scripts/app/TargetedMessaging/AssetsProvider.ts");\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Logging/Logging */ "./scripts/app/Logging/Logging.ts");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Utils */ "./scripts/app/Utils.ts");\n/**\r\n * UserFactsProvider.ts\r\n *\r\n * Module for user facts provider.\r\n */\r\n\r\n\r\n\r\n\r\n\r\nvar UserFactsProvider = /** @class */ (function () {\r\n    function UserFactsProvider() {\r\n        this.loadAsyncTriggered = false;\r\n        this.userFacts = [];\r\n        this.nameAndUserFactMap = {};\r\n    }\r\n    UserFactsProvider.prototype.load = function () {\r\n        if (!this.loadAsyncTriggered) {\r\n            this.loadAsync();\r\n            this.loadAsyncTriggered = true;\r\n        }\r\n        return this.userFacts || [];\r\n    };\r\n    UserFactsProvider.prototype.loadAsync = function () {\r\n        var _this = this;\r\n        var userFactsPromise = _AssetsProvider__WEBPACK_IMPORTED_MODULE_2__["get"]().getUserFacts().then(function (userFacts) {\r\n            _this.loadUserFacts(userFacts);\r\n        });\r\n        var timeoutMilliseconds = Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_0__["getDynamicSetting"])("TulipsLoadTimeout" /* tulipsLoadTimeout */, _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_1__["TULIPS_LOAD_TIMEOUT"]);\r\n        var timeoutPromise = Object(_Utils__WEBPACK_IMPORTED_MODULE_4__["createTimeoutPromise"])(timeoutMilliseconds, userFactsPromise);\r\n        return timeoutPromise.then(function () { return _this.userFacts; }).catch(function () { return _this.userFacts; });\r\n    };\r\n    UserFactsProvider.prototype.getUserFact = function (userFactName) {\r\n        return this.nameAndUserFactMap[userFactName];\r\n    };\r\n    UserFactsProvider.prototype.loadUserFacts = function (response) {\r\n        var _this = this;\r\n        if (response) {\r\n            this.userFacts = response || [];\r\n            this.userFacts.map(function (userFact) {\r\n                _this.nameAndUserFactMap[userFact.userFactName] = userFact;\r\n            });\r\n            this.loadAsyncTriggered = true;\r\n            this.logUserFactInfo(this.userFacts);\r\n        }\r\n    };\r\n    UserFactsProvider.prototype.logUserFactInfo = function (userFacts) {\r\n        if (!userFacts || userFacts.length <= 0) {\r\n            return;\r\n        }\r\n        var tulipsIngestionTimeInterval = Object(_Configuration_DynamicConfiguration__WEBPACK_IMPORTED_MODULE_0__["getDynamicSetting"])("TulipsIngestionTimeInterval" /* tulipsIngestionTimeInterval */, _TargetedMessagingConstants__WEBPACK_IMPORTED_MODULE_1__["TULIPS_INGESTION_TIME"]);\r\n        if (tulipsIngestionTimeInterval <= 0) {\r\n            return;\r\n        }\r\n        var userFactProperties;\r\n        try {\r\n            var nowDate_1 = Date.now();\r\n            var isExpired_1 = function (rawItemDate) {\r\n                var itemDate = Date.parse(rawItemDate);\r\n                return !isNaN(itemDate) ? nowDate_1 - itemDate > tulipsIngestionTimeInterval : true;\r\n            };\r\n            var factInfo = {\r\n                Count: userFacts.length,\r\n                RefreshTime: tulipsIngestionTimeInterval,\r\n                IngestionTime: userFacts[0].clientIngestionDateTime,\r\n                SourcesExpired: userFacts.filter(function (userFact) { return userFact && isExpired_1(userFact.sourceDateTime); }).length || undefined,\r\n                StoragesExpired: userFacts.filter(function (userFact) { return userFact && isExpired_1(userFact.storageDateTime); }).length || undefined,\r\n                IngestionsExpired: userFacts.filter(function (userFact) { return userFact && isExpired_1(userFact.clientIngestionDateTime); }).length || undefined,\r\n            };\r\n            userFactProperties = {\r\n                Message: "AugLoop UserFacts",\r\n                Data: JSON.stringify(factInfo),\r\n            };\r\n        }\r\n        catch (error) {\r\n            userFactProperties = {\r\n                ErrorMessage: "Error getting UserFact info",\r\n            };\r\n        }\r\n        _Logging_Logging__WEBPACK_IMPORTED_MODULE_3__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_3__["EventIds"].UserFacts.Common.Info.VALUE, 3 /* Info */, userFactProperties);\r\n    };\r\n    return UserFactsProvider;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UYXJnZXRlZE1lc3NhZ2luZy9Vc2VyRmFjdHNQcm92aWRlci50cz80Yjc5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRztBQUdtRjtBQUNJO0FBRXZDO0FBQ0w7QUFFRTtBQUVoRDtJQUFBO1FBQ1MsdUJBQWtCLEdBQVksS0FBSyxDQUFDO1FBQ3BDLGNBQVMsR0FBb0IsRUFBRSxDQUFDO1FBQ2hDLHVCQUFrQixHQUFrQyxFQUFFLENBQUM7SUE4RWhFLENBQUM7SUE1RU8sZ0NBQUksR0FBWDtRQUNDLElBQUksQ0FBQyxJQUFJLENBQUMsa0JBQWtCLEVBQUU7WUFDN0IsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ2pCLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUM7U0FDL0I7UUFFRCxPQUFPLElBQUksQ0FBQyxTQUFTLElBQUksRUFBRSxDQUFDO0lBQzdCLENBQUM7SUFFTSxxQ0FBUyxHQUFoQjtRQUFBLGlCQVFDO1FBUEEsSUFBTSxnQkFBZ0IsR0FBRyxtREFBa0IsRUFBRSxDQUFDLFlBQVksRUFBRSxDQUFDLElBQUksQ0FBQyxtQkFBUztZQUMxRSxLQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQy9CLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBTSxtQkFBbUIsR0FBRyw2RkFBaUIsOENBQStCLCtFQUFtQixDQUFDLENBQUM7UUFDakcsSUFBTSxjQUFjLEdBQUcsbUVBQW9CLENBQUMsbUJBQW1CLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztRQUNuRixPQUFPLGNBQWMsQ0FBQyxJQUFJLENBQUMsY0FBTSxZQUFJLENBQUMsU0FBUyxFQUFkLENBQWMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxjQUFNLFlBQUksQ0FBQyxTQUFTLEVBQWQsQ0FBYyxDQUFDLENBQUM7SUFDOUUsQ0FBQztJQUVNLHVDQUFXLEdB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anMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogVXNlckZhY3RzUHJvdmlkZXIudHNcclxuICpcclxuICogTW9kdWxlIGZvciB1c2VyIGZhY3RzIHByb3ZpZGVyLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IEFwaSB9IGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmVcIjtcclxuaW1wb3J0IHsgZ2V0RHluYW1pY1NldHRpbmcsIFNldHRpbmdLZXkgfSBmcm9tIFwiLi4vQ29uZmlndXJhdGlvbi9EeW5hbWljQ29uZmlndXJhdGlvblwiO1xyXG5pbXBvcnQgeyBUVUxJUFNfSU5HRVNUSU9OX1RJTUUsIFRVTElQU19MT0FEX1RJTUVPVVQgfSBmcm9tIFwiLi9UYXJnZXRlZE1lc3NhZ2luZ0NvbnN0YW50c1wiO1xyXG5cclxuaW1wb3J0ICogYXMgQXNzZXRzUHJvdmlkZXIgZnJvbSBcIi4vQXNzZXRzUHJvdmlkZXJcIjtcclxuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi4vTG9nZ2luZy9Mb2dnaW5nXCI7XHJcblxyXG5pbXBvcnQgeyBjcmVhdGVUaW1lb3V0UHJvbWlzZSB9IGZyb20gXCIuLi9VdGlsc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFVzZXJGYWN0c1Byb3ZpZGVyIGltcGxlbWVudHMgQXBpLklVc2VyRmFjdFByb3ZpZGVyIHtcclxuXHRwcml2YXRlIGxvYWRBc3luY1RyaWdnZXJlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG5cdHByaXZhdGUgdXNlckZhY3RzOiBBcGkuSVVzZXJGYWN0W10gPSBbXTtcclxuXHRwcml2YXRlIG5hbWVBbmRVc2VyRmFjdE1hcDogUmVjb3JkPHN0cmluZywgQXBpLklVc2VyRmFjdD4gPSB7fTtcclxuXHJcblx0cHVibGljIGxvYWQoKTogQXBpLklVc2VyRmFjdFtdIHtcclxuXHRcdGlmICghdGhpcy5sb2FkQXN5bmNUcmlnZ2VyZWQpIHtcclxuXHRcdFx0dGhpcy5sb2FkQXN5bmMoKTtcclxuXHRcdFx0dGhpcy5sb2FkQXN5bmNUcmlnZ2VyZWQgPSB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLnVzZXJGYWN0cyB8fCBbXTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBsb2FkQXN5bmMoKTogUHJvbWlzZTxBcGkuSVVzZXJGYWN0W10+IHtcclxuXHRcdGNvbnN0IHVzZXJGYWN0c1Byb21pc2UgPSBBc3NldHNQcm92aWRlci5nZXQoKS5nZXRVc2VyRmFjdHMoKS50aGVuKHVzZXJGYWN0cyA9PiB7XHJcblx0XHRcdHRoaXMubG9hZFVzZXJGYWN0cyh1c2VyRmFjdHMpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Y29uc3QgdGltZW91dE1pbGxpc2Vjb25kcyA9IGdldER5bmFtaWNTZXR0aW5nKFNldHRpbmdLZXkudHVsaXBzTG9hZFRpbWVvdXQsIFRVTElQU19MT0FEX1RJTUVPVVQpO1xyXG5cdFx0Y29uc3QgdGltZW91dFByb21pc2UgPSBjcmVhdGVUaW1lb3V0UHJvbWlzZSh0aW1lb3V0TWlsbGlzZWNvbmRzLCB1c2VyRmFjdHNQcm9taXNlKTtcclxuXHRcdHJldHVybiB0aW1lb3V0UHJvbWlzZS50aGVuKCgpID0+IHRoaXMudXNlckZhY3RzKS5jYXRjaCgoKSA9PiB0aGlzLnVzZXJGYWN0cyk7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0VXNlckZhY3QodXNlckZhY3ROYW1lOiBzdHJpbmcpIHtcclxuXHRcdHJldHVybiB0aGlzLm5hbWVBbmRVc2VyRmFjdE1hcFt1c2VyRmFjdE5hbWVdO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBsb2FkVXNlckZhY3RzKHJlc3BvbnNlOiBBcGkuSVVzZXJGYWN0W10pIHtcclxuXHRcdGlmIChyZXNwb25zZSkge1xyXG5cdFx0XHR0aGlzLnVzZXJGYWN0cyA9IHJlc3BvbnNlIHx8IFtdO1xyXG5cdFx0XHR0aGlzLnVzZXJGYWN0cy5tYXAoKHVzZXJGYWN0KSA9PiB7XHJcblx0XHRcdFx0dGhpcy5uYW1lQW5kVXNlckZhY3RNYXBbdXNlckZhY3QudXNlckZhY3ROYW1lXSA9IHVzZXJGYWN0O1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0dGhpcy5sb2FkQXN5bmNUcmlnZ2VyZWQgPSB0cnVlO1xyXG5cdFx0XHR0aGlzLmxvZ1VzZXJGYWN0SW5mbyh0aGlzLnVzZXJGYWN0cyk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIGxvZ1VzZXJGYWN0SW5mbyh1c2VyRmFjdHM6IEFwaS5JVXNlckZhY3RbXSkge1xyXG5cdFx0aWYgKCF1c2VyRmFjdHMgfHwgdXNlckZhY3RzLmxlbmd0aCA8PSAwKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCB0dWxpcHNJbmdlc3Rpb25UaW1lSW50ZXJ2YWwgPSBnZXREeW5hbWljU2V0dGluZyhTZXR0aW5nS2V5LnR1bGlwc0luZ2VzdGlvblRpbWVJbnRlcnZhbCwgVFVMSVBTX0lOR0VTVElPTl9USU1FKTtcclxuXHRcdGlmICh0dWxpcHNJbmdlc3Rpb25UaW1lSW50ZXJ2YWwgPD0gMCkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IHVzZXJGYWN0UHJvcGVydGllczogTG9nZ2luZy5JQ3VzdG9tUHJvcGVydGllcztcclxuXHRcdHRyeSB7XHJcblx0XHRcdGNvbnN0IG5vd0RhdGUgPSBEYXRlLm5vdygpO1xyXG5cdFx0XHRjb25zdCBpc0V4cGlyZWQgPSAocmF3SXRlbURhdGU6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xyXG5cdFx0XHRcdGNvbnN0IGl0ZW1EYXRlID0gRGF0ZS5wYXJzZShyYXdJdGVtRGF0ZSk7XHJcblx0XHRcdFx0cmV0dXJuICFpc05hTihpdGVtRGF0ZSkgPyBub3dEYXRlIC0gaXRlbURhdGUgPiB0dWxpcHNJbmdlc3Rpb25UaW1lSW50ZXJ2YWwgOiB0cnVlO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Y29uc3QgZmFjdEluZm8gPSB7XHJcblx0XHRcdFx0Q291bnQ6IHVzZXJGYWN0cy5sZW5ndGgsXHJcblx0XHRcdFx0UmVmcmVzaFRpbWU6IHR1bGlwc0luZ2VzdGlvblRpbWVJbnRlcnZhbCxcclxuXHRcdFx0XHRJbmdlc3Rpb25UaW1lOiB1c2VyRmFjdHNbMF0uY2xpZW50SW5nZXN0aW9uRGF0ZVRpbWUsXHJcblx0XHRcdFx0U291cmNlc0V4cGlyZWQ6IHVzZXJGYWN0cy5maWx0ZXIodXNlckZhY3QgPT4gdXNlckZhY3QgJiYgaXNFeHBpcmVkKHVzZXJGYWN0LnNvdXJjZURhdGVUaW1lKSkubGVuZ3RoIHx8IHVuZGVmaW5lZCxcclxuXHRcdFx0XHRTdG9yYWdlc0V4cGlyZWQ6IHVzZXJGYWN0cy5maWx0ZXIodXNlckZhY3QgPT4gdXNlckZhY3QgJiYgaXNFeHBpcmVkKHVzZXJGYWN0LnN0b3JhZ2VEYXRlVGltZSkpLmxlbmd0aCB8fCB1bmRlZmluZWQsXHJcblx0XHRcdFx0SW5nZXN0aW9uc0V4cGlyZWQ6IHVzZXJGYWN0cy5maWx0ZXIodXNlckZhY3QgPT4gdXNlckZhY3QgJiYgaXNFeHBpcmVkKHVzZXJGYWN0LmNsaWVudEluZ2VzdGlvbkRhdGVUaW1lKSkubGVuZ3RoIHx8IHVuZGVmaW5lZCxcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdHVzZXJGYWN0UHJvcGVydGllcyA9IHtcclxuXHRcdFx0XHRNZXNzYWdlOiBcIkF1Z0xvb3AgVXNlckZhY3RzXCIsXHJcblx0XHRcdFx0RGF0YTogSlNPTi5zdHJpbmdpZnkoZmFjdEluZm8pLFxyXG5cdFx0XHR9O1xyXG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0dXNlckZhY3RQcm9wZXJ0aWVzID0ge1xyXG5cdFx0XHRcdEVycm9yTWVzc2FnZTogXCJFcnJvciBnZXR0aW5nIFVzZXJGYWN0IGluZm9cIixcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHJcblx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KFxyXG5cdFx0XHRMb2dnaW5nLkV2ZW50SWRzLlVzZXJGYWN0cy5Db21tb24uSW5mby5WQUxVRSxcclxuXHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5JbmZvLFxyXG5cdFx0XHR1c2VyRmFjdFByb3BlcnRpZXMpO1xyXG5cdH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/TargetedMessaging/UserFactsProvider.ts\n')},"./scripts/app/Theme.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initialize", function() { return initialize; });\n/* harmony import */ var _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UI/UiConstants */ "./scripts/app/UI/UiConstants.ts");\n/**\r\n * Theme.ts\r\n *\r\n * Module for the UI Theme\r\n */\r\n\r\nvar defaultPrimaryColour = "#0167B0";\r\nvar defaultSecondaryColour = "#194789";\r\n/**\r\n * Init\r\n * @param {string} primaryColour Primary Colour\r\n * @param {string} secondaryColour Secondary Colour\r\n */\r\nfunction initialize(primaryColour, secondaryColour) {\r\n    if (primaryColour === void 0) { primaryColour = undefined; }\r\n    if (secondaryColour === void 0) { secondaryColour = undefined; }\r\n    if (!primaryColour) {\r\n        primaryColour = defaultPrimaryColour;\r\n    }\r\n    if (!secondaryColour) {\r\n        secondaryColour = defaultSecondaryColour;\r\n    }\r\n    var sheet = document.createElement("style");\r\n    sheet.textContent =\r\n        "." + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].OverallAnchor + ":focus { background-color: " + primaryColour + " } " +\r\n            ("." + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].OverallAnchor + ":hover { background-color: " + secondaryColour + " } ") +\r\n            ("." + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].OverallAnchorActive + " { background-color: " + primaryColour + " } ") +\r\n            ("." + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].SpinnerCircle + " { background-color: " + primaryColour + " } ") +\r\n            (\r\n            // tslint:disable-next-line:max-line-length\r\n            "." + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].ChoiceGroup + " input[type=radio]:checked+label>." + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].ChoiceGroupIcon + " { border-color: " + primaryColour + " } ") +\r\n            (\r\n            // tslint:disable-next-line:max-line-length\r\n            "." + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].ChoiceGroup + " input[type=radio]:hover+label>." + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].ChoiceGroupIcon + " { border-color: " + secondaryColour + " } ") +\r\n            (\r\n            // tslint:disable-next-line:max-line-length\r\n            "." + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].ChoiceGroup + " input[type=radio]:checked+label>." + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].ChoiceGroupIcon + ">span { background-color: " + primaryColour + " } ") +\r\n            ("." + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].SubmitButton + " { background-color: " + primaryColour + " } ") +\r\n            ("." + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].SubmitButton + ":hover { background-color: " + secondaryColour + " } ") +\r\n            ("." + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].CancelButton + ":hover { background-color: " + secondaryColour + " } ") +\r\n            ("." + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].Link + " { color: " + primaryColour + " } ") +\r\n            ("." + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].Link + ":hover { color: " + secondaryColour + " } ") +\r\n            ("." + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].ThanksPanelTitle + " { color: " + primaryColour + " } ") +\r\n            ("#" + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__["IDs"].TPromptTitle + " { color: " + primaryColour + " } ") +\r\n            ("#" + _UI_UiConstants__WEBPACK_IMPORTED_MODULE_0__["IDs"].TFormTitle + " { color: " + primaryColour + " } ");\r\n    document.body.appendChild(sheet);\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UaGVtZS50cz9mMDRlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0dBSUc7QUFFNkM7QUFFaEQsSUFBSSxvQkFBb0IsR0FBRyxTQUFTLENBQUM7QUFDckMsSUFBSSxzQkFBc0IsR0FBRyxTQUFTLENBQUM7QUFFdkM7Ozs7R0FJRztBQUNJLFNBQVMsVUFBVSxDQUFDLGFBQWlDLEVBQUUsZUFBbUM7SUFBdEUseURBQWlDO0lBQUUsNkRBQW1DO0lBQ2hHLElBQUksQ0FBQyxhQUFhLEVBQUU7UUFDbkIsYUFBYSxHQUFHLG9CQUFvQixDQUFDO0tBQ3JDO0lBRUQsSUFBSSxDQUFDLGVBQWUsRUFBRTtRQUNyQixlQUFlLEdBQUcsc0JBQXNCLENBQUM7S0FDekM7SUFFRCxJQUFJLEtBQUssR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBRTVDLEtBQUssQ0FBQyxXQUFXO1FBQ2hCLE1BQUksdURBQU8sQ0FBQyxhQUFhLG1DQUE4QixhQUFhLFFBQUs7YUFDekUsTUFBSSx1REFBTyxDQUFDLGFBQWEsbUNBQThCLGVBQWUsUUFBSzthQUMzRSxNQUFJLHVEQUFPLENBQUMsbUJBQW1CLDZCQUF3QixhQUFhLFFBQUs7YUFDekUsTUFBSSx1REFBTyxDQUFDLGFBQWEsNkJBQXdCLGFBQWEsUUFBSzs7WUFDbkUsMkNBQTJDO1lBQzNDLE1BQUksdURBQU8sQ0FBQyxXQUFXLDBDQUFxQyx1REFBTyxDQUFDLGVBQWUseUJBQW9CLGFBQWEsUUFBSzs7WUFDekgsMkNBQTJDO1lBQzNDLE1BQUksdURBQU8sQ0FBQyxXQUFXLHdDQUFtQyx1REFBTyxDQUFDLGVBQWUseUJBQW9CLGVBQWUsUUFBSzs7WUFDekgsMkNBQTJDO1lBQzNDLE1BQUksdURBQU8sQ0FBQyxXQUFXLDBDQUFxQyx1REFBTyxDQUFDLGVBQWUsa0NBQTZCLGFBQWEsUUFBSzthQUNsSSxNQUFJLHVEQUFPLENBQUMsWUFBWSw2QkFBd0IsYUFBYSxRQUFLO2FBQ2xFLE1BQUksdURBQU8sQ0FBQyxZQUFZLG1DQUE4QixlQUFlLFFBQUs7YUFDMUUsTUFBSSx1REFBTyxDQUFDLFlBQVksbUNBQThCLGVBQWUsUUFBSzthQUMxRSxNQUFJLHVEQUFPLENBQUMsSUFBSSxrQkFBYSxhQUFhLFFBQUs7YUFDL0MsTUFBSSx1REFBTyxDQUFDLElBQUksd0JBQW1CLGVBQWUsUUFBSzthQUN2RCxNQUFJLHVEQUFPLENBQUMsZ0JBQWdCLGtCQUFhLGFBQWEsUUFBSzthQUMzRCxNQUFJLG1EQUFHLENBQUMsWUFBWSxrQkFBYSxhQUFhLFFBQUs7YUFDbkQsTUFBSSxtREFBRyxDQUFDLFVBQVUsa0JBQWEsYUFBYSxRQUFLLEVBQUM7SUFFbkQsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDbEMsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1RoZW1lLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFRoZW1lLnRzXHJcbiAqXHJcbiAqIE1vZHVsZSBmb3IgdGhlIFVJIFRoZW1lXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQ2xhc3NlcywgSURzIH0gZnJvbSBcIi4vVUkvVWlDb25zdGFudHNcIjtcclxuXHJcbmxldCBkZWZhdWx0UHJpbWFyeUNvbG91ciA9IFwiIzAxNjdCMFwiO1xyXG5sZXQgZGVmYXVsdFNlY29uZGFyeUNvbG91ciA9IFwiIzE5NDc4OVwiO1xyXG5cclxuLyoqXHJcbiAqIEluaXRcclxuICogQHBhcmFtIHtzdHJpbmd9IHByaW1hcnlDb2xvdXIgUHJpbWFyeSBDb2xvdXJcclxuICogQHBhcmFtIHtzdHJpbmd9IHNlY29uZGFyeUNvbG91ciBTZWNvbmRhcnkgQ29sb3VyXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZShwcmltYXJ5Q29sb3VyOiBzdHJpbmcgPSB1bmRlZmluZWQsIHNlY29uZGFyeUNvbG91cjogc3RyaW5nID0gdW5kZWZpbmVkKSB7XHJcblx0aWYgKCFwcmltYXJ5Q29sb3VyKSB7XHJcblx0XHRwcmltYXJ5Q29sb3VyID0gZGVmYXVsdFByaW1hcnlDb2xvdXI7XHJcblx0fVxyXG5cclxuXHRpZiAoIXNlY29uZGFyeUNvbG91cikge1xyXG5cdFx0c2Vjb25kYXJ5Q29sb3VyID0gZGVmYXVsdFNlY29uZGFyeUNvbG91cjtcclxuXHR9XHJcblxyXG5cdGxldCBzaGVldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcclxuXHJcblx0c2hlZXQudGV4dENvbnRlbnQgPVxyXG5cdFx0YC4ke0NsYXNzZXMuT3ZlcmFsbEFuY2hvcn06Zm9jdXMgeyBiYWNrZ3JvdW5kLWNvbG9yOiAke3ByaW1hcnlDb2xvdXJ9IH0gYCArXHJcblx0XHRgLiR7Q2xhc3Nlcy5PdmVyYWxsQW5jaG9yfTpob3ZlciB7IGJhY2tncm91bmQtY29sb3I6ICR7c2Vjb25kYXJ5Q29sb3VyfSB9IGAgK1xyXG5cdFx0YC4ke0NsYXNzZXMuT3ZlcmFsbEFuY2hvckFjdGl2ZX0geyBiYWNrZ3JvdW5kLWNvbG9yOiAke3ByaW1hcnlDb2xvdXJ9IH0gYCArXHJcblx0XHRgLiR7Q2xhc3Nlcy5TcGlubmVyQ2lyY2xlfSB7IGJhY2tncm91bmQtY29sb3I6ICR7cHJpbWFyeUNvbG91cn0gfSBgICtcclxuXHRcdC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcclxuXHRcdGAuJHtDbGFzc2VzLkNob2ljZUdyb3VwfSBpbnB1dFt0eXBlPXJhZGlvXTpjaGVja2VkK2xhYmVsPi4ke0NsYXNzZXMuQ2hvaWNlR3JvdXBJY29ufSB7IGJvcmRlci1jb2xvcjogJHtwcmltYXJ5Q29sb3VyfSB9IGAgK1xyXG5cdFx0Ly8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxyXG5cdFx0YC4ke0NsYXNzZXMuQ2hvaWNlR3JvdXB9IGlucHV0W3R5cGU9cmFkaW9dOmhvdmVyK2xhYmVsPi4ke0NsYXNzZXMuQ2hvaWNlR3JvdXBJY29ufSB7IGJvcmRlci1jb2xvcjogJHtzZWNvbmRhcnlDb2xvdXJ9IH0gYCArXHJcblx0XHQvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bWF4LWxpbmUtbGVuZ3RoXHJcblx0XHRgLiR7Q2xhc3Nlcy5DaG9pY2VHcm91cH0gaW5wdXRbdHlwZT1yYWRpb106Y2hlY2tlZCtsYWJlbD4uJHtDbGFzc2VzLkNob2ljZUdyb3VwSWNvbn0+c3BhbiB7IGJhY2tncm91bmQtY29sb3I6ICR7cHJpbWFyeUNvbG91cn0gfSBgICtcclxuXHRcdGAuJHtDbGFzc2VzLlN1Ym1pdEJ1dHRvbn0geyBiYWNrZ3JvdW5kLWNvbG9yOiAke3ByaW1hcnlDb2xvdXJ9IH0gYCArXHJcblx0XHRgLiR7Q2xhc3Nlcy5TdWJtaXRCdXR0b259OmhvdmVyIHsgYmFja2dyb3VuZC1jb2xvcjogJHtzZWNvbmRhcnlDb2xvdXJ9IH0gYCArXHJcblx0XHRgLiR7Q2xhc3Nlcy5DYW5jZWxCdXR0b259OmhvdmVyIHsgYmFja2dyb3VuZC1jb2xvcjogJHtzZWNvbmRhcnlDb2xvdXJ9IH0gYCArXHJcblx0XHRgLiR7Q2xhc3Nlcy5MaW5rfSB7IGNvbG9yOiAke3ByaW1hcnlDb2xvdXJ9IH0gYCArXHJcblx0XHRgLiR7Q2xhc3Nlcy5MaW5rfTpob3ZlciB7IGNvbG9yOiAke3NlY29uZGFyeUNvbG91cn0gfSBgICtcclxuXHRcdGAuJHtDbGFzc2VzLlRoYW5rc1BhbmVsVGl0bGV9IHsgY29sb3I6ICR7cHJpbWFyeUNvbG91cn0gfSBgICtcclxuXHRcdGAjJHtJRHMuVFByb21wdFRpdGxlfSB7IGNvbG9yOiAke3ByaW1hcnlDb2xvdXJ9IH0gYCArXHJcblx0XHRgIyR7SURzLlRGb3JtVGl0bGV9IHsgY29sb3I6ICR7cHJpbWFyeUNvbG91cn0gfSBgO1xyXG5cclxuXHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNoZWV0KTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Theme.ts\n')},"./scripts/app/Transport/Files/Manifest.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Manifest", function() { return Manifest; });\n/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../../Constants */ "./scripts/app/Constants.ts");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../../Utils */ "./scripts/app/Utils.ts");\n/**\r\n * Manifest.ts\r\n * Module for managing the manifest file\r\n */\r\n\r\n\r\nvar Manifest = /** @class */ (function () {\r\n    function Manifest(manifestType, appId, submitTime, type, clientFeedbackId, applicationGroup, telemetryGroup, webGroup) {\r\n        this.manifestData = {\r\n            appId: appId,\r\n            application: applicationGroup,\r\n            clientFeedbackId: clientFeedbackId,\r\n            manifestType: manifestType,\r\n            source: "Client",\r\n            submitTime: submitTime,\r\n            telemetry: telemetryGroup,\r\n            type: sanitizeType(type),\r\n            web: webGroup,\r\n        };\r\n    }\r\n    Manifest.prototype.setComment = function (comment) {\r\n        this.manifestData.comment = comment;\r\n    };\r\n    Manifest.prototype.setEmail = function (email) {\r\n        this.manifestData.email = email;\r\n    };\r\n    Manifest.prototype.setCategory = function (category) {\r\n        this.manifestData.telemetry = this.manifestData.telemetry || {};\r\n        this.manifestData.telemetry.featureArea = category;\r\n    };\r\n    /**\r\n     * Set freeform custom values in manifest. Throws if values are already set.\r\n     * @param values the values as a JS object\r\n     */\r\n    Manifest.prototype.setValues = function (values) {\r\n        if (values) {\r\n            for (var field in values) {\r\n                if (values.hasOwnProperty(field)) {\r\n                    if (this.manifestData.hasOwnProperty(field)) {\r\n                        this.manifestData[field] = _Utils__WEBPACK_IMPORTED_MODULE_1__["overrideValues"](values[field], this.manifestData[field]);\r\n                    }\r\n                    else {\r\n                        this.manifestData[field] = values[field];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Manifest.prototype.getContent = function () {\r\n        return new Blob([JSON.stringify(this.manifestData)], { type: "application/json" });\r\n    };\r\n    return Manifest;\r\n}());\r\n\r\nfunction sanitizeType(type) {\r\n    if (type === "Survey") {\r\n        return type;\r\n    }\r\n    else {\r\n        return _Constants__WEBPACK_IMPORTED_MODULE_0__["FeedbackType"][type];\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UcmFuc3BvcnQvRmlsZXMvTWFuaWZlc3QudHM/Y2NmZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7R0FHRztBQUc4QztBQUNWO0FBRXZDO0lBR0Msa0JBQW1CLFlBQW9CLEVBQUUsS0FBYSxFQUFFLFVBQWtCLEVBQUUsSUFBMEIsRUFDckcsZ0JBQXdCLEVBQUUsZ0JBQTBDLEVBQUUsY0FBc0MsRUFDNUcsUUFBMEI7UUFDMUIsSUFBSSxDQUFDLFlBQVksR0FBRztZQUNuQixLQUFLLEVBQUUsS0FBSztZQUNaLFdBQVcsRUFBRSxnQkFBZ0I7WUFDN0IsZ0JBQWdCLEVBQUUsZ0JBQWdCO1lBQ2xDLFlBQVksRUFBRSxZQUFZO1lBQzFCLE1BQU0sRUFBRSxRQUFRO1lBQ2hCLFVBQVUsRUFBRSxVQUFVO1lBQ3RCLFNBQVMsRUFBRSxjQUFjO1lBQ3pCLElBQUksRUFBRSxZQUFZLENBQUMsSUFBSSxDQUFDO1lBQ3hCLEdBQUcsRUFBRSxRQUFRO1NBQ2IsQ0FBQztJQUNILENBQUM7SUFFTSw2QkFBVSxHQUFqQixVQUFrQixPQUFlO1FBQ2hDLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztJQUNyQyxDQUFDO0lBRU0sMkJBQVEsR0FBZixVQUFnQixLQUFhO1FBQzVCLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUNqQyxDQUFDO0lBRU0sOEJBQVcsR0FBbEIsVUFBbUIsUUFBZ0I7UUFDbEMsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLElBQUksRUFBRSxDQUFDO1FBQ2hFLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLFdBQVcsR0FBRyxRQUFRLENBQUM7SUFDcEQsQ0FBQztJQUVEOzs7T0FHRztJQUNJLDRCQUFTLEdBQWhCLFVBQWlCLE1BQWM7UUFDOUIsSUFBSSxNQUFNLEVBQUU7WUFDWCxLQUFLLElBQUksS0FBSyxJQUFJLE1BQU0sRUFBRTtnQkFDekIsSUFBSSxNQUFNLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxFQUFFO29CQUNqQyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxFQUFFO3dCQUNyQyxJQUFJLENBQUMsWUFBYSxDQUFDLEtBQUssQ0FBQyxHQUFHLHFEQUFvQixDQUFRLE1BQU8sQ0FBQyxLQUFLLENBQUMsRUFBUyxJQUFJLENBQUMsWUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7cUJBQ2pIO3lCQUFNO3dCQUNDLElBQUksQ0FBQyxZQUFhLENBQUMsS0FBSyxDQUFDLEdBQVUsTUFBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO3FCQUN6RDtpQkFDRDthQUNEO1NBQ0Q7SUFDRixDQUFDO0lBRU0sNkJBQVUsR0FBakI7UUFDQyxPQUFPLElBQUksSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxFQUFDLElBQUksRUFBRyxrQkFBa0IsRUFBQyxDQUFDLENBQUM7SUFDbkYsQ0FBQztJQUNGLGVBQUM7QUFBRCxDQUFDOztBQUVELFNBQVMsWUFBWSxDQUFDLElBQTBCO0lBQy9DLElBQUksSUFBSSxLQUFLLFFBQVEsRUFBRTtRQUN0QixPQUFPLElBQUksQ0FBQztLQUNaO1NBQU07UUFDTixPQUFPLHVEQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDMUI7QUFDRixDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvVHJhbnNwb3J0L0ZpbGVzL01hbmlmZXN0LnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIE1hbmlmZXN0LnRzXHJcbiAqIE1vZHVsZSBmb3IgbWFuYWdpbmcgdGhlIG1hbmlmZXN0IGZpbGVcclxuICovXHJcblxyXG5pbXBvcnQgeyBJRmlsZSB9IGZyb20gXCIuL0lGaWxlXCI7XHJcbmltcG9ydCB7IEZlZWRiYWNrVHlwZSB9IGZyb20gXCIuLy4uLy4uL0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tIFwiLi8uLi8uLi9VdGlsc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1hbmlmZXN0IGltcGxlbWVudHMgSUZpbGUge1xyXG5cdHByaXZhdGUgbWFuaWZlc3REYXRhOiBJTWFuaWZlc3REYXRhO1xyXG5cclxuXHRwdWJsaWMgY29uc3RydWN0b3IobWFuaWZlc3RUeXBlOiBzdHJpbmcsIGFwcElkOiBudW1iZXIsIHN1Ym1pdFRpbWU6IHN0cmluZywgdHlwZTogTWFuaWZlc3RGZWVkYmFja1R5cGUsXHJcblx0XHRjbGllbnRGZWVkYmFja0lkOiBzdHJpbmcsIGFwcGxpY2F0aW9uR3JvdXA6IElNYW5pZmVzdERhdGFBcHBsaWNhdGlvbiwgdGVsZW1ldHJ5R3JvdXA6IElNYW5pZmVzdERhdGFUZWxlbWV0cnksXHJcblx0XHR3ZWJHcm91cDogSU1hbmlmZXN0RGF0YVdlYikge1xyXG5cdFx0dGhpcy5tYW5pZmVzdERhdGEgPSB7XHJcblx0XHRcdGFwcElkOiBhcHBJZCxcclxuXHRcdFx0YXBwbGljYXRpb246IGFwcGxpY2F0aW9uR3JvdXAsXHJcblx0XHRcdGNsaWVudEZlZWRiYWNrSWQ6IGNsaWVudEZlZWRiYWNrSWQsXHJcblx0XHRcdG1hbmlmZXN0VHlwZTogbWFuaWZlc3RUeXBlLFxyXG5cdFx0XHRzb3VyY2U6IFwiQ2xpZW50XCIsXHJcblx0XHRcdHN1Ym1pdFRpbWU6IHN1Ym1pdFRpbWUsXHJcblx0XHRcdHRlbGVtZXRyeTogdGVsZW1ldHJ5R3JvdXAsXHJcblx0XHRcdHR5cGU6IHNhbml0aXplVHlwZSh0eXBlKSxcclxuXHRcdFx0d2ViOiB3ZWJHcm91cCxcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0Q29tbWVudChjb21tZW50OiBzdHJpbmcpIHtcclxuXHRcdHRoaXMubWFuaWZlc3REYXRhLmNvbW1lbnQgPSBjb21tZW50O1xyXG5cdH1cclxuXHJcblx0cHVibGljIHNldEVtYWlsKGVtYWlsOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMubWFuaWZlc3REYXRhLmVtYWlsID0gZW1haWw7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0Q2F0ZWdvcnkoY2F0ZWdvcnk6IHN0cmluZykge1xyXG5cdFx0dGhpcy5tYW5pZmVzdERhdGEudGVsZW1ldHJ5ID0gdGhpcy5tYW5pZmVzdERhdGEudGVsZW1ldHJ5IHx8IHt9O1xyXG5cdFx0dGhpcy5tYW5pZmVzdERhdGEudGVsZW1ldHJ5LmZlYXR1cmVBcmVhID0gY2F0ZWdvcnk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgZnJlZWZvcm0gY3VzdG9tIHZhbHVlcyBpbiBtYW5pZmVzdC4gVGhyb3dzIGlmIHZhbHVlcyBhcmUgYWxyZWFkeSBzZXQuXHJcblx0ICogQHBhcmFtIHZhbHVlcyB0aGUgdmFsdWVzIGFzIGEgSlMgb2JqZWN0XHJcblx0ICovXHJcblx0cHVibGljIHNldFZhbHVlcyh2YWx1ZXM6IG9iamVjdCkge1xyXG5cdFx0aWYgKHZhbHVlcykge1xyXG5cdFx0XHRmb3IgKGxldCBmaWVsZCBpbiB2YWx1ZXMpIHtcclxuXHRcdFx0XHRpZiAodmFsdWVzLmhhc093blByb3BlcnR5KGZpZWxkKSkge1xyXG5cdFx0XHRcdFx0aWYgKHRoaXMubWFuaWZlc3REYXRhLmhhc093blByb3BlcnR5KGZpZWxkKSkge1xyXG5cdFx0XHRcdFx0XHQoPGFueT4gdGhpcy5tYW5pZmVzdERhdGEpW2ZpZWxkXSA9IFV0aWxzLm92ZXJyaWRlVmFsdWVzKCg8YW55PiB2YWx1ZXMpW2ZpZWxkXSwgKDxhbnk+IHRoaXMubWFuaWZlc3REYXRhKVtmaWVsZF0pO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0KDxhbnk+IHRoaXMubWFuaWZlc3REYXRhKVtmaWVsZF0gPSAoPGFueT4gdmFsdWVzKVtmaWVsZF07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgZ2V0Q29udGVudCgpOiBCbG9iIHtcclxuXHRcdHJldHVybiBuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkodGhpcy5tYW5pZmVzdERhdGEpXSwge3R5cGUgOiBcImFwcGxpY2F0aW9uL2pzb25cIn0pO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2FuaXRpemVUeXBlKHR5cGU6IE1hbmlmZXN0RmVlZGJhY2tUeXBlKTogc3RyaW5nIHtcclxuXHRpZiAodHlwZSA9PT0gXCJTdXJ2ZXlcIikge1xyXG5cdFx0cmV0dXJuIHR5cGU7XHJcblx0fSBlbHNlIHtcclxuXHRcdHJldHVybiBGZWVkYmFja1R5cGVbdHlwZV07XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBNYW5pZmVzdEZlZWRiYWNrVHlwZSA9IEZlZWRiYWNrVHlwZSB8IFwiU3VydmV5XCI7XHJcblxyXG4vKipcclxuICogSW50ZXJmYWNlIGZvciB0aGUgbWFuaWZlc3QgZGF0YVxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJTWFuaWZlc3REYXRhIHtcclxuXHQvLyAjcmVnaW9uIFwiUmVxdWlyZWQgcHJvcGVydGllc1wiXHJcblx0bWFuaWZlc3RUeXBlOiBzdHJpbmc7XHJcblx0YXBwSWQ6IG51bWJlcjtcclxuXHRzdWJtaXRUaW1lOiBzdHJpbmc7XHJcblx0c291cmNlOiBzdHJpbmc7XHJcblx0dHlwZTogc3RyaW5nO1xyXG5cdGNsaWVudEZlZWRiYWNrSWQ6IHN0cmluZztcclxuXHQvLyAjZW5kcmVnaW9uIFwiUmVxdWlyZWQgcHJvcGVydGllc1wiXHJcblx0Y29tbWVudD86IHN0cmluZztcclxuXHRlbWFpbD86IHN0cmluZztcclxuXHRyYXRpbmc/OiBudW1iZXI7XHJcblx0c3VydmV5PzogSU1hbmlmZXN0RGF0YVN1cnZleTtcclxuXHR3ZWI/OiBJTWFuaWZlc3REYXRhV2ViO1xyXG5cdGFwcGxpY2F0aW9uPzogSU1hbmlmZXN0RGF0YUFwcGxpY2F0aW9uO1xyXG5cdHRlbGVtZXRyeT86IElNYW5pZmVzdERhdGFUZWxlbWV0cnk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbnRlcmZhY2UgZm9yIHN1cnZleSByZWxhdGVkIHByb3BlcnRpZXMgaW4gbWFuaWZlc3RcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSU1hbmlmZXN0RGF0YVN1cnZleSB7XHJcblx0c3VydmV5SWQ6IHN0cmluZztcclxufVxyXG5cclxuLyoqXHJcbiAqIEludGVyZmFjZSBmb3IgYXBwbGljYXRpb24gcmVsYXRlZCBwcm9wZXJ0aWVzIGluIG1hbmlmZXN0XHJcbiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIElNYW5pZmVzdERhdGFBcHBsaWNhdGlvbiB7XHJcblx0YXBwRGF0YT86IHN0cmluZztcclxuXHRleHRlbmRlZE1hbmlmZXN0RGF0YT86IHN0cmluZztcclxuXHRmZWVkYmFja1RlbmFudD86IHN0cmluZztcclxufVxyXG5cclxuLyoqXHJcbiAqIEludGVyZmFjZSBmb3IgdGVsZW1ldHJ5IHJlbGF0ZWQgcHJvcGVydGllcyBpbiBtYW5pZmVzdFxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJTWFuaWZlc3REYXRhVGVsZW1ldHJ5IHtcclxuXHRhdWRpZW5jZT86IHN0cmluZztcclxuXHRhdWRpZW5jZUdyb3VwPzogc3RyaW5nO1xyXG5cdGNoYW5uZWw/OiBzdHJpbmc7XHJcblx0ZGV2aWNlSWQ/OiBzdHJpbmc7XHJcblx0ZGV2aWNlVHlwZT86IHN0cmluZztcclxuXHRlcnJvckNsYXNzaWZpY2F0aW9uPzogc3RyaW5nO1xyXG5cdGVycm9yQ29kZT86IHN0cmluZztcclxuXHRlcnJvck5hbWU/OiBzdHJpbmc7XHJcblx0ZmVhdHVyZUFyZWE/OiBzdHJpbmc7XHJcblx0ZmxpZ2h0cz86IHN0cmluZztcclxuXHRmbGlnaHRTb3VyY2U/OiBzdHJpbmc7XHJcblx0ZnVuZGFtZW50YWxBcmVhPzogc3RyaW5nO1xyXG5cdGluc3RhbGxhdGlvblR5cGU/OiBzdHJpbmc7XHJcblx0aXNMb2dJbmNsdWRlZD86IGJvb2xlYW47XHJcblx0aXNVc2VyU3Vic2NyaWJlcj86IGJvb2xlYW47XHJcblx0bG9nZ2FibGVVc2VySWQ/OiBzdHJpbmc7XHJcblx0b2ZmaWNlQXJjaGl0ZWN0dXJlPzogc3RyaW5nO1xyXG5cdG9mZmljZUJ1aWxkPzogc3RyaW5nO1xyXG5cdG9mZmljZUVkaXRpbmdMYW5nPzogbnVtYmVyO1xyXG5cdG9mZmljZVVJTGFuZz86IG51bWJlcjtcclxuXHRvc0JpdG5lc3M/OiBudW1iZXI7XHJcblx0b3NCdWlsZD86IHN0cmluZztcclxuXHRvc1VzZXJMYW5nPzogbnVtYmVyO1xyXG5cdHBsYXRmb3JtPzogc3RyaW5nO1xyXG5cdHByb2Nlc3NTZXNzaW9uSWQ/OiBzdHJpbmc7XHJcblx0cmluZ0lkPzogbnVtYmVyO1xyXG5cdHNrdT86IHN0cmluZztcclxuXHRzb3VyY2VDb250ZXh0Pzogc3RyaW5nO1xyXG5cdHN5c3RlbVByb2R1Y3ROYW1lPzogc3RyaW5nO1xyXG5cdHN5c3RlbU1hbnVmYWN0dXJlcj86IHN0cmluZztcclxuXHR0ZW5hbnRJZD86IHN0cmluZztcclxufVxyXG5cclxuLyoqXHJcbiAqIEludGVyZmFjZSBmb3Igd2ViIHJlbGF0ZWQgcHJvcGVydGllcyBpbiBtYW5pZmVzdFxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJTWFuaWZlc3REYXRhV2ViIHtcclxuXHRicm93c2VyPzogc3RyaW5nO1xyXG5cdGJyb3dzZXJWZXJzaW9uPzogc3RyaW5nO1xyXG5cdGRhdGFDZW50ZXI/OiBzdHJpbmc7XHJcblx0c291cmNlUGFnZU5hbWU/OiBzdHJpbmc7XHJcblx0c291cmNlUGFnZVVSST86IHN0cmluZztcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Transport/Files/Manifest.ts\n')},"./scripts/app/Transport/Files/Screenshot.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Screenshot", function() { return Screenshot; });\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../../Logging/Logging */ "./scripts/app/Logging/Logging.ts");\n/**\r\n * Screenshot.ts\r\n * Module for managing the screenshot file\r\n */\r\n\r\nvar Screenshot = /** @class */ (function () {\r\n    function Screenshot(screenshot) {\r\n        this.screenshot = screenshot;\r\n    }\r\n    Screenshot.prototype.getContent = function () {\r\n        var imgString;\r\n        try {\r\n            imgString = this.screenshot.toDataURL("image/jpeg").split(",")[1];\r\n        }\r\n        catch (e) {\r\n            _Logging_Logging__WEBPACK_IMPORTED_MODULE_0__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_0__["EventIds"].Shared.Screenshot.GetContent.Failed.DefaultImage.Returned.VALUE, 2 /* Error */, { ErrorMessage: e.toString() });\r\n            // return an image with "Screenshot cannot be captured" message\r\n            imgString = "iVBORw0KGgoAAAANSUhEUgAAAN0AAAA+AQMAAACV2ox1AAAABGdBTUEAALGPC/xhBQAAAAZQTFRFAAAA////pdmf3QAAAAlwSFlzAAAOwgAADsIBFShKgAAAAjtJREFUSMfV1M1rE0EUAHDBa5r8A9vkL6giFiI0JH+Ih9KLx8TaukkJugShHgrJzYvkVPQkUqgwSePLEELaU+zBg8JKVvSQQNydlsadwCQzziRZ82ETxYMfc3gD8+MxjzcfV8T80f0vkQ8i68tAPSMSQ0PkI6QDpEPkZBHy1Wp1/zjni2lrZq2T2uikDG17A54Hr0vsvwXIl3WXt02zeIHQBSq3DxHk7VO55zIFgLLrcmaaQBGiqCwQArBVQTbNZODNBB5Ee2EEr5eGiDG4k5mcqcy+Ksh+N8K2+bRI1Z68fRMVoV+XmcFwpQJZGohpkds1WtjppGLaq51a2b8yp310UW9/H8VfRj68CIKRsWCFPCCEM419S4bSAOmPmdb3TBrQ4lmnt9n4/Hiv5fTunsOzXbJfLR2rU3Fd5ugOe9mw0lvNOCNxyDdIHkpHCv0S3a+MS0yT+4wkAKx1gBJeVxeMRhSeNZpXJfY+zqAVl+g0mCFRJMgs6oy9+MCMrWZaJJwiWFjuWcIShf+Wk2W9e59OHu21WPdsswZNLKs9wV77mJiaMVbBQ+/1jGZDofFLuOBU/jzG6OQKnkLOZ5EvwolMX2Q19TAX9MWyy/aNarewfZptechdLn8B3TatB/YXB2j4MKw3jTHKX4AO0CbqaSddMokHUbr0PpSXmFG4O4WIu86asCVihfoM6nUmse5gGkbJOyThVesX4UI0d00LBYMr55VuIZl8MkY1uOiTy9v3c+ShuXj5+NdQdL8B+5gmw8WZuREAAAAASUVORK5CYII=";\r\n        }\r\n        var blobBin = atob(imgString);\r\n        var array = [];\r\n        for (var i = 0; i < blobBin.length; i++) {\r\n            array.push(blobBin.charCodeAt(i));\r\n        }\r\n        var file = new Blob([new Uint8Array(array)], { type: "image/jpeg" });\r\n        return file;\r\n    };\r\n    return Screenshot;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UcmFuc3BvcnQvRmlsZXMvU2NyZWVuc2hvdC50cz83OTlmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBOzs7R0FHRztBQUlnRDtBQUVuRDtJQUdDLG9CQUFhLFVBQTZCO1FBQ3pDLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDO0lBQzlCLENBQUM7SUFFTSwrQkFBVSxHQUFqQjtRQUNDLElBQUksU0FBaUIsQ0FBQztRQUN0QixJQUFJO1lBQ0gsU0FBUyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNsRTtRQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ1gsMERBQWlCLEVBQUUsQ0FBQyxRQUFRLENBQUMseURBQWdCLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsS0FBSyxpQkFDcEYsRUFBRSxZQUFZLEVBQUUsQ0FBQyxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsQ0FBQztZQUV6RCwrREFBK0Q7WUFDL0QsU0FBUyxHQUFHLGs1QkFBazVCLENBQUM7U0FDLzVCO1FBRUQsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzlCLElBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQztRQUNmLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ3hDLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2xDO1FBQ0QsSUFBSSxJQUFJLEdBQVMsSUFBSSxJQUFJLENBQUMsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLEVBQUMsSUFBSSxFQUFFLFlBQVksRUFBQyxDQUFDLENBQUM7UUFFekUsT0FBTyxJQUFJLENBQUM7SUFDYixDQUFDO0lBQ0YsaUJBQUM7QUFBRCxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvVHJhbnNwb3J0L0ZpbGVzL1NjcmVlbnNob3QudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogU2NyZWVuc2hvdC50c1xyXG4gKiBNb2R1bGUgZm9yIG1hbmFnaW5nIHRoZSBzY3JlZW5zaG90IGZpbGVcclxuICovXHJcblxyXG4vKiB0c2xpbnQ6ZGlzYWJsZSBtYXgtbGluZS1sZW5ndGggKi9cclxuaW1wb3J0IHtJRmlsZX0gZnJvbSBcIi4vSUZpbGVcIjtcclxuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi8uLi8uLi9Mb2dnaW5nL0xvZ2dpbmdcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTY3JlZW5zaG90IGltcGxlbWVudHMgSUZpbGUge1xyXG5cdHByaXZhdGUgc2NyZWVuc2hvdDogSFRNTENhbnZhc0VsZW1lbnQ7XHJcblxyXG5cdGNvbnN0cnVjdG9yIChzY3JlZW5zaG90OiBIVE1MQ2FudmFzRWxlbWVudCkge1xyXG5cdFx0dGhpcy5zY3JlZW5zaG90ID0gc2NyZWVuc2hvdDtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRDb250ZW50KCk6IEJsb2Ige1xyXG5cdFx0bGV0IGltZ1N0cmluZzogc3RyaW5nO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0aW1nU3RyaW5nID0gdGhpcy5zY3JlZW5zaG90LnRvRGF0YVVSTChcImltYWdlL2pwZWdcIikuc3BsaXQoXCIsXCIpWzFdO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KExvZ2dpbmcuRXZlbnRJZHMuU2hhcmVkLlNjcmVlbnNob3QuR2V0Q29udGVudC5GYWlsZWQuRGVmYXVsdEltYWdlLlJldHVybmVkLlZBTFVFLFxyXG5cdFx0XHRcdExvZ2dpbmcuTG9nTGV2ZWwuRXJyb3IsIHsgRXJyb3JNZXNzYWdlOiBlLnRvU3RyaW5nKCkgfSk7XHJcblxyXG5cdFx0XHQvLyByZXR1cm4gYW4gaW1hZ2Ugd2l0aCBcIlNjcmVlbnNob3QgY2Fubm90IGJlIGNhcHR1cmVkXCIgbWVzc2FnZVxyXG5cdFx0XHRpbWdTdHJpbmcgPSBcImlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFOMEFBQUErQVFNQUFBQ1Yyb3gxQUFBQUJHZEJUVUVBQUxHUEMveGhCUUFBQUFaUVRGUkZBQUFBLy8vL3BkbWYzUUFBQUFsd1NGbHpBQUFPd2dBQURzSUJGU2hLZ0FBQUFqdEpSRUZVU01mVjFNMXJFMEVVQUhEQmE1cjhBOXZrTDZnaUZpSTBKSCtJaDlLTHg4VGF1a2tKdWdTaEhnckp6WXZrVlBRa1VxZ3dTZVBMRUVMYVUrekJnOEpLVnZTUVFOeWRsc2Fkd0NRenppUlo4MkVUeFlNZmMzZ0Q4K014anpjZlY4VDgwZjB2a1E4aTY4dEFQU01TUTBQa0k2UURwRVBrWkJIeTFXcDEvempuaTJsclpxMlQydWlrREcxN0E1NEhyMHZzdndYSWwzV1h0MDJ6ZUlIUUJTcTNEeEhrN1ZPNTV6SUZnTExyY21hYVFCR2lxQ3dRQXJCVlFUYk5aT0ROQkI1RWUyRUVyNWVHaURHNGs1bWNxY3krS3NoK044SzIrYlJJMVo2OGZSTVZvVitYbWNGd3BRSlpHb2hwa2RzMVd0anBwR0xhcTUxYTJiOHlwMzEwVVc5L0g4VmZSajY4Q0lLUnNXQ0ZQQ0NFTTQxOVM0YlNBT21QbWRiM1RCclE0bG1udDluNC9IaXY1ZlR1bnNPelhiSmZMUjJyVTNGZDV1Z09lOW13MGx2Tk9DTnh5RGRJSGtwSEN2MFMzYStNUzB5VCs0d2tBS3gxZ0JKZVZ4ZU1SaFNlTlpwWEpmWSt6cUFWbCtnMG1DRlJKTWdzNm95OStNQ01yV1phSkp3aVdGanVXY0lTaGYrV2syVzllNTlPSHUyMVdQZHNzd1pOTEtzOXdWNzdtSmlhTVZiQlErLzFqR1pEb2ZGTHVPQlUvanpHNk9RS25rTE9aNUV2d29sTVgyUTE5VEFYOU1XeXkvYU5hcmV3ZlpwdGVjaGRMbjhCM1RhdEIvWVhCMmo0TUt3M2pUSEtYNEFPMENicWFTZGRNb2tIVWJyMFBwU1htRkc0TzRXSXU4NmFzQ1ZpaGZvTTZuVW1zZTVnR2tiSk95VGhWZXNYNFVJMGQwMExCWU1yNTVWdUlabDhNa1kxdU9pVHk5djNjK1NodVhqNStOZFFkTDhCKzVnbXc4V1p1UkVBQUFBQVNVVk9SSzVDWUlJPVwiO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBibG9iQmluID0gYXRvYihpbWdTdHJpbmcpO1xyXG5cdFx0bGV0IGFycmF5ID0gW107XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGJsb2JCaW4ubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0YXJyYXkucHVzaChibG9iQmluLmNoYXJDb2RlQXQoaSkpO1xyXG5cdFx0fVxyXG5cdFx0bGV0IGZpbGU6IEJsb2IgPSBuZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkoYXJyYXkpXSwge3R5cGU6IFwiaW1hZ2UvanBlZ1wifSk7XHJcblxyXG5cdFx0cmV0dXJuIGZpbGU7XHJcblx0fVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/Transport/Files/Screenshot.ts\n')},"./scripts/app/Transport/Petrol.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "send", function() { return send; });\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Configuration/Configuration */ "./scripts/app/Configuration/Configuration.ts");\n\r\nvar HTTP_TIMEOUT = 8000; // timeout in milliseconds\r\n/**\r\n * Make an http request with retries\r\n * @param method the http method "GET", "POST" etc\r\n * @param url the url\r\n * @param requestBody the request body\r\n * @param maxRetries the maximum number of retries\r\n * @param onLoad the onload handler\r\n */\r\nfunction makeHttpRequest(method, url, requestBody, maxRetries, onLoad) {\r\n    var makeRequest = function (retries, timeout) {\r\n        return new Promise(function (resolve, reject) {\r\n            var xhr = new XMLHttpRequest();\r\n            xhr.open(method, url, true);\r\n            xhr.timeout = timeout;\r\n            xhr.onload = function () { onLoad(xhr, resolve, reject); };\r\n            xhr.ontimeout = function () {\r\n                if (retries > 0) {\r\n                    // double the timeout and retry it\r\n                    makeRequest(retries - 1, timeout * 2).then(resolve, reject);\r\n                }\r\n                else {\r\n                    reject(new Error("Request to \'" + url + "\' timed out. timeout: " + xhr.timeout));\r\n                }\r\n            };\r\n            xhr.onerror = function () {\r\n                if (retries > 0) {\r\n                    makeRequest(retries - 1, timeout).then(resolve, reject);\r\n                }\r\n                else {\r\n                    reject(new Error("Request to \'" + url + "\' errored. " + xhr.status + " - " + xhr.statusText + " : " + xhr.responseText));\r\n                }\r\n            };\r\n            xhr.send(requestBody);\r\n        });\r\n    };\r\n    // get the input timeout or using the default value if timeout is not defined\r\n    var httpTimeout = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__["get"]().getCommonInitOptions().petrolTimeout\r\n        ? _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_0__["get"]().getCommonInitOptions().petrolTimeout\r\n        : HTTP_TIMEOUT;\r\n    return makeRequest(maxRetries, httpTimeout);\r\n}\r\nvar uploadEndpointInt = "https://petrol-int.office.microsoft.com/v1/feedback";\r\nvar uploadEndpointProd = "https://petrol.office.microsoft.com/v1/feedback";\r\n/**\r\n * Send a payload to Petrol\r\n * @param isProduction is production?\r\n * @param manifest manifest content\r\n * @param screenshot screenshot content\r\n * @param diagnostics diagnostics content\r\n */\r\nfunction send(isProduction, manifest, screenshot, diagnostics) {\r\n    if (manifest === undefined) {\r\n        return Promise.reject(new Error("Manifest cannot be undefined"));\r\n    }\r\n    var formData = new FormData();\r\n    formData.append("Manifest", manifest);\r\n    if (screenshot) {\r\n        formData.append("Screenshot", screenshot);\r\n    }\r\n    if (diagnostics) {\r\n        formData.append("Diagnostics", diagnostics);\r\n    }\r\n    return makeHttpRequest("POST", isProduction ? uploadEndpointProd : uploadEndpointInt, formData, 2, function (xhr, resolve, reject) {\r\n        if (xhr.status !== 200) {\r\n            reject(new Error("Non-200 response with status code: " + xhr.status + ", response: " + xhr.responseText));\r\n        }\r\n        resolve();\r\n    });\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UcmFuc3BvcnQvUGV0cm9sLnRzPzU4NjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQWdFO0FBRWhFLElBQU0sWUFBWSxHQUFXLElBQUksQ0FBQyxDQUFDLDBCQUEwQjtBQUM3RDs7Ozs7OztHQU9HO0FBQ0gsU0FBUyxlQUFlLENBQUksTUFBYyxFQUFFLEdBQVcsRUFBRSxXQUFnQixFQUFFLFVBQWtCLEVBQzVGLE1BQWtHO0lBRWxHLElBQUksV0FBVyxHQUNkLFVBQUMsT0FBZSxFQUFFLE9BQWU7UUFDaEMsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNO1lBQ2xDLElBQUksR0FBRyxHQUFtQixJQUFJLGNBQWMsRUFBRSxDQUFDO1lBQy9DLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztZQUM1QixHQUFHLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztZQUN0QixHQUFHLENBQUMsTUFBTSxHQUFHLGNBQVEsTUFBTSxDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDckQsR0FBRyxDQUFDLFNBQVMsR0FBRztnQkFDZixJQUFJLE9BQU8sR0FBRyxDQUFDLEVBQUU7b0JBQ2hCLGtDQUFrQztvQkFDbEMsV0FBVyxDQUFDLE9BQU8sR0FBRyxDQUFDLEVBQUUsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUM7aUJBQzVEO3FCQUFNO29CQUNOLE1BQU0sQ0FBQyxJQUFJLEtBQUssQ0FBQyxpQkFBZSxHQUFHLDhCQUF5QixHQUFHLENBQUMsT0FBUyxDQUFDLENBQUMsQ0FBQztpQkFDNUU7WUFDRixDQUFDLENBQUM7WUFDRixHQUFHLENBQUMsT0FBTyxHQUFHO2dCQUNiLElBQUksT0FBTyxHQUFHLENBQUMsRUFBRTtvQkFDaEIsV0FBVyxDQUFDLE9BQU8sR0FBRyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQztpQkFDeEQ7cUJBQU07b0JBQ04sTUFBTSxDQUFDLElBQUksS0FBSyxDQUFDLGlCQUFlLEdBQUcsbUJBQWMsR0FBRyxDQUFDLE1BQU0sV0FBTSxHQUFHLENBQUMsVUFBVSxXQUFNLEdBQUcsQ0FBQyxZQUFjLENBQUMsQ0FBQyxDQUFDO2lCQUMxRztZQUNGLENBQUMsQ0FBQztZQUNGLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDdkIsQ0FBQyxDQUFDLENBQUM7SUFDSixDQUFDLENBQUM7SUFFSCw2RUFBNkU7SUFDN0UsSUFBTSxXQUFXLEdBQUcsZ0VBQWlCLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLGFBQWE7UUFDdkUsQ0FBQyxDQUFDLGdFQUFpQixFQUFFLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxhQUFhO1FBQzFELENBQUMsQ0FBQyxZQUFZLENBQUM7SUFFcEIsT0FBTyxXQUFXLENBQUMsVUFBVSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQzdDLENBQUM7QUFFRCxJQUFNLGlCQUFpQixHQUFXLHFEQUFxRCxDQUFDO0FBQ3hGLElBQU0sa0JBQWtCLEdBQVcsaURBQWlELENBQUM7QUFFckY7Ozs7OztHQU1HO0FBQ0ksU0FBUyxJQUFJLENBQUMsWUFBcUIsRUFBRSxRQUFjLEVBQUUsVUFBaUIsRUFBRSxXQUFrQjtJQUNoRyxJQUFJLFFBQVEsS0FBSyxTQUFTLEVBQUU7UUFDM0IsT0FBTyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksS0FBSyxDQUFDLDhCQUE4QixDQUFDLENBQUMsQ0FBQztLQUNqRTtJQUVELElBQUksUUFBUSxHQUFHLElBQUksUUFBUSxFQUFFLENBQUM7SUFDOUIsUUFBUSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFFdEMsSUFBSSxVQUFVLEVBQUU7UUFDZixRQUFRLENBQUMsTUFBTSxDQUFDLFlBQVksRUFBRSxVQUFVLENBQUMsQ0FBQztLQUMxQztJQUVELElBQUksV0FBVyxFQUFFO1FBQ2hCLFFBQVEsQ0FBQyxNQUFNLENBQUMsYUFBYSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0tBQzVDO0lBRUQsT0FBTyxlQUFlLENBQU0sTUFBTSxFQUFFLFlBQVksQ0FBQyxDQUFDLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQ3JHLFVBQ0MsR0FBbUIsRUFDbkIsT0FBOEIsRUFDOUIsTUFBNkI7UUFFN0IsSUFBSSxHQUFHLENBQUMsTUFBTSxLQUFLLEdBQUcsRUFBRTtZQUN2QixNQUFNLENBQUMsSUFBSSxLQUFLLENBQUMscUNBQXFDLEdBQUcsR0FBRyxDQUFDLE1BQU0sR0FBRyxjQUFjLEdBQUcsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7U0FDMUc7UUFDRCxPQUFPLEVBQUUsQ0FBQztJQUNYLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1RyYW5zcG9ydC9QZXRyb2wudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBDb25maWd1cmF0aW9uIGZyb20gXCIuLi9Db25maWd1cmF0aW9uL0NvbmZpZ3VyYXRpb25cIjtcclxuXHJcbmNvbnN0IEhUVFBfVElNRU9VVDogbnVtYmVyID0gODAwMDsgLy8gdGltZW91dCBpbiBtaWxsaXNlY29uZHNcclxuLyoqXHJcbiAqIE1ha2UgYW4gaHR0cCByZXF1ZXN0IHdpdGggcmV0cmllc1xyXG4gKiBAcGFyYW0gbWV0aG9kIHRoZSBodHRwIG1ldGhvZCBcIkdFVFwiLCBcIlBPU1RcIiBldGNcclxuICogQHBhcmFtIHVybCB0aGUgdXJsXHJcbiAqIEBwYXJhbSByZXF1ZXN0Qm9keSB0aGUgcmVxdWVzdCBib2R5XHJcbiAqIEBwYXJhbSBtYXhSZXRyaWVzIHRoZSBtYXhpbXVtIG51bWJlciBvZiByZXRyaWVzXHJcbiAqIEBwYXJhbSBvbkxvYWQgdGhlIG9ubG9hZCBoYW5kbGVyXHJcbiAqL1xyXG5mdW5jdGlvbiBtYWtlSHR0cFJlcXVlc3Q8VD4obWV0aG9kOiBzdHJpbmcsIHVybDogc3RyaW5nLCByZXF1ZXN0Qm9keTogYW55LCBtYXhSZXRyaWVzOiBudW1iZXIsXHJcblx0b25Mb2FkOiAoeGhyOiBYTUxIdHRwUmVxdWVzdCwgcmVzb2x2ZTogKHZhbHVlPzogVCkgPT4gdm9pZCwgcmVqZWN0OiAoZXJyb3I/OiBhbnkpID0+IHZvaWQpID0+IHZvaWRcclxuKTogUHJvbWlzZTxUPiB7XHJcblx0bGV0IG1ha2VSZXF1ZXN0OiAocmV0cmllczogbnVtYmVyLCB0aW1lb3V0OiBudW1iZXIpID0+IFByb21pc2U8VD4gPVxyXG5cdFx0KHJldHJpZXM6IG51bWJlciwgdGltZW91dDogbnVtYmVyKSA9PiB7XHJcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRcdFx0bGV0IHhocjogWE1MSHR0cFJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHRcdFx0XHR4aHIub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7XHJcblx0XHRcdFx0eGhyLnRpbWVvdXQgPSB0aW1lb3V0O1xyXG5cdFx0XHRcdHhoci5vbmxvYWQgPSAoKSA9PiB7IG9uTG9hZCh4aHIsIHJlc29sdmUsIHJlamVjdCk7IH07XHJcblx0XHRcdFx0eGhyLm9udGltZW91dCA9ICgpID0+IHtcclxuXHRcdFx0XHRcdGlmIChyZXRyaWVzID4gMCkge1xyXG5cdFx0XHRcdFx0XHQvLyBkb3VibGUgdGhlIHRpbWVvdXQgYW5kIHJldHJ5IGl0XHJcblx0XHRcdFx0XHRcdG1ha2VSZXF1ZXN0KHJldHJpZXMgLSAxLCB0aW1lb3V0ICogMikudGhlbihyZXNvbHZlLCByZWplY3QpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0cmVqZWN0KG5ldyBFcnJvcihgUmVxdWVzdCB0byAnJHt1cmx9JyB0aW1lZCBvdXQuIHRpbWVvdXQ6ICR7eGhyLnRpbWVvdXR9YCkpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH07XHJcblx0XHRcdFx0eGhyLm9uZXJyb3IgPSAoKSA9PiB7XHJcblx0XHRcdFx0XHRpZiAocmV0cmllcyA+IDApIHtcclxuXHRcdFx0XHRcdFx0bWFrZVJlcXVlc3QocmV0cmllcyAtIDEsIHRpbWVvdXQpLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoYFJlcXVlc3QgdG8gJyR7dXJsfScgZXJyb3JlZC4gJHt4aHIuc3RhdHVzfSAtICR7eGhyLnN0YXR1c1RleHR9IDogJHt4aHIucmVzcG9uc2VUZXh0fWApKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdHhoci5zZW5kKHJlcXVlc3RCb2R5KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHQvLyBnZXQgdGhlIGlucHV0IHRpbWVvdXQgb3IgdXNpbmcgdGhlIGRlZmF1bHQgdmFsdWUgaWYgdGltZW91dCBpcyBub3QgZGVmaW5lZFxyXG5cdGNvbnN0IGh0dHBUaW1lb3V0ID0gQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRDb21tb25Jbml0T3B0aW9ucygpLnBldHJvbFRpbWVvdXRcclxuXHRcdFx0XHRcdFx0PyBDb25maWd1cmF0aW9uLmdldCgpLmdldENvbW1vbkluaXRPcHRpb25zKCkucGV0cm9sVGltZW91dFxyXG5cdFx0XHRcdFx0XHQ6IEhUVFBfVElNRU9VVDtcclxuXHJcblx0cmV0dXJuIG1ha2VSZXF1ZXN0KG1heFJldHJpZXMsIGh0dHBUaW1lb3V0KTtcclxufVxyXG5cclxuY29uc3QgdXBsb2FkRW5kcG9pbnRJbnQ6IHN0cmluZyA9IFwiaHR0cHM6Ly9wZXRyb2wtaW50Lm9mZmljZS5taWNyb3NvZnQuY29tL3YxL2ZlZWRiYWNrXCI7XHJcbmNvbnN0IHVwbG9hZEVuZHBvaW50UHJvZDogc3RyaW5nID0gXCJodHRwczovL3BldHJvbC5vZmZpY2UubWljcm9zb2Z0LmNvbS92MS9mZWVkYmFja1wiO1xyXG5cclxuLyoqXHJcbiAqIFNlbmQgYSBwYXlsb2FkIHRvIFBldHJvbFxyXG4gKiBAcGFyYW0gaXNQcm9kdWN0aW9uIGlzIHByb2R1Y3Rpb24/XHJcbiAqIEBwYXJhbSBtYW5pZmVzdCBtYW5pZmVzdCBjb250ZW50XHJcbiAqIEBwYXJhbSBzY3JlZW5zaG90IHNjcmVlbnNob3QgY29udGVudFxyXG4gKiBAcGFyYW0gZGlhZ25vc3RpY3MgZGlhZ25vc3RpY3MgY29udGVudFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNlbmQoaXNQcm9kdWN0aW9uOiBib29sZWFuLCBtYW5pZmVzdDogQmxvYiwgc2NyZWVuc2hvdD86IEJsb2IsIGRpYWdub3N0aWNzPzogQmxvYik6IFByb21pc2U8YW55PiB7XHJcblx0aWYgKG1hbmlmZXN0ID09PSB1bmRlZmluZWQpIHtcclxuXHRcdHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJNYW5pZmVzdCBjYW5ub3QgYmUgdW5kZWZpbmVkXCIpKTtcclxuXHR9XHJcblxyXG5cdGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG5cdGZvcm1EYXRhLmFwcGVuZChcIk1hbmlmZXN0XCIsIG1hbmlmZXN0KTtcclxuXHJcblx0aWYgKHNjcmVlbnNob3QpIHtcclxuXHRcdGZvcm1EYXRhLmFwcGVuZChcIlNjcmVlbnNob3RcIiwgc2NyZWVuc2hvdCk7XHJcblx0fVxyXG5cclxuXHRpZiAoZGlhZ25vc3RpY3MpIHtcclxuXHRcdGZvcm1EYXRhLmFwcGVuZChcIkRpYWdub3N0aWNzXCIsIGRpYWdub3N0aWNzKTtcclxuXHR9XHJcblxyXG5cdHJldHVybiBtYWtlSHR0cFJlcXVlc3Q8YW55PihcIlBPU1RcIiwgaXNQcm9kdWN0aW9uID8gdXBsb2FkRW5kcG9pbnRQcm9kIDogdXBsb2FkRW5kcG9pbnRJbnQsIGZvcm1EYXRhLCAyLFxyXG5cdFx0ZnVuY3Rpb24gKFxyXG5cdFx0XHR4aHI6IFhNTEh0dHBSZXF1ZXN0LFxyXG5cdFx0XHRyZXNvbHZlOiAodmFsdWU/OiBhbnkpID0+IHZvaWQsXHJcblx0XHRcdHJlamVjdDogKGVycm9yPzogYW55KSA9PiB2b2lkXHJcblx0XHQpOiB2b2lkIHtcclxuXHRcdFx0aWYgKHhoci5zdGF0dXMgIT09IDIwMCkge1xyXG5cdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoXCJOb24tMjAwIHJlc3BvbnNlIHdpdGggc3RhdHVzIGNvZGU6IFwiICsgeGhyLnN0YXR1cyArIFwiLCByZXNwb25zZTogXCIgKyB4aHIucmVzcG9uc2VUZXh0KSk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0fSk7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/Transport/Petrol.ts\n')},"./scripts/app/Transport/Transport.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Transporter", function() { return Transporter; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../Utils */ "./scripts/app/Utils.ts");\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../Logging/Logging */ "./scripts/app/Logging/Logging.ts");\n/* harmony import */ var _Petrol__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Petrol */ "./scripts/app/Transport/Petrol.ts");\n/* harmony import */ var _Files_Screenshot__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Files/Screenshot */ "./scripts/app/Transport/Files/Screenshot.ts");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Configuration/Configuration */ "./scripts/app/Configuration/Configuration.ts");\n/* harmony import */ var _Files_Manifest__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Files/Manifest */ "./scripts/app/Transport/Files/Manifest.ts");\n/**\r\n * Feedback.ts\r\n *\r\n * Module for payload transport.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar Transporter = /** @class */ (function () {\r\n    function Transporter(environment, manifestType, appId, type, applicationGroup, telemetryGroup, webGroup) {\r\n        this.clientFeedbackId = _Utils__WEBPACK_IMPORTED_MODULE_1__["guid"]();\r\n        this.manifest = new _Files_Manifest__WEBPACK_IMPORTED_MODULE_6__["Manifest"](manifestType, appId, new Date().toISOString(), type, this.clientFeedbackId, Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])({}, applicationGroup), Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])({}, telemetryGroup), Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"])({}, webGroup));\r\n        this.environment = environment;\r\n    }\r\n    Transporter.prototype.getClientFeedbackId = function () {\r\n        return this.clientFeedbackId;\r\n    };\r\n    Transporter.prototype.setComment = function (comment) {\r\n        this.manifest.setComment(comment);\r\n    };\r\n    Transporter.prototype.setEmail = function (email) {\r\n        this.manifest.setEmail(email);\r\n    };\r\n    Transporter.prototype.setCategory = function (category) {\r\n        this.manifest.setCategory(category);\r\n    };\r\n    Transporter.prototype.setScreenshot = function (screenshot) {\r\n        this.screenshot = new _Files_Screenshot__WEBPACK_IMPORTED_MODULE_4__["Screenshot"](screenshot);\r\n    };\r\n    Transporter.prototype.getManifest = function () {\r\n        return this.manifest;\r\n    };\r\n    /**\r\n     * Set freeform custom values in manifest. Throws if values are already set.\r\n     * @param values the values as a JS object\r\n     */\r\n    Transporter.prototype.setManifestValues = function (values) {\r\n        this.manifest.setValues(values);\r\n    };\r\n    /**\r\n     * Submit the payload\r\n     */\r\n    Transporter.prototype.submit = function () {\r\n        var manifestContent = this.manifest.getContent();\r\n        var screenshotContent = undefined;\r\n        var clientFeedbackId = this.clientFeedbackId;\r\n        if (this.screenshot) {\r\n            screenshotContent = this.screenshot.getContent();\r\n        }\r\n        return _Petrol__WEBPACK_IMPORTED_MODULE_3__["send"](this.environment === 0 /* Production */, manifestContent, screenshotContent)\r\n            .catch(function onRejected(err) {\r\n            _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__["get"]().getCommonInitOptions().onError("Payload submission failed: " + err.message +\r\n                ". ClientFeedbackId: " + clientFeedbackId);\r\n            _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_2__["EventIds"].Shared.Upload.Failed.VALUE, 2 /* Error */, { ErrorMessage: err.message, ClientFeedbackId: clientFeedbackId });\r\n        });\r\n    };\r\n    return Transporter;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9UcmFuc3BvcnQvVHJhbnNwb3J0LnRzPzM1MjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRzs7QUFHaUM7QUFDWTtBQUNiO0FBQ2E7QUFDZ0I7QUFFdkM7QUFNekI7SUFNQyxxQkFBbUIsV0FBa0MsRUFBRSxZQUFvQixFQUFFLEtBQWEsRUFBRSxJQUEwQixFQUNySCxnQkFBMEMsRUFBRSxjQUFzQyxFQUFFLFFBQTBCO1FBRTlHLElBQUksQ0FBQyxnQkFBZ0IsR0FBRywyQ0FBVSxFQUFFLENBQUM7UUFDckMsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLHdEQUFRLENBQUMsWUFBWSxFQUFFLEtBQUssRUFBRSxJQUFJLElBQUksRUFBRSxDQUFDLFdBQVcsRUFBRSxFQUFFLElBQUksRUFDaEYsSUFBSSxDQUFDLGdCQUFnQixFQUFFLDJEQUFLLGdCQUFnQiw4REFBUyxjQUFjLDhEQUFTLFFBQVEsRUFBRyxDQUFDO1FBQ3hGLElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDO0lBQ2hDLENBQUM7SUFFTSx5Q0FBbUIsR0FBMUI7UUFDQyxPQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztJQUM5QixDQUFDO0lBRU0sZ0NBQVUsR0FBakIsVUFBa0IsT0FBZTtRQUNoQyxJQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNuQyxDQUFDO0lBRU0sOEJBQVEsR0FBZixVQUFnQixLQUFhO1FBQzVCLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFFTSxpQ0FBVyxHQUFsQixVQUFtQixRQUFnQjtRQUNsQyxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBRU0sbUNBQWEsR0FBcEIsVUFBcUIsVUFBNkI7UUFDakQsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLDREQUFVLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDOUMsQ0FBQztJQUVNLGlDQUFXLEdBQWxCO1FBQ0MsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQ3RCLENBQUM7SUFFRDs7O09BR0c7SUFDSSx1Q0FBaUIsR0FBeEIsVUFBeUIsTUFBYztRQUN0QyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRUQ7O09BRUc7SUFDSSw0QkFBTSxHQUFiO1FBQ0MsSUFBSSxlQUFlLEdBQVMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUN2RCxJQUFJLGlCQUFpQixHQUFTLFNBQVMsQ0FBQztRQUN4QyxJQUFNLGdCQUFnQixHQUFXLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztRQUV2RCxJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDcEIsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxVQUFVLEVBQUUsQ0FBQztTQUNqRDtRQUVELE9BQU8sNENBQVcsQ0FBQyxJQUFJLENBQUMsV0FBVyx1QkFBcUMsRUFBRSxlQUFlLEVBQUUsaUJBQWlCLENBQUM7YUFDMUcsS0FBSyxDQUNMLFNBQVMsVUFBVSxDQUFDLEdBQVU7WUFDN0IsZ0VBQWlCLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLE9BQU8sQ0FBQyw2QkFBNkIsR0FBRyxHQUFHLENBQUMsT0FBTztnQkFDN0Ysc0JBQXNCLEdBQUcsZ0JBQWdCLENBQUMsQ0FBQztZQUM1QywwREFBaUIsRUFBRSxDQUFDLFFBQVEsQ0FBQyx5REFBZ0IsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLGlCQUMvQyxFQUFFLFlBQVksRUFBRSxHQUFHLENBQUMsT0FBTyxFQUFFLGdCQUFnQixFQUFFLGdCQUFnQixFQUFFLENBQUMsQ0FBQztRQUM3RixDQUFDLENBQ0QsQ0FBQztJQUNMLENBQUM7SUFDRixrQkFBQztBQUFELENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9UcmFuc3BvcnQvVHJhbnNwb3J0LnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEZlZWRiYWNrLnRzXHJcbiAqXHJcbiAqIE1vZHVsZSBmb3IgcGF5bG9hZCB0cmFuc3BvcnQuXHJcbiAqL1xyXG5cclxuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gXCIuLy4uL0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tIFwiLi8uLi9VdGlsc1wiO1xyXG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuLy4uL0xvZ2dpbmcvTG9nZ2luZ1wiO1xyXG5pbXBvcnQgKiBhcyBQZXRyb2wgZnJvbSBcIi4vUGV0cm9sXCI7XHJcbmltcG9ydCB7IFNjcmVlbnNob3QgfSBmcm9tIFwiLi9GaWxlcy9TY3JlZW5zaG90XCI7XHJcbmltcG9ydCAqIGFzIENvbmZpZ3VyYXRpb24gZnJvbSBcIi4uL0NvbmZpZ3VyYXRpb24vQ29uZmlndXJhdGlvblwiO1xyXG5pbXBvcnQgeyBNYW5pZmVzdCwgTWFuaWZlc3RGZWVkYmFja1R5cGUsIElNYW5pZmVzdERhdGFBcHBsaWNhdGlvbiwgSU1hbmlmZXN0RGF0YVRlbGVtZXRyeSwgSU1hbmlmZXN0RGF0YVdlYiB9XHJcblx0ZnJvbSBcIi4vRmlsZXMvTWFuaWZlc3RcIjtcclxuXHJcbmltcG9ydCB7IEFwaSB9IGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmVcIjtcclxuXHJcbmV4cG9ydCB7IElNYW5pZmVzdERhdGFBcHBsaWNhdGlvbiwgSU1hbmlmZXN0RGF0YVRlbGVtZXRyeSwgSU1hbmlmZXN0RGF0YVdlYiB9IGZyb20gXCIuL0ZpbGVzL01hbmlmZXN0XCJcclxuXHJcbmV4cG9ydCBjbGFzcyBUcmFuc3BvcnRlciBpbXBsZW1lbnRzIEFwaS5JVHJhbnNwb3J0ZXIge1xyXG5cdHByaXZhdGUgbWFuaWZlc3Q6IE1hbmlmZXN0O1xyXG5cdHByaXZhdGUgc2NyZWVuc2hvdDogU2NyZWVuc2hvdDtcclxuXHRwcml2YXRlIGVudmlyb25tZW50OiBDb25zdGFudHMuRW52aXJvbm1lbnQ7XHJcblx0cHJpdmF0ZSBjbGllbnRGZWVkYmFja0lkOiBzdHJpbmc7XHJcblxyXG5cdHB1YmxpYyBjb25zdHJ1Y3RvcihlbnZpcm9ubWVudDogQ29uc3RhbnRzLkVudmlyb25tZW50LCBtYW5pZmVzdFR5cGU6IHN0cmluZywgYXBwSWQ6IG51bWJlciwgdHlwZTogTWFuaWZlc3RGZWVkYmFja1R5cGUsXHJcblx0XHRhcHBsaWNhdGlvbkdyb3VwOiBJTWFuaWZlc3REYXRhQXBwbGljYXRpb24sIHRlbGVtZXRyeUdyb3VwOiBJTWFuaWZlc3REYXRhVGVsZW1ldHJ5LCB3ZWJHcm91cDogSU1hbmlmZXN0RGF0YVdlYikge1xyXG5cclxuXHRcdHRoaXMuY2xpZW50RmVlZGJhY2tJZCA9IFV0aWxzLmd1aWQoKTtcclxuXHRcdHRoaXMubWFuaWZlc3QgPSBuZXcgTWFuaWZlc3QobWFuaWZlc3RUeXBlLCBhcHBJZCwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLCB0eXBlLFxyXG5cdFx0dGhpcy5jbGllbnRGZWVkYmFja0lkLCB7IC4uLmFwcGxpY2F0aW9uR3JvdXAgfSwgeyAuLi50ZWxlbWV0cnlHcm91cCB9LCB7IC4uLndlYkdyb3VwIH0pO1xyXG5cdFx0dGhpcy5lbnZpcm9ubWVudCA9IGVudmlyb25tZW50O1xyXG5cdH1cclxuXHJcblx0cHVibGljIGdldENsaWVudEZlZWRiYWNrSWQoKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmNsaWVudEZlZWRiYWNrSWQ7XHJcblx0fVxyXG5cclxuXHRwdWJsaWMgc2V0Q29tbWVudChjb21tZW50OiBzdHJpbmcpIHtcclxuXHRcdHRoaXMubWFuaWZlc3Quc2V0Q29tbWVudChjb21tZW50KTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRFbWFpbChlbWFpbDogc3RyaW5nKSB7XHJcblx0XHR0aGlzLm1hbmlmZXN0LnNldEVtYWlsKGVtYWlsKTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRDYXRlZ29yeShjYXRlZ29yeTogc3RyaW5nKSB7XHJcblx0XHR0aGlzLm1hbmlmZXN0LnNldENhdGVnb3J5KGNhdGVnb3J5KTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBzZXRTY3JlZW5zaG90KHNjcmVlbnNob3Q6IEhUTUxDYW52YXNFbGVtZW50KSB7XHJcblx0XHR0aGlzLnNjcmVlbnNob3QgPSBuZXcgU2NyZWVuc2hvdChzY3JlZW5zaG90KTtcclxuXHR9XHJcblxyXG5cdHB1YmxpYyBnZXRNYW5pZmVzdCgpOiBNYW5pZmVzdCB7XHJcblx0XHRyZXR1cm4gdGhpcy5tYW5pZmVzdDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNldCBmcmVlZm9ybSBjdXN0b20gdmFsdWVzIGluIG1hbmlmZXN0LiBUaHJvd3MgaWYgdmFsdWVzIGFyZSBhbHJlYWR5IHNldC5cclxuXHQgKiBAcGFyYW0gdmFsdWVzIHRoZSB2YWx1ZXMgYXMgYSBKUyBvYmplY3RcclxuXHQgKi9cclxuXHRwdWJsaWMgc2V0TWFuaWZlc3RWYWx1ZXModmFsdWVzOiBvYmplY3QpIHtcclxuXHRcdHRoaXMubWFuaWZlc3Quc2V0VmFsdWVzKHZhbHVlcyk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTdWJtaXQgdGhlIHBheWxvYWRcclxuXHQgKi9cclxuXHRwdWJsaWMgc3VibWl0KCk6IFByb21pc2U8YW55PiB7XHJcblx0XHRsZXQgbWFuaWZlc3RDb250ZW50OiBCbG9iID0gdGhpcy5tYW5pZmVzdC5nZXRDb250ZW50KCk7XHJcblx0XHRsZXQgc2NyZWVuc2hvdENvbnRlbnQ6IEJsb2IgPSB1bmRlZmluZWQ7XHJcblx0XHRjb25zdCBjbGllbnRGZWVkYmFja0lkOiBzdHJpbmcgPSB0aGlzLmNsaWVudEZlZWRiYWNrSWQ7XHJcblxyXG5cdFx0aWYgKHRoaXMuc2NyZWVuc2hvdCkge1xyXG5cdFx0XHRzY3JlZW5zaG90Q29udGVudCA9IHRoaXMuc2NyZWVuc2hvdC5nZXRDb250ZW50KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIFBldHJvbC5zZW5kKHRoaXMuZW52aXJvbm1lbnQgPT09IENvbnN0YW50cy5FbnZpcm9ubWVudC5Qcm9kdWN0aW9uLCBtYW5pZmVzdENvbnRlbnQsIHNjcmVlbnNob3RDb250ZW50KVxyXG5cdFx0XHRcdC5jYXRjaChcclxuXHRcdFx0XHRcdGZ1bmN0aW9uIG9uUmVqZWN0ZWQoZXJyOiBFcnJvcikge1xyXG5cdFx0XHRcdFx0XHRDb25maWd1cmF0aW9uLmdldCgpLmdldENvbW1vbkluaXRPcHRpb25zKCkub25FcnJvcihcIlBheWxvYWQgc3VibWlzc2lvbiBmYWlsZWQ6IFwiICsgZXJyLm1lc3NhZ2UgK1xyXG5cdFx0XHRcdFx0XHRcdFwiLiBDbGllbnRGZWVkYmFja0lkOiBcIiArIGNsaWVudEZlZWRiYWNrSWQpO1xyXG5cdFx0XHRcdFx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KExvZ2dpbmcuRXZlbnRJZHMuU2hhcmVkLlVwbG9hZC5GYWlsZWQuVkFMVUUsXHJcblx0XHRcdFx0XHRcdFx0TG9nZ2luZy5Mb2dMZXZlbC5FcnJvciwgeyBFcnJvck1lc3NhZ2U6IGVyci5tZXNzYWdlLCBDbGllbnRGZWVkYmFja0lkOiBjbGllbnRGZWVkYmFja0lkIH0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdCk7XHJcblx0fVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/Transport/Transport.ts\n')},"./scripts/app/UI/BellyBand/BellyBand.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createMulti", function() { return createMulti; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createSingle", function() { return createSingle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dismiss", function() { return dismiss; });\n/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../../Constants */ "./scripts/app/Constants.ts");\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../UiConstants */ "./scripts/app/UI/UiConstants.ts");\n/* harmony import */ var _Events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Events */ "./scripts/app/UI/BellyBand/Events.ts");\n/* harmony import */ var _Layout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Layout */ "./scripts/app/UI/BellyBand/Layout.ts");\n/* harmony import */ var _Renderer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../Renderer */ "./scripts/app/UI/Renderer.ts");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./../Utils */ "./scripts/app/UI/Utils.ts");\n/* harmony import */ var _WindowProperties__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./../../WindowProperties */ "./scripts/app/WindowProperties.ts");\n/* harmony import */ var _FormTemplates_BasicFormTemplate__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./FormTemplates/BasicFormTemplate */ "./scripts/app/UI/BellyBand/FormTemplates/BasicFormTemplate.ts");\n/* harmony import */ var _PanelTemplates_ThanksPanelTemplate__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./PanelTemplates/ThanksPanelTemplate */ "./scripts/app/UI/BellyBand/PanelTemplates/ThanksPanelTemplate.ts");\n/* harmony import */ var _FormTemplates_UserVoiceFormTemplate__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./FormTemplates/UserVoiceFormTemplate */ "./scripts/app/UI/BellyBand/FormTemplates/UserVoiceFormTemplate.ts");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./../../Configuration/Configuration */ "./scripts/app/Configuration/Configuration.ts");\n/**\r\n * BellyBand.ts\r\n *\r\n * Module for the BellyBand UI\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * UI initialization for multi, including creating all feedback related HTML elements and setting\r\n * initial visibility of elements\r\n */\r\nfunction createMulti(onClose) {\r\n    // Create the panelType -> IPanelTemplate mapping\r\n    var panelTemplates = {};\r\n    if (_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_10__["get"]().getInAppFeedbackInitOptions().isShowThanks) {\r\n        panelTemplates[0 /* Thanks */] = _PanelTemplates_ThanksPanelTemplate__WEBPACK_IMPORTED_MODULE_8__;\r\n    }\r\n    // Create the feedbackType -> IFormTemplate mapping\r\n    var formTemplates = {};\r\n    var transitionEnabled = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_10__["get"]().getInAppFeedbackInitOptions().transitionEnabled;\r\n    formTemplates[_Constants__WEBPACK_IMPORTED_MODULE_0__["FeedbackType"].Smile] = _FormTemplates_BasicFormTemplate__WEBPACK_IMPORTED_MODULE_7__;\r\n    formTemplates[_Constants__WEBPACK_IMPORTED_MODULE_0__["FeedbackType"].Frown] = _FormTemplates_BasicFormTemplate__WEBPACK_IMPORTED_MODULE_7__;\r\n    // Show uservoice only if locale is en\r\n    if (_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_10__["get"]().getInAppFeedbackInitOptions().userVoice &&\r\n        _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_10__["get"]().getCommonInitOptions().locale === "en") {\r\n        formTemplates[_Constants__WEBPACK_IMPORTED_MODULE_0__["FeedbackType"].Idea] = _FormTemplates_UserVoiceFormTemplate__WEBPACK_IMPORTED_MODULE_9__;\r\n    }\r\n    else {\r\n        formTemplates[_Constants__WEBPACK_IMPORTED_MODULE_0__["FeedbackType"].Idea] = _FormTemplates_BasicFormTemplate__WEBPACK_IMPORTED_MODULE_7__;\r\n    }\r\n    if (_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_10__["get"]().getInAppFeedbackInitOptions().bugForm) {\r\n        formTemplates[_Constants__WEBPACK_IMPORTED_MODULE_0__["FeedbackType"].Bug] = _FormTemplates_BasicFormTemplate__WEBPACK_IMPORTED_MODULE_7__;\r\n    }\r\n    create(_Renderer__WEBPACK_IMPORTED_MODULE_4__["elementFromJson"](_Layout__WEBPACK_IMPORTED_MODULE_3__["generateMulti"](formTemplates, panelTemplates)));\r\n    var useNarrowScreenLayout = _WindowProperties__WEBPACK_IMPORTED_MODULE_6__["isNarrow"]();\r\n    _Events__WEBPACK_IMPORTED_MODULE_2__["registerMulti"](formTemplates, panelTemplates, useNarrowScreenLayout, transitionEnabled, function (submitted) {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_5__["setElementVisibility"](_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].OverlayBackground, false);\r\n        _Utils__WEBPACK_IMPORTED_MODULE_5__["deleteElementById"](_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].OverlayBackground);\r\n        _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_10__["get"]().getInAppFeedbackInitOptions().onDismiss(submitted);\r\n        onClose();\r\n    });\r\n    // If the screen size is narrow, add the Narrow class to the outermost div so that \r\n    // the CSS used corresponds to the small screen UI\r\n    if (useNarrowScreenLayout) {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_5__["addClassById"](_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].OverlayBackground, _UiConstants__WEBPACK_IMPORTED_MODULE_1__["Classes"].NarrowLayout);\r\n    }\r\n}\r\n/**\r\n * UI initialization for single, including creating all feedback related HTML elements and setting\r\n * initial visibility of elements\r\n * @return {void}\r\n */\r\nfunction createSingle(onClose, feedbackType) {\r\n    // Create the panelType -> IPanelTemplate mapping\r\n    var panelTemplates = {};\r\n    if (_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_10__["get"]().getInAppFeedbackInitOptions().isShowThanks) {\r\n        panelTemplates[0 /* Thanks */] = _PanelTemplates_ThanksPanelTemplate__WEBPACK_IMPORTED_MODULE_8__;\r\n    }\r\n    create(_Renderer__WEBPACK_IMPORTED_MODULE_4__["elementFromJson"](_Layout__WEBPACK_IMPORTED_MODULE_3__["generateSingle"](panelTemplates)));\r\n    _Events__WEBPACK_IMPORTED_MODULE_2__["registerSingle"](feedbackType, panelTemplates, function (submitted) {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_5__["setElementVisibility"](_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].OverlayBackground, false);\r\n        _Utils__WEBPACK_IMPORTED_MODULE_5__["deleteElementById"](_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].OverlayBackground);\r\n        _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_10__["get"]().getInAppFeedbackInitOptions().onDismiss(submitted);\r\n        onClose();\r\n    });\r\n    _Utils__WEBPACK_IMPORTED_MODULE_5__["addClassById"](_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].OverlayBackground, _UiConstants__WEBPACK_IMPORTED_MODULE_1__["Classes"].SingleLayout);\r\n    _Utils__WEBPACK_IMPORTED_MODULE_5__["ScreenshotPreviewByCheckbox"](_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].SingleFormScreenshotCheckbox, _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].SingleFormScreenshotPreview);\r\n}\r\n/**\r\n * Attach the UI element to the DOM.\r\n * @param userInterface the UI element\r\n */\r\nfunction create(userInterface) {\r\n    document.body.insertBefore(userInterface, document.body.firstChild);\r\n    _Utils__WEBPACK_IMPORTED_MODULE_5__["setElementVisibility"](_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].OverlayBackground, true);\r\n    if (_Utils__WEBPACK_IMPORTED_MODULE_5__["getInternetExplorerVersion"]() > 9 || _Utils__WEBPACK_IMPORTED_MODULE_5__["getInternetExplorerVersion"]() === -1) {\r\n        // Show the main feedback UI after a certain time to wait for the CSS keyframes animation to finish if \r\n        // the browser is IE10 and above or non-IE\r\n        setTimeout(onMainContainerRender, 900);\r\n    }\r\n    else {\r\n        onMainContainerRender();\r\n    }\r\n}\r\n/**\r\n * Code to run when the main container animation has completed.\r\n */\r\nfunction onMainContainerRender() {\r\n    // Show the MainContentHolder inside the MainContainer\r\n    _Utils__WEBPACK_IMPORTED_MODULE_5__["setElementVisibility"](_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].MainContentHolder, true);\r\n    if (document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].OverallSmileAnchor)) {\r\n        // Multi feedback\r\n        document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].OverallSmileAnchor).focus();\r\n        // If screenshot checkbox is selected, display the preview\r\n        _Utils__WEBPACK_IMPORTED_MODULE_5__["ScreenshotPreviewByCheckbox"](_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].BasicFormScreenshotCheckbox, _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].BasicFormScreenshotPreview);\r\n    }\r\n    else if (document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].SingleFormComment)) {\r\n        // Single feedback\r\n        document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].SingleFormComment).focus();\r\n        // If screenshot checkbox is selected, display the preview\r\n        _Utils__WEBPACK_IMPORTED_MODULE_5__["ScreenshotPreviewByCheckbox"](_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].SingleFormScreenshotCheckbox, _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].SingleFormScreenshotPreview);\r\n    }\r\n}\r\n/**\r\n * UI dismiss. Delete all feedback related HTML elements\r\n * @return {void}\r\n */\r\nfunction dismiss() {\r\n    return;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9CZWxseUJhbmQvQmVsbHlCYW5kLnRzP2FjNWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRztBQUV5RDtBQUNaO0FBQ2I7QUFDQTtBQUNPO0FBQ047QUFDeUI7QUFFVTtBQUNLO0FBQ0c7QUFDVjtBQUtyRTs7O0dBR0c7QUFDSSxTQUFTLFdBQVcsQ0FBQyxPQUFtQjtJQUM5QyxpREFBaUQ7SUFDakQsSUFBSSxjQUFjLEdBQXNDLEVBQUUsQ0FBQztJQUMzRCxJQUFJLGlFQUFpQixFQUFFLENBQUMsMkJBQTJCLEVBQUUsQ0FBQyxZQUFZLEVBQUU7UUFDbkUsY0FBYyxnQkFBa0IsR0FBRyxnRUFBbUIsQ0FBQztLQUN2RDtJQUVELG1EQUFtRDtJQUNuRCxJQUFJLGFBQWEsR0FBbUMsRUFBRSxDQUFDO0lBQ3ZELElBQUksaUJBQWlCLEdBQVksaUVBQWlCLEVBQUUsQ0FBQywyQkFBMkIsRUFBRSxDQUFDLGlCQUFpQixDQUFDO0lBQ3JHLGFBQWEsQ0FBQyx1REFBWSxDQUFDLEtBQUssQ0FBQyxHQUFHLDZEQUFpQixDQUFDO0lBQ3RELGFBQWEsQ0FBQyx1REFBWSxDQUFDLEtBQUssQ0FBQyxHQUFHLDZEQUFpQixDQUFDO0lBRXRELHNDQUFzQztJQUN0QyxJQUFJLGlFQUFpQixFQUFFLENBQUMsMkJBQTJCLEVBQUUsQ0FBQyxTQUFTO1FBQzlELGlFQUFpQixFQUFFLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxNQUFNLEtBQUssSUFBSSxFQUFFO1FBQzVELGFBQWEsQ0FBQyx1REFBWSxDQUFDLElBQUksQ0FBQyxHQUFHLGlFQUFxQixDQUFDO0tBQ3pEO1NBQU07UUFDTixhQUFhLENBQUMsdURBQVksQ0FBQyxJQUFJLENBQUMsR0FBRyw2REFBaUIsQ0FBQztLQUNyRDtJ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QUMsa0JBQWtCLENBQUMsRUFBRTtRQUNwRCxpQkFBaUI7UUFDakIsUUFBUSxDQUFDLGNBQWMsQ0FBQyxnREFBRyxDQUFDLGtCQUFrQixDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7UUFFeEQsMERBQTBEO1FBQzFELGtFQUFpQyxDQUFDLGdEQUFHLENBQUMsMkJBQTJCLEVBQUUsZ0RBQUcsQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO0tBQ25HO1NBQU0sSUFBSSxRQUFRLENBQUMsY0FBYyxDQUFDLGdEQUFHLENBQUMsaUJBQWlCLENBQUMsRUFBRTtRQUMxRCxrQkFBa0I7UUFDbEIsUUFBUSxDQUFDLGNBQWMsQ0FBQyxnREFBRyxDQUFDLGlCQUFpQixDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7UUFFdkQsMERBQTBEO1FBQzFELGtFQUFpQyxDQUFDLGdEQUFHLENBQUMsNEJBQTRCLEVBQUUsZ0RBQUcsQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO0tBQ3JHO0FBQ0YsQ0FBQztBQUVEOzs7R0FHRztBQUNJLFNBQVMsT0FBTztJQUN0QixPQUFPO0FBQ1IsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1VJL0JlbGx5QmFuZC9CZWxseUJhbmQudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQmVsbHlCYW5kLnRzXHJcbiAqXHJcbiAqIE1vZHVsZSBmb3IgdGhlIEJlbGx5QmFuZCBVSVxyXG4gKi9cclxuXHJcbmltcG9ydCB7IEZlZWRiYWNrVHlwZSwgUGFuZWxUeXBlIH0gZnJvbSBcIi4vLi4vLi4vQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IENsYXNzZXMsIElEcyB9IGZyb20gXCIuLy4uL1VpQ29uc3RhbnRzXCI7XHJcbmltcG9ydCAqIGFzIEV2ZW50cyBmcm9tIFwiLi9FdmVudHNcIjtcclxuaW1wb3J0ICogYXMgTGF5b3V0IGZyb20gXCIuL0xheW91dFwiO1xyXG5pbXBvcnQgKiBhcyBSZW5kZXJlciBmcm9tIFwiLi8uLi9SZW5kZXJlclwiO1xyXG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tIFwiLi8uLi9VdGlsc1wiO1xyXG5pbXBvcnQgKiBhcyBXaW5kb3dQcm9wZXJ0aWVzIGZyb20gXCIuLy4uLy4uL1dpbmRvd1Byb3BlcnRpZXNcIjtcclxuaW1wb3J0IHsgSUZvcm1UZW1wbGF0ZSB9IGZyb20gXCIuL0Zvcm1UZW1wbGF0ZXMvSUZvcm1UZW1wbGF0ZVwiO1xyXG5pbXBvcnQgKiBhcyBCYXNpY0Zvcm1UZW1wbGF0ZSBmcm9tIFwiLi9Gb3JtVGVtcGxhdGVzL0Jhc2ljRm9ybVRlbXBsYXRlXCI7XHJcbmltcG9ydCAqIGFzIFRoYW5rc1BhbmVsVGVtcGxhdGUgZnJvbSBcIi4vUGFuZWxUZW1wbGF0ZXMvVGhhbmtzUGFuZWxUZW1wbGF0ZVwiO1xyXG5pbXBvcnQgKiBhcyBVc2VyVm9pY2VGb3JtVGVtcGxhdGUgZnJvbSBcIi4vRm9ybVRlbXBsYXRlcy9Vc2VyVm9pY2VGb3JtVGVtcGxhdGVcIjtcclxuaW1wb3J0ICogYXMgQ29uZmlndXJhdGlvbiBmcm9tIFwiLi8uLi8uLi9Db25maWd1cmF0aW9uL0NvbmZpZ3VyYXRpb25cIjtcclxuaW1wb3J0IHsgSVBhbmVsVGVtcGxhdGUgfSBmcm9tIFwiLi9QYW5lbFRlbXBsYXRlcy9JUGFuZWxUZW1wbGF0ZVwiO1xyXG5cclxuZXhwb3J0IHtJVXNlclZvaWNlSW5pdE9wdGlvbnN9IGZyb20gXCIuL0Zvcm1UZW1wbGF0ZXMvVXNlclZvaWNlRm9ybVRlbXBsYXRlXCI7XHJcblxyXG4vKipcclxuICogVUkgaW5pdGlhbGl6YXRpb24gZm9yIG11bHRpLCBpbmNsdWRpbmcgY3JlYXRpbmcgYWxsIGZlZWRiYWNrIHJlbGF0ZWQgSFRNTCBlbGVtZW50cyBhbmQgc2V0dGluZ1xyXG4gKiBpbml0aWFsIHZpc2liaWxpdHkgb2YgZWxlbWVudHNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNdWx0aShvbkNsb3NlOiAoKSA9PiB2b2lkKSB7XHJcblx0Ly8gQ3JlYXRlIHRoZSBwYW5lbFR5cGUgLT4gSVBhbmVsVGVtcGxhdGUgbWFwcGluZ1xyXG5cdGxldCBwYW5lbFRlbXBsYXRlczogeyBba2V5OiBudW1iZXJdOiBJUGFuZWxUZW1wbGF0ZSB9ID0ge307XHJcblx0aWYgKENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0SW5BcHBGZWVkYmFja0luaXRPcHRpb25zKCkuaXNTaG93VGhhbmtzKSB7XHJcblx0XHRwYW5lbFRlbXBsYXRlc1tQYW5lbFR5cGUuVGhhbmtzXSA9IFRoYW5rc1BhbmVsVGVtcGxhdGU7XHJcblx0fVxyXG5cclxuXHQvLyBDcmVhdGUgdGhlIGZlZWRiYWNrVHlwZSAtPiBJRm9ybVRlbXBsYXRlIG1hcHBpbmdcclxuXHRsZXQgZm9ybVRlbXBsYXRlczoge1trZXk6IG51bWJlcl06IElGb3JtVGVtcGxhdGV9ID0ge307XHJcblx0bGV0IHRyYW5zaXRpb25FbmFibGVkOiBib29sZWFuID0gQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRJbkFwcEZlZWRiYWNrSW5pdE9wdGlvbnMoKS50cmFuc2l0aW9uRW5hYmxlZDtcclxuXHRmb3JtVGVtcGxhdGVzW0ZlZWRiYWNrVHlwZS5TbWlsZV0gPSBCYXNpY0Zvcm1UZW1wbGF0ZTtcclxuXHRmb3JtVGVtcGxhdGVzW0ZlZWRiYWNrVHlwZS5Gcm93bl0gPSBCYXNpY0Zvcm1UZW1wbGF0ZTtcclxuXHJcblx0Ly8gU2hvdyB1c2Vydm9pY2Ugb25seSBpZiBsb2NhbGUgaXMgZW5cclxuXHRpZiAoQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRJbkFwcEZlZWRiYWNrSW5pdE9wdGlvbnMoKS51c2VyVm9pY2UgJiZcclxuXHRcdENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKS5sb2NhbGUgPT09IFwiZW5cIikge1xyXG5cdFx0Zm9ybVRlbXBsYXRlc1tGZWVkYmFja1R5cGUuSWRlYV0gPSBVc2VyVm9pY2VGb3JtVGVtcGxhdGU7XHJcblx0fSBlbHNlIHtcclxuXHRcdGZvcm1UZW1wbGF0ZXNbRmVlZGJhY2tUeXBlLklkZWFdID0gQmFzaWNGb3JtVGVtcGxhdGU7XHJcblx0fVxyXG5cclxuXHRpZiAoQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRJbkFwcEZlZWRiYWNrSW5pdE9wdGlvbnMoKS5idWdGb3JtKSB7XHJcblx0XHRmb3JtVGVtcGxhdGVzW0ZlZWRiYWNrVHlwZS5CdWddID0gQmFzaWNGb3JtVGVtcGxhdGU7XHJcblx0fVxyXG5cclxuXHRjcmVhdGUoUmVuZGVyZXIuZWxlbWVudEZyb21Kc29uKExheW91dC5nZW5lcmF0ZU11bHRpKGZvcm1UZW1wbGF0ZXMsIHBhbmVsVGVtcGxhdGVzKSkpO1xyXG5cclxuXHRsZXQgdXNlTmFycm93U2NyZWVuTGF5b3V0ID0gV2luZG93UHJvcGVydGllcy5pc05hcnJvdygpO1xyXG5cclxuXHRFdmVudHMucmVnaXN0ZXJNdWx0aShcclxuXHRcdGZvcm1UZW1wbGF0ZXMsXHJcblx0XHRwYW5lbFRlbXBsYXRlcyxcclxuXHRcdHVzZU5hcnJvd1NjcmVlbkxheW91dCxcclxuXHRcdHRyYW5zaXRpb25FbmFibGVkLFxyXG5cdFx0ZnVuY3Rpb24gKHN1Ym1pdHRlZDogYm9vbGVhbikge1xyXG5cdFx0XHRVdGlscy5zZXRFbGVtZW50VmlzaWJpbGl0eShJRHMuT3ZlcmxheUJhY2tncm91bmQsIGZhbHNlKTtcclxuXHRcdFx0VXRpbHMuZGVsZXRlRWxlbWVudEJ5SWQoSURzLk92ZXJsYXlCYWNrZ3JvdW5kKTtcclxuXHRcdFx0Q29uZmlndXJhdGlvbi5nZXQoKS5nZXRJbkFwcEZlZWRiYWNrSW5pdE9wdGlvbnMoKS5vbkRpc21pc3Moc3VibWl0dGVkKTtcclxuXHRcdFx0b25DbG9zZSgpO1xyXG5cdFx0fVxyXG5cdCk7XHJcblxyXG5cdC8vIElmIHRoZSBzY3JlZW4gc2l6ZSBpcyBuYXJyb3csIGFkZCB0aGUgTmFycm93IGNsYXNzIHRvIHRoZSBvdXRlcm1vc3QgZGl2IHNvIHRoYXQgXHJcblx0Ly8gdGhlIENTUyB1c2VkIGNvcnJlc3BvbmRzIHRvIHRoZSBzbWFsbCBzY3JlZW4gVUlcclxuXHRpZiAodXNlTmFycm93U2NyZWVuTGF5b3V0KSB7XHJcblx0XHRVdGlscy5hZGRDbGFzc0J5SWQoSURzLk92ZXJsYXlCYWNrZ3JvdW5kLCBDbGFzc2VzLk5hcnJvd0xheW91dCk7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogVUkgaW5pdGlhbGl6YXRpb24gZm9yIHNpbmdsZSwgaW5jbHVkaW5nIGNyZWF0aW5nIGFsbCBmZWVkYmFjayByZWxhdGVkIEhUTUwgZWxlbWVudHMgYW5kIHNldHRpbmdcclxuICogaW5pdGlhbCB2aXNpYmlsaXR5IG9mIGVsZW1lbnRzXHJcbiAqIEByZXR1cm4ge3ZvaWR9XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2luZ2xlKG9uQ2xvc2U6ICgpID0+IHZvaWQsIGZlZWRiYWNrVHlwZTogRmVlZGJhY2tUeXBlKSB7XHJcblx0Ly8gQ3JlYXRlIHRoZSBwYW5lbFR5cGUgLT4gSVBhbmVsVGVtcGxhdGUgbWFwcGluZ1xyXG5cdGxldCBwYW5lbFRlbXBsYXRlczogeyBba2V5OiBudW1iZXJdOiBJUGFuZWxUZW1wbGF0ZSB9ID0ge307XHJcblx0aWYgKENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0SW5BcHBGZWVkYmFja0luaXRPcHRpb25zKCkuaXNTaG93VGhhbmtzKSB7XHJcblx0XHRwYW5lbFRlbXBsYXRlc1tQYW5lbFR5cGUuVGhhbmtzXSA9IFRoYW5rc1BhbmVsVGVtcGxhdGU7XHJcblx0fVxyXG5cclxuXHRjcmVhdGUoUmVuZGVyZXIuZWxlbWVudEZyb21Kc29uKExheW91dC5nZW5lcmF0ZVNpbmdsZShwYW5lbFRlbXBsYXRlcykpKTtcclxuXHJcblx0RXZlbnRzLnJlZ2lzdGVyU2luZ2xlKFxyXG5cdFx0ZmVlZGJhY2tUeXBlLFxyXG5cdFx0cGFuZWxUZW1wbGF0ZXMsXHJcblx0XHRmdW5jdGlvbiAoc3VibWl0dGVkOiBib29sZWFuKSB7XHJcblx0XHRcdFV0aWxzLnNldEVsZW1lbnRWaXNpYmlsaXR5KElEcy5PdmVybGF5QmFja2dyb3VuZCwgZmFsc2UpO1xyXG5cdFx0XHRVdGlscy5kZWxldGVFbGVtZW50QnlJZChJRHMuT3ZlcmxheUJhY2tncm91bmQpO1xyXG5cdFx0XHRDb25maWd1cmF0aW9uLmdldCgpLmdldEluQXBwRmVlZGJhY2tJbml0T3B0aW9ucygpLm9uRGlzbWlzcyhzdWJtaXR0ZWQpO1xyXG5cdFx0XHRvbkNsb3NlKCk7XHJcblx0XHR9XHJcblx0KTtcclxuXHJcblx0VXRpbHMuYWRkQ2xhc3NCeUlkKElEcy5PdmVybGF5QmFja2dyb3VuZCwgQ2xhc3Nlcy5TaW5nbGVMYXlvdXQpO1xyXG5cdFV0aWxzLlNjcmVlbnNob3RQcmV2aWV3QnlDaGVja2JveChJRHMuU2luZ2xlRm9ybVNjcmVlbnNob3RDaGVja2JveCwgSURzLlNpbmdsZUZvcm1TY3JlZW5zaG90UHJldmlldyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBdHRhY2ggdGhlIFVJIGVsZW1lbnQgdG8gdGhlIERPTS5cclxuICogQHBhcmFtIHVzZXJJbnRlcmZhY2UgdGhlIFVJIGVsZW1lbnRcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZSh1c2VySW50ZXJmYWNlOiBFbGVtZW50KSB7XHJcblx0ZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUodXNlckludGVyZmFjZSwgZG9jdW1lbnQuYm9keS5maXJzdENoaWxkKTtcclxuXHJcblx0VXRpbHMuc2V0RWxlbWVudFZpc2liaWxpdHkoSURzLk92ZXJsYXlCYWNrZ3JvdW5kLCB0cnVlKTtcclxuXHJcblx0aWYgKFV0aWxzLmdldEludGVybmV0RXhwbG9yZXJWZXJzaW9uKCkgPiA5IHx8IFV0aWxzLmdldEludGVybmV0RXhwbG9yZXJWZXJzaW9uKCkgPT09IC0xKSB7XHJcblx0XHQvLyBTaG93IHRoZSBtYWluIGZlZWRiYWNrIFVJIGFmdGVyIGEgY2VydGFpbiB0aW1lIHRvIHdhaXQgZm9yIHRoZSBDU1Mga2V5ZnJhbWVzIGFuaW1hdGlvbiB0byBmaW5pc2ggaWYgXHJcblx0XHQvLyB0aGUgYnJvd3NlciBpcyBJRTEwIGFuZCBhYm92ZSBvciBub24tSUVcclxuXHRcdHNldFRpbWVvdXQob25NYWluQ29udGFpbmVyUmVuZGVyLCA5MDApO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRvbk1haW5Db250YWluZXJSZW5kZXIoKTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb2RlIHRvIHJ1biB3aGVuIHRoZSBtYWluIGNvbnRhaW5lciBhbmltYXRpb24gaGFzIGNvbXBsZXRlZC5cclxuICovXHJcbmZ1bmN0aW9uIG9uTWFpbkNvbnRhaW5lclJlbmRlcigpOiB2b2lkIHtcclxuXHQvLyBTaG93IHRoZSBNYWluQ29udGVudEhvbGRlciBpbnNpZGUgdGhlIE1haW5Db250YWluZXJcclxuXHRVdGlscy5zZXRFbGVtZW50VmlzaWJpbGl0eShJRHMuTWFpbkNvbnRlbnRIb2xkZXIsIHRydWUpO1xyXG5cdGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChJRHMuT3ZlcmFsbFNtaWxlQW5jaG9yKSkge1xyXG5cdFx0Ly8gTXVsdGkgZmVlZGJhY2tcclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKElEcy5PdmVyYWxsU21pbGVBbmNob3IpLmZvY3VzKCk7XHJcblxyXG5cdFx0Ly8gSWYgc2NyZWVuc2hvdCBjaGVja2JveCBpcyBzZWxlY3RlZCwgZGlzcGxheSB0aGUgcHJldmlld1xyXG5cdFx0VXRpbHMuU2NyZWVuc2hvdFByZXZpZXdCeUNoZWNrYm94KElEcy5CYXNpY0Zvcm1TY3JlZW5zaG90Q2hlY2tib3gsIElEcy5CYXNpY0Zvcm1TY3JlZW5zaG90UHJldmlldyk7XHJcblx0fSBlbHNlIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChJRHMuU2luZ2xlRm9ybUNvbW1lbnQpKSB7XHJcblx0XHQvLyBTaW5nbGUgZmVlZGJhY2tcclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKElEcy5TaW5nbGVGb3JtQ29tbWVudCkuZm9jdXMoKTtcclxuXHJcblx0XHQvLyBJZiBzY3JlZW5zaG90IGNoZWNrYm94IGlzIHNlbGVjdGVkLCBkaXNwbGF5IHRoZSBwcmV2aWV3XHJcblx0XHRVdGlscy5TY3JlZW5zaG90UHJldmlld0J5Q2hlY2tib3goSURzLlNpbmdsZUZvcm1TY3JlZW5zaG90Q2hlY2tib3gsIElEcy5TaW5nbGVGb3JtU2NyZWVuc2hvdFByZXZpZXcpO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFVJIGRpc21pc3MuIERlbGV0ZSBhbGwgZmVlZGJhY2sgcmVsYXRlZCBIVE1MIGVsZW1lbnRzXHJcbiAqIEByZXR1cm4ge3ZvaWR9XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZGlzbWlzcygpOiB2b2lkIHtcclxuXHRyZXR1cm47XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/UI/BellyBand/BellyBand.ts\n')},"./scripts/app/UI/BellyBand/Events.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "registerSingle", function() { return registerSingle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "registerMulti", function() { return registerMulti; });\n/* harmony import */ var _Transport_Transport__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../../Transport/Transport */ "./scripts/app/Transport/Transport.ts");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../../Configuration/Configuration */ "./scripts/app/Configuration/Configuration.ts");\n/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../../Constants */ "./scripts/app/Constants.ts");\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../UiConstants */ "./scripts/app/UI/UiConstants.ts");\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../../Logging/Logging */ "./scripts/app/Logging/Logging.ts");\n/* harmony import */ var _Screenshot__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./../../Screenshot */ "./scripts/app/Screenshot.ts");\n/* harmony import */ var _SpinnerControl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./../SpinnerControl */ "./scripts/app/UI/SpinnerControl.ts");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./../Utils */ "./scripts/app/UI/Utils.ts");\n/* harmony import */ var _TabFocus__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./TabFocus */ "./scripts/app/UI/BellyBand/TabFocus.ts");\n/**\r\n * Events.ts\r\n *\r\n * A module for all Event handling.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Whether to use narrow layout\r\n */\r\nvar useNarrowLayout = false;\r\n/**\r\n * Whether transition enabled or not\r\n */\r\nvar transitionEnabled = true;\r\n/**\r\n * Callback for when the feedback dialog is dismissed\r\n */\r\nvar onDismiss;\r\n/**\r\n * The Selected feedback type, undefined if none selected\r\n */\r\nvar selectedFeedbackType = undefined;\r\n/**\r\n * The Selected panel type, undefined if none selected\r\n */\r\nvar selectedPanelType = undefined;\r\n/**\r\n * feedbackType -> IFormTemplate mapping for multi BellyBand\r\n */\r\nvar formTemplates;\r\n/**\r\n * panelType -> IPanelTemplate mapping for multi BellyBand\r\n */\r\nvar panelTemplates;\r\nvar anchors = [_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].OverallSmileAnchor, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].OverallFrownAnchor, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].OverallIdeaAnchor, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].OverallBugAnchor];\r\nfunction setAriaSelectedAttributes(anchorID) {\r\n    var i;\r\n    for (i = 0; i < anchors.length; i++) {\r\n        if (anchors[i] === anchorID) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_7__["setAttributeOnHtmlElement"](anchors[i], _UiConstants__WEBPACK_IMPORTED_MODULE_3__["AttributeName"].AriaSelected, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["AttributeValue"].True);\r\n        }\r\n        else {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_7__["setAttributeOnHtmlElement"](anchors[i], _UiConstants__WEBPACK_IMPORTED_MODULE_3__["AttributeName"].AriaSelected, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["AttributeValue"].False);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Dismiss all, including networking, UI, and events\r\n * @param submitted Was the control submitted (true), or cancelled (false)?\r\n */\r\nfunction dismissAll(submitted) {\r\n    unregister();\r\n    onDismiss(submitted);\r\n}\r\n/**\r\n * List of listeners and the ids they are attached to. This ensures all events are correctly unregistered.\r\n */\r\nvar listenersList = [];\r\nfunction addListener(id, event, listener) {\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__["registerListener"](id, event, listener);\r\n    listenersList.push({ event: event, id: id, listener: listener });\r\n}\r\nfunction removeListeners() {\r\n    for (var _i = 0, listenersList_1 = listenersList; _i < listenersList_1.length; _i++) {\r\n        var listener = listenersList_1[_i];\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__["unregisterListener"](listener.id, listener.event, listener.listener);\r\n    }\r\n    listenersList = [];\r\n}\r\n/**\r\n * Register events for single belly band\r\n */\r\nfunction registerSingle(feedbackType, PANELTEMPLATES, ON_DISMISS) {\r\n    if (ON_DISMISS === void 0) { ON_DISMISS = function (submitted) { return; }; }\r\n    selectedFeedbackType = feedbackType;\r\n    panelTemplates = PANELTEMPLATES;\r\n    // SingleFormTemplate events\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].SingleFormSubmitButton, "click", submitButtonHandlerFactory(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].SingleFormSubmitButton, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].SingleFormSubmitButtonSpinner, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].SingleFormComment, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].SingleFormEmailInput, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].SingleFormScreenshotCheckbox, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].SingleFormScreenshotPreview, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].SingleFormCategoriesDropdown));\r\n    // Screenshot checkbox click events\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].SingleFormScreenshotCheckbox, "click", ScreenshotCheckboxClickHandler(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].SingleFormScreenshotCheckbox, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].SingleFormScreenshotPreview));\r\n    // Close button click event.\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].CloseButton, "click", function () { dismissAll(false); });\r\n    // cancel button events\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].SingleFormCancelButton, "click", CancelButtonHandler);\r\n    registerCommon(ON_DISMISS);\r\n}\r\n/**\r\n * Register events for multi belly band\r\n */\r\nfunction registerMulti(FORMTEMPLATES, PANELTEMPLATES, USE_NARROW_LAYOUT, TRANSITIONENABLED, ON_DISMISS) {\r\n    if (ON_DISMISS === void 0) { ON_DISMISS = function (submitted) { return; }; }\r\n    useNarrowLayout = USE_NARROW_LAYOUT;\r\n    formTemplates = FORMTEMPLATES;\r\n    panelTemplates = PANELTEMPLATES;\r\n    transitionEnabled = TRANSITIONENABLED;\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].OverallSmileAnchor, "click", overallSmileHandler);\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].OverallFrownAnchor, "click", overallFrownHandler);\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].OverallIdeaAnchor, "click", overallIdeaHandler);\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].OverallBugAnchor, "click", overallBugHandler);\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].CloseButton, "click", function () { dismissAll(false); });\r\n    // BasicFormTemplate events\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].BasicFormSubmitButton, "click", submitButtonHandlerFactory(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].BasicFormSubmitButton, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].BasicFormSubmitButtonSpinner, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].BasicFormComment, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].BasicFormEmailInput, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].BasicFormScreenshotCheckbox, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].BasicFormScreenshotPreview, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].BasicFormCategoriesDropdown));\r\n    // Screenshot checkbox click events\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].BasicFormScreenshotCheckbox, "click", ScreenshotCheckboxClickHandler(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].BasicFormScreenshotCheckbox, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].BasicFormScreenshotPreview));\r\n    // UserVoiceFormTemplate events\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].UserVoiceFormGoButton, "click", UserVoiceFormGoButtonHandler);\r\n    // ThanksPanel events\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].ThanksPanelCloseButton, "click", function (event) { return CloseButton(event, true); });\r\n    // cancel button events\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].BasicFormCancelButton, "click", CancelButtonHandler);\r\n    registerCommon(ON_DISMISS);\r\n    if (!transitionEnabled) {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__["addClassById"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].MainContentHolder, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["Classes"].MarginLeft180px);\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__["addClassById"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].ColumnSeparatorDiv, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["Classes"].ShowRightBorder);\r\n    }\r\n}\r\nfunction registerCommon(ON_DISMISS) {\r\n    onDismiss = ON_DISMISS;\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__["addEventListenerHelper"](window, "keyup", keyEventHandler);\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].OverlayBackground, "click", overlayBackgroundHandler);\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].MainContainer, "click", mainContainerHandler);\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].MainContainer, "keyup", tabKeyEventHandler);\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].PrivacyStatementLink, "click", privacyStatementLinkHandler);\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].EmailCheckBox, "click", emailCheckBoxHandler);\r\n    emailCheckBoxHandler(null); // call the checkbox handler to process the initial state\r\n}\r\n/**\r\n * Listener un-registration\r\n */\r\nfunction unregister() {\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__["removeEventListenerHelper"](window, "keyup", keyEventHandler);\r\n    removeListeners();\r\n}\r\n/**\r\n * Tab key event handler\r\n * @param event The Event object\r\n */\r\nfunction tabKeyEventHandler(event) {\r\n    var keyCode = event.keyCode || event.which;\r\n    if (keyCode === _UiConstants__WEBPACK_IMPORTED_MODULE_3__["Keys"].Tab) {\r\n        if ((document.activeElement.id === _UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].FirstTabbable && event.shiftKey) ||\r\n            (document.activeElement.id === _UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].LastTabbable && !event.shiftKey)) {\r\n            event.stopPropagation();\r\n            _TabFocus__WEBPACK_IMPORTED_MODULE_8__["cycleTabFocus"](document.activeElement);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Key event handler\r\n * @param event The Event object\r\n */\r\nfunction keyEventHandler(event) {\r\n    // dismiss feedback upon pressing the escape key\r\n    if (event.keyCode === _UiConstants__WEBPACK_IMPORTED_MODULE_3__["Keys"].Esc) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        dismissAll(false /*submitted*/);\r\n    }\r\n}\r\n/**\r\n * Overlay background event handler. Dismiss feedback upon clicking on the background area\r\n * @param event The Event object\r\n */\r\nfunction overlayBackgroundHandler(event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    dismissAll(false /*submitted*/);\r\n}\r\n/**\r\n * Main container event handler. When clicking on main container area, do not propagate the event to lower level.\r\n * @param event The Event object\r\n */\r\nfunction mainContainerHandler(event) {\r\n    event.stopPropagation();\r\n}\r\n/**\r\n * Privacy statement link handler. When clicking on the privacy statement link,\r\n * do not propagate the event to lower level.\r\n * @param event The Event object\r\n */\r\nfunction privacyStatementLinkHandler(event) {\r\n    event.stopPropagation();\r\n}\r\n/**\r\n * Overall button click handler\r\n * @param event The Event object\r\n * @param achorId The id of the anchor html element which was selected\r\n */\r\nfunction overallHandler(event, anchorId) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__["replaceClassesById"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].OverallSmileAnchor, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["Classes"].OverallAnchorActive);\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__["replaceClassesById"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].OverallFrownAnchor, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["Classes"].OverallAnchorActive);\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__["replaceClassesById"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].OverallIdeaAnchor, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["Classes"].OverallAnchorActive);\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__["replaceClassesById"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].OverallBugAnchor, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["Classes"].OverallAnchorActive);\r\n    if (anchorId) {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__["addClassById"](anchorId, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["Classes"].OverallAnchorActive);\r\n    }\r\n    _Logging_Logging__WEBPACK_IMPORTED_MODULE_4__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_4__["EventIds"].InApp.UI.Form.Shown.VALUE, 1 /* Critical */, { FeedbackType: selectedFeedbackType, PanelType: selectedPanelType });\r\n    if (typeof (selectedFeedbackType) !== "undefined") {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__["setElementVisibility"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].LeftFormContainer, true);\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__["setElementVisibility"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].MiddleFormContainer, true);\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__["setElementVisibility"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].LeftPanelContainer, false);\r\n        var formTemplate = formTemplates[selectedFeedbackType];\r\n        mainContentHolderSlideLeft(formTemplate.containerId);\r\n        if (transitionEnabled) {\r\n            mainContentHolderSlideLeft(formTemplate.containerId);\r\n        }\r\n        formTemplate.onSelect(selectedFeedbackType);\r\n    }\r\n    if (typeof (selectedPanelType) !== "undefined") {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__["setElementVisibility"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].LeftFormContainer, false);\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__["setElementVisibility"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].MiddleFormContainer, false);\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__["setElementVisibility"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].LeftPanelContainer, true);\r\n        for (var panelType in panelTemplates) {\r\n            if (panelTemplates.hasOwnProperty(panelType)) {\r\n                _Utils__WEBPACK_IMPORTED_MODULE_7__["setElementVisibility"](panelTemplates[panelType].containerId, true);\r\n            }\r\n        }\r\n        var panelTemplate = panelTemplates[selectedPanelType];\r\n        panelTemplate.onSelect(selectedPanelType);\r\n    }\r\n}\r\n/**\r\n * Smile button event handler\r\n * @param event The Event object\r\n */\r\nfunction overallSmileHandler(event) {\r\n    selectedFeedbackType = _Constants__WEBPACK_IMPORTED_MODULE_2__["FeedbackType"].Smile;\r\n    selectedPanelType = undefined;\r\n    setAriaSelectedAttributes(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].OverallSmileAnchor);\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__["setAttributeOnHtmlElement"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].MiddleFormContainer, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["AttributeName"].AriaExpanded, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["AttributeValue"].True);\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__["setAttributeOnHtmlElement"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].MiddleFormContainer, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["AttributeName"].AriaLabelledBy, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].OverallSmileAnchor);\r\n    overallHandler(event, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].OverallSmileAnchor);\r\n}\r\n/**\r\n * Frown button event handler\r\n * @param event The Event object\r\n */\r\nfunction overallFrownHandler(event) {\r\n    selectedFeedbackType = _Constants__WEBPACK_IMPORTED_MODULE_2__["FeedbackType"].Frown;\r\n    selectedPanelType = undefined;\r\n    setAriaSelectedAttributes(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].OverallFrownAnchor);\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__["setAttributeOnHtmlElement"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].MiddleFormContainer, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["AttributeName"].AriaExpanded, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["AttributeValue"].True);\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__["setAttributeOnHtmlElement"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].MiddleFormContainer, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["AttributeName"].AriaLabelledBy, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].OverallFrownAnchor);\r\n    overallHandler(event, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].OverallFrownAnchor);\r\n}\r\n/**\r\n * Idea button event handler\r\n * @param event The Event object\r\n */\r\nfunction overallIdeaHandler(event) {\r\n    selectedFeedbackType = _Constants__WEBPACK_IMPORTED_MODULE_2__["FeedbackType"].Idea;\r\n    selectedPanelType = undefined;\r\n    setAriaSelectedAttributes(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].OverallIdeaAnchor);\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__["setAttributeOnHtmlElement"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].MiddleFormContainer, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["AttributeName"].AriaExpanded, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["AttributeValue"].True);\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__["setAttributeOnHtmlElement"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].MiddleFormContainer, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["AttributeName"].AriaLabelledBy, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].OverallIdeaAnchor);\r\n    overallHandler(event, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].OverallIdeaAnchor);\r\n}\r\n/**\r\n * Bug button event handler\r\n * @param event The Event object\r\n */\r\nfunction overallBugHandler(event) {\r\n    selectedFeedbackType = _Constants__WEBPACK_IMPORTED_MODULE_2__["FeedbackType"].Bug;\r\n    selectedPanelType = undefined;\r\n    setAriaSelectedAttributes(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].OverallBugAnchor);\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__["setAttributeOnHtmlElement"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].MiddleFormContainer, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["AttributeName"].AriaExpanded, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["AttributeValue"].True);\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__["setAttributeOnHtmlElement"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].MiddleFormContainer, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["AttributeName"].AriaLabelledBy, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].OverallBugAnchor);\r\n    overallHandler(event, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].OverallBugAnchor);\r\n}\r\n/**\r\n * Thanks pane event handler\r\n * @param event The Event object\r\n */\r\nfunction overallThanksHandler(event) {\r\n    selectedFeedbackType = undefined;\r\n    selectedPanelType = 0 /* Thanks */;\r\n    SetVisibilityExceptFor(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].ThanksPanelContainer, false);\r\n    overallHandler(event, undefined);\r\n}\r\n/**\r\n * Sets visibility for all content panes except for specified.\r\n * @param except Pane not to set visibility for.\r\n * @param visible Visibility to be set\r\n */\r\nfunction SetVisibilityExceptFor(except, visible) {\r\n    _Utils__WEBPACK_IMPORTED_MODULE_7__["setElementVisibility"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].LeftFormContainer, visible);\r\n    var feedbackPanes = document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].MiddleFormContainer).children;\r\n    for (var currentFeedbackPane = 0; currentFeedbackPane < feedbackPanes.length; currentFeedbackPane++) {\r\n        if (feedbackPanes[currentFeedbackPane].id !== except) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_7__["setElementVisibility"](feedbackPanes[currentFeedbackPane].id, visible);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Main content holder slide left animation\r\n * @param {string} containerId The id of the container to be made visible\r\n * @return {void}\r\n */\r\nfunction mainContentHolderSlideLeft(containerId) {\r\n    for (var feedbackType in formTemplates) {\r\n        if (formTemplates.hasOwnProperty(feedbackType)) {\r\n            _Utils__WEBPACK_IMPORTED_MODULE_7__["setElementVisibility"](formTemplates[feedbackType].containerId, false);\r\n        }\r\n    }\r\n    if (useNarrowLayout) {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__["setElementVisibility"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].LeftFormContainer, false);\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__["setElementVisibility"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].MiddleFormContainer, true);\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__["setElementVisibility"](containerId, true);\r\n    }\r\n    else {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__["addClassById"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].ColumnSeparatorDiv, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["Classes"].ShowRightBorder);\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__["setElementVisibility"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].MiddleFormContainer, true);\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__["setElementVisibility"](containerId, true);\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__["addClassById"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].LeftFormContainer, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["Classes"].SlideLeft);\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__["addClassById"](_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].MiddleFormContainer, _UiConstants__WEBPACK_IMPORTED_MODULE_3__["Classes"].SlideLeft);\r\n    }\r\n}\r\n/**\r\n * Submit button event handler factory\r\n * @param event The Event object\r\n */\r\nfunction submitButtonHandlerFactory(submitButtonId, spinnerId, commentInputId, emailInputId, screenshotCheckboxId, screenshotPreviewId, categoriesDropdownId) {\r\n    return function (event) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__["setElementVisibility"](submitButtonId, false);\r\n        var spinner = new _SpinnerControl__WEBPACK_IMPORTED_MODULE_6__["Spinner"](spinnerId);\r\n        var transporter = new _Transport_Transport__WEBPACK_IMPORTED_MODULE_0__["Transporter"](_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getCommonInitOptions().environment, "Sas", _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getCommonInitOptions().appId, selectedFeedbackType, _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getCommonInitOptions().applicationGroup, _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getCommonInitOptions().telemetryGroup, _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getCommonInitOptions().webGroup);\r\n        var commentElement = document.getElementById(commentInputId);\r\n        var commentEntered = (commentElement && !!commentElement.value);\r\n        if (commentEntered) {\r\n            transporter.setComment(commentElement.value);\r\n        }\r\n        var emailCheckBox = document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].EmailCheckBox);\r\n        var emailElement = document.getElementById(emailInputId);\r\n        var isEmailIncluded = (emailElement && !!emailElement.value);\r\n        if (emailCheckBox && emailCheckBox.checked && isEmailIncluded) {\r\n            transporter.setEmail(emailElement.value);\r\n        }\r\n        var screenshotCheckBox = document.getElementById(screenshotCheckboxId);\r\n        var screenshotCheckBoxSelected = screenshotCheckBox && screenshotCheckBox.checked;\r\n        var categoryElement = document.getElementById(categoriesDropdownId);\r\n        var isCategorySelected = (categoryElement && categoryElement.selectedIndex > 0);\r\n        if (isCategorySelected) {\r\n            transporter.setCategory(categoryElement.value);\r\n        }\r\n        _Logging_Logging__WEBPACK_IMPORTED_MODULE_4__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_4__["EventIds"].InApp.UI.Form.Submit.VALUE, 1 /* Critical */, {\r\n            FeedbackType: selectedFeedbackType,\r\n            IsEmailIncluded: isEmailIncluded,\r\n            IsScreenshotIncluded: screenshotCheckBoxSelected,\r\n        });\r\n        if (screenshotCheckBoxSelected) {\r\n            var startTime_1 = performance.now();\r\n            _Screenshot__WEBPACK_IMPORTED_MODULE_5__["createScreenshot"](document.body).then(function (canvas) {\r\n                var endTime = performance.now();\r\n                _Logging_Logging__WEBPACK_IMPORTED_MODULE_4__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_4__["EventIds"].Shared.Screenshot.Render.Success.VALUE, 1 /* Critical */, { TimeMilliseconds: endTime - startTime_1 });\r\n                transporter.setScreenshot(canvas);\r\n                transporter.submit();\r\n            }).catch(function (error) {\r\n                var endTime = performance.now();\r\n                _Logging_Logging__WEBPACK_IMPORTED_MODULE_4__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_4__["EventIds"].Shared.Screenshot.Render.Failed.VALUE, 2 /* Error */, { ErrorMessage: error, TimeMilliseconds: endTime - startTime_1 });\r\n                transporter.submit();\r\n            });\r\n        }\r\n        else {\r\n            transporter.submit();\r\n        }\r\n        spinner.destroy();\r\n        if (!_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getInAppFeedbackInitOptions().isShowThanks) {\r\n            dismissAll(true /*submitted*/);\r\n        }\r\n        else {\r\n            overallThanksHandler(event);\r\n        }\r\n    };\r\n}\r\n/**\r\n * Close button event\r\n * @param event The event\r\n * @param submitted Was the control submitted (true), or cancelled (false)?\r\n */\r\nfunction CloseButton(event, submitted) {\r\n    SetVisibilityExceptFor(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].ThanksPanelContainer, true);\r\n    dismissAll(submitted);\r\n}\r\n/**\r\n * UserVoiceForm Go button event handler\r\n * Opens UserVoice forum in a new window\r\n * @param event The Event object\r\n */\r\nfunction UserVoiceFormGoButtonHandler(event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    window.open(document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].UserVoiceFormGoButton).getAttribute(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["AttributeName"].Source));\r\n    dismissAll(false /* submitted */);\r\n}\r\n/**\r\n * ScreenshotCheckbox Click event handler. Populate preview if checkbox is checked\r\n * @param screenshotCheckboxId The Id of screenshot checkbox\r\n * @param screenshotPreviewId The Id of preview\r\n * @param event The Event object\r\n */\r\nfunction ScreenshotCheckboxClickHandler(screenshotCheckboxId, screenshotPreviewId) {\r\n    return function (event) {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_7__["ScreenshotPreviewByCheckbox"](screenshotCheckboxId, screenshotPreviewId);\r\n    };\r\n}\r\n/**\r\n * Cancel button event handler factory\r\n */\r\nfunction CancelButtonHandler() {\r\n    dismissAll(false /*submitted*/);\r\n}\r\nfunction emailCheckBoxHandler(event) {\r\n    // show email if checked and show default string if unchecked\r\n    var emailCheckBox = document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].EmailCheckBox);\r\n    if (emailCheckBox) {\r\n        var emailTextBox = document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_3__["IDs"].BasicFormEmailInput);\r\n        emailTextBox.value = emailCheckBox.checked ? _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getCommonInitOptions().userEmail : null;\r\n        emailTextBox.disabled = !emailCheckBox.checked;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9CZWxseUJhbmQvRXZlbnRzLnRzP2Y5MjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRztBQUV1RDtBQUNXO0FBRVQ7QUFDeUI7QUFDbEM7QUFFRjtBQUNIO0FBQ1I7QUFDQztBQUd2Qzs7R0FFRztBQUNILElBQUksZUFBZSxHQUFZLEtBQUssQ0FBQztBQUVyQzs7R0FFRztBQUNILElBQUksaUJBQWlCLEdBQVksSUFBSSxDQUFDO0FBRXRDOztHQUVHO0FBQ0gsSUFBSSxTQUE2QixDQUFDO0FBRWxDOztHQUVHO0FBQ0gsSUFBSSxvQkFBb0IsR0FBaUIsU0FBUyxDQUFDO0FBRW5EOztHQUVHO0FBQ0gsSUFBSSxpQkFBaUIsR0FBYyxTQUFTLENBQUM7QUFFN0M7O0dBRUc7QUFDSCxJQUFJLGFBQStDLENBQUM7QUFFcEQ7O0dBRUc7QUFDSCxJQUFJLGNBQWlELENBQUM7QUFFdEQsSUFBTSxPQUFPLEdBQWEsQ0FBQyxnREFBRyxDQUFDLGtCQUFrQixFQUFFLGdEQUFHLENBQUMsa0JBQWtCLEVBQUUsZ0RBQUcsQ0FBQyxpQkFBaUIsRUFBRSxnREFBRyxDQUFDLGdCQUFnQixDQUFDLENBQUM7QUFFeEgsU0FBUyx5QkFBeUIsQ0FBQyxRQUFnQjtJQUNsRCxJQUFJLENBQVMsQ0FBQztJQUNkLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUNwQyxJQUFJLE9BQU8sQ0FBQyxDQUFDLENBQUMsS0FBSyxRQUFRLEVBQUU7WUFDNUIsZ0VBQWlDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLDBEQUFhLENBQUMsWUFBWSxFQUFFLDJEQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDL0Y7YUFBTTtZQUNOLGdF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QUM7SUFFeEIsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLGdEQUFHLENBQUMscUJBQXFCLENBQUMsQ0FBQyxZQUFZLENBQUMsMERBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQ25HLFVBQVUsQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLENBQUM7QUFDbkMsQ0FBQztBQUVEOzs7OztHQUtHO0FBQ0gsU0FBUyw4QkFBOEIsQ0FBQyxvQkFBNEIsRUFBRSxtQkFBMkI7SUFFaEcsT0FBTyxVQUFVLEtBQVk7UUFDNUIsa0VBQW1DLENBQUMsb0JBQW9CLEVBQUUsbUJBQW1CLENBQUMsQ0FBQztJQUNoRixDQUFDLENBQUM7QUFDSCxDQUFDO0FBRUQ7O0dBRUc7QUFDSCxTQUFTLG1CQUFtQjtJQUMzQixVQUFVLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBQ2pDLENBQUM7QUFFRCxTQUFTLG9CQUFvQixDQUFDLEtBQVk7SUFDekMsNkRBQTZEO0lBQzdELElBQUksYUFBYSxHQUF3QyxRQUFRLENBQUMsY0FBYyxDQUFDLGdEQUFHLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDcEcsSUFBSSxhQUFhLEVBQUU7UUFDbEIsSUFBSSxZQUFZLEdBQXdDLFFBQVEsQ0FBQyxjQUFjLENBQUMsZ0RBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQ3pHLFlBQVksQ0FBQyxLQUFLLEdBQUcsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsZ0VBQWlCLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQ3pHLFlBQVksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDO0tBQy9DO0FBQ0YsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1VJL0JlbGx5QmFuZC9FdmVudHMudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogRXZlbnRzLnRzXHJcbiAqXHJcbiAqIEEgbW9kdWxlIGZvciBhbGwgRXZlbnQgaGFuZGxpbmcuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgVHJhbnNwb3J0ZXIgfSBmcm9tIFwiLi8uLi8uLi9UcmFuc3BvcnQvVHJhbnNwb3J0XCI7XHJcbmltcG9ydCAqIGFzIENvbmZpZ3VyYXRpb24gZnJvbSBcIi4vLi4vLi4vQ29uZmlndXJhdGlvbi9Db25maWd1cmF0aW9uXCI7XHJcbmltcG9ydCB7IElGb3JtVGVtcGxhdGUgfSBmcm9tIFwiLi9Gb3JtVGVtcGxhdGVzL0lGb3JtVGVtcGxhdGVcIjtcclxuaW1wb3J0IHsgRmVlZGJhY2tUeXBlLCBQYW5lbFR5cGUgfSBmcm9tIFwiLi8uLi8uLi9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgQXR0cmlidXRlTmFtZSwgQXR0cmlidXRlVmFsdWUsIENsYXNzZXMsIElEcywgS2V5cyB9IGZyb20gXCIuLy4uL1VpQ29uc3RhbnRzXCI7XHJcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vLi4vLi4vTG9nZ2luZy9Mb2dnaW5nXCI7XHJcbmltcG9ydCB7IElPbkRpc21pc3NEZWxlZ2F0ZSB9IGZyb20gXCIuLy4uLy4uL0lPbkRpc21pc3NEZWxlZ2F0ZVwiO1xyXG5pbXBvcnQgKiBhcyBTY3JlZW5zaG90IGZyb20gXCIuLy4uLy4uL1NjcmVlbnNob3RcIjtcclxuaW1wb3J0IHsgU3Bpbm5lciB9IGZyb20gXCIuLy4uL1NwaW5uZXJDb250cm9sXCI7XHJcbmltcG9ydCAqIGFzIFVpVXRpbHMgZnJvbSBcIi4vLi4vVXRpbHNcIjtcclxuaW1wb3J0ICogYXMgVGFiRm9jdXMgZnJvbSBcIi4vVGFiRm9jdXNcIjtcclxuaW1wb3J0IHsgSVBhbmVsVGVtcGxhdGUgfSBmcm9tIFwiLi9QYW5lbFRlbXBsYXRlcy9JUGFuZWxUZW1wbGF0ZVwiO1xyXG5cclxuLyoqXHJcbiAqIFdoZXRoZXIgdG8gdXNlIG5hcnJvdyBsYXlvdXRcclxuICovXHJcbmxldCB1c2VOYXJyb3dMYXlvdXQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbi8qKlxyXG4gKiBXaGV0aGVyIHRyYW5zaXRpb24gZW5hYmxlZCBvciBub3RcclxuICovXHJcbmxldCB0cmFuc2l0aW9uRW5hYmxlZDogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4vKipcclxuICogQ2FsbGJhY2sgZm9yIHdoZW4gdGhlIGZlZWRiYWNrIGRpYWxvZyBpcyBkaXNtaXNzZWRcclxuICovXHJcbmxldCBvbkRpc21pc3M6IElPbkRpc21pc3NEZWxlZ2F0ZTtcclxuXHJcbi8qKlxyXG4gKiBUaGUgU2VsZWN0ZWQgZmVlZGJhY2sgdHlwZSwgdW5kZWZpbmVkIGlmIG5vbmUgc2VsZWN0ZWRcclxuICovXHJcbmxldCBzZWxlY3RlZEZlZWRiYWNrVHlwZTogRmVlZGJhY2tUeXBlID0gdW5kZWZpbmVkO1xyXG5cclxuLyoqXHJcbiAqIFRoZSBTZWxlY3RlZCBwYW5lbCB0eXBlLCB1bmRlZmluZWQgaWYgbm9uZSBzZWxlY3RlZFxyXG4gKi9cclxubGV0IHNlbGVjdGVkUGFuZWxUeXBlOiBQYW5lbFR5cGUgPSB1bmRlZmluZWQ7XHJcblxyXG4vKipcclxuICogZmVlZGJhY2tUeXBlIC0+IElGb3JtVGVtcGxhdGUgbWFwcGluZyBmb3IgbXVsdGkgQmVsbHlCYW5kXHJcbiAqL1xyXG5sZXQgZm9ybVRlbXBsYXRlczogeyBba2V5OiBudW1iZXJdOiBJRm9ybVRlbXBsYXRlIH07XHJcblxyXG4vKipcclxuICogcGFuZWxUeXBlIC0+IElQYW5lbFRlbXBsYXRlIG1hcHBpbmcgZm9yIG11bHRpIEJlbGx5QmFuZFxyXG4gKi9cclxubGV0IHBhbmVsVGVtcGxhdGVzOiB7IFtrZXk6IG51bWJlcl06IElQYW5lbFRlbXBsYXRlIH07XHJcblxyXG5jb25zdCBhbmNob3JzOiBzdHJpbmdbXSA9IFtJRHMuT3ZlcmFsbFNtaWxlQW5jaG9yLCBJRHMuT3ZlcmFsbEZyb3duQW5jaG9yLCBJRHMuT3ZlcmFsbElkZWFBbmNob3IsIElEcy5PdmVyYWxsQnVnQW5jaG9yXTtcclxuXHJcbmZ1bmN0aW9uIHNldEFyaWFTZWxlY3RlZEF0dHJpYnV0ZXMoYW5jaG9ySUQ6IHN0cmluZyk6IHZvaWQge1xyXG5cdGxldCBpOiBudW1iZXI7XHJcblx0Zm9yIChpID0gMDsgaSA8IGFuY2hvcnMubGVuZ3RoOyBpKyspIHtcclxuXHRcdGlmIChhbmNob3JzW2ldID09PSBhbmNob3JJRCkge1xyXG5cdFx0XHRVaVV0aWxzLnNldEF0dHJpYnV0ZU9uSHRtbEVsZW1lbnQoYW5jaG9yc1tpXSwgQXR0cmlidXRlTmFtZS5BcmlhU2VsZWN0ZWQsIEF0dHJpYnV0ZVZhbHVlLlRydWUpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0VWlVdGlscy5zZXRBdHRyaWJ1dGVPbkh0bWxFbGVtZW50KGFuY2hvcnNbaV0sIEF0dHJpYnV0ZU5hbWUuQXJpYVNlbGVjdGVkLCBBdHRyaWJ1dGVWYWx1ZS5GYWxzZSk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogRGlzbWlzcyBhbGwsIGluY2x1ZGluZyBuZXR3b3JraW5nLCBVSSwgYW5kIGV2ZW50c1xyXG4gKiBAcGFyYW0gc3VibWl0dGVkIFdhcyB0aGUgY29udHJvbCBzdWJtaXR0ZWQgKHRydWUpLCBvciBjYW5jZWxsZWQgKGZhbHNlKT9cclxuICovXHJcbmZ1bmN0aW9uIGRpc21pc3NBbGwoc3VibWl0dGVkOiBib29sZWFuKTogdm9pZCB7XHJcblx0dW5yZWdpc3RlcigpO1xyXG5cdG9uRGlzbWlzcyhzdWJtaXR0ZWQpO1xyXG59XHJcblxyXG4vKipcclxuICogTGlzdCBvZiBsaXN0ZW5lcnMgYW5kIHRoZSBpZHMgdGhleSBhcmUgYXR0YWNoZWQgdG8uIFRoaXMgZW5zdXJlcyBhbGwgZXZlbnRzIGFyZSBjb3JyZWN0bHkgdW5yZWdpc3RlcmVkLlxyXG4gKi9cclxubGV0IGxpc3RlbmVyc0xpc3Q6IHsgaWQ6IHN0cmluZywgZXZlbnQ6IHN0cmluZywgbGlzdGVuZXI6IChldmVudDogRXZlbnQpID0+IHZvaWQgfVtdID0gW107XHJcblxyXG5mdW5jdGlvbiBhZGRMaXN0ZW5lcihpZDogc3RyaW5nLCBldmVudDogc3RyaW5nLCBsaXN0ZW5lcjogKGV2ZW50OiBFdmVudCkgPT4gdm9pZCk6IHZvaWQge1xyXG5cdFVpVXRpbHMucmVnaXN0ZXJMaXN0ZW5lcihpZCwgZXZlbnQsIGxpc3RlbmVyKTtcclxuXHRsaXN0ZW5lcnNMaXN0LnB1c2goeyBldmVudDogZXZlbnQsIGlkOiBpZCwgbGlzdGVuZXI6IGxpc3RlbmVyIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVMaXN0ZW5lcnMoKTogdm9pZCB7XHJcblx0Zm9yIChsZXQgbGlzdGVuZXIgb2YgbGlzdGVuZXJzTGlzdCkge1xyXG5cdFx0VWlVdGlscy51bnJlZ2lzdGVyTGlzdGVuZXIobGlzdGVuZXIuaWQsIGxpc3RlbmVyLmV2ZW50LCBsaXN0ZW5lci5saXN0ZW5lcik7XHJcblx0fVxyXG5cdGxpc3RlbmVyc0xpc3QgPSBbXTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlZ2lzdGVyIGV2ZW50cyBmb3Igc2luZ2xlIGJlbGx5IGJhbmRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlclNpbmdsZShmZWVkYmFja1R5cGU6IEZlZWRiYWNrVHlwZSxcclxuXHRQQU5FTFRFTVBMQVRFUzogeyBba2V5OiBudW1iZXJdOiBJUGFuZWxUZW1wbGF0ZSB9LFxyXG5cdE9OX0RJU01JU1M6IElPbkRpc21pc3NEZWxlZ2F0ZSA9IGZ1bmN0aW9uIChzdWJtaXR0ZWQ6IGJvb2xlYW4pIHsgcmV0dXJuOyB9KSB7XHJcblx0c2VsZWN0ZWRGZWVkYmFja1R5cGUgPSBmZWVkYmFja1R5cGU7XHJcblx0cGFuZWxUZW1wbGF0ZXMgPSBQQU5FTFRFTVBMQVRFUztcclxuXHJcblx0Ly8gU2luZ2xlRm9ybVRlbXBsYXRlIGV2ZW50c1xyXG5cdGFkZExpc3RlbmVyKElEcy5TaW5nbGVGb3JtU3VibWl0QnV0dG9uLCBcImNsaWNrXCIsIHN1Ym1pdEJ1dHRvbkhhbmRsZXJGYWN0b3J5KElEcy5TaW5nbGVGb3JtU3VibWl0QnV0dG9uLFxyXG5cdFx0SURzLlNpbmdsZUZvcm1TdWJtaXRCdXR0b25TcGlubmVyLCBJRHMuU2luZ2xlRm9ybUNvbW1lbnQsIElEcy5TaW5nbGVGb3JtRW1haWxJbnB1dCxcclxuXHRcdElEcy5TaW5nbGVGb3JtU2NyZWVuc2hvdENoZWNrYm94LCBJRHMuU2luZ2xlRm9ybVNjcmVlbnNob3RQcmV2aWV3LCBJRHMuU2luZ2xlRm9ybUNhdGVnb3JpZXNEcm9wZG93bikpO1xyXG5cclxuXHQvLyBTY3JlZW5zaG90IGNoZWNrYm94IGNsaWNrIGV2ZW50c1xyXG5cdGFkZExpc3RlbmVyKElEcy5TaW5nbGVGb3JtU2NyZWVuc2hvdENoZWNrYm94LCBcImNsaWNrXCIsIFNjcmVlbnNob3RDaGVja2JveENsaWNrSGFuZGxlclxyXG5cdFx0KElEcy5TaW5nbGVGb3JtU2NyZWVuc2hvdENoZWNrYm94LCBJRHMuU2luZ2xlRm9ybVNjcmVlbnNob3RQcmV2aWV3KSk7XHJcblxyXG5cdC8vIENsb3NlIGJ1dHRvbiBjbGljayBldmVudC5cclxuXHRhZGRMaXN0ZW5lcihJRHMuQ2xvc2VCdXR0b24sIFwiY2xpY2tcIiwgKCkgPT4geyBkaXNtaXNzQWxsKGZhbHNlKTsgfSk7XHJcblxyXG5cdC8vIGNhbmNlbCBidXR0b24gZXZlbnRzXHJcblx0YWRkTGlzdGVuZXIoSURzLlNpbmdsZUZvcm1DYW5jZWxCdXR0b24sIFwiY2xpY2tcIiwgQ2FuY2VsQnV0dG9uSGFuZGxlcik7XHJcblx0cmVnaXN0ZXJDb21tb24oT05fRElTTUlTUyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZWdpc3RlciBldmVudHMgZm9yIG11bHRpIGJlbGx5IGJhbmRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3Rlck11bHRpKEZPUk1URU1QTEFURVM6IHsgW2tleTogbnVtYmVyXTogSUZvcm1UZW1wbGF0ZSB9LFxyXG5cdFBBTkVMVEVNUExBVEVTOiB7IFtrZXk6IG51bWJlcl06IElQYW5lbFRlbXBsYXRlIH0sXHJcblx0VVNFX05BUlJPV19MQVlPVVQ6IGJvb2xlYW4sXHJcblx0VFJBTlNJVElPTkVOQUJMRUQ6IGJvb2xlYW4sXHJcblx0T05fRElTTUlTUzogSU9uRGlzbWlzc0RlbGVnYXRlID0gZnVuY3Rpb24gKHN1Ym1pdHRlZDogYm9vbGVhbikgeyByZXR1cm47IH0pIHtcclxuXHR1c2VOYXJyb3dMYXlvdXQgPSBVU0VfTkFSUk9XX0xBWU9VVDtcclxuXHRmb3JtVGVtcGxhdGVzID0gRk9STVRFTVBMQVRFUztcclxuXHRwYW5lbFRlbXBsYXRlcyA9IFBBTkVMVEVNUExBVEVTO1xyXG5cdHRyYW5zaXRpb25FbmFibGVkID0gVFJBTlNJVElPTkVOQUJMRUQ7XHJcblxyXG5cdGFkZExpc3RlbmVyKElEcy5PdmVyYWxsU21pbGVBbmNob3IsIFwiY2xpY2tcIiwgb3ZlcmFsbFNtaWxlSGFuZGxlcik7XHJcblx0YWRkTGlzdGVuZXIoSURzLk92ZXJhbGxGcm93bkFuY2hvciwgXCJjbGlja1wiLCBvdmVyYWxsRnJvd25IYW5kbGVyKTtcclxuXHRhZGRMaXN0ZW5lcihJRHMuT3ZlcmFsbElkZWFBbmNob3IsIFwiY2xpY2tcIiwgb3ZlcmFsbElkZWFIYW5kbGVyKTtcclxuXHRhZGRMaXN0ZW5lcihJRHMuT3ZlcmFsbEJ1Z0FuY2hvciwgXCJjbGlja1wiLCBvdmVyYWxsQnVnSGFuZGxlcik7XHJcblx0YWRkTGlzdGVuZXIoSURzLkNsb3NlQnV0dG9uLCBcImNsaWNrXCIsICgpID0+IHsgZGlzbWlzc0FsbChmYWxzZSk7IH0pO1xyXG5cclxuXHQvLyBCYXNpY0Zvcm1UZW1wbGF0ZSBldmVudHNcclxuXHRhZGRMaXN0ZW5lcihJRHMuQmFzaWNGb3JtU3VibWl0QnV0dG9uLCBcImNsaWNrXCIsIHN1Ym1pdEJ1dHRvbkhhbmRsZXJGYWN0b3J5KElEcy5CYXNpY0Zvcm1TdWJtaXRCdXR0b24sXHJcblx0XHRJRHMuQmFzaWNGb3JtU3VibWl0QnV0dG9uU3Bpbm5lciwgSURzLkJhc2ljRm9ybUNvbW1lbnQsIElEcy5CYXNpY0Zvcm1FbWFpbElucHV0LFxyXG5cdFx0SURzLkJhc2ljRm9ybVNjcmVlbnNob3RDaGVja2JveCwgSURzLkJhc2ljRm9ybVNjcmVlbnNob3RQcmV2aWV3LCBJRHMuQmFzaWNGb3JtQ2F0ZWdvcmllc0Ryb3Bkb3duKSk7XHJcblxyXG5cdC8vIFNjcmVlbnNob3QgY2hlY2tib3ggY2xpY2sgZXZlbnRzXHJcblx0YWRkTGlzdGVuZXIoSURzLkJhc2ljRm9ybVNjcmVlbnNob3RDaGVja2JveCwgXCJjbGlja1wiLCBTY3JlZW5zaG90Q2hlY2tib3hDbGlja0hhbmRsZXIoSURzLkJhc2ljRm9ybVNjcmVlbnNob3RDaGVja2JveCxcclxuXHRcdElEcy5CYXNpY0Zvcm1TY3JlZW5zaG90UHJldmlldykpO1xyXG5cclxuXHQvLyBVc2VyVm9pY2VGb3JtVGVtcGxhdGUgZXZlbnRzXHJcblx0YWRkTGlzdGVuZXIoSURzLlVzZXJWb2ljZUZvcm1Hb0J1dHRvbiwgXCJjbGlja1wiLCBVc2VyVm9pY2VGb3JtR29CdXR0b25IYW5kbGVyKTtcclxuXHJcblx0Ly8gVGhhbmtzUGFuZWwgZXZlbnRzXHJcblx0YWRkTGlzdGVuZXIoSURzLlRoYW5rc1BhbmVsQ2xvc2VCdXR0b24sIFwiY2xpY2tcIiwgKGV2ZW50OiBFdmVudCkgPT4gQ2xvc2VCdXR0b24oZXZlbnQsIHRydWUpKTtcclxuXHJcblx0Ly8gY2FuY2VsIGJ1dHRvbiBldmVudHNcclxuXHRhZGRMaXN0ZW5lcihJRHMuQmFzaWNGb3JtQ2FuY2VsQnV0dG9uLCBcImNsaWNrXCIsIENhbmNlbEJ1dHRvbkhhbmRsZXIpO1xyXG5cclxuXHRyZWdpc3RlckNvbW1vbihPTl9ESVNNSVNTKTtcclxuXHJcblx0aWYgKCF0cmFuc2l0aW9uRW5hYmxlZCkge1xyXG5cdFx0VWlVdGlscy5hZGRDbGFzc0J5SWQoSURzLk1haW5Db250ZW50SG9sZGVyLCBDbGFzc2VzLk1hcmdpbkxlZnQxODBweCk7XHJcblx0XHRVaVV0aWxzLmFkZENsYXNzQnlJZChJRHMuQ29sdW1uU2VwYXJhdG9yRGl2LCBDbGFzc2VzLlNob3dSaWdodEJvcmRlcik7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiByZWdpc3RlckNvbW1vbihPTl9ESVNNSVNTOiBJT25EaXNtaXNzRGVsZWdhdGUpOiB2b2lkIHtcclxuXHRvbkRpc21pc3MgPSBPTl9ESVNNSVNTO1xyXG5cclxuXHRVaVV0aWxzLmFkZEV2ZW50TGlzdGVuZXJIZWxwZXIod2luZG93LCBcImtleXVwXCIsIGtleUV2ZW50SGFuZGxlcik7XHJcblxyXG5cdGFkZExpc3RlbmVyKElEcy5PdmVybGF5QmFja2dyb3VuZCwgXCJjbGlja1wiLCBvdmVybGF5QmFja2dyb3VuZEhhbmRsZXIpO1xyXG5cdGFkZExpc3RlbmVyKElEcy5NYWluQ29udGFpbmVyLCBcImNsaWNrXCIsIG1haW5Db250YWluZXJIYW5kbGVyKTtcclxuXHRhZGRMaXN0ZW5lcihJRHMuTWFpbkNvbnRhaW5lciwgXCJrZXl1cFwiLCB0YWJLZXlFdmVudEhhbmRsZXIpO1xyXG5cdGFkZExpc3RlbmVyKElEcy5Qcml2YWN5U3RhdGVtZW50TGluaywgXCJjbGlja1wiLCBwcml2YWN5U3RhdGVtZW50TGlua0hhbmRsZXIpO1xyXG5cdGFkZExpc3RlbmVyKElEcy5FbWFpbENoZWNrQm94LCBcImNsaWNrXCIsIGVtYWlsQ2hlY2tCb3hIYW5kbGVyKTtcclxuXHRlbWFpbENoZWNrQm94SGFuZGxlcihudWxsKTsgLy8gY2FsbCB0aGUgY2hlY2tib3ggaGFuZGxlciB0byBwcm9jZXNzIHRoZSBpbml0aWFsIHN0YXRlXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMaXN0ZW5lciB1bi1yZWdpc3RyYXRpb25cclxuICovXHJcbmZ1bmN0aW9uIHVucmVnaXN0ZXIoKTogdm9pZCB7XHJcblx0VWlVdGlscy5yZW1vdmVFdmVudExpc3RlbmVySGVscGVyKHdpbmRvdywgXCJrZXl1cFwiLCBrZXlFdmVudEhhbmRsZXIpO1xyXG5cdHJlbW92ZUxpc3RlbmVycygpO1xyXG59XHJcblxyXG4vKipcclxuICogVGFiIGtleSBldmVudCBoYW5kbGVyXHJcbiAqIEBwYXJhbSBldmVudCBUaGUgRXZlbnQgb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiB0YWJLZXlFdmVudEhhbmRsZXIoZXZlbnQ6IEV2ZW50KTogdm9pZCB7XHJcblx0bGV0IGtleUNvZGUgPSAoPEtleWJvYXJkRXZlbnQ+IGV2ZW50KS5rZXlDb2RlIHx8ICg8S2V5Ym9hcmRFdmVudD4gZXZlbnQpLndoaWNoO1xyXG5cclxuXHRpZiAoa2V5Q29kZSA9PT0gS2V5cy5UYWIpIHtcclxuXHRcdGlmICgoZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5pZCA9PT0gSURzLkZpcnN0VGFiYmFibGUgJiYgKDxLZXlib2FyZEV2ZW50PiBldmVudCkuc2hpZnRLZXkpIHx8XHJcblx0XHRcdChkb2N1bWVudC5hY3RpdmVFbGVtZW50LmlkID09PSBJRHMuTGFzdFRhYmJhYmxlICYmICEoPEtleWJvYXJkRXZlbnQ+IGV2ZW50KS5zaGlmdEtleSkpIHtcclxuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFRhYkZvY3VzLmN5Y2xlVGFiRm9jdXMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogS2V5IGV2ZW50IGhhbmRsZXJcclxuICogQHBhcmFtIGV2ZW50IFRoZSBFdmVudCBvYmplY3RcclxuICovXHJcbmZ1bmN0aW9uIGtleUV2ZW50SGFuZGxlcihldmVudDogRXZlbnQpOiB2b2lkIHtcclxuXHQvLyBkaXNtaXNzIGZlZWRiYWNrIHVwb24gcHJlc3NpbmcgdGhlIGVzY2FwZSBrZXlcclxuXHRpZiAoKDxLZXlib2FyZEV2ZW50PiBldmVudCkua2V5Q29kZSA9PT0gS2V5cy5Fc2MpIHtcclxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcblx0XHRkaXNtaXNzQWxsKGZhbHNlIC8qc3VibWl0dGVkKi8pO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIE92ZXJsYXkgYmFja2dyb3VuZCBldmVudCBoYW5kbGVyLiBEaXNtaXNzIGZlZWRiYWNrIHVwb24gY2xpY2tpbmcgb24gdGhlIGJhY2tncm91bmQgYXJlYVxyXG4gKiBAcGFyYW0gZXZlbnQgVGhlIEV2ZW50IG9iamVjdFxyXG4gKi9cclxuZnVuY3Rpb24gb3ZlcmxheUJhY2tncm91bmRIYW5kbGVyKGV2ZW50OiBFdmVudCk6IHZvaWQge1xyXG5cdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0ZGlzbWlzc0FsbChmYWxzZSAvKnN1Ym1pdHRlZCovKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIE1haW4gY29udGFpbmVyIGV2ZW50IGhhbmRsZXIuIFdoZW4gY2xpY2tpbmcgb24gbWFpbiBjb250YWluZXIgYXJlYSwgZG8gbm90IHByb3BhZ2F0ZSB0aGUgZXZlbnQgdG8gbG93ZXIgbGV2ZWwuXHJcbiAqIEBwYXJhbSBldmVudCBUaGUgRXZlbnQgb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBtYWluQ29udGFpbmVySGFuZGxlcihldmVudDogRXZlbnQpOiB2b2lkIHtcclxuXHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFByaXZhY3kgc3RhdGVtZW50IGxpbmsgaGFuZGxlci4gV2hlbiBjbGlja2luZyBvbiB0aGUgcHJpdmFjeSBzdGF0ZW1lbnQgbGluayxcclxuICogZG8gbm90IHByb3BhZ2F0ZSB0aGUgZXZlbnQgdG8gbG93ZXIgbGV2ZWwuXHJcbiAqIEBwYXJhbSBldmVudCBUaGUgRXZlbnQgb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBwcml2YWN5U3RhdGVtZW50TGlua0hhbmRsZXIoZXZlbnQ6IEV2ZW50KTogdm9pZCB7XHJcblx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBPdmVyYWxsIGJ1dHRvbiBjbGljayBoYW5kbGVyXHJcbiAqIEBwYXJhbSBldmVudCBUaGUgRXZlbnQgb2JqZWN0XHJcbiAqIEBwYXJhbSBhY2hvcklkIFRoZSBpZCBvZiB0aGUgYW5jaG9yIGh0bWwgZWxlbWVudCB3aGljaCB3YXMgc2VsZWN0ZWRcclxuICovXHJcbmZ1bmN0aW9uIG92ZXJhbGxIYW5kbGVyKGV2ZW50OiBFdmVudCwgYW5jaG9ySWQ6IHN0cmluZyk6IHZvaWQge1xyXG5cdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG5cdFVpVXRpbHMucmVwbGFjZUNsYXNzZXNCeUlkKElEcy5PdmVyYWxsU21pbGVBbmNob3IsIENsYXNzZXMuT3ZlcmFsbEFuY2hvckFjdGl2ZSk7XHJcblx0VWlVdGlscy5yZXBsYWNlQ2xhc3Nlc0J5SWQoSURzLk92ZXJhbGxGcm93bkFuY2hvciwgQ2xhc3Nlcy5PdmVyYWxsQW5jaG9yQWN0aXZlKTtcclxuXHRVaVV0aWxzLnJlcGxhY2VDbGFzc2VzQnlJZChJRHMuT3ZlcmFsbElkZWFBbmNob3IsIENsYXNzZXMuT3ZlcmFsbEFuY2hvckFjdGl2ZSk7XHJcblx0VWlVdGlscy5yZXBsYWNlQ2xhc3Nlc0J5SWQoSURzLk92ZXJhbGxCdWdBbmNob3IsIENsYXNzZXMuT3ZlcmFsbEFuY2hvckFjdGl2ZSk7XHJcblxyXG5cdGlmIChhbmNob3JJZCkge1xyXG5cdFx0VWlVdGlscy5hZGRDbGFzc0J5SWQoYW5jaG9ySWQsIENsYXNzZXMuT3ZlcmFsbEFuY2hvckFjdGl2ZSk7XHJcblx0fVxyXG5cclxuXHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KFxyXG5cdFx0TG9nZ2luZy5FdmVudElkcy5JbkFwcC5VSS5Gb3JtLlNob3duLlZBTFVFLFxyXG5cdFx0TG9nZ2luZy5Mb2dMZXZlbC5Dcml0aWNhbCxcclxuXHRcdHsgRmVlZGJhY2tUeXBlOiBzZWxlY3RlZEZlZWRiYWNrVHlwZSwgUGFuZWxUeXBlOiBzZWxlY3RlZFBhbmVsVHlwZSB9KTtcclxuXHJcblx0aWYgKHR5cGVvZihzZWxlY3RlZEZlZWRiYWNrVHlwZSkgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuXHRcdFVpVXRpbHMuc2V0RWxlbWVudFZpc2liaWxpdHkoSURzLkxlZnRGb3JtQ29udGFpbmVyLCB0cnVlKTtcclxuXHRcdFVpVXRpbHMuc2V0RWxlbWVudFZpc2liaWxpdHkoSURzLk1pZGRsZUZvcm1Db250YWluZXIsIHRydWUpO1xyXG5cdFx0VWlVdGlscy5zZXRFbGVtZW50VmlzaWJpbGl0eShJRHMuTGVmdFBhbmVsQ29udGFpbmVyLCBmYWxzZSk7XHJcblx0XHRsZXQgZm9ybVRlbXBsYXRlOiBJRm9ybVRlbXBsYXRlID0gZm9ybVRlbXBsYXRlc1tzZWxlY3RlZEZlZWRiYWNrVHlwZV07XHJcblx0XHRtYWluQ29udGVudEhvbGRlclNsaWRlTGVmdChmb3JtVGVtcGxhdGUuY29udGFpbmVySWQpO1xyXG5cclxuXHRcdGlmICh0cmFuc2l0aW9uRW5hYmxlZCkge1xyXG5cdFx0XHRtYWluQ29udGVudEhvbGRlclNsaWRlTGVmdChmb3JtVGVtcGxhdGUuY29udGFpbmVySWQpO1xyXG5cdFx0fVxyXG5cdFx0Zm9ybVRlbXBsYXRlLm9uU2VsZWN0KHNlbGVjdGVkRmVlZGJhY2tUeXBlKTtcclxuXHR9XHJcblxyXG5cdGlmICh0eXBlb2Yoc2VsZWN0ZWRQYW5lbFR5cGUpICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcblx0XHRVaVV0aWxzLnNldEVsZW1lbnRWaXNpYmlsaXR5KElEcy5MZWZ0Rm9ybUNvbnRhaW5lciwgZmFsc2UpO1xyXG5cdFx0VWlVdGlscy5zZXRFbGVtZW50VmlzaWJpbGl0eShJRHMuTWlkZGxlRm9ybUNvbnRhaW5lciwgZmFsc2UpO1xyXG5cdFx0VWlVdGlscy5zZXRFbGVtZW50VmlzaWJpbGl0eShJRHMuTGVmdFBhbmVsQ29udGFpbmVyLCB0cnVlKTtcclxuXHRcdGZvciAobGV0IHBhbmVsVHlwZSBpbiBwYW5lbFRlbXBsYXRlcykge1xyXG5cdFx0XHRpZiAocGFuZWxUZW1wbGF0ZXMuaGFzT3duUHJvcGVydHkocGFuZWxUeXBlKSkge1xyXG5cdFx0XHRcdFVpVXRpbHMuc2V0RWxlbWVudFZpc2liaWxpdHkocGFuZWxUZW1wbGF0ZXNbcGFuZWxUeXBlXS5jb250YWluZXJJZCwgdHJ1ZSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdGxldCBwYW5lbFRlbXBsYXRlOiBJUGFuZWxUZW1wbGF0ZSA9IHBhbmVsVGVtcGxhdGVzW3NlbGVjdGVkUGFuZWxUeXBlXTtcclxuXHRcdHBhbmVsVGVtcGxhdGUub25TZWxlY3Qoc2VsZWN0ZWRQYW5lbFR5cGUpO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFNtaWxlIGJ1dHRvbiBldmVudCBoYW5kbGVyXHJcbiAqIEBwYXJhbSBldmVudCBUaGUgRXZlbnQgb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBvdmVyYWxsU21pbGVIYW5kbGVyKGV2ZW50OiBFdmVudCk6IHZvaWQge1xyXG5cdHNlbGVjdGVkRmVlZGJhY2tUeXBlID0gRmVlZGJhY2tUeXBlLlNtaWxlO1xyXG5cdHNlbGVjdGVkUGFuZWxUeXBlID0gdW5kZWZpbmVkO1xyXG5cdHNldEFyaWFTZWxlY3RlZEF0dHJpYnV0ZXMoSURzLk92ZXJhbGxTbWlsZUFuY2hvcik7XHJcblx0VWlVdGlscy5zZXRBdHRyaWJ1dGVPbkh0bWxFbGVtZW50KElEcy5NaWRkbGVGb3JtQ29udGFpbmVyLCBBdHRyaWJ1dGVOYW1lLkFyaWFFeHBhbmRlZCwgQXR0cmlidXRlVmFsdWUuVHJ1ZSk7XHJcblx0VWlVdGlscy5zZXRBdHRyaWJ1dGVPbkh0bWxFbGVtZW50KElEcy5NaWRkbGVGb3JtQ29udGFpbmVyLCBBdHRyaWJ1dGVOYW1lLkFyaWFMYWJlbGxlZEJ5LCBJRHMuT3ZlcmFsbFNtaWxlQW5jaG9yKTtcclxuXHRvdmVyYWxsSGFuZGxlcihldmVudCwgSURzLk92ZXJhbGxTbWlsZUFuY2hvcik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGcm93biBidXR0b24gZXZlbnQgaGFuZGxlclxyXG4gKiBAcGFyYW0gZXZlbnQgVGhlIEV2ZW50IG9iamVjdFxyXG4gKi9cclxuZnVuY3Rpb24gb3ZlcmFsbEZyb3duSGFuZGxlcihldmVudDogRXZlbnQpOiB2b2lkIHtcclxuXHRzZWxlY3RlZEZlZWRiYWNrVHlwZSA9IEZlZWRiYWNrVHlwZS5Gcm93bjtcclxuXHRzZWxlY3RlZFBhbmVsVHlwZSA9IHVuZGVmaW5lZDtcclxuXHRzZXRBcmlhU2VsZWN0ZWRBdHRyaWJ1dGVzKElEcy5PdmVyYWxsRnJvd25BbmNob3IpO1xyXG5cdFVpVXRpbHMuc2V0QXR0cmlidXRlT25IdG1sRWxlbWVudChJRHMuTWlkZGxlRm9ybUNvbnRhaW5lciwgQXR0cmlidXRlTmFtZS5BcmlhRXhwYW5kZWQsIEF0dHJpYnV0ZVZhbHVlLlRydWUpO1xyXG5cdFVpVXRpbHMuc2V0QXR0cmlidXRlT25IdG1sRWxlbWVudChJRHMuTWlkZGxlRm9ybUNvbnRhaW5lciwgQXR0cmlidXRlTmFtZS5BcmlhTGFiZWxsZWRCeSwgSURzLk92ZXJhbGxGcm93bkFuY2hvcik7XHJcblx0b3ZlcmFsbEhhbmRsZXIoZXZlbnQsIElEcy5PdmVyYWxsRnJvd25BbmNob3IpO1xyXG59XHJcblxyXG4vKipcclxuICogSWRlYSBidXR0b24gZXZlbnQgaGFuZGxlclxyXG4gKiBAcGFyYW0gZXZlbnQgVGhlIEV2ZW50IG9iamVjdFxyXG4gKi9cclxuZnVuY3Rpb24gb3ZlcmFsbElkZWFIYW5kbGVyKGV2ZW50OiBFdmVudCk6IHZvaWQge1xyXG5cdHNlbGVjdGVkRmVlZGJhY2tUeXBlID0gRmVlZGJhY2tUeXBlLklkZWE7XHJcblx0c2VsZWN0ZWRQYW5lbFR5cGUgPSB1bmRlZmluZWQ7XHJcblx0c2V0QXJpYVNlbGVjdGVkQXR0cmlidXRlcyhJRHMuT3ZlcmFsbElkZWFBbmNob3IpO1xyXG5cdFVpVXRpbHMuc2V0QXR0cmlidXRlT25IdG1sRWxlbWVudChJRHMuTWlkZGxlRm9ybUNvbnRhaW5lciwgQXR0cmlidXRlTmFtZS5BcmlhRXhwYW5kZWQsIEF0dHJpYnV0ZVZhbHVlLlRydWUpO1xyXG5cdFVpVXRpbHMuc2V0QXR0cmlidXRlT25IdG1sRWxlbWVudChJRHMuTWlkZGxlRm9ybUNvbnRhaW5lciwgQXR0cmlidXRlTmFtZS5BcmlhTGFiZWxsZWRCeSwgSURzLk92ZXJhbGxJZGVhQW5jaG9yKTtcclxuXHRvdmVyYWxsSGFuZGxlcihldmVudCwgSURzLk92ZXJhbGxJZGVhQW5jaG9yKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEJ1ZyBidXR0b24gZXZlbnQgaGFuZGxlclxyXG4gKiBAcGFyYW0gZXZlbnQgVGhlIEV2ZW50IG9iamVjdFxyXG4gKi9cclxuZnVuY3Rpb24gb3ZlcmFsbEJ1Z0hhbmRsZXIoZXZlbnQ6IEV2ZW50KTogdm9pZCB7XHJcblx0c2VsZWN0ZWRGZWVkYmFja1R5cGUgPSBGZWVkYmFja1R5cGUuQnVnO1xyXG5cdHNlbGVjdGVkUGFuZWxUeXBlID0gdW5kZWZpbmVkO1xyXG5cdHNldEFyaWFTZWxlY3RlZEF0dHJpYnV0ZXMoSURzLk92ZXJhbGxCdWdBbmNob3IpO1xyXG5cdFVpVXRpbHMuc2V0QXR0cmlidXRlT25IdG1sRWxlbWVudChJRHMuTWlkZGxlRm9ybUNvbnRhaW5lciwgQXR0cmlidXRlTmFtZS5BcmlhRXhwYW5kZWQsIEF0dHJpYnV0ZVZhbHVlLlRydWUpO1xyXG5cdFVpVXRpbHMuc2V0QXR0cmlidXRlT25IdG1sRWxlbWVudChJRHMuTWlkZGxlRm9ybUNvbnRhaW5lciwgQXR0cmlidXRlTmFtZS5BcmlhTGFiZWxsZWRCeSwgSURzLk92ZXJhbGxCdWdBbmNob3IpO1xyXG5cdG92ZXJhbGxIYW5kbGVyKGV2ZW50LCBJRHMuT3ZlcmFsbEJ1Z0FuY2hvcik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGFua3MgcGFuZSBldmVudCBoYW5kbGVyXHJcbiAqIEBwYXJhbSBldmVudCBUaGUgRXZlbnQgb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBvdmVyYWxsVGhhbmtzSGFuZGxlcihldmVudDogRXZlbnQpOiB2b2lkIHtcclxuXHRzZWxlY3RlZEZlZWRiYWNrVHlwZSA9IHVuZGVmaW5lZDtcclxuXHRzZWxlY3RlZFBhbmVsVHlwZSA9IFBhbmVsVHlwZS5UaGFua3M7XHJcblxyXG5cdFNldFZpc2liaWxpdHlFeGNlcHRGb3IoSURzLlRoYW5rc1BhbmVsQ29udGFpbmVyLCBmYWxzZSk7XHJcblxyXG5cdG92ZXJhbGxIYW5kbGVyKGV2ZW50LCB1bmRlZmluZWQpO1xyXG59XHJcblxyXG4vKipcclxuICogU2V0cyB2aXNpYmlsaXR5IGZvciBhbGwgY29udGVudCBwYW5lcyBleGNlcHQgZm9yIHNwZWNpZmllZC5cclxuICogQHBhcmFtIGV4Y2VwdCBQYW5lIG5vdCB0byBzZXQgdmlzaWJpbGl0eSBmb3IuXHJcbiAqIEBwYXJhbSB2aXNpYmxlIFZpc2liaWxpdHkgdG8gYmUgc2V0XHJcbiAqL1xyXG5mdW5jdGlvbiBTZXRWaXNpYmlsaXR5RXhjZXB0Rm9yKGV4Y2VwdDogc3RyaW5nLCB2aXNpYmxlOiBib29sZWFuKSB7XHJcblx0VWlVdGlscy5zZXRFbGVtZW50VmlzaWJpbGl0eShJRHMuTGVmdEZvcm1Db250YWluZXIsIHZpc2libGUpO1xyXG5cdGNvbnN0IGZlZWRiYWNrUGFuZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChJRHMuTWlkZGxlRm9ybUNvbnRhaW5lcikuY2hpbGRyZW47XHJcblx0Zm9yIChsZXQgY3VycmVudEZlZWRiYWNrUGFuZSA9IDA7IGN1cnJlbnRGZWVkYmFja1BhbmUgPCBmZWVkYmFja1BhbmVzLmxlbmd0aDsgY3VycmVudEZlZWRiYWNrUGFuZSsrKSB7XHJcblx0XHRpZiAoZmVlZGJhY2tQYW5lc1tjdXJyZW50RmVlZGJhY2tQYW5lXS5pZCAhPT0gZXhjZXB0KSB7XHJcblx0XHRcdFVpVXRpbHMuc2V0RWxlbWVudFZpc2liaWxpdHkoZmVlZGJhY2tQYW5lc1tjdXJyZW50RmVlZGJhY2tQYW5lXS5pZCwgdmlzaWJsZSk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogTWFpbiBjb250ZW50IGhvbGRlciBzbGlkZSBsZWZ0IGFuaW1hdGlvblxyXG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGFpbmVySWQgVGhlIGlkIG9mIHRoZSBjb250YWluZXIgdG8gYmUgbWFkZSB2aXNpYmxlXHJcbiAqIEByZXR1cm4ge3ZvaWR9XHJcbiAqL1xyXG5mdW5jdGlvbiBtYWluQ29udGVudEhvbGRlclNsaWRlTGVmdChjb250YWluZXJJZDogc3RyaW5nKTogdm9pZCB7XHJcblx0Zm9yIChsZXQgZmVlZGJhY2tUeXBlIGluIGZvcm1UZW1wbGF0ZXMpIHtcclxuXHRcdGlmIChmb3JtVGVtcGxhdGVzLmhhc093blByb3BlcnR5KGZlZWRiYWNrVHlwZSkpIHtcclxuXHRcdFx0VWlVdGlscy5zZXRFbGVtZW50VmlzaWJpbGl0eShmb3JtVGVtcGxhdGVzW2ZlZWRiYWNrVHlwZV0uY29udGFpbmVySWQsIGZhbHNlKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGlmICh1c2VOYXJyb3dMYXlvdXQpIHtcclxuXHRcdFVpVXRpbHMuc2V0RWxlbWVudFZpc2liaWxpdHkoSURzLkxlZnRGb3JtQ29udGFpbmVyLCBmYWxzZSk7XHJcblx0XHRVaVV0aWxzLnNldEVsZW1lbnRWaXNpYmlsaXR5KElEcy5NaWRkbGVGb3JtQ29udGFpbmVyLCB0cnVlKTtcclxuXHRcdFVpVXRpbHMuc2V0RWxlbWVudFZpc2liaWxpdHkoY29udGFpbmVySWQsIHRydWUpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRVaVV0aWxzLmFkZENsYXNzQnlJZChJRHMuQ29sdW1uU2VwYXJhdG9yRGl2LCBDbGFzc2VzLlNob3dSaWdodEJvcmRlcik7XHJcblx0XHRVaVV0aWxzLnNldEVsZW1lbnRWaXNpYmlsaXR5KElEcy5NaWRkbGVGb3JtQ29udGFpbmVyLCB0cnVlKTtcclxuXHRcdFVpVXRpbHMuc2V0RWxlbWVudFZpc2liaWxpdHkoY29udGFpbmVySWQsIHRydWUpO1xyXG5cdFx0VWlVdGlscy5hZGRDbGFzc0J5SWQoSURzLkxlZnRGb3JtQ29udGFpbmVyLCBDbGFzc2VzLlNsaWRlTGVmdCk7XHJcblx0XHRVaVV0aWxzLmFkZENsYXNzQnlJZChJRHMuTWlkZGxlRm9ybUNvbnRhaW5lciwgQ2xhc3Nlcy5TbGlkZUxlZnQpO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFN1Ym1pdCBidXR0b24gZXZlbnQgaGFuZGxlciBmYWN0b3J5XHJcbiAqIEBwYXJhbSBldmVudCBUaGUgRXZlbnQgb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBzdWJtaXRCdXR0b25IYW5kbGVyRmFjdG9yeShzdWJtaXRCdXR0b25JZDogc3RyaW5nLCBzcGlubmVySWQ6IHN0cmluZywgY29tbWVudElucHV0SWQ6IHN0cmluZyxcclxuXHRlbWFpbElucHV0SWQ6IHN0cmluZywgc2NyZWVuc2hvdENoZWNrYm94SWQ6IHN0cmluZywgc2NyZWVuc2hvdFByZXZpZXdJZDogc3RyaW5nLFxyXG5cdGNhdGVnb3JpZXNEcm9wZG93bklkOiBzdHJpbmcpOiAoZXZlbnQ6IEV2ZW50KSA9PiB2b2lkIHtcclxuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50OiBFdmVudCkge1xyXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuXHRcdFVpVXRpbHMuc2V0RWxlbWVudFZpc2liaWxpdHkoc3VibWl0QnV0dG9uSWQsIGZhbHNlKTtcclxuXHRcdGxldCBzcGlubmVyID0gbmV3IFNwaW5uZXIoc3Bpbm5lcklkKTtcclxuXHJcblx0XHRsZXQgdHJhbnNwb3J0ZXI6IFRyYW5zcG9ydGVyID0gbmV3IFRyYW5zcG9ydGVyKFxyXG5cdFx0XHRDb25maWd1cmF0aW9uLmdldCgpLmdldENvbW1vbkluaXRPcHRpb25zKCkuZW52aXJvbm1lbnQsXHJcblx0XHRcdFwiU2FzXCIsXHJcblx0XHRcdENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKS5hcHBJZCxcclxuXHRcdFx0c2VsZWN0ZWRGZWVkYmFja1R5cGUsXHJcblx0XHRcdENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKS5hcHBsaWNhdGlvbkdyb3VwLFxyXG5cdFx0XHRDb25maWd1cmF0aW9uLmdldCgpLmdldENvbW1vbkluaXRPcHRpb25zKCkudGVsZW1ldHJ5R3JvdXAsXHJcblx0XHRcdENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKS53ZWJHcm91cCxcclxuXHRcdCk7XHJcblxyXG5cdFx0bGV0IGNvbW1lbnRFbGVtZW50OiBIVE1MVGV4dEFyZWFFbGVtZW50ID0gPEhUTUxUZXh0QXJlYUVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbW1lbnRJbnB1dElkKTtcclxuXHRcdGxldCBjb21tZW50RW50ZXJlZDogYm9vbGVhbiA9IChjb21tZW50RWxlbWVudCAmJiAhIWNvbW1lbnRFbGVtZW50LnZhbHVlKTtcclxuXHRcdGlmIChjb21tZW50RW50ZXJlZCkge1xyXG5cdFx0XHR0cmFuc3BvcnRlci5zZXRDb21tZW50KGNvbW1lbnRFbGVtZW50LnZhbHVlKTtcclxuXHRcdH1cclxuXHJcblx0XHRsZXQgZW1haWxDaGVja0JveDogSFRNTElucHV0RWxlbWVudCA9IDxIVE1MSW5wdXRFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChJRHMuRW1haWxDaGVja0JveCk7XHJcblx0XHRsZXQgZW1haWxFbGVtZW50OiBIVE1MVGV4dEFyZWFFbGVtZW50ID0gPEhUTUxUZXh0QXJlYUVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVtYWlsSW5wdXRJZCk7XHJcblx0XHRsZXQgaXNFbWFpbEluY2x1ZGVkOiBib29sZWFuID0gKGVtYWlsRWxlbWVudCAmJiAhIWVtYWlsRWxlbWVudC52YWx1ZSk7XHJcblx0XHRpZiAoZW1haWxDaGVja0JveCAmJiBlbWFpbENoZWNrQm94LmNoZWNrZWQgJiYgaXNFbWFpbEluY2x1ZGVkKSB7XHJcblx0XHRcdHRyYW5zcG9ydGVyLnNldEVtYWlsKGVtYWlsRWxlbWVudC52YWx1ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0bGV0IHNjcmVlbnNob3RDaGVja0JveCA9IDxIVE1MSW5wdXRFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzY3JlZW5zaG90Q2hlY2tib3hJZCk7XHJcblx0XHRsZXQgc2NyZWVuc2hvdENoZWNrQm94U2VsZWN0ZWQ6IGJvb2xlYW4gPSBzY3JlZW5zaG90Q2hlY2tCb3ggJiYgc2NyZWVuc2hvdENoZWNrQm94LmNoZWNrZWQ7XHJcblxyXG5cdFx0bGV0IGNhdGVnb3J5RWxlbWVudDogSFRNTFNlbGVjdEVsZW1lbnQgPSA8SFRNTFNlbGVjdEVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNhdGVnb3JpZXNEcm9wZG93bklkKTtcclxuXHRcdGxldCBpc0NhdGVnb3J5U2VsZWN0ZWQ6IGJvb2xlYW4gPSAoY2F0ZWdvcnlFbGVtZW50ICYmIGNhdGVnb3J5RWxlbWVudC5zZWxlY3RlZEluZGV4ID4gMCk7XHJcblx0XHRpZiAoaXNDYXRlZ29yeVNlbGVjdGVkKSB7XHJcblx0XHRcdHRyYW5zcG9ydGVyLnNldENhdGVnb3J5KGNhdGVnb3J5RWxlbWVudC52YWx1ZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0TG9nZ2luZy5nZXRMb2dnZXIoKS5sb2dFdmVudChMb2dnaW5nLkV2ZW50SWRzLkluQXBwLlVJLkZvcm0uU3VibWl0LlZBTFVFLFxyXG5cdFx0XHRMb2dnaW5nLkxvZ0xldmVsLkNyaXRpY2FsLFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0RmVlZGJhY2tUeXBlOiBzZWxlY3RlZEZlZWRiYWNrVHlwZSxcclxuXHRcdFx0XHRJc0VtYWlsSW5jbHVkZWQ6IGlzRW1haWxJbmNsdWRlZCxcclxuXHRcdFx0XHRJc1NjcmVlbnNob3RJbmNsdWRlZDogc2NyZWVuc2hvdENoZWNrQm94U2VsZWN0ZWQsXHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblxyXG5cdFx0aWYgKHNjcmVlbnNob3RDaGVja0JveFNlbGVjdGVkKSB7XHJcblx0XHRcdGxldCBzdGFydFRpbWU6IG51bWJlciA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG5cdFx0XHRTY3JlZW5zaG90LmNyZWF0ZVNjcmVlbnNob3QoZG9jdW1lbnQuYm9keSkudGhlbihcclxuXHRcdFx0XHQoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkgPT4ge1xyXG5cdFx0XHRcdFx0bGV0IGVuZFRpbWU6IG51bWJlciA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG5cdFx0XHRcdFx0TG9nZ2luZy5nZXRMb2dnZXIoKS5sb2dFdmVudChMb2dnaW5nLkV2ZW50SWRzLlNoYXJlZC5TY3JlZW5zaG90LlJlbmRlci5TdWNjZXNzLlZBTFVFLFxyXG5cdFx0XHRcdFx0XHRMb2dnaW5nLkxvZ0xldmVsLkNyaXRpY2FsLFxyXG5cdFx0XHRcdFx0XHR7IFRpbWVNaWxsaXNlY29uZHM6IGVuZFRpbWUgLSBzdGFydFRpbWUgfSk7XHJcblx0XHRcdFx0XHR0cmFuc3BvcnRlci5zZXRTY3JlZW5zaG90KGNhbnZhcyk7XHJcblx0XHRcdFx0XHR0cmFuc3BvcnRlci5zdWJtaXQoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdCkuY2F0Y2goKGVycm9yOiBhbnkpID0+IHtcclxuXHRcdFx0XHRsZXQgZW5kVGltZTogbnVtYmVyID0gcGVyZm9ybWFuY2Uubm93KCk7XHJcblx0XHRcdFx0TG9nZ2luZy5nZXRMb2dnZXIoKS5sb2dFdmVudChMb2dnaW5nLkV2ZW50SWRzLlNoYXJlZC5TY3JlZW5zaG90LlJlbmRlci5GYWlsZWQuVkFMVUUsXHJcblx0XHRcdFx0XHRMb2dnaW5nLkxvZ0xldmVsLkVycm9yLFxyXG5cdFx0XHRcdFx0eyBFcnJvck1lc3NhZ2U6IGVycm9yLCBUaW1lTWlsbGlzZWNvbmRzOiBlbmRUaW1lIC0gc3RhcnRUaW1lIH0pO1xyXG5cdFx0XHRcdHRyYW5zcG9ydGVyLnN1Ym1pdCgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRyYW5zcG9ydGVyLnN1Ym1pdCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHNwaW5uZXIuZGVzdHJveSgpO1xyXG5cclxuXHRcdGlmICghQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRJbkFwcEZlZWRiYWNrSW5pdE9wdGlvbnMoKS5pc1Nob3dUaGFua3MpIHtcclxuXHRcdFx0ZGlzbWlzc0FsbCh0cnVlIC8qc3VibWl0dGVkKi8pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0b3ZlcmFsbFRoYW5rc0hhbmRsZXIoZXZlbnQpO1xyXG5cdFx0fVxyXG5cdH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDbG9zZSBidXR0b24gZXZlbnRcclxuICogQHBhcmFtIGV2ZW50IFRoZSBldmVudFxyXG4gKiBAcGFyYW0gc3VibWl0dGVkIFdhcyB0aGUgY29udHJvbCBzdWJtaXR0ZWQgKHRydWUpLCBvciBjYW5jZWxsZWQgKGZhbHNlKT9cclxuICovXHJcbmZ1bmN0aW9uIENsb3NlQnV0dG9uKGV2ZW50OiBFdmVudCwgc3VibWl0dGVkOiBib29sZWFuKSB7XHJcblx0U2V0VmlzaWJpbGl0eUV4Y2VwdEZvcihJRHMuVGhhbmtzUGFuZWxDb250YWluZXIsIHRydWUpO1xyXG5cdGRpc21pc3NBbGwoc3VibWl0dGVkKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFVzZXJWb2ljZUZvcm0gR28gYnV0dG9uIGV2ZW50IGhhbmRsZXJcclxuICogT3BlbnMgVXNlclZvaWNlIGZvcnVtIGluIGEgbmV3IHdpbmRvd1xyXG4gKiBAcGFyYW0gZXZlbnQgVGhlIEV2ZW50IG9iamVjdFxyXG4gKi9cclxuZnVuY3Rpb24gVXNlclZvaWNlRm9ybUdvQnV0dG9uSGFuZGxlcihldmVudDogRXZlbnQpOiB2b2lkIHtcclxuXHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuXHR3aW5kb3cub3Blbihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChJRHMuVXNlclZvaWNlRm9ybUdvQnV0dG9uKS5nZXRBdHRyaWJ1dGUoQXR0cmlidXRlTmFtZS5Tb3VyY2UpKTtcclxuXHRkaXNtaXNzQWxsKGZhbHNlIC8qIHN1Ym1pdHRlZCAqLyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTY3JlZW5zaG90Q2hlY2tib3ggQ2xpY2sgZXZlbnQgaGFuZGxlci4gUG9wdWxhdGUgcHJldmlldyBpZiBjaGVja2JveCBpcyBjaGVja2VkIFxyXG4gKiBAcGFyYW0gc2NyZWVuc2hvdENoZWNrYm94SWQgVGhlIElkIG9mIHNjcmVlbnNob3QgY2hlY2tib3hcclxuICogQHBhcmFtIHNjcmVlbnNob3RQcmV2aWV3SWQgVGhlIElkIG9mIHByZXZpZXdcclxuICogQHBhcmFtIGV2ZW50IFRoZSBFdmVudCBvYmplY3RcclxuICovXHJcbmZ1bmN0aW9uIFNjcmVlbnNob3RDaGVja2JveENsaWNrSGFuZGxlcihzY3JlZW5zaG90Q2hlY2tib3hJZDogc3RyaW5nLCBzY3JlZW5zaG90UHJldmlld0lkOiBzdHJpbmcpXHJcbjogKGV2ZW50OiBFdmVudCkgPT4gdm9pZCB7XHJcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudDogRXZlbnQpIHtcclxuXHRcdFVpVXRpbHMuU2NyZWVuc2hvdFByZXZpZXdCeUNoZWNrYm94KHNjcmVlbnNob3RDaGVja2JveElkLCBzY3JlZW5zaG90UHJldmlld0lkKTtcclxuXHR9O1xyXG59XHJcblxyXG4vKipcclxuICogQ2FuY2VsIGJ1dHRvbiBldmVudCBoYW5kbGVyIGZhY3RvcnlcclxuICovXHJcbmZ1bmN0aW9uIENhbmNlbEJ1dHRvbkhhbmRsZXIoKTogdm9pZCB7XHJcblx0ZGlzbWlzc0FsbChmYWxzZSAvKnN1Ym1pdHRlZCovKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZW1haWxDaGVja0JveEhhbmRsZXIoZXZlbnQ6IEV2ZW50KTogdm9pZCB7XHJcblx0Ly8gc2hvdyBlbWFpbCBpZiBjaGVja2VkIGFuZCBzaG93IGRlZmF1bHQgc3RyaW5nIGlmIHVuY2hlY2tlZFxyXG5cdGxldCBlbWFpbENoZWNrQm94OiBIVE1MSW5wdXRFbGVtZW50ID0gPEhUTUxJbnB1dEVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKElEcy5FbWFpbENoZWNrQm94KTtcclxuXHRpZiAoZW1haWxDaGVja0JveCkge1xyXG5cdFx0bGV0IGVtYWlsVGV4dEJveDogSFRNTElucHV0RWxlbWVudCA9IDxIVE1MSW5wdXRFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChJRHMuQmFzaWNGb3JtRW1haWxJbnB1dCk7XHJcblx0XHRlbWFpbFRleHRCb3gudmFsdWUgPSBlbWFpbENoZWNrQm94LmNoZWNrZWQgPyBDb25maWd1cmF0aW9uLmdldCgpLmdldENvbW1vbkluaXRPcHRpb25zKCkudXNlckVtYWlsIDogbnVsbDtcclxuXHRcdGVtYWlsVGV4dEJveC5kaXNhYmxlZCA9ICFlbWFpbENoZWNrQm94LmNoZWNrZWQ7XHJcblx0fVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/UI/BellyBand/Events.ts\n')},"./scripts/app/UI/BellyBand/FormTemplates/BasicFormTemplate.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generate", function() { return generate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "containerId", function() { return containerId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onSelect", function() { return onSelect; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "type", function() { return type; });\n/* harmony import */ var _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../../../UIStrings/UIStrings */ "./scripts/app/UIStrings/UIStrings.ts");\n/* harmony import */ var _FormTemplateType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FormTemplateType */ "./scripts/app/UI/BellyBand/FormTemplates/FormTemplateType.ts");\n/* harmony import */ var _CategoriesDropdown__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../../CategoriesDropdown */ "./scripts/app/UI/CategoriesDropdown.ts");\n/* harmony import */ var _RatingControl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../../RatingControl */ "./scripts/app/UI/RatingControl.ts");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../../../Configuration/Configuration */ "./scripts/app/Configuration/Configuration.ts");\n/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./../../../Constants */ "./scripts/app/Constants.ts");\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./../../UiConstants */ "./scripts/app/UI/UiConstants.ts");\n/**\r\n * BasicFormTemplate.ts\r\n *\r\n * A form template with contact info fields.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Generate the markup\r\n * @returns the markup as json\r\n */\r\nfunction generate() {\r\n    var categories = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__["get"]().getInAppFeedbackLaunchOptions().categories;\r\n    var formSchema = {\r\n        children: [\r\n            {\r\n                attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeName"].For, value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["IDs"].BasicFormComment }],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].FontSubtitle, _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].TextAlignLeft, _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].FormQuestionMiddleText],\r\n                id: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["IDs"].BasicFormQuestionMiddleText,\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Tags"].Label,\r\n                innerText: !_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__["get"]().getInAppFeedbackInitOptions().transitionEnabled\r\n                    ? _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().SingleForm.Title\r\n                    : "",\r\n            },\r\n            {\r\n                attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeName"].Id, value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["IDs"].BasicFormCategoriesDropdown }],\r\n                brs: categories.show,\r\n                children: _CategoriesDropdown__WEBPACK_IMPORTED_MODULE_2__["generate"](categories ? categories.customCategories : null),\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].FontSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].FormCategoriesDropdown, _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].TextInput],\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Tags"].Select,\r\n            },\r\n            {\r\n                attributes: [\r\n                    {\r\n                        name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeName"].Placeholder,\r\n                        value: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().Form.CommentPlaceholder,\r\n                    },\r\n                    {\r\n                        name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeName"].MaxLength,\r\n                        value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeValue"].TextAreaMaxLength,\r\n                    },\r\n                ],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].FontSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].FormComment, _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].TextInput],\r\n                id: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["IDs"].BasicFormComment,\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Tags"].TextArea,\r\n            },\r\n            {\r\n                brs: false,\r\n                children: [\r\n                    {\r\n                        attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeName"].For, value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["IDs"].BasicFormRating }],\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].FontText, _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].TextAlignLeft, _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].FormRatingLabel],\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().Form.RatingLabel,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Tags"].Label,\r\n                    },\r\n                    _RatingControl__WEBPACK_IMPORTED_MODULE_3__["generate"](_UiConstants__WEBPACK_IMPORTED_MODULE_6__["IDs"].BasicFormRating),\r\n                ],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].FormRatingContainer],\r\n            },\r\n            {\r\n                brs: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__["get"]().getInAppFeedbackInitOptions().showEmailAddress,\r\n                children: [\r\n                    {\r\n                        attributes: [\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeName"].Type,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeValue"].Checkbox,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeValue"].Unchecked,\r\n                                value: "",\r\n                            },\r\n                        ],\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].FormEmailCheckBox, _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].CheckBox],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["IDs"].EmailCheckBox,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Tags"].Input,\r\n                    },\r\n                    {\r\n                        attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeName"].For, value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["IDs"].EmailCheckBox }],\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].FontSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].TextAlignLeft, _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].FormEmailLabel],\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().Form.EmailCheckBoxLabel,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Tags"].Label,\r\n                    },\r\n                    {\r\n                        attributes: [\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeName"].Type,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeValue"].Text,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeName"].Placeholder,\r\n                                value: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().Form.EmailPlaceholder,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeName"].AriaLabel,\r\n                                value: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().Form.EmailPlaceholder,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeName"].Name,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["IDs"].BasicFormEmailInput,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeName"].MaxLength,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeValue"].TextAreaMaxLength,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeName"].Value,\r\n                                value: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__["get"]().getInAppFeedbackInitOptions().userEmail\r\n                                    ? _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__["get"]().getInAppFeedbackInitOptions().userEmail\r\n                                    : "",\r\n                            },\r\n                        ],\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].FontSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].FormEmailInput, _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].TextInput],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["IDs"].BasicFormEmailInput,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Tags"].Input,\r\n                    },\r\n                ],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].FormEmailContainer],\r\n            },\r\n            {\r\n                children: [\r\n                    {\r\n                        attributes: [\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeName"].Type,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeValue"].Checkbox,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeName"].Value,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeValue"].Unchecked,\r\n                            },\r\n                        ],\r\n                        brs: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__["get"]().getInAppFeedbackInitOptions().screenshot,\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].FormScreenshotCheckbox, _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].CheckBox],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["IDs"].BasicFormScreenshotCheckbox,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Tags"].Input,\r\n                    },\r\n                    {\r\n                        attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeName"].For, value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["IDs"].BasicFormScreenshotCheckbox }],\r\n                        brs: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__["get"]().getInAppFeedbackInitOptions().screenshot,\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].FontSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].TextAlignLeft, _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].FormScreenshotLabel],\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().Form.ScreenshotLabel,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Tags"].Label,\r\n                    },\r\n                    {\r\n                        attributes: [\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeName"].Preview,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeValue"].ScreenshotPreview,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeName"].Alt,\r\n                                value: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().Form.ScreenshotImgAltText,\r\n                            },\r\n                        ],\r\n                        brs: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__["get"]().getInAppFeedbackInitOptions().screenshot,\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["IDs"].BasicFormScreenshotPreview,\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].FormScreenshotPreview],\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Tags"].Img,\r\n                    },\r\n                ],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].FormScreenshotContainer],\r\n            },\r\n            {\r\n                children: [\r\n                    {\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].FontSubSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].TextAlignLeft],\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().Form.PrivacyLabel,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Tags"].Label,\r\n                    },\r\n                    {\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].FontSubSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].TextAlignLeft],\r\n                        innerText: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__["get"]().getCommonInitOptions().isCommercialHost\r\n                            ? _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().Form.PrivacyConsent + " " : "",\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Tags"].Label,\r\n                    },\r\n                    {\r\n                        attributes: [\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeName"].HRef,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Urls"].PrivacyStatementLink,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeName"].Target,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeValue"].BlankWindow,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeName"].Rel,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeValue"].NoReferrer,\r\n                            },\r\n                        ],\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].Link],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["IDs"].PrivacyStatementLink,\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().PrivacyStatement,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Tags"].Anchor,\r\n                    },\r\n                ],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].FontSubSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].TextAlignLeft, _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].PrivacyStatementLinkDiv],\r\n            },\r\n            {\r\n                children: [\r\n                    {\r\n                        attributes: [\r\n                            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeName"].Type, value: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeValue"].Button },\r\n                            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["AttributeName"].AriaLabel, value: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().Form.Cancel },\r\n                        ],\r\n                        classes: [\r\n                            _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].CancelButton,\r\n                        ],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["IDs"].BasicFormCancelButton,\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().Form.Cancel,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Tags"].Button,\r\n                    },\r\n                    {\r\n                        classes: [\r\n                            _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].SubmitButton,\r\n                        ],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["IDs"].BasicFormSubmitButton,\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().Form.Submit,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Tags"].Button,\r\n                    },\r\n                    {\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].Spinner, _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].Hidden],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["IDs"].BasicFormSubmitButtonSpinner,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Tags"].Div,\r\n                    },\r\n                ],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].FormSubmitButtonContainer],\r\n            },\r\n        ],\r\n        classes: [\r\n            _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__["get"]().getInAppFeedbackInitOptions().transitionEnabled ? _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].Hidden : _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].Visible,\r\n            _UiConstants__WEBPACK_IMPORTED_MODULE_6__["Classes"].MarginLeft60px,\r\n        ],\r\n        id: containerId,\r\n    };\r\n    return formSchema;\r\n}\r\n/**\r\n * The id for the container. This is the id of the top-most element and should\r\n * be unique to each form\r\n */\r\nvar containerId = _UiConstants__WEBPACK_IMPORTED_MODULE_6__["IDs"].BasicFormContainer;\r\n/**\r\n * Forms may be used for different feedback types. This method executes form\r\n * specific logic when the feedback type is selected\r\n * @param feedbackType feedback type\r\n */\r\nfunction onSelect(feedbackType) {\r\n    switch (feedbackType) {\r\n        case _Constants__WEBPACK_IMPORTED_MODULE_5__["FeedbackType"].Smile: {\r\n            document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_6__["IDs"].BasicFormQuestionMiddleText).textContent = _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().SmileForm.Title;\r\n            break;\r\n        }\r\n        case _Constants__WEBPACK_IMPORTED_MODULE_5__["FeedbackType"].Frown: {\r\n            document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_6__["IDs"].BasicFormQuestionMiddleText).textContent = _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().FrownForm.Title;\r\n            break;\r\n        }\r\n        case _Constants__WEBPACK_IMPORTED_MODULE_5__["FeedbackType"].Idea: {\r\n            document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_6__["IDs"].BasicFormQuestionMiddleText).textContent = _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().IdeaForm.Title;\r\n            break;\r\n        }\r\n        case _Constants__WEBPACK_IMPORTED_MODULE_5__["FeedbackType"].Bug: {\r\n            document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_6__["IDs"].BasicFormQuestionMiddleText).textContent = _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().BugForm.Title;\r\n            break;\r\n        }\r\n        default: {\r\n            break;\r\n        }\r\n    }\r\n    document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_6__["IDs"].BasicFormComment).focus();\r\n}\r\n/**\r\n * Form template type\r\n */\r\nvar type = _FormTemplateType__WEBPACK_IMPORTED_MODULE_1__["FormTemplateType"].Basic;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9CZWxseUJhbmQvRm9ybVRlbXBsYXRlcy9CYXNpY0Zvcm1UZW1wbGF0ZS50cz83NjVjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0dBSUc7QUFFeUQ7QUFDTjtBQUVXO0FBQ1Y7QUFDaUI7QUFDcEI7QUFDMEM7QUFFOUY7OztHQUdHO0FBQ0ksU0FBUyxRQUFRO0lBQ3ZCLElBQUksVUFBVSxHQUFHLGdFQUFpQixFQUFFLENBQUMsNkJBQTZCLEVBQUUsQ0FBQyxVQUFVLENBQUM7SUFDaEYsSUFBSSxVQUFVLEdBQUc7UUFDaEIsUUFBUSxFQUFFO1lBQ1Q7Z0JBQ0MsVUFBVSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsMERBQWEsQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLGdEQUFHLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztnQkFDdEUsT0FBTyxFQUFFLENBQUMsb0RBQU8sQ0FBQyxZQUFZLEVBQUUsb0RBQU8sQ0FBQyxhQUFhLEVBQUUsb0RBQU8sQ0FBQyxzQkFBc0IsQ0FBQztnQkFDdEYsRUFBRSxFQUFFLGdEQUFHLENBQUMsMkJBQTJCO2dCQUNuQyxHQUFHLEVBQUUsaURBQUksQ0FBQyxLQUFLO2dCQUNmLFNBQVMsRUFBRSxDQUFDLGdFQUFpQixFQUFFLENBQUMsMkJBQTJCLEVBQUUsQ0FBQyxpQkFBaUI7b0JBQzlFLENBQUMsQ0FBQyxpRUFBc0IsRUFBRSxDQUFDLFVBQVUsQ0FBQyxLQUFLO29CQUMzQyxDQUFDLENBQUMsRUFBRTthQUNMO1lBQ0Q7Z0JBQ0MsVUFBVSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsMERBQWEsQ0FBQyxFQUFFLEVBQUUsS0FBSyxFQUFFLGdEQUFHLENBQUMsMkJBQTJCLEVBQUUsQ0FBQztnQkFDaEYsR0FBRyxFQUFFLFVBQVUsQ0FBQyxJQUFJO2dCQUNw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QUNOO1FBQ0QsT0FBTyxDQUFDLENBQUM7WUFDUixNQUFNO1NBQ047S0FDRDtJQUVELFFBQVEsQ0FBQyxjQUFjLENBQUMsZ0RBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO0FBQ3ZELENBQUM7QUFFRDs7R0FFRztBQUNJLElBQUksSUFBSSxHQUFxQixrRUFBZ0IsQ0FBQyxLQUFLLENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9VSS9CZWxseUJhbmQvRm9ybVRlbXBsYXRlcy9CYXNpY0Zvcm1UZW1wbGF0ZS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBCYXNpY0Zvcm1UZW1wbGF0ZS50c1xyXG4gKlxyXG4gKiBBIGZvcm0gdGVtcGxhdGUgd2l0aCBjb250YWN0IGluZm8gZmllbGRzLlxyXG4gKi9cclxuXHJcbmltcG9ydCAqIGFzIFVJU3RyaW5ncyBmcm9tIFwiLi8uLi8uLi8uLi9VSVN0cmluZ3MvVUlTdHJpbmdzXCI7XHJcbmltcG9ydCB7IEZvcm1UZW1wbGF0ZVR5cGUgfSBmcm9tIFwiLi9Gb3JtVGVtcGxhdGVUeXBlXCI7XHJcbmltcG9ydCB7IElVSUFzSnNvbiB9IGZyb20gXCIuLy4uLy4uL1JlbmRlcmVyXCI7XHJcbmltcG9ydCAqIGFzIENhdGVnb3JpZXNEcm9wZG93biBmcm9tIFwiLi8uLi8uLi9DYXRlZ29yaWVzRHJvcGRvd25cIjtcclxuaW1wb3J0ICogYXMgUmF0aW5nQ29udHJvbCBmcm9tIFwiLi8uLi8uLi9SYXRpbmdDb250cm9sXCI7XHJcbmltcG9ydCAqIGFzIENvbmZpZ3VyYXRpb24gZnJvbSBcIi4vLi4vLi4vLi4vQ29uZmlndXJhdGlvbi9Db25maWd1cmF0aW9uXCI7XHJcbmltcG9ydCB7IEZlZWRiYWNrVHlwZSB9IGZyb20gXCIuLy4uLy4uLy4uL0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBBdHRyaWJ1dGVOYW1lLCBBdHRyaWJ1dGVWYWx1ZSwgQ2xhc3NlcywgSURzLCBUYWdzLCBVcmxzIH0gZnJvbSBcIi4vLi4vLi4vVWlDb25zdGFudHNcIjtcclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZSB0aGUgbWFya3VwXHJcbiAqIEByZXR1cm5zIHRoZSBtYXJrdXAgYXMganNvblxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlKCk6IElVSUFzSnNvbiB7XHJcblx0bGV0IGNhdGVnb3JpZXMgPSBDb25maWd1cmF0aW9uLmdldCgpLmdldEluQXBwRmVlZGJhY2tMYXVuY2hPcHRpb25zKCkuY2F0ZWdvcmllcztcclxuXHRsZXQgZm9ybVNjaGVtYSA9IHtcclxuXHRcdGNoaWxkcmVuOiBbXHJcblx0XHRcdHtcclxuXHRcdFx0XHRhdHRyaWJ1dGVzOiBbeyBuYW1lOiBBdHRyaWJ1dGVOYW1lLkZvciwgdmFsdWU6IElEcy5CYXNpY0Zvcm1Db21tZW50IH1dLFxyXG5cdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLkZvbnRTdWJ0aXRsZSwgQ2xhc3Nlcy5UZXh0QWxpZ25MZWZ0LCBDbGFzc2VzLkZvcm1RdWVzdGlvbk1pZGRsZVRleHRdLFxyXG5cdFx0XHRcdGlkOiBJRHMuQmFzaWNGb3JtUXVlc3Rpb25NaWRkbGVUZXh0LFxyXG5cdFx0XHRcdHRhZzogVGFncy5MYWJlbCxcclxuXHRcdFx0XHRpbm5lclRleHQ6ICFDb25maWd1cmF0aW9uLmdldCgpLmdldEluQXBwRmVlZGJhY2tJbml0T3B0aW9ucygpLnRyYW5zaXRpb25FbmFibGVkXHJcblx0XHRcdFx0XHQ/IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5TaW5nbGVGb3JtLlRpdGxlXHJcblx0XHRcdFx0XHQ6IFwiXCIsXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRhdHRyaWJ1dGVzOiBbeyBuYW1lOiBBdHRyaWJ1dGVOYW1lLklkLCB2YWx1ZTogSURzLkJhc2ljRm9ybUNhdGVnb3JpZXNEcm9wZG93biB9XSxcclxuXHRcdFx0XHRicnM6IGNhdGVnb3JpZXMuc2hvdyxcclxuXHRcdFx0XHRjaGlsZHJlbjogQ2F0ZWdvcmllc0Ryb3Bkb3duLmdlbmVyYXRlKGNhdGVnb3JpZXMgPyBjYXRlZ29yaWVzLmN1c3RvbUNhdGVnb3JpZXMgOiBudWxsKSxcclxuXHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb250U3ViVGV4dCwgQ2xhc3Nlcy5Gb3JtQ2F0ZWdvcmllc0Ryb3Bkb3duLCBDbGFzc2VzLlRleHRJbnB1dF0sXHJcblx0XHRcdFx0dGFnOiBUYWdzLlNlbGVjdCxcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGF0dHJpYnV0ZXM6IFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0bmFtZTogQXR0cmlidXRlTmFtZS5QbGFjZWhvbGRlcixcclxuXHRcdFx0XHRcdFx0dmFsdWU6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Gb3JtLkNvbW1lbnRQbGFjZWhvbGRlcixcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuTWF4TGVuZ3RoLFxyXG5cdFx0XHRcdFx0XHR2YWx1ZTogQXR0cmlidXRlVmFsdWUuVGV4dEFyZWFNYXhMZW5ndGgsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9udFN1YlRleHQsIENsYXNzZXMuRm9ybUNvbW1lbnQsIENsYXNzZXMuVGV4dElucHV0XSxcclxuXHRcdFx0XHRpZDogSURzLkJhc2ljRm9ybUNvbW1lbnQsXHJcblx0XHRcdFx0dGFnOiBUYWdzLlRleHRBcmVhLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0YnJzOiBmYWxzZSwgLy8gZGlzYWJsZSByYXRpbmcgZm9yIG5vd1xyXG5cdFx0XHRcdGNoaWxkcmVuOiBbXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IFt7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuRm9yLCB2YWx1ZTogSURzLkJhc2ljRm9ybVJhdGluZyB9XSxcclxuXHRcdFx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9udFRleHQsIENsYXNzZXMuVGV4dEFsaWduTGVmdCwgQ2xhc3Nlcy5Gb3JtUmF0aW5nTGFiZWxdLFxyXG5cdFx0XHRcdFx0XHRpbm5lclRleHQ6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Gb3JtLlJhdGluZ0xhYmVsLFxyXG5cdFx0XHRcdFx0XHR0YWc6IFRhZ3MuTGFiZWwsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0UmF0aW5nQ29udHJvbC5nZW5lcmF0ZShJRHMuQmFzaWNGb3JtUmF0aW5nKSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLkZvcm1SYXRpbmdDb250YWluZXJdLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0YnJzOiBDb25maWd1cmF0aW9uLmdldCgpLmdldEluQXBwRmVlZGJhY2tJbml0T3B0aW9ucygpLnNob3dFbWFpbEFkZHJlc3MsXHJcblx0XHRcdFx0Y2hpbGRyZW46IFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczogW1xyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuVHlwZSxcclxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBBdHRyaWJ1dGVWYWx1ZS5DaGVja2JveCxcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZVZhbHVlLlVuY2hlY2tlZCxcclxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBcIlwiLFxyXG5cdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdF0sXHJcblx0XHRcdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLkZvcm1FbWFpbENoZWNrQm94LCBDbGFzc2VzLkNoZWNrQm94XSxcclxuXHRcdFx0XHRcdFx0aWQ6IElEcy5FbWFpbENoZWNrQm94LFxyXG5cdFx0XHRcdFx0XHR0YWc6IFRhZ3MuSW5wdXQsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRhdHRyaWJ1dGVzOiBbeyBuYW1lOiBBdHRyaWJ1dGVOYW1lLkZvciwgdmFsdWU6IElEcy5FbWFpbENoZWNrQm94IH1dLFxyXG5cdFx0XHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb250U3ViVGV4dCwgQ2xhc3Nlcy5UZXh0QWxpZ25MZWZ0LCBDbGFzc2VzLkZvcm1FbWFpbExhYmVsXSxcclxuXHRcdFx0XHRcdFx0aW5uZXJUZXh0OiBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuRm9ybS5FbWFpbENoZWNrQm94TGFiZWwsXHJcblx0XHRcdFx0XHRcdHRhZzogVGFncy5MYWJlbCxcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IFtcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLlR5cGUsXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogQXR0cmlidXRlVmFsdWUuVGV4dCxcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuUGxhY2Vob2xkZXIsXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogVUlTdHJpbmdzLmdldFVJU3RyaW5ncygpLkZvcm0uRW1haWxQbGFjZWhvbGRlcixcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuQXJpYUxhYmVsLFxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Gb3JtLkVtYWlsUGxhY2Vob2xkZXIsXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLk5hbWUsXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogSURzLkJhc2ljRm9ybUVtYWlsSW5wdXQsXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLk1heExlbmd0aCxcclxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBBdHRyaWJ1dGVWYWx1ZS5UZXh0QXJlYU1heExlbmd0aCxcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuVmFsdWUsXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTpcclxuXHRcdFx0XHRcdFx0XHRcdFx0Q29uZmlndXJhdGlvbi5nZXQoKS5nZXRJbkFwcEZlZWRiYWNrSW5pdE9wdGlvbnMoKS51c2VyRW1haWxcclxuXHRcdFx0XHRcdFx0XHRcdFx0PyBDb25maWd1cmF0aW9uLmdldCgpLmdldEluQXBwRmVlZGJhY2tJbml0T3B0aW9ucygpLnVzZXJFbWFpbFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ6IFwiXCIsXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XSxcclxuXHRcdFx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9udFN1YlRleHQsIENsYXNzZXMuRm9ybUVtYWlsSW5wdXQsIENsYXNzZXMuVGV4dElucHV0XSxcclxuXHRcdFx0XHRcdFx0aWQ6IElEcy5CYXNpY0Zvcm1FbWFpbElucHV0LFxyXG5cdFx0XHRcdFx0XHR0YWc6IFRhZ3MuSW5wdXQsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9ybUVtYWlsQ29udGFpbmVyXSxcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGNoaWxkcmVuOiBbXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IFtcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLlR5cGUsXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogQXR0cmlidXRlVmFsdWUuQ2hlY2tib3gsXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLlZhbHVlLFxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IEF0dHJpYnV0ZVZhbHVlLlVuY2hlY2tlZCxcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRdLFxyXG5cdFx0XHRcdFx0XHRicnM6IENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0SW5BcHBGZWVkYmFja0luaXRPcHRpb25zKCkuc2NyZWVuc2hvdCxcclxuXHRcdFx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9ybVNjcmVlbnNob3RDaGVja2JveCwgQ2xhc3Nlcy5DaGVja0JveF0sXHJcblx0XHRcdFx0XHRcdGlkOiBJRHMuQmFzaWNGb3JtU2NyZWVuc2hvdENoZWNrYm94LFxyXG5cdFx0XHRcdFx0XHR0YWc6IFRhZ3MuSW5wdXQsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRhdHRyaWJ1dGVzOiBbeyBuYW1lOiBBdHRyaWJ1dGVOYW1lLkZvciwgdmFsdWU6IElEcy5CYXNpY0Zvcm1TY3JlZW5zaG90Q2hlY2tib3ggfV0sXHJcblx0XHRcdFx0XHRcdGJyczogQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRJbkFwcEZlZWRiYWNrSW5pdE9wdGlvbnMoKS5zY3JlZW5zaG90LFxyXG5cdFx0XHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb250U3ViVGV4dCwgQ2xhc3Nlcy5UZXh0QWxpZ25MZWZ0LCBDbGFzc2VzLkZvcm1TY3JlZW5zaG90TGFiZWxdLFxyXG5cdFx0XHRcdFx0XHRpbm5lclRleHQ6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Gb3JtLlNjcmVlbnNob3RMYWJlbCxcclxuXHRcdFx0XHRcdFx0dGFnOiBUYWdzLkxhYmVsLFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczogW1xyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuUHJldmlldyxcclxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBBdHRyaWJ1dGVWYWx1ZS5TY3JlZW5zaG90UHJldmlldyxcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuQWx0LFxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Gb3JtLlNjcmVlbnNob3RJbWdBbHRUZXh0LFxyXG5cdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdF0sXHJcblx0XHRcdFx0XHRcdGJyczogQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRJbkFwcEZlZWRiYWNrSW5pdE9wdGlvbnMoKS5zY3JlZW5zaG90LFxyXG5cdFx0XHRcdFx0XHRpZDogSURzLkJhc2ljRm9ybVNjcmVlbnNob3RQcmV2aWV3LFxyXG5cdFx0XHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb3JtU2NyZWVuc2hvdFByZXZpZXddLFxyXG5cdFx0XHRcdFx0XHR0YWc6IFRhZ3MuSW1nLFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLkZvcm1TY3JlZW5zaG90Q29udGFpbmVyXSxcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGNoaWxkcmVuOlxyXG5cdFx0XHRcdFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9udFN1YlN1YlRleHQsIENsYXNzZXMuVGV4dEFsaWduTGVmdF0sXHJcblx0XHRcdFx0XHRcdGlubmVyVGV4dDogVUlTdHJpbmdzLmdldFVJU3RyaW5ncygpLkZvcm0uUHJpdmFjeUxhYmVsLFxyXG5cdFx0XHRcdFx0XHR0YWc6IFRhZ3MuTGFiZWwsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb250U3ViU3ViVGV4dCwgQ2xhc3Nlcy5UZXh0QWxpZ25MZWZ0XSxcclxuXHRcdFx0XHRcdFx0aW5uZXJUZXh0OiBDb25maWd1cmF0aW9uLmdldCgpLmdldENvbW1vbkluaXRPcHRpb25zKCkuaXNDb21tZXJjaWFsSG9zdFxyXG5cdFx0XHRcdFx0XHQ/IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Gb3JtLlByaXZhY3lDb25zZW50ICsgXCIgXCIgOiBcIlwiLFxyXG5cdFx0XHRcdFx0XHR0YWc6IFRhZ3MuTGFiZWwsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRhdHRyaWJ1dGVzOiBbXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogQXR0cmlidXRlTmFtZS5IUmVmLFxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IFVybHMuUHJpdmFjeVN0YXRlbWVudExpbmssXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLlRhcmdldCxcclxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBBdHRyaWJ1dGVWYWx1ZS5CbGFua1dpbmRvdyxcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuUmVsLFxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IEF0dHJpYnV0ZVZhbHVlLk5vUmVmZXJyZXIsXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XSxcclxuXHRcdFx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuTGlua10sXHJcblx0XHRcdFx0XHRcdGlkOiBJRHMuUHJpdmFjeVN0YXRlbWVudExpbmssXHJcblx0XHRcdFx0XHRcdGlubmVyVGV4dDogVUlTdHJpbmdzLmdldFVJU3RyaW5ncygpLlByaXZhY3lTdGF0ZW1lbnQsXHJcblx0XHRcdFx0XHRcdHRhZzogVGFncy5BbmNob3IsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9udFN1YlN1YlRleHQsIENsYXNzZXMuVGV4dEFsaWduTGVmdCwgQ2xhc3Nlcy5Qcml2YWN5U3RhdGVtZW50TGlua0Rpdl0sXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRjaGlsZHJlbjogW1xyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRhdHRyaWJ1dGVzOiBbXHJcblx0XHRcdFx0XHRcdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLlR5cGUsIHZhbHVlOiBBdHRyaWJ1dGVWYWx1ZS5CdXR0b259LFxyXG5cdFx0XHRcdFx0XHRcdHsgbmFtZTogQXR0cmlidXRlTmFtZS5BcmlhTGFiZWwsIHZhbHVlOiBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuRm9ybS5DYW5jZWwgfSxcclxuXHRcdFx0XHRcdFx0XSxcclxuXHRcdFx0XHRcdFx0Y2xhc3NlczogW1xyXG5cdFx0XHRcdFx0XHRcdENsYXNzZXMuQ2FuY2VsQnV0dG9uLFxyXG5cdFx0XHRcdFx0XHRdLFxyXG5cdFx0XHRcdFx0XHRpZDogSURzLkJhc2ljRm9ybUNhbmNlbEJ1dHRvbixcclxuXHRcdFx0XHRcdFx0aW5uZXJUZXh0OiBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuRm9ybS5DYW5jZWwsXHJcblx0XHRcdFx0XHRcdHRhZzogVGFncy5CdXR0b24sXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRjbGFzc2VzOiBbXHJcblx0XHRcdFx0XHRcdFx0Q2xhc3Nlcy5TdWJtaXRCdXR0b24sXHJcblx0XHRcdFx0XHRcdF0sXHJcblx0XHRcdFx0XHRcdGlkOiBJRHMuQmFzaWNGb3JtU3VibWl0QnV0dG9uLFxyXG5cdFx0XHRcdFx0XHRpbm5lclRleHQ6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Gb3JtLlN1Ym1pdCxcclxuXHRcdFx0XHRcdFx0dGFnOiBUYWdzLkJ1dHRvbixcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLlNwaW5uZXIsIENsYXNzZXMuSGlkZGVuXSxcclxuXHRcdFx0XHRcdFx0aWQ6IElEcy5CYXNpY0Zvcm1TdWJtaXRCdXR0b25TcGlubmVyLFxyXG5cdFx0XHRcdFx0XHR0YWc6IFRhZ3MuRGl2LFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLkZvcm1TdWJtaXRCdXR0b25Db250YWluZXJdLFxyXG5cdFx0XHR9LFxyXG5cdFx0XSxcclxuXHRcdGNsYXNzZXM6IFtcclxuXHRcdFx0Q29uZmlndXJhdGlvbi5nZXQoKS5nZXRJbkFwcEZlZWRiYWNrSW5pdE9wdGlvbnMoKS50cmFuc2l0aW9uRW5hYmxlZCA/IENsYXNzZXMuSGlkZGVuIDogQ2xhc3Nlcy5WaXNpYmxlLFxyXG5cdFx0XHRDbGFzc2VzLk1hcmdpbkxlZnQ2MHB4LFxyXG5cdFx0XSxcclxuXHRcdGlkOiBjb250YWluZXJJZCxcclxuXHR9O1xyXG5cdHJldHVybiBmb3JtU2NoZW1hO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIGlkIGZvciB0aGUgY29udGFpbmVyLiBUaGlzIGlzIHRoZSBpZCBvZiB0aGUgdG9wLW1vc3QgZWxlbWVudCBhbmQgc2hvdWxkXHJcbiAqIGJlIHVuaXF1ZSB0byBlYWNoIGZvcm1cclxuICovXHJcbmV4cG9ydCBsZXQgY29udGFpbmVySWQ6IHN0cmluZyA9IElEcy5CYXNpY0Zvcm1Db250YWluZXI7XHJcblxyXG4vKipcclxuICogRm9ybXMgbWF5IGJlIHVzZWQgZm9yIGRpZmZlcmVudCBmZWVkYmFjayB0eXBlcy4gVGhpcyBtZXRob2QgZXhlY3V0ZXMgZm9ybVxyXG4gKiBzcGVjaWZpYyBsb2dpYyB3aGVuIHRoZSBmZWVkYmFjayB0eXBlIGlzIHNlbGVjdGVkXHJcbiAqIEBwYXJhbSBmZWVkYmFja1R5cGUgZmVlZGJhY2sgdHlwZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIG9uU2VsZWN0KGZlZWRiYWNrVHlwZTogRmVlZGJhY2tUeXBlKTogdm9pZCB7XHJcblx0c3dpdGNoIChmZWVkYmFja1R5cGUpIHtcclxuXHRcdGNhc2UgRmVlZGJhY2tUeXBlLlNtaWxlOiB7XHJcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKElEcy5CYXNpY0Zvcm1RdWVzdGlvbk1pZGRsZVRleHQpLnRleHRDb250ZW50ID0gVUlTdHJpbmdzLmdldFVJU3RyaW5ncygpLlNtaWxlRm9ybS5UaXRsZTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblx0XHRjYXNlIEZlZWRiYWNrVHlwZS5Gcm93bjoge1xyXG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChJRHMuQmFzaWNGb3JtUXVlc3Rpb25NaWRkbGVUZXh0KS50ZXh0Q29udGVudCA9IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Gcm93bkZvcm0uVGl0bGU7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0fVxyXG5cdFx0Y2FzZSBGZWVkYmFja1R5cGUuSWRlYToge1xyXG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChJRHMuQmFzaWNGb3JtUXVlc3Rpb25NaWRkbGVUZXh0KS50ZXh0Q29udGVudCA9IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5JZGVhRm9ybS5UaXRsZTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblx0XHRjYXNlIEZlZWRiYWNrVHlwZS5CdWc6IHtcclxuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoSURzLkJhc2ljRm9ybVF1ZXN0aW9uTWlkZGxlVGV4dCkudGV4dENvbnRlbnQgPSBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuQnVnRm9ybS5UaXRsZTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblx0XHRkZWZhdWx0OiB7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoSURzLkJhc2ljRm9ybUNvbW1lbnQpLmZvY3VzKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGb3JtIHRlbXBsYXRlIHR5cGVcclxuICovXHJcbmV4cG9ydCBsZXQgdHlwZTogRm9ybVRlbXBsYXRlVHlwZSA9IEZvcm1UZW1wbGF0ZVR5cGUuQmFzaWM7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/UI/BellyBand/FormTemplates/BasicFormTemplate.ts\n')},"./scripts/app/UI/BellyBand/FormTemplates/FormTemplateType.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormTemplateType", function() { return FormTemplateType; });\n/**\r\n * FormTemplateType.ts\r\n *\r\n * An enum for the types of forms available.\r\n */\r\nvar FormTemplateType;\r\n(function (FormTemplateType) {\r\n    FormTemplateType[FormTemplateType["Single"] = 0] = "Single";\r\n    FormTemplateType[FormTemplateType["Basic"] = 1] = "Basic";\r\n    FormTemplateType[FormTemplateType["UserVoice"] = 2] = "UserVoice";\r\n})(FormTemplateType || (FormTemplateType = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9CZWxseUJhbmQvRm9ybVRlbXBsYXRlcy9Gb3JtVGVtcGxhdGVUeXBlLnRzPzg0MzQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBOzs7O0dBSUc7QUFFSCxJQUFZLGdCQUlYO0FBSkQsV0FBWSxnQkFBZ0I7SUFDM0IsMkRBQVU7SUFDVix5REFBUztJQUNULGlFQUFhO0FBQ2QsQ0FBQyxFQUpXLGdCQUFnQixLQUFoQixnQkFBZ0IsUUFJM0IiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9VSS9CZWxseUJhbmQvRm9ybVRlbXBsYXRlcy9Gb3JtVGVtcGxhdGVUeXBlLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEZvcm1UZW1wbGF0ZVR5cGUudHNcclxuICpcclxuICogQW4gZW51bSBmb3IgdGhlIHR5cGVzIG9mIGZvcm1zIGF2YWlsYWJsZS5cclxuICovXHJcblxyXG5leHBvcnQgZW51bSBGb3JtVGVtcGxhdGVUeXBlIHtcclxuXHRTaW5nbGUgPSAwLFxyXG5cdEJhc2ljID0gMSxcclxuXHRVc2VyVm9pY2UgPSAyLFxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/UI/BellyBand/FormTemplates/FormTemplateType.ts\n')},"./scripts/app/UI/BellyBand/FormTemplates/SingleFormTemplate.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generate", function() { return generate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "containerId", function() { return containerId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onSelect", function() { return onSelect; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "type", function() { return type; });\n/* harmony import */ var _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../../../UIStrings/UIStrings */ "./scripts/app/UIStrings/UIStrings.ts");\n/* harmony import */ var _FormTemplateType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FormTemplateType */ "./scripts/app/UI/BellyBand/FormTemplates/FormTemplateType.ts");\n/* harmony import */ var _CategoriesDropdown__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../../CategoriesDropdown */ "./scripts/app/UI/CategoriesDropdown.ts");\n/* harmony import */ var _RatingControl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../../RatingControl */ "./scripts/app/UI/RatingControl.ts");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../../../Configuration/Configuration */ "./scripts/app/Configuration/Configuration.ts");\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./../../UiConstants */ "./scripts/app/UI/UiConstants.ts");\n/**\r\n * SingleFormTemplate.ts\r\n *\r\n * A form template with contact info fields.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Generate the markup\r\n * @returns the markup as json\r\n */\r\nfunction generate() {\r\n    var categories = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__["get"]().getInAppFeedbackLaunchOptions().categories;\r\n    var formSchema = {\r\n        children: [\r\n            {\r\n                attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeName"].For, value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["IDs"].SingleFormComment }],\r\n                classes: [\r\n                    _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].FontSubtitle,\r\n                    _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].TextAlignLeft,\r\n                    _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].FormQuestionMiddleText,\r\n                ],\r\n                id: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["IDs"].SingleFormQuestionMiddleText,\r\n                innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().SingleForm.Title,\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Tags"].Label,\r\n            },\r\n            {\r\n                attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeName"].Id, value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["IDs"].SingleFormCategoriesDropdown }],\r\n                brs: categories.show,\r\n                children: _CategoriesDropdown__WEBPACK_IMPORTED_MODULE_2__["generate"](categories ? categories.customCategories : null),\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].FontSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].FormCategoriesDropdown, _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].TextInput],\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Tags"].Select,\r\n            },\r\n            {\r\n                attributes: [\r\n                    {\r\n                        name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeName"].Placeholder,\r\n                        value: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().Form.CommentPlaceholder,\r\n                    },\r\n                    {\r\n                        name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeName"].MaxLength,\r\n                        value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeValue"].TextAreaMaxLength,\r\n                    },\r\n                ],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].FontSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].FormComment, _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].TextInput],\r\n                id: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["IDs"].SingleFormComment,\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Tags"].TextArea,\r\n            },\r\n            {\r\n                brs: false,\r\n                children: [\r\n                    {\r\n                        attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeName"].For, value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["IDs"].SingleFormRating }],\r\n                        classes: [\r\n                            _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].FontSubText,\r\n                            _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].TextAlignLeft,\r\n                            _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].FormRatingLabel,\r\n                        ],\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().Form.RatingLabel,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Tags"].Label,\r\n                    },\r\n                    _RatingControl__WEBPACK_IMPORTED_MODULE_3__["generate"](_UiConstants__WEBPACK_IMPORTED_MODULE_5__["IDs"].SingleFormRating),\r\n                ],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].FormRatingContainer],\r\n            },\r\n            {\r\n                brs: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__["get"]().getInAppFeedbackInitOptions().showEmailAddress,\r\n                children: [\r\n                    {\r\n                        attributes: [\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeName"].Type,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeValue"].Checkbox,\r\n                            },\r\n                            {\r\n                                name: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__["get"]().getCommonInitOptions().userEmailConsentDefault\r\n                                    ? _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeValue"].Checked\r\n                                    : _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeValue"].Unchecked,\r\n                                value: "",\r\n                            },\r\n                        ],\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].FormEmailCheckBox, _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].CheckBox],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["IDs"].EmailCheckBox,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Tags"].Input,\r\n                    },\r\n                    {\r\n                        attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeName"].For, value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["IDs"].EmailCheckBox }],\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].FontSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].TextAlignLeft, _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].FormEmailLabel],\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().Form.EmailCheckBoxLabel,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Tags"].Label,\r\n                    },\r\n                    {\r\n                        attributes: [\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeName"].Type,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeValue"].Text,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeName"].Placeholder,\r\n                                value: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().Form.EmailPlaceholder,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeName"].AriaLabel,\r\n                                value: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().Form.EmailPlaceholder,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeName"].Name,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["IDs"].SingleFormEmailInput,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeName"].MaxLength,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeValue"].TextAreaMaxLength,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeName"].Value,\r\n                                value: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__["get"]().getInAppFeedbackInitOptions().userEmail\r\n                                    ? _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__["get"]().getInAppFeedbackInitOptions().userEmail\r\n                                    : "",\r\n                            },\r\n                        ],\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].FontSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].FormEmailInput, _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].TextInput],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["IDs"].SingleFormEmailInput,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Tags"].Input,\r\n                    },\r\n                ],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].FormEmailContainer],\r\n            },\r\n            {\r\n                children: [\r\n                    {\r\n                        attributes: [\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeName"].Type,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeValue"].Checkbox,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeName"].Value,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeValue"].Unchecked,\r\n                            },\r\n                        ],\r\n                        brs: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__["get"]().getInAppFeedbackInitOptions().screenshot,\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].FormScreenshotCheckbox, _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].CheckBox],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["IDs"].SingleFormScreenshotCheckbox,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Tags"].Input,\r\n                    },\r\n                    {\r\n                        attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeName"].For, value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["IDs"].SingleFormScreenshotCheckbox }],\r\n                        brs: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__["get"]().getInAppFeedbackInitOptions().screenshot,\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].FontText, _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].TextAlignLeft, _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].FormScreenshotLabel],\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().Form.ScreenshotLabel,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Tags"].Label,\r\n                    },\r\n                    {\r\n                        attributes: [\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeName"].Preview,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeValue"].ScreenshotPreview,\r\n                            },\r\n                        ],\r\n                        brs: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__["get"]().getInAppFeedbackInitOptions().screenshot,\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["IDs"].SingleFormScreenshotPreview,\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].FormScreenshotPreview],\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Tags"].Img,\r\n                    },\r\n                ],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].FormScreenshotContainer],\r\n            },\r\n            {\r\n                children: [\r\n                    {\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].FontSubSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].TextAlignLeft],\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().Form.PrivacyLabel,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Tags"].Label,\r\n                    },\r\n                    {\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].FontSubSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].TextAlignLeft],\r\n                        innerText: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_4__["get"]().getCommonInitOptions().isCommercialHost\r\n                            ? _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().Form.PrivacyConsent + " " : "",\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Tags"].Label,\r\n                    },\r\n                    {\r\n                        attributes: [\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeName"].HRef,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Urls"].PrivacyStatementLink,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeName"].Target,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeValue"].BlankWindow,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeName"].Rel,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeValue"].NoReferrer,\r\n                            },\r\n                        ],\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].Link],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["IDs"].PrivacyStatementLink,\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().PrivacyStatement,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Tags"].Anchor,\r\n                    },\r\n                ],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].FontSubSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].TextAlignLeft, _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].PrivacyStatementLinkDiv],\r\n            },\r\n            {\r\n                children: [\r\n                    {\r\n                        attributes: [\r\n                            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeName"].Type, value: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeValue"].Button },\r\n                            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["AttributeName"].AriaLabel, value: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().Form.Cancel },\r\n                        ],\r\n                        classes: [\r\n                            _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].CancelButton,\r\n                        ],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["IDs"].SingleFormCancelButton,\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().Form.Cancel,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Tags"].Button,\r\n                    },\r\n                    {\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].SubmitButton],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["IDs"].SingleFormSubmitButton,\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().Form.Submit,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Tags"].Button,\r\n                    },\r\n                    {\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].Spinner, _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].Hidden],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["IDs"].SingleFormSubmitButtonSpinner,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_5__["Tags"].Div,\r\n                    },\r\n                ],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_5__["Classes"].FormSubmitButtonContainer],\r\n            },\r\n        ],\r\n        id: containerId,\r\n    };\r\n    return formSchema;\r\n}\r\n/**\r\n * The id for the container. This is the id of the top-most element and should\r\n * be unique to each form\r\n */\r\nvar containerId = _UiConstants__WEBPACK_IMPORTED_MODULE_5__["IDs"].SingleFormContainer;\r\n/**\r\n * Forms may be used for different feedback types. This method executes form\r\n * specific logic when the feedback type is selected\r\n * @param feedbackType feedback type\r\n */\r\nfunction onSelect(feedbackType) {\r\n    document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_5__["IDs"].SingleFormComment).focus();\r\n}\r\n/**\r\n * Form template type\r\n */\r\nvar type = _FormTemplateType__WEBPACK_IMPORTED_MODULE_1__["FormTemplateType"].Single;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9CZWxseUJhbmQvRm9ybVRlbXBsYXRlcy9TaW5nbGVGb3JtVGVtcGxhdGUudHM/OGFlMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRztBQUV5RDtBQUNOO0FBRVc7QUFDVjtBQUNpQjtBQUVzQjtBQUU5Rjs7O0dBR0c7QUFDSSxTQUFTLFFBQVE7SUFDdkIsSUFBSSxVQUFVLEdBQUcsZ0VBQWlCLEVBQUUsQ0FBQyw2QkFBNkIsRUFBRSxDQUFDLFVBQVUsQ0FBQztJQUVoRixJQUFJLFVBQVUsR0FBRztRQUNoQixRQUFRLEVBQUU7WUFDVDtnQkFDQyxVQUFVLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSwwREFBYSxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsZ0RBQUcsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO2dCQUN2RSxPQUFPLEVBQUU7b0JBQ1Isb0RBQU8sQ0FBQyxZQUFZO29CQUNwQixvREFBTyxDQUFDLGFBQWE7b0JBQ3JCLG9EQUFPLENBQUMsc0JBQXNCO2lCQUM5QjtnQkFDRCxFQUFFLEVBQUUsZ0RBQUcsQ0FBQyw0QkFBNEI7Z0JBQ3BDLFNBQVMsRUFBRSxpRUFBc0IsRUFBRSxDQUFDLFVBQVUsQ0FBQyxLQUFLO2dCQUNwRCxHQUFHLEVBQUUsaURBQUksQ0FBQyxLQUFLO2FBQ2Y7WUFDRDtnQkFDQyxVQUFVLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSwwREFBYSxDQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsZ0RBQUcsQ0FBQyw0QkFBNEIsRUFBRSxDQUFDO2dCQUNqRixHQUFHLEVBQUUsVUFBVSxDQUFDLElBQUk7Z0JBQ3BCLFFBQVEsRUFBRSw0REFBMkIsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO2dC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Ozs7R0FJRztBQUNJLFNBQVMsUUFBUSxDQUFDLFlBQTBCO0lBQ2xELFFBQVEsQ0FBQyxjQUFjLENBQUMsZ0RBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO0FBQ3hELENBQUM7QUFFRDs7R0FFRztBQUNJLElBQUksSUFBSSxHQUFxQixrRUFBZ0IsQ0FBQyxNQUFNLENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9VSS9CZWxseUJhbmQvRm9ybVRlbXBsYXRlcy9TaW5nbGVGb3JtVGVtcGxhdGUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogU2luZ2xlRm9ybVRlbXBsYXRlLnRzXHJcbiAqXHJcbiAqIEEgZm9ybSB0ZW1wbGF0ZSB3aXRoIGNvbnRhY3QgaW5mbyBmaWVsZHMuXHJcbiAqL1xyXG5cclxuaW1wb3J0ICogYXMgVUlTdHJpbmdzIGZyb20gXCIuLy4uLy4uLy4uL1VJU3RyaW5ncy9VSVN0cmluZ3NcIjtcclxuaW1wb3J0IHsgRm9ybVRlbXBsYXRlVHlwZSB9IGZyb20gXCIuL0Zvcm1UZW1wbGF0ZVR5cGVcIjtcclxuaW1wb3J0IHsgSVVJQXNKc29uIH0gZnJvbSBcIi4vLi4vLi4vUmVuZGVyZXJcIjtcclxuaW1wb3J0ICogYXMgQ2F0ZWdvcmllc0Ryb3Bkb3duIGZyb20gXCIuLy4uLy4uL0NhdGVnb3JpZXNEcm9wZG93blwiO1xyXG5pbXBvcnQgKiBhcyBSYXRpbmdDb250cm9sIGZyb20gXCIuLy4uLy4uL1JhdGluZ0NvbnRyb2xcIjtcclxuaW1wb3J0ICogYXMgQ29uZmlndXJhdGlvbiBmcm9tIFwiLi8uLi8uLi8uLi9Db25maWd1cmF0aW9uL0NvbmZpZ3VyYXRpb25cIjtcclxuaW1wb3J0IHsgRmVlZGJhY2tUeXBlIH0gZnJvbSBcIi4vLi4vLi4vLi4vQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IEF0dHJpYnV0ZU5hbWUsIEF0dHJpYnV0ZVZhbHVlLCBDbGFzc2VzLCBJRHMsIFRhZ3MsIFVybHMgfSBmcm9tIFwiLi8uLi8uLi9VaUNvbnN0YW50c1wiO1xyXG5cclxuLyoqXHJcbiAqIEdlbmVyYXRlIHRoZSBtYXJrdXBcclxuICogQHJldHVybnMgdGhlIG1hcmt1cCBhcyBqc29uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGUoKTogSVVJQXNKc29uIHtcclxuXHRsZXQgY2F0ZWdvcmllcyA9IENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0SW5BcHBGZWVkYmFja0xhdW5jaE9wdGlvbnMoKS5jYXRlZ29yaWVzO1xyXG5cclxuXHRsZXQgZm9ybVNjaGVtYSA9IHtcclxuXHRcdGNoaWxkcmVuOiBbXHJcblx0XHRcdHtcclxuXHRcdFx0XHRhdHRyaWJ1dGVzOiBbeyBuYW1lOiBBdHRyaWJ1dGVOYW1lLkZvciwgdmFsdWU6IElEcy5TaW5nbGVGb3JtQ29tbWVudCB9XSxcclxuXHRcdFx0XHRjbGFzc2VzOiBbXHJcblx0XHRcdFx0XHRDbGFzc2VzLkZvbnRTdWJ0aXRsZSxcclxuXHRcdFx0XHRcdENsYXNzZXMuVGV4dEFsaWduTGVmdCxcclxuXHRcdFx0XHRcdENsYXNzZXMuRm9ybVF1ZXN0aW9uTWlkZGxlVGV4dCxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdGlkOiBJRHMuU2luZ2xlRm9ybVF1ZXN0aW9uTWlkZGxlVGV4dCxcclxuXHRcdFx0XHRpbm5lclRleHQ6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5TaW5nbGVGb3JtLlRpdGxlLFxyXG5cdFx0XHRcdHRhZzogVGFncy5MYWJlbCxcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGF0dHJpYnV0ZXM6IFt7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuSWQsIHZhbHVlOiBJRHMuU2luZ2xlRm9ybUNhdGVnb3JpZXNEcm9wZG93biB9XSxcclxuXHRcdFx0XHRicnM6IGNhdGVnb3JpZXMuc2hvdyxcclxuXHRcdFx0XHRjaGlsZHJlbjogQ2F0ZWdvcmllc0Ryb3Bkb3duLmdlbmVyYXRlKGNhdGVnb3JpZXMgPyBjYXRlZ29yaWVzLmN1c3RvbUNhdGVnb3JpZXMgOiBudWxsKSxcclxuXHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb250U3ViVGV4dCwgQ2xhc3Nlcy5Gb3JtQ2F0ZWdvcmllc0Ryb3Bkb3duLCBDbGFzc2VzLlRleHRJbnB1dF0sXHJcblx0XHRcdFx0dGFnOiBUYWdzLlNlbGVjdCxcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGF0dHJpYnV0ZXM6IFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0bmFtZTogQXR0cmlidXRlTmFtZS5QbGFjZWhvbGRlcixcclxuXHRcdFx0XHRcdFx0dmFsdWU6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Gb3JtLkNvbW1lbnRQbGFjZWhvbGRlcixcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuTWF4TGVuZ3RoLFxyXG5cdFx0XHRcdFx0XHR2YWx1ZTogQXR0cmlidXRlVmFsdWUuVGV4dEFyZWFNYXhMZW5ndGgsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9udFN1YlRleHQsIENsYXNzZXMuRm9ybUNvbW1lbnQsIENsYXNzZXMuVGV4dElucHV0XSxcclxuXHRcdFx0XHRpZDogSURzLlNpbmdsZUZvcm1Db21tZW50LFxyXG5cdFx0XHRcdHRhZzogVGFncy5UZXh0QXJlYSxcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGJyczogZmFsc2UsIC8vIHJhdGluZ3MgYXJlIGRpc2FibGVkIGZvciBub3dcclxuXHRcdFx0XHRjaGlsZHJlbjogW1xyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRhdHRyaWJ1dGVzOiBbeyBuYW1lOiBBdHRyaWJ1dGVOYW1lLkZvciwgdmFsdWU6IElEcy5TaW5nbGVGb3JtUmF0aW5nIH1dLFxyXG5cdFx0XHRcdFx0XHRjbGFzc2VzOiBbXHJcblx0XHRcdFx0XHRcdFx0Q2xhc3Nlcy5Gb250U3ViVGV4dCxcclxuXHRcdFx0XHRcdFx0XHRDbGFzc2VzLlRleHRBbGlnbkxlZnQsXHJcblx0XHRcdFx0XHRcdFx0Q2xhc3Nlcy5Gb3JtUmF0aW5nTGFiZWwsXHJcblx0XHRcdFx0XHRcdF0sXHJcblx0XHRcdFx0XHRcdGlubmVyVGV4dDogVUlTdHJpbmdzLmdldFVJU3RyaW5ncygpLkZvcm0uUmF0aW5nTGFiZWwsXHJcblx0XHRcdFx0XHRcdHRhZzogVGFncy5MYWJlbCxcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRSYXRpbmdDb250cm9sLmdlbmVyYXRlKElEcy5TaW5nbGVGb3JtUmF0aW5nKSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLkZvcm1SYXRpbmdDb250YWluZXJdLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0YnJzOiBDb25maWd1cmF0aW9uLmdldCgpLmdldEluQXBwRmVlZGJhY2tJbml0T3B0aW9ucygpLnNob3dFbWFpbEFkZHJlc3MsXHJcblx0XHRcdFx0Y2hpbGRyZW46IFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczogW1xyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuVHlwZSxcclxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBBdHRyaWJ1dGVWYWx1ZS5DaGVja2JveCxcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6IENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKS51c2VyRW1haWxDb25zZW50RGVmYXVsdFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ/IEF0dHJpYnV0ZVZhbHVlLkNoZWNrZWRcclxuXHRcdFx0XHRcdFx0XHRcdFx0OiBBdHRyaWJ1dGVWYWx1ZS5VbmNoZWNrZWQsXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogXCJcIixcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRdLFxyXG5cdFx0XHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb3JtRW1haWxDaGVja0JveCwgQ2xhc3Nlcy5DaGVja0JveF0sXHJcblx0XHRcdFx0XHRcdGlkOiBJRHMuRW1haWxDaGVja0JveCxcclxuXHRcdFx0XHRcdFx0dGFnOiBUYWdzLklucHV0LFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczogW3sgbmFtZTogQXR0cmlidXRlTmFtZS5Gb3IsIHZhbHVlOiBJRHMuRW1haWxDaGVja0JveCB9XSxcclxuXHRcdFx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9udFN1YlRleHQsIENsYXNzZXMuVGV4dEFsaWduTGVmdCwgQ2xhc3Nlcy5Gb3JtRW1haWxMYWJlbF0sXHJcblx0XHRcdFx0XHRcdGlubmVyVGV4dDogVUlTdHJpbmdzLmdldFVJU3RyaW5ncygpLkZvcm0uRW1haWxDaGVja0JveExhYmVsLFxyXG5cdFx0XHRcdFx0XHR0YWc6IFRhZ3MuTGFiZWwsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRhdHRyaWJ1dGVzOiBbXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogQXR0cmlidXRlTmFtZS5UeXBlLFxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IEF0dHJpYnV0ZVZhbHVlLlRleHQsXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLlBsYWNlaG9sZGVyLFxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Gb3JtLkVtYWlsUGxhY2Vob2xkZXIsXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLkFyaWFMYWJlbCxcclxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuRm9ybS5FbWFpbFBsYWNlaG9sZGVyLFxyXG5cdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogQXR0cmlidXRlTmFtZS5OYW1lLFxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IElEcy5TaW5nbGVGb3JtRW1haWxJbnB1dCxcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuTWF4TGVuZ3RoLFxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IEF0dHJpYnV0ZVZhbHVlLlRleHRBcmVhTWF4TGVuZ3RoLFxyXG5cdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogQXR0cmlidXRlTmFtZS5WYWx1ZSxcclxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRDb25maWd1cmF0aW9uLmdldCgpLmdldEluQXBwRmVlZGJhY2tJbml0T3B0aW9ucygpLnVzZXJFbWFpbFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ/IENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0SW5BcHBGZWVkYmFja0luaXRPcHRpb25zKCkudXNlckVtYWlsXHJcblx0XHRcdFx0XHRcdFx0XHRcdDogXCJcIixcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRdLFxyXG5cdFx0XHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb250U3ViVGV4dCwgQ2xhc3Nlcy5Gb3JtRW1haWxJbnB1dCwgQ2xhc3Nlcy5UZXh0SW5wdXRdLFxyXG5cdFx0XHRcdFx0XHRpZDogSURzLlNpbmdsZUZvcm1FbWFpbElucHV0LFxyXG5cdFx0XHRcdFx0XHR0YWc6IFRhZ3MuSW5wdXQsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9ybUVtYWlsQ29udGFpbmVyXSxcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGNoaWxkcmVuOiBbXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IFtcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLlR5cGUsXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogQXR0cmlidXRlVmFsdWUuQ2hlY2tib3gsXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLlZhbHVlLFxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IEF0dHJpYnV0ZVZhbHVlLlVuY2hlY2tlZCxcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRdLFxyXG5cdFx0XHRcdFx0XHRicnM6IENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0SW5BcHBGZWVkYmFja0luaXRPcHRpb25zKCkuc2NyZWVuc2hvdCxcclxuXHRcdFx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9ybVNjcmVlbnNob3RDaGVja2JveCwgQ2xhc3Nlcy5DaGVja0JveF0sXHJcblx0XHRcdFx0XHRcdGlkOiBJRHMuU2luZ2xlRm9ybVNjcmVlbnNob3RDaGVja2JveCxcclxuXHRcdFx0XHRcdFx0dGFnOiBUYWdzLklucHV0LFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczogW3sgbmFtZTogQXR0cmlidXRlTmFtZS5Gb3IsIHZhbHVlOiBJRHMuU2luZ2xlRm9ybVNjcmVlbnNob3RDaGVja2JveCB9XSxcclxuXHRcdFx0XHRcdFx0YnJzOiBDb25maWd1cmF0aW9uLmdldCgpLmdldEluQXBwRmVlZGJhY2tJbml0T3B0aW9ucygpLnNjcmVlbnNob3QsXHJcblx0XHRcdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLkZvbnRUZXh0LCBDbGFzc2VzLlRleHRBbGlnbkxlZnQsIENsYXNzZXMuRm9ybVNjcmVlbnNob3RMYWJlbF0sXHJcblx0XHRcdFx0XHRcdGlubmVyVGV4dDogVUlTdHJpbmdzLmdldFVJU3RyaW5ncygpLkZvcm0uU2NyZWVuc2hvdExhYmVsLFxyXG5cdFx0XHRcdFx0XHR0YWc6IFRhZ3MuTGFiZWwsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRhdHRyaWJ1dGVzOiBbXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogQXR0cmlidXRlTmFtZS5QcmV2aWV3LFxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IEF0dHJpYnV0ZVZhbHVlLlNjcmVlbnNob3RQcmV2aWV3LFxyXG5cdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdF0sXHJcblx0XHRcdFx0XHRcdGJyczogQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRJbkFwcEZlZWRiYWNrSW5pdE9wdGlvbnMoKS5zY3JlZW5zaG90LFxyXG5cdFx0XHRcdFx0XHRpZDogSURzLlNpbmdsZUZvcm1TY3JlZW5zaG90UHJldmlldyxcclxuXHRcdFx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9ybVNjcmVlbnNob3RQcmV2aWV3XSxcclxuXHRcdFx0XHRcdFx0dGFnOiBUYWdzLkltZyxcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XSxcclxuXHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb3JtU2NyZWVuc2hvdENvbnRhaW5lcl0sXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRjaGlsZHJlbjpcclxuXHRcdFx0XHRbXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLkZvbnRTdWJTdWJUZXh0LCBDbGFzc2VzLlRleHRBbGlnbkxlZnRdLFxyXG5cdFx0XHRcdFx0XHRpbm5lclRleHQ6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Gb3JtLlByaXZhY3lMYWJlbCxcclxuXHRcdFx0XHRcdFx0dGFnOiBUYWdzLkxhYmVsLFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9udFN1YlN1YlRleHQsIENsYXNzZXMuVGV4dEFsaWduTGVmdF0sXHJcblx0XHRcdFx0XHRcdGlubmVyVGV4dDogQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRDb21tb25Jbml0T3B0aW9ucygpLmlzQ29tbWVyY2lhbEhvc3RcclxuXHRcdFx0XHRcdFx0PyBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuRm9ybS5Qcml2YWN5Q29uc2VudCArIFwiIFwiIDogXCJcIixcclxuXHRcdFx0XHRcdFx0dGFnOiBUYWdzLkxhYmVsLFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczogW1xyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuSFJlZixcclxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBVcmxzLlByaXZhY3lTdGF0ZW1lbnRMaW5rLFxyXG5cdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogQXR0cmlidXRlTmFtZS5UYXJnZXQsXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogQXR0cmlidXRlVmFsdWUuQmxhbmtXaW5kb3csXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLlJlbCxcclxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBBdHRyaWJ1dGVWYWx1ZS5Ob1JlZmVycmVyLFxyXG5cdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdF0sXHJcblx0XHRcdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLkxpbmtdLFxyXG5cdFx0XHRcdFx0XHRpZDogSURzLlByaXZhY3lTdGF0ZW1lbnRMaW5rLFxyXG5cdFx0XHRcdFx0XHRpbm5lclRleHQ6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Qcml2YWN5U3RhdGVtZW50LFxyXG5cdFx0XHRcdFx0XHR0YWc6IFRhZ3MuQW5jaG9yLFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLkZvbnRTdWJTdWJUZXh0LCBDbGFzc2VzLlRleHRBbGlnbkxlZnQsIENsYXNzZXMuUHJpdmFjeVN0YXRlbWVudExpbmtEaXZdLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Y2hpbGRyZW46IFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczogW1xyXG5cdFx0XHRcdFx0XHRcdHsgbmFtZTogQXR0cmlidXRlTmFtZS5UeXBlLCB2YWx1ZTogQXR0cmlidXRlVmFsdWUuQnV0dG9ufSxcclxuXHRcdFx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuQXJpYUxhYmVsLCB2YWx1ZTogVUlTdHJpbmdzLmdldFVJU3RyaW5ncygpLkZvcm0uQ2FuY2VsIH0sXHJcblx0XHRcdFx0XHRcdF0sXHJcblx0XHRcdFx0XHRcdGNsYXNzZXM6IFtcclxuXHRcdFx0XHRcdFx0XHRDbGFzc2VzLkNhbmNlbEJ1dHRvbixcclxuXHRcdFx0XHRcdFx0XSxcclxuXHRcdFx0XHRcdFx0aWQ6IElEcy5TaW5nbGVGb3JtQ2FuY2VsQnV0dG9uLFxyXG5cdFx0XHRcdFx0XHRpbm5lclRleHQ6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Gb3JtLkNhbmNlbCxcclxuXHRcdFx0XHRcdFx0dGFnOiBUYWdzLkJ1dHRvbixcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLlN1Ym1pdEJ1dHRvbl0sXHJcblx0XHRcdFx0XHRcdGlkOiBJRHMuU2luZ2xlRm9ybVN1Ym1pdEJ1dHRvbixcclxuXHRcdFx0XHRcdFx0aW5uZXJUZXh0OiBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuRm9ybS5TdWJtaXQsXHJcblx0XHRcdFx0XHRcdHRhZzogVGFncy5CdXR0b24sXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5TcGlubmVyLCBDbGFzc2VzLkhpZGRlbl0sXHJcblx0XHRcdFx0XHRcdGlkOiBJRHMuU2luZ2xlRm9ybVN1Ym1pdEJ1dHRvblNwaW5uZXIsXHJcblx0XHRcdFx0XHRcdHRhZzogVGFncy5EaXYsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9ybVN1Ym1pdEJ1dHRvbkNvbnRhaW5lcl0sXHJcblx0XHRcdH0sXHJcblx0XHRdLFxyXG5cdFx0aWQ6IGNvbnRhaW5lcklkLFxyXG5cdH07XHJcblx0cmV0dXJuIGZvcm1TY2hlbWE7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgaWQgZm9yIHRoZSBjb250YWluZXIuIFRoaXMgaXMgdGhlIGlkIG9mIHRoZSB0b3AtbW9zdCBlbGVtZW50IGFuZCBzaG91bGRcclxuICogYmUgdW5pcXVlIHRvIGVhY2ggZm9ybVxyXG4gKi9cclxuZXhwb3J0IGxldCBjb250YWluZXJJZDogc3RyaW5nID0gSURzLlNpbmdsZUZvcm1Db250YWluZXI7XHJcblxyXG4vKipcclxuICogRm9ybXMgbWF5IGJlIHVzZWQgZm9yIGRpZmZlcmVudCBmZWVkYmFjayB0eXBlcy4gVGhpcyBtZXRob2QgZXhlY3V0ZXMgZm9ybVxyXG4gKiBzcGVjaWZpYyBsb2dpYyB3aGVuIHRoZSBmZWVkYmFjayB0eXBlIGlzIHNlbGVjdGVkXHJcbiAqIEBwYXJhbSBmZWVkYmFja1R5cGUgZmVlZGJhY2sgdHlwZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIG9uU2VsZWN0KGZlZWRiYWNrVHlwZTogRmVlZGJhY2tUeXBlKTogdm9pZCB7XHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoSURzLlNpbmdsZUZvcm1Db21tZW50KS5mb2N1cygpO1xyXG59XHJcblxyXG4vKipcclxuICogRm9ybSB0ZW1wbGF0ZSB0eXBlXHJcbiAqL1xyXG5leHBvcnQgbGV0IHR5cGU6IEZvcm1UZW1wbGF0ZVR5cGUgPSBGb3JtVGVtcGxhdGVUeXBlLlNpbmdsZTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/UI/BellyBand/FormTemplates/SingleFormTemplate.ts\n')},"./scripts/app/UI/BellyBand/FormTemplates/UserVoiceFormTemplate.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generate", function() { return generate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "containerId", function() { return containerId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onSelect", function() { return onSelect; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "type", function() { return type; });\n/* harmony import */ var _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../../../UIStrings/UIStrings */ "./scripts/app/UIStrings/UIStrings.ts");\n/* harmony import */ var _FormTemplateType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FormTemplateType */ "./scripts/app/UI/BellyBand/FormTemplates/FormTemplateType.ts");\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../../UiConstants */ "./scripts/app/UI/UiConstants.ts");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../../../Configuration/Configuration */ "./scripts/app/Configuration/Configuration.ts");\n/**\r\n * UserVoiceFormTemplate\r\n *\r\n * A form template for directing to user voice.\r\n */\r\n\r\n\r\n\r\n\r\n/**\r\n * Generate the markup\r\n * @returns the markup as json\r\n */\r\nfunction generate() {\r\n    var initOptions = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_3__["get"]().getInAppFeedbackInitOptions().userVoice;\r\n    var formSchema = {\r\n        children: [\r\n            {\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].FontSubtitle, _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].TextAlignLeft,\r\n                    _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].FormQuestionMiddleText],\r\n                innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().UserVoiceForm.Title,\r\n            },\r\n            {\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].FontText, _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].TextAlignLeft,\r\n                    _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].FormMiddleText],\r\n                innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().UserVoiceForm.Text,\r\n            },\r\n            {\r\n                children: [\r\n                    {\r\n                        children: [\r\n                            {\r\n                                attributes: [\r\n                                    {\r\n                                        name: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeName"].Source,\r\n                                        value: initOptions.url,\r\n                                    },\r\n                                ],\r\n                                classes: [\r\n                                    _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].SubmitButton,\r\n                                ],\r\n                                id: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["IDs"].UserVoiceFormGoButton,\r\n                                innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().UserVoiceForm.Button,\r\n                                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Tags"].Button,\r\n                            },\r\n                        ],\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].FormSubmitButtonContainer],\r\n                    },\r\n                ],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].FormBottomContainer],\r\n            },\r\n        ],\r\n        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].Hidden, _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].MarginLeft60px],\r\n        id: containerId,\r\n    };\r\n    return formSchema;\r\n}\r\n/**\r\n * The id for the container. This is the id of the top-most element and should\r\n * be unique to each form\r\n */\r\nvar containerId = _UiConstants__WEBPACK_IMPORTED_MODULE_2__["IDs"].UserVoiceFormContainer;\r\n/**\r\n * Forms may be used for different feedback types. This method executes form\r\n * specific logic when the feedback type is selected\r\n * @param feedbackType feedback type\r\n */\r\nfunction onSelect(feedbackType) {\r\n    document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_2__["IDs"].UserVoiceFormGoButton).focus();\r\n}\r\n/**\r\n * Form template type\r\n */\r\nvar type = _FormTemplateType__WEBPACK_IMPORTED_MODULE_1__["FormTemplateType"].UserVoice;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9CZWxseUJhbmQvRm9ybVRlbXBsYXRlcy9Vc2VyVm9pY2VGb3JtVGVtcGxhdGUudHM/ODAzNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztHQUlHO0FBRXlEO0FBQ047QUFHa0I7QUFDQTtBQU94RTs7O0dBR0c7QUFDSSxTQUFTLFFBQVE7SUFDdkIsSUFBSSxXQUFXLEdBQTBCLGdFQUFpQixFQUFFLENBQUMsMkJBQTJCLEVBQUUsQ0FBQyxTQUFTLENBQUM7SUFFckcsSUFBSSxVQUFVLEdBQUc7UUFDaEIsUUFBUSxFQUFFO1lBQ1Q7Z0JBQ0MsT0FBTyxFQUFFLENBQUMsb0RBQU8sQ0FBQyxZQUFZLEVBQUUsb0RBQU8sQ0FBQyxhQUFhO29CQUNwRCxvREFBTyxDQUFDLHNCQUFzQixDQUFDO2dCQUNoQyxTQUFTLEVBQUUsaUVBQXNCLEVBQUUsQ0FBQyxhQUFhLENBQUMsS0FBSzthQUN2RDtZQUNEO2dCQUNDLE9BQU8sRUFBRSxDQUFDLG9EQUFPLENBQUMsUUFBUSxFQUFFLG9EQUFPLENBQUMsYUFBYTtvQkFDaEQsb0RBQU8sQ0FBQyxjQUFjLENBQUM7Z0JBQ3hCLFNBQVMsRUFBRSxpRUFBc0IsRUFBRSxDQUFDLGFBQWEsQ0FBQyxJQUFJO2FBQ3REO1lBQ0Q7Z0JBQ0MsUUFBUSxFQUFFO29CQUNUO3dCQUNDLFFBQVEsRUFBRTs0QkFDVDtnQ0FDQyxVQUFVLEVBQUU7b0NBQ1g7d0NBQ0MsSUFBSSxFQUFFLDBEQUFhLENBQUMsTUFBTTt3Q0FDMUIsS0FBSyxFQUFFLFdBQVcsQ0FBQyxHQUFHO3FDQUN0QjtpQ0FDRDtnQ0FDRCxPQUFPLEVBQUU7b0NBQ1Isb0RBQU8sQ0FBQyxZQUFZO2lDQUNwQjtnQ0FDRCxFQUFFLEVBQUUsZ0RBQUcsQ0FBQyxxQkFBcUI7Z0NBQzdCLFNBQVMsRUFBRSxpRUFBc0IsRUFBRSxDQUFDLGFBQWEsQ0FBQyxNQUFNO2dDQUN4RCxHQUFHLEVBQUUsaURBQUksQ0FBQyxNQUFNOzZCQUNoQjt5QkFDRDt3QkFDRCxPQUFPLEVBQUUsQ0FBQyxvREFBTyxDQUFDLHlCQUF5QixDQUFDO3FCQUM1QztpQkFDRDtnQkFDRCxPQUFPLEVBQUUsQ0FBQyxvREFBTyxDQUFDLG1CQUFtQixDQUFDO2FBQ3RDO1NBQ0Q7UUFDRCxPQUFPLEVBQUUsQ0FBQyxvREFBTyxDQUFDLE1BQU0sRUFBRSxvREFBTyxDQUFDLGNBQWMsQ0FBQztRQUNqRCxFQUFFLEVBQUUsV0FBVztLQUNmLENBQUM7SUFDRixPQUFPLFVBQVUsQ0FBQztBQUNuQixDQUFDO0FBRUQ7OztHQUdHO0FBQ0ksSUFBSSxXQUFXLEdBQVcsZ0RBQUcsQ0FBQyxzQkFBc0IsQ0FBQztBQUU1RDs7OztHQUlHO0FBQ0ksU0FBUyxRQUFRLENBQUMsWUFBMEI7SUFDbEQsUUFBUSxDQUFDLGNBQWMsQ0FBQyxnREFBRyxDQUFDLHFCQUFxQixDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7QUFDNUQsQ0FBQztBQUVEOztHQUVHO0FBQ0ksSUFBSSxJQUFJLEdBQXFCLGtFQUFnQixDQUFDLFNBQVMsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1VJL0JlbGx5QmFuZC9Gb3JtVGVtcGxhdGVzL1VzZXJWb2ljZUZvcm1UZW1wbGF0ZS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBVc2VyVm9pY2VGb3JtVGVtcGxhdGVcclxuICpcclxuICogQSBmb3JtIHRlbXBsYXRlIGZvciBkaXJlY3RpbmcgdG8gdXNlciB2b2ljZS5cclxuICovXHJcblxyXG5pbXBvcnQgKiBhcyBVSVN0cmluZ3MgZnJvbSBcIi4vLi4vLi4vLi4vVUlTdHJpbmdzL1VJU3RyaW5nc1wiO1xyXG5pbXBvcnQgeyBGb3JtVGVtcGxhdGVUeXBlIH0gZnJvbSBcIi4vRm9ybVRlbXBsYXRlVHlwZVwiO1xyXG5pbXBvcnQgeyBJVUlBc0pzb24gfSBmcm9tIFwiLi8uLi8uLi9SZW5kZXJlclwiO1xyXG5pbXBvcnQgeyBGZWVkYmFja1R5cGUgfSBmcm9tIFwiLi8uLi8uLi8uLi9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgQXR0cmlidXRlTmFtZSwgQ2xhc3NlcywgSURzLCBUYWdzIH0gZnJvbSBcIi4vLi4vLi4vVWlDb25zdGFudHNcIjtcclxuaW1wb3J0ICogYXMgQ29uZmlndXJhdGlvbiBmcm9tIFwiLi8uLi8uLi8uLi9Db25maWd1cmF0aW9uL0NvbmZpZ3VyYXRpb25cIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVVzZXJWb2ljZUluaXRPcHRpb25zIHtcclxuXHQvLyBVcmwgZm9yIHVzZXIgdm9pY2UuXHJcblx0dXJsOiBzdHJpbmc7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZSB0aGUgbWFya3VwXHJcbiAqIEByZXR1cm5zIHRoZSBtYXJrdXAgYXMganNvblxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlKCk6IElVSUFzSnNvbiB7XHJcblx0bGV0IGluaXRPcHRpb25zOiBJVXNlclZvaWNlSW5pdE9wdGlvbnMgPSBDb25maWd1cmF0aW9uLmdldCgpLmdldEluQXBwRmVlZGJhY2tJbml0T3B0aW9ucygpLnVzZXJWb2ljZTtcclxuXHJcblx0bGV0IGZvcm1TY2hlbWEgPSB7XHJcblx0XHRjaGlsZHJlbjogW1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9udFN1YnRpdGxlLCBDbGFzc2VzLlRleHRBbGlnbkxlZnQsXHJcblx0XHRcdFx0XHRDbGFzc2VzLkZvcm1RdWVzdGlvbk1pZGRsZVRleHRdLFxyXG5cdFx0XHRcdGlubmVyVGV4dDogVUlTdHJpbmdzLmdldFVJU3RyaW5ncygpLlVzZXJWb2ljZUZvcm0uVGl0bGUsXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb250VGV4dCwgQ2xhc3Nlcy5UZXh0QWxpZ25MZWZ0LFxyXG5cdFx0XHRcdFx0Q2xhc3Nlcy5Gb3JtTWlkZGxlVGV4dF0sXHJcblx0XHRcdFx0aW5uZXJUZXh0OiBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuVXNlclZvaWNlRm9ybS5UZXh0LFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Y2hpbGRyZW46IFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0Y2hpbGRyZW46IFtcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRhdHRyaWJ1dGVzOiBbXHJcblx0XHRcdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLlNvdXJjZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogaW5pdE9wdGlvbnMudXJsLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdFx0XSxcclxuXHRcdFx0XHRcdFx0XHRcdGNsYXNzZXM6IFtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Q2xhc3Nlcy5TdWJtaXRCdXR0b24sXHJcblx0XHRcdFx0XHRcdFx0XHRdLFxyXG5cdFx0XHRcdFx0XHRcdFx0aWQ6IElEcy5Vc2VyVm9pY2VGb3JtR29CdXR0b24sXHJcblx0XHRcdFx0XHRcdFx0XHRpbm5lclRleHQ6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Vc2VyVm9pY2VGb3JtLkJ1dHRvbixcclxuXHRcdFx0XHRcdFx0XHRcdHRhZzogVGFncy5CdXR0b24sXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XSxcclxuXHRcdFx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9ybVN1Ym1pdEJ1dHRvbkNvbnRhaW5lcl0sXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9ybUJvdHRvbUNvbnRhaW5lcl0sXHJcblx0XHRcdH0sXHJcblx0XHRdLFxyXG5cdFx0Y2xhc3NlczogW0NsYXNzZXMuSGlkZGVuLCBDbGFzc2VzLk1hcmdpbkxlZnQ2MHB4XSxcclxuXHRcdGlkOiBjb250YWluZXJJZCxcclxuXHR9O1xyXG5cdHJldHVybiBmb3JtU2NoZW1hO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIGlkIGZvciB0aGUgY29udGFpbmVyLiBUaGlzIGlzIHRoZSBpZCBvZiB0aGUgdG9wLW1vc3QgZWxlbWVudCBhbmQgc2hvdWxkXHJcbiAqIGJlIHVuaXF1ZSB0byBlYWNoIGZvcm1cclxuICovXHJcbmV4cG9ydCBsZXQgY29udGFpbmVySWQ6IHN0cmluZyA9IElEcy5Vc2VyVm9pY2VGb3JtQ29udGFpbmVyO1xyXG5cclxuLyoqXHJcbiAqIEZvcm1zIG1heSBiZSB1c2VkIGZvciBkaWZmZXJlbnQgZmVlZGJhY2sgdHlwZXMuIFRoaXMgbWV0aG9kIGV4ZWN1dGVzIGZvcm1cclxuICogc3BlY2lmaWMgbG9naWMgd2hlbiB0aGUgZmVlZGJhY2sgdHlwZSBpcyBzZWxlY3RlZFxyXG4gKiBAcGFyYW0gZmVlZGJhY2tUeXBlIGZlZWRiYWNrIHR5cGVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBvblNlbGVjdChmZWVkYmFja1R5cGU6IEZlZWRiYWNrVHlwZSk6IHZvaWQge1xyXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKElEcy5Vc2VyVm9pY2VGb3JtR29CdXR0b24pLmZvY3VzKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGb3JtIHRlbXBsYXRlIHR5cGVcclxuICovXHJcbmV4cG9ydCBsZXQgdHlwZTogRm9ybVRlbXBsYXRlVHlwZSA9IEZvcm1UZW1wbGF0ZVR5cGUuVXNlclZvaWNlO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/UI/BellyBand/FormTemplates/UserVoiceFormTemplate.ts\n')},"./scripts/app/UI/BellyBand/Layout.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generateMulti", function() { return generateMulti; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generateSingle", function() { return generateSingle; });\n/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../../Constants */ "./scripts/app/Constants.ts");\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../UiConstants */ "./scripts/app/UI/UiConstants.ts");\n/* harmony import */ var _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../../UIStrings/UIStrings */ "./scripts/app/UIStrings/UIStrings.ts");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../Utils */ "./scripts/app/UI/Utils.ts");\n/* harmony import */ var _FormTemplates_SingleFormTemplate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FormTemplates/SingleFormTemplate */ "./scripts/app/UI/BellyBand/FormTemplates/SingleFormTemplate.ts");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./../../Configuration/Configuration */ "./scripts/app/Configuration/Configuration.ts");\n/**\r\n * Layout.ts\r\n *\r\n * Module for the layout\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Generates the multi layout as a Renderer.IUIAsJson object\r\n *\r\n * The TabFocus.ts has a dependency in the mainContainer. All tabbable elements\r\n * should be placed inside the mainContainer otherwise TabFocus.ts will not\r\n * function as expected.\r\n * @param {[key: number]: IFormTemplate} formTemplates FeedbackType -> FormTemplate mapping\r\n * @param {[key: number]: IPanelTemplate} panelTemplates PanelType -> PanelTemplate mapping\r\n * @returns {Renderer.IUIAsJson} Renderer.IUIAsJson object\r\n */\r\nfunction generateMulti(formTemplates, panelTemplates) {\r\n    var schema = {\r\n        attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeName"].DataHtml2CanvasIgnore, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeValue"].True }],\r\n        children: [\r\n            {\r\n                attributes: [\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeName"].Role, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeValue"].Dialog },\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeName"].AriaModal, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeValue"].True },\r\n                ],\r\n                children: [\r\n                    {\r\n                        attributes: [\r\n                            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeName"].Role, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeValue"].TabList },\r\n                            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeName"].AriaDescribedBy, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].QuestionLeftText },\r\n                            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeName"].AriaLabel, value: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_2__["getUIStrings"]().FeedbackSubtitle },\r\n                            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeName"].AriaOrientation, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeValue"].AriaOrientationValueVertical },\r\n                        ],\r\n                        children: [\r\n                            {\r\n                                // This adds a "first" dummy tabbable div to the mainContainer. It\'s used as a marker\r\n                                // to handle tabs and shift tabs so focus will stay with elements on just the feedback\r\n                                // dialog. Do not relocate this without updating the TabFocus.ts code.\r\n                                attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeName"].TabIndex, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeValue"].Zero }],\r\n                                id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].FirstTabbable,\r\n                            },\r\n                            {\r\n                                attributes: [\r\n                                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeName"].Type, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeValue"].Button },\r\n                                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeName"].AriaLabel, value: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_2__["getUIStrings"]().CloseLabel },\r\n                                ],\r\n                                id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].CloseButton,\r\n                                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_1__["Classes"].CloseButton],\r\n                                // tslint:disable-next-line:max-line-length\r\n                                innerHTML: \'<svg viewBox="4 4 16 16" width="16px" height="16px" focusable="false"><path d="M19,6.41L17.59,5 12,10.59 6.41,5 5,6.41 10.59,12 5,17.59 6.41,19 12,13.41 17.59,19 19,17.59 13.41,12z"/></svg>\',\r\n                                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["Tags"].Button,\r\n                            },\r\n                            {\r\n                                children: [\r\n                                    {\r\n                                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_1__["Classes"].FormWideContainer, _UiConstants__WEBPACK_IMPORTED_MODULE_1__["Classes"].Hidden],\r\n                                        children: generateMultiPanels(panelTemplates),\r\n                                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].LeftPanelContainer,\r\n                                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["Tags"].Div,\r\n                                    },\r\n                                    {\r\n                                        children: [\r\n                                            {\r\n                                                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_1__["Classes"].FontSubtitle, _UiConstants__WEBPACK_IMPORTED_MODULE_1__["Classes"].TextAlignLeft],\r\n                                                id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].QuestionLeftText,\r\n                                                innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_2__["getUIStrings"]().FeedbackSubtitle,\r\n                                            },\r\n                                            {\r\n                                                children: [\r\n                                                    {\r\n                                                        children: generateOverallAnchors(formTemplates),\r\n                                                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].OverallAnchorsContainer,\r\n                                                    },\r\n                                                ],\r\n                                                id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].ColumnSeparatorDiv,\r\n                                            },\r\n                                        ],\r\n                                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_1__["Classes"].FormContainer],\r\n                                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].LeftFormContainer,\r\n                                    },\r\n                                    {\r\n                                        children: generateMultiForms(formTemplates),\r\n                                        classes: [\r\n                                            _UiConstants__WEBPACK_IMPORTED_MODULE_1__["Classes"].FormContainer,\r\n                                            _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__["get"]().getInAppFeedbackInitOptions().transitionEnabled ? _UiConstants__WEBPACK_IMPORTED_MODULE_1__["Classes"].Hidden : _UiConstants__WEBPACK_IMPORTED_MODULE_1__["Classes"].Visible,\r\n                                        ],\r\n                                        attributes: [\r\n                                            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeName"].Role, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeValue"].TabPanel },\r\n                                            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeName"].AriaExpanded, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeValue"].False },\r\n                                        ],\r\n                                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].MiddleFormContainer,\r\n                                    },\r\n                                ],\r\n                                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_1__["Classes"].Hidden],\r\n                                id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].MainContentHolder,\r\n                                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["Tags"].Form,\r\n                            },\r\n                            {\r\n                                // This adds a "last" dummy tabbable div to the mainContainer. It\'s used as a marker\r\n                                // to handle tabs and shift tabs so focus will stay with elements on just the feedback\r\n                                // dialog. Do not relocate this without updating the TabFocus.ts code.\r\n                                attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeName"].TabIndex, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeValue"].Zero }],\r\n                                id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].LastTabbable,\r\n                            },\r\n                        ],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].MainContainer,\r\n                    },\r\n                ],\r\n                classes: [_Utils__WEBPACK_IMPORTED_MODULE_3__["isRightToLeft"]() ? _UiConstants__WEBPACK_IMPORTED_MODULE_1__["Classes"].Rtl : ""],\r\n                id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].OverlayBackground,\r\n            },\r\n        ],\r\n    };\r\n    return schema;\r\n}\r\n/**\r\n * Generates the single layout as a Renderer.IUIAsJson object\r\n *\r\n * The TabFocus.ts has a dependency in the mainContainer. All tabbable elements\r\n * should be placed inside the mainContainer otherwise TabFocus.ts will not\r\n * function as expected.\r\n * @param {[key: number]: IPanelTemplate} panelTemplates PanelType -> PanelTemplate mapping\r\n * @returns {Renderer.IUIAsJson} Renderer.IUIAsJson object\r\n */\r\nfunction generateSingle(panelTemplates) {\r\n    var schema = {\r\n        attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeName"].DataHtml2CanvasIgnore, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeValue"].True }],\r\n        children: [\r\n            {\r\n                children: [\r\n                    {\r\n                        // This adds a "first" dummy tabbable div to the mainContainer. It\'s used as a marker\r\n                        // to handle tabs and shift tabs so focus will stay with elements on just the feedback\r\n                        // dialog. Do not relocate this without updating the TabFocus.ts code.\r\n                        attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeName"].TabIndex, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeValue"].Zero }],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].FirstTabbable,\r\n                    },\r\n                    {\r\n                        attributes: [\r\n                            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeName"].Type, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeValue"].Button },\r\n                            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeName"].AriaLabel, value: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_2__["getUIStrings"]().CloseLabel },\r\n                        ],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].CloseButton,\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_1__["Classes"].CloseButton],\r\n                        // tslint:disable-next-line:max-line-length\r\n                        innerHTML: \'<svg viewBox="4 4 16 16" width="16px" height="16px" focusable="false"><path d="M19,6.41L17.59,5 12,10.59 6.41,5 5,6.41 10.59,12 5,17.59 6.41,19 12,13.41 17.59,19 19,17.59 13.41,12z"/></svg>\',\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["Tags"].Button,\r\n                    },\r\n                    {\r\n                        children: [\r\n                            {\r\n                                children: [_FormTemplates_SingleFormTemplate__WEBPACK_IMPORTED_MODULE_4__["generate"]()],\r\n                                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_1__["Classes"].FormContainer],\r\n                                id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].MiddleFormContainer,\r\n                            },\r\n                        ].concat(generateMultiPanels(panelTemplates)),\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_1__["Classes"].Hidden],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].MainContentHolder,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["Tags"].Form,\r\n                    },\r\n                    {\r\n                        // This adds a "last" dummy tabbable div to the mainContainer. It\'s used as a marker\r\n                        // to handle tabs and shift tabs so focus will stay with elements on just the feedback\r\n                        // dialog. Do not relocate this without updating the TabFocus.ts code.\r\n                        attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeName"].TabIndex, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeValue"].Zero }],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].LastTabbable,\r\n                    },\r\n                ],\r\n                id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].MainContainer,\r\n            },\r\n        ],\r\n        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_1__["Classes"].SingleLayout, _Utils__WEBPACK_IMPORTED_MODULE_3__["isRightToLeft"]() ? _UiConstants__WEBPACK_IMPORTED_MODULE_1__["Classes"].Rtl : ""],\r\n        id: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].OverlayBackground,\r\n    };\r\n    return schema;\r\n}\r\n/**\r\n * Generate Renderer.IUIAsJson objects that holds the different forms that will be used on the bellyband.\r\n * This is used to generate just one form of each one of the templates that are actually going to be used.\r\n * @param {[key: number]: IFormTemplate} formTemplates FeedbackType -> FormTemplate mapping\r\n * @returns {Renderer.IUIAsJson} Renderer.IUIAsJson object\r\n */\r\nfunction generateMultiForms(formTemplates) {\r\n    var wrapper = {\r\n        children: [],\r\n    };\r\n    var pushedContainers = {};\r\n    for (var feedbackType in formTemplates) {\r\n        if (formTemplates.hasOwnProperty(feedbackType)) {\r\n            var notExists = !(formTemplates[feedbackType].containerId in pushedContainers);\r\n            if (notExists) {\r\n                wrapper.children.push(formTemplates[feedbackType].generate());\r\n                pushedContainers[formTemplates[feedbackType].containerId] = true;\r\n            }\r\n        }\r\n    }\r\n    return wrapper.children;\r\n}\r\n/**\r\n * Generate Renderer.IUIAsJson objects that holds the different forms that will be used on the bellyband.\r\n * This is used to generate just one form of each one of the templates that are actually going to be used.\r\n * @param {[key: number]: IFormTemplate} formTemplates FeedbackType -> FormTemplate mapping\r\n * @returns {Renderer.IUIAsJson} Renderer.IUIAsJson object\r\n */\r\nfunction generateMultiPanels(panelTemplates) {\r\n    var wrapper = {\r\n        children: [],\r\n    };\r\n    var pushedContainers = {};\r\n    for (var panelType in panelTemplates) {\r\n        if (panelTemplates.hasOwnProperty(panelType)) {\r\n            var notExists = !(panelTemplates[panelType].containerId in pushedContainers);\r\n            if (notExists) {\r\n                wrapper.children.push(panelTemplates[panelType].generate());\r\n                pushedContainers[panelTemplates[panelType].containerId] = true;\r\n            }\r\n        }\r\n    }\r\n    return wrapper.children;\r\n}\r\n/**\r\n * Generates Renderer.IUIAsJson object that holds the different anchors that will be used on the bellyband.\r\n * @param {[key: number]: IFormTemplate} formTemplates FeedbackType -> FormTemplate mapping\r\n * @returns {Renderer.IUIAsJson} Renderer.IUIAsJson object\r\n */\r\nfunction generateOverallAnchors(formTemplates) {\r\n    var wrapper = {\r\n        children: [],\r\n    };\r\n    if (_Constants__WEBPACK_IMPORTED_MODULE_0__["FeedbackType"].Smile in formTemplates) {\r\n        wrapper.children.push(generateOverallAnchor(_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].OverallSmileAnchor, _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].OverallSmileImage, \r\n        // The svg code for the image\r\n        // tslint:disable-next-line:max-line-length\r\n        \'<svg viewBox="0 0 72 72" width="24px" height="24px" focusable="false"><path d="M36 1C16.7 1 1 16.7 1 36s15.7 35 35 35c19.3 0 35-15.7 35-35S55.3 1 36 1ZM49.3 18.3c2.3 0 4.2 2.7 4.2 6 0 3.3-1.9 6-4.2 6 -2.3 0-4.2-2.7-4.2-6C45.1 21 47 18.3 49.3 18.3ZM22.9 18.3c2.3 0 4.2 2.7 4.2 6 0 3.3-1.9 6-4.2 6 -2.3 0-4.2-2.7-4.2-6C18.7 21 20.6 18.3 22.9 18.3ZM36 58.6c-8.5 0-16-4.1-20.9-10.4l3.5-3.6c3.5 4.5 9.9 7.6 17.4 7.6 7.4 0 13.9-3.1 17.4-7.6l3.6 3.6C52.1 54.4 44.4 58.6 36 58.6Z"/></svg>\', _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].OverallSmileText, _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_2__["getUIStrings"]().SmileForm.Anchor));\r\n    }\r\n    if (_Constants__WEBPACK_IMPORTED_MODULE_0__["FeedbackType"].Frown in formTemplates) {\r\n        wrapper.children.push(generateOverallAnchor(_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].OverallFrownAnchor, _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].OverallFrownImage, \r\n        // The svg code for the image\r\n        // tslint:disable-next-line:max-line-length\r\n        \'<svg viewBox="0 0 72 72" width="24px" height="24px" focusable="false"><path d="M36 1C16.7 1 1 16.7 1 36s15.7 35 35 35c19.3 0 35-15.7 35-35S55.3 1 36 1ZM49.3 18.3c2.3 0 4.2 2.7 4.2 6 0 3.3-1.9 6-4.2 6 -2.3 0-4.2-2.7-4.2-6C45.1 21 47 18.3 49.3 18.3ZM22.9 18.3c2.3 0 4.2 2.7 4.2 6 0 3.3-1.9 6-4.2 6 -2.3 0-4.2-2.7-4.2-6C18.7 21 20.6 18.3 22.9 18.3ZM52.8 57.9c-3.3-4.4-9.6-7.3-16.7-7.3 -7.2 0-13.4 3-16.7 7.3l-3.4-3.4c4.7-6.1 11.9-10 20.1-10 8.2 0 15.5 4 20.2 10L52.8 57.9Z"/></svg>\', _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].OverallFrownText, _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_2__["getUIStrings"]().FrownForm.Anchor));\r\n    }\r\n    if (_Constants__WEBPACK_IMPORTED_MODULE_0__["FeedbackType"].Idea in formTemplates) {\r\n        wrapper.children.push(generateOverallAnchor(_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].OverallIdeaAnchor, _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].OverallIdeaImage, \r\n        // The svg code for the image\r\n        // tslint:disable-next-line:max-line-length\r\n        \'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" focusable="false" viewBox="0,0,2048,2048"><path fill="#FAFAFA" fill-opacity="1.000" d="M 213 1920 v -546 l 275 -649 h 1072 l 275 649 v 546 z" /><path fill="#3A3A38" fill-opacity="1.000" d="M 1877 1365 v 598 h -1706 v -598 l 289 -682 h 288 l -41 41 l 44 44 h -239 l -248 597 h 1520 l -221 -532 l 63 -62 m 166 680 h -1536 v 426 h 1536 z" /><path fill="#FAFAFA" fill-opacity="1.000" d="M 1049 1067 l -342 -343 l 664 -664 l 482 483 l -523 524 z" /><path fill="#797774" fill-opacity="1.000" d="M 1536 649 l -271 -272 l 60 -60 l 272 271 m -211 212 l -272 -272 l 60 -60 l 272 271 m -211 211 l -272 -271 l 61 -61 l 271 272 z" /><path fill="#1E8BCD" fill-opacity="1.000" d="M 989 1067 l -343 -343 l 725 -724 l 543 543 l -524 524 h -121 l 524 -524 l -422 -422 l -604 603 l 343 343 z" /><path fill="#3A3A38" fill-opacity="1.000" d="M 1451 1109 h -854 v -85 h 854 z" /></svg>\', _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].OverallIdeaText, _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_2__["getUIStrings"]().IdeaForm.Anchor));\r\n    }\r\n    if (_Constants__WEBPACK_IMPORTED_MODULE_0__["FeedbackType"].Bug in formTemplates) {\r\n        wrapper.children.push(generateOverallAnchor(_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].OverallBugAnchor, _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].OverallBugImage, \r\n        // The svg code for the image\r\n        // tslint:disable-next-line:max-line-length\r\n        \'<svg viewBox="150 100 1748 1748" width="24px" height="24px" focusable="false"><path d="M1824 1088q0 26-19 45t-45 19h-224q0 171-67 290l208 209q19 19 19 45t-19 45q-18 19-45 19t-45-19l-198-197q-5 5-15 13t-42 28.5-65 36.5-82 29-97 13v-896h-128v896q-51 0-101.5-13.5t-87-33-66-39-43.5-32.5l-15-14-183 207q-20 21-48 21-24 0-43-16-19-18-20.5-44.5t15.5-46.5l202-227q-58-114-58-274h-224q-26 0-45-19t-19-45 19-45 45-19h224v-294l-173-173q-19-19-19-45t19-45 45-19 45 19l173 173h844l173-173q19-19 45-19t45 19 19 45-19 45l-173 173v294h224q26 0 45 19t19 45zm-480-576h-640q0-133 93.5-226.5t226.5-93.5 226.5 93.5 93.5 226.5z"/></svg>\', _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].OverallBugText, _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_2__["getUIStrings"]().BugForm.Anchor));\r\n    }\r\n    return wrapper.children;\r\n}\r\n/**\r\n * Generates a Renderer.IUIAsJson object that holds an anchor that will be used on the bellyband.\r\n * @param overallAnchorID the overall anchor id\r\n * @param overallImageID the image id\r\n * @param imageClass the image class (icon)\r\n * @param overallTextID the id for text box\r\n * @param uiString the string to display\r\n */\r\nfunction generateOverallAnchor(overallAnchorID, overallImageID, svgImage, overallTextID, uiString) {\r\n    return {\r\n        attributes: [\r\n            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeName"].Type, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeValue"].Button },\r\n            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeName"].Role, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeValue"].Tab },\r\n            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeName"].AriaLabel, value: uiString },\r\n            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeName"].AriaSelected, value: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["AttributeValue"].False },\r\n        ],\r\n        children: [\r\n            {\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_1__["Classes"].OverallImage],\r\n                id: overallImageID,\r\n                innerHTML: svgImage,\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["Tags"].Div,\r\n            },\r\n            {\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_1__["Classes"].FontSubtitle, _UiConstants__WEBPACK_IMPORTED_MODULE_1__["Classes"].OverallText],\r\n                id: overallTextID,\r\n                innerText: uiString,\r\n            },\r\n        ],\r\n        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_1__["Classes"].OverallAnchor, _UiConstants__WEBPACK_IMPORTED_MODULE_1__["Classes"].TextAlignLeft],\r\n        id: overallAnchorID,\r\n        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["Tags"].Button,\r\n    };\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9CZWxseUJhbmQvTGF5b3V0LnRzPzQ1NDEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRztBQUc4QztBQUNvQztBQUU1QjtBQUNyQjtBQUNxQztBQUdKO0FBSXJFOzs7Ozs7Ozs7R0FTRztBQUNJLFNBQVMsYUFBYSxDQUM1QixhQUErQyxFQUMvQyxjQUFpRDtJQUVqRCxJQUFJLE1BQU0sR0FBdUI7UUFDaEMsVUFBVSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsMERBQWEsQ0FBQyxxQkFBcUIsRUFBRSxLQUFLLEVBQUUsMkRBQWMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUN2RixRQUFRLEVBQ1I7WUFDQztnQkFDQyxVQUFVLEVBQ1Y7b0JBQ0MsRUFBRSxJQUFJLEVBQUUsMERBQWEsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLDJEQUFjLENBQUMsTUFBTSxFQUFFO29CQUMxRCxFQUFFLElBQUksRUFBRSwwREFBYSxDQUFDLFNBQVMsRUFBRSxLQUFLLEVBQUUsMkRBQWMsQ0FBQyxJQUFJLEVBQUU7aUJBQzdEO2dCQUNELFFBQVEsRUFDUjtvQkFDQzt3QkFDQyxVQUFVLEVBQ1Y7NEJBQ0MsRUFBRSxJQUFJLEVBQUUsMERBQWEsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLDJEQUFjLENBQUMsT0FBTyxFQUFFOzRCQUMzRCxFQUFFLElBQUksRUFBRSwwREFBYSxDQUFDLGVBQWUsRUFBRSxLQUFLLEVBQUUsZ0RBQUcsQ0FBQyxnQkFBZ0IsRUFBRTs0QkFDcEUsRUFBRSxJQUFJLEVBQUUsMERBQWEsQ0FBQyxTQUFTLEVBQUUsS0FBSyxFQUFFLGlFQUFzQixFQUFFLENBQUMsZ0JBQWdCLEVBQUU7NEJBQ25GLEVBQUUsSUFBSSxFQUFFLDBEQUFhLENBQUMsZUFBZSxFQUFFLEtBQUssRUFBRSwyREFBYyxDQUFDLDRCQUE0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QUUsQ0FBQyxvREFBTyxDQUFDLFlBQVksRUFBRSxvREFBTyxDQUFDLFdBQVcsQ0FBQztnQkFDcEQsRUFBRSxFQUFFLGFBQWE7Z0JBQ2pCLFNBQVMsRUFBRSxRQUFRO2FBQ25CO1NBQ0Q7UUFDRCxPQUFPLEVBQUUsQ0FBQyxvREFBTyxDQUFDLGFBQWEsRUFBRSxvREFBTyxDQUFDLGFBQWEsQ0FBQztRQUN2RCxFQUFFLEVBQUUsZUFBZTtRQUNuQixHQUFHLEVBQUUsaURBQUksQ0FBQyxNQUFNO0tBQ2hCLENBQUM7QUFDSCxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvVUkvQmVsbHlCYW5kL0xheW91dC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBMYXlvdXQudHNcclxuICpcclxuICogTW9kdWxlIGZvciB0aGUgbGF5b3V0XHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgSUZvcm1UZW1wbGF0ZSB9IGZyb20gXCIuL0Zvcm1UZW1wbGF0ZXMvSUZvcm1UZW1wbGF0ZVwiO1xyXG5pbXBvcnQgeyBGZWVkYmFja1R5cGUgfSBmcm9tIFwiLi8uLi8uLi9Db25zdGFudHNcIjtcclxuaW1wb3J0IHsgQXR0cmlidXRlTmFtZSwgQXR0cmlidXRlVmFsdWUsIENsYXNzZXMsIElEcywgVGFncyB9IGZyb20gXCIuLy4uL1VpQ29uc3RhbnRzXCI7XHJcbmltcG9ydCAqIGFzIFJlbmRlcmVyIGZyb20gXCIuLy4uL1JlbmRlcmVyXCI7XHJcbmltcG9ydCAqIGFzIFVJU3RyaW5ncyBmcm9tIFwiLi8uLi8uLi9VSVN0cmluZ3MvVUlTdHJpbmdzXCI7XHJcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gXCIuLy4uL1V0aWxzXCI7XHJcbmltcG9ydCAqIGFzIFNpbmdsZUZvcm1UZW1wbGF0ZSBmcm9tIFwiLi9Gb3JtVGVtcGxhdGVzL1NpbmdsZUZvcm1UZW1wbGF0ZVwiO1xyXG5pbXBvcnQgeyBJUGFuZWxUZW1wbGF0ZSB9IGZyb20gXCIuL1BhbmVsVGVtcGxhdGVzL0lQYW5lbFRlbXBsYXRlXCI7XHJcbmltcG9ydCB7IElVSUFzSnNvbiB9IGZyb20gXCIuLy4uL1JlbmRlcmVyXCI7XHJcbmltcG9ydCAqIGFzIENvbmZpZ3VyYXRpb24gZnJvbSBcIi4vLi4vLi4vQ29uZmlndXJhdGlvbi9Db25maWd1cmF0aW9uXCI7XHJcblxyXG5leHBvcnQge0lGb3JtVGVtcGxhdGV9IGZyb20gXCIuL0Zvcm1UZW1wbGF0ZXMvSUZvcm1UZW1wbGF0ZVwiO1xyXG5cclxuLyoqXHJcbiAqIEdlbmVyYXRlcyB0aGUgbXVsdGkgbGF5b3V0IGFzIGEgUmVuZGVyZXIuSVVJQXNKc29uIG9iamVjdFxyXG4gKlxyXG4gKiBUaGUgVGFiRm9jdXMudHMgaGFzIGEgZGVwZW5kZW5jeSBpbiB0aGUgbWFpbkNvbnRhaW5lci4gQWxsIHRhYmJhYmxlIGVsZW1lbnRzXHJcbiAqIHNob3VsZCBiZSBwbGFjZWQgaW5zaWRlIHRoZSBtYWluQ29udGFpbmVyIG90aGVyd2lzZSBUYWJGb2N1cy50cyB3aWxsIG5vdFxyXG4gKiBmdW5jdGlvbiBhcyBleHBlY3RlZC5cclxuICogQHBhcmFtIHtba2V5OiBudW1iZXJdOiBJRm9ybVRlbXBsYXRlfSBmb3JtVGVtcGxhdGVzIEZlZWRiYWNrVHlwZSAtPiBGb3JtVGVtcGxhdGUgbWFwcGluZ1xyXG4gKiBAcGFyYW0ge1trZXk6IG51bWJlcl06IElQYW5lbFRlbXBsYXRlfSBwYW5lbFRlbXBsYXRlcyBQYW5lbFR5cGUgLT4gUGFuZWxUZW1wbGF0ZSBtYXBwaW5nXHJcbiAqIEByZXR1cm5zIHtSZW5kZXJlci5JVUlBc0pzb259IFJlbmRlcmVyLklVSUFzSnNvbiBvYmplY3RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZU11bHRpKFxyXG5cdGZvcm1UZW1wbGF0ZXM6IHsgW2tleTogbnVtYmVyXTogSUZvcm1UZW1wbGF0ZSB9LFxyXG5cdHBhbmVsVGVtcGxhdGVzOiB7IFtrZXk6IG51bWJlcl06IElQYW5lbFRlbXBsYXRlIH1cclxuKTogUmVuZGVyZXIuSVVJQXNKc29uIHtcclxuXHRsZXQgc2NoZW1hOiBSZW5kZXJlci5JVUlBc0pzb24gPSB7XHJcblx0XHRhdHRyaWJ1dGVzOiBbeyBuYW1lOiBBdHRyaWJ1dGVOYW1lLkRhdGFIdG1sMkNhbnZhc0lnbm9yZSwgdmFsdWU6IEF0dHJpYnV0ZVZhbHVlLlRydWUgfV0sXHJcblx0XHRjaGlsZHJlbjpcclxuXHRcdFtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGF0dHJpYnV0ZXM6XHJcblx0XHRcdFx0W1xyXG5cdFx0XHRcdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLlJvbGUsIHZhbHVlOiBBdHRyaWJ1dGVWYWx1ZS5EaWFsb2cgfSxcclxuXHRcdFx0XHRcdHsgbmFtZTogQXR0cmlidXRlTmFtZS5BcmlhTW9kYWwsIHZhbHVlOiBBdHRyaWJ1dGVWYWx1ZS5UcnVlIH0sXHJcblx0XHRcdFx0XSxcclxuXHRcdFx0XHRjaGlsZHJlbjpcclxuXHRcdFx0XHRbXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6XHJcblx0XHRcdFx0XHRcdFtcclxuXHRcdFx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuUm9sZSwgdmFsdWU6IEF0dHJpYnV0ZVZhbHVlLlRhYkxpc3QgfSxcclxuXHRcdFx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuQXJpYURlc2NyaWJlZEJ5LCB2YWx1ZTogSURzLlF1ZXN0aW9uTGVmdFRleHQgfSxcclxuXHRcdFx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuQXJpYUxhYmVsLCB2YWx1ZTogVUlTdHJpbmdzLmdldFVJU3RyaW5ncygpLkZlZWRiYWNrU3VidGl0bGUgfSxcclxuXHRcdFx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuQXJpYU9yaWVudGF0aW9uLCB2YWx1ZTogQXR0cmlidXRlVmFsdWUuQXJpYU9yaWVudGF0aW9uVmFsdWVWZXJ0aWNhbH0sXHJcblx0XHRcdFx0XHRcdF0sXHJcblx0XHRcdFx0XHRcdGNoaWxkcmVuOlxyXG5cdFx0XHRcdFx0XHRbXHJcblxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdC8vIFRoaXMgYWRkcyBhIFwiZmlyc3RcIiBkdW1teSB0YWJiYWJsZSBkaXYgdG8gdGhlIG1haW5Db250YWluZXIuIEl0J3MgdXNlZCBhcyBhIG1hcmtlclxyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gdG8gaGFuZGxlIHRhYnMgYW5kIHNoaWZ0IHRhYnMgc28gZm9jdXMgd2lsbCBzdGF5IHdpdGggZWxlbWVudHMgb24ganVzdCB0aGUgZmVlZGJhY2tcclxuXHRcdFx0XHRcdFx0XHRcdC8vIGRpYWxvZy4gRG8gbm90IHJlbG9jYXRlIHRoaXMgd2l0aG91dCB1cGRhdGluZyB0aGUgVGFiRm9jdXMudHMgY29kZS5cclxuXHRcdFx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IFt7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuVGFiSW5kZXgsIHZhbHVlOiBBdHRyaWJ1dGVWYWx1ZS5aZXJvIH1dLFxyXG5cdFx0XHRcdFx0XHRcdFx0aWQ6IElEcy5GaXJzdFRhYmJhYmxlLFxyXG5cdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0YXR0cmlidXRlczogW1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuVHlwZSwgdmFsdWU6IEF0dHJpYnV0ZVZhbHVlLkJ1dHRvbiB9LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuQXJpYUxhYmVsLCB2YWx1ZTogVUlTdHJpbmdzLmdldFVJU3RyaW5ncygpLkNsb3NlTGFiZWwgfSxcclxuXHRcdFx0XHRcdFx0XHRcdF0sXHJcblx0XHRcdFx0XHRcdFx0XHRpZDogSURzLkNsb3NlQnV0dG9uLFxyXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuQ2xvc2VCdXR0b25dLFxyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxyXG5cdFx0XHRcdFx0XHRcdFx0aW5uZXJIVE1MOiAnPHN2ZyB2aWV3Qm94PVwiNCA0IDE2IDE2XCIgd2lkdGg9XCIxNnB4XCIgaGVpZ2h0PVwiMTZweFwiIGZvY3VzYWJsZT1cImZhbHNlXCI+PHBhdGggZD1cIk0xOSw2LjQxTDE3LjU5LDUgMTIsMTAuNTkgNi40MSw1IDUsNi40MSAxMC41OSwxMiA1LDE3LjU5IDYuNDEsMTkgMTIsMTMuNDEgMTcuNTksMTkgMTksMTcuNTkgMTMuNDEsMTJ6XCIvPjwvc3ZnPicsXHJcblx0XHRcdFx0XHRcdFx0XHR0YWc6IFRhZ3MuQnV0dG9uLFxyXG5cdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0Y2hpbGRyZW46XHJcblx0XHRcdFx0XHRcdFx0XHRbXHJcblx0XHRcdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb3JtV2lkZUNvbnRhaW5lciwgQ2xhc3Nlcy5IaWRkZW5dLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNoaWxkcmVuOiBnZW5lcmF0ZU11bHRpUGFuZWxzKHBhbmVsVGVtcGxhdGVzKSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZDogSURzLkxlZnRQYW5lbENvbnRhaW5lcixcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0YWc6IFRhZ3MuRGl2LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hpbGRyZW46XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0W1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb250U3VidGl0bGUsIENsYXNzZXMuVGV4dEFsaWduTGVmdF0sXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlkOiBJRHMuUXVlc3Rpb25MZWZ0VGV4dCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aW5uZXJUZXh0OiBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuRmVlZGJhY2tTdWJ0aXRsZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNoaWxkcmVuOlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRbXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hpbGRyZW46IGdlbmVyYXRlT3ZlcmFsbEFuY2hvcnMoZm9ybVRlbXBsYXRlcyksXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZDogSURzLk92ZXJhbGxBbmNob3JzQ29udGFpbmVyLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdF0sXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlkOiBJRHMuQ29sdW1uU2VwYXJhdG9yRGl2LFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRdLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLkZvcm1Db250YWluZXJdLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlkOiBJRHMuTGVmdEZvcm1Db250YWluZXIsXHJcblx0XHRcdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaGlsZHJlbjogZ2VuZXJhdGVNdWx0aUZvcm1zKGZvcm1UZW1wbGF0ZXMpLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNsYXNzZXM6XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRbXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdENsYXNzZXMuRm9ybUNvbnRhaW5lcixcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Q29uZmlndXJhdGlvbi5nZXQoKS5nZXRJbkFwcEZlZWRiYWNrSW5pdE9wdGlvbnMoKS50cmFuc2l0aW9uRW5hYmxlZCA/IENsYXNzZXMuSGlkZGVuIDogQ2xhc3Nlcy5WaXNpYmxlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRhdHRyaWJ1dGVzOlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0W1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuUm9sZSwgdmFsdWU6IEF0dHJpYnV0ZVZhbHVlLlRhYlBhbmVsfSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLkFyaWFFeHBhbmRlZCwgdmFsdWU6IEF0dHJpYnV0ZVZhbHVlLkZhbHNlfSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdF0sXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWQ6IElEcy5NaWRkbGVGb3JtQ29udGFpbmVyLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdFx0XSxcclxuXHRcdFx0XHRcdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLkhpZGRlbl0sXHJcblx0XHRcdFx0XHRcdFx0XHRpZDogSURzLk1haW5Db250ZW50SG9sZGVyLFxyXG5cdFx0XHRcdFx0XHRcdFx0dGFnOiBUYWdzLkZvcm0sXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHQvLyBUaGlzIGFkZHMgYSBcImxhc3RcIiBkdW1teSB0YWJiYWJsZSBkaXYgdG8gdGhlIG1haW5Db250YWluZXIuIEl0J3MgdXNlZCBhcyBhIG1hcmtlclxyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gdG8gaGFuZGxlIHRhYnMgYW5kIHNoaWZ0IHRhYnMgc28gZm9jdXMgd2lsbCBzdGF5IHdpdGggZWxlbWVudHMgb24ganVzdCB0aGUgZmVlZGJhY2tcclxuXHRcdFx0XHRcdFx0XHRcdC8vIGRpYWxvZy4gRG8gbm90IHJlbG9jYXRlIHRoaXMgd2l0aG91dCB1cGRhdGluZyB0aGUgVGFiRm9jdXMudHMgY29kZS5cclxuXHRcdFx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IFt7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuVGFiSW5kZXgsIHZhbHVlOiBBdHRyaWJ1dGVWYWx1ZS5aZXJvIH1dLFxyXG5cdFx0XHRcdFx0XHRcdFx0aWQ6IElEcy5MYXN0VGFiYmFibGUsXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XSxcclxuXHRcdFx0XHRcdFx0aWQ6IElEcy5NYWluQ29udGFpbmVyLFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdGNsYXNzZXM6IFtVdGlscy5pc1JpZ2h0VG9MZWZ0KCkgPyBDbGFzc2VzLlJ0bCA6IFwiXCIgXSxcclxuXHRcdFx0XHRpZDogSURzLk92ZXJsYXlCYWNrZ3JvdW5kLFxyXG5cdFx0XHR9LFxyXG5cdFx0XSxcclxuXHR9O1xyXG5cdHJldHVybiBzY2hlbWE7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgdGhlIHNpbmdsZSBsYXlvdXQgYXMgYSBSZW5kZXJlci5JVUlBc0pzb24gb2JqZWN0XHJcbiAqXHJcbiAqIFRoZSBUYWJGb2N1cy50cyBoYXMgYSBkZXBlbmRlbmN5IGluIHRoZSBtYWluQ29udGFpbmVyLiBBbGwgdGFiYmFibGUgZWxlbWVudHNcclxuICogc2hvdWxkIGJlIHBsYWNlZCBpbnNpZGUgdGhlIG1haW5Db250YWluZXIgb3RoZXJ3aXNlIFRhYkZvY3VzLnRzIHdpbGwgbm90XHJcbiAqIGZ1bmN0aW9uIGFzIGV4cGVjdGVkLlxyXG4gKiBAcGFyYW0ge1trZXk6IG51bWJlcl06IElQYW5lbFRlbXBsYXRlfSBwYW5lbFRlbXBsYXRlcyBQYW5lbFR5cGUgLT4gUGFuZWxUZW1wbGF0ZSBtYXBwaW5nXHJcbiAqIEByZXR1cm5zIHtSZW5kZXJlci5JVUlBc0pzb259IFJlbmRlcmVyLklVSUFzSnNvbiBvYmplY3RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVNpbmdsZShwYW5lbFRlbXBsYXRlczogeyBba2V5OiBudW1iZXJdOiBJUGFuZWxUZW1wbGF0ZSB9KTogUmVuZGVyZXIuSVVJQXNKc29uIHtcclxuXHRsZXQgc2NoZW1hOiBSZW5kZXJlci5JVUlBc0pzb24gPSB7XHJcblx0XHRhdHRyaWJ1dGVzOiBbeyBuYW1lOiBBdHRyaWJ1dGVOYW1lLkRhdGFIdG1sMkNhbnZhc0lnbm9yZSwgdmFsdWU6IEF0dHJpYnV0ZVZhbHVlLlRydWUgfV0sXHJcblx0XHRjaGlsZHJlbjpcclxuXHRcdFtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGNoaWxkcmVuOlxyXG5cdFx0XHRcdFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0Ly8gVGhpcyBhZGRzIGEgXCJmaXJzdFwiIGR1bW15IHRhYmJhYmxlIGRpdiB0byB0aGUgbWFpbkNvbnRhaW5lci4gSXQncyB1c2VkIGFzIGEgbWFya2VyXHJcblx0XHRcdFx0XHRcdC8vIHRvIGhhbmRsZSB0YWJzIGFuZCBzaGlmdCB0YWJzIHNvIGZvY3VzIHdpbGwgc3RheSB3aXRoIGVsZW1lbnRzIG9uIGp1c3QgdGhlIGZlZWRiYWNrXHJcblx0XHRcdFx0XHRcdC8vIGRpYWxvZy4gRG8gbm90IHJlbG9jYXRlIHRoaXMgd2l0aG91dCB1cGRhdGluZyB0aGUgVGFiRm9jdXMudHMgY29kZS5cclxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczogW3sgbmFtZTogQXR0cmlidXRlTmFtZS5UYWJJbmRleCwgdmFsdWU6IEF0dHJpYnV0ZVZhbHVlLlplcm8gfV0sXHJcblx0XHRcdFx0XHRcdGlkOiBJRHMuRmlyc3RUYWJiYWJsZSxcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IFtcclxuXHRcdFx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuVHlwZSwgdmFsdWU6IEF0dHJpYnV0ZVZhbHVlLkJ1dHRvbiB9LFxyXG5cdFx0XHRcdFx0XHRcdHsgbmFtZTogQXR0cmlidXRlTmFtZS5BcmlhTGFiZWwsIHZhbHVlOiBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuQ2xvc2VMYWJlbCB9LFxyXG5cdFx0XHRcdFx0XHRdLFxyXG5cdFx0XHRcdFx0XHRpZDogSURzLkNsb3NlQnV0dG9uLFxyXG5cdFx0XHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5DbG9zZUJ1dHRvbl0sXHJcblx0XHRcdFx0XHRcdC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcclxuXHRcdFx0XHRcdFx0aW5uZXJIVE1MOiAnPHN2ZyB2aWV3Qm94PVwiNCA0IDE2IDE2XCIgd2lkdGg9XCIxNnB4XCIgaGVpZ2h0PVwiMTZweFwiIGZvY3VzYWJsZT1cImZhbHNlXCI+PHBhdGggZD1cIk0xOSw2LjQxTDE3LjU5LDUgMTIsMTAuNTkgNi40MSw1IDUsNi40MSAxMC41OSwxMiA1LDE3LjU5IDYuNDEsMTkgMTIsMTMuNDEgMTcuNTksMTkgMTksMTcuNTkgMTMuNDEsMTJ6XCIvPjwvc3ZnPicsXHJcblx0XHRcdFx0XHRcdHRhZzogVGFncy5CdXR0b24sXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRjaGlsZHJlbjpcclxuXHRcdFx0XHRcdFx0W1xyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdGNoaWxkcmVuOiBbU2luZ2xlRm9ybVRlbXBsYXRlLmdlbmVyYXRlKCldLFxyXG5cdFx0XHRcdFx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9ybUNvbnRhaW5lcl0sXHJcblx0XHRcdFx0XHRcdFx0XHRpZDogSURzLk1pZGRsZUZvcm1Db250YWluZXIsXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XS5jb25jYXQoKGdlbmVyYXRlTXVsdGlQYW5lbHMocGFuZWxUZW1wbGF0ZXMpIGFzXHJcblx0XHRcdFx0XHRcdFx0Q29uY2F0QXJyYXk8eyBjaGlsZHJlbjogSVVJQXNKc29uW10sIGNsYXNzZXM6IHN0cmluZ1tdLCBpZDogc3RyaW5nIH0+KSksXHJcblx0XHRcdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLkhpZGRlbl0sXHJcblx0XHRcdFx0XHRcdGlkOiBJRHMuTWFpbkNvbnRlbnRIb2xkZXIsXHJcblx0XHRcdFx0XHRcdHRhZzogVGFncy5Gb3JtLFxyXG5cdFx0XHRcdFx0fSxcclxuXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdC8vIFRoaXMgYWRkcyBhIFwibGFzdFwiIGR1bW15IHRhYmJhYmxlIGRpdiB0byB0aGUgbWFpbkNvbnRhaW5lci4gSXQncyB1c2VkIGFzIGEgbWFya2VyXHJcblx0XHRcdFx0XHRcdC8vIHRvIGhhbmRsZSB0YWJzIGFuZCBzaGlmdCB0YWJzIHNvIGZvY3VzIHdpbGwgc3RheSB3aXRoIGVsZW1lbnRzIG9uIGp1c3QgdGhlIGZlZWRiYWNrXHJcblx0XHRcdFx0XHRcdC8vIGRpYWxvZy4gRG8gbm90IHJlbG9jYXRlIHRoaXMgd2l0aG91dCB1cGRhdGluZyB0aGUgVGFiRm9jdXMudHMgY29kZS5cclxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczogW3sgbmFtZTogQXR0cmlidXRlTmFtZS5UYWJJbmRleCwgdmFsdWU6IEF0dHJpYnV0ZVZhbHVlLlplcm8gfV0sXHJcblx0XHRcdFx0XHRcdGlkOiBJRHMuTGFzdFRhYmJhYmxlLFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdGlkOiBJRHMuTWFpbkNvbnRhaW5lcixcclxuXHRcdFx0fSxcclxuXHRcdF0sXHJcblx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5TaW5nbGVMYXlvdXQsIFV0aWxzLmlzUmlnaHRUb0xlZnQoKSA/IENsYXNzZXMuUnRsIDogXCJcIiBdLFxyXG5cdFx0aWQ6IElEcy5PdmVybGF5QmFja2dyb3VuZCxcclxuXHR9O1xyXG5cdHJldHVybiBzY2hlbWE7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZSBSZW5kZXJlci5JVUlBc0pzb24gb2JqZWN0cyB0aGF0IGhvbGRzIHRoZSBkaWZmZXJlbnQgZm9ybXMgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIGJlbGx5YmFuZC5cclxuICogVGhpcyBpcyB1c2VkIHRvIGdlbmVyYXRlIGp1c3Qgb25lIGZvcm0gb2YgZWFjaCBvbmUgb2YgdGhlIHRlbXBsYXRlcyB0aGF0IGFyZSBhY3R1YWxseSBnb2luZyB0byBiZSB1c2VkLlxyXG4gKiBAcGFyYW0ge1trZXk6IG51bWJlcl06IElGb3JtVGVtcGxhdGV9IGZvcm1UZW1wbGF0ZXMgRmVlZGJhY2tUeXBlIC0+IEZvcm1UZW1wbGF0ZSBtYXBwaW5nXHJcbiAqIEByZXR1cm5zIHtSZW5kZXJlci5JVUlBc0pzb259IFJlbmRlcmVyLklVSUFzSnNvbiBvYmplY3RcclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlTXVsdGlGb3Jtcyhmb3JtVGVtcGxhdGVzOiB7IFtrZXk6IG51bWJlcl06IElGb3JtVGVtcGxhdGUgfSk6IFJlbmRlcmVyLklVSUFzSnNvbltdIHtcclxuXHRsZXQgd3JhcHBlcjogUmVuZGVyZXIuSVVJQXNKc29uID0ge1xyXG5cdFx0Y2hpbGRyZW46IFtdLFxyXG5cdH07XHJcblxyXG5cdGxldCBwdXNoZWRDb250YWluZXJzOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSA9IHt9O1xyXG5cclxuXHRmb3IgKGxldCBmZWVkYmFja1R5cGUgaW4gZm9ybVRlbXBsYXRlcykge1xyXG5cdFx0aWYgKGZvcm1UZW1wbGF0ZXMuaGFzT3duUHJvcGVydHkoZmVlZGJhY2tUeXBlKSkge1xyXG5cdFx0XHRsZXQgbm90RXhpc3RzOiBib29sZWFuID0gIShmb3JtVGVtcGxhdGVzW2ZlZWRiYWNrVHlwZV0uY29udGFpbmVySWQgaW4gcHVzaGVkQ29udGFpbmVycyk7XHJcblx0XHRcdGlmIChub3RFeGlzdHMpIHtcclxuXHRcdFx0XHR3cmFwcGVyLmNoaWxkcmVuLnB1c2goZm9ybVRlbXBsYXRlc1tmZWVkYmFja1R5cGVdLmdlbmVyYXRlKCkpO1xyXG5cdFx0XHRcdHB1c2hlZENvbnRhaW5lcnNbZm9ybVRlbXBsYXRlc1tmZWVkYmFja1R5cGVdLmNvbnRhaW5lcklkXSA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiB3cmFwcGVyLmNoaWxkcmVuO1xyXG59XHJcblxyXG4vKipcclxuICogR2VuZXJhdGUgUmVuZGVyZXIuSVVJQXNKc29uIG9iamVjdHMgdGhhdCBob2xkcyB0aGUgZGlmZmVyZW50IGZvcm1zIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSBiZWxseWJhbmQuXHJcbiAqIFRoaXMgaXMgdXNlZCB0byBnZW5lcmF0ZSBqdXN0IG9uZSBmb3JtIG9mIGVhY2ggb25lIG9mIHRoZSB0ZW1wbGF0ZXMgdGhhdCBhcmUgYWN0dWFsbHkgZ29pbmcgdG8gYmUgdXNlZC5cclxuICogQHBhcmFtIHtba2V5OiBudW1iZXJdOiBJRm9ybVRlbXBsYXRlfSBmb3JtVGVtcGxhdGVzIEZlZWRiYWNrVHlwZSAtPiBGb3JtVGVtcGxhdGUgbWFwcGluZ1xyXG4gKiBAcmV0dXJucyB7UmVuZGVyZXIuSVVJQXNKc29ufSBSZW5kZXJlci5JVUlBc0pzb24gb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZU11bHRpUGFuZWxzKHBhbmVsVGVtcGxhdGVzOiB7IFtrZXk6IG51bWJlcl06IElQYW5lbFRlbXBsYXRlIH0pOiBSZW5kZXJlci5JVUlBc0pzb25bXSB7XHJcblx0bGV0IHdyYXBwZXI6IFJlbmRlcmVyLklVSUFzSnNvbiA9IHtcclxuXHRcdGNoaWxkcmVuOiBbXSxcclxuXHR9O1xyXG5cclxuXHRsZXQgcHVzaGVkQ29udGFpbmVyczogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0gPSB7fTtcclxuXHJcblx0Zm9yIChsZXQgcGFuZWxUeXBlIGluIHBhbmVsVGVtcGxhdGVzKSB7XHJcblx0XHRpZiAocGFuZWxUZW1wbGF0ZXMuaGFzT3duUHJvcGVydHkocGFuZWxUeXBlKSkge1xyXG5cdFx0XHRsZXQgbm90RXhpc3RzOiBib29sZWFuID0gIShwYW5lbFRlbXBsYXRlc1twYW5lbFR5cGVdLmNvbnRhaW5lcklkIGluIHB1c2hlZENvbnRhaW5lcnMpO1xyXG5cdFx0XHRpZiAobm90RXhpc3RzKSB7XHJcblx0XHRcdFx0d3JhcHBlci5jaGlsZHJlbi5wdXNoKHBhbmVsVGVtcGxhdGVzW3BhbmVsVHlwZV0uZ2VuZXJhdGUoKSk7XHJcblx0XHRcdFx0cHVzaGVkQ29udGFpbmVyc1twYW5lbFRlbXBsYXRlc1twYW5lbFR5cGVdLmNvbnRhaW5lcklkXSA9IHRydWU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiB3cmFwcGVyLmNoaWxkcmVuO1xyXG59XHJcblxyXG4vKipcclxuICogR2VuZXJhdGVzIFJlbmRlcmVyLklVSUFzSnNvbiBvYmplY3QgdGhhdCBob2xkcyB0aGUgZGlmZmVyZW50IGFuY2hvcnMgdGhhdCB3aWxsIGJlIHVzZWQgb24gdGhlIGJlbGx5YmFuZC5cclxuICogQHBhcmFtIHtba2V5OiBudW1iZXJdOiBJRm9ybVRlbXBsYXRlfSBmb3JtVGVtcGxhdGVzIEZlZWRiYWNrVHlwZSAtPiBGb3JtVGVtcGxhdGUgbWFwcGluZ1xyXG4gKiBAcmV0dXJucyB7UmVuZGVyZXIuSVVJQXNKc29ufSBSZW5kZXJlci5JVUlBc0pzb24gb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZU92ZXJhbGxBbmNob3JzKGZvcm1UZW1wbGF0ZXM6IHsgW2tleTogbnVtYmVyXTogSUZvcm1UZW1wbGF0ZSB9KTogUmVuZGVyZXIuSVVJQXNKc29uW10ge1xyXG5cdGxldCB3cmFwcGVyOiBSZW5kZXJlci5JVUlBc0pzb24gPSB7XHJcblx0XHRjaGlsZHJlbjogW10sXHJcblx0fTtcclxuXHJcblx0aWYgKEZlZWRiYWNrVHlwZS5TbWlsZSBpbiBmb3JtVGVtcGxhdGVzKSB7XHJcblx0XHR3cmFwcGVyLmNoaWxkcmVuLnB1c2goZ2VuZXJhdGVPdmVyYWxsQW5jaG9yKElEcy5PdmVyYWxsU21pbGVBbmNob3IsIElEcy5PdmVyYWxsU21pbGVJbWFnZSxcclxuXHRcdFx0Ly8gVGhlIHN2ZyBjb2RlIGZvciB0aGUgaW1hZ2VcclxuXHRcdFx0Ly8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxyXG5cdFx0XHQnPHN2ZyB2aWV3Qm94PVwiMCAwIDcyIDcyXCIgd2lkdGg9XCIyNHB4XCIgaGVpZ2h0PVwiMjRweFwiIGZvY3VzYWJsZT1cImZhbHNlXCI+PHBhdGggZD1cIk0zNiAxQzE2LjcgMSAxIDE2LjcgMSAzNnMxNS43IDM1IDM1IDM1YzE5LjMgMCAzNS0xNS43IDM1LTM1UzU1LjMgMSAzNiAxWk00OS4zIDE4LjNjMi4zIDAgNC4yIDIuNyA0LjIgNiAwIDMuMy0xLjkgNi00LjIgNiAtMi4zIDAtNC4yLTIuNy00LjItNkM0NS4xIDIxIDQ3IDE4LjMgNDkuMyAxOC4zWk0yMi45IDE4LjNjMi4zIDAgNC4yIDIuNyA0LjIgNiAwIDMuMy0xLjkgNi00LjIgNiAtMi4zIDAtNC4yLTIuNy00LjItNkMxOC43IDIxIDIwLjYgMTguMyAyMi45IDE4LjNaTTM2IDU4LjZjLTguNSAwLTE2LTQuMS0yMC45LTEwLjRsMy41LTMuNmMzLjUgNC41IDkuOSA3LjYgMTcuNCA3LjYgNy40IDAgMTMuOS0zLjEgMTcuNC03LjZsMy42IDMuNkM1Mi4xIDU0LjQgNDQuNCA1OC42IDM2IDU4LjZaXCIvPjwvc3ZnPicsXHJcblx0XHRcdElEcy5PdmVyYWxsU21pbGVUZXh0LCBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuU21pbGVGb3JtLkFuY2hvcikpO1xyXG5cdH1cclxuXHJcblx0aWYgKEZlZWRiYWNrVHlwZS5Gcm93biBpbiBmb3JtVGVtcGxhdGVzKSB7XHJcblx0XHR3cmFwcGVyLmNoaWxkcmVuLnB1c2goZ2VuZXJhdGVPdmVyYWxsQW5jaG9yKElEcy5PdmVyYWxsRnJvd25BbmNob3IsIElEcy5PdmVyYWxsRnJvd25JbWFnZSxcclxuXHRcdFx0Ly8gVGhlIHN2ZyBjb2RlIGZvciB0aGUgaW1hZ2VcclxuXHRcdFx0Ly8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm1heC1saW5lLWxlbmd0aFxyXG5cdFx0XHQnPHN2ZyB2aWV3Qm94PVwiMCAwIDcyIDcyXCIgd2lkdGg9XCIyNHB4XCIgaGVpZ2h0PVwiMjRweFwiIGZvY3VzYWJsZT1cImZhbHNlXCI+PHBhdGggZD1cIk0zNiAxQzE2LjcgMSAxIDE2LjcgMSAzNnMxNS43IDM1IDM1IDM1YzE5LjMgMCAzNS0xNS43IDM1LTM1UzU1LjMgMSAzNiAxWk00OS4zIDE4LjNjMi4zIDAgNC4yIDIuNyA0LjIgNiAwIDMuMy0xLjkgNi00LjIgNiAtMi4zIDAtNC4yLTIuNy00LjItNkM0NS4xIDIxIDQ3IDE4LjMgNDkuMyAxOC4zWk0yMi45IDE4LjNjMi4zIDAgNC4yIDIuNyA0LjIgNiAwIDMuMy0xLjkgNi00LjIgNiAtMi4zIDAtNC4yLTIuNy00LjItNkMxOC43IDIxIDIwLjYgMTguMyAyMi45IDE4LjNaTTUyLjggNTcuOWMtMy4zLTQuNC05LjYtNy4zLTE2LjctNy4zIC03LjIgMC0xMy40IDMtMTYuNyA3LjNsLTMuNC0zLjRjNC43LTYuMSAxMS45LTEwIDIwLjEtMTAgOC4yIDAgMTUuNSA0IDIwLjIgMTBMNTIuOCA1Ny45WlwiLz48L3N2Zz4nLFxyXG5cdFx0XHRJRHMuT3ZlcmFsbEZyb3duVGV4dCwgVUlTdHJpbmdzLmdldFVJU3RyaW5ncygpLkZyb3duRm9ybS5BbmNob3IpKTtcclxuXHR9XHJcblxyXG5cdGlmIChGZWVkYmFja1R5cGUuSWRlYSBpbiBmb3JtVGVtcGxhdGVzKSB7XHJcblx0XHR3cmFwcGVyLmNoaWxkcmVuLnB1c2goZ2VuZXJhdGVPdmVyYWxsQW5jaG9yKElEcy5PdmVyYWxsSWRlYUFuY2hvciwgSURzLk92ZXJhbGxJZGVhSW1hZ2UsXHJcblx0XHRcdC8vIFRoZSBzdmcgY29kZSBmb3IgdGhlIGltYWdlXHJcblx0XHRcdC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcclxuXHRcdFx0JzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZvY3VzYWJsZT1cImZhbHNlXCIgdmlld0JveD1cIjAsMCwyMDQ4LDIwNDhcIj48cGF0aCBmaWxsPVwiI0ZBRkFGQVwiIGZpbGwtb3BhY2l0eT1cIjEuMDAwXCIgZD1cIk0gMjEzIDE5MjAgdiAtNTQ2IGwgMjc1IC02NDkgaCAxMDcyIGwgMjc1IDY0OSB2IDU0NiB6XCIgLz48cGF0aCBmaWxsPVwiIzNBM0EzOFwiIGZpbGwtb3BhY2l0eT1cIjEuMDAwXCIgZD1cIk0gMTg3NyAxMzY1IHYgNTk4IGggLTE3MDYgdiAtNTk4IGwgMjg5IC02ODIgaCAyODggbCAtNDEgNDEgbCA0NCA0NCBoIC0yMzkgbCAtMjQ4IDU5NyBoIDE1MjAgbCAtMjIxIC01MzIgbCA2MyAtNjIgbSAxNjYgNjgwIGggLTE1MzYgdiA0MjYgaCAxNTM2IHpcIiAvPjxwYXRoIGZpbGw9XCIjRkFGQUZBXCIgZmlsbC1vcGFjaXR5PVwiMS4wMDBcIiBkPVwiTSAxMDQ5IDEwNjcgbCAtMzQyIC0zNDMgbCA2NjQgLTY2NCBsIDQ4MiA0ODMgbCAtNTIzIDUyNCB6XCIgLz48cGF0aCBmaWxsPVwiIzc5Nzc3NFwiIGZpbGwtb3BhY2l0eT1cIjEuMDAwXCIgZD1cIk0gMTUzNiA2NDkgbCAtMjcxIC0yNzIgbCA2MCAtNjAgbCAyNzIgMjcxIG0gLTIxMSAyMTIgbCAtMjcyIC0yNzIgbCA2MCAtNjAgbCAyNzIgMjcxIG0gLTIxMSAyMTEgbCAtMjcyIC0yNzEgbCA2MSAtNjEgbCAyNzEgMjcyIHpcIiAvPjxwYXRoIGZpbGw9XCIjMUU4QkNEXCIgZmlsbC1vcGFjaXR5PVwiMS4wMDBcIiBkPVwiTSA5ODkgMTA2NyBsIC0zNDMgLTM0MyBsIDcyNSAtNzI0IGwgNTQzIDU0MyBsIC01MjQgNTI0IGggLTEyMSBsIDUyNCAtNTI0IGwgLTQyMiAtNDIyIGwgLTYwNCA2MDMgbCAzNDMgMzQzIHpcIiAvPjxwYXRoIGZpbGw9XCIjM0EzQTM4XCIgZmlsbC1vcGFjaXR5PVwiMS4wMDBcIiBkPVwiTSAxNDUxIDExMDkgaCAtODU0IHYgLTg1IGggODU0IHpcIiAvPjwvc3ZnPicsXHJcblx0XHRcdElEcy5PdmVyYWxsSWRlYVRleHQsIFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5JZGVhRm9ybS5BbmNob3IpKTtcclxuXHR9XHJcblxyXG5cdGlmIChGZWVkYmFja1R5cGUuQnVnIGluIGZvcm1UZW1wbGF0ZXMpIHtcclxuXHRcdHdyYXBwZXIuY2hpbGRyZW4ucHVzaChnZW5lcmF0ZU92ZXJhbGxBbmNob3IoSURzLk92ZXJhbGxCdWdBbmNob3IsIElEcy5PdmVyYWxsQnVnSW1hZ2UsXHJcblx0XHRcdC8vIFRoZSBzdmcgY29kZSBmb3IgdGhlIGltYWdlXHJcblx0XHRcdC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcclxuXHRcdFx0Jzxzdmcgdmlld0JveD1cIjE1MCAxMDAgMTc0OCAxNzQ4XCIgd2lkdGg9XCIyNHB4XCIgaGVpZ2h0PVwiMjRweFwiIGZvY3VzYWJsZT1cImZhbHNlXCI+PHBhdGggZD1cIk0xODI0IDEwODhxMCAyNi0xOSA0NXQtNDUgMTloLTIyNHEwIDE3MS02NyAyOTBsMjA4IDIwOXExOSAxOSAxOSA0NXQtMTkgNDVxLTE4IDE5LTQ1IDE5dC00NS0xOWwtMTk4LTE5N3EtNSA1LTE1IDEzdC00MiAyOC41LTY1IDM2LjUtODIgMjktOTcgMTN2LTg5NmgtMTI4djg5NnEtNTEgMC0xMDEuNS0xMy41dC04Ny0zMy02Ni0zOS00My41LTMyLjVsLTE1LTE0LTE4MyAyMDdxLTIwIDIxLTQ4IDIxLTI0IDAtNDMtMTYtMTktMTgtMjAuNS00NC41dDE1LjUtNDYuNWwyMDItMjI3cS01OC0xMTQtNTgtMjc0aC0yMjRxLTI2IDAtNDUtMTl0LTE5LTQ1IDE5LTQ1IDQ1LTE5aDIyNHYtMjk0bC0xNzMtMTczcS0xOS0xOS0xOS00NXQxOS00NSA0NS0xOSA0NSAxOWwxNzMgMTczaDg0NGwxNzMtMTczcTE5LTE5IDQ1LTE5dDQ1IDE5IDE5IDQ1LTE5IDQ1bC0xNzMgMTczdjI5NGgyMjRxMjYgMCA0NSAxOXQxOSA0NXptLTQ4MC01NzZoLTY0MHEwLTEzMyA5My41LTIyNi41dDIyNi41LTkzLjUgMjI2LjUgOTMuNSA5My41IDIyNi41elwiLz48L3N2Zz4nLFxyXG5cdFx0XHRJRHMuT3ZlcmFsbEJ1Z1RleHQsIFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5CdWdGb3JtLkFuY2hvcikpO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIHdyYXBwZXIuY2hpbGRyZW47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSBSZW5kZXJlci5JVUlBc0pzb24gb2JqZWN0IHRoYXQgaG9sZHMgYW4gYW5jaG9yIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSBiZWxseWJhbmQuXHJcbiAqIEBwYXJhbSBvdmVyYWxsQW5jaG9ySUQgdGhlIG92ZXJhbGwgYW5jaG9yIGlkXHJcbiAqIEBwYXJhbSBvdmVyYWxsSW1hZ2VJRCB0aGUgaW1hZ2UgaWRcclxuICogQHBhcmFtIGltYWdlQ2xhc3MgdGhlIGltYWdlIGNsYXNzIChpY29uKVxyXG4gKiBAcGFyYW0gb3ZlcmFsbFRleHRJRCB0aGUgaWQgZm9yIHRleHQgYm94XHJcbiAqIEBwYXJhbSB1aVN0cmluZyB0aGUgc3RyaW5nIHRvIGRpc3BsYXlcclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlT3ZlcmFsbEFuY2hvcihcclxuXHRvdmVyYWxsQW5jaG9ySUQ6IHN0cmluZywgb3ZlcmFsbEltYWdlSUQ6IHN0cmluZywgc3ZnSW1hZ2U6IHN0cmluZyxcclxuXHRvdmVyYWxsVGV4dElEOiBzdHJpbmcsIHVpU3RyaW5nOiBzdHJpbmcpOiBSZW5kZXJlci5JVUlBc0pzb24ge1xyXG5cdHJldHVybiB7XHJcblx0XHRhdHRyaWJ1dGVzOlxyXG5cdFx0W1xyXG5cdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuVHlwZSwgdmFsdWU6IEF0dHJpYnV0ZVZhbHVlLkJ1dHRvbiB9LFxyXG5cdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuUm9sZSwgdmFsdWU6IEF0dHJpYnV0ZVZhbHVlLlRhYiB9LFxyXG5cdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuQXJpYUxhYmVsLCB2YWx1ZTogdWlTdHJpbmcgfSxcclxuXHRcdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLkFyaWFTZWxlY3RlZCwgdmFsdWU6IEF0dHJpYnV0ZVZhbHVlLkZhbHNlIH0sXHJcblx0XHRdLFxyXG5cdFx0Y2hpbGRyZW46XHJcblx0XHRbXHJcblx0XHRcdHtcclxuXHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5PdmVyYWxsSW1hZ2VdLFxyXG5cdFx0XHRcdGlkOiBvdmVyYWxsSW1hZ2VJRCxcclxuXHRcdFx0XHRpbm5lckhUTUw6IHN2Z0ltYWdlLFxyXG5cdFx0XHRcdHRhZzogVGFncy5EaXYsXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb250U3VidGl0bGUsIENsYXNzZXMuT3ZlcmFsbFRleHRdLFxyXG5cdFx0XHRcdGlkOiBvdmVyYWxsVGV4dElELFxyXG5cdFx0XHRcdGlubmVyVGV4dDogdWlTdHJpbmcsXHJcblx0XHRcdH0sXHJcblx0XHRdLFxyXG5cdFx0Y2xhc3NlczogW0NsYXNzZXMuT3ZlcmFsbEFuY2hvciwgQ2xhc3Nlcy5UZXh0QWxpZ25MZWZ0XSxcclxuXHRcdGlkOiBvdmVyYWxsQW5jaG9ySUQsXHJcblx0XHR0YWc6IFRhZ3MuQnV0dG9uLFxyXG5cdH07XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/UI/BellyBand/Layout.ts\n')},"./scripts/app/UI/BellyBand/PanelTemplates/ThanksPanelTemplate.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generate", function() { return generate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "containerId", function() { return containerId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "onSelect", function() { return onSelect; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "type", function() { return type; });\n/* harmony import */ var _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../../../UIStrings/UIStrings */ "./scripts/app/UIStrings/UIStrings.ts");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../../../Configuration/Configuration */ "./scripts/app/Configuration/Configuration.ts");\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../UiConstants */ "./scripts/app/UI/UiConstants.ts");\n/**\r\n * ThanksPanelTemplate.ts\r\n *\r\n * A panel rendering a Thank you-message.\r\n */\r\n\r\n\r\n\r\n/**\r\n * Generate the markup\r\n * @returns the markup as json\r\n */\r\nfunction generate() {\r\n    var _a, _b, _c, _d, _e, _f, _g;\r\n    var primaryColor = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getCommonInitOptions().primaryColour;\r\n    var formSchema = {\r\n        children: [\r\n            {\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Tags"].Div,\r\n                id: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["IDs"].ThanksPanelInnerContainer,\r\n                children: [\r\n                    {\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["IDs"].ThanksPanelDiscussion,\r\n                        innerHTML: "<svg xmlns=\\"http://www.w3.org/2000/svg\\" viewBox=\\"0 0 30.4 25.3\\"\\n\\trole=\\"presentation\\" alt=\\"\\" tabindex=\\"-1\\" focusable=\\"false\\">\\n\\t<defs>\\n\\t\\t<style>\\n\\t\\t\\t.cls-1,.cls-3{isolation:isolate;}\\n\\t\\t\\t.cls-2{fill:#e1dfdd;}\\n\\t\\t\\t.cls-3{fill:" + primaryColor + ";opacity:0.4;}\\n\\t\\t\\t.cls-4{fill:#c8c6c4;mix-blend-mode:multiply;}\\n\\t\\t\\t.cls-5{fill:#fff;}</style>\\n\\t</defs>\\n\\t<title>commentsOffice</title>\\n\\t<g class=\\"cls-1\\">\\n\\t\\t<g id=\\"Layer_1\\" data-name=\\"Layer 1\\">\\n\\t\\t\\t<path class=\\"cls-2\\" d=\\"M17.8,0H1.2A1.216,1.216,0,0,0,0,1.2V15.3a1.1554,1.1554,0,0,0,1.2,1.2H7l.1,\\n\\t\\t\\t\\t4.1L10,16.5h7.9a1.1554,1.1554,0,0,0,1.2-1.2V1.2A1.305,1.305,0,0,0,17.8,0Z\\"/>\\n\\t\\t\\t<path class=\\"cls-3\\" d=\\"M28.5,10.8a6.0429,6.0429,0,0,0-3.2-2,7.1943,7.1943,0,0,0-6.4,1,7.4884,\\n\\t\\t\\t\\t7.4884,0,0,0-3.1,5.7,6.016,6.016,0,0,0,.9,3.7,6.9394,6.9394,0,0,0,5,3.7l2.9,2.4L24.4,23a7.8372,\\n\\t\\t\\t\\t7.8372,0,0,0,3-1.3,7.4574,7.4574,0,0,0,3-4.7A7.5076,7.5076,0,0,0,28.5,10.8Z\\"/>\\n\\t\\t\\t<path id=\\"Layer2_1_MEMBER_1_FILL\\" data-name=\\"Layer2 1 MEMBER 1 FILL\\" class=\\"cls-4\\" d=\\"M11.9885,\\n\\t\\t\\t\\t8.0154a.8939.8939,0,1,0,.6371-.2589.8653.8653,0,0,0-.6371.2589M6.8115,9.24A.8977.8977,0,1,0,\\n\\t\\t\\t\\t5.5532,7.9589.8977.8977,0,1,0,6.8115,9.24m3.2259-1.2412a.894.894,0,1,0,.2588.637A.8653.8653,\\n\\t\\t\\t\\t0,0,0,10.0374,7.9983Z\\"/>\\n\\t\\t\\t<path class=\\"cls-5\\" d=\\"M20.9019,16.3243a.8008.8008,0,0,0,.2586-.5659.8371.8371,0,0,\\n\\t\\t\\t\\t0-.21-.5919.7693.7693,0,0,0-1.1091-.05.8379.8379,0,0,0-.2627.5706.8012.8012,0,0,0,\\n\\t\\t\\t\\t.2066.5869.77.77,0,0,0,1.1167.05m1.51-.51a.8014.8014,0,0,0,.2066.5874.7695.7695,0,0,0,\\n\\t\\t\\t\\t1.1127.0541.8379.8379,0,0,0,.2627-.57.8009.8009,0,0,0-.2066-.5869.7694.7694,0,0,\\n\\t\\t\\t\\t0-1.1167-.05.8011.8011,0,0,0-.2587.5663m2.8279.1272a.8371.8371,0,0,0,.21.5919.7693.7693,0,0,\\n\\t\\t\\t\\t0,1.1091.05.8379.8379,0,0,0,.2627-.5706.8012.8012,0,0,0-.2066-.5869.77.77,0,0,\\n\\t\\t\\t\\t0-1.1167-.05A.8008.8008,0,0,0,25.24,15.9416Z\\"/>\\n\\t\\t</g>\\n\\t</g>\\n</svg>",\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Tags"].Div,\r\n                    },\r\n                    {\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["IDs"].ThanksPanelVerticalContainer,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Tags"].Div,\r\n                        children: [\r\n                            {\r\n                                classes: [\r\n                                    _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].FontTitle,\r\n                                    _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].TextAlignLeft,\r\n                                    _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].FormQuestionMiddleText,\r\n                                    _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].ThanksPanelTitle,\r\n                                ],\r\n                                innerText: (_a = _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().ThanksPanel) === null || _a === void 0 ? void 0 : _a.Title,\r\n                                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Tags"].Div,\r\n                            },\r\n                            {\r\n                                classes: [\r\n                                    _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].FontSubText,\r\n                                    _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].TextAlignLeft,\r\n                                    _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].ThanksPanelMessage,\r\n                                ],\r\n                                innerText: (_b = _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().ThanksPanel) === null || _b === void 0 ? void 0 : _b.AppreciateText,\r\n                                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Tags"].Div,\r\n                            },\r\n                            {\r\n                                classes: [\r\n                                    _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].SubmitButton,\r\n                                ],\r\n                                id: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["IDs"].ThanksPanelCloseButton,\r\n                                innerText: (_c = _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().ThanksPanel) === null || _c === void 0 ? void 0 : _c.Close,\r\n                                ariaLabel: (_d = _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().ThanksPanel) === null || _d === void 0 ? void 0 : _d.Close,\r\n                                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Tags"].Button,\r\n                                role: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Roles"].Button,\r\n                                attributes: [\r\n                                    {\r\n                                        name: "aria-label",\r\n                                        value: ((_e = _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().ThanksPanel) === null || _e === void 0 ? void 0 : _e.Title) + " " + ((_f = _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().ThanksPanel) === null || _f === void 0 ? void 0 : _f.AppreciateText) + " " + ((_g = _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().ThanksPanel) === null || _g === void 0 ? void 0 : _g.Close),\r\n                                    },\r\n                                ],\r\n                            },\r\n                        ],\r\n                    },\r\n                ],\r\n            },\r\n        ],\r\n        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].Hidden],\r\n        id: containerId,\r\n    };\r\n    return formSchema;\r\n}\r\n/**\r\n * The id for the container. This is the id of the top-most element and should\r\n * be unique to each form\r\n */\r\nvar containerId = _UiConstants__WEBPACK_IMPORTED_MODULE_2__["IDs"].ThanksPanelContainer;\r\n/**\r\n * This method executes form\r\n * specific logic when the pane is opened\r\n * @param panelType panel type\r\n */\r\nfunction onSelect(panelType) {\r\n    if (panelType !== 0 /* Thanks */) {\r\n        return;\r\n    }\r\n    document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_2__["IDs"].ThanksPanelCloseButton).focus();\r\n}\r\n/**\r\n * Form template type\r\n */\r\nvar type = 0 /* Thanks */;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9CZWxseUJhbmQvUGFuZWxUZW1wbGF0ZXMvVGhhbmtzUGFuZWxUZW1wbGF0ZS50cz8zZWFkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztHQUlHO0FBRXlEO0FBRVk7QUFFVjtBQUc5RDs7O0dBR0c7QUFDSSxTQUFTLFFBQVE7O0lBQ3ZCLElBQUksWUFBWSxHQUFHLGdFQUFpQixFQUFFLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxhQUFhLENBQUM7SUFFNUUsSUFBSSxVQUFVLEdBQUc7UUFDaEIsUUFBUSxFQUFFO1lBQ1Q7Z0JBQ0MsR0FBRyxFQUFFLGlEQUFJLENBQUMsR0FBRztnQkFDYixFQUFFLEVBQUUsZ0RBQUcsQ0FBQyx5QkFBeUI7Z0JBQ2pDLFFBQVEsRUFBRTtvQkFDVDt3QkFDQyxFQUFFLEVBQUUsZ0RBQUcsQ0FBQyxxQkFBcUI7d0JBQzdCLFNBQVMsRUFBRSw2UEFNRCxHQUFHLFlBQVksR0FBRyx3cURBeUIzQjt3QkFDRCxHQUFHLEVBQUUsaURBQUksQ0FBQyxHQUFHO3FCQUNiO29CQUNEO3dCQUNDLEVBQUUsRUFBRSxnREFBRyxDQUFDLDRCQUE0Qjt3QkFDcEMsR0FBRyxFQUFFLGlEQUFJLENBQUMsR0FBRzt3QkFDYixRQUFRLEVBQUU7NEJBQ1Q7Z0NBQ0MsT0FBTyxFQUFFO29DQUNSLG9EQUFPLENBQUMsU0FBUztvQ0FDakIsb0RBQU8sQ0FBQyxhQUFhO29DQUNyQixvREFBTyxDQUFDLHNCQUFzQjtvQ0FDOUIsb0RBQU8sQ0FBQyxnQkFBZ0I7aUNBQ3hCO2dDQUNELFNBQVMsUUFBRSxpRUFBc0IsRUFBRSxDQUFDLFdBQVcsMENBQUUsS0FBSztnQ0FDdEQsR0FBRyxFQUFFLGlEQUFJLENBQUMsR0FBRzs2QkFDYjs0QkFDRDtnQ0FDQyxPQUFPLEVBQUU7b0NBQ1Isb0RBQU8sQ0FBQyxXQUFXO29DQUNuQixvREFBTyxDQUFDLGFBQWE7b0NBQ3JCLG9EQUFPLENBQUMsa0JBQWtCO2lDQUMxQjtnQ0FDRCxTQUFTLFFBQUUsaUVBQXNCLEVBQUUsQ0FBQyxXQUFXLDBDQUFFLGNBQWM7Z0NBQy9ELEdBQUcsRUFBRSxpREFBSSxDQUFDLEdBQUc7NkJBQ2I7NEJBQ0Q7Z0NBQ0MsT0FBTyxFQUFFO29DQUNSLG9EQUFPLENBQUMsWUFBWTtpQ0FDcEI7Z0NBQ0QsRUFBRSxFQUFFLGdEQUFHLENBQUMsc0JBQXNCO2dDQUM5QixTQUFTLFFBQUUsaUVBQXNCLEVBQUUsQ0FBQyxXQUFXLDBDQUFFLEtBQUs7Z0NBQ3RELFNBQVMsUUFBRSxpRUFBc0IsRUFBRSxDQUFDLFdBQVcsMENBQUUsS0FBSztnQ0FDdEQsR0FBRyxFQUFFLGlEQUFJLENBQUMsTUFBTTtnQ0FDaEIsSUFBSSxFQUFFLGtEQUFLLENBQUMsTUFBTTtnQ0FDbEIsVUFBVSxFQUFFO29DQUNYO3dDQUNDLElBQUksRUFBRSxZQUFZO3dDQUNsQixLQUFLLEVBQUUsd0VBQXNCLEVBQUUsQ0FBQyxXQUFXLDBDQUFFLEtBQUssSUFBRyxHQUFHLFVBQ3ZELGlFQUFzQixFQUFFLENBQUMsV0FBVywwQ0FBRSxjQUFjLElBQUcsR0FBRyxVQUMxRCxpRUFBc0IsRUFBRSxDQUFDLFdBQVcsMENBQUUsS0FBSztxQ0FDNUM7aUNBQ0Q7NkJBQ0Q7eUJBQ0Q7cUJBQ0Q7aUJBQ0Q7YUFDRDtTQUNEO1FBQ0QsT0FBTyxFQUFFLENBQUMsb0RBQU8sQ0FBQyxNQUFNLENBQUM7UUFDekIsRUFBRSxFQUFFLFdBQVc7S0FDZixDQUFDO0lBQ0YsT0FBTyxVQUFVLENBQUM7QUFDbkIsQ0FBQztBQUVEOzs7R0FHRztBQUNJLElBQUksV0FBVyxHQUFXLGdEQUFHLENBQUMsb0JBQW9CLENBQUM7QUFFMUQ7Ozs7R0FJRztBQUNJLFNBQVMsUUFBUSxDQUFDLFNBQW9CO0lBQzVDLElBQUksU0FBUyxtQkFBcUIsRUFBRTtRQUNuQyxPQUFPO0tBQ1A7SUFFRCxRQUFRLENBQUMsY0FBYyxDQUFDLGdEQUFHLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztBQUM3RCxDQUFDO0FBRUQ7O0dBRUc7QUFDSSxJQUFJLElBQUksaUJBQThDLENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9VSS9CZWxseUJhbmQvUGFuZWxUZW1wbGF0ZXMvVGhhbmtzUGFuZWxUZW1wbGF0ZS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBUaGFua3NQYW5lbFRlbXBsYXRlLnRzXHJcbiAqXHJcbiAqIEEgcGFuZWwgcmVuZGVyaW5nIGEgVGhhbmsgeW91LW1lc3NhZ2UuXHJcbiAqL1xyXG5cclxuaW1wb3J0ICogYXMgVUlTdHJpbmdzIGZyb20gXCIuLy4uLy4uLy4uL1VJU3RyaW5ncy9VSVN0cmluZ3NcIjtcclxuaW1wb3J0IHsgSVVJQXNKc29uIH0gZnJvbSBcIi4vLi4vLi4vUmVuZGVyZXJcIjtcclxuaW1wb3J0ICogYXMgQ29uZmlndXJhdGlvbiBmcm9tIFwiLi8uLi8uLi8uLi9Db25maWd1cmF0aW9uL0NvbmZpZ3VyYXRpb25cIjtcclxuaW1wb3J0IHsgUGFuZWxUeXBlIH0gZnJvbSBcIi4vLi4vLi4vLi4vQ29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IElEcywgVGFncywgQ2xhc3NlcywgUm9sZXMgfSBmcm9tIFwiLi4vLi4vVWlDb25zdGFudHNcIjtcclxuaW1wb3J0IHsgUGFuZWxUZW1wbGF0ZVR5cGUgfSBmcm9tIFwiLi9QYW5lbFRlbXBsYXRlVHlwZVwiO1xyXG5cclxuLyoqXHJcbiAqIEdlbmVyYXRlIHRoZSBtYXJrdXBcclxuICogQHJldHVybnMgdGhlIG1hcmt1cCBhcyBqc29uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGUoKTogSVVJQXNKc29uIHtcclxuXHRsZXQgcHJpbWFyeUNvbG9yID0gQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRDb21tb25Jbml0T3B0aW9ucygpLnByaW1hcnlDb2xvdXI7XHJcblxyXG5cdGxldCBmb3JtU2NoZW1hID0ge1xyXG5cdFx0Y2hpbGRyZW46IFtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHRhZzogVGFncy5EaXYsXHJcblx0XHRcdFx0aWQ6IElEcy5UaGFua3NQYW5lbElubmVyQ29udGFpbmVyLFxyXG5cdFx0XHRcdGNoaWxkcmVuOiBbXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGlkOiBJRHMuVGhhbmtzUGFuZWxEaXNjdXNzaW9uLFxyXG5cdFx0XHRcdFx0XHRpbm5lckhUTUw6IGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDMwLjQgMjUuM1wiXHJcblx0cm9sZT1cInByZXNlbnRhdGlvblwiIGFsdD1cIlwiIHRhYmluZGV4PVwiLTFcIiBmb2N1c2FibGU9XCJmYWxzZVwiPlxyXG5cdDxkZWZzPlxyXG5cdFx0PHN0eWxlPlxyXG5cdFx0XHQuY2xzLTEsLmNscy0ze2lzb2xhdGlvbjppc29sYXRlO31cclxuXHRcdFx0LmNscy0ye2ZpbGw6I2UxZGZkZDt9XHJcblx0XHRcdC5jbHMtM3tmaWxsOmAgKyBwcmltYXJ5Q29sb3IgKyBgO29wYWNpdHk6MC40O31cclxuXHRcdFx0LmNscy00e2ZpbGw6I2M4YzZjNDttaXgtYmxlbmQtbW9kZTptdWx0aXBseTt9XHJcblx0XHRcdC5jbHMtNXtmaWxsOiNmZmY7fTwvc3R5bGU+XHJcblx0PC9kZWZzPlxyXG5cdDx0aXRsZT5jb21tZW50c09mZmljZTwvdGl0bGU+XHJcblx0PGcgY2xhc3M9XCJjbHMtMVwiPlxyXG5cdFx0PGcgaWQ9XCJMYXllcl8xXCIgZGF0YS1uYW1lPVwiTGF5ZXIgMVwiPlxyXG5cdFx0XHQ8cGF0aCBjbGFzcz1cImNscy0yXCIgZD1cIk0xNy44LDBIMS4yQTEuMjE2LDEuMjE2LDAsMCwwLDAsMS4yVjE1LjNhMS4xNTU0LDEuMTU1NCwwLDAsMCwxLjIsMS4ySDdsLjEsXHJcblx0XHRcdFx0NC4xTDEwLDE2LjVoNy45YTEuMTU1NCwxLjE1NTQsMCwwLDAsMS4yLTEuMlYxLjJBMS4zMDUsMS4zMDUsMCwwLDAsMTcuOCwwWlwiLz5cclxuXHRcdFx0PHBhdGggY2xhc3M9XCJjbHMtM1wiIGQ9XCJNMjguNSwxMC44YTYuMDQyOSw2LjA0MjksMCwwLDAtMy4yLTIsNy4xOTQzLDcuMTk0MywwLDAsMC02LjQsMSw3LjQ4ODQsXHJcblx0XHRcdFx0Ny40ODg0LDAsMCwwLTMuMSw1LjcsNi4wMTYsNi4wMTYsMCwwLDAsLjksMy43LDYuOTM5NCw2LjkzOTQsMCwwLDAsNSwzLjdsMi45LDIuNEwyNC40LDIzYTcuODM3MixcclxuXHRcdFx0XHQ3LjgzNzIsMCwwLDAsMy0xLjMsNy40NTc0LDcuNDU3NCwwLDAsMCwzLTQuN0E3LjUwNzYsNy41MDc2LDAsMCwwLDI4LjUsMTAuOFpcIi8+XHJcblx0XHRcdDxwYXRoIGlkPVwiTGF5ZXIyXzFfTUVNQkVSXzFfRklMTFwiIGRhdGEtbmFtZT1cIkxheWVyMiAxIE1FTUJFUiAxIEZJTExcIiBjbGFzcz1cImNscy00XCIgZD1cIk0xMS45ODg1LFxyXG5cdFx0XHRcdDguMDE1NGEuODkzOS44OTM5LDAsMSwwLC42MzcxLS4yNTg5Ljg2NTMuODY1MywwLDAsMC0uNjM3MS4yNTg5TTYuODExNSw5LjI0QS44OTc3Ljg5NzcsMCwxLDAsXHJcblx0XHRcdFx0NS41NTMyLDcuOTU4OS44OTc3Ljg5NzcsMCwxLDAsNi44MTE1LDkuMjRtMy4yMjU5LTEuMjQxMmEuODk0Ljg5NCwwLDEsMCwuMjU4OC42MzdBLjg2NTMuODY1MyxcclxuXHRcdFx0XHQwLDAsMCwxMC4wMzc0LDcuOTk4M1pcIi8+XHJcblx0XHRcdDxwYXRoIGNsYXNzPVwiY2xzLTVcIiBkPVwiTTIwLjkwMTksMTYuMzI0M2EuODAwOC44MDA4LDAsMCwwLC4yNTg2LS41NjU5LjgzNzEuODM3MSwwLDAsXHJcblx0XHRcdFx0MC0uMjEtLjU5MTkuNzY5My43NjkzLDAsMCwwLTEuMTA5MS0uMDUuODM3OS44Mzc5LDAsMCwwLS4yNjI3LjU3MDYuODAxMi44MDEyLDAsMCwwLFxyXG5cdFx0XHRcdC4yMDY2LjU4NjkuNzcuNzcsMCwwLDAsMS4xMTY3LjA1bTEuNTEtLjUxYS44MDE0LjgwMTQsMCwwLDAsLjIwNjYuNTg3NC43Njk1Ljc2OTUsMCwwLDAsXHJcblx0XHRcdFx0MS4xMTI3LjA1NDEuODM3OS44Mzc5LDAsMCwwLC4yNjI3LS41Ny44MDA5LjgwMDksMCwwLDAtLjIwNjYtLjU4NjkuNzY5NC43Njk0LDAsMCxcclxuXHRcdFx0XHQwLTEuMTE2Ny0uMDUuODAxMS44MDExLDAsMCwwLS4yNTg3LjU2NjNtMi44Mjc5LjEyNzJhLjgzNzEuODM3MSwwLDAsMCwuMjEuNTkxOS43NjkzLjc2OTMsMCwwLFxyXG5cdFx0XHRcdDAsMS4xMDkxLjA1LjgzNzkuODM3OSwwLDAsMCwuMjYyNy0uNTcwNi44MDEyLjgwMTIsMCwwLDAtLjIwNjYtLjU4NjkuNzcuNzcsMCwwLFxyXG5cdFx0XHRcdDAtMS4xMTY3LS4wNUEuODAwOC44MDA4LDAsMCwwLDI1LjI0LDE1Ljk0MTZaXCIvPlxyXG5cdFx0PC9nPlxyXG5cdDwvZz5cclxuPC9zdmc+YCxcclxuXHRcdFx0XHRcdFx0dGFnOiBUYWdzLkRpdixcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGlkOiBJRHMuVGhhbmtzUGFuZWxWZXJ0aWNhbENvbnRhaW5lcixcclxuXHRcdFx0XHRcdFx0dGFnOiBUYWdzLkRpdixcclxuXHRcdFx0XHRcdFx0Y2hpbGRyZW46IFtcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRjbGFzc2VzOiBbXHJcblx0XHRcdFx0XHRcdFx0XHRcdENsYXNzZXMuRm9udFRpdGxlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRDbGFzc2VzLlRleHRBbGlnbkxlZnQsXHJcblx0XHRcdFx0XHRcdFx0XHRcdENsYXNzZXMuRm9ybVF1ZXN0aW9uTWlkZGxlVGV4dCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0Q2xhc3Nlcy5UaGFua3NQYW5lbFRpdGxlLFxyXG5cdFx0XHRcdFx0XHRcdFx0XSxcclxuXHRcdFx0XHRcdFx0XHRcdGlubmVyVGV4dDogVUlTdHJpbmdzLmdldFVJU3RyaW5ncygpLlRoYW5rc1BhbmVsPy5UaXRsZSxcclxuXHRcdFx0XHRcdFx0XHRcdHRhZzogVGFncy5EaXYsXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRjbGFzc2VzOiBbXHJcblx0XHRcdFx0XHRcdFx0XHRcdENsYXNzZXMuRm9udFN1YlRleHQsXHJcblx0XHRcdFx0XHRcdFx0XHRcdENsYXNzZXMuVGV4dEFsaWduTGVmdCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0Q2xhc3Nlcy5UaGFua3NQYW5lbE1lc3NhZ2UsXHJcblx0XHRcdFx0XHRcdFx0XHRdLFxyXG5cdFx0XHRcdFx0XHRcdFx0aW5uZXJUZXh0OiBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuVGhhbmtzUGFuZWw/LkFwcHJlY2lhdGVUZXh0LFxyXG5cdFx0XHRcdFx0XHRcdFx0dGFnOiBUYWdzLkRpdixcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdGNsYXNzZXM6IFtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Q2xhc3Nlcy5TdWJtaXRCdXR0b24sXHJcblx0XHRcdFx0XHRcdFx0XHRdLFxyXG5cdFx0XHRcdFx0XHRcdFx0aWQ6IElEcy5UaGFua3NQYW5lbENsb3NlQnV0dG9uLFxyXG5cdFx0XHRcdFx0XHRcdFx0aW5uZXJUZXh0OiBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuVGhhbmtzUGFuZWw/LkNsb3NlLFxyXG5cdFx0XHRcdFx0XHRcdFx0YXJpYUxhYmVsOiBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuVGhhbmtzUGFuZWw/LkNsb3NlLFxyXG5cdFx0XHRcdFx0XHRcdFx0dGFnOiBUYWdzLkJ1dHRvbixcclxuXHRcdFx0XHRcdFx0XHRcdHJvbGU6IFJvbGVzLkJ1dHRvbixcclxuXHRcdFx0XHRcdFx0XHRcdGF0dHJpYnV0ZXM6IFtcclxuXHRcdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5hbWU6IFwiYXJpYS1sYWJlbFwiLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuVGhhbmtzUGFuZWw/LlRpdGxlICsgXCIgXCIgK1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0VUlTdHJpbmdzLmdldFVJU3RyaW5ncygpLlRoYW5rc1BhbmVsPy5BcHByZWNpYXRlVGV4dCArIFwiIFwiICtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5UaGFua3NQYW5lbD8uQ2xvc2UsXHJcblx0XHRcdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0XHRdLFxyXG5cdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdF0sXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdH0sXHJcblx0XHRdLFxyXG5cdFx0Y2xhc3NlczogW0NsYXNzZXMuSGlkZGVuXSxcclxuXHRcdGlkOiBjb250YWluZXJJZCxcclxuXHR9O1xyXG5cdHJldHVybiBmb3JtU2NoZW1hO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIGlkIGZvciB0aGUgY29udGFpbmVyLiBUaGlzIGlzIHRoZSBpZCBvZiB0aGUgdG9wLW1vc3QgZWxlbWVudCBhbmQgc2hvdWxkXHJcbiAqIGJlIHVuaXF1ZSB0byBlYWNoIGZvcm1cclxuICovXHJcbmV4cG9ydCBsZXQgY29udGFpbmVySWQ6IHN0cmluZyA9IElEcy5UaGFua3NQYW5lbENvbnRhaW5lcjtcclxuXHJcbi8qKlxyXG4gKiBUaGlzIG1ldGhvZCBleGVjdXRlcyBmb3JtXHJcbiAqIHNwZWNpZmljIGxvZ2ljIHdoZW4gdGhlIHBhbmUgaXMgb3BlbmVkXHJcbiAqIEBwYXJhbSBwYW5lbFR5cGUgcGFuZWwgdHlwZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIG9uU2VsZWN0KHBhbmVsVHlwZTogUGFuZWxUeXBlKTogdm9pZCB7XHJcblx0aWYgKHBhbmVsVHlwZSAhPT0gUGFuZWxUeXBlLlRoYW5rcykge1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoSURzLlRoYW5rc1BhbmVsQ2xvc2VCdXR0b24pLmZvY3VzKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGb3JtIHRlbXBsYXRlIHR5cGVcclxuICovXHJcbmV4cG9ydCBsZXQgdHlwZTogUGFuZWxUZW1wbGF0ZVR5cGUgPSBQYW5lbFRlbXBsYXRlVHlwZS5UaGFua3M7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/UI/BellyBand/PanelTemplates/ThanksPanelTemplate.ts\n')},"./scripts/app/UI/BellyBand/TabFocus.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cycleTabFocus", function() { return cycleTabFocus; });\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../UiConstants */ "./scripts/app/UI/UiConstants.ts");\n/**\r\n * TabFocus.ts\r\n *\r\n * Module to handle tab and shift tab focus\r\n */\r\n\r\n/**\r\n * Keeps tabs and shift tabs focus on visible elements of the feedback dialog\r\n * This prevents tabs and shift tabs cycle focus to elements of the background main page.\r\n * @param focusedElement The in-focus element object\r\n */\r\nfunction cycleTabFocus(focusedElement) {\r\n    var elements = getTabbableElements();\r\n    // when a tab lands on the last dummy tabbable element, set focus to the first\r\n    // visible element which is the one after the first dummy tabbable element\r\n    if (focusedElement.id === _UiConstants__WEBPACK_IMPORTED_MODULE_0__["IDs"].LastTabbable) {\r\n        for (var i = 0; i < elements.length; i++) {\r\n            var element = elements[i];\r\n            if (element.id === _UiConstants__WEBPACK_IMPORTED_MODULE_0__["IDs"].FirstTabbable || !checkVisible(element)) {\r\n                continue;\r\n            }\r\n            element.focus();\r\n            return;\r\n        }\r\n        // when a shift tab lands on the first dummy tabbable element, set focus to the last\r\n        // visible element which is the one before the last dummy tabbable element\r\n    }\r\n    else if (focusedElement.id === _UiConstants__WEBPACK_IMPORTED_MODULE_0__["IDs"].FirstTabbable) {\r\n        for (var i = elements.length - 1; i >= 0; i--) {\r\n            var element = elements[i];\r\n            if (element.id === _UiConstants__WEBPACK_IMPORTED_MODULE_0__["IDs"].LastTabbable || !checkVisible(element)) {\r\n                continue;\r\n            }\r\n            element.focus();\r\n            return;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Returns a list of tabbable elements.\r\n * @returns {NodeListOf<Element>} list of tabbable elements\r\n */\r\nfunction getTabbableElements() {\r\n    var tabbableSelector = "a[href], area[href], input:not([disabled]):not([tabindex=\\\'-1\\\']), " +\r\n        "button:not([disabled]):not([tabindex=\\\'-1\\\']), select:not([disabled]):not([tabindex=\\\'-1\\\']), " +\r\n        "textarea:not([disabled]):not([tabindex =\\\'-1\\\']), " +\r\n        "object, *[tabindex]:not([tabindex=\\\'-1\\\']), *[contenteditable=true]";\r\n    return document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_0__["IDs"].MainContainer).querySelectorAll(tabbableSelector);\r\n}\r\n/**\r\n * Returns visibility of an element by inspecting the element\'s parent class name for visible/hidden value.\r\n * Walk up the parent chain if needed.\r\n * @param element The element object\r\n * @returns {Boolean} whether the element is visible\r\n */\r\nfunction checkVisible(element) {\r\n    if (!element.parentElement) {\r\n        return false;\r\n    }\r\n    // don\'t bother if parent element id is just whitespace or empty\r\n    if (/\\S/.test(element.parentElement.id)) {\r\n        if (element.parentElement.className.indexOf(_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].Visible) >= 0) {\r\n            return true;\r\n        }\r\n        if (element.parentElement.className.indexOf(_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].Hidden) >= 0) {\r\n            return false;\r\n        }\r\n    }\r\n    return checkVisible(element.parentElement);\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9CZWxseUJhbmQvVGFiRm9jdXMudHM/NTQxYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTs7OztHQUlHO0FBRTZDO0FBRWhEOzs7O0dBSUc7QUFDSSxTQUFTLGFBQWEsQ0FBQyxjQUF1QjtJQUNwRCxJQUFJLFFBQVEsR0FBRyxtQkFBbUIsRUFBRSxDQUFDO0lBRXJDLDhFQUE4RTtJQUM5RSwwRUFBMEU7SUFDMUUsSUFBSSxjQUFjLENBQUMsRUFBRSxLQUFLLGdEQUFHLENBQUMsWUFBWSxFQUFFO1FBQzNDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ3pDLElBQUksT0FBTyxHQUFrQixRQUFRLENBQUMsQ0FBQyxDQUFFLENBQUM7WUFFMUMsSUFBSSxPQUFPLENBQUMsRUFBRSxLQUFLLGdEQUFHLENBQUMsYUFBYSxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxFQUFFO2dCQUMvRCxTQUFTO2FBQ1Q7WUFFRCxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDaEIsT0FBTztTQUNQO1FBQ0Qsb0ZBQW9GO1FBQ3BGLDBFQUEwRTtLQUMxRTtTQUFNLElBQUksY0FBYyxDQUFDLEVBQUUsS0FBSyxnREFBRyxDQUFDLGFBQWEsRUFBRTtRQUNuRCxLQUFLLElBQUksQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDOUMsSUFBSSxPQUFPLEdBQWtCLFFBQVEsQ0FBQyxDQUFDLENBQUUsQ0FBQztZQUUxQyxJQUFJLE9BQU8sQ0FBQyxFQUFFLEtBQUssZ0RBQUcsQ0FBQyxZQUFZLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLEVBQUU7Z0JBQzlELFNBQVM7YUFDVDtZQUVELE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUNoQixPQUFPO1NBQ1A7S0FDRDtBQUNGLENBQUM7QUFFRDs7O0dBR0c7QUFDSCxTQUFTLG1CQUFtQjtJQUMzQixJQUFNLGdCQUFnQixHQUFHLHFFQUFxRTtRQUM3RixnR0FBZ0c7UUFDaEcsb0RBQW9EO1FBQ3BELHFFQUFxRSxDQUFDO0lBRXZFLE9BQU8sUUFBUSxDQUFDLGNBQWMsQ0FBQyxnREFBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLGdCQUFnQixDQUFDLENBQUM7QUFDdEYsQ0FBQztBQUVEOzs7OztHQUtHO0FBQ0gsU0FBUyxZQUFZLENBQUMsT0FBb0I7SUFDekMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLEVBQUU7UUFDM0IsT0FBTyxLQUFLLENBQUM7S0FDYjtJQUVELGdFQUFnRTtJQUNoRSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxFQUFFLENBQUMsRUFBRTtRQUN4QyxJQUFJLE9BQU8sQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxvREFBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNsRSxPQUFPLElBQUksQ0FBQztTQUNaO1FBRUQsSUFBSSxPQUFPLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsb0RBQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDakUsT0FBTyxLQUFLLENBQUM7U0FDYjtLQUNEO0lBRUQsT0FBTyxZQUFZLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0FBQzVDLENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9VSS9CZWxseUJhbmQvVGFiRm9jdXMudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogVGFiRm9jdXMudHNcclxuICpcclxuICogTW9kdWxlIHRvIGhhbmRsZSB0YWIgYW5kIHNoaWZ0IHRhYiBmb2N1c1xyXG4gKi9cclxuXHJcbmltcG9ydCB7IENsYXNzZXMsIElEcyB9IGZyb20gXCIuLy4uL1VpQ29uc3RhbnRzXCI7XHJcblxyXG4vKipcclxuICogS2VlcHMgdGFicyBhbmQgc2hpZnQgdGFicyBmb2N1cyBvbiB2aXNpYmxlIGVsZW1lbnRzIG9mIHRoZSBmZWVkYmFjayBkaWFsb2dcclxuICogVGhpcyBwcmV2ZW50cyB0YWJzIGFuZCBzaGlmdCB0YWJzIGN5Y2xlIGZvY3VzIHRvIGVsZW1lbnRzIG9mIHRoZSBiYWNrZ3JvdW5kIG1haW4gcGFnZS5cclxuICogQHBhcmFtIGZvY3VzZWRFbGVtZW50IFRoZSBpbi1mb2N1cyBlbGVtZW50IG9iamVjdFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGN5Y2xlVGFiRm9jdXMoZm9jdXNlZEVsZW1lbnQ6IEVsZW1lbnQpOiB2b2lkIHtcclxuXHRsZXQgZWxlbWVudHMgPSBnZXRUYWJiYWJsZUVsZW1lbnRzKCk7XHJcblxyXG5cdC8vIHdoZW4gYSB0YWIgbGFuZHMgb24gdGhlIGxhc3QgZHVtbXkgdGFiYmFibGUgZWxlbWVudCwgc2V0IGZvY3VzIHRvIHRoZSBmaXJzdFxyXG5cdC8vIHZpc2libGUgZWxlbWVudCB3aGljaCBpcyB0aGUgb25lIGFmdGVyIHRoZSBmaXJzdCBkdW1teSB0YWJiYWJsZSBlbGVtZW50XHJcblx0aWYgKGZvY3VzZWRFbGVtZW50LmlkID09PSBJRHMuTGFzdFRhYmJhYmxlKSB7XHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGxldCBlbGVtZW50ID0gKDxIVE1MRWxlbWVudD4gZWxlbWVudHNbaV0pO1xyXG5cclxuXHRcdFx0aWYgKGVsZW1lbnQuaWQgPT09IElEcy5GaXJzdFRhYmJhYmxlIHx8ICFjaGVja1Zpc2libGUoZWxlbWVudCkpIHtcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZWxlbWVudC5mb2N1cygpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0XHQvLyB3aGVuIGEgc2hpZnQgdGFiIGxhbmRzIG9uIHRoZSBmaXJzdCBkdW1teSB0YWJiYWJsZSBlbGVtZW50LCBzZXQgZm9jdXMgdG8gdGhlIGxhc3RcclxuXHRcdC8vIHZpc2libGUgZWxlbWVudCB3aGljaCBpcyB0aGUgb25lIGJlZm9yZSB0aGUgbGFzdCBkdW1teSB0YWJiYWJsZSBlbGVtZW50XHJcblx0fSBlbHNlIGlmIChmb2N1c2VkRWxlbWVudC5pZCA9PT0gSURzLkZpcnN0VGFiYmFibGUpIHtcclxuXHRcdGZvciAobGV0IGkgPSBlbGVtZW50cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG5cdFx0XHRsZXQgZWxlbWVudCA9ICg8SFRNTEVsZW1lbnQ+IGVsZW1lbnRzW2ldKTtcclxuXHJcblx0XHRcdGlmIChlbGVtZW50LmlkID09PSBJRHMuTGFzdFRhYmJhYmxlIHx8ICFjaGVja1Zpc2libGUoZWxlbWVudCkpIHtcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZWxlbWVudC5mb2N1cygpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogUmV0dXJucyBhIGxpc3Qgb2YgdGFiYmFibGUgZWxlbWVudHMuXHJcbiAqIEByZXR1cm5zIHtOb2RlTGlzdE9mPEVsZW1lbnQ+fSBsaXN0IG9mIHRhYmJhYmxlIGVsZW1lbnRzXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRUYWJiYWJsZUVsZW1lbnRzKCk6IE5vZGVMaXN0T2Y8RWxlbWVudD4ge1xyXG5cdGNvbnN0IHRhYmJhYmxlU2VsZWN0b3IgPSBcImFbaHJlZl0sIGFyZWFbaHJlZl0sIGlucHV0Om5vdChbZGlzYWJsZWRdKTpub3QoW3RhYmluZGV4PVxcJy0xXFwnXSksIFwiICtcclxuXHRcdFwiYnV0dG9uOm5vdChbZGlzYWJsZWRdKTpub3QoW3RhYmluZGV4PVxcJy0xXFwnXSksIHNlbGVjdDpub3QoW2Rpc2FibGVkXSk6bm90KFt0YWJpbmRleD1cXCctMVxcJ10pLCBcIiArXHJcblx0XHRcInRleHRhcmVhOm5vdChbZGlzYWJsZWRdKTpub3QoW3RhYmluZGV4ID1cXCctMVxcJ10pLCBcIiArXHJcblx0XHRcIm9iamVjdCwgKlt0YWJpbmRleF06bm90KFt0YWJpbmRleD1cXCctMVxcJ10pLCAqW2NvbnRlbnRlZGl0YWJsZT10cnVlXVwiO1xyXG5cclxuXHRyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoSURzLk1haW5Db250YWluZXIpLnF1ZXJ5U2VsZWN0b3JBbGwodGFiYmFibGVTZWxlY3Rvcik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIHZpc2liaWxpdHkgb2YgYW4gZWxlbWVudCBieSBpbnNwZWN0aW5nIHRoZSBlbGVtZW50J3MgcGFyZW50IGNsYXNzIG5hbWUgZm9yIHZpc2libGUvaGlkZGVuIHZhbHVlLlxyXG4gKiBXYWxrIHVwIHRoZSBwYXJlbnQgY2hhaW4gaWYgbmVlZGVkLlxyXG4gKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCBvYmplY3RcclxuICogQHJldHVybnMge0Jvb2xlYW59IHdoZXRoZXIgdGhlIGVsZW1lbnQgaXMgdmlzaWJsZVxyXG4gKi9cclxuZnVuY3Rpb24gY2hlY2tWaXNpYmxlKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogYm9vbGVhbiB7XHJcblx0aWYgKCFlbGVtZW50LnBhcmVudEVsZW1lbnQpIHtcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblxyXG5cdC8vIGRvbid0IGJvdGhlciBpZiBwYXJlbnQgZWxlbWVudCBpZCBpcyBqdXN0IHdoaXRlc3BhY2Ugb3IgZW1wdHlcclxuXHRpZiAoL1xcUy8udGVzdChlbGVtZW50LnBhcmVudEVsZW1lbnQuaWQpKSB7XHJcblx0XHRpZiAoZWxlbWVudC5wYXJlbnRFbGVtZW50LmNsYXNzTmFtZS5pbmRleE9mKENsYXNzZXMuVmlzaWJsZSkgPj0gMCkge1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoZWxlbWVudC5wYXJlbnRFbGVtZW50LmNsYXNzTmFtZS5pbmRleE9mKENsYXNzZXMuSGlkZGVuKSA+PSAwKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiBjaGVja1Zpc2libGUoZWxlbWVudC5wYXJlbnRFbGVtZW50KTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/UI/BellyBand/TabFocus.ts\n')},"./scripts/app/UI/CategoriesDropdown.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generate", function() { return generate; });\n/* harmony import */ var _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../UIStrings/UIStrings */ "./scripts/app/UIStrings/UIStrings.ts");\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UiConstants */ "./scripts/app/UI/UiConstants.ts");\n/**\r\n * CategoriesDropdown.ts\r\n *\r\n * A module to render the categories dropdown\r\n */\r\n\r\n\r\n/**\r\n * Generate custom categories drop-down list. The list will contain just the\r\n * placeholder string if customCategories contains no value.\r\n * @param customCategories category values\r\n */\r\nfunction generate(customCategories) {\r\n    var categories = customCategories ? customCategories : [];\r\n    var result = [{\r\n            attributes: [{ name: "selected", value: "true" }],\r\n            innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_0__["getUIStrings"]().Form.CategoryPlaceholder,\r\n            tag: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["Tags"].Option,\r\n        }];\r\n    for (var _i = 0, categories_1 = categories; _i < categories_1.length; _i++) {\r\n        var category = categories_1[_i];\r\n        result.push({\r\n            innerText: category,\r\n            tag: _UiConstants__WEBPACK_IMPORTED_MODULE_1__["Tags"].Option,\r\n        });\r\n    }\r\n    return result;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9DYXRlZ29yaWVzRHJvcGRvd24udHM/Mzc3NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0dBSUc7QUFFbUQ7QUFDaEI7QUFHdEM7Ozs7R0FJRztBQUNJLFNBQVMsUUFBUSxDQUFDLGdCQUEwQjtJQUNsRCxJQUFJLFVBQVUsR0FBRyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUUxRCxJQUFJLE1BQU0sR0FBZ0IsQ0FBQztZQUMxQixVQUFVLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxDQUFDO1lBQ2pELFNBQVMsRUFBRSxpRUFBc0IsRUFBRSxDQUFDLElBQUksQ0FBQyxtQkFBbUI7WUFDNUQsR0FBRyxFQUFFLGlEQUFJLENBQUMsTUFBTTtTQUNoQixDQUFDLENBQUM7SUFFSCxLQUFxQixVQUFVLEVBQVYseUJBQVUsRUFBVix3QkFBVSxFQUFWLElBQVUsRUFBRTtRQUE1QixJQUFJLFFBQVE7UUFDaEIsTUFBTSxDQUFDLElBQUksQ0FBQztZQUNYLFNBQVMsRUFBRSxRQUFRO1lBQ25CLEdBQUcsRUFBRSxpREFBSSxDQUFDLE1BQU07U0FDaEIsQ0FBQyxDQUFDO0tBQ0g7SUFFRCxPQUFPLE1BQU0sQ0FBQztBQUNmLENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9VSS9DYXRlZ29yaWVzRHJvcGRvd24udHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQ2F0ZWdvcmllc0Ryb3Bkb3duLnRzXHJcbiAqXHJcbiAqIEEgbW9kdWxlIHRvIHJlbmRlciB0aGUgY2F0ZWdvcmllcyBkcm9wZG93blxyXG4gKi9cclxuXHJcbmltcG9ydCAqIGFzIFVJU3RyaW5ncyBmcm9tIFwiLi8uLi9VSVN0cmluZ3MvVUlTdHJpbmdzXCI7XHJcbmltcG9ydCB7IFRhZ3MgfSAgZnJvbSBcIi4vVWlDb25zdGFudHNcIjtcclxuaW1wb3J0IHsgSVVJQXNKc29uIH0gZnJvbSBcIi4vUmVuZGVyZXJcIjtcclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZSBjdXN0b20gY2F0ZWdvcmllcyBkcm9wLWRvd24gbGlzdC4gVGhlIGxpc3Qgd2lsbCBjb250YWluIGp1c3QgdGhlXHJcbiAqIHBsYWNlaG9sZGVyIHN0cmluZyBpZiBjdXN0b21DYXRlZ29yaWVzIGNvbnRhaW5zIG5vIHZhbHVlLlxyXG4gKiBAcGFyYW0gY3VzdG9tQ2F0ZWdvcmllcyBjYXRlZ29yeSB2YWx1ZXNcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZShjdXN0b21DYXRlZ29yaWVzOiBzdHJpbmdbXSk6IElVSUFzSnNvbltdIHtcclxuXHRsZXQgY2F0ZWdvcmllcyA9IGN1c3RvbUNhdGVnb3JpZXMgPyBjdXN0b21DYXRlZ29yaWVzIDogW107XHJcblxyXG5cdGxldCByZXN1bHQ6IElVSUFzSnNvbltdID0gW3tcclxuXHRcdGF0dHJpYnV0ZXM6IFt7IG5hbWU6IFwic2VsZWN0ZWRcIiwgdmFsdWU6IFwidHJ1ZVwiIH1dLFxyXG5cdFx0aW5uZXJUZXh0OiBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuRm9ybS5DYXRlZ29yeVBsYWNlaG9sZGVyLFxyXG5cdFx0dGFnOiBUYWdzLk9wdGlvbixcclxuXHR9XTtcclxuXHJcblx0Zm9yIChsZXQgY2F0ZWdvcnkgb2YgY2F0ZWdvcmllcykge1xyXG5cdFx0cmVzdWx0LnB1c2goe1xyXG5cdFx0XHRpbm5lclRleHQ6IGNhdGVnb3J5LFxyXG5cdFx0XHR0YWc6IFRhZ3MuT3B0aW9uLFxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gcmVzdWx0O1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/UI/CategoriesDropdown.ts\n')},"./scripts/app/UI/ChoiceGroupControl.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generateRadioGroup", function() { return generateRadioGroup; });\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UiConstants */ "./scripts/app/UI/UiConstants.ts");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Utils */ "./scripts/app/Utils.ts");\n/**\r\n * ChoiceGroupControl.ts\r\n *\r\n * A module for rendering a choice group.\r\n */\r\n\r\n\r\nvar isNOU = _Utils__WEBPACK_IMPORTED_MODULE_1__["isNOU"];\r\nfunction generateRadioGroup(id, question, choices) {\r\n    var fieldSet = {\r\n        children: [],\r\n        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Tags"].FieldSet,\r\n    };\r\n    if (!isNOU(question)) {\r\n        Array.prototype.push.apply(fieldSet.children, [{\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].FontSubText],\r\n                id: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["IDs"].TFormRatingQuestion,\r\n                innerText: question,\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Tags"].Legend,\r\n                // Legacy Edge need aria-label for accessibility\r\n                attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].AriaLabel, value: question }],\r\n            }]);\r\n    }\r\n    for (var _i = 0, choices_1 = choices; _i < choices_1.length; _i++) {\r\n        var choice = choices_1[_i];\r\n        Array.prototype.push.apply(fieldSet.children, generateRadioButton(choice[0].toString(), choice[1], id));\r\n    }\r\n    return {\r\n        children: [fieldSet],\r\n        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].ChoiceGroup],\r\n        id: id,\r\n    };\r\n}\r\nfunction generateRadioButton(value, label, id) {\r\n    return [\r\n        {\r\n            attributes: [\r\n                { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].Type, value: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeValue"].Radio },\r\n                { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].Value, value: value },\r\n                { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].Name, value: id },\r\n            ],\r\n            id: value,\r\n            tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Tags"].Input,\r\n        },\r\n        {\r\n            attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].For, value: value }],\r\n            children: [\r\n                {\r\n                    children: [{ tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Tags"].Span }],\r\n                    classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].ChoiceGroupIcon],\r\n                    tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Tags"].Span,\r\n                },\r\n                {\r\n                    classes: ["obf-ChoiceGroupLabel"],\r\n                    innerHTML: label,\r\n                    tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Tags"].Span,\r\n                },\r\n            ],\r\n            classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].FontSubText],\r\n            tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Tags"].Label,\r\n        },\r\n    ];\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9DaG9pY2VHcm91cENvbnRyb2wudHM/ZDYyYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0dBSUc7QUFFK0U7QUFFaEQ7QUFFMUIsU0FBSyxHQUFLLDRDQUFMLENBQVc7QUFFakIsU0FBUyxrQkFBa0IsQ0FBQyxFQUFVLEVBQUUsUUFBZ0IsRUFBRSxPQUEyQjtJQUMzRixJQUFJLFFBQVEsR0FBdUI7UUFDakMsUUFBUSxFQUFFLEVBQUU7UUFDWixHQUFHLEVBQUUsaURBQUksQ0FBQyxRQUFRO0tBQ2xCLENBQUM7SUFFSCxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxFQUFFO1FBQ3JCLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FDekIsUUFBUSxDQUFDLFFBQVEsRUFDakIsQ0FBQztnQkFDQSxPQUFPLEVBQUUsQ0FBQyxvREFBTyxDQUFDLFdBQVcsQ0FBQztnQkFDOUIsRUFBRSxFQUFFLGdEQUFHLENBQUMsbUJBQW1CO2dCQUMzQixTQUFTLEVBQUUsUUFBUTtnQkFDbkIsR0FBRyxFQUFFLGlEQUFJLENBQUMsTUFBTTtnQkFDaEIsZ0RBQWdEO2dCQUNoRCxVQUFVLEVBQUUsQ0FBQyxFQUFDLElBQUksRUFBRSwwREFBYSxDQUFDLFNBQVMsRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLENBQUM7YUFDL0QsQ0FBQyxDQUNGLENBQUM7S0FDRjtJQUVELEtBQW1CLFVBQU8sRUFBUCxtQkFBTyxFQUFQLHFCQUFPLEVBQVAsSUFBTyxFQUFFO1FBQXZCLElBQUksTUFBTTtRQUNkLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLG1CQUFtQixDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztLQUN4RztJQUVELE9BQU87UUFDTixRQUFRLEVBQUUsQ0FBQyxRQUFRLENBQUM7UUFDcEIsT0FBTyxFQUFFLENBQUMsb0RBQU8sQ0FBQyxXQUFXLENBQUM7UUFDOUIsRUFBRSxFQUFFLEVBQUU7S0FDTixDQUFDO0FBQ0gsQ0FBQztBQUVELFNBQVMsbUJBQW1CLENBQUMsS0FBYSxFQUFFLEtBQWEsRUFBRSxFQUFVO0lBQ3BFLE9BQU87UUFDTjtZQUNDLFVBQVUsRUFBRTtnQkFDWCxFQUFFLElBQUksRUFBRSwwREFBYSxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsMkRBQWMsQ0FBQyxLQUFLLEVBQUU7Z0JBQ3pELEVBQUUsSUFBSSxFQUFFLDBEQUFhLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUU7Z0JBQzNDLEVBQUUsSUFBSSxFQUFFLDBEQUFhLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUU7YUFDdkM7WUFDRCxFQUFFLEVBQUUsS0FBSztZQUNULEdBQUcsRUFBRSxpREFBSSxDQUFDLEtBQUs7U0FDZjtRQUNEO1lBQ0MsVUFBVSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsMERBQWEsQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxDQUFDO1lBQ3ZELFFBQVEsRUFBRTtnQkFDVDtvQkFDQyxRQUFRLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxpREFBSSxDQUFDLElBQUksRUFBRSxDQUFDO29CQUM5QixPQUFPLEVBQUUsQ0FBQyxvREFBTyxDQUFDLGVBQWUsQ0FBQztvQkFDbEMsR0FBRyxFQUFFLGlEQUFJLENBQUMsSUFBSTtpQkFDZDtnQkFDRDtvQkFDQyxPQUFPLEVBQUUsQ0FBQyxzQkFBc0IsQ0FBQztvQkFDakMsU0FBUyxFQUFFLEtBQUs7b0JBQ2hCLEdBQUcsRUFBRSxpREFBSSxDQUFDLElBQUk7aUJBQ2Q7YUFDRDtZQUNELE9BQU8sRUFBRSxDQUFDLG9EQUFPLENBQUMsV0FBVyxDQUFDO1lBQzlCLEdBQUcsRUFBRSxpREFBSSxDQUFDLEtBQUs7U0FDZjtLQUNELENBQUM7QUFDSCxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvVUkvQ2hvaWNlR3JvdXBDb250cm9sLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENob2ljZUdyb3VwQ29udHJvbC50c1xyXG4gKlxyXG4gKiBBIG1vZHVsZSBmb3IgcmVuZGVyaW5nIGEgY2hvaWNlIGdyb3VwLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IEF0dHJpYnV0ZU5hbWUsIEF0dHJpYnV0ZVZhbHVlLCBDbGFzc2VzLCBJRHMsIFRhZ3MgfSBmcm9tIFwiLi9VaUNvbnN0YW50c1wiO1xyXG5pbXBvcnQgKiBhcyBSZW5kZXJlciBmcm9tIFwiLi9SZW5kZXJlclwiO1xyXG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tIFwiLi4vVXRpbHNcIjtcclxuXHJcbmNvbnN0IHsgaXNOT1UgfSA9IFV0aWxzO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlUmFkaW9Hcm91cChpZDogc3RyaW5nLCBxdWVzdGlvbjogc3RyaW5nLCBjaG9pY2VzOiBbbnVtYmVyLCBzdHJpbmddW10pOiBSZW5kZXJlci5JVUlBc0pzb24ge1xyXG5cdGxldCBmaWVsZFNldDogUmVuZGVyZXIuSVVJQXNKc29uID0ge1xyXG5cdFx0XHRjaGlsZHJlbjogW10sXHJcblx0XHRcdHRhZzogVGFncy5GaWVsZFNldCxcclxuXHRcdH07XHJcblxyXG5cdGlmICghaXNOT1UocXVlc3Rpb24pKSB7XHJcblx0XHRBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShcclxuXHRcdFx0ZmllbGRTZXQuY2hpbGRyZW4sXHJcblx0XHRcdFt7XHJcblx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9udFN1YlRleHRdLFxyXG5cdFx0XHRcdGlkOiBJRHMuVEZvcm1SYXRpbmdRdWVzdGlvbixcclxuXHRcdFx0XHRpbm5lclRleHQ6IHF1ZXN0aW9uLFxyXG5cdFx0XHRcdHRhZzogVGFncy5MZWdlbmQsXHJcblx0XHRcdFx0Ly8gTGVnYWN5IEVkZ2UgbmVlZCBhcmlhLWxhYmVsIGZvciBhY2Nlc3NpYmlsaXR5XHJcblx0XHRcdFx0YXR0cmlidXRlczogW3tuYW1lOiBBdHRyaWJ1dGVOYW1lLkFyaWFMYWJlbCwgdmFsdWU6IHF1ZXN0aW9uIH1dLFxyXG5cdFx0XHR9XVxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdGZvciAobGV0IGNob2ljZSBvZiBjaG9pY2VzKSB7XHJcblx0XHRBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShmaWVsZFNldC5jaGlsZHJlbiwgZ2VuZXJhdGVSYWRpb0J1dHRvbihjaG9pY2VbMF0udG9TdHJpbmcoKSwgY2hvaWNlWzFdLCBpZCkpO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIHtcclxuXHRcdGNoaWxkcmVuOiBbZmllbGRTZXRdLFxyXG5cdFx0Y2xhc3NlczogW0NsYXNzZXMuQ2hvaWNlR3JvdXBdLFxyXG5cdFx0aWQ6IGlkLFxyXG5cdH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlUmFkaW9CdXR0b24odmFsdWU6IHN0cmluZywgbGFiZWw6IHN0cmluZywgaWQ6IHN0cmluZyk6IFJlbmRlcmVyLklVSUFzSnNvbltdIHtcclxuXHRyZXR1cm4gW1xyXG5cdFx0e1xyXG5cdFx0XHRhdHRyaWJ1dGVzOiBbXHJcblx0XHRcdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLlR5cGUsIHZhbHVlOiBBdHRyaWJ1dGVWYWx1ZS5SYWRpbyB9LFxyXG5cdFx0XHRcdHsgbmFtZTogQXR0cmlidXRlTmFtZS5WYWx1ZSwgdmFsdWU6IHZhbHVlIH0sXHJcblx0XHRcdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLk5hbWUsIHZhbHVlOiBpZCB9LFxyXG5cdFx0XHRdLFxyXG5cdFx0XHRpZDogdmFsdWUsXHJcblx0XHRcdHRhZzogVGFncy5JbnB1dCxcclxuXHRcdH0sXHJcblx0XHR7XHJcblx0XHRcdGF0dHJpYnV0ZXM6IFt7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuRm9yLCB2YWx1ZTogdmFsdWUgfV0sXHJcblx0XHRcdGNoaWxkcmVuOiBbXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0Y2hpbGRyZW46IFt7IHRhZzogVGFncy5TcGFuIH1dLFxyXG5cdFx0XHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuQ2hvaWNlR3JvdXBJY29uXSxcclxuXHRcdFx0XHRcdHRhZzogVGFncy5TcGFuLFxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0Y2xhc3NlczogW1wib2JmLUNob2ljZUdyb3VwTGFiZWxcIl0sXHJcblx0XHRcdFx0XHRpbm5lckhUTUw6IGxhYmVsLFxyXG5cdFx0XHRcdFx0dGFnOiBUYWdzLlNwYW4sXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XSxcclxuXHRcdFx0Y2xhc3NlczogW0NsYXNzZXMuRm9udFN1YlRleHRdLFxyXG5cdFx0XHR0YWc6IFRhZ3MuTGFiZWwsXHJcblx0XHR9LFxyXG5cdF07XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/UI/ChoiceGroupControl.ts\n')},"./scripts/app/UI/RatingControl.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generate", function() { return generate; });\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UiConstants */ "./scripts/app/UI/UiConstants.ts");\n/**\r\n * RatingControl.ts\r\n *\r\n * A module for a rating control.\r\n */\r\n\r\nvar starId = "obf-star";\r\nvar starDefinition = {\r\n    children: [\r\n        {\r\n            attributes: [\r\n                { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].Id, value: starId },\r\n                { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].X, value: "0" },\r\n                { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].Y, value: "0" },\r\n                { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].Width, value: "105" },\r\n                { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].Height, value: "100" },\r\n                {\r\n                    name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].Points,\r\n                    value: "52.5, 80.3 84, 100 76.3, 63 105, 38 67.2, 35 52.5, 0 37.8, 35 0, 38 28.7, 63 20, 100 52.5, 80.3",\r\n                },\r\n            ],\r\n            id: starId,\r\n            tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Tags"].Polygon,\r\n        },\r\n    ],\r\n    tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Tags"].Defs,\r\n};\r\nvar firstStar = {\r\n    attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].xlinkHref, value: "#" + starId }],\r\n    tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Tags"].Use,\r\n};\r\nvar secondStar = {\r\n    attributes: [\r\n        { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].xlinkHref, value: "#" + starId },\r\n        { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].Transform, value: "translate(105 0)" },\r\n    ],\r\n    tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Tags"].Use,\r\n};\r\nvar thirdStar = {\r\n    attributes: [\r\n        { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].xlinkHref, value: "#" + starId },\r\n        { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].Transform, value: "translate(210 0)" },\r\n    ],\r\n    tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Tags"].Use,\r\n};\r\nvar fourthStar = {\r\n    attributes: [\r\n        { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].xlinkHref, value: "#" + starId },\r\n        { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].Transform, value: "translate(315 0)" },\r\n    ],\r\n    tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Tags"].Use,\r\n};\r\nvar fifthStar = {\r\n    attributes: [\r\n        { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].xlinkHref, value: "#" + starId },\r\n        { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].Transform, value: "translate(420 0)" },\r\n    ],\r\n    tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Tags"].Use,\r\n};\r\nvar emptyStars = {\r\n    attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].ViewBox, value: "0 0 525 100" }],\r\n    children: [starDefinition, firstStar, secondStar, thirdStar, fourthStar, fifthStar],\r\n    classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].RatingGraphic],\r\n    tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Tags"].Svg,\r\n};\r\nvar oneFilledStar = {\r\n    attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].ViewBox, value: "0 0 105 100" }],\r\n    children: [starDefinition, firstStar],\r\n    classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].RatingGraphic, _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].RatingGraphicFilled],\r\n    tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Tags"].Svg,\r\n};\r\nvar twoFilledStar = {\r\n    attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].ViewBox, value: "0 0 210 100" }],\r\n    children: [starDefinition, firstStar, secondStar],\r\n    classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].RatingGraphic, _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].RatingGraphicFilled],\r\n    tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Tags"].Svg,\r\n};\r\nvar threeFilledStar = {\r\n    attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].ViewBox, value: "0 0 315 100" }],\r\n    children: [starDefinition, firstStar, secondStar, thirdStar],\r\n    classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].RatingGraphic, _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].RatingGraphicFilled],\r\n    tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Tags"].Svg,\r\n};\r\nvar fourFilledStar = {\r\n    attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].ViewBox, value: "0 0 420 100" }],\r\n    children: [starDefinition, firstStar, secondStar, thirdStar, fourthStar],\r\n    classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].RatingGraphic, _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].RatingGraphicFilled],\r\n    tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Tags"].Svg,\r\n};\r\nvar fiveFilledStar = {\r\n    attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].ViewBox, value: "0 0 525 100" }],\r\n    children: [starDefinition, firstStar, secondStar, thirdStar, fourthStar, fifthStar],\r\n    classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].RatingGraphic, _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].RatingGraphicFilled],\r\n    tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Tags"].Svg,\r\n};\r\nfunction generate(id) {\r\n    return {\r\n        children: [\r\n            emptyStars,\r\n            {\r\n                attributes: [\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].Type, value: "radio" },\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].Name, value: id },\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].Value, value: "1" },\r\n                ],\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Tags"].Input,\r\n            },\r\n            oneFilledStar,\r\n            {\r\n                attributes: [\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].Type, value: "radio" },\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].Name, value: id },\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].Value, value: "2" },\r\n                ],\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Tags"].Input,\r\n            },\r\n            twoFilledStar,\r\n            {\r\n                attributes: [\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].Type, value: "radio" },\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].Name, value: id },\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].Value, value: "3" },\r\n                ],\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Tags"].Input,\r\n            },\r\n            threeFilledStar,\r\n            {\r\n                attributes: [\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].Type, value: "radio" },\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].Name, value: id },\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].Value, value: "4" },\r\n                ],\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Tags"].Input,\r\n            },\r\n            fourFilledStar,\r\n            {\r\n                attributes: [\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].Type, value: "radio" },\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].Name, value: id },\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].Value, value: "5" },\r\n                ],\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Tags"].Input,\r\n            },\r\n            fiveFilledStar,\r\n        ],\r\n        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].Rating],\r\n        id: id,\r\n        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Tags"].Span,\r\n    };\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9SYXRpbmdDb250cm9sLnRzP2Q0YzUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRztBQUUwRDtBQUc3RCxJQUFJLE1BQU0sR0FBVyxVQUFVLENBQUM7QUFFaEMsSUFBSSxjQUFjLEdBQXVCO0lBQ3hDLFFBQVEsRUFBRTtRQUNUO1lBQ0MsVUFBVSxFQUFFO2dCQUNYLEVBQUUsSUFBSSxFQUFFLDBEQUFhLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUU7Z0JBQ3pDLEVBQUUsSUFBSSxFQUFFLDBEQUFhLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUU7Z0JBQ3JDLEVBQUUsSUFBSSxFQUFFLDBEQUFhLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUU7Z0JBQ3JDLEVBQUUsSUFBSSxFQUFFLDBEQUFhLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUU7Z0JBQzNDLEVBQUUsSUFBSSxFQUFFLDBEQUFhLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUU7Z0JBQzVDO29CQUNDLElBQUksRUFBRSwwREFBYSxDQUFDLE1BQU07b0JBQzFCLEtBQUssRUFBRSxpR0FBaUc7aUJBQ3hHO2FBQ0Q7WUFDRCxFQUFFLEVBQUUsTUFBTTtZQUNWLEdBQUcsRUFBRSxpREFBSSxDQUFDLE9BQU87U0FDakI7S0FDRDtJQUNELEdBQUcsRUFBRSxpREFBSSxDQUFDLElBQUk7Q0FDZCxDQUFDO0FBRUYsSUFBSSxTQUFTLEdBQXVCO0lBQ25DLFVBQVUsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLDBEQUFhLENBQUMsU0FBUyxFQUFFLEtBQUssRUFBRSxNQUFJLE1BQVEsRUFBRSxDQUFDO0lBQ3BFLEdBQUcsRUFBRSxpREFBSSxDQUFDLEdBQUc7Q0FDYixDQUFDO0FBRUYsSUFBSSxVQUFVLEdBQXVCO0lBQ3BDLFVBQVUsRUFB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REFBYSxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFO29CQUM1QyxFQUFFLElBQUksRUFBRSwwREFBYSxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFO29CQUN2QyxFQUFFLElBQUksRUFBRSwwREFBYSxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFO2lCQUN6QztnQkFDRCxHQUFHLEVBQUUsaURBQUksQ0FBQyxLQUFLO2FBQ2Y7WUFDRCxjQUFjO1NBQ2Q7UUFDRCxPQUFPLEVBQUUsQ0FBQyxvREFBTyxDQUFDLE1BQU0sQ0FBQztRQUN6QixFQUFFLEVBQUUsRUFBRTtRQUNOLEdBQUcsRUFBRSxpREFBSSxDQUFDLElBQUk7S0FDZCxDQUFDO0FBQ0gsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1VJL1JhdGluZ0NvbnRyb2wudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogUmF0aW5nQ29udHJvbC50c1xyXG4gKlxyXG4gKiBBIG1vZHVsZSBmb3IgYSByYXRpbmcgY29udHJvbC5cclxuICovXHJcblxyXG5pbXBvcnQgeyBBdHRyaWJ1dGVOYW1lLCBDbGFzc2VzLCBUYWdzIH0gZnJvbSBcIi4vVWlDb25zdGFudHNcIjtcclxuaW1wb3J0ICogYXMgUmVuZGVyZXIgZnJvbSBcIi4vUmVuZGVyZXJcIjtcclxuXHJcbmxldCBzdGFySWQ6IHN0cmluZyA9IFwib2JmLXN0YXJcIjtcclxuXHJcbmxldCBzdGFyRGVmaW5pdGlvbjogUmVuZGVyZXIuSVVJQXNKc29uID0ge1xyXG5cdGNoaWxkcmVuOiBbXHJcblx0XHR7XHJcblx0XHRcdGF0dHJpYnV0ZXM6IFtcclxuXHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuSWQsIHZhbHVlOiBzdGFySWQgfSxcclxuXHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuWCwgdmFsdWU6IFwiMFwiIH0sXHJcblx0XHRcdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLlksIHZhbHVlOiBcIjBcIiB9LFxyXG5cdFx0XHRcdHsgbmFtZTogQXR0cmlidXRlTmFtZS5XaWR0aCwgdmFsdWU6IFwiMTA1XCIgfSxcclxuXHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuSGVpZ2h0LCB2YWx1ZTogXCIxMDBcIiB9LFxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuUG9pbnRzLFxyXG5cdFx0XHRcdFx0dmFsdWU6IFwiNTIuNSwgODAuMyA4NCwgMTAwIDc2LjMsIDYzIDEwNSwgMzggNjcuMiwgMzUgNTIuNSwgMCAzNy44LCAzNSAwLCAzOCAyOC43LCA2MyAyMCwgMTAwIDUyLjUsIDgwLjNcIixcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRdLFxyXG5cdFx0XHRpZDogc3RhcklkLFxyXG5cdFx0XHR0YWc6IFRhZ3MuUG9seWdvbixcclxuXHRcdH0sXHJcblx0XSxcclxuXHR0YWc6IFRhZ3MuRGVmcyxcclxufTtcclxuXHJcbmxldCBmaXJzdFN0YXI6IFJlbmRlcmVyLklVSUFzSnNvbiA9IHtcclxuXHRhdHRyaWJ1dGVzOiBbeyBuYW1lOiBBdHRyaWJ1dGVOYW1lLnhsaW5rSHJlZiwgdmFsdWU6IGAjJHtzdGFySWR9YCB9XSxcclxuXHR0YWc6IFRhZ3MuVXNlLFxyXG59O1xyXG5cclxubGV0IHNlY29uZFN0YXI6IFJlbmRlcmVyLklVSUFzSnNvbiA9IHtcclxuXHRhdHRyaWJ1dGVzOiBbXHJcblx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUueGxpbmtIcmVmLCB2YWx1ZTogYCMke3N0YXJJZH1gIH0sXHJcblx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuVHJhbnNmb3JtLCB2YWx1ZTogXCJ0cmFuc2xhdGUoMTA1IDApXCIgfSxcclxuXHRdLFxyXG5cdHRhZzogVGFncy5Vc2UsXHJcbn07XHJcblxyXG5sZXQgdGhpcmRTdGFyOiBSZW5kZXJlci5JVUlBc0pzb24gPSB7XHJcblx0YXR0cmlidXRlczogW1xyXG5cdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLnhsaW5rSHJlZiwgdmFsdWU6IGAjJHtzdGFySWR9YCB9LFxyXG5cdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLlRyYW5zZm9ybSwgdmFsdWU6IFwidHJhbnNsYXRlKDIxMCAwKVwiIH0sXHJcblx0XSxcclxuXHR0YWc6IFRhZ3MuVXNlLFxyXG59O1xyXG5cclxubGV0IGZvdXJ0aFN0YXI6IFJlbmRlcmVyLklVSUFzSnNvbiA9IHtcclxuXHRhdHRyaWJ1dGVzOiBbXHJcblx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUueGxpbmtIcmVmLCB2YWx1ZTogYCMke3N0YXJJZH1gIH0sXHJcblx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuVHJhbnNmb3JtLCB2YWx1ZTogXCJ0cmFuc2xhdGUoMzE1IDApXCIgfSxcclxuXHRdLFxyXG5cdHRhZzogVGFncy5Vc2UsXHJcbn07XHJcblxyXG5sZXQgZmlmdGhTdGFyOiBSZW5kZXJlci5JVUlBc0pzb24gPSB7XHJcblx0YXR0cmlidXRlczogW1xyXG5cdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLnhsaW5rSHJlZiwgdmFsdWU6IGAjJHtzdGFySWR9YCB9LFxyXG5cdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLlRyYW5zZm9ybSwgdmFsdWU6IFwidHJhbnNsYXRlKDQyMCAwKVwiIH0sXHJcblx0XSxcclxuXHR0YWc6IFRhZ3MuVXNlLFxyXG59O1xyXG5cclxubGV0IGVtcHR5U3RhcnM6IFJlbmRlcmVyLklVSUFzSnNvbiA9IHtcclxuXHRhdHRyaWJ1dGVzOiBbeyBuYW1lOiBBdHRyaWJ1dGVOYW1lLlZpZXdCb3gsIHZhbHVlOiBcIjAgMCA1MjUgMTAwXCIgfV0sXHJcblx0Y2hpbGRyZW46IFtzdGFyRGVmaW5pdGlvbiwgZmlyc3RTdGFyLCBzZWNvbmRTdGFyLCB0aGlyZFN0YXIsIGZvdXJ0aFN0YXIsIGZpZnRoU3Rhcl0sXHJcblx0Y2xhc3NlczogW0NsYXNzZXMuUmF0aW5nR3JhcGhpY10sXHJcblx0dGFnOiBUYWdzLlN2ZyxcclxufTtcclxuXHJcbmxldCBvbmVGaWxsZWRTdGFyOiBSZW5kZXJlci5JVUlBc0pzb24gPSB7XHJcblx0YXR0cmlidXRlczogW3sgbmFtZTogQXR0cmlidXRlTmFtZS5WaWV3Qm94LCB2YWx1ZTogXCIwIDAgMTA1IDEwMFwiIH1dLFxyXG5cdGNoaWxkcmVuOiBbc3RhckRlZmluaXRpb24sIGZpcnN0U3Rhcl0sXHJcblx0Y2xhc3NlczogW0NsYXNzZXMuUmF0aW5nR3JhcGhpYywgQ2xhc3Nlcy5SYXRpbmdHcmFwaGljRmlsbGVkXSxcclxuXHR0YWc6IFRhZ3MuU3ZnLFxyXG59O1xyXG5cclxubGV0IHR3b0ZpbGxlZFN0YXI6IFJlbmRlcmVyLklVSUFzSnNvbiA9IHtcclxuXHRhdHRyaWJ1dGVzOiBbeyBuYW1lOiBBdHRyaWJ1dGVOYW1lLlZpZXdCb3gsIHZhbHVlOiBcIjAgMCAyMTAgMTAwXCIgfV0sXHJcblx0Y2hpbGRyZW46IFtzdGFyRGVmaW5pdGlvbiwgZmlyc3RTdGFyLCBzZWNvbmRTdGFyXSxcclxuXHRjbGFzc2VzOiBbQ2xhc3Nlcy5SYXRpbmdHcmFwaGljLCBDbGFzc2VzLlJhdGluZ0dyYXBoaWNGaWxsZWRdLFxyXG5cdHRhZzogVGFncy5TdmcsXHJcbn07XHJcblxyXG5sZXQgdGhyZWVGaWxsZWRTdGFyOiBSZW5kZXJlci5JVUlBc0pzb24gPSB7XHJcblx0YXR0cmlidXRlczogW3sgbmFtZTogQXR0cmlidXRlTmFtZS5WaWV3Qm94LCB2YWx1ZTogXCIwIDAgMzE1IDEwMFwiIH1dLFxyXG5cdGNoaWxkcmVuOiBbc3RhckRlZmluaXRpb24sIGZpcnN0U3Rhciwgc2Vjb25kU3RhciwgdGhpcmRTdGFyXSxcclxuXHRjbGFzc2VzOiBbQ2xhc3Nlcy5SYXRpbmdHcmFwaGljLCBDbGFzc2VzLlJhdGluZ0dyYXBoaWNGaWxsZWRdLFxyXG5cdHRhZzogVGFncy5TdmcsXHJcbn07XHJcblxyXG5sZXQgZm91ckZpbGxlZFN0YXI6IFJlbmRlcmVyLklVSUFzSnNvbiA9IHtcclxuXHRhdHRyaWJ1dGVzOiBbeyBuYW1lOiBBdHRyaWJ1dGVOYW1lLlZpZXdCb3gsIHZhbHVlOiBcIjAgMCA0MjAgMTAwXCIgfV0sXHJcblx0Y2hpbGRyZW46IFtzdGFyRGVmaW5pdGlvbiwgZmlyc3RTdGFyLCBzZWNvbmRTdGFyLCB0aGlyZFN0YXIsIGZvdXJ0aFN0YXJdLFxyXG5cdGNsYXNzZXM6IFtDbGFzc2VzLlJhdGluZ0dyYXBoaWMsIENsYXNzZXMuUmF0aW5nR3JhcGhpY0ZpbGxlZF0sXHJcblx0dGFnOiBUYWdzLlN2ZyxcclxufTtcclxuXHJcbmxldCBmaXZlRmlsbGVkU3RhcjogUmVuZGVyZXIuSVVJQXNKc29uID0ge1xyXG5cdGF0dHJpYnV0ZXM6IFt7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuVmlld0JveCwgdmFsdWU6IFwiMCAwIDUyNSAxMDBcIiB9XSxcclxuXHRjaGlsZHJlbjogW3N0YXJEZWZpbml0aW9uLCBmaXJzdFN0YXIsIHNlY29uZFN0YXIsIHRoaXJkU3RhciwgZm91cnRoU3RhciwgZmlmdGhTdGFyXSxcclxuXHRjbGFzc2VzOiBbQ2xhc3Nlcy5SYXRpbmdHcmFwaGljLCBDbGFzc2VzLlJhdGluZ0dyYXBoaWNGaWxsZWRdLFxyXG5cdHRhZzogVGFncy5TdmcsXHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGUoaWQ6IHN0cmluZyk6IFJlbmRlcmVyLklVSUFzSnNvbiB7XHJcblx0cmV0dXJuIHtcclxuXHRcdGNoaWxkcmVuOiBbXHJcblx0XHRcdGVtcHR5U3RhcnMsXHJcblx0XHRcdHtcclxuXHRcdFx0XHRhdHRyaWJ1dGVzOiBbXHJcblx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuVHlwZSwgdmFsdWU6IFwicmFkaW9cIiB9LFxyXG5cdFx0XHRcdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLk5hbWUsIHZhbHVlOiBpZCB9LFxyXG5cdFx0XHRcdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLlZhbHVlLCB2YWx1ZTogXCIxXCIgfSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdHRhZzogVGFncy5JbnB1dCxcclxuXHRcdFx0fSxcclxuXHRcdFx0b25lRmlsbGVkU3RhcixcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGF0dHJpYnV0ZXM6IFtcclxuXHRcdFx0XHRcdHsgbmFtZTogQXR0cmlidXRlTmFtZS5UeXBlLCB2YWx1ZTogXCJyYWRpb1wiIH0sXHJcblx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuTmFtZSwgdmFsdWU6IGlkIH0sXHJcblx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuVmFsdWUsIHZhbHVlOiBcIjJcIiB9LFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0dGFnOiBUYWdzLklucHV0LFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR0d29GaWxsZWRTdGFyLFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0YXR0cmlidXRlczogW1xyXG5cdFx0XHRcdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLlR5cGUsIHZhbHVlOiBcInJhZGlvXCIgfSxcclxuXHRcdFx0XHRcdHsgbmFtZTogQXR0cmlidXRlTmFtZS5OYW1lLCB2YWx1ZTogaWQgfSxcclxuXHRcdFx0XHRcdHsgbmFtZTogQXR0cmlidXRlTmFtZS5WYWx1ZSwgdmFsdWU6IFwiM1wiIH0sXHJcblx0XHRcdFx0XSxcclxuXHRcdFx0XHR0YWc6IFRhZ3MuSW5wdXQsXHJcblx0XHRcdH0sXHJcblx0XHRcdHRocmVlRmlsbGVkU3RhcixcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGF0dHJpYnV0ZXM6IFtcclxuXHRcdFx0XHRcdHsgbmFtZTogQXR0cmlidXRlTmFtZS5UeXBlLCB2YWx1ZTogXCJyYWRpb1wiIH0sXHJcblx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuTmFtZSwgdmFsdWU6IGlkIH0sXHJcblx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuVmFsdWUsIHZhbHVlOiBcIjRcIiB9LFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0dGFnOiBUYWdzLklucHV0LFxyXG5cdFx0XHR9LFxyXG5cdFx0XHRmb3VyRmlsbGVkU3RhcixcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGF0dHJpYnV0ZXM6IFtcclxuXHRcdFx0XHRcdHsgbmFtZTogQXR0cmlidXRlTmFtZS5UeXBlLCB2YWx1ZTogXCJyYWRpb1wiIH0sXHJcblx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuTmFtZSwgdmFsdWU6IGlkIH0sXHJcblx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuVmFsdWUsIHZhbHVlOiBcIjVcIiB9LFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0dGFnOiBUYWdzLklucHV0LFxyXG5cdFx0XHR9LFxyXG5cdFx0XHRmaXZlRmlsbGVkU3RhcixcclxuXHRcdF0sXHJcblx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5SYXRpbmddLFxyXG5cdFx0aWQ6IGlkLFxyXG5cdFx0dGFnOiBUYWdzLlNwYW4sXHJcblx0fTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/UI/RatingControl.ts\n')},"./scripts/app/UI/Renderer.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "elementFromJson", function() { return elementFromJson; });\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UiConstants */ "./scripts/app/UI/UiConstants.ts");\n/**\r\n * Renderer.ts\r\n *\r\n * Module for rendering the markup\r\n */\r\n\r\n/**\r\n * Create DOM elements from Json structure\r\n * @param {UiAsJson} schema The Json structure\r\n * @param {boolean} svg Create svg element instead of html?\r\n * @return {HTMLElement} HTML elements with tree structure\r\n */\r\nfunction elementFromJson(schema, svg) {\r\n    if (typeof schema.brs === "undefined") {\r\n        schema.brs = true;\r\n    }\r\n    if (!schema.brs) {\r\n        return null;\r\n    }\r\n    if (!schema.tag) {\r\n        schema.tag = _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Tags"].Div;\r\n    }\r\n    var element;\r\n    if (schema.tag === _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Tags"].Svg) {\r\n        svg = true;\r\n    }\r\n    if (svg) {\r\n        element = document.createElementNS("http://www.w3.org/2000/svg", schema.tag);\r\n    }\r\n    else {\r\n        element = document.createElement(schema.tag);\r\n    }\r\n    if (schema.attributes) {\r\n        var attribute = void 0;\r\n        for (var i = 0; i < schema.attributes.length; i++) {\r\n            attribute = schema.attributes[i];\r\n            if (attribute.name === _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].xlinkHref) {\r\n                element.setAttributeNS("http://www.w3.org/1999/xlink", _UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].HRef, attribute.value);\r\n            }\r\n            else {\r\n                element.setAttribute(attribute.name, attribute.value);\r\n            }\r\n        }\r\n    }\r\n    if (schema.id) {\r\n        element.id = schema.id;\r\n    }\r\n    if (schema.classes) {\r\n        var concatClasses = schema.classes.join(" ");\r\n        if (svg) {\r\n            element.setAttribute(_UiConstants__WEBPACK_IMPORTED_MODULE_0__["AttributeName"].Class, concatClasses);\r\n        }\r\n        else {\r\n            element.className = concatClasses;\r\n        }\r\n    }\r\n    if (schema.innerText && !svg) {\r\n        element.textContent = schema.innerText;\r\n    }\r\n    if (schema.innerHTML && !svg) {\r\n        element.innerHTML = schema.innerHTML;\r\n    }\r\n    if (schema.children) {\r\n        for (var i = 0; i < schema.children.length; i++) {\r\n            // Sometimes IE mis-reports length\r\n            var cur = schema.children[i];\r\n            if (cur) {\r\n                var child = elementFromJson(cur, svg);\r\n                if (child) {\r\n                    element.appendChild(child);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return element;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9SZW5kZXJlci50cz8xZWRjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0dBSUc7QUFFaUQ7QUF3QnBEOzs7OztHQUtHO0FBQ0ksU0FBUyxlQUFlLENBQUMsTUFBaUIsRUFBRSxHQUFhO0lBQy9ELElBQUksT0FBTyxNQUFNLENBQUMsR0FBRyxLQUFLLFdBQVcsRUFBRTtRQUN0QyxNQUFNLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQztLQUNsQjtJQUVELElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFO1FBQ2hCLE9BQU8sSUFBSSxDQUFDO0tBQ1o7SUFFRCxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRTtRQUNoQixNQUFNLENBQUMsR0FBRyxHQUFHLGlEQUFJLENBQUMsR0FBRyxDQUFDO0tBQ3RCO0lBRUQsSUFBSSxPQUFnQixDQUFDO0lBRXJCLElBQUksTUFBTSxDQUFDLEdBQUcsS0FBSyxpREFBSSxDQUFDLEdBQUcsRUFBRTtRQUM1QixHQUFHLEdBQUcsSUFBSSxDQUFDO0tBQ1g7SUFFRCxJQUFJLEdBQUcsRUFBRTtRQUNSLE9BQU8sR0FBRyxRQUFRLENBQUMsZUFBZSxDQUFDLDRCQUE0QixFQUFFLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztLQUM3RTtTQUFNO1FBQ04sT0FBTyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQzdDO0lBRUQsSUFBSSxNQUFNLENBQUMsVUFBVSxFQUFFO1FBQ3RCLElBQUksU0FBUyxTQUFZLENBQUM7UUFDMUIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ2xELFNBQVMsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pDLElBQUksU0FBUyxDQUFDLElBQUksS0FBSywwREFBYSxDQUFDLFNBQVMsRUFBRTtnQkFDL0MsT0FBTyxDQUFDLGNBQWMsQ0FBQyw4QkFBOEIsRUFBRSwwREFBYSxDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDNUY7aUJBQU07Z0JBQ04sT0FBTyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQzthQUN0RDtTQUNEO0tBQ0Q7SUFFRCxJQUFJLE1BQU0sQ0FBQyxFQUFFLEVBQUU7UUFDZCxPQUFPLENBQUMsRUFBRSxHQUFHLE1BQU0sQ0FBQyxFQUFFLENBQUM7S0FDdkI7SUFFRCxJQUFJLE1BQU0sQ0FBQyxPQUFPLEVBQUU7UUFDbkIsSUFBSSxhQUFhLEdBQVcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDckQsSUFBSSxHQUFHLEVBQUU7WUFDUixPQUFPLENBQUMsWUFBWSxDQUFDLDBEQUFhLENBQUMsS0FBSyxFQUFFLGFBQWEsQ0FBQyxDQUFDO1NBQ3pEO2FBQU07WUFDTixPQUFPLENBQUMsU0FBUyxHQUFHLGFBQWEsQ0FBQztTQUNsQztLQUNEO0lBRUQsSUFBSSxNQUFNLENBQUMsU0FBUyxJQUFJLENBQUMsR0FBRyxFQUFFO1FBQzdCLE9BQU8sQ0FBQyxXQUFXLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQztLQUN2QztJQUVELElBQUksTUFBTSxDQUFDLFNBQVMsSUFBSSxDQUFDLEdBQUcsRUFBRTtRQUM3QixPQUFPLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUM7S0FDckM7SUFFRCxJQUFJLE1BQU0sQ0FBQyxRQUFRLEVBQUU7UUFDcEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ2hELGtDQUFrQztZQUNsQyxJQUFJLEdBQUcsR0FBYyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBRXhDLElBQUksR0FBRyxFQUFFO2dCQUNSLElBQUksS0FBSyxHQUFZLGVBQWUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBRS9DLElBQUksS0FBSyxFQUFFO29CQUNWLE9BQU8sQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7aUJBQzNCO2FBQ0Q7U0FDRDtLQUNEO0lBRUQsT0FBTyxPQUFPLENBQUM7QUFDaEIsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1VJL1JlbmRlcmVyLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFJlbmRlcmVyLnRzXHJcbiAqXHJcbiAqIE1vZHVsZSBmb3IgcmVuZGVyaW5nIHRoZSBtYXJrdXBcclxuICovXHJcblxyXG5pbXBvcnQgeyBBdHRyaWJ1dGVOYW1lLCBUYWdzIH0gZnJvbSBcIi4vVWlDb25zdGFudHNcIjtcclxuXHJcbi8qKlxyXG4gKiBJbnRlcmZhY2UgZm9yIGFuIGF0dHJpYnV0ZVxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBJQXR0cmlidXRlIHtcclxuXHRuYW1lOiBzdHJpbmc7XHJcblx0dmFsdWU6IHN0cmluZztcclxufVxyXG5cclxuLyoqXHJcbiAqIEludGVyZmFjZSBmb3IgVUkoSFRNTCBtYXJrdXApIGFzIGpzb25cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVVJQXNKc29uIHtcclxuXHRpZD86IHN0cmluZztcclxuXHR0YWc/OiBzdHJpbmc7IC8vIGRpdiBieSBkZWZhdWx0XHJcblx0Y2xhc3Nlcz86IHN0cmluZ1tdOyAvLyBDU1MgY2xhc3NcclxuXHRhdHRyaWJ1dGVzPzogSUF0dHJpYnV0ZVtdO1xyXG5cdGNoaWxkcmVuPzogSVVJQXNKc29uW107XHJcblx0aW5uZXJUZXh0Pzogc3RyaW5nO1xyXG5cdGlubmVySFRNTD86IHN0cmluZztcclxuXHRicnM/OiBhbnk7IC8vIHNob3VsZCB0aGUgZWxlbWVudCBhbmQgaXRzIGNoaWxkcmVuIGJlIGNyZWF0ZWQ/IHRydWUgYnkgZGVmYXVsdFxyXG59XHJcblxyXG4vKipcclxuICogQ3JlYXRlIERPTSBlbGVtZW50cyBmcm9tIEpzb24gc3RydWN0dXJlXHJcbiAqIEBwYXJhbSB7VWlBc0pzb259IHNjaGVtYSBUaGUgSnNvbiBzdHJ1Y3R1cmVcclxuICogQHBhcmFtIHtib29sZWFufSBzdmcgQ3JlYXRlIHN2ZyBlbGVtZW50IGluc3RlYWQgb2YgaHRtbD9cclxuICogQHJldHVybiB7SFRNTEVsZW1lbnR9IEhUTUwgZWxlbWVudHMgd2l0aCB0cmVlIHN0cnVjdHVyZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGVsZW1lbnRGcm9tSnNvbihzY2hlbWE6IElVSUFzSnNvbiwgc3ZnPzogYm9vbGVhbik6IEVsZW1lbnQge1xyXG5cdGlmICh0eXBlb2Ygc2NoZW1hLmJycyA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG5cdFx0c2NoZW1hLmJycyA9IHRydWU7XHJcblx0fVxyXG5cclxuXHRpZiAoIXNjaGVtYS5icnMpIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHJcblx0aWYgKCFzY2hlbWEudGFnKSB7XHJcblx0XHRzY2hlbWEudGFnID0gVGFncy5EaXY7XHJcblx0fVxyXG5cclxuXHRsZXQgZWxlbWVudDogRWxlbWVudDtcclxuXHJcblx0aWYgKHNjaGVtYS50YWcgPT09IFRhZ3MuU3ZnKSB7XHJcblx0XHRzdmcgPSB0cnVlO1xyXG5cdH1cclxuXHJcblx0aWYgKHN2Zykge1xyXG5cdFx0ZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHNjaGVtYS50YWcpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChzY2hlbWEudGFnKTtcclxuXHR9XHJcblxyXG5cdGlmIChzY2hlbWEuYXR0cmlidXRlcykge1xyXG5cdFx0bGV0IGF0dHJpYnV0ZTogSUF0dHJpYnV0ZTtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgc2NoZW1hLmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0YXR0cmlidXRlID0gc2NoZW1hLmF0dHJpYnV0ZXNbaV07XHJcblx0XHRcdGlmIChhdHRyaWJ1dGUubmFtZSA9PT0gQXR0cmlidXRlTmFtZS54bGlua0hyZWYpIHtcclxuXHRcdFx0XHRlbGVtZW50LnNldEF0dHJpYnV0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLCBBdHRyaWJ1dGVOYW1lLkhSZWYsIGF0dHJpYnV0ZS52YWx1ZSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0ZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLm5hbWUsIGF0dHJpYnV0ZS52YWx1ZSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGlmIChzY2hlbWEuaWQpIHtcclxuXHRcdGVsZW1lbnQuaWQgPSBzY2hlbWEuaWQ7XHJcblx0fVxyXG5cclxuXHRpZiAoc2NoZW1hLmNsYXNzZXMpIHtcclxuXHRcdGxldCBjb25jYXRDbGFzc2VzOiBzdHJpbmcgPSBzY2hlbWEuY2xhc3Nlcy5qb2luKFwiIFwiKTtcclxuXHRcdGlmIChzdmcpIHtcclxuXHRcdFx0ZWxlbWVudC5zZXRBdHRyaWJ1dGUoQXR0cmlidXRlTmFtZS5DbGFzcywgY29uY2F0Q2xhc3Nlcyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRlbGVtZW50LmNsYXNzTmFtZSA9IGNvbmNhdENsYXNzZXM7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRpZiAoc2NoZW1hLmlubmVyVGV4dCAmJiAhc3ZnKSB7XHJcblx0XHRlbGVtZW50LnRleHRDb250ZW50ID0gc2NoZW1hLmlubmVyVGV4dDtcclxuXHR9XHJcblxyXG5cdGlmIChzY2hlbWEuaW5uZXJIVE1MICYmICFzdmcpIHtcclxuXHRcdGVsZW1lbnQuaW5uZXJIVE1MID0gc2NoZW1hLmlubmVySFRNTDtcclxuXHR9XHJcblxyXG5cdGlmIChzY2hlbWEuY2hpbGRyZW4pIHtcclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgc2NoZW1hLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdC8vIFNvbWV0aW1lcyBJRSBtaXMtcmVwb3J0cyBsZW5ndGhcclxuXHRcdFx0bGV0IGN1cjogSVVJQXNKc29uID0gc2NoZW1hLmNoaWxkcmVuW2ldO1xyXG5cclxuXHRcdFx0aWYgKGN1cikge1xyXG5cdFx0XHRcdGxldCBjaGlsZDogRWxlbWVudCA9IGVsZW1lbnRGcm9tSnNvbihjdXIsIHN2Zyk7XHJcblxyXG5cdFx0XHRcdGlmIChjaGlsZCkge1xyXG5cdFx0XHRcdFx0ZWxlbWVudC5hcHBlbmRDaGlsZChjaGlsZCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gZWxlbWVudDtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/UI/Renderer.ts\n')},"./scripts/app/UI/SpinnerControl.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Spinner", function() { return Spinner; });\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UiConstants */ "./scripts/app/UI/UiConstants.ts");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Utils */ "./scripts/app/UI/Utils.ts");\n/**\r\n * Spinner.ts\r\n *\r\n * A module for a spinner.\r\n */\r\n\r\n\r\nvar animationSpeed = 90;\r\nvar numCircles = 8;\r\nvar offsetSize = 0.2;\r\nvar parentSize = 34;\r\nvar fadeIncrement = 1 / numCircles;\r\nvar Spinner = /** @class */ (function () {\r\n    /**\r\n     * Constructor\r\n     * @param id id of the element to attach the spinner to\r\n     */\r\n    function Spinner(id) {\r\n        this.circleObjects = [];\r\n        this.spinnerId = id;\r\n        this.spinner = document.getElementById(this.spinnerId);\r\n        this.createCirclesAndArrange();\r\n        this.initializeOpacities();\r\n        this.start();\r\n        _Utils__WEBPACK_IMPORTED_MODULE_1__["setElementVisibility"](id, true);\r\n    }\r\n    /**\r\n     * Destroys the spinner\r\n     */\r\n    Spinner.prototype.destroy = function () {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_1__["setElementVisibility"](this.spinnerId, false);\r\n        this.stop();\r\n    };\r\n    /**\r\n     * Starts the animation\r\n     */\r\n    Spinner.prototype.start = function () {\r\n        var _this = this;\r\n        this.stop();\r\n        this.interval = setInterval(function () {\r\n            var i = _this.circleObjects.length;\r\n            while (i--) {\r\n                fade(_this.circleObjects[i]);\r\n            }\r\n        }, animationSpeed);\r\n    };\r\n    /**\r\n     * Stops the animation\r\n     */\r\n    Spinner.prototype.stop = function () {\r\n        clearInterval(this.interval);\r\n    };\r\n    Spinner.prototype.createCirclesAndArrange = function () {\r\n        var angle = 0;\r\n        var offset = parentSize * offsetSize;\r\n        var step = (2 * Math.PI) / numCircles;\r\n        var i = numCircles;\r\n        var circleObject;\r\n        var radius = (parentSize - offset) * 0.5;\r\n        while (i--) {\r\n            var circle = createCircle();\r\n            var x = Math.round(parentSize * 0.5 + radius * Math.cos(angle) - circle.clientWidth * 0.5) - offset * 0.5;\r\n            var y = Math.round(parentSize * 0.5 + radius * Math.sin(angle) - circle.clientHeight * 0.5) - offset * 0.5;\r\n            this.spinner.appendChild(circle);\r\n            circle.style.left = x + "px";\r\n            circle.style.top = y + "px";\r\n            angle += step;\r\n            circleObject = { element: circle, j: i };\r\n            this.circleObjects.push(circleObject);\r\n        }\r\n    };\r\n    Spinner.prototype.initializeOpacities = function () {\r\n        var i = 0;\r\n        var j = 1;\r\n        var opacity;\r\n        for (i; i < numCircles; i++) {\r\n            var circleObject = this.circleObjects[i];\r\n            opacity = (fadeIncrement * j++);\r\n            setOpacity(circleObject.element, opacity);\r\n        }\r\n    };\r\n    return Spinner;\r\n}());\r\n\r\nfunction fade(circleObject) {\r\n    var opacity = getOpacity(circleObject.element) - fadeIncrement;\r\n    if (opacity <= 0) {\r\n        opacity = 1;\r\n    }\r\n    setOpacity(circleObject.element, opacity);\r\n}\r\nfunction getOpacity(element) {\r\n    return parseFloat(window.getComputedStyle(element).getPropertyValue("opacity"));\r\n}\r\nfunction setOpacity(element, opacity) {\r\n    element.style.opacity = opacity.toString();\r\n}\r\nfunction createCircle() {\r\n    var circle = document.createElement("div");\r\n    circle.classList.add(_UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].SpinnerCircle);\r\n    circle.style.width = circle.style.height = parentSize * offsetSize + "px";\r\n    return circle;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9TcGlubmVyQ29udHJvbC50cz8xMzdiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRztBQUVxQztBQUNQO0FBT2pDLElBQU0sY0FBYyxHQUFHLEVBQUUsQ0FBQztBQUMxQixJQUFNLFVBQVUsR0FBRyxDQUFDLENBQUM7QUFDckIsSUFBTSxVQUFVLEdBQUcsR0FBRyxDQUFDO0FBQ3ZCLElBQU0sVUFBVSxHQUFHLEVBQUUsQ0FBQztBQUN0QixJQUFNLGFBQWEsR0FBRyxDQUFDLEdBQUcsVUFBVSxDQUFDO0FBRXJDO0lBTUM7OztPQUdHO0lBQ0gsaUJBQVksRUFBVTtRQVRkLGtCQUFhLEdBQW9CLEVBQUUsQ0FBQztRQVUzQyxJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztRQUNwQixJQUFJLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3ZELElBQUksQ0FBQyx1QkFBdUIsRUFBRSxDQUFDO1FBQy9CLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBQzNCLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNiLDJEQUEwQixDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBRUQ7O09BRUc7SUFDSSx5QkFBTyxHQUFkO1FBQ0MsMkRBQTBCLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUNsRCxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDYixDQUFDO0lBRUQ7O09BRUc7SUFDSyx1QkFBSyxHQUFiO1FBQUEsaUJBU0M7UUFSQSxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDWixJQUFJLENBQUMsUUFBUSxHQUFHLFdBQVcsQ0FBQztZQUMzQixJQUFJLENBQUMsR0FBRyxLQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FB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QU0sQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO0FBQ2pGLENBQUM7QUFFRCxTQUFTLFVBQVUsQ0FBQyxPQUF1QixFQUFFLE9BQWU7SUFDM0QsT0FBTyxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDO0FBQzVDLENBQUM7QUFFRCxTQUFTLFlBQVk7SUFDcEIsSUFBSSxNQUFNLEdBQW1CLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDM0QsTUFBTSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsb0RBQU8sQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUM1QyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxVQUFVLEdBQUcsVUFBVSxHQUFHLElBQUksQ0FBQztJQUMxRSxPQUFPLE1BQU0sQ0FBQztBQUNmLENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9VSS9TcGlubmVyQ29udHJvbC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBTcGlubmVyLnRzXHJcbiAqXHJcbiAqIEEgbW9kdWxlIGZvciBhIHNwaW5uZXIuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgQ2xhc3NlcyB9IGZyb20gXCIuL1VpQ29uc3RhbnRzXCI7XHJcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gXCIuL1V0aWxzXCI7XHJcblxyXG5pbnRlcmZhY2UgSUNpcmNsZU9iamVjdCB7XHJcblx0ZWxlbWVudDogSFRNTERpdkVsZW1lbnQ7XHJcblx0ajogbnVtYmVyO1xyXG59XHJcblxyXG5jb25zdCBhbmltYXRpb25TcGVlZCA9IDkwO1xyXG5jb25zdCBudW1DaXJjbGVzID0gODtcclxuY29uc3Qgb2Zmc2V0U2l6ZSA9IDAuMjtcclxuY29uc3QgcGFyZW50U2l6ZSA9IDM0O1xyXG5jb25zdCBmYWRlSW5jcmVtZW50ID0gMSAvIG51bUNpcmNsZXM7XHJcblxyXG5leHBvcnQgY2xhc3MgU3Bpbm5lciB7XHJcblx0cHJpdmF0ZSBjaXJjbGVPYmplY3RzOiBJQ2lyY2xlT2JqZWN0W10gPSBbXTtcclxuXHRwcml2YXRlIGludGVydmFsOiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRJbnRlcnZhbD47XHJcblx0cHJpdmF0ZSBzcGlubmVySWQ6IHN0cmluZztcclxuXHRwcml2YXRlIHNwaW5uZXI6IEhUTUxFbGVtZW50O1xyXG5cclxuXHQvKipcclxuXHQgKiBDb25zdHJ1Y3RvclxyXG5cdCAqIEBwYXJhbSBpZCBpZCBvZiB0aGUgZWxlbWVudCB0byBhdHRhY2ggdGhlIHNwaW5uZXIgdG9cclxuXHQgKi9cclxuXHRjb25zdHJ1Y3RvcihpZDogc3RyaW5nKSB7XHJcblx0XHR0aGlzLnNwaW5uZXJJZCA9IGlkO1xyXG5cdFx0dGhpcy5zcGlubmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zcGlubmVySWQpO1xyXG5cdFx0dGhpcy5jcmVhdGVDaXJjbGVzQW5kQXJyYW5nZSgpO1xyXG5cdFx0dGhpcy5pbml0aWFsaXplT3BhY2l0aWVzKCk7XHJcblx0XHR0aGlzLnN0YXJ0KCk7XHJcblx0XHRVdGlscy5zZXRFbGVtZW50VmlzaWJpbGl0eShpZCwgdHJ1ZSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBEZXN0cm95cyB0aGUgc3Bpbm5lclxyXG5cdCAqL1xyXG5cdHB1YmxpYyBkZXN0cm95KCkge1xyXG5cdFx0VXRpbHMuc2V0RWxlbWVudFZpc2liaWxpdHkodGhpcy5zcGlubmVySWQsIGZhbHNlKTtcclxuXHRcdHRoaXMuc3RvcCgpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogU3RhcnRzIHRoZSBhbmltYXRpb25cclxuXHQgKi9cclxuXHRwcml2YXRlIHN0YXJ0KCkge1xyXG5cdFx0dGhpcy5zdG9wKCk7XHJcblx0XHR0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG5cdFx0XHRsZXQgaSA9IHRoaXMuY2lyY2xlT2JqZWN0cy5sZW5ndGg7XHJcblx0XHRcdHdoaWxlIChpLS0pIHtcclxuXHRcdFx0XHRmYWRlKHRoaXMuY2lyY2xlT2JqZWN0c1tpXSk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRcdGFuaW1hdGlvblNwZWVkKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFN0b3BzIHRoZSBhbmltYXRpb25cclxuXHQgKi9cclxuXHRwcml2YXRlIHN0b3AoKSB7XHJcblx0XHRjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpO1xyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBjcmVhdGVDaXJjbGVzQW5kQXJyYW5nZSgpIHtcclxuXHRcdGxldCBhbmdsZSA9IDA7XHJcblx0XHRsZXQgb2Zmc2V0ID0gcGFyZW50U2l6ZSAqIG9mZnNldFNpemU7XHJcblx0XHRsZXQgc3RlcCA9ICgyICogTWF0aC5QSSkgLyBudW1DaXJjbGVzO1xyXG5cdFx0bGV0IGkgPSBudW1DaXJjbGVzO1xyXG5cdFx0bGV0IGNpcmNsZU9iamVjdDogSUNpcmNsZU9iamVjdDtcclxuXHRcdGxldCByYWRpdXMgPSAocGFyZW50U2l6ZSAtIG9mZnNldCkgKiAwLjU7XHJcblxyXG5cdFx0d2hpbGUgKGktLSkge1xyXG5cdFx0XHRsZXQgY2lyY2xlOiBIVE1MRGl2RWxlbWVudCA9IGNyZWF0ZUNpcmNsZSgpO1xyXG5cdFx0XHRsZXQgeCA9IE1hdGgucm91bmQocGFyZW50U2l6ZSAqIDAuNSArIHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKSAtIGNpcmNsZS5jbGllbnRXaWR0aCAqIDAuNSkgLSBvZmZzZXQgKiAwLjU7XHJcblx0XHRcdGxldCB5ID0gTWF0aC5yb3VuZChwYXJlbnRTaXplICogMC41ICsgcmFkaXVzICogTWF0aC5zaW4oYW5nbGUpIC0gY2lyY2xlLmNsaWVudEhlaWdodCAqIDAuNSkgLSBvZmZzZXQgKiAwLjU7XHJcblx0XHRcdHRoaXMuc3Bpbm5lci5hcHBlbmRDaGlsZChjaXJjbGUpO1xyXG5cdFx0XHRjaXJjbGUuc3R5bGUubGVmdCA9IHggKyBcInB4XCI7XHJcblx0XHRcdGNpcmNsZS5zdHlsZS50b3AgPSB5ICsgXCJweFwiO1xyXG5cdFx0XHRhbmdsZSArPSBzdGVwO1xyXG5cdFx0XHRjaXJjbGVPYmplY3QgPSB7IGVsZW1lbnQ6IGNpcmNsZSwgajogaSB9O1xyXG5cdFx0XHR0aGlzLmNpcmNsZU9iamVjdHMucHVzaChjaXJjbGVPYmplY3QpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cHJpdmF0ZSBpbml0aWFsaXplT3BhY2l0aWVzKCkge1xyXG5cdFx0bGV0IGkgPSAwO1xyXG5cdFx0bGV0IGogPSAxO1xyXG5cdFx0bGV0IG9wYWNpdHk6IG51bWJlcjtcclxuXHJcblx0XHRmb3IgKGk7IGkgPCBudW1DaXJjbGVzOyBpKyspIHtcclxuXHRcdFx0bGV0IGNpcmNsZU9iamVjdCA9IHRoaXMuY2lyY2xlT2JqZWN0c1tpXTtcclxuXHRcdFx0b3BhY2l0eSA9IChmYWRlSW5jcmVtZW50ICogaisrKTtcclxuXHRcdFx0c2V0T3BhY2l0eShjaXJjbGVPYmplY3QuZWxlbWVudCwgb3BhY2l0eSk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBmYWRlKGNpcmNsZU9iamVjdDogYW55KSB7XHJcblx0bGV0IG9wYWNpdHkgPSBnZXRPcGFjaXR5KGNpcmNsZU9iamVjdC5lbGVtZW50KSAtIGZhZGVJbmNyZW1lbnQ7XHJcblxyXG5cdGlmIChvcGFjaXR5IDw9IDApIHtcclxuXHRcdG9wYWNpdHkgPSAxO1xyXG5cdH1cclxuXHJcblx0c2V0T3BhY2l0eShjaXJjbGVPYmplY3QuZWxlbWVudCwgb3BhY2l0eSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldE9wYWNpdHkoZWxlbWVudDogSFRNTERpdkVsZW1lbnQpIHtcclxuXHRyZXR1cm4gcGFyc2VGbG9hdCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKFwib3BhY2l0eVwiKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldE9wYWNpdHkoZWxlbWVudDogSFRNTERpdkVsZW1lbnQsIG9wYWNpdHk6IG51bWJlcikge1xyXG5cdGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9IG9wYWNpdHkudG9TdHJpbmcoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlQ2lyY2xlKCk6IEhUTUxEaXZFbGVtZW50IHtcclxuXHRsZXQgY2lyY2xlOiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0Y2lyY2xlLmNsYXNzTGlzdC5hZGQoQ2xhc3Nlcy5TcGlubmVyQ2lyY2xlKTtcclxuXHRjaXJjbGUuc3R5bGUud2lkdGggPSBjaXJjbGUuc3R5bGUuaGVpZ2h0ID0gcGFyZW50U2l6ZSAqIG9mZnNldFNpemUgKyBcInB4XCI7XHJcblx0cmV0dXJuIGNpcmNsZTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/UI/SpinnerControl.ts\n')},"./scripts/app/UI/Toast/Events.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "register", function() { return register; });\n/* harmony import */ var _Transport_Transport__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../../Transport/Transport */ "./scripts/app/Transport/Transport.ts");\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../UiConstants */ "./scripts/app/UI/UiConstants.ts");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../Utils */ "./scripts/app/UI/Utils.ts");\n/* harmony import */ var _SpinnerControl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../SpinnerControl */ "./scripts/app/UI/SpinnerControl.ts");\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../../Logging/Logging */ "./scripts/app/Logging/Logging.ts");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./../../Configuration/Configuration */ "./scripts/app/Configuration/Configuration.ts");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Api/Api */ "../FloodgateCore/dist/src/Api/Api.js");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../Utils */ "./scripts/app/Utils.ts");\n/**\r\n * Events.ts\r\n *\r\n * A module for all Event handling.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar isNOU = _Utils__WEBPACK_IMPORTED_MODULE_7__["isNOU"];\r\n/**\r\n * Callback for when the feedback dialog is dismissed\r\n */\r\nvar onDismiss;\r\n/**\r\n * Is the prompt up\r\n */\r\nvar isPromptUp;\r\n/**\r\n * Dismiss all, including networking, UI, and events\r\n * @param submitted Was the control submitted (true), or cancelled (false)?\r\n */\r\nfunction dismissAll(submitted) {\r\n    unregister();\r\n    onDismiss(submitted);\r\n}\r\n/**\r\n * Listener un-registration\r\n */\r\nfunction unregister() {\r\n    removeListeners();\r\n}\r\n/**\r\n * List of listeners and the ids they are attached to. This ensures all events are correctly unregistered.\r\n */\r\nvar listenersList = [];\r\nfunction addListener(id, event, listener) {\r\n    _Utils__WEBPACK_IMPORTED_MODULE_2__["registerListener"](id, event, listener);\r\n    listenersList.push({ event: event, id: id, listener: listener });\r\n}\r\nfunction removeListeners() {\r\n    for (var _i = 0, listenersList_1 = listenersList; _i < listenersList_1.length; _i++) {\r\n        var listener = listenersList_1[_i];\r\n        _Utils__WEBPACK_IMPORTED_MODULE_2__["unregisterListener"](listener.id, listener.event, listener.listener);\r\n    }\r\n    listenersList = [];\r\n}\r\nfunction logTelemetryEvent(eventId, clientFeedbackId, isEmailPolicyEnabled) {\r\n    var configuration = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__["get"]();\r\n    _Logging_Logging__WEBPACK_IMPORTED_MODULE_4__["getLogger"]().logEvent(eventId, 1 /* Critical */, {\r\n        CampaignId: configuration.getFloodgateSurvey().getCampaignId(),\r\n        SurveyId: configuration.getFloodgateSurvey().getId(),\r\n        SurveyType: configuration.getFloodgateSurvey().getSurveyType(),\r\n        PromptAutoDismiss: configuration.getFloodgateInitOptions().autoDismiss.toString(),\r\n        ClientFeedbackId: clientFeedbackId,\r\n        IsEmailPolicyEnabled: isEmailPolicyEnabled,\r\n    });\r\n}\r\n/**\r\n * Register events for toast\r\n */\r\nfunction register(ON_DISMISS) {\r\n    if (ON_DISMISS === void 0) { ON_DISMISS = function (submitted) { return; }; }\r\n    onDismiss = ON_DISMISS;\r\n    isPromptUp = true;\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].ToastContainer, "keyup", toastKeyEventHandler);\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].ToastCancel, "click", toastCancelHandler);\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].TPromptContainer, "click", promptContainerHandler);\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].TFormSubmitButton, "click", submitButtonHandler);\r\n    addListener(_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].TFormEmailCheckBox, "click", emailCheckBoxHandler);\r\n    emailCheckBoxHandler(null); // call the checkbox handler to process the initial state\r\n    var ratingElements = document.querySelectorAll("input[name=\\"" + _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].TFormRating + "\\"]");\r\n    for (var i = 0; i < ratingElements.length; ++i) {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_2__["registerListenerToElement"](ratingElements[i], "click", ratingInputHandler);\r\n    }\r\n    var isIntercept = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__["get"]().getFloodgateSurvey().getSurveyType() === _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_6__["ISurvey"].Type.Intercept;\r\n    if (!_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__["get"]().getFloodgateSurvey().showPrompt && !isIntercept) {\r\n        showSurveyScreen();\r\n    }\r\n    else {\r\n        logTelemetryEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_4__["EventIds"].SURVEY_UI_PROMPT_SHOWN);\r\n    }\r\n    // Auto dismiss if needed (No Auto dismiss for intercept)\r\n    var autoDismiss = isIntercept ? 0 /* NoAutoDismiss */ : _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__["get"]().getFloodgateInitOptions().autoDismiss;\r\n    if (autoDismiss !== 0 /* NoAutoDismiss */) {\r\n        var autoDismissDuration = void 0;\r\n        switch (autoDismiss) {\r\n            case (1 /* SevenSeconds */):\r\n                autoDismissDuration = 7000;\r\n                break;\r\n            case (2 /* FourteenSeconds */):\r\n                autoDismissDuration = 14000;\r\n                break;\r\n            case (3 /* TwentyOneSeconds */):\r\n                autoDismissDuration = 21000;\r\n                break;\r\n            case (4 /* TwentyEightSeconds */):\r\n                autoDismissDuration = 28000;\r\n                break;\r\n            default:\r\n        }\r\n        if (autoDismissDuration !== undefined) {\r\n            setTimeout(function () {\r\n                if (isPromptUp) {\r\n                    dismissAll(false);\r\n                    logTelemetryEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_4__["EventIds"].SURVEY_UI_PROMPT_AUTODISMISSED);\r\n                }\r\n            }, autoDismissDuration);\r\n        }\r\n    }\r\n}\r\nfunction emailCheckBoxHandler(event) {\r\n    // show email if checked and show default string if unchecked\r\n    var emailCheckBox = document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].TFormEmailCheckBox);\r\n    if (emailCheckBox) {\r\n        var emailTextBox = document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].TFormEmailTextBox);\r\n        emailTextBox.value = emailCheckBox.checked ? _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__["get"]().getCommonInitOptions().userEmail : null;\r\n        emailTextBox.disabled = !emailCheckBox.checked;\r\n    }\r\n}\r\nfunction toastKeyEventHandler(event) {\r\n    // dismiss upon pressing the escape key\r\n    if (event.keyCode === _UiConstants__WEBPACK_IMPORTED_MODULE_1__["Keys"].Esc) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        dismissAll(false);\r\n        logTelemetryEvent(isPromptUp ? _Logging_Logging__WEBPACK_IMPORTED_MODULE_4__["EventIds"].SURVEY_UI_PROMPT_USERCLOSED : _Logging_Logging__WEBPACK_IMPORTED_MODULE_4__["EventIds"].SURVEY_UI_FORM_USERCLOSED);\r\n    }\r\n}\r\nfunction toastCancelHandler(event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    dismissAll(false);\r\n    logTelemetryEvent(isPromptUp ? _Logging_Logging__WEBPACK_IMPORTED_MODULE_4__["EventIds"].SURVEY_UI_PROMPT_USERCLOSED : _Logging_Logging__WEBPACK_IMPORTED_MODULE_4__["EventIds"].SURVEY_UI_FORM_USERCLOSED);\r\n}\r\nfunction promptContainerHandler(event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    if (_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__["get"]().getFloodgateSurvey().getSurveyType() === _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_6__["ISurvey"].Type.Intercept) {\r\n        interceptHandler();\r\n    }\r\n    else {\r\n        showSurveyScreen();\r\n    }\r\n}\r\nfunction interceptHandler() {\r\n    var success = openInNewTab(_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__["get"]().getFloodgateSurvey().getInterceptUrl());\r\n    dismissAll(false);\r\n    // Logging according to if opening the tab is successful. \r\n    if (success) {\r\n        logTelemetryEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_4__["EventIds"].SURVEY_UI_PROMPT_CLICKED);\r\n    }\r\n    else {\r\n        logTelemetryEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_4__["EventIds"].SURVEY_UI_REDIRECTIONFAILURE);\r\n    }\r\n}\r\nfunction openInNewTab(url) {\r\n    var win = window.open(url, "_blank");\r\n    if (isNOU(win)) {\r\n        return false;\r\n    }\r\n    win.focus();\r\n    return true;\r\n}\r\nfunction showSurveyScreen() {\r\n    isPromptUp = false;\r\n    _Utils__WEBPACK_IMPORTED_MODULE_2__["setElementVisibility"](_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].TPromptContainer, false);\r\n    _Utils__WEBPACK_IMPORTED_MODULE_2__["setElementVisibility"](_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].TFormContainer, true);\r\n    // Adding ToastZoom class to toastContainer. This handles zoom and small screen accesibility.\r\n    // It is added here so that it doesn\'t apply to the prompt.\r\n    _Utils__WEBPACK_IMPORTED_MODULE_2__["addClassById"](_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].ToastContainer, _UiConstants__WEBPACK_IMPORTED_MODULE_1__["Classes"].ToastZoom);\r\n    // remove toast container\'s alert attribute when after the user click toast and form is shown, so screen readers\r\n    // like JAWS doesn\'t repeat all components on the form.\r\n    if ((" " + document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].TFormContainer).className + " ").indexOf(" " + _UiConstants__WEBPACK_IMPORTED_MODULE_1__["Classes"].Visible + " ") > -1) {\r\n        document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].ToastContainer).setAttribute("role", "");\r\n    }\r\n    // Focus should always be set to first rating item since all supported surveys showing form have rating items so far.\r\n    var formRating = document.getElementsByName(_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].TFormRating);\r\n    if (formRating && formRating.length > 0) {\r\n        formRating[0].focus();\r\n    }\r\n    logTelemetryEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_4__["EventIds"].SURVEY_UI_FORM_SHOWN);\r\n}\r\nfunction ratingInputHandler(event) {\r\n    document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].TFormSubmitButton).disabled = false;\r\n}\r\nfunction submitButtonHandler(event) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    _Utils__WEBPACK_IMPORTED_MODULE_2__["setElementVisibility"](_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].TFormSubmitButton, false);\r\n    var spinner = new _SpinnerControl__WEBPACK_IMPORTED_MODULE_3__["Spinner"](_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].TFormSubmitButtonSpinner);\r\n    var transporter = new _Transport_Transport__WEBPACK_IMPORTED_MODULE_0__["Transporter"](_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__["get"]().getCommonInitOptions().environment, _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_6__["ISurvey"].Type[_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__["get"]().getFloodgateSurvey().getSurveyType()], _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__["get"]().getCommonInitOptions().appId, "Survey", _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__["get"]().getCommonInitOptions().applicationGroup, _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__["get"]().getCommonInitOptions().telemetryGroup, _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__["get"]().getCommonInitOptions().webGroup);\r\n    var commentElement = document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].TFormComment);\r\n    var commentEntered = (commentElement && !!commentElement.value);\r\n    var selectedRating = document.querySelector("input[name=\\"" + _UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].TFormRating + "\\"]:checked");\r\n    _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__["get"]().getFloodgateSurvey().setValues(Number(selectedRating.value), commentEntered ? commentElement.value : "");\r\n    // Add survey-specific data to manifest\r\n    transporter.setManifestValues(_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__["get"]().getFloodgateSurvey().getJsonElements());\r\n    // Send email address if user gives consent\r\n    var emailCheckBox = document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].TFormEmailCheckBox);\r\n    var emailTextBox = document.getElementById(_UiConstants__WEBPACK_IMPORTED_MODULE_1__["IDs"].TFormEmailTextBox);\r\n    if (emailCheckBox && emailCheckBox.checked && emailTextBox.value !== "") {\r\n        transporter.setEmail(emailTextBox.value);\r\n    }\r\n    transporter.submit();\r\n    spinner.destroy();\r\n    dismissAll(true);\r\n    logTelemetryEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_4__["EventIds"].SURVEY_UI_FORM_SUBMIT, transporter.getClientFeedbackId(), _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__["get"]().getFloodgateInitOptions().showEmailAddress);\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9Ub2FzdC9FdmVudHMudHM/YTVkYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRztBQUV1RDtBQUVKO0FBQ2hCO0FBRVE7QUFDSztBQUNrQjtBQUNEO0FBQy9CO0FBRTdCLFNBQUssR0FBSyw0Q0FBTCxDQUFXO0FBRXhCOztHQUVHO0FBQ0gsSUFBSSxTQUE2QixDQUFDO0FBRWxDOztHQUVHO0FBQ0gsSUFBSSxVQUFtQixDQUFDO0FBRXhCOzs7R0FHRztBQUNILFNBQVMsVUFBVSxDQUFDLFNBQWtCO0lBQ3JDLFVBQVUsRUFBRSxDQUFDO0lBQ2IsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQ3RCLENBQUM7QUFFRDs7R0FFRztBQUNILFNBQVMsVUFBVTtJQUNsQixlQUFlLEVBQUUsQ0FBQztBQUNuQixDQUFDO0FBRUQ7O0dBRUc7QUFDSCxJQUFJLGFBQWEsR0FBc0UsRUFBRSxDQUFDO0FBRTFGLFNBQVMsV0FBVyxDQUFDLEVBQVUsRUFBRSxLQUFhLEVBQUUsUUFBZ0M7SUFDL0UsdURBQXdCLENBQUMsRUFBRSxFQUFFLEtBQUssRUFBRSxRQUFRLENBQUMsQ0FBQztJQUM5QyxhQUFhLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDO0FBQ2xFLENBQUM7QUFFRCxTQUFTLGVBQWU7SUFDdkIsS0FBcUIsVUFBYSxFQUFiLCtCQUFhLEVBQWIsMkJBQWEsRUFBYixJQUFhLEVBQUU7UUFBL0IsSUFBSSxRQUFRO1FBQ2hCLHlEQUEwQixDQUFDLFFBQVEsQ0FBQyxFQUFFLEVBQUUsUUFBUSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7S0FDM0U7SUFDRCxhQUFh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Q0FBQyxhQUFhLENBQUMsZUFBZSxHQUFHLGdEQUFHLENBQUMsV0FBVyxHQUFHLGFBQWEsQ0FBcUIsQ0FBQztJQUUvRixnRUFBaUIsRUFBRSxDQUFDLGtCQUFrQixFQUFFLENBQUMsU0FBUyxDQUNqRCxNQUFNLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxFQUM1QixjQUFjLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FDMUMsQ0FBQztJQUVGLHVDQUF1QztJQUN2QyxXQUFXLENBQUMsaUJBQWlCLENBQUMsZ0VBQWlCLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLGVBQWUsRUFBRSxDQUFDLENBQUM7SUFFMUYsMkNBQTJDO0lBQzNDLElBQUksYUFBYSxHQUF3QyxRQUFRLENBQUMsY0FBYyxDQUFDLGdEQUFHLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUN6RyxJQUFJLFlBQVksR0FBd0MsUUFBUSxDQUFDLGNBQWMsQ0FBQyxnREFBRyxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFFdkcsSUFBSSxhQUFhLElBQUksYUFBYSxDQUFDLE9BQU8sSUFBSSxZQUFZLENBQUMsS0FBSyxLQUFLLEVBQUUsRUFBRTtRQUN4RSxXQUFXLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztLQUN6QztJQUVELFdBQVcsQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUNyQixPQUFPLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDbEIsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2pCLGlCQUFpQixDQUFDLHlEQUFnQixDQUFDLHFCQUFxQixFQUFFLFdBQVcsQ0FBQyxtQkFBbUIsRUFBRSxFQUMxRixnRUFBaUIsRUFBRSxDQUFDLHVCQUF1QixFQUFFLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztBQUNsRSxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvVUkvVG9hc3QvRXZlbnRzLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEV2ZW50cy50c1xyXG4gKlxyXG4gKiBBIG1vZHVsZSBmb3IgYWxsIEV2ZW50IGhhbmRsaW5nLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFRyYW5zcG9ydGVyIH0gZnJvbSBcIi4vLi4vLi4vVHJhbnNwb3J0L1RyYW5zcG9ydFwiO1xyXG5pbXBvcnQgeyBBdXRvRGlzbWlzc1ZhbHVlcyB9IGZyb20gXCIuLy4uLy4uL0NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBDbGFzc2VzLCBJRHMsIEtleXMgfSBmcm9tIFwiLi8uLi9VaUNvbnN0YW50c1wiO1xyXG5pbXBvcnQgKiBhcyBVaVV0aWxzIGZyb20gXCIuLy4uL1V0aWxzXCI7XHJcbmltcG9ydCB7IElPbkRpc21pc3NEZWxlZ2F0ZSB9IGZyb20gXCIuLy4uLy4uL0lPbkRpc21pc3NEZWxlZ2F0ZVwiO1xyXG5pbXBvcnQgeyBTcGlubmVyIH0gZnJvbSBcIi4vLi4vU3Bpbm5lckNvbnRyb2xcIjtcclxuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi8uLi8uLi9Mb2dnaW5nL0xvZ2dpbmdcIjtcclxuaW1wb3J0ICogYXMgQ29uZmlndXJhdGlvbiBmcm9tIFwiLi8uLi8uLi9Db25maWd1cmF0aW9uL0NvbmZpZ3VyYXRpb25cIjtcclxuaW1wb3J0ICogYXMgQXBpIGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmUvZGlzdC9zcmMvQXBpL0FwaVwiO1xyXG5pbXBvcnQgKiBhcyBVdGlscyBmcm9tIFwiLi4vLi4vVXRpbHNcIjtcclxuXHJcbmNvbnN0IHsgaXNOT1UgfSA9IFV0aWxzO1xyXG5cclxuLyoqXHJcbiAqIENhbGxiYWNrIGZvciB3aGVuIHRoZSBmZWVkYmFjayBkaWFsb2cgaXMgZGlzbWlzc2VkXHJcbiAqL1xyXG5sZXQgb25EaXNtaXNzOiBJT25EaXNtaXNzRGVsZWdhdGU7XHJcblxyXG4vKipcclxuICogSXMgdGhlIHByb21wdCB1cFxyXG4gKi9cclxubGV0IGlzUHJvbXB0VXA6IGJvb2xlYW47XHJcblxyXG4vKipcclxuICogRGlzbWlzcyBhbGwsIGluY2x1ZGluZyBuZXR3b3JraW5nLCBVSSwgYW5kIGV2ZW50c1xyXG4gKiBAcGFyYW0gc3VibWl0dGVkIFdhcyB0aGUgY29udHJvbCBzdWJtaXR0ZWQgKHRydWUpLCBvciBjYW5jZWxsZWQgKGZhbHNlKT9cclxuICovXHJcbmZ1bmN0aW9uIGRpc21pc3NBbGwoc3VibWl0dGVkOiBib29sZWFuKTogdm9pZCB7XHJcblx0dW5yZWdpc3RlcigpO1xyXG5cdG9uRGlzbWlzcyhzdWJtaXR0ZWQpO1xyXG59XHJcblxyXG4vKipcclxuICogTGlzdGVuZXIgdW4tcmVnaXN0cmF0aW9uXHJcbiAqL1xyXG5mdW5jdGlvbiB1bnJlZ2lzdGVyKCk6IHZvaWQge1xyXG5cdHJlbW92ZUxpc3RlbmVycygpO1xyXG59XHJcblxyXG4vKipcclxuICogTGlzdCBvZiBsaXN0ZW5lcnMgYW5kIHRoZSBpZHMgdGhleSBhcmUgYXR0YWNoZWQgdG8uIFRoaXMgZW5zdXJlcyBhbGwgZXZlbnRzIGFyZSBjb3JyZWN0bHkgdW5yZWdpc3RlcmVkLlxyXG4gKi9cclxubGV0IGxpc3RlbmVyc0xpc3Q6IHsgaWQ6IHN0cmluZywgZXZlbnQ6IHN0cmluZywgbGlzdGVuZXI6IChldmVudDogRXZlbnQpID0+IHZvaWQgfVtdID0gW107XHJcblxyXG5mdW5jdGlvbiBhZGRMaXN0ZW5lcihpZDogc3RyaW5nLCBldmVudDogc3RyaW5nLCBsaXN0ZW5lcjogKGV2ZW50OiBFdmVudCkgPT4gdm9pZCk6IHZvaWQge1xyXG5cdFVpVXRpbHMucmVnaXN0ZXJMaXN0ZW5lcihpZCwgZXZlbnQsIGxpc3RlbmVyKTtcclxuXHRsaXN0ZW5lcnNMaXN0LnB1c2goeyBldmVudDogZXZlbnQsIGlkOiBpZCwgbGlzdGVuZXI6IGxpc3RlbmVyIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVMaXN0ZW5lcnMoKTogdm9pZCB7XHJcblx0Zm9yIChsZXQgbGlzdGVuZXIgb2YgbGlzdGVuZXJzTGlzdCkge1xyXG5cdFx0VWlVdGlscy51bnJlZ2lzdGVyTGlzdGVuZXIobGlzdGVuZXIuaWQsIGxpc3RlbmVyLmV2ZW50LCBsaXN0ZW5lci5saXN0ZW5lcik7XHJcblx0fVxyXG5cdGxpc3RlbmVyc0xpc3QgPSBbXTtcclxufVxyXG5cclxuZnVuY3Rpb24gbG9nVGVsZW1ldHJ5RXZlbnQoZXZlbnRJZDogTG9nZ2luZy5JRXZlbnRJZCwgY2xpZW50RmVlZGJhY2tJZD86IHN0cmluZywgaXNFbWFpbFBvbGljeUVuYWJsZWQ/OiBib29sZWFuKTogdm9pZCB7XHJcblx0Y29uc3QgY29uZmlndXJhdGlvbiA9IENvbmZpZ3VyYXRpb24uZ2V0KCk7XHJcblx0TG9nZ2luZy5nZXRMb2dnZXIoKS5sb2dFdmVudChcclxuXHRcdGV2ZW50SWQsXHJcblx0XHRMb2dnaW5nLkxvZ0xldmVsLkNyaXRpY2FsLFxyXG5cdFx0e1xyXG5cdFx0XHRDYW1wYWlnbklkOiBjb25maWd1cmF0aW9uLmdldEZsb29kZ2F0ZVN1cnZleSgpLmdldENhbXBhaWduSWQoKSxcclxuXHRcdFx0U3VydmV5SWQ6IGNvbmZpZ3VyYXRpb24uZ2V0Rmxvb2RnYXRlU3VydmV5KCkuZ2V0SWQoKSxcclxuXHRcdFx0U3VydmV5VHlwZTogY29uZmlndXJhdGlvbi5nZXRGbG9vZGdhdGVTdXJ2ZXkoKS5nZXRTdXJ2ZXlUeXBlKCksXHJcblx0XHRcdFByb21wdEF1dG9EaXNtaXNzOiBjb25maWd1cmF0aW9uLmdldEZsb29kZ2F0ZUluaXRPcHRpb25zKCkuYXV0b0Rpc21pc3MudG9TdHJpbmcoKSxcclxuXHRcdFx0Q2xpZW50RmVlZGJhY2tJZDogY2xpZW50RmVlZGJhY2tJZCxcclxuXHRcdFx0SXNFbWFpbFBvbGljeUVuYWJsZWQ6IGlzRW1haWxQb2xpY3lFbmFibGVkLFxyXG5cdFx0fVxyXG5cdCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZWdpc3RlciBldmVudHMgZm9yIHRvYXN0XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXIoT05fRElTTUlTUzogSU9uRGlzbWlzc0RlbGVnYXRlID0gZnVuY3Rpb24gKHN1Ym1pdHRlZDogYm9vbGVhbikgeyByZXR1cm47IH0pIHtcclxuXHRvbkRpc21pc3MgPSBPTl9ESVNNSVNTO1xyXG5cdGlzUHJvbXB0VXAgPSB0cnVlO1xyXG5cclxuXHRhZGRMaXN0ZW5lcihJRHMuVG9hc3RDb250YWluZXIsIFwia2V5dXBcIiwgdG9hc3RLZXlFdmVudEhhbmRsZXIpO1xyXG5cdGFkZExpc3RlbmVyKElEcy5Ub2FzdENhbmNlbCwgXCJjbGlja1wiLCB0b2FzdENhbmNlbEhhbmRsZXIpO1xyXG5cdGFkZExpc3RlbmVyKElEcy5UUHJvbXB0Q29udGFpbmVyLCBcImNsaWNrXCIsIHByb21wdENvbnRhaW5lckhhbmRsZXIpO1xyXG5cdGFkZExpc3RlbmVyKElEcy5URm9ybVN1Ym1pdEJ1dHRvbiwgXCJjbGlja1wiLCBzdWJtaXRCdXR0b25IYW5kbGVyKTtcclxuXHRhZGRMaXN0ZW5lcihJRHMuVEZvcm1FbWFpbENoZWNrQm94LCBcImNsaWNrXCIsIGVtYWlsQ2hlY2tCb3hIYW5kbGVyKTtcclxuXHRlbWFpbENoZWNrQm94SGFuZGxlcihudWxsKTsgLy8gY2FsbCB0aGUgY2hlY2tib3ggaGFuZGxlciB0byBwcm9jZXNzIHRoZSBpbml0aWFsIHN0YXRlXHJcblxyXG5cdGxldCByYXRpbmdFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFtuYW1lPVxcXCJcIiArIElEcy5URm9ybVJhdGluZyArIFwiXFxcIl1cIik7XHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCByYXRpbmdFbGVtZW50cy5sZW5ndGg7ICsraSkge1xyXG5cdFx0VWlVdGlscy5yZWdpc3Rlckxpc3RlbmVyVG9FbGVtZW50KHJhdGluZ0VsZW1lbnRzW2ldIGFzIEhUTUxFbGVtZW50LCBcImNsaWNrXCIsIHJhdGluZ0lucHV0SGFuZGxlcik7XHJcblx0fVxyXG5cclxuXHRjb25zdCBpc0ludGVyY2VwdCA9IENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Rmxvb2RnYXRlU3VydmV5KCkuZ2V0U3VydmV5VHlwZSgpID09PSBBcGkuSVN1cnZleS5UeXBlLkludGVyY2VwdDtcclxuXHJcblx0aWYgKCFDb25maWd1cmF0aW9uLmdldCgpLmdldEZsb29kZ2F0ZVN1cnZleSgpLnNob3dQcm9tcHQgJiYgIWlzSW50ZXJjZXB0KSB7XHJcblx0XHRzaG93U3VydmV5U2NyZWVuKCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdGxvZ1RlbGVtZXRyeUV2ZW50KExvZ2dpbmcuRXZlbnRJZHMuU1VSVkVZX1VJX1BST01QVF9TSE9XTik7XHJcblx0fVxyXG5cclxuXHQvLyBBdXRvIGRpc21pc3MgaWYgbmVlZGVkIChObyBBdXRvIGRpc21pc3MgZm9yIGludGVyY2VwdClcclxuXHRsZXQgYXV0b0Rpc21pc3MgPSBpc0ludGVyY2VwdCA/IEF1dG9EaXNtaXNzVmFsdWVzLk5vQXV0b0Rpc21pc3MgOiBDb25maWd1cmF0aW9uLmdldCgpLmdldEZsb29kZ2F0ZUluaXRPcHRpb25zKCkuYXV0b0Rpc21pc3M7XHJcblxyXG5cdGlmIChhdXRvRGlzbWlzcyAhPT0gQXV0b0Rpc21pc3NWYWx1ZXMuTm9BdXRvRGlzbWlzcykge1xyXG5cdFx0bGV0IGF1dG9EaXNtaXNzRHVyYXRpb246IG51bWJlcjtcclxuXHRcdHN3aXRjaCAoYXV0b0Rpc21pc3MpIHtcclxuXHRcdFx0Y2FzZSAoQXV0b0Rpc21pc3NWYWx1ZXMuU2V2ZW5TZWNvbmRzKTpcclxuXHRcdFx0XHRhdXRvRGlzbWlzc0R1cmF0aW9uID0gNzAwMDtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAoQXV0b0Rpc21pc3NWYWx1ZXMuRm91cnRlZW5TZWNvbmRzKTpcclxuXHRcdFx0XHRhdXRvRGlzbWlzc0R1cmF0aW9uID0gMTQwMDA7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgKEF1dG9EaXNtaXNzVmFsdWVzLlR3ZW50eU9uZVNlY29uZHMpOlxyXG5cdFx0XHRcdGF1dG9EaXNtaXNzRHVyYXRpb24gPSAyMTAwMDtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAoQXV0b0Rpc21pc3NWYWx1ZXMuVHdlbnR5RWlnaHRTZWNvbmRzKTpcclxuXHRcdFx0XHRhdXRvRGlzbWlzc0R1cmF0aW9uID0gMjgwMDA7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGRlZmF1bHQ6XHJcblx0XHR9XHJcblx0XHRpZiAoYXV0b0Rpc21pc3NEdXJhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHNldFRpbWVvdXQoXHJcblx0XHRcdFx0ZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0aWYgKGlzUHJvbXB0VXApIHtcclxuXHRcdFx0XHRcdFx0ZGlzbWlzc0FsbChmYWxzZSk7XHJcblx0XHRcdFx0XHRcdGxvZ1RlbGVtZXRyeUV2ZW50KExvZ2dpbmcuRXZlbnRJZHMuU1VSVkVZX1VJX1BST01QVF9BVVRPRElTTUlTU0VEKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGF1dG9EaXNtaXNzRHVyYXRpb25cclxuXHRcdFx0KTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVtYWlsQ2hlY2tCb3hIYW5kbGVyKGV2ZW50OiBFdmVudCk6IHZvaWQge1xyXG5cdC8vIHNob3cgZW1haWwgaWYgY2hlY2tlZCBhbmQgc2hvdyBkZWZhdWx0IHN0cmluZyBpZiB1bmNoZWNrZWRcclxuXHRsZXQgZW1haWxDaGVja0JveDogSFRNTElucHV0RWxlbWVudCA9IDxIVE1MSW5wdXRFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChJRHMuVEZvcm1FbWFpbENoZWNrQm94KTtcclxuXHRpZiAoZW1haWxDaGVja0JveCkge1xyXG5cdFx0bGV0IGVtYWlsVGV4dEJveDogSFRNTElucHV0RWxlbWVudCA9IDxIVE1MSW5wdXRFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChJRHMuVEZvcm1FbWFpbFRleHRCb3gpO1xyXG5cdFx0ZW1haWxUZXh0Qm94LnZhbHVlID0gZW1haWxDaGVja0JveC5jaGVja2VkID8gQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRDb21tb25Jbml0T3B0aW9ucygpLnVzZXJFbWFpbCA6IG51bGw7XHJcblx0XHRlbWFpbFRleHRCb3guZGlzYWJsZWQgPSAhZW1haWxDaGVja0JveC5jaGVja2VkO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gdG9hc3RLZXlFdmVudEhhbmRsZXIoZXZlbnQ6IEV2ZW50KTogdm9pZCB7XHJcblx0Ly8gZGlzbWlzcyB1cG9uIHByZXNzaW5nIHRoZSBlc2NhcGUga2V5XHJcblx0aWYgKCg8S2V5Ym9hcmRFdmVudD4gZXZlbnQpLmtleUNvZGUgPT09IEtleXMuRXNjKSB7XHJcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRkaXNtaXNzQWxsKGZhbHNlKTtcclxuXHRcdGxvZ1RlbGVtZXRyeUV2ZW50KGlzUHJvbXB0VXAgPyBMb2dnaW5nLkV2ZW50SWRzLlNVUlZFWV9VSV9QUk9NUFRfVVNFUkNMT1NFRCA6IExvZ2dpbmcuRXZlbnRJZHMuU1VSVkVZX1VJX0ZPUk1fVVNFUkNMT1NFRCk7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiB0b2FzdENhbmNlbEhhbmRsZXIoZXZlbnQ6IEV2ZW50KTogdm9pZCB7XHJcblx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRkaXNtaXNzQWxsKGZhbHNlKTtcclxuXHRsb2dUZWxlbWV0cnlFdmVudChpc1Byb21wdFVwID8gTG9nZ2luZy5FdmVudElkcy5TVVJWRVlfVUlfUFJPTVBUX1VTRVJDTE9TRUQgOiBMb2dnaW5nLkV2ZW50SWRzLlNVUlZFWV9VSV9GT1JNX1VTRVJDTE9TRUQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwcm9tcHRDb250YWluZXJIYW5kbGVyKGV2ZW50OiBFdmVudCk6IHZvaWQge1xyXG5cdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG5cdGlmIChDb25maWd1cmF0aW9uLmdldCgpLmdldEZsb29kZ2F0ZVN1cnZleSgpLmdldFN1cnZleVR5cGUoKSA9PT0gQXBpLklTdXJ2ZXkuVHlwZS5JbnRlcmNlcHQpIHtcclxuXHRcdGludGVyY2VwdEhhbmRsZXIoKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0c2hvd1N1cnZleVNjcmVlbigpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gaW50ZXJjZXB0SGFuZGxlcigpOiB2b2lkIHtcclxuXHRjb25zdCBzdWNjZXNzID0gb3BlbkluTmV3VGFiKENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Rmxvb2RnYXRlU3VydmV5KCkuZ2V0SW50ZXJjZXB0VXJsKCkpO1xyXG5cdGRpc21pc3NBbGwoZmFsc2UpO1xyXG5cclxuXHQvLyBMb2dnaW5nIGFjY29yZGluZyB0byBpZiBvcGVuaW5nIHRoZSB0YWIgaXMgc3VjY2Vzc2Z1bC4gXHJcblx0aWYgKHN1Y2Nlc3MpIHtcclxuXHRcdGxvZ1RlbGVtZXRyeUV2ZW50KExvZ2dpbmcuRXZlbnRJZHMuU1VSVkVZX1VJX1BST01QVF9DTElDS0VEKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0bG9nVGVsZW1ldHJ5RXZlbnQoTG9nZ2luZy5FdmVudElkcy5TVVJWRVlfVUlfUkVESVJFQ1RJT05GQUlMVVJFKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9wZW5Jbk5ld1RhYih1cmw6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG5cdGNvbnN0IHdpbiA9IHdpbmRvdy5vcGVuKHVybCwgXCJfYmxhbmtcIik7XHJcblx0aWYgKGlzTk9VKHdpbikpIHtcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblx0d2luLmZvY3VzKCk7XHJcblx0cmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dTdXJ2ZXlTY3JlZW4oKTogdm9pZCB7XHJcblx0aXNQcm9tcHRVcCA9IGZhbHNlO1xyXG5cclxuXHRVaVV0aWxzLnNldEVsZW1lbnRWaXNpYmlsaXR5KElEcy5UUHJvbXB0Q29udGFpbmVyLCBmYWxzZSk7XHJcblx0VWlVdGlscy5zZXRFbGVtZW50VmlzaWJpbGl0eShJRHMuVEZvcm1Db250YWluZXIsIHRydWUpO1xyXG5cclxuXHQvLyBBZGRpbmcgVG9hc3Rab29tIGNsYXNzIHRvIHRvYXN0Q29udGFpbmVyLiBUaGlzIGhhbmRsZXMgem9vbSBhbmQgc21hbGwgc2NyZWVuIGFjY2VzaWJpbGl0eS5cclxuXHQvLyBJdCBpcyBhZGRlZCBoZXJlIHNvIHRoYXQgaXQgZG9lc24ndCBhcHBseSB0byB0aGUgcHJvbXB0LlxyXG5cdFVpVXRpbHMuYWRkQ2xhc3NCeUlkKElEcy5Ub2FzdENvbnRhaW5lciwgQ2xhc3Nlcy5Ub2FzdFpvb20pO1xyXG5cclxuXHQvLyByZW1vdmUgdG9hc3QgY29udGFpbmVyJ3MgYWxlcnQgYXR0cmlidXRlIHdoZW4gYWZ0ZXIgdGhlIHVzZXIgY2xpY2sgdG9hc3QgYW5kIGZvcm0gaXMgc2hvd24sIHNvIHNjcmVlbiByZWFkZXJzXHJcblx0Ly8gbGlrZSBKQVdTIGRvZXNuJ3QgcmVwZWF0IGFsbCBjb21wb25lbnRzIG9uIHRoZSBmb3JtLlxyXG5cdGlmICgoXCIgXCIgKyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChJRHMuVEZvcm1Db250YWluZXIpLmNsYXNzTmFtZSArIFwiIFwiKS5pbmRleE9mKFwiIFwiICsgQ2xhc3Nlcy5WaXNpYmxlICsgXCIgXCIpID4gLTEpIHtcclxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKElEcy5Ub2FzdENvbnRhaW5lcikuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcIlwiKTtcclxuXHR9XHJcblxyXG5cdC8vIEZvY3VzIHNob3VsZCBhbHdheXMgYmUgc2V0IHRvIGZpcnN0IHJhdGluZyBpdGVtIHNpbmNlIGFsbCBzdXBwb3J0ZWQgc3VydmV5cyBzaG93aW5nIGZvcm0gaGF2ZSByYXRpbmcgaXRlbXMgc28gZmFyLlxyXG5cdGNvbnN0IGZvcm1SYXRpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShJRHMuVEZvcm1SYXRpbmcpO1xyXG5cdGlmIChmb3JtUmF0aW5nICYmIGZvcm1SYXRpbmcubGVuZ3RoID4gMCkge1xyXG5cdFx0Zm9ybVJhdGluZ1swXS5mb2N1cygpO1xyXG5cdH1cclxuXHJcblx0bG9nVGVsZW1ldHJ5RXZlbnQoTG9nZ2luZy5FdmVudElkcy5TVVJWRVlfVUlfRk9STV9TSE9XTik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJhdGluZ0lucHV0SGFuZGxlcihldmVudDogRXZlbnQpOiB2b2lkIHtcclxuXHQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoSURzLlRGb3JtU3VibWl0QnV0dG9uKSBhcyBIVE1MQnV0dG9uRWxlbWVudCkuZGlzYWJsZWQgPSBmYWxzZTtcclxufVxyXG5cclxuZnVuY3Rpb24gc3VibWl0QnV0dG9uSGFuZGxlcihldmVudDogRXZlbnQpOiB2b2lkIHtcclxuXHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuXHRVaVV0aWxzLnNldEVsZW1lbnRWaXNpYmlsaXR5KElEcy5URm9ybVN1Ym1pdEJ1dHRvbiwgZmFsc2UpO1xyXG5cdGxldCBzcGlubmVyID0gbmV3IFNwaW5uZXIoSURzLlRGb3JtU3VibWl0QnV0dG9uU3Bpbm5lcik7XHJcblxyXG5cdGxldCB0cmFuc3BvcnRlcjogVHJhbnNwb3J0ZXIgPSBuZXcgVHJhbnNwb3J0ZXIoXHJcblx0XHRDb25maWd1cmF0aW9uLmdldCgpLmdldENvbW1vbkluaXRPcHRpb25zKCkuZW52aXJvbm1lbnQsXHJcblx0XHRBcGkuSVN1cnZleS5UeXBlW0NvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Rmxvb2RnYXRlU3VydmV5KCkuZ2V0U3VydmV5VHlwZSgpXSxcclxuXHRcdENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKS5hcHBJZCxcclxuXHRcdFwiU3VydmV5XCIsXHJcblx0XHRDb25maWd1cmF0aW9uLmdldCgpLmdldENvbW1vbkluaXRPcHRpb25zKCkuYXBwbGljYXRpb25Hcm91cCxcclxuXHRcdENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKS50ZWxlbWV0cnlHcm91cCxcclxuXHRcdENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKS53ZWJHcm91cCxcclxuXHQpO1xyXG5cclxuXHRsZXQgY29tbWVudEVsZW1lbnQ6IEhUTUxUZXh0QXJlYUVsZW1lbnQgPSA8SFRNTFRleHRBcmVhRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoSURzLlRGb3JtQ29tbWVudCk7XHJcblx0bGV0IGNvbW1lbnRFbnRlcmVkOiBib29sZWFuID0gKGNvbW1lbnRFbGVtZW50ICYmICEhY29tbWVudEVsZW1lbnQudmFsdWUpO1xyXG5cclxuXHRsZXQgc2VsZWN0ZWRSYXRpbmc6IEhUTUxJbnB1dEVsZW1lbnQgPVxyXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImlucHV0W25hbWU9XFxcIlwiICsgSURzLlRGb3JtUmF0aW5nICsgXCJcXFwiXTpjaGVja2VkXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG5cdENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Rmxvb2RnYXRlU3VydmV5KCkuc2V0VmFsdWVzKFxyXG5cdFx0TnVtYmVyKHNlbGVjdGVkUmF0aW5nLnZhbHVlKSxcclxuXHRcdGNvbW1lbnRFbnRlcmVkID8gY29tbWVudEVsZW1lbnQudmFsdWUgOiBcIlwiXHJcblx0KTtcclxuXHJcblx0Ly8gQWRkIHN1cnZleS1zcGVjaWZpYyBkYXRhIHRvIG1hbmlmZXN0XHJcblx0dHJhbnNwb3J0ZXIuc2V0TWFuaWZlc3RWYWx1ZXMoQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRGbG9vZGdhdGVTdXJ2ZXkoKS5nZXRKc29uRWxlbWVudHMoKSk7XHJcblxyXG5cdC8vIFNlbmQgZW1haWwgYWRkcmVzcyBpZiB1c2VyIGdpdmVzIGNvbnNlbnRcclxuXHRsZXQgZW1haWxDaGVja0JveDogSFRNTElucHV0RWxlbWVudCA9IDxIVE1MSW5wdXRFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChJRHMuVEZvcm1FbWFpbENoZWNrQm94KTtcclxuXHRsZXQgZW1haWxUZXh0Qm94OiBIVE1MSW5wdXRFbGVtZW50ID0gPEhUTUxJbnB1dEVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKElEcy5URm9ybUVtYWlsVGV4dEJveCk7XHJcblxyXG5cdGlmIChlbWFpbENoZWNrQm94ICYmIGVtYWlsQ2hlY2tCb3guY2hlY2tlZCAmJiBlbWFpbFRleHRCb3gudmFsdWUgIT09IFwiXCIpIHtcclxuXHRcdHRyYW5zcG9ydGVyLnNldEVtYWlsKGVtYWlsVGV4dEJveC52YWx1ZSk7XHJcblx0fVxyXG5cclxuXHR0cmFuc3BvcnRlci5zdWJtaXQoKTtcclxuXHRzcGlubmVyLmRlc3Ryb3koKTtcclxuXHRkaXNtaXNzQWxsKHRydWUpO1xyXG5cdGxvZ1RlbGVtZXRyeUV2ZW50KExvZ2dpbmcuRXZlbnRJZHMuU1VSVkVZX1VJX0ZPUk1fU1VCTUlULCB0cmFuc3BvcnRlci5nZXRDbGllbnRGZWVkYmFja0lkKCksXHJcblx0XHRDb25maWd1cmF0aW9uLmdldCgpLmdldEZsb29kZ2F0ZUluaXRPcHRpb25zKCkuc2hvd0VtYWlsQWRkcmVzcyk7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/UI/Toast/Events.ts\n')},"./scripts/app/UI/Toast/Layout.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generate", function() { return generate; });\n/* harmony import */ var _ChoiceGroupControl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../ChoiceGroupControl */ "./scripts/app/UI/ChoiceGroupControl.ts");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../../Configuration/Configuration */ "./scripts/app/Configuration/Configuration.ts");\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../UiConstants */ "./scripts/app/UI/UiConstants.ts");\n/* harmony import */ var _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../../UIStrings/UIStrings */ "./scripts/app/UIStrings/UIStrings.ts");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../Utils */ "./scripts/app/UI/Utils.ts");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore/dist/src/Api/Api */ "../FloodgateCore/dist/src/Api/Api.js");\n/* harmony import */ var _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_5__);\n/**\r\n * Layout.ts\r\n *\r\n * Module for the layout\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Generates the toast\r\n *\r\n * @returns {Renderer.IUIAsJson} Renderer.IUIAsJson object\r\n */\r\nfunction generate() {\r\n    var schema = {\r\n        attributes: [\r\n            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeName"].DataHtml2CanvasIgnore, value: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeValue"].True },\r\n            { name: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeName"].Role, value: "alert" },\r\n        ],\r\n        children: [\r\n            generatePrompt(),\r\n            {\r\n                attributes: [\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeName"].Type, value: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeValue"].Button },\r\n                    { name: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeName"].AriaLabel, value: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_3__["getUIStrings"]().CloseLabel },\r\n                ],\r\n                id: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["IDs"].ToastCancel,\r\n                // tslint:disable-next-line:max-line-length\r\n                innerHTML: \'<svg viewBox="4 4 16 16" width="16px" height="16px" focusable="false"><path d="M19,6.41L17.59,5 12,10.59 6.41,5 5,6.41 10.59,12 5,17.59 6.41,19 12,13.41 17.59,19 19,17.59 13.41,12z"/></svg>\',\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Tags"].Button,\r\n            },\r\n            (_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getFloodgateSurvey().getSurveyType() !== _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_5__["ISurvey"].Type.Intercept) ? generateForm() : {},\r\n        ],\r\n        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].Toast, _Utils__WEBPACK_IMPORTED_MODULE_4__["isRightToLeft"]() ? _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].Rtl : ""],\r\n        id: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["IDs"].ToastContainer,\r\n    };\r\n    return schema;\r\n}\r\nfunction generatePrompt() {\r\n    // Checking if the campaign is an intercept one to render the relevant prompt strings.\r\n    var isIntercept = (_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getFloodgateSurvey().getSurveyType() === _ms_ofb_officefloodgatecore_dist_src_Api_Api__WEBPACK_IMPORTED_MODULE_5__["ISurvey"].Type.Intercept);\r\n    var promptSchema = {\r\n        children: [\r\n            {\r\n                classes: [\r\n                    _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].FontText,\r\n                    _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].TextAlignLeft,\r\n                ],\r\n                id: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["IDs"].TPromptTitle,\r\n                innerText: isIntercept ?\r\n                    _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getFloodgateSurvey().getInterceptTitle() :\r\n                    _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getFloodgateSurvey().getTitle(),\r\n            },\r\n            {\r\n                classes: [\r\n                    _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].FontSubText,\r\n                    _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].TextAlignLeft,\r\n                ],\r\n                id: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["IDs"].TPromptText,\r\n                innerText: isIntercept ?\r\n                    _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getFloodgateSurvey().getInterceptQuestion() :\r\n                    _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getFloodgateSurvey().getPromptQuestion(),\r\n            },\r\n        ],\r\n        id: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["IDs"].TPromptContainer,\r\n        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Tags"].Button,\r\n    };\r\n    return promptSchema;\r\n}\r\nfunction userEmailConsentDefault() {\r\n    return _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getCommonInitOptions().userEmailConsentDefault ? _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeValue"].Checked : _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeValue"].Unchecked;\r\n}\r\nfunction generateForm() {\r\n    var formSchema = {\r\n        children: [\r\n            {\r\n                classes: [\r\n                    _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].FontText,\r\n                    _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].TextAlignLeft,\r\n                ],\r\n                id: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["IDs"].TFormTitle,\r\n                innerText: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getFloodgateSurvey().getTitle(),\r\n            },\r\n            generateRatingControl(),\r\n            {\r\n                attributes: [\r\n                    {\r\n                        name: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeName"].Placeholder,\r\n                        value: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getFloodgateSurvey().getCommentQuestion(),\r\n                    },\r\n                    {\r\n                        name: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeName"].AriaLabel,\r\n                        value: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getFloodgateSurvey().getCommentQuestion(),\r\n                    },\r\n                    {\r\n                        name: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeName"].MaxLength,\r\n                        value: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeValue"].TextAreaMaxLength,\r\n                    },\r\n                ],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].FontSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].TextInput],\r\n                id: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["IDs"].TFormComment,\r\n                tag: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Tags"].TextArea,\r\n            },\r\n            {\r\n                brs: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getFloodgateInitOptions().showEmailAddress && _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getFloodgateSurvey().showEmailRequest,\r\n                children: [\r\n                    {\r\n                        attributes: [\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeName"].Type,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeValue"].Checkbox,\r\n                            },\r\n                            {\r\n                                name: userEmailConsentDefault(),\r\n                                value: "",\r\n                            },\r\n                        ],\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].TFormEmailCheckbox, _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].CheckBox],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["IDs"].TFormEmailCheckBox,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Tags"].Input,\r\n                    },\r\n                    {\r\n                        attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeName"].For, value: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["IDs"].TFormEmailCheckBox }],\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].FontSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].TextAlignLeft, _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].TFormEmailLabel],\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_3__["getUIStrings"]().Form.EmailCheckBoxLabel,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Tags"].Label,\r\n                    },\r\n                    {\r\n                        attributes: [\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeName"].Type,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeValue"].Text,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeName"].Placeholder,\r\n                                value: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_3__["getUIStrings"]().Form.EmailPlaceholder,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeName"].AriaLabel,\r\n                                value: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_3__["getUIStrings"]().Form.EmailPlaceholder,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeName"].Name,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["IDs"].BasicFormEmailInput,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeName"].MaxLength,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeValue"].TextAreaMaxLength,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeName"].Value,\r\n                                value: _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getCommonInitOptions().userEmailConsentDefault\r\n                                    ? _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getCommonInitOptions().userEmail\r\n                                    : "",\r\n                            },\r\n                        ],\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].FontSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].FormEmailInput, _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].TextInput],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["IDs"].TFormEmailTextBox,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Tags"].Input,\r\n                    },\r\n                ],\r\n            },\r\n            {\r\n                children: [\r\n                    {\r\n                        attributes: [\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeName"].HRef,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Urls"].PrivacyStatementLink,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeName"].Target,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeValue"].BlankWindow,\r\n                            },\r\n                            {\r\n                                name: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeName"].Rel,\r\n                                value: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeValue"].NoReferrer,\r\n                            },\r\n                        ],\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].Link],\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_3__["getUIStrings"]().PrivacyStatement,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Tags"].Anchor,\r\n                    },\r\n                ],\r\n                classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].FontSubSubText, _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].TextAlignLeft, _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].PrivacyStatementLinkDiv],\r\n            },\r\n            {\r\n                children: [\r\n                    {\r\n                        attributes: [{ name: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeName"].Disabled, value: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["AttributeValue"].True }],\r\n                        classes: [\r\n                            _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].FontSubText,\r\n                            _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].SubmitButton,\r\n                        ],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["IDs"].TFormSubmitButton,\r\n                        innerText: _UIStrings_UIStrings__WEBPACK_IMPORTED_MODULE_3__["getUIStrings"]().Form.Submit,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Tags"].Button,\r\n                    },\r\n                    {\r\n                        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].Spinner, _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].Hidden],\r\n                        id: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["IDs"].TFormSubmitButtonSpinner,\r\n                        tag: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["Tags"].Div,\r\n                    },\r\n                ],\r\n                id: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["IDs"].TFormSubmitButtonContainer,\r\n            },\r\n        ],\r\n        classes: [_UiConstants__WEBPACK_IMPORTED_MODULE_2__["Classes"].Hidden],\r\n        id: _UiConstants__WEBPACK_IMPORTED_MODULE_2__["IDs"].TFormContainer,\r\n    };\r\n    return formSchema;\r\n}\r\nfunction generateRatingControl() {\r\n    var _a;\r\n    var choices = [];\r\n    var ratingValues = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getFloodgateSurvey().getRatingValuesAscending();\r\n    var index = 0;\r\n    for (var _i = 0, ratingValues_1 = ratingValues; _i < ratingValues_1.length; _i++) {\r\n        var ratingValue = ratingValues_1[_i];\r\n        choices.push([index, ratingValue]);\r\n        index++;\r\n    }\r\n    // Ratings need to be shown in descending order\r\n    return _ChoiceGroupControl__WEBPACK_IMPORTED_MODULE_0__["generateRadioGroup"](_UiConstants__WEBPACK_IMPORTED_MODULE_2__["IDs"].TFormRating, (_a = _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_1__["get"]().getFloodgateSurvey().getRatingQuestion()) === null || _a === void 0 ? void 0 : _a.trim(), choices.reverse());\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9Ub2FzdC9MYXlvdXQudHM/ODA4NyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztHQUlHO0FBRzJEO0FBQ087QUFDc0I7QUFDbEM7QUFDckI7QUFDZ0M7QUFFcEU7Ozs7R0FJRztBQUNJLFNBQVMsUUFBUTtJQUN2QixJQUFJLE1BQU0sR0FBdUI7UUFDaEMsVUFBVSxFQUFFO1lBQ1gsRUFBRSxJQUFJLEVBQUUsMERBQWEsQ0FBQyxxQkFBcUIsRUFBRSxLQUFLLEVBQUUsMkRBQWMsQ0FBQyxJQUFJLEVBQUU7WUFDekUsRUFBRSxJQUFJLEVBQUUsMERBQWEsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRTtTQUM1QztRQUNELFFBQVEsRUFBRTtZQUNULGNBQWMsRUFBRTtZQUNoQjtnQkFDQyxVQUFVLEVBQUU7b0JBQ1gsRUFBRSxJQUFJLEVBQUUsMERBQWEsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLDJEQUFjLENBQUMsTUFBTSxFQUFFO29CQUMxRCxFQUFFLElBQUksRUFBRSwwREFBYSxDQUFDLFNBQVMsRUFBRSxLQUFLLEVBQUUsaUVBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQUU7aUJBQzdFO2dCQUNELEVBQUUsRUFBRSxnREFBRyxDQUFDLFdBQVc7Z0JBQ25CLDJDQUEyQztnQkFDM0MsU0FBUyxFQUFFLCtMQUErTDtnQkFDMU0sR0FBRyxFQUFFLGlEQUFJLENBQUMsTUFBTTthQUNoQjtZQUNELENBQUMsZ0VBQWlCLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLGFBQWEsRUFBRSxLQUFLLG9GQUFXLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRTtTQUMvRztRQUNELE9BQU8sRUFBRSxDQUFDLG9EQUFPLENBQUMsS0FBSyxF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LFlBQVksR0FBYSxnRUFBaUIsRUFBRSxDQUFDLGtCQUFrQixFQUFFLENBQUMsd0JBQXdCLEVBQUUsQ0FBQztJQUNqRyxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7SUFFZCxLQUF3QixVQUFZLEVBQVosNkJBQVksRUFBWiwwQkFBWSxFQUFaLElBQVksRUFBRTtRQUFqQyxJQUFJLFdBQVc7UUFDbkIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDO1FBQ25DLEtBQUssRUFBRSxDQUFDO0tBQ1I7SUFFRCwrQ0FBK0M7SUFDL0MsT0FBTyxzRUFBcUMsQ0FBQyxnREFBRyxDQUFDLFdBQVcsUUFDM0QsZ0VBQWlCLEVBQUUsQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLGlCQUFpQixFQUFFLDBDQUFFLElBQUksSUFDbEUsT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7QUFDckIsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1VJL1RvYXN0L0xheW91dC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBMYXlvdXQudHNcclxuICpcclxuICogTW9kdWxlIGZvciB0aGUgbGF5b3V0XHJcbiAqL1xyXG5cclxuaW1wb3J0ICogYXMgUmVuZGVyZXIgZnJvbSBcIi4vLi4vUmVuZGVyZXJcIjtcclxuaW1wb3J0ICogYXMgQ2hvaWNlR3JvdXBDb250cm9sIGZyb20gXCIuLy4uL0Nob2ljZUdyb3VwQ29udHJvbFwiO1xyXG5pbXBvcnQgKiBhcyBDb25maWd1cmF0aW9uIGZyb20gXCIuLy4uLy4uL0NvbmZpZ3VyYXRpb24vQ29uZmlndXJhdGlvblwiO1xyXG5pbXBvcnQgeyBBdHRyaWJ1dGVOYW1lLCBBdHRyaWJ1dGVWYWx1ZSwgQ2xhc3NlcywgSURzLCBUYWdzLCBVcmxzIH0gZnJvbSBcIi4vLi4vVWlDb25zdGFudHNcIjtcclxuaW1wb3J0ICogYXMgVUlTdHJpbmdzIGZyb20gXCIuLy4uLy4uL1VJU3RyaW5ncy9VSVN0cmluZ3NcIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4vLi4vVXRpbHNcIjtcclxuaW1wb3J0ICogYXMgQXBpIGZyb20gXCJAbXMtb2ZiL29mZmljZWZsb29kZ2F0ZWNvcmUvZGlzdC9zcmMvQXBpL0FwaVwiO1xyXG5cclxuLyoqXHJcbiAqIEdlbmVyYXRlcyB0aGUgdG9hc3RcclxuICpcclxuICogQHJldHVybnMge1JlbmRlcmVyLklVSUFzSnNvbn0gUmVuZGVyZXIuSVVJQXNKc29uIG9iamVjdFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlKCk6IFJlbmRlcmVyLklVSUFzSnNvbiB7XHJcblx0bGV0IHNjaGVtYTogUmVuZGVyZXIuSVVJQXNKc29uID0ge1xyXG5cdFx0YXR0cmlidXRlczogW1xyXG5cdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuRGF0YUh0bWwyQ2FudmFzSWdub3JlLCB2YWx1ZTogQXR0cmlidXRlVmFsdWUuVHJ1ZSB9LFxyXG5cdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuUm9sZSwgdmFsdWU6IFwiYWxlcnRcIiB9LFxyXG5cdFx0XSxcclxuXHRcdGNoaWxkcmVuOiBbXHJcblx0XHRcdGdlbmVyYXRlUHJvbXB0KCksXHJcblx0XHRcdHtcclxuXHRcdFx0XHRhdHRyaWJ1dGVzOiBbXHJcblx0XHRcdFx0XHR7IG5hbWU6IEF0dHJpYnV0ZU5hbWUuVHlwZSwgdmFsdWU6IEF0dHJpYnV0ZVZhbHVlLkJ1dHRvbiB9LFxyXG5cdFx0XHRcdFx0eyBuYW1lOiBBdHRyaWJ1dGVOYW1lLkFyaWFMYWJlbCwgdmFsdWU6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5DbG9zZUxhYmVsIH0sXHJcblx0XHRcdFx0XSxcclxuXHRcdFx0XHRpZDogSURzLlRvYXN0Q2FuY2VsLFxyXG5cdFx0XHRcdC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTptYXgtbGluZS1sZW5ndGhcclxuXHRcdFx0XHRpbm5lckhUTUw6ICc8c3ZnIHZpZXdCb3g9XCI0IDQgMTYgMTZcIiB3aWR0aD1cIjE2cHhcIiBoZWlnaHQ9XCIxNnB4XCIgZm9jdXNhYmxlPVwiZmFsc2VcIj48cGF0aCBkPVwiTTE5LDYuNDFMMTcuNTksNSAxMiwxMC41OSA2LjQxLDUgNSw2LjQxIDEwLjU5LDEyIDUsMTcuNTkgNi40MSwxOSAxMiwxMy40MSAxNy41OSwxOSAxOSwxNy41OSAxMy40MSwxMnpcIi8+PC9zdmc+JyxcclxuXHRcdFx0XHR0YWc6IFRhZ3MuQnV0dG9uLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHQoQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRGbG9vZGdhdGVTdXJ2ZXkoKS5nZXRTdXJ2ZXlUeXBlKCkgIT09IEFwaS5JU3VydmV5LlR5cGUuSW50ZXJjZXB0KSA/IGdlbmVyYXRlRm9ybSgpIDoge30sXHJcblx0XHRdLFxyXG5cdFx0Y2xhc3NlczogW0NsYXNzZXMuVG9hc3QsIFV0aWxzLmlzUmlnaHRUb0xlZnQoKSA/IENsYXNzZXMuUnRsIDogXCJcIl0sXHJcblx0XHRpZDogSURzLlRvYXN0Q29udGFpbmVyLFxyXG5cdH07XHJcblx0cmV0dXJuIHNjaGVtYTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVQcm9tcHQoKTogUmVuZGVyZXIuSVVJQXNKc29uIHtcclxuXHQvLyBDaGVja2luZyBpZiB0aGUgY2FtcGFpZ24gaXMgYW4gaW50ZXJjZXB0IG9uZSB0byByZW5kZXIgdGhlIHJlbGV2YW50IHByb21wdCBzdHJpbmdzLlxyXG5cdGNvbnN0IGlzSW50ZXJjZXB0ID0gKENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Rmxvb2RnYXRlU3VydmV5KCkuZ2V0U3VydmV5VHlwZSgpID09PSBBcGkuSVN1cnZleS5UeXBlLkludGVyY2VwdCk7XHJcblxyXG5cdGxldCBwcm9tcHRTY2hlbWE6IFJlbmRlcmVyLklVSUFzSnNvbiA9IHtcclxuXHRcdGNoaWxkcmVuOiBbXHJcblx0XHRcdHtcclxuXHRcdFx0XHRjbGFzc2VzOiBbXHJcblx0XHRcdFx0XHRDbGFzc2VzLkZvbnRUZXh0LFxyXG5cdFx0XHRcdFx0Q2xhc3Nlcy5UZXh0QWxpZ25MZWZ0LFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0aWQ6IElEcy5UUHJvbXB0VGl0bGUsXHJcblx0XHRcdFx0aW5uZXJUZXh0OiBpc0ludGVyY2VwdCA/XHJcblx0XHRcdFx0XHRDb25maWd1cmF0aW9uLmdldCgpLmdldEZsb29kZ2F0ZVN1cnZleSgpLmdldEludGVyY2VwdFRpdGxlKCkgOlxyXG5cdFx0XHRcdFx0Q29uZmlndXJhdGlvbi5nZXQoKS5nZXRGbG9vZGdhdGVTdXJ2ZXkoKS5nZXRUaXRsZSgpLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Y2xhc3NlczogW1xyXG5cdFx0XHRcdFx0Q2xhc3Nlcy5Gb250U3ViVGV4dCxcclxuXHRcdFx0XHRcdENsYXNzZXMuVGV4dEFsaWduTGVmdCxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdGlkOiBJRHMuVFByb21wdFRleHQsXHJcblx0XHRcdFx0aW5uZXJUZXh0OiBpc0ludGVyY2VwdCA/XHJcblx0XHRcdFx0XHRDb25maWd1cmF0aW9uLmdldCgpLmdldEZsb29kZ2F0ZVN1cnZleSgpLmdldEludGVyY2VwdFF1ZXN0aW9uKCkgOlxyXG5cdFx0XHRcdFx0Q29uZmlndXJhdGlvbi5nZXQoKS5nZXRGbG9vZGdhdGVTdXJ2ZXkoKS5nZXRQcm9tcHRRdWVzdGlvbigpLFxyXG5cdFx0XHR9LFxyXG5cdFx0XSxcclxuXHRcdGlkOiBJRHMuVFByb21wdENvbnRhaW5lcixcclxuXHRcdHRhZzogVGFncy5CdXR0b24sXHJcblx0fTtcclxuXHJcblx0cmV0dXJuIHByb21wdFNjaGVtYTtcclxufVxyXG5cclxuZnVuY3Rpb24gdXNlckVtYWlsQ29uc2VudERlZmF1bHQoKTogc3RyaW5nIHtcclxuXHRyZXR1cm4gQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRDb21tb25Jbml0T3B0aW9ucygpLnVzZXJFbWFpbENvbnNlbnREZWZhdWx0ID8gQXR0cmlidXRlVmFsdWUuQ2hlY2tlZCA6IEF0dHJpYnV0ZVZhbHVlLlVuY2hlY2tlZDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVGb3JtKCk6IFJlbmRlcmVyLklVSUFzSnNvbiB7XHJcblx0bGV0IGZvcm1TY2hlbWE6IFJlbmRlcmVyLklVSUFzSnNvbiA9IHtcclxuXHRcdGNoaWxkcmVuOiBbXHJcblx0XHRcdHtcclxuXHRcdFx0XHRjbGFzc2VzOiBbXHJcblx0XHRcdFx0XHRDbGFzc2VzLkZvbnRUZXh0LFxyXG5cdFx0XHRcdFx0Q2xhc3Nlcy5UZXh0QWxpZ25MZWZ0LFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0aWQ6IElEcy5URm9ybVRpdGxlLFxyXG5cdFx0XHRcdGlubmVyVGV4dDogQ29uZmlndXJhdGlvbi5nZXQoKS5nZXRGbG9vZGdhdGVTdXJ2ZXkoKS5nZXRUaXRsZSgpLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHRnZW5lcmF0ZVJhdGluZ0NvbnRyb2woKSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGF0dHJpYnV0ZXM6IFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0bmFtZTogQXR0cmlidXRlTmFtZS5QbGFjZWhvbGRlcixcclxuXHRcdFx0XHRcdFx0dmFsdWU6IENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Rmxvb2RnYXRlU3VydmV5KCkuZ2V0Q29tbWVudFF1ZXN0aW9uKCksXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLkFyaWFMYWJlbCxcclxuXHRcdFx0XHRcdFx0dmFsdWU6IENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Rmxvb2RnYXRlU3VydmV5KCkuZ2V0Q29tbWVudFF1ZXN0aW9uKCksXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLk1heExlbmd0aCxcclxuXHRcdFx0XHRcdFx0dmFsdWU6IEF0dHJpYnV0ZVZhbHVlLlRleHRBcmVhTWF4TGVuZ3RoLFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLkZvbnRTdWJUZXh0LCBDbGFzc2VzLlRleHRJbnB1dF0sXHJcblx0XHRcdFx0aWQ6IElEcy5URm9ybUNvbW1lbnQsXHJcblx0XHRcdFx0dGFnOiBUYWdzLlRleHRBcmVhLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0YnJzOiBDb25maWd1cmF0aW9uLmdldCgpLmdldEZsb29kZ2F0ZUluaXRPcHRpb25zKCkuc2hvd0VtYWlsQWRkcmVzcyAmJiBDb25maWd1cmF0aW9uLmdldCgpLmdldEZsb29kZ2F0ZVN1cnZleSgpLnNob3dFbWFpbFJlcXVlc3QsXHJcblx0XHRcdFx0Y2hpbGRyZW46IFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczogW1xyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuVHlwZSxcclxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBBdHRyaWJ1dGVWYWx1ZS5DaGVja2JveCxcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdG5hbWU6IHVzZXJFbWFpbENvbnNlbnREZWZhdWx0KCksXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogXCJcIixcclxuXHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRdLFxyXG5cdFx0XHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5URm9ybUVtYWlsQ2hlY2tib3gsIENsYXNzZXMuQ2hlY2tCb3hdLFxyXG5cdFx0XHRcdFx0XHRpZDogSURzLlRGb3JtRW1haWxDaGVja0JveCxcclxuXHRcdFx0XHRcdFx0dGFnOiBUYWdzLklucHV0LFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczogW3sgbmFtZTogQXR0cmlidXRlTmFtZS5Gb3IsIHZhbHVlOiBJRHMuVEZvcm1FbWFpbENoZWNrQm94IH1dLFxyXG5cdFx0XHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5Gb250U3ViVGV4dCwgQ2xhc3Nlcy5UZXh0QWxpZ25MZWZ0LCBDbGFzc2VzLlRGb3JtRW1haWxMYWJlbF0sXHJcblx0XHRcdFx0XHRcdGlubmVyVGV4dDogVUlTdHJpbmdzLmdldFVJU3RyaW5ncygpLkZvcm0uRW1haWxDaGVja0JveExhYmVsLFxyXG5cdFx0XHRcdFx0XHR0YWc6IFRhZ3MuTGFiZWwsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRhdHRyaWJ1dGVzOiBbXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogQXR0cmlidXRlTmFtZS5UeXBlLFxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IEF0dHJpYnV0ZVZhbHVlLlRleHQsXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLlBsYWNlaG9sZGVyLFxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Gb3JtLkVtYWlsUGxhY2Vob2xkZXIsXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLkFyaWFMYWJlbCxcclxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBVSVN0cmluZ3MuZ2V0VUlTdHJpbmdzKCkuRm9ybS5FbWFpbFBsYWNlaG9sZGVyLFxyXG5cdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogQXR0cmlidXRlTmFtZS5OYW1lLFxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IElEcy5CYXNpY0Zvcm1FbWFpbElucHV0LFxyXG5cdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0bmFtZTogQXR0cmlidXRlTmFtZS5NYXhMZW5ndGgsXHJcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogQXR0cmlidXRlVmFsdWUuVGV4dEFyZWFNYXhMZW5ndGgsXHJcblx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLlZhbHVlLFxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWU6IENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Q29tbW9uSW5pdE9wdGlvbnMoKS51c2VyRW1haWxDb25zZW50RGVmYXVsdFxyXG5cdFx0XHRcdFx0XHRcdFx0PyBDb25maWd1cmF0aW9uLmdldCgpLmdldENvbW1vbkluaXRPcHRpb25zKCkudXNlckVtYWlsXHJcblx0XHRcdFx0XHRcdFx0XHQ6ICBcIlwiLFxyXG5cdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdF0sXHJcblx0XHRcdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLkZvbnRTdWJUZXh0LCBDbGFzc2VzLkZvcm1FbWFpbElucHV0LCBDbGFzc2VzLlRleHRJbnB1dF0sXHJcblx0XHRcdFx0XHRcdGlkOiBJRHMuVEZvcm1FbWFpbFRleHRCb3gsXHJcblx0XHRcdFx0XHRcdHRhZzogVGFncy5JbnB1dCxcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XSxcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGNoaWxkcmVuOlxyXG5cdFx0XHRcdFx0W1xyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0YXR0cmlidXRlczogW1xyXG5cdFx0XHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRuYW1lOiBBdHRyaWJ1dGVOYW1lLkhSZWYsXHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBVcmxzLlByaXZhY3lTdGF0ZW1lbnRMaW5rLFxyXG5cdFx0XHRcdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0bmFtZTogQXR0cmlidXRlTmFtZS5UYXJnZXQsXHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlOiBBdHRyaWJ1dGVWYWx1ZS5CbGFua1dpbmRvdyxcclxuXHRcdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0XHRcdG5hbWU6IEF0dHJpYnV0ZU5hbWUuUmVsLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogQXR0cmlidXRlVmFsdWUuTm9SZWZlcnJlcixcclxuXHRcdFx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdFx0XSxcclxuXHRcdFx0XHRcdFx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5MaW5rXSxcclxuXHRcdFx0XHRcdFx0XHRpbm5lclRleHQ6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Qcml2YWN5U3RhdGVtZW50LFxyXG5cdFx0XHRcdFx0XHRcdHRhZzogVGFncy5BbmNob3IsXHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRdLFxyXG5cdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLkZvbnRTdWJTdWJUZXh0LCBDbGFzc2VzLlRleHRBbGlnbkxlZnQsIENsYXNzZXMuUHJpdmFjeVN0YXRlbWVudExpbmtEaXZdLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Y2hpbGRyZW46IFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0YXR0cmlidXRlczogW3sgbmFtZTogQXR0cmlidXRlTmFtZS5EaXNhYmxlZCwgdmFsdWU6IEF0dHJpYnV0ZVZhbHVlLlRydWUgfV0sXHJcblx0XHRcdFx0XHRcdGNsYXNzZXM6IFtcclxuXHRcdFx0XHRcdFx0XHRDbGFzc2VzLkZvbnRTdWJUZXh0LFxyXG5cdFx0XHRcdFx0XHRcdENsYXNzZXMuU3VibWl0QnV0dG9uLFxyXG5cdFx0XHRcdFx0XHRdLFxyXG5cdFx0XHRcdFx0XHRpZDogSURzLlRGb3JtU3VibWl0QnV0dG9uLFxyXG5cdFx0XHRcdFx0XHRpbm5lclRleHQ6IFVJU3RyaW5ncy5nZXRVSVN0cmluZ3MoKS5Gb3JtLlN1Ym1pdCxcclxuXHRcdFx0XHRcdFx0dGFnOiBUYWdzLkJ1dHRvbixcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGNsYXNzZXM6IFtDbGFzc2VzLlNwaW5uZXIsIENsYXNzZXMuSGlkZGVuXSxcclxuXHRcdFx0XHRcdFx0aWQ6IElEcy5URm9ybVN1Ym1pdEJ1dHRvblNwaW5uZXIsXHJcblx0XHRcdFx0XHRcdHRhZzogVGFncy5EaXYsXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdF0sXHJcblx0XHRcdFx0aWQ6IElEcy5URm9ybVN1Ym1pdEJ1dHRvbkNvbnRhaW5lcixcclxuXHRcdFx0fSxcclxuXHRcdF0sXHJcblx0XHRjbGFzc2VzOiBbQ2xhc3Nlcy5IaWRkZW5dLFxyXG5cdFx0aWQ6IElEcy5URm9ybUNvbnRhaW5lcixcclxuXHR9O1xyXG5cclxuXHRyZXR1cm4gZm9ybVNjaGVtYTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVSYXRpbmdDb250cm9sKCk6IFJlbmRlcmVyLklVSUFzSnNvbiB7XHJcblx0bGV0IGNob2ljZXM6IFtudW1iZXIsIHN0cmluZ11bXSA9IFtdO1xyXG5cclxuXHRsZXQgcmF0aW5nVmFsdWVzOiBzdHJpbmdbXSA9IENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Rmxvb2RnYXRlU3VydmV5KCkuZ2V0UmF0aW5nVmFsdWVzQXNjZW5kaW5nKCk7XHJcblx0bGV0IGluZGV4ID0gMDtcclxuXHJcblx0Zm9yIChsZXQgcmF0aW5nVmFsdWUgb2YgcmF0aW5nVmFsdWVzKSB7XHJcblx0XHRjaG9pY2VzLnB1c2goW2luZGV4LCByYXRpbmdWYWx1ZV0pO1xyXG5cdFx0aW5kZXgrKztcclxuXHR9XHJcblxyXG5cdC8vIFJhdGluZ3MgbmVlZCB0byBiZSBzaG93biBpbiBkZXNjZW5kaW5nIG9yZGVyXHJcblx0cmV0dXJuIENob2ljZUdyb3VwQ29udHJvbC5nZW5lcmF0ZVJhZGlvR3JvdXAoSURzLlRGb3JtUmF0aW5nLFxyXG5cdFx0Q29uZmlndXJhdGlvbi5nZXQoKS5nZXRGbG9vZGdhdGVTdXJ2ZXkoKS5nZXRSYXRpbmdRdWVzdGlvbigpPy50cmltKCksXHJcblx0XHRjaG9pY2VzLnJldmVyc2UoKSk7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/UI/Toast/Layout.ts\n')},"./scripts/app/UI/Toast/Toast.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createSurvey", function() { return createSurvey; });\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../UiConstants */ "./scripts/app/UI/UiConstants.ts");\n/* harmony import */ var _Events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Events */ "./scripts/app/UI/Toast/Events.ts");\n/* harmony import */ var _Layout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Layout */ "./scripts/app/UI/Toast/Layout.ts");\n/* harmony import */ var _Renderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./../Renderer */ "./scripts/app/UI/Renderer.ts");\n/* harmony import */ var _Utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./../Utils */ "./scripts/app/UI/Utils.ts");\n/* harmony import */ var _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./../../Configuration/Configuration */ "./scripts/app/Configuration/Configuration.ts");\n/**\r\n * Toast.ts\r\n *\r\n * Module for the Toast UI\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * UI initialization for toast\r\n */\r\nfunction createSurvey(onClose) {\r\n    create(_Renderer__WEBPACK_IMPORTED_MODULE_3__["elementFromJson"](_Layout__WEBPACK_IMPORTED_MODULE_2__["generate"]()));\r\n    _Events__WEBPACK_IMPORTED_MODULE_1__["register"](function (submitted) {\r\n        _Utils__WEBPACK_IMPORTED_MODULE_4__["setElementVisibility"](_UiConstants__WEBPACK_IMPORTED_MODULE_0__["IDs"].ToastContainer, false);\r\n        _Utils__WEBPACK_IMPORTED_MODULE_4__["deleteElementById"](_UiConstants__WEBPACK_IMPORTED_MODULE_0__["IDs"].ToastContainer);\r\n        _Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__["get"]().getFloodgateInitOptions().onDismiss(_Configuration_Configuration__WEBPACK_IMPORTED_MODULE_5__["get"]().getFloodgateSurvey().getCampaignId(), submitted);\r\n        onClose();\r\n    });\r\n}\r\nfunction create(userInterface) {\r\n    document.body.insertBefore(userInterface, document.body.firstChild);\r\n    _Utils__WEBPACK_IMPORTED_MODULE_4__["setElementVisibility"](_UiConstants__WEBPACK_IMPORTED_MODULE_0__["IDs"].ToastContainer, true);\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9Ub2FzdC9Ub2FzdC50cz80MTYzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztHQUlHO0FBRW9DO0FBQ0o7QUFDQTtBQUNPO0FBQ047QUFDaUM7QUFFckU7O0dBRUc7QUFDSSxTQUFTLFlBQVksQ0FBQyxPQUFtQjtJQUMvQyxNQUFNLENBQUMseURBQXdCLENBQUMsZ0RBQWUsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNwRCxnREFBZSxDQUNkLFVBQVUsU0FBa0I7UUFDM0IsMkRBQTBCLENBQUMsZ0RBQUcsQ0FBQyxjQUFjLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDdEQsd0RBQXVCLENBQUMsZ0RBQUcsQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUM1QyxnRUFBaUIsRUFBRSxDQUFDLHVCQUF1QixFQUFFLENBQUMsU0FBUyxDQUN0RCxnRUFBaUIsRUFBRSxDQUFDLGtCQUFrQixFQUFFLENBQUMsYUFBYSxFQUFFLEVBQ3hELFNBQVMsQ0FDVCxDQUFDO1FBQ0YsT0FBTyxFQUFFLENBQUM7SUFDWCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUM7QUFFRCxTQUFTLE1BQU0sQ0FBQyxhQUFzQjtJQUNyQyxRQUFRLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxhQUFhLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUVwRSwyREFBMEIsQ0FBQyxnREFBRyxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUN0RCxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvVUkvVG9hc3QvVG9hc3QudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogVG9hc3QudHNcclxuICpcclxuICogTW9kdWxlIGZvciB0aGUgVG9hc3QgVUlcclxuICovXHJcblxyXG5pbXBvcnQgeyBJRHMgfSBmcm9tIFwiLi8uLi9VaUNvbnN0YW50c1wiO1xyXG5pbXBvcnQgKiBhcyBFdmVudHMgZnJvbSBcIi4vRXZlbnRzXCI7XHJcbmltcG9ydCAqIGFzIExheW91dCBmcm9tIFwiLi9MYXlvdXRcIjtcclxuaW1wb3J0ICogYXMgUmVuZGVyZXIgZnJvbSBcIi4vLi4vUmVuZGVyZXJcIjtcclxuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSBcIi4vLi4vVXRpbHNcIjtcclxuaW1wb3J0ICogYXMgQ29uZmlndXJhdGlvbiBmcm9tIFwiLi8uLi8uLi9Db25maWd1cmF0aW9uL0NvbmZpZ3VyYXRpb25cIjtcclxuXHJcbi8qKlxyXG4gKiBVSSBpbml0aWFsaXphdGlvbiBmb3IgdG9hc3RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdXJ2ZXkob25DbG9zZTogKCkgPT4gdm9pZCkge1xyXG5cdGNyZWF0ZShSZW5kZXJlci5lbGVtZW50RnJvbUpzb24oTGF5b3V0LmdlbmVyYXRlKCkpKTtcclxuXHRFdmVudHMucmVnaXN0ZXIoXHJcblx0XHRmdW5jdGlvbiAoc3VibWl0dGVkOiBib29sZWFuKSB7XHJcblx0XHRcdFV0aWxzLnNldEVsZW1lbnRWaXNpYmlsaXR5KElEcy5Ub2FzdENvbnRhaW5lciwgZmFsc2UpO1xyXG5cdFx0XHRVdGlscy5kZWxldGVFbGVtZW50QnlJZChJRHMuVG9hc3RDb250YWluZXIpO1xyXG5cdFx0XHRDb25maWd1cmF0aW9uLmdldCgpLmdldEZsb29kZ2F0ZUluaXRPcHRpb25zKCkub25EaXNtaXNzKFxyXG5cdFx0XHRcdENvbmZpZ3VyYXRpb24uZ2V0KCkuZ2V0Rmxvb2RnYXRlU3VydmV5KCkuZ2V0Q2FtcGFpZ25JZCgpLFxyXG5cdFx0XHRcdHN1Ym1pdHRlZFxyXG5cdFx0XHQpO1xyXG5cdFx0XHRvbkNsb3NlKCk7XHJcblx0XHR9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlKHVzZXJJbnRlcmZhY2U6IEVsZW1lbnQpIHtcclxuXHRkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZSh1c2VySW50ZXJmYWNlLCBkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQpO1xyXG5cclxuXHRVdGlscy5zZXRFbGVtZW50VmlzaWJpbGl0eShJRHMuVG9hc3RDb250YWluZXIsIHRydWUpO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/UI/Toast/Toast.ts\n')},"./scripts/app/UI/UI.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Toast_Toast__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Toast/Toast */ "./scripts/app/UI/Toast/Toast.ts");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "createSurvey", function() { return _Toast_Toast__WEBPACK_IMPORTED_MODULE_0__["createSurvey"]; });\n\n/**\r\n * UI.ts\r\n *\r\n * Module for the UI\r\n */\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9VSS50cz84NWExIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRztBQUd3RCIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1VJL1VJLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFVJLnRzXHJcbiAqXHJcbiAqIE1vZHVsZSBmb3IgdGhlIFVJXHJcbiAqL1xyXG5cclxuZXhwb3J0IHtJVXNlclZvaWNlSW5pdE9wdGlvbnN9IGZyb20gXCIuL0JlbGx5YmFuZC9Gb3JtVGVtcGxhdGVzL1VzZXJWb2ljZUZvcm1UZW1wbGF0ZVwiO1xyXG5leHBvcnQge2NyZWF0ZVN1cnZleSBhcyBjcmVhdGVTdXJ2ZXl9IGZyb20gXCIuL1RvYXN0L1RvYXN0XCI7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/UI/UI.ts\n')},"./scripts/app/UI/UiConstants.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AttributeName", function() { return AttributeName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AttributeValue", function() { return AttributeValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UrlParameters", function() { return UrlParameters; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Classes", function() { return Classes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IDs", function() { return IDs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Keys", function() { return Keys; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Tags", function() { return Tags; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Roles", function() { return Roles; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Urls", function() { return Urls; });\n/**\r\n * Constants.ts\r\n *\r\n * A module for all UI constants.\r\n */\r\n/**\r\n * HTML attribute names\r\n */\r\nvar AttributeName = /** @class */ (function () {\r\n    function AttributeName() {\r\n    }\r\n    AttributeName.Alt = "alt";\r\n    AttributeName.AriaLabel = "aria-label";\r\n    AttributeName.AriaSelected = "aria-selected";\r\n    AttributeName.AriaOrientation = "aria-orientation";\r\n    AttributeName.AriaExpanded = "aria-expanded";\r\n    AttributeName.AriaControls = "aria-controls";\r\n    AttributeName.AriaHasPopups = "aria-haspopup";\r\n    AttributeName.AriaModal = "aria-modal";\r\n    AttributeName.AriaLabelledBy = "aria-labelledby";\r\n    AttributeName.AriaDescribedBy = "aria-describedby";\r\n    AttributeName.Class = "class";\r\n    AttributeName.DataHtml2CanvasIgnore = "data-html2canvas-ignore";\r\n    AttributeName.Disabled = "disabled";\r\n    AttributeName.Fill = "fill";\r\n    AttributeName.For = "for";\r\n    AttributeName.Preview = "preview";\r\n    AttributeName.Form = "form";\r\n    AttributeName.Height = "height";\r\n    AttributeName.HRef = "href";\r\n    AttributeName.Id = "id";\r\n    AttributeName.MaxLength = "maxlength";\r\n    AttributeName.Name = "name";\r\n    AttributeName.Placeholder = "placeholder";\r\n    AttributeName.Points = "points";\r\n    AttributeName.Rel = "rel";\r\n    AttributeName.Role = "role";\r\n    AttributeName.Source = "src";\r\n    AttributeName.Stroke = "stroke";\r\n    AttributeName.TabIndex = "tabindex";\r\n    AttributeName.Target = "target";\r\n    AttributeName.Transform = "transform";\r\n    AttributeName.Type = "type";\r\n    AttributeName.Value = "value";\r\n    AttributeName.ViewBox = "viewBox";\r\n    AttributeName.Width = "width";\r\n    AttributeName.xlinkHref = "xlink:href";\r\n    AttributeName.X = "x";\r\n    AttributeName.Y = "y";\r\n    return AttributeName;\r\n}());\r\n\r\n/**\r\n * HTML attribute values\r\n */\r\nvar AttributeValue = /** @class */ (function () {\r\n    function AttributeValue() {\r\n    }\r\n    AttributeValue.BlankWindow = "_blank";\r\n    AttributeValue.Button = "button";\r\n    AttributeValue.Dialog = "dialog";\r\n    AttributeValue.Tab = "tab";\r\n    AttributeValue.TabList = "tablist";\r\n    AttributeValue.TabPanel = "tabpanel";\r\n    AttributeValue.Checkbox = "checkbox";\r\n    AttributeValue.Checked = "checked";\r\n    AttributeValue.False = "false";\r\n    AttributeValue.Zero = "0";\r\n    AttributeValue.Polite = "polite";\r\n    AttributeValue.Radio = "radio";\r\n    AttributeValue.Submit = "submit";\r\n    AttributeValue.ScreenshotPreview = "ScreenshotPreview";\r\n    AttributeValue.Text = "text";\r\n    AttributeValue.TextAreaMaxLength = "1000";\r\n    AttributeValue.True = "true";\r\n    AttributeValue.Unchecked = "unchecked";\r\n    AttributeValue.NoReferrer = "noreferrer";\r\n    AttributeValue.AriaOrientationValueVertical = "vertical";\r\n    return AttributeValue;\r\n}());\r\n\r\n/**\r\n * URL Parameters\r\n */\r\nvar UrlParameters = /** @class */ (function () {\r\n    function UrlParameters() {\r\n    }\r\n    UrlParameters.CLCID = "CLCID";\r\n    return UrlParameters;\r\n}());\r\n\r\n/**\r\n * CSS classes\r\n */\r\nvar Classes = /** @class */ (function () {\r\n    function Classes() {\r\n    }\r\n    Classes.AriaLiveTemplate = "obf-AriaLiveTemplate";\r\n    Classes.CheckBox = "obf-CheckBox";\r\n    Classes.FontTitle = "obf-FontTitle";\r\n    Classes.CloseButton = "obf-CloseButton";\r\n    Classes.FontSubtitle = "obf-FontSubtitle";\r\n    Classes.FontText = "obf-FontText";\r\n    Classes.FontSubText = "obf-FontSubText";\r\n    Classes.FontSubSubText = "obf-FontSubSubText";\r\n    Classes.Hidden = "obf-Hidden";\r\n    Classes.Link = "obf-Link";\r\n    Classes.MarginLeft60px = "obf-MarginLeft60px";\r\n    Classes.MarginLeft180px = "obf-MarginLeft180px";\r\n    Classes.NarrowLayout = "obf-NarrowLayout";\r\n    Classes.PrivacyStatementLinkDiv = "obf-PrivacyStatementLinkDiv";\r\n    Classes.Rtl = "obf-Rtl";\r\n    Classes.Spinner = "obf-Spinner";\r\n    Classes.SpinnerCircle = "obf-SpinnerCircle";\r\n    Classes.SubmitButton = "obf-SubmitButton";\r\n    Classes.CancelButton = "obf-CancelButton";\r\n    Classes.TextInput = "obf-TextInput";\r\n    Classes.Visible = "obf-Visible";\r\n    // rating control\r\n    Classes.Rating = "obf-Rating";\r\n    Classes.RatingGraphic = "obf-RatingGraphic";\r\n    Classes.RatingGraphicFilled = "obf-RatingGraphic-Filled";\r\n    // choice group control\r\n    Classes.ChoiceGroup = "obf-ChoiceGroup";\r\n    Classes.ChoiceGroupIcon = "obf-ChoiceGroupIcon";\r\n    // region BellyBand\r\n    Classes.OverallAnchor = "obf-OverallAnchor";\r\n    Classes.OverallAnchorActive = "obf-OverallAnchorActive";\r\n    Classes.OverallImage = "obf-OverallImage";\r\n    Classes.OverallText = "obf-OverallText";\r\n    Classes.SingleLayout = "obf-SingleLayout";\r\n    Classes.ShowRightBorder = "obf-ShowRightBorder";\r\n    Classes.SlideLeft = "obf-slideLeft";\r\n    Classes.TextAlignLeft = "obf-TextAlignLeft";\r\n    Classes.FormContainer = "obf-FormContainer";\r\n    Classes.FormWideContainer = "obf-FormWideContainer";\r\n    // region ThanksPanel\r\n    Classes.ThanksPanelTitle = "obf-ThanksPanelTitle";\r\n    Classes.ThanksPanelMessage = "obf-ThanksPanelMessage";\r\n    // form classes\r\n    Classes.FormQuestionMiddleText = "obf-FormQuestionMiddleText";\r\n    Classes.FormMiddleText = "obf-FormMiddleText";\r\n    Classes.FormCategoriesDropdown = "obf-FormCategoriesDropdown";\r\n    Classes.FormComment = "obf-FormComment";\r\n    Classes.FormRatingContainer = "obf-FormRatingContainer";\r\n    Classes.FormRatingLabel = "obf-FormRatingLabel";\r\n    Classes.FormRating = "obf-FormRating";\r\n    Classes.FormEmailContainer = "obf-FormEmailContainer";\r\n    Classes.FormEmailInput = "obf-FormEmailInput";\r\n    Classes.FormEmailTextBox = "obf-FormEmailTextBox";\r\n    Classes.FormEmailCheckBox = "obf-FormEmailCheckBox";\r\n    Classes.FormEmailLabel = "obf-FormEmailLabel";\r\n    Classes.FormBottomContainer = "obf-FormBottomContainer";\r\n    Classes.FormSubmitButtonContainer = "obf-FormSubmitButtonContainer";\r\n    Classes.FormScreenshotContainer = "obf-FormScreenshotContainer";\r\n    Classes.FormScreenshotLabel = "obf-FormScreenshotLabel";\r\n    Classes.FormScreenshotCheckbox = "obf-FormScreenshotCheckbox";\r\n    Classes.FormScreenshotPreview = "obf-FormScreenshotPreview";\r\n    // email textbox classes\r\n    Classes.TFormEmailCheckbox = "obf-TFormEmailCheckbox";\r\n    Classes.TFormEmailLabel = "obf-TFormEmailLabel ";\r\n    // email checkbox classes\r\n    Classes.EmailCheckBoxLabel = "obf-EmailCheckBoxLabel";\r\n    // endregion\r\n    // region Toast\r\n    Classes.Toast = "obf-Toast";\r\n    Classes.ToastZoom = "obf-ToastZoom";\r\n    return Classes;\r\n}());\r\n\r\n/**\r\n * HTML element ids\r\n */\r\nvar IDs = /** @class */ (function () {\r\n    function IDs() {\r\n    }\r\n    // region BellyBand\r\n    IDs.CloseButton = "obf-CloseButton";\r\n    IDs.ColumnSeparatorDiv = "obf-ColumnSeparatorDiv";\r\n    IDs.OverallAnchorsContainer = "obf-OverallAnchorsContainer";\r\n    IDs.OverallFrownAnchor = "obf-OverallFrownAnchor";\r\n    IDs.OverallFrownDiv = "obf-OverallFrownDiv";\r\n    IDs.OverallFrownImage = "obf-OverallFrownImage";\r\n    IDs.OverallFrownText = "obf-OverallFrownText";\r\n    IDs.OverallSmileAnchor = "obf-OverallSmileAnchor";\r\n    IDs.OverallSmileDiv = "obf-OverallSmileDiv";\r\n    IDs.OverallSmileImage = "obf-OverallSmileImage";\r\n    IDs.OverallSmileText = "obf-OverallSmileText";\r\n    IDs.OverallIdeaAnchor = "obf-OverallIdeaAnchor";\r\n    IDs.OverallIdeaDiv = "obf-OverallIdeaDiv";\r\n    IDs.OverallIdeaImage = "obf-OverallIdeaImage";\r\n    IDs.OverallIdeaText = "obf-OverallIdeaText";\r\n    IDs.OverallBugAnchor = "obf-OverallBugAnchor";\r\n    IDs.OverallBugDiv = "obf-OverallBugDiv";\r\n    IDs.OverallBugImage = "obf-OverallBugImage";\r\n    IDs.OverallBugText = "obf-OverallBugText";\r\n    IDs.QuestionLeftText = "obf-QuestionLeftText";\r\n    IDs.LeftFormContainer = "obf-LeftFormContainer";\r\n    IDs.LeftPanelContainer = "obf-LeftPanelContainer";\r\n    IDs.MainContainer = "obf-MainContainer";\r\n    IDs.MainContentHolder = "obf-MainContentHolder";\r\n    IDs.MiddleFormContainer = "obf-MiddleFormContainer";\r\n    IDs.OverlayBackground = "obf-OverlayBackground";\r\n    IDs.PrivacyStatementLink = "obf-PrivacyStatementLink";\r\n    IDs.FirstTabbable = "obf-FirstTabbable";\r\n    IDs.LastTabbable = "obf-LastTabbable";\r\n    IDs.EmailCheckBox = "obf-EmailCheckBox";\r\n    // Single form ids\r\n    IDs.SingleFormContainer = "obf-SingleFormContainer";\r\n    IDs.SingleFormQuestionMiddleText = "obf-SingleFormQuestionMiddleText";\r\n    IDs.SingleFormCategoriesDropdown = "obf-SingleFormCategoriesDropdown";\r\n    IDs.SingleFormComment = "obf-SingleFormComment";\r\n    IDs.SingleFormEmailInput = "obf-SingleFormEmailInput";\r\n    IDs.SingleFormRating = "obf-SingleFormRating";\r\n    IDs.SingleFormScreenshotCheckbox = "obf-SingleFormScreenshotCheckbox";\r\n    IDs.SingleFormScreenshotPreview = "obf-SingleFormScreenshotPreview";\r\n    IDs.SingleFormSubmitButton = "obf-SingleFormSubmitButton";\r\n    IDs.SingleFormCancelButton = "obf-SingleFormCancelButton";\r\n    IDs.SingleFormSubmitButtonSpinner = "obf-SingleFormSubmitButtonSpinner";\r\n    // Basic form ids\r\n    IDs.BasicFormContainer = "obf-BasicFormContainer";\r\n    IDs.BasicFormQuestionMiddleText = "obf-BasicFormQuestionMiddleText";\r\n    IDs.BasicFormCategoriesDropdown = "obf-BasicFormCategoriesDropdown";\r\n    IDs.BasicFormComment = "obf-BasicFormComment";\r\n    IDs.BasicFormEmailInput = "obf-BasicFormEmailInput";\r\n    IDs.BasicFormRating = "obf-BasicFormRating";\r\n    IDs.BasicFormScreenshotCheckbox = "obf-BasicFormScreenshotCheckbox";\r\n    IDs.BasicFormScreenshotPreview = "obf-BasicFormScreenshotPreview";\r\n    IDs.BasicFormSubmitButton = "obf-BasicFormSubmitButton";\r\n    IDs.BasicFormCancelButton = "obf-BasicFormCancelButton";\r\n    IDs.BasicFormSubmitButtonSpinner = "obf-BasicFormSubmitButtonSpinner";\r\n    // Thanks Panel ids\r\n    IDs.ThanksPanelContainer = "obf-ThanksPanelContainer";\r\n    IDs.ThanksPanelCloseButton = "obf-ThanksPanelCloseButton";\r\n    IDs.ThanksPanelDiscussion = "obf-ThanksPanelDiscussion";\r\n    IDs.ThanksPanelVerticalContainer = "obf-ThanksPanelVerticalContainer";\r\n    IDs.ThanksPanelInnerContainer = "obf-ThanksPanelInnerContainer";\r\n    // UserVoice form ids\r\n    IDs.UserVoiceFormContainer = "obf-UserVoiceFormContainer";\r\n    IDs.UserVoiceFormGoButton = "obf-UserVoiceFormGoButton";\r\n    // endregion\r\n    // region Toast\r\n    IDs.ToastContainer = "obf-ToastContainer";\r\n    IDs.ToastCancel = "obf-ToastCancel";\r\n    // Prompt ids\r\n    IDs.TPromptContainer = "obf-TPromptContainer";\r\n    IDs.TPromptTitle = "obf-TPromptTitle";\r\n    IDs.TPromptText = "obf-TPromptText";\r\n    // Survey ids\r\n    IDs.TFormContainer = "obf-TFormContainer";\r\n    IDs.TFormTitle = "obf-TFormTitle";\r\n    IDs.TFormRating = "obf-TFormRating";\r\n    IDs.TFormRatingQuestion = "obf-TFormRatingQuestion";\r\n    IDs.TFormComment = "obf-TFormComment";\r\n    IDs.TFormEmailTextBox = "obf-TFormEmailTextBox";\r\n    IDs.TFormEmailCheckBox = "obf-TFormEmailCheckBox";\r\n    IDs.TFormEmailLabel = "obf-TFormEmailLabel";\r\n    IDs.TFormSubmitButton = "obf-TFormSubmitButton";\r\n    IDs.TFormSubmitButtonSpinner = "obf-TFormSubmitButtonSpinner";\r\n    IDs.TFormSubmitButtonContainer = "obf-TFormSubmitButtonContainer";\r\n    return IDs;\r\n}());\r\n\r\n/**\r\n * Keys\r\n */\r\nvar Keys = /** @class */ (function () {\r\n    function Keys() {\r\n    }\r\n    Keys.Esc = 27;\r\n    Keys.Tab = 9;\r\n    return Keys;\r\n}());\r\n\r\n/**\r\n * HTML tags\r\n */\r\nvar Tags = /** @class */ (function () {\r\n    function Tags() {\r\n    }\r\n    Tags.Anchor = "A";\r\n    Tags.Button = "button";\r\n    Tags.Defs = "defs";\r\n    Tags.Div = "div";\r\n    Tags.FieldSet = "fieldset";\r\n    Tags.Form = "form";\r\n    Tags.Img = "img";\r\n    Tags.Input = "input";\r\n    Tags.Label = "label";\r\n    Tags.Legend = "legend";\r\n    Tags.Option = "option";\r\n    Tags.Polygon = "polygon";\r\n    Tags.Select = "select";\r\n    Tags.Span = "span";\r\n    Tags.Svg = "svg";\r\n    Tags.TextArea = "textarea";\r\n    Tags.Use = "use";\r\n    return Tags;\r\n}());\r\n\r\n/**\r\n * HTML roles\r\n */\r\nvar Roles = /** @class */ (function () {\r\n    function Roles() {\r\n    }\r\n    Roles.Button = "Button";\r\n    return Roles;\r\n}());\r\n\r\n/**\r\n * URLs\r\n */\r\nvar Urls = /** @class */ (function () {\r\n    function Urls() {\r\n    }\r\n    /**\r\n     * Link to the feedback Privacy Statement\r\n     */\r\n    Urls.PrivacyStatementLink = "https://go.microsoft.com/fwlink/?LinkId=521839";\r\n    return Urls;\r\n}());\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9VaUNvbnN0YW50cy50cz8wMzdmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRztBQUVIOztHQUVHO0FBQ0g7SUFBQTtJQXVDQSxDQUFDO0lBdENjLGlCQUFHLEdBQVcsS0FBSyxDQUFDO0lBQ3BCLHVCQUFTLEdBQVcsWUFBWSxDQUFDO0lBQ2pDLDBCQUFZLEdBQVcsZUFBZSxDQUFDO0lBQ3ZDLDZCQUFlLEdBQVcsa0JBQWtCLENBQUM7SUFDN0MsMEJBQVksR0FBVyxlQUFlLENBQUM7SUFDdkMsMEJBQVksR0FBVyxlQUFlLENBQUM7SUFDdkMsMkJBQWEsR0FBVyxlQUFlLENBQUM7SUFDeEMsdUJBQVMsR0FBVyxZQUFZLENBQUM7SUFDakMsNEJBQWMsR0FBVyxpQkFBaUIsQ0FBQztJQUMzQyw2QkFBZSxHQUFXLGtCQUFrQixDQUFDO0lBQzdDLG1CQUFLLEdBQVcsT0FBTyxDQUFDO0lBQ3hCLG1DQUFxQixHQUFXLHlCQUF5QixDQUFDO0lBQzFELHNCQUFRLEdBQVcsVUFBVSxDQUFDO0lBQzlCLGtCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGlCQUFHLEdBQVcsS0FBSyxDQUFDO0lBQ3BCLHFCQUFPLEdBQVcsU0FBUyxDQUFDO0lBQzVCLGtCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLG9CQUFNLEdBQVcsUUFBUSxDQUFDO0lBQzFCLGtCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLGdCQUFFLEdBQVcsSUFBSSxDQUFDO0lBQ2xCLHVCQUFTLEdBQVcsV0FBVyxDQUFDO0lBQ2hDLGtCQUFJLEdBQVcsTUFBTSxDQUFDO0lBQ3RCLHlCQUFXLEdBQVcsYUFBYSxDQUFDO0lBQ3BDLG9CQUFNLEdBQVcsUUFBUSxDQUFDO0lBQzFCLGlCQUFHLEdBQVcsS0FBSyxDQUFDO0lBQ3BCLGtCQUFJLEdBQVcsTUFBTSxD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QVcsQ0FBQyxDQUFDO0lBQy9CLFdBQUM7Q0FBQTtBQUhnQjtBQUtqQjs7R0FFRztBQUNIO0lBQUE7SUFrQkEsQ0FBQztJQWpCYyxXQUFNLEdBQVcsR0FBRyxDQUFDO0lBQ3JCLFdBQU0sR0FBVyxRQUFRLENBQUM7SUFDMUIsU0FBSSxHQUFXLE1BQU0sQ0FBQztJQUN0QixRQUFHLEdBQVcsS0FBSyxDQUFDO0lBQ3BCLGFBQVEsR0FBVyxVQUFVLENBQUM7SUFDOUIsU0FBSSxHQUFXLE1BQU0sQ0FBQztJQUN0QixRQUFHLEdBQVcsS0FBSyxDQUFDO0lBQ3BCLFVBQUssR0FBVyxPQUFPLENBQUM7SUFDeEIsVUFBSyxHQUFXLE9BQU8sQ0FBQztJQUN4QixXQUFNLEdBQVcsUUFBUSxDQUFDO0lBQzFCLFdBQU0sR0FBVyxRQUFRLENBQUM7SUFDMUIsWUFBTyxHQUFXLFNBQVMsQ0FBQztJQUM1QixXQUFNLEdBQVcsUUFBUSxDQUFDO0lBQzFCLFNBQUksR0FBVyxNQUFNLENBQUM7SUFDdEIsUUFBRyxHQUFXLEtBQUssQ0FBQztJQUNwQixhQUFRLEdBQVcsVUFBVSxDQUFDO0lBQzlCLFFBQUcsR0FBVyxLQUFLLENBQUM7SUFDbkMsV0FBQztDQUFBO0FBbEJnQjtBQW9CakI7O0dBRUc7QUFDSDtJQUFBO0lBRUEsQ0FBQztJQURjLFlBQU0sR0FBVyxRQUFRLENBQUM7SUFDekMsWUFBQztDQUFBO0FBRmlCO0FBSWxCOztHQUVHO0FBQ0g7SUFBQTtJQUtBLENBQUM7SUFKQTs7T0FFRztJQUNXLHlCQUFvQixHQUFXLGdEQUFnRCxDQUFDO0lBQy9GLFdBQUM7Q0FBQTtBQUxnQiIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1VJL1VpQ29uc3RhbnRzLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIENvbnN0YW50cy50c1xyXG4gKlxyXG4gKiBBIG1vZHVsZSBmb3IgYWxsIFVJIGNvbnN0YW50cy5cclxuICovXHJcblxyXG4vKipcclxuICogSFRNTCBhdHRyaWJ1dGUgbmFtZXNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBBdHRyaWJ1dGVOYW1lIHtcclxuXHRwdWJsaWMgc3RhdGljIEFsdDogc3RyaW5nID0gXCJhbHRcIjtcclxuXHRwdWJsaWMgc3RhdGljIEFyaWFMYWJlbDogc3RyaW5nID0gXCJhcmlhLWxhYmVsXCI7XHJcblx0cHVibGljIHN0YXRpYyBBcmlhU2VsZWN0ZWQ6IHN0cmluZyA9IFwiYXJpYS1zZWxlY3RlZFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgQXJpYU9yaWVudGF0aW9uOiBzdHJpbmcgPSBcImFyaWEtb3JpZW50YXRpb25cIjtcclxuXHRwdWJsaWMgc3RhdGljIEFyaWFFeHBhbmRlZDogc3RyaW5nID0gXCJhcmlhLWV4cGFuZGVkXCI7XHJcblx0cHVibGljIHN0YXRpYyBBcmlhQ29udHJvbHM6IHN0cmluZyA9IFwiYXJpYS1jb250cm9sc1wiO1xyXG5cdHB1YmxpYyBzdGF0aWMgQXJpYUhhc1BvcHVwczogc3RyaW5nID0gXCJhcmlhLWhhc3BvcHVwXCI7XHJcblx0cHVibGljIHN0YXRpYyBBcmlhTW9kYWw6IHN0cmluZyA9IFwiYXJpYS1tb2RhbFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgQXJpYUxhYmVsbGVkQnk6IHN0cmluZyA9IFwiYXJpYS1sYWJlbGxlZGJ5XCI7XHJcblx0cHVibGljIHN0YXRpYyBBcmlhRGVzY3JpYmVkQnk6IHN0cmluZyA9IFwiYXJpYS1kZXNjcmliZWRieVwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgQ2xhc3M6IHN0cmluZyA9IFwiY2xhc3NcIjtcclxuXHRwdWJsaWMgc3RhdGljIERhdGFIdG1sMkNhbnZhc0lnbm9yZTogc3RyaW5nID0gXCJkYXRhLWh0bWwyY2FudmFzLWlnbm9yZVwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgRGlzYWJsZWQ6IHN0cmluZyA9IFwiZGlzYWJsZWRcIjtcclxuXHRwdWJsaWMgc3RhdGljIEZpbGw6IHN0cmluZyA9IFwiZmlsbFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgRm9yOiBzdHJpbmcgPSBcImZvclwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgUHJldmlldzogc3RyaW5nID0gXCJwcmV2aWV3XCI7XHJcblx0cHVibGljIHN0YXRpYyBGb3JtOiBzdHJpbmcgPSBcImZvcm1cIjtcclxuXHRwdWJsaWMgc3RhdGljIEhlaWdodDogc3RyaW5nID0gXCJoZWlnaHRcIjtcclxuXHRwdWJsaWMgc3RhdGljIEhSZWY6IHN0cmluZyA9IFwiaHJlZlwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgSWQ6IHN0cmluZyA9IFwiaWRcIjtcclxuXHRwdWJsaWMgc3RhdGljIE1heExlbmd0aDogc3RyaW5nID0gXCJtYXhsZW5ndGhcIjtcclxuXHRwdWJsaWMgc3RhdGljIE5hbWU6IHN0cmluZyA9IFwibmFtZVwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgUGxhY2Vob2xkZXI6IHN0cmluZyA9IFwicGxhY2Vob2xkZXJcIjtcclxuXHRwdWJsaWMgc3RhdGljIFBvaW50czogc3RyaW5nID0gXCJwb2ludHNcIjtcclxuXHRwdWJsaWMgc3RhdGljIFJlbDogc3RyaW5nID0gXCJyZWxcIjtcclxuXHRwdWJsaWMgc3RhdGljIFJvbGU6IHN0cmluZyA9IFwicm9sZVwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgU291cmNlOiBzdHJpbmcgPSBcInNyY1wiO1xyXG5cdHB1YmxpYyBzdGF0aWMgU3Ryb2tlOiBzdHJpbmcgPSBcInN0cm9rZVwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVGFiSW5kZXg6IHN0cmluZyA9IFwidGFiaW5kZXhcIjtcclxuXHRwdWJsaWMgc3RhdGljIFRhcmdldDogc3RyaW5nID0gXCJ0YXJnZXRcIjtcclxuXHRwdWJsaWMgc3RhdGljIFRyYW5zZm9ybTogc3RyaW5nID0gXCJ0cmFuc2Zvcm1cIjtcclxuXHRwdWJsaWMgc3RhdGljIFR5cGU6IHN0cmluZyA9IFwidHlwZVwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVmFsdWU6IHN0cmluZyA9IFwidmFsdWVcIjtcclxuXHRwdWJsaWMgc3RhdGljIFZpZXdCb3g6IHN0cmluZyA9IFwidmlld0JveFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgV2lkdGg6IHN0cmluZyA9IFwid2lkdGhcIjtcclxuXHRwdWJsaWMgc3RhdGljIHhsaW5rSHJlZjogc3RyaW5nID0gXCJ4bGluazpocmVmXCI7XHJcblx0cHVibGljIHN0YXRpYyBYOiBzdHJpbmcgPSBcInhcIjtcclxuXHRwdWJsaWMgc3RhdGljIFk6IHN0cmluZyA9IFwieVwiO1xyXG59XHJcblxyXG4vKipcclxuICogSFRNTCBhdHRyaWJ1dGUgdmFsdWVzXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQXR0cmlidXRlVmFsdWUge1xyXG5cdHB1YmxpYyBzdGF0aWMgQmxhbmtXaW5kb3c6IHN0cmluZyA9IFwiX2JsYW5rXCI7XHJcblx0cHVibGljIHN0YXRpYyBCdXR0b246IHN0cmluZyA9IFwiYnV0dG9uXCI7XHJcblx0cHVibGljIHN0YXRpYyBEaWFsb2c6IHN0cmluZyA9IFwiZGlhbG9nXCI7XHJcblx0cHVibGljIHN0YXRpYyBUYWI6IHN0cmluZyA9IFwidGFiXCI7XHJcblx0cHVibGljIHN0YXRpYyBUYWJMaXN0OiBzdHJpbmcgPSBcInRhYmxpc3RcIjtcclxuXHRwdWJsaWMgc3RhdGljIFRhYlBhbmVsOiBzdHJpbmcgPSBcInRhYnBhbmVsXCI7XHJcblx0cHVibGljIHN0YXRpYyBDaGVja2JveDogc3RyaW5nID0gXCJjaGVja2JveFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgQ2hlY2tlZDogc3RyaW5nID0gXCJjaGVja2VkXCI7XHJcblx0cHVibGljIHN0YXRpYyBGYWxzZTogc3RyaW5nID0gXCJmYWxzZVwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgWmVybzogc3RyaW5nID0gXCIwXCI7XHJcblx0cHVibGljIHN0YXRpYyBQb2xpdGU6IHN0cmluZyA9IFwicG9saXRlXCI7XHJcblx0cHVibGljIHN0YXRpYyBSYWRpbzogc3RyaW5nID0gXCJyYWRpb1wiO1xyXG5cdHB1YmxpYyBzdGF0aWMgU3VibWl0OiBzdHJpbmcgPSBcInN1Ym1pdFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgU2NyZWVuc2hvdFByZXZpZXc6IHN0cmluZyA9IFwiU2NyZWVuc2hvdFByZXZpZXdcIjtcclxuXHRwdWJsaWMgc3RhdGljIFRleHQ6IHN0cmluZyA9IFwidGV4dFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVGV4dEFyZWFNYXhMZW5ndGg6IHN0cmluZyA9IFwiMTAwMFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVHJ1ZTogc3RyaW5nID0gXCJ0cnVlXCI7XHJcblx0cHVibGljIHN0YXRpYyBVbmNoZWNrZWQ6IHN0cmluZyA9IFwidW5jaGVja2VkXCI7XHJcblx0cHVibGljIHN0YXRpYyBOb1JlZmVycmVyOiBzdHJpbmcgPSBcIm5vcmVmZXJyZXJcIjtcclxuXHRwdWJsaWMgc3RhdGljIEFyaWFPcmllbnRhdGlvblZhbHVlVmVydGljYWwgPSBcInZlcnRpY2FsXCI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVUkwgUGFyYW1ldGVyc1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFVybFBhcmFtZXRlcnMge1xyXG5cdHB1YmxpYyBzdGF0aWMgQ0xDSUQ6IHN0cmluZyA9IFwiQ0xDSURcIjtcclxufVxyXG5cclxuLyoqXHJcbiAqIENTUyBjbGFzc2VzXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ2xhc3NlcyB7XHJcblx0cHVibGljIHN0YXRpYyBBcmlhTGl2ZVRlbXBsYXRlOiBzdHJpbmcgPSBcIm9iZi1BcmlhTGl2ZVRlbXBsYXRlXCI7XHJcblx0cHVibGljIHN0YXRpYyBDaGVja0JveDogc3RyaW5nID0gXCJvYmYtQ2hlY2tCb3hcIjtcclxuXHRwdWJsaWMgc3RhdGljIEZvbnRUaXRsZTogc3RyaW5nID0gXCJvYmYtRm9udFRpdGxlXCI7XHJcblx0cHVibGljIHN0YXRpYyBDbG9zZUJ1dHRvbjogc3RyaW5nID0gXCJvYmYtQ2xvc2VCdXR0b25cIjtcclxuXHRwdWJsaWMgc3RhdGljIEZvbnRTdWJ0aXRsZTogc3RyaW5nID0gXCJvYmYtRm9udFN1YnRpdGxlXCI7XHJcblx0cHVibGljIHN0YXRpYyBGb250VGV4dDogc3RyaW5nID0gXCJvYmYtRm9udFRleHRcIjtcclxuXHRwdWJsaWMgc3RhdGljIEZvbnRTdWJUZXh0OiBzdHJpbmcgPSBcIm9iZi1Gb250U3ViVGV4dFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgRm9udFN1YlN1YlRleHQ6IHN0cmluZyA9IFwib2JmLUZvbnRTdWJTdWJUZXh0XCI7XHJcblx0cHVibGljIHN0YXRpYyBIaWRkZW46IHN0cmluZyA9IFwib2JmLUhpZGRlblwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgTGluazogc3RyaW5nID0gXCJvYmYtTGlua1wiO1xyXG5cdHB1YmxpYyBzdGF0aWMgTWFyZ2luTGVmdDYwcHg6IHN0cmluZyA9IFwib2JmLU1hcmdpbkxlZnQ2MHB4XCI7XHJcblx0cHVibGljIHN0YXRpYyBNYXJnaW5MZWZ0MTgwcHg6IHN0cmluZyA9IFwib2JmLU1hcmdpbkxlZnQxODBweFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgTmFycm93TGF5b3V0OiBzdHJpbmcgPSBcIm9iZi1OYXJyb3dMYXlvdXRcIjtcclxuXHRwdWJsaWMgc3RhdGljIFByaXZhY3lTdGF0ZW1lbnRMaW5rRGl2OiBzdHJpbmcgPSBcIm9iZi1Qcml2YWN5U3RhdGVtZW50TGlua0RpdlwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgUnRsOiBzdHJpbmcgPSBcIm9iZi1SdGxcIjtcclxuXHRwdWJsaWMgc3RhdGljIFNwaW5uZXI6IHN0cmluZyA9IFwib2JmLVNwaW5uZXJcIjtcclxuXHRwdWJsaWMgc3RhdGljIFNwaW5uZXJDaXJjbGU6IHN0cmluZyA9IFwib2JmLVNwaW5uZXJDaXJjbGVcIjtcclxuXHRwdWJsaWMgc3RhdGljIFN1Ym1pdEJ1dHRvbjogc3RyaW5nID0gXCJvYmYtU3VibWl0QnV0dG9uXCI7XHJcblx0cHVibGljIHN0YXRpYyBDYW5jZWxCdXR0b246IHN0cmluZyA9IFwib2JmLUNhbmNlbEJ1dHRvblwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVGV4dElucHV0OiBzdHJpbmcgPSBcIm9iZi1UZXh0SW5wdXRcIjtcclxuXHRwdWJsaWMgc3RhdGljIFZpc2libGU6IHN0cmluZyA9IFwib2JmLVZpc2libGVcIjtcclxuXHJcblx0Ly8gcmF0aW5nIGNvbnRyb2xcclxuXHRwdWJsaWMgc3RhdGljIFJhdGluZzogc3RyaW5nID0gXCJvYmYtUmF0aW5nXCI7XHJcblx0cHVibGljIHN0YXRpYyBSYXRpbmdHcmFwaGljOiBzdHJpbmcgPSBcIm9iZi1SYXRpbmdHcmFwaGljXCI7XHJcblx0cHVibGljIHN0YXRpYyBSYXRpbmdHcmFwaGljRmlsbGVkOiBzdHJpbmcgPSBcIm9iZi1SYXRpbmdHcmFwaGljLUZpbGxlZFwiO1xyXG5cclxuXHQvLyBjaG9pY2UgZ3JvdXAgY29udHJvbFxyXG5cdHB1YmxpYyBzdGF0aWMgQ2hvaWNlR3JvdXA6IHN0cmluZyA9IFwib2JmLUNob2ljZUdyb3VwXCI7XHJcblx0cHVibGljIHN0YXRpYyBDaG9pY2VHcm91cEljb246IHN0cmluZyA9IFwib2JmLUNob2ljZUdyb3VwSWNvblwiO1xyXG5cclxuXHQvLyByZWdpb24gQmVsbHlCYW5kXHJcblxyXG5cdHB1YmxpYyBzdGF0aWMgT3ZlcmFsbEFuY2hvcjogc3RyaW5nID0gXCJvYmYtT3ZlcmFsbEFuY2hvclwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgT3ZlcmFsbEFuY2hvckFjdGl2ZTogc3RyaW5nID0gXCJvYmYtT3ZlcmFsbEFuY2hvckFjdGl2ZVwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgT3ZlcmFsbEltYWdlOiBzdHJpbmcgPSBcIm9iZi1PdmVyYWxsSW1hZ2VcIjtcclxuXHRwdWJsaWMgc3RhdGljIE92ZXJhbGxUZXh0OiBzdHJpbmcgPSBcIm9iZi1PdmVyYWxsVGV4dFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgU2luZ2xlTGF5b3V0OiBzdHJpbmcgPSBcIm9iZi1TaW5nbGVMYXlvdXRcIjtcclxuXHRwdWJsaWMgc3RhdGljIFNob3dSaWdodEJvcmRlcjogc3RyaW5nID0gXCJvYmYtU2hvd1JpZ2h0Qm9yZGVyXCI7XHJcblx0cHVibGljIHN0YXRpYyBTbGlkZUxlZnQ6IHN0cmluZyA9IFwib2JmLXNsaWRlTGVmdFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVGV4dEFsaWduTGVmdDogc3RyaW5nID0gXCJvYmYtVGV4dEFsaWduTGVmdFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgRm9ybUNvbnRhaW5lcjogc3RyaW5nID0gXCJvYmYtRm9ybUNvbnRhaW5lclwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgRm9ybVdpZGVDb250YWluZXI6IHN0cmluZyA9IFwib2JmLUZvcm1XaWRlQ29udGFpbmVyXCI7XHJcblxyXG5cdC8vIHJlZ2lvbiBUaGFua3NQYW5lbFxyXG5cdHB1YmxpYyBzdGF0aWMgVGhhbmtzUGFuZWxUaXRsZTogc3RyaW5nID0gXCJvYmYtVGhhbmtzUGFuZWxUaXRsZVwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVGhhbmtzUGFuZWxNZXNzYWdlOiBzdHJpbmcgPSBcIm9iZi1UaGFua3NQYW5lbE1lc3NhZ2VcIjtcclxuXHJcblx0Ly8gZm9ybSBjbGFzc2VzXHJcblx0cHVibGljIHN0YXRpYyBGb3JtUXVlc3Rpb25NaWRkbGVUZXh0OiBzdHJpbmcgPSBcIm9iZi1Gb3JtUXVlc3Rpb25NaWRkbGVUZXh0XCI7XHJcblx0cHVibGljIHN0YXRpYyBGb3JtTWlkZGxlVGV4dDogc3RyaW5nID0gXCJvYmYtRm9ybU1pZGRsZVRleHRcIjtcclxuXHRwdWJsaWMgc3RhdGljIEZvcm1DYXRlZ29yaWVzRHJvcGRvd246IHN0cmluZyA9IFwib2JmLUZvcm1DYXRlZ29yaWVzRHJvcGRvd25cIjtcclxuXHRwdWJsaWMgc3RhdGljIEZvcm1Db21tZW50OiBzdHJpbmcgPSBcIm9iZi1Gb3JtQ29tbWVudFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgRm9ybVJhdGluZ0NvbnRhaW5lcjogc3RyaW5nID0gXCJvYmYtRm9ybVJhdGluZ0NvbnRhaW5lclwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgRm9ybVJhdGluZ0xhYmVsOiBzdHJpbmcgPSBcIm9iZi1Gb3JtUmF0aW5nTGFiZWxcIjtcclxuXHRwdWJsaWMgc3RhdGljIEZvcm1SYXRpbmc6IHN0cmluZyA9IFwib2JmLUZvcm1SYXRpbmdcIjtcclxuXHRwdWJsaWMgc3RhdGljIEZvcm1FbWFpbENvbnRhaW5lcjogc3RyaW5nID0gXCJvYmYtRm9ybUVtYWlsQ29udGFpbmVyXCI7XHJcblx0cHVibGljIHN0YXRpYyBGb3JtRW1haWxJbnB1dDogc3RyaW5nID0gXCJvYmYtRm9ybUVtYWlsSW5wdXRcIjtcclxuXHRwdWJsaWMgc3RhdGljIEZvcm1FbWFpbFRleHRCb3g6IHN0cmluZyA9IFwib2JmLUZvcm1FbWFpbFRleHRCb3hcIjtcclxuXHRwdWJsaWMgc3RhdGljIEZvcm1FbWFpbENoZWNrQm94OiBzdHJpbmcgPSBcIm9iZi1Gb3JtRW1haWxDaGVja0JveFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgRm9ybUVtYWlsTGFiZWw6IHN0cmluZyA9IFwib2JmLUZvcm1FbWFpbExhYmVsXCI7XHJcblx0cHVibGljIHN0YXRpYyBGb3JtQm90dG9tQ29udGFpbmVyOiBzdHJpbmcgPSBcIm9iZi1Gb3JtQm90dG9tQ29udGFpbmVyXCI7XHJcblx0cHVibGljIHN0YXRpYyBGb3JtU3VibWl0QnV0dG9uQ29udGFpbmVyOiBzdHJpbmcgPSBcIm9iZi1Gb3JtU3VibWl0QnV0dG9uQ29udGFpbmVyXCI7XHJcblx0cHVibGljIHN0YXRpYyBGb3JtU2NyZWVuc2hvdENvbnRhaW5lcjogc3RyaW5nID0gXCJvYmYtRm9ybVNjcmVlbnNob3RDb250YWluZXJcIjtcclxuXHRwdWJsaWMgc3RhdGljIEZvcm1TY3JlZW5zaG90TGFiZWw6IHN0cmluZyA9IFwib2JmLUZvcm1TY3JlZW5zaG90TGFiZWxcIjtcclxuXHRwdWJsaWMgc3RhdGljIEZvcm1TY3JlZW5zaG90Q2hlY2tib3g6IHN0cmluZyA9IFwib2JmLUZvcm1TY3JlZW5zaG90Q2hlY2tib3hcIjtcclxuXHRwdWJsaWMgc3RhdGljIEZvcm1TY3JlZW5zaG90UHJldmlldzogc3RyaW5nID0gXCJvYmYtRm9ybVNjcmVlbnNob3RQcmV2aWV3XCI7XHJcblx0Ly8gZW1haWwgdGV4dGJveCBjbGFzc2VzXHJcblx0cHVibGljIHN0YXRpYyBURm9ybUVtYWlsQ2hlY2tib3g6IHN0cmluZyA9IFwib2JmLVRGb3JtRW1haWxDaGVja2JveFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVEZvcm1FbWFpbExhYmVsOiBzdHJpbmcgPSBcIm9iZi1URm9ybUVtYWlsTGFiZWwgXCI7XHJcblxyXG5cdC8vIGVtYWlsIGNoZWNrYm94IGNsYXNzZXNcclxuXHRwdWJsaWMgc3RhdGljIEVtYWlsQ2hlY2tCb3hMYWJlbDogc3RyaW5nID0gXCJvYmYtRW1haWxDaGVja0JveExhYmVsXCI7XHJcblxyXG5cdC8vIGVuZHJlZ2lvblxyXG5cclxuXHQvLyByZWdpb24gVG9hc3RcclxuXHJcblx0cHVibGljIHN0YXRpYyBUb2FzdDogc3RyaW5nID0gXCJvYmYtVG9hc3RcIjtcclxuXHRwdWJsaWMgc3RhdGljIFRvYXN0Wm9vbTogc3RyaW5nID0gXCJvYmYtVG9hc3Rab29tXCI7XHJcblxyXG5cdC8vIGVuZHJlZ2lvblxyXG59XHJcblxyXG4vKipcclxuICogSFRNTCBlbGVtZW50IGlkc1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIElEcyB7XHJcblx0Ly8gcmVnaW9uIEJlbGx5QmFuZFxyXG5cdHB1YmxpYyBzdGF0aWMgQ2xvc2VCdXR0b246IHN0cmluZyA9IFwib2JmLUNsb3NlQnV0dG9uXCI7XHJcblx0cHVibGljIHN0YXRpYyBDb2x1bW5TZXBhcmF0b3JEaXY6IHN0cmluZyA9IFwib2JmLUNvbHVtblNlcGFyYXRvckRpdlwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgT3ZlcmFsbEFuY2hvcnNDb250YWluZXI6IHN0cmluZyA9IFwib2JmLU92ZXJhbGxBbmNob3JzQ29udGFpbmVyXCI7XHJcblx0cHVibGljIHN0YXRpYyBPdmVyYWxsRnJvd25BbmNob3I6IHN0cmluZyA9IFwib2JmLU92ZXJhbGxGcm93bkFuY2hvclwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgT3ZlcmFsbEZyb3duRGl2OiBzdHJpbmcgPSBcIm9iZi1PdmVyYWxsRnJvd25EaXZcIjtcclxuXHRwdWJsaWMgc3RhdGljIE92ZXJhbGxGcm93bkltYWdlOiBzdHJpbmcgPSBcIm9iZi1PdmVyYWxsRnJvd25JbWFnZVwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgT3ZlcmFsbEZyb3duVGV4dDogc3RyaW5nID0gXCJvYmYtT3ZlcmFsbEZyb3duVGV4dFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgT3ZlcmFsbFNtaWxlQW5jaG9yOiBzdHJpbmcgPSBcIm9iZi1PdmVyYWxsU21pbGVBbmNob3JcIjtcclxuXHRwdWJsaWMgc3RhdGljIE92ZXJhbGxTbWlsZURpdjogc3RyaW5nID0gXCJvYmYtT3ZlcmFsbFNtaWxlRGl2XCI7XHJcblx0cHVibGljIHN0YXRpYyBPdmVyYWxsU21pbGVJbWFnZTogc3RyaW5nID0gXCJvYmYtT3ZlcmFsbFNtaWxlSW1hZ2VcIjtcclxuXHRwdWJsaWMgc3RhdGljIE92ZXJhbGxTbWlsZVRleHQ6IHN0cmluZyA9IFwib2JmLU92ZXJhbGxTbWlsZVRleHRcIjtcclxuXHRwdWJsaWMgc3RhdGljIE92ZXJhbGxJZGVhQW5jaG9yOiBzdHJpbmcgPSBcIm9iZi1PdmVyYWxsSWRlYUFuY2hvclwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgT3ZlcmFsbElkZWFEaXY6IHN0cmluZyA9IFwib2JmLU92ZXJhbGxJZGVhRGl2XCI7XHJcblx0cHVibGljIHN0YXRpYyBPdmVyYWxsSWRlYUltYWdlOiBzdHJpbmcgPSBcIm9iZi1PdmVyYWxsSWRlYUltYWdlXCI7XHJcblx0cHVibGljIHN0YXRpYyBPdmVyYWxsSWRlYVRleHQ6IHN0cmluZyA9IFwib2JmLU92ZXJhbGxJZGVhVGV4dFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgT3ZlcmFsbEJ1Z0FuY2hvcjogc3RyaW5nID0gXCJvYmYtT3ZlcmFsbEJ1Z0FuY2hvclwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgT3ZlcmFsbEJ1Z0Rpdjogc3RyaW5nID0gXCJvYmYtT3ZlcmFsbEJ1Z0RpdlwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgT3ZlcmFsbEJ1Z0ltYWdlOiBzdHJpbmcgPSBcIm9iZi1PdmVyYWxsQnVnSW1hZ2VcIjtcclxuXHRwdWJsaWMgc3RhdGljIE92ZXJhbGxCdWdUZXh0OiBzdHJpbmcgPSBcIm9iZi1PdmVyYWxsQnVnVGV4dFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgUXVlc3Rpb25MZWZ0VGV4dDogc3RyaW5nID0gXCJvYmYtUXVlc3Rpb25MZWZ0VGV4dFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgTGVmdEZvcm1Db250YWluZXI6IHN0cmluZyA9IFwib2JmLUxlZnRGb3JtQ29udGFpbmVyXCI7XHJcblx0cHVibGljIHN0YXRpYyBMZWZ0UGFuZWxDb250YWluZXI6IHN0cmluZyA9IFwib2JmLUxlZnRQYW5lbENvbnRhaW5lclwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgTWFpbkNvbnRhaW5lcjogc3RyaW5nID0gXCJvYmYtTWFpbkNvbnRhaW5lclwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgTWFpbkNvbnRlbnRIb2xkZXI6IHN0cmluZyA9IFwib2JmLU1haW5Db250ZW50SG9sZGVyXCI7XHJcblx0cHVibGljIHN0YXRpYyBNaWRkbGVGb3JtQ29udGFpbmVyOiBzdHJpbmcgPSBcIm9iZi1NaWRkbGVGb3JtQ29udGFpbmVyXCI7XHJcblx0cHVibGljIHN0YXRpYyBPdmVybGF5QmFja2dyb3VuZDogc3RyaW5nID0gXCJvYmYtT3ZlcmxheUJhY2tncm91bmRcIjtcclxuXHRwdWJsaWMgc3RhdGljIFByaXZhY3lTdGF0ZW1lbnRMaW5rOiBzdHJpbmcgPSBcIm9iZi1Qcml2YWN5U3RhdGVtZW50TGlua1wiO1xyXG5cdHB1YmxpYyBzdGF0aWMgRmlyc3RUYWJiYWJsZTogc3RyaW5nID0gXCJvYmYtRmlyc3RUYWJiYWJsZVwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgTGFzdFRhYmJhYmxlOiBzdHJpbmcgPSBcIm9iZi1MYXN0VGFiYmFibGVcIjtcclxuXHRwdWJsaWMgc3RhdGljIEVtYWlsQ2hlY2tCb3g6IHN0cmluZyA9IFwib2JmLUVtYWlsQ2hlY2tCb3hcIjtcclxuXHJcblx0Ly8gU2luZ2xlIGZvcm0gaWRzXHJcblx0cHVibGljIHN0YXRpYyBTaW5nbGVGb3JtQ29udGFpbmVyOiBzdHJpbmcgPSBcIm9iZi1TaW5nbGVGb3JtQ29udGFpbmVyXCI7XHJcblx0cHVibGljIHN0YXRpYyBTaW5nbGVGb3JtUXVlc3Rpb25NaWRkbGVUZXh0OiBzdHJpbmcgPSBcIm9iZi1TaW5nbGVGb3JtUXVlc3Rpb25NaWRkbGVUZXh0XCI7XHJcblx0cHVibGljIHN0YXRpYyBTaW5nbGVGb3JtQ2F0ZWdvcmllc0Ryb3Bkb3duOiBzdHJpbmcgPSBcIm9iZi1TaW5nbGVGb3JtQ2F0ZWdvcmllc0Ryb3Bkb3duXCI7XHJcblx0cHVibGljIHN0YXRpYyBTaW5nbGVGb3JtQ29tbWVudDogc3RyaW5nID0gXCJvYmYtU2luZ2xlRm9ybUNvbW1lbnRcIjtcclxuXHRwdWJsaWMgc3RhdGljIFNpbmdsZUZvcm1FbWFpbElucHV0OiBzdHJpbmcgPSBcIm9iZi1TaW5nbGVGb3JtRW1haWxJbnB1dFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgU2luZ2xlRm9ybVJhdGluZzogc3RyaW5nID0gXCJvYmYtU2luZ2xlRm9ybVJhdGluZ1wiO1xyXG5cdHB1YmxpYyBzdGF0aWMgU2luZ2xlRm9ybVNjcmVlbnNob3RDaGVja2JveDogc3RyaW5nID0gXCJvYmYtU2luZ2xlRm9ybVNjcmVlbnNob3RDaGVja2JveFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgU2luZ2xlRm9ybVNjcmVlbnNob3RQcmV2aWV3OiBzdHJpbmcgPSBcIm9iZi1TaW5nbGVGb3JtU2NyZWVuc2hvdFByZXZpZXdcIjtcclxuXHRwdWJsaWMgc3RhdGljIFNpbmdsZUZvcm1TdWJtaXRCdXR0b246IHN0cmluZyA9IFwib2JmLVNpbmdsZUZvcm1TdWJtaXRCdXR0b25cIjtcclxuXHRwdWJsaWMgc3RhdGljIFNpbmdsZUZvcm1DYW5jZWxCdXR0b246IHN0cmluZyA9IFwib2JmLVNpbmdsZUZvcm1DYW5jZWxCdXR0b25cIjtcclxuXHRwdWJsaWMgc3RhdGljIFNpbmdsZUZvcm1TdWJtaXRCdXR0b25TcGlubmVyOiBzdHJpbmcgPSBcIm9iZi1TaW5nbGVGb3JtU3VibWl0QnV0dG9uU3Bpbm5lclwiO1xyXG5cclxuXHQvLyBCYXNpYyBmb3JtIGlkc1xyXG5cdHB1YmxpYyBzdGF0aWMgQmFzaWNGb3JtQ29udGFpbmVyOiBzdHJpbmcgPSBcIm9iZi1CYXNpY0Zvcm1Db250YWluZXJcIjtcclxuXHRwdWJsaWMgc3RhdGljIEJhc2ljRm9ybVF1ZXN0aW9uTWlkZGxlVGV4dDogc3RyaW5nID0gXCJvYmYtQmFzaWNGb3JtUXVlc3Rpb25NaWRkbGVUZXh0XCI7XHJcblx0cHVibGljIHN0YXRpYyBCYXNpY0Zvcm1DYXRlZ29yaWVzRHJvcGRvd246IHN0cmluZyA9IFwib2JmLUJhc2ljRm9ybUNhdGVnb3JpZXNEcm9wZG93blwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgQmFzaWNGb3JtQ29tbWVudDogc3RyaW5nID0gXCJvYmYtQmFzaWNGb3JtQ29tbWVudFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgQmFzaWNGb3JtRW1haWxJbnB1dDogc3RyaW5nID0gXCJvYmYtQmFzaWNGb3JtRW1haWxJbnB1dFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgQmFzaWNGb3JtUmF0aW5nOiBzdHJpbmcgPSBcIm9iZi1CYXNpY0Zvcm1SYXRpbmdcIjtcclxuXHRwdWJsaWMgc3RhdGljIEJhc2ljRm9ybVNjcmVlbnNob3RDaGVja2JveDogc3RyaW5nID0gXCJvYmYtQmFzaWNGb3JtU2NyZWVuc2hvdENoZWNrYm94XCI7XHJcblx0cHVibGljIHN0YXRpYyBCYXNpY0Zvcm1TY3JlZW5zaG90UHJldmlldzogc3RyaW5nID0gXCJvYmYtQmFzaWNGb3JtU2NyZWVuc2hvdFByZXZpZXdcIjtcclxuXHRwdWJsaWMgc3RhdGljIEJhc2ljRm9ybVN1Ym1pdEJ1dHRvbjogc3RyaW5nID0gXCJvYmYtQmFzaWNGb3JtU3VibWl0QnV0dG9uXCI7XHJcblx0cHVibGljIHN0YXRpYyBCYXNpY0Zvcm1DYW5jZWxCdXR0b246IHN0cmluZyA9IFwib2JmLUJhc2ljRm9ybUNhbmNlbEJ1dHRvblwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgQmFzaWNGb3JtU3VibWl0QnV0dG9uU3Bpbm5lcjogc3RyaW5nID0gXCJvYmYtQmFzaWNGb3JtU3VibWl0QnV0dG9uU3Bpbm5lclwiO1xyXG5cclxuXHQvLyBUaGFua3MgUGFuZWwgaWRzXHJcblx0cHVibGljIHN0YXRpYyBUaGFua3NQYW5lbENvbnRhaW5lcjogc3RyaW5nID0gXCJvYmYtVGhhbmtzUGFuZWxDb250YWluZXJcIjtcclxuXHRwdWJsaWMgc3RhdGljIFRoYW5rc1BhbmVsQ2xvc2VCdXR0b246IHN0cmluZyA9IFwib2JmLVRoYW5rc1BhbmVsQ2xvc2VCdXR0b25cIjtcclxuXHRwdWJsaWMgc3RhdGljIFRoYW5rc1BhbmVsRGlzY3Vzc2lvbjogc3RyaW5nID0gXCJvYmYtVGhhbmtzUGFuZWxEaXNjdXNzaW9uXCI7XHJcblx0cHVibGljIHN0YXRpYyBUaGFua3NQYW5lbFZlcnRpY2FsQ29udGFpbmVyOiBzdHJpbmcgPSBcIm9iZi1UaGFua3NQYW5lbFZlcnRpY2FsQ29udGFpbmVyXCI7XHJcblx0cHVibGljIHN0YXRpYyBUaGFua3NQYW5lbElubmVyQ29udGFpbmVyOiBzdHJpbmcgPSBcIm9iZi1UaGFua3NQYW5lbElubmVyQ29udGFpbmVyXCI7XHJcblxyXG5cdC8vIFVzZXJWb2ljZSBmb3JtIGlkc1xyXG5cdHB1YmxpYyBzdGF0aWMgVXNlclZvaWNlRm9ybUNvbnRhaW5lcjogc3RyaW5nID0gXCJvYmYtVXNlclZvaWNlRm9ybUNvbnRhaW5lclwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVXNlclZvaWNlRm9ybUdvQnV0dG9uOiBzdHJpbmcgPSBcIm9iZi1Vc2VyVm9pY2VGb3JtR29CdXR0b25cIjtcclxuXHJcblx0Ly8gZW5kcmVnaW9uXHJcblxyXG5cdC8vIHJlZ2lvbiBUb2FzdFxyXG5cdHB1YmxpYyBzdGF0aWMgVG9hc3RDb250YWluZXI6IHN0cmluZyA9IFwib2JmLVRvYXN0Q29udGFpbmVyXCI7XHJcblx0cHVibGljIHN0YXRpYyBUb2FzdENhbmNlbDogc3RyaW5nID0gXCJvYmYtVG9hc3RDYW5jZWxcIjtcclxuXHJcblx0Ly8gUHJvbXB0IGlkc1xyXG5cdHB1YmxpYyBzdGF0aWMgVFByb21wdENvbnRhaW5lcjogc3RyaW5nID0gXCJvYmYtVFByb21wdENvbnRhaW5lclwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVFByb21wdFRpdGxlOiBzdHJpbmcgPSBcIm9iZi1UUHJvbXB0VGl0bGVcIjtcclxuXHRwdWJsaWMgc3RhdGljIFRQcm9tcHRUZXh0OiBzdHJpbmcgPSBcIm9iZi1UUHJvbXB0VGV4dFwiO1xyXG5cclxuXHQvLyBTdXJ2ZXkgaWRzXHJcblx0cHVibGljIHN0YXRpYyBURm9ybUNvbnRhaW5lcjogc3RyaW5nID0gXCJvYmYtVEZvcm1Db250YWluZXJcIjtcclxuXHRwdWJsaWMgc3RhdGljIFRGb3JtVGl0bGU6IHN0cmluZyA9IFwib2JmLVRGb3JtVGl0bGVcIjtcclxuXHRwdWJsaWMgc3RhdGljIFRGb3JtUmF0aW5nOiBzdHJpbmcgPSBcIm9iZi1URm9ybVJhdGluZ1wiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVEZvcm1SYXRpbmdRdWVzdGlvbjogc3RyaW5nID0gXCJvYmYtVEZvcm1SYXRpbmdRdWVzdGlvblwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVEZvcm1Db21tZW50OiBzdHJpbmcgPSBcIm9iZi1URm9ybUNvbW1lbnRcIjtcclxuXHRwdWJsaWMgc3RhdGljIFRGb3JtRW1haWxUZXh0Qm94OiBzdHJpbmcgPSBcIm9iZi1URm9ybUVtYWlsVGV4dEJveFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVEZvcm1FbWFpbENoZWNrQm94OiBzdHJpbmcgPSBcIm9iZi1URm9ybUVtYWlsQ2hlY2tCb3hcIjtcclxuXHRwdWJsaWMgc3RhdGljIFRGb3JtRW1haWxMYWJlbDogc3RyaW5nID0gXCJvYmYtVEZvcm1FbWFpbExhYmVsXCI7XHJcblx0cHVibGljIHN0YXRpYyBURm9ybVN1Ym1pdEJ1dHRvbjogc3RyaW5nID0gXCJvYmYtVEZvcm1TdWJtaXRCdXR0b25cIjtcclxuXHRwdWJsaWMgc3RhdGljIFRGb3JtU3VibWl0QnV0dG9uU3Bpbm5lcjogc3RyaW5nID0gXCJvYmYtVEZvcm1TdWJtaXRCdXR0b25TcGlubmVyXCI7XHJcblx0cHVibGljIHN0YXRpYyBURm9ybVN1Ym1pdEJ1dHRvbkNvbnRhaW5lcjogc3RyaW5nID0gXCJvYmYtVEZvcm1TdWJtaXRCdXR0b25Db250YWluZXJcIjtcclxuXHJcblx0Ly8gZW5kcmVnaW9uXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBLZXlzXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgS2V5cyB7XHJcblx0cHVibGljIHN0YXRpYyBFc2M6IG51bWJlciA9IDI3O1xyXG5cdHB1YmxpYyBzdGF0aWMgVGFiOiBudW1iZXIgPSA5O1xyXG59XHJcblxyXG4vKipcclxuICogSFRNTCB0YWdzXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgVGFncyB7XHJcblx0cHVibGljIHN0YXRpYyBBbmNob3I6IHN0cmluZyA9IFwiQVwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgQnV0dG9uOiBzdHJpbmcgPSBcImJ1dHRvblwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgRGVmczogc3RyaW5nID0gXCJkZWZzXCI7XHJcblx0cHVibGljIHN0YXRpYyBEaXY6IHN0cmluZyA9IFwiZGl2XCI7XHJcblx0cHVibGljIHN0YXRpYyBGaWVsZFNldDogc3RyaW5nID0gXCJmaWVsZHNldFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgRm9ybTogc3RyaW5nID0gXCJmb3JtXCI7XHJcblx0cHVibGljIHN0YXRpYyBJbWc6IHN0cmluZyA9IFwiaW1nXCI7XHJcblx0cHVibGljIHN0YXRpYyBJbnB1dDogc3RyaW5nID0gXCJpbnB1dFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgTGFiZWw6IHN0cmluZyA9IFwibGFiZWxcIjtcclxuXHRwdWJsaWMgc3RhdGljIExlZ2VuZDogc3RyaW5nID0gXCJsZWdlbmRcIjtcclxuXHRwdWJsaWMgc3RhdGljIE9wdGlvbjogc3RyaW5nID0gXCJvcHRpb25cIjtcclxuXHRwdWJsaWMgc3RhdGljIFBvbHlnb246IHN0cmluZyA9IFwicG9seWdvblwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgU2VsZWN0OiBzdHJpbmcgPSBcInNlbGVjdFwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgU3Bhbjogc3RyaW5nID0gXCJzcGFuXCI7XHJcblx0cHVibGljIHN0YXRpYyBTdmc6IHN0cmluZyA9IFwic3ZnXCI7XHJcblx0cHVibGljIHN0YXRpYyBUZXh0QXJlYTogc3RyaW5nID0gXCJ0ZXh0YXJlYVwiO1xyXG5cdHB1YmxpYyBzdGF0aWMgVXNlOiBzdHJpbmcgPSBcInVzZVwiO1xyXG59XHJcblxyXG4vKipcclxuICogSFRNTCByb2xlc1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFJvbGVzIHtcclxuXHRwdWJsaWMgc3RhdGljIEJ1dHRvbjogc3RyaW5nID0gXCJCdXR0b25cIjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFVSTHNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBVcmxzIHtcclxuXHQvKipcclxuXHQgKiBMaW5rIHRvIHRoZSBmZWVkYmFjayBQcml2YWN5IFN0YXRlbWVudFxyXG5cdCAqL1xyXG5cdHB1YmxpYyBzdGF0aWMgUHJpdmFjeVN0YXRlbWVudExpbms6IHN0cmluZyA9IFwiaHR0cHM6Ly9nby5taWNyb3NvZnQuY29tL2Z3bGluay8/TGlua0lkPTUyMTgzOVwiO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/UI/UiConstants.ts\n')},"./scripts/app/UI/Utils.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setElementVisibility", function() { return setElementVisibility; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deleteElementById", function() { return deleteElementById; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addClassById", function() { return addClassById; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deleteClassById", function() { return deleteClassById; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "replaceClassesById", function() { return replaceClassesById; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setAttributeOnHtmlElement", function() { return setAttributeOnHtmlElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addEventListenerHelper", function() { return addEventListenerHelper; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "removeEventListenerHelper", function() { return removeEventListenerHelper; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "registerListener", function() { return registerListener; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "registerListenerToElement", function() { return registerListenerToElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "unregisterListener", function() { return unregisterListener; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getInternetExplorerVersion", function() { return getInternetExplorerVersion; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isRightToLeft", function() { return isRightToLeft; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScreenshotPreviewByCheckbox", function() { return ScreenshotPreviewByCheckbox; });\n/* harmony import */ var _UiConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UiConstants */ "./scripts/app/UI/UiConstants.ts");\n/* harmony import */ var _Screenshot__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../Screenshot */ "./scripts/app/Screenshot.ts");\n/* harmony import */ var _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../Logging/Logging */ "./scripts/app/Logging/Logging.ts");\n/**\r\n * Utils.ts\r\n *\r\n * Module for utility functions\r\n */\r\n\r\n\r\n\r\n/**\r\n * Set HTML element visibility\r\n * @param {string} id The Id of the HTML element\r\n * @param {any} vis The visibility to be set (true or false)\r\n * @return {void}\r\n */\r\nfunction setElementVisibility(id, vis) {\r\n    var oldClassName = vis ? _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].Hidden : _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].Visible;\r\n    var newClassName = vis ? _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].Visible : _UiConstants__WEBPACK_IMPORTED_MODULE_0__["Classes"].Hidden;\r\n    replaceClassesById(id, oldClassName, newClassName);\r\n}\r\n/**\r\n * Delete HTML element by Id\r\n * @param {string} id The Id of the HTML element\r\n * @return {void}\r\n */\r\nfunction deleteElementById(id) {\r\n    var element = document.getElementById(id);\r\n    if (element != null && element.parentNode != null) {\r\n        element.parentNode.removeChild(element);\r\n    }\r\n}\r\n/**\r\n * Add a CSS class to an HTML element by Id\r\n * @param {string} id The Id of the HTML element\r\n * @param {string} newClassName The name of CSS class to be added\r\n * @return {void}\r\n */\r\nfunction addClassById(id, newClass) {\r\n    var element = document.getElementById(id);\r\n    if (!element) {\r\n        return;\r\n    }\r\n    // check is the class already exists, if not add it\r\n    if (!element.className.match(new RegExp("\\\\b" + newClass + "\\\\b"))) {\r\n        // we use className instead of classList to support IE9\r\n        element.className = element.className + " " + newClass;\r\n    }\r\n}\r\n/**\r\n * Delete a CSS class of an HTML element by Id\r\n * @param {string} id The Id of the HTML element\r\n * @param {string} oldClassName The name of CSS class to be deleted\r\n * @return {void}\r\n */\r\nfunction deleteClassById(id, oldClass) {\r\n    var element = document.getElementById(id);\r\n    if (!element) {\r\n        return;\r\n    }\r\n    // we use className instead of classList to support IE9\r\n    // get rid of any occurrences of the class we don"t want\r\n    element.className = element.className.split(new RegExp("\\\\b" + oldClass + "\\\\b", "i")).join(" ");\r\n    // get rid of extra whitespaces\r\n    element.className = element.className.split(/\\s+/).join(" ");\r\n}\r\n/**\r\n * Delete an CSS class and (or) add an CSS class to an HTML element by Id\r\n * @param {string} id The Id of the HTML element\r\n * @param {string} oldClassName The name of CSS class to be deleted\r\n * @param {string} newClassName The name of CSS class to be added\r\n * @return {void}\r\n */\r\nfunction replaceClassesById(id, oldClassName, newClassName) {\r\n    deleteClassById(id, oldClassName);\r\n    addClassById(id, newClassName);\r\n}\r\n/**\r\n * Set attribute on an HTML element\r\n * @param {string} id The Id of the HTML element\r\n * @param {string} attriName The attribute name\r\n * @param {string} attriValue The attribute value\r\n * @return {void}\r\n */\r\nfunction setAttributeOnHtmlElement(id, attriName, attriValue) {\r\n    var htmlElement = document.getElementById(id);\r\n    if (htmlElement) {\r\n        htmlElement.setAttribute(attriName, attriValue);\r\n    }\r\n}\r\n/**\r\n * Add event listener helper function (wrapper) that deals with IE 8 compatability\r\n * @param object The object to add event listener to\r\n * @param type The event type\r\n * @param listener The listener function\r\n */\r\nfunction addEventListenerHelper(object, type, listener) {\r\n    if (object.addEventListener) {\r\n        object.addEventListener(type, listener, false);\r\n    }\r\n    else if (object.attachEvent) {\r\n        object.attachEvent("on" + type, listener);\r\n    }\r\n}\r\n/**\r\n * Remove event listener helper function (wrapper) that deals with IE 8 compatability\r\n * @param object The object to remove event listener from\r\n * @param type The event type\r\n * @param listener The listener function\r\n */\r\nfunction removeEventListenerHelper(object, type, listener) {\r\n    if (object.removeEventListener) {\r\n        object.removeEventListener(type, listener, false);\r\n    }\r\n    else if (object.detachEvent) {\r\n        object.detachEvent("on" + type, listener);\r\n    }\r\n}\r\n/**\r\n * Register event listener\r\n * @param id The Id of the HTML element\r\n * @param type The event type\r\n * @param listener The listener function\r\n */\r\nfunction registerListener(id, type, listener) {\r\n    var element = document.getElementById(id);\r\n    if (element) {\r\n        addEventListenerHelper(element, type, listener);\r\n    }\r\n}\r\n/**\r\n * Register event listener\r\n * @param element The HTML element\r\n * @param type The event type\r\n * @param listener The listener function\r\n */\r\nfunction registerListenerToElement(element, type, listener) {\r\n    if (element) {\r\n        addEventListenerHelper(element, type, listener);\r\n    }\r\n}\r\n/**\r\n * Un-register event listener\r\n * @param id The Id of the HTML element\r\n * @param type The event type\r\n * @param listener The listener function\r\n */\r\nfunction unregisterListener(id, type, listener) {\r\n    var element = document.getElementById(id);\r\n    if (element) {\r\n        removeEventListenerHelper(element, type, listener);\r\n    }\r\n}\r\n/**\r\n * Returns the version of Internet Explorer or -1 for non-IE browser\r\n * @return {number} The IE version\r\n */\r\nfunction getInternetExplorerVersion() {\r\n    var rv = -1;\r\n    var ua = window.navigator.userAgent;\r\n    // since IE 11, \'MSIE\' is not a keyword in its user agent string anymore\r\n    // determine whether the browser is IE or not, and the version of IE based on Trident keyword and its version\r\n    if (ua.indexOf("Trident") > -1) {\r\n        var re = new RegExp("Trident/([0-9]{1,}[\\.0-9]{0,})");\r\n        if (re.exec(ua) != null) {\r\n            rv = parseFloat(RegExp.$1);\r\n            rv += 4; // trident version + 4 is the IE version\r\n        }\r\n    }\r\n    return rv;\r\n}\r\n/**\r\n * Check if the current text direction is right to left\r\n */\r\nfunction isRightToLeft() {\r\n    return getComputedStyle(document.documentElement).direction === "rtl";\r\n}\r\n/**\r\n * Screenshot preview is control by screenshot check box. Populate preview if checkbox is checked\r\n * @param screenshotCheckboxId The Id of screenshot checkbox\r\n * @param screenshotPreviewId The Id of preview\r\n */\r\nfunction ScreenshotPreviewByCheckbox(screenshotCheckboxId, screenshotPreviewId) {\r\n    var screenshotCheckBox = document.getElementById(screenshotCheckboxId);\r\n    var screenshotCheckBoxSelected = screenshotCheckBox && screenshotCheckBox.checked;\r\n    var preview = document.getElementById(screenshotPreviewId);\r\n    if (screenshotCheckBoxSelected) {\r\n        setElementVisibility(screenshotPreviewId, true);\r\n        var startTime_1 = performance.now();\r\n        _Screenshot__WEBPACK_IMPORTED_MODULE_1__["createScreenshot"](document.body).then(function (canvas) {\r\n            var endTime = performance.now();\r\n            _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_2__["EventIds"].Shared.Screenshot.Render.Success.VALUE, 1 /* Critical */, { TimeMilliseconds: endTime - startTime_1 });\r\n            preview.src = canvas.toDataURL();\r\n        }).catch(function (error) {\r\n            var endTime = performance.now();\r\n            _Logging_Logging__WEBPACK_IMPORTED_MODULE_2__["getLogger"]().logEvent(_Logging_Logging__WEBPACK_IMPORTED_MODULE_2__["EventIds"].Shared.Screenshot.Render.Failed.VALUE, 2 /* Error */, { ErrorMessage: error, TimeMilliseconds: endTime - startTime_1 });\r\n        });\r\n    }\r\n    else {\r\n        setElementVisibility(screenshotPreviewId, false);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSS9VdGlscy50cz9iYWY0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0dBSUc7QUFFcUM7QUFDTTtBQUNFO0FBRWhEOzs7OztHQUtHO0FBQ0ksU0FBUyxvQkFBb0IsQ0FBQyxFQUFVLEVBQUUsR0FBWTtJQUM1RCxJQUFJLFlBQVksR0FBVyxHQUFHLENBQUMsQ0FBQyxDQUFDLG9EQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxvREFBTyxDQUFDLE9BQU8sQ0FBQztJQUNsRSxJQUFJLFlBQVksR0FBVyxHQUFHLENBQUMsQ0FBQyxDQUFDLG9EQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxvREFBTyxDQUFDLE1BQU0sQ0FBQztJQUVsRSxrQkFBa0IsQ0FBQyxFQUFFLEVBQUUsWUFBWSxFQUFFLFlBQVksQ0FBQyxDQUFDO0FBQ3BELENBQUM7QUFFRDs7OztHQUlHO0FBQ0ksU0FBUyxpQkFBaUIsQ0FBQyxFQUFVO0lBQzNDLElBQUksT0FBTyxHQUFnQixRQUFRLENBQUMsY0FBYyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ3ZELElBQUksT0FBTyxJQUFJLElBQUksSUFBSSxPQUFPLENBQUMsVUFBVSxJQUFJLElBQUksRUFBRTtRQUNsRCxPQUFPLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQztLQUN4QztBQUNGLENBQUM7QUFFRDs7Ozs7R0FLRztBQUNJLFNBQVMsWUFBWSxDQUFDLEVBQVUsRUFBRSxRQUFnQjtJQUN4RCxJQUFJLE9BQU8sR0FBZ0IsUUFBUSxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUV2RCxJQUFJLENBQUMsT0FBTyxFQUFFO1FBQ2IsT0FBTztLQUNQO0lBRUQsbURBQW1EO0lB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LENBQUMsbUJBQW1CLEVBQUUsS0FBSyxDQUFDLENBQUM7S0FDakQ7QUFDRixDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvVUkvVXRpbHMudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogVXRpbHMudHNcclxuICpcclxuICogTW9kdWxlIGZvciB1dGlsaXR5IGZ1bmN0aW9uc1xyXG4gKi9cclxuXHJcbmltcG9ydCB7IENsYXNzZXMgfSBmcm9tIFwiLi9VaUNvbnN0YW50c1wiO1xyXG5pbXBvcnQgKiBhcyBTY3JlZW5zaG90IGZyb20gXCIuLy4uL1NjcmVlbnNob3RcIjtcclxuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi8uLi9Mb2dnaW5nL0xvZ2dpbmdcIjtcclxuXHJcbi8qKlxyXG4gKiBTZXQgSFRNTCBlbGVtZW50IHZpc2liaWxpdHlcclxuICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJZCBvZiB0aGUgSFRNTCBlbGVtZW50XHJcbiAqIEBwYXJhbSB7YW55fSB2aXMgVGhlIHZpc2liaWxpdHkgdG8gYmUgc2V0ICh0cnVlIG9yIGZhbHNlKVxyXG4gKiBAcmV0dXJuIHt2b2lkfVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEVsZW1lbnRWaXNpYmlsaXR5KGlkOiBzdHJpbmcsIHZpczogYm9vbGVhbik6IHZvaWQge1xyXG5cdGxldCBvbGRDbGFzc05hbWU6IHN0cmluZyA9IHZpcyA/IENsYXNzZXMuSGlkZGVuIDogQ2xhc3Nlcy5WaXNpYmxlO1xyXG5cdGxldCBuZXdDbGFzc05hbWU6IHN0cmluZyA9IHZpcyA/IENsYXNzZXMuVmlzaWJsZSA6IENsYXNzZXMuSGlkZGVuO1xyXG5cclxuXHRyZXBsYWNlQ2xhc3Nlc0J5SWQoaWQsIG9sZENsYXNzTmFtZSwgbmV3Q2xhc3NOYW1lKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIERlbGV0ZSBIVE1MIGVsZW1lbnQgYnkgSWRcclxuICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJZCBvZiB0aGUgSFRNTCBlbGVtZW50XHJcbiAqIEByZXR1cm4ge3ZvaWR9XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlRWxlbWVudEJ5SWQoaWQ6IHN0cmluZyk6IHZvaWQge1xyXG5cdGxldCBlbGVtZW50OiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuXHRpZiAoZWxlbWVudCAhPSBudWxsICYmIGVsZW1lbnQucGFyZW50Tm9kZSAhPSBudWxsKSB7XHJcblx0XHRlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogQWRkIGEgQ1NTIGNsYXNzIHRvIGFuIEhUTUwgZWxlbWVudCBieSBJZFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElkIG9mIHRoZSBIVE1MIGVsZW1lbnRcclxuICogQHBhcmFtIHtzdHJpbmd9IG5ld0NsYXNzTmFtZSBUaGUgbmFtZSBvZiBDU1MgY2xhc3MgdG8gYmUgYWRkZWRcclxuICogQHJldHVybiB7dm9pZH1cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRDbGFzc0J5SWQoaWQ6IHN0cmluZywgbmV3Q2xhc3M6IHN0cmluZyk6IHZvaWQge1xyXG5cdGxldCBlbGVtZW50OiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuXHJcblx0aWYgKCFlbGVtZW50KSB7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cclxuXHQvLyBjaGVjayBpcyB0aGUgY2xhc3MgYWxyZWFkeSBleGlzdHMsIGlmIG5vdCBhZGQgaXRcclxuXHRpZiAoIWVsZW1lbnQuY2xhc3NOYW1lLm1hdGNoKG5ldyBSZWdFeHAoXCJcXFxcYlwiICsgbmV3Q2xhc3MgKyBcIlxcXFxiXCIpKSkge1xyXG5cdFx0Ly8gd2UgdXNlIGNsYXNzTmFtZSBpbnN0ZWFkIG9mIGNsYXNzTGlzdCB0byBzdXBwb3J0IElFOVxyXG5cdFx0ZWxlbWVudC5jbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZSArIFwiIFwiICsgbmV3Q2xhc3M7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogRGVsZXRlIGEgQ1NTIGNsYXNzIG9mIGFuIEhUTUwgZWxlbWVudCBieSBJZFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElkIG9mIHRoZSBIVE1MIGVsZW1lbnRcclxuICogQHBhcmFtIHtzdHJpbmd9IG9sZENsYXNzTmFtZSBUaGUgbmFtZSBvZiBDU1MgY2xhc3MgdG8gYmUgZGVsZXRlZFxyXG4gKiBAcmV0dXJuIHt2b2lkfVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUNsYXNzQnlJZChpZDogc3RyaW5nLCBvbGRDbGFzczogc3RyaW5nKTogdm9pZCB7XHJcblx0bGV0IGVsZW1lbnQ6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG5cclxuXHRpZiAoIWVsZW1lbnQpIHtcclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdC8vIHdlIHVzZSBjbGFzc05hbWUgaW5zdGVhZCBvZiBjbGFzc0xpc3QgdG8gc3VwcG9ydCBJRTlcclxuXHQvLyBnZXQgcmlkIG9mIGFueSBvY2N1cnJlbmNlcyBvZiB0aGUgY2xhc3Mgd2UgZG9uXCJ0IHdhbnRcclxuXHRlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lLnNwbGl0KG5ldyBSZWdFeHAoXCJcXFxcYlwiICsgb2xkQ2xhc3MgKyBcIlxcXFxiXCIsIFwiaVwiKSkuam9pbihcIiBcIik7XHJcblxyXG5cdC8vIGdldCByaWQgb2YgZXh0cmEgd2hpdGVzcGFjZXNcclxuXHRlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lLnNwbGl0KC9cXHMrLykuam9pbihcIiBcIik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZWxldGUgYW4gQ1NTIGNsYXNzIGFuZCAob3IpIGFkZCBhbiBDU1MgY2xhc3MgdG8gYW4gSFRNTCBlbGVtZW50IGJ5IElkXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSWQgb2YgdGhlIEhUTUwgZWxlbWVudFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gb2xkQ2xhc3NOYW1lIFRoZSBuYW1lIG9mIENTUyBjbGFzcyB0byBiZSBkZWxldGVkXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZXdDbGFzc05hbWUgVGhlIG5hbWUgb2YgQ1NTIGNsYXNzIHRvIGJlIGFkZGVkXHJcbiAqIEByZXR1cm4ge3ZvaWR9XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZUNsYXNzZXNCeUlkKGlkOiBzdHJpbmcsIG9sZENsYXNzTmFtZT86IHN0cmluZywgbmV3Q2xhc3NOYW1lPzogc3RyaW5nKTogdm9pZCB7XHJcblx0ZGVsZXRlQ2xhc3NCeUlkKGlkLCBvbGRDbGFzc05hbWUpO1xyXG5cdGFkZENsYXNzQnlJZChpZCwgbmV3Q2xhc3NOYW1lKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNldCBhdHRyaWJ1dGUgb24gYW4gSFRNTCBlbGVtZW50XHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgSWQgb2YgdGhlIEhUTUwgZWxlbWVudFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlOYW1lIFRoZSBhdHRyaWJ1dGUgbmFtZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYXR0cmlWYWx1ZSBUaGUgYXR0cmlidXRlIHZhbHVlXHJcbiAqIEByZXR1cm4ge3ZvaWR9XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0QXR0cmlidXRlT25IdG1sRWxlbWVudChpZDogc3RyaW5nLCBhdHRyaU5hbWU6IHN0cmluZywgYXR0cmlWYWx1ZTogc3RyaW5nKTogdm9pZCB7XHJcblx0bGV0IGh0bWxFbGVtZW50OiBIVE1MRWxlbWVudCA9IDxIVE1MRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG5cdGlmIChodG1sRWxlbWVudCkge1xyXG5cdFx0aHRtbEVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJpTmFtZSwgYXR0cmlWYWx1ZSk7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogQWRkIGV2ZW50IGxpc3RlbmVyIGhlbHBlciBmdW5jdGlvbiAod3JhcHBlcikgdGhhdCBkZWFscyB3aXRoIElFIDggY29tcGF0YWJpbGl0eVxyXG4gKiBAcGFyYW0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYWRkIGV2ZW50IGxpc3RlbmVyIHRvXHJcbiAqIEBwYXJhbSB0eXBlIFRoZSBldmVudCB0eXBlXHJcbiAqIEBwYXJhbSBsaXN0ZW5lciBUaGUgbGlzdGVuZXIgZnVuY3Rpb25cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVySGVscGVyKG9iamVjdDogYW55LCB0eXBlOiBzdHJpbmcsIGxpc3RlbmVyOiAoZXZlbnQ6IEV2ZW50KSA9PiB2b2lkKTogdm9pZCB7XHJcblx0aWYgKG9iamVjdC5hZGRFdmVudExpc3RlbmVyKSB7XHJcblx0XHRvYmplY3QuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgZmFsc2UpO1xyXG5cdH0gZWxzZSBpZiAob2JqZWN0LmF0dGFjaEV2ZW50KSB7XHJcblx0XHRvYmplY3QuYXR0YWNoRXZlbnQoXCJvblwiICsgdHlwZSwgbGlzdGVuZXIpO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFJlbW92ZSBldmVudCBsaXN0ZW5lciBoZWxwZXIgZnVuY3Rpb24gKHdyYXBwZXIpIHRoYXQgZGVhbHMgd2l0aCBJRSA4IGNvbXBhdGFiaWxpdHlcclxuICogQHBhcmFtIG9iamVjdCBUaGUgb2JqZWN0IHRvIHJlbW92ZSBldmVudCBsaXN0ZW5lciBmcm9tXHJcbiAqIEBwYXJhbSB0eXBlIFRoZSBldmVudCB0eXBlXHJcbiAqIEBwYXJhbSBsaXN0ZW5lciBUaGUgbGlzdGVuZXIgZnVuY3Rpb25cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVySGVscGVyKG9iamVjdDogYW55LCB0eXBlOiBzdHJpbmcsIGxpc3RlbmVyOiAoZXZlbnQ6IEV2ZW50KSA9PiB2b2lkKTogdm9pZCB7XHJcblx0aWYgKG9iamVjdC5yZW1vdmVFdmVudExpc3RlbmVyKSB7XHJcblx0XHRvYmplY3QucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgZmFsc2UpO1xyXG5cdH0gZWxzZSBpZiAob2JqZWN0LmRldGFjaEV2ZW50KSB7XHJcblx0XHRvYmplY3QuZGV0YWNoRXZlbnQoXCJvblwiICsgdHlwZSwgbGlzdGVuZXIpO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFJlZ2lzdGVyIGV2ZW50IGxpc3RlbmVyXHJcbiAqIEBwYXJhbSBpZCBUaGUgSWQgb2YgdGhlIEhUTUwgZWxlbWVudFxyXG4gKiBAcGFyYW0gdHlwZSBUaGUgZXZlbnQgdHlwZVxyXG4gKiBAcGFyYW0gbGlzdGVuZXIgVGhlIGxpc3RlbmVyIGZ1bmN0aW9uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJMaXN0ZW5lcihpZDogc3RyaW5nLCB0eXBlOiBzdHJpbmcsIGxpc3RlbmVyOiAoZXZlbnQ6IEV2ZW50KSA9PiB2b2lkKTogdm9pZCB7XHJcblx0bGV0IGVsZW1lbnQ6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG5cdGlmIChlbGVtZW50KSB7XHJcblx0XHRhZGRFdmVudExpc3RlbmVySGVscGVyKGVsZW1lbnQsIHR5cGUsIGxpc3RlbmVyKTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZWdpc3RlciBldmVudCBsaXN0ZW5lclxyXG4gKiBAcGFyYW0gZWxlbWVudCBUaGUgSFRNTCBlbGVtZW50XHJcbiAqIEBwYXJhbSB0eXBlIFRoZSBldmVudCB0eXBlXHJcbiAqIEBwYXJhbSBsaXN0ZW5lciBUaGUgbGlzdGVuZXIgZnVuY3Rpb25cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3Rlckxpc3RlbmVyVG9FbGVtZW50KGVsZW1lbnQ6IEhUTUxFbGVtZW50LCB0eXBlOiBzdHJpbmcsIGxpc3RlbmVyOiAoZXZlbnQ6IEV2ZW50KSA9PiB2b2lkKTogdm9pZCB7XHJcblx0aWYgKGVsZW1lbnQpIHtcclxuXHRcdGFkZEV2ZW50TGlzdGVuZXJIZWxwZXIoZWxlbWVudCwgdHlwZSwgbGlzdGVuZXIpO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFVuLXJlZ2lzdGVyIGV2ZW50IGxpc3RlbmVyXHJcbiAqIEBwYXJhbSBpZCBUaGUgSWQgb2YgdGhlIEhUTUwgZWxlbWVudFxyXG4gKiBAcGFyYW0gdHlwZSBUaGUgZXZlbnQgdHlwZVxyXG4gKiBAcGFyYW0gbGlzdGVuZXIgVGhlIGxpc3RlbmVyIGZ1bmN0aW9uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdW5yZWdpc3Rlckxpc3RlbmVyKGlkOiBzdHJpbmcsIHR5cGU6IHN0cmluZywgbGlzdGVuZXI6IChldmVudDogRXZlbnQpID0+IHZvaWQpOiB2b2lkIHtcclxuXHRsZXQgZWxlbWVudDogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcblx0aWYgKGVsZW1lbnQpIHtcclxuXHRcdHJlbW92ZUV2ZW50TGlzdGVuZXJIZWxwZXIoZWxlbWVudCwgdHlwZSwgbGlzdGVuZXIpO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIHZlcnNpb24gb2YgSW50ZXJuZXQgRXhwbG9yZXIgb3IgLTEgZm9yIG5vbi1JRSBicm93c2VyXHJcbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIElFIHZlcnNpb25cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnRlcm5ldEV4cGxvcmVyVmVyc2lvbigpOiBudW1iZXIge1xyXG5cdGxldCBydjogbnVtYmVyID0gLTE7XHJcblx0bGV0IHVhOiBzdHJpbmcgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcclxuXHJcblx0Ly8gc2luY2UgSUUgMTEsICdNU0lFJyBpcyBub3QgYSBrZXl3b3JkIGluIGl0cyB1c2VyIGFnZW50IHN0cmluZyBhbnltb3JlXHJcblx0Ly8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGJyb3dzZXIgaXMgSUUgb3Igbm90LCBhbmQgdGhlIHZlcnNpb24gb2YgSUUgYmFzZWQgb24gVHJpZGVudCBrZXl3b3JkIGFuZCBpdHMgdmVyc2lvblxyXG5cdGlmICh1YS5pbmRleE9mKFwiVHJpZGVudFwiKSA+IC0xKSB7XHJcblx0XHRsZXQgcmU6IFJlZ0V4cCA9IG5ldyBSZWdFeHAoXCJUcmlkZW50LyhbMC05XXsxLH1bXFwuMC05XXswLH0pXCIpO1xyXG5cdFx0aWYgKHJlLmV4ZWModWEpICE9IG51bGwpIHtcclxuXHRcdFx0cnYgPSBwYXJzZUZsb2F0KFJlZ0V4cC4kMSk7XHJcblx0XHRcdHJ2ICs9IDQ7IC8vIHRyaWRlbnQgdmVyc2lvbiArIDQgaXMgdGhlIElFIHZlcnNpb25cclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIHJ2O1xyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgdGhlIGN1cnJlbnQgdGV4dCBkaXJlY3Rpb24gaXMgcmlnaHQgdG8gbGVmdFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUmlnaHRUb0xlZnQoKTogYm9vbGVhbiB7XHJcblx0cmV0dXJuIGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5kaXJlY3Rpb24gPT09IFwicnRsXCI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTY3JlZW5zaG90IHByZXZpZXcgaXMgY29udHJvbCBieSBzY3JlZW5zaG90IGNoZWNrIGJveC4gUG9wdWxhdGUgcHJldmlldyBpZiBjaGVja2JveCBpcyBjaGVja2VkIFxyXG4gKiBAcGFyYW0gc2NyZWVuc2hvdENoZWNrYm94SWQgVGhlIElkIG9mIHNjcmVlbnNob3QgY2hlY2tib3ggXHJcbiAqIEBwYXJhbSBzY3JlZW5zaG90UHJldmlld0lkIFRoZSBJZCBvZiBwcmV2aWV3IFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIFNjcmVlbnNob3RQcmV2aWV3QnlDaGVja2JveChzY3JlZW5zaG90Q2hlY2tib3hJZDogc3RyaW5nLCBzY3JlZW5zaG90UHJldmlld0lkOiBzdHJpbmcpOiB2b2lkIHtcclxuXHRsZXQgc2NyZWVuc2hvdENoZWNrQm94ID0gPEhUTUxJbnB1dEVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNjcmVlbnNob3RDaGVja2JveElkKTtcclxuXHRsZXQgc2NyZWVuc2hvdENoZWNrQm94U2VsZWN0ZWQ6IGJvb2xlYW4gPSBzY3JlZW5zaG90Q2hlY2tCb3ggJiYgc2NyZWVuc2hvdENoZWNrQm94LmNoZWNrZWQ7XHJcblx0bGV0IHByZXZpZXcgPSA8SFRNTEltYWdlRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2NyZWVuc2hvdFByZXZpZXdJZCk7XHJcblxyXG5cdGlmIChzY3JlZW5zaG90Q2hlY2tCb3hTZWxlY3RlZCkge1xyXG5cdFx0c2V0RWxlbWVudFZpc2liaWxpdHkoc2NyZWVuc2hvdFByZXZpZXdJZCwgdHJ1ZSk7XHJcblx0XHRsZXQgc3RhcnRUaW1lOiBudW1iZXIgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuXHRcdFNjcmVlbnNob3QuY3JlYXRlU2NyZWVuc2hvdChkb2N1bWVudC5ib2R5KS50aGVuKFxyXG5cdFx0XHQoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkgPT4ge1xyXG5cdFx0XHRcdGxldCBlbmRUaW1lOiBudW1iZXIgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuXHRcdFx0XHRMb2dnaW5nLmdldExvZ2dlcigpLmxvZ0V2ZW50KExvZ2dpbmcuRXZlbnRJZHMuU2hhcmVkLlNjcmVlbnNob3QuUmVuZGVyLlN1Y2Nlc3MuVkFMVUUsXHJcblx0XHRcdFx0XHRMb2dnaW5nLkxvZ0xldmVsLkNyaXRpY2FsLFxyXG5cdFx0XHRcdFx0eyBUaW1lTWlsbGlzZWNvbmRzOiBlbmRUaW1lIC0gc3RhcnRUaW1lIH0pO1xyXG5cclxuXHRcdFx0XHRwcmV2aWV3LnNyYyA9IGNhbnZhcy50b0RhdGFVUkwoKTtcclxuXHRcdFx0fVxyXG5cdFx0KS5jYXRjaCgoZXJyb3I6IGFueSkgPT4ge1xyXG5cdFx0XHRsZXQgZW5kVGltZTogbnVtYmVyID0gcGVyZm9ybWFuY2Uubm93KCk7XHJcblx0XHRcdExvZ2dpbmcuZ2V0TG9nZ2VyKCkubG9nRXZlbnQoTG9nZ2luZy5FdmVudElkcy5TaGFyZWQuU2NyZWVuc2hvdC5SZW5kZXIuRmFpbGVkLlZBTFVFLFxyXG5cdFx0XHRcdExvZ2dpbmcuTG9nTGV2ZWwuRXJyb3IsXHJcblx0XHRcdFx0eyBFcnJvck1lc3NhZ2U6IGVycm9yLCBUaW1lTWlsbGlzZWNvbmRzOiBlbmRUaW1lIC0gc3RhcnRUaW1lIH0pO1xyXG5cdFx0fSk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHNldEVsZW1lbnRWaXNpYmlsaXR5KHNjcmVlbnNob3RQcmV2aWV3SWQsIGZhbHNlKTtcclxuXHR9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/UI/Utils.ts\n')},"./scripts/app/UIStrings/UIStrings.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setUIStrings", function() { return setUIStrings; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getUIStrings", function() { return getUIStrings; });\n/**\r\n * UIStrings.ts\r\n *\r\n * Module for the strings to display\r\n */\r\n/**\r\n * Localized UI strings\r\n */\r\nvar uIStrings;\r\n/**\r\n * Set UI strings\r\n * @param {string} data List of localized UI strings\r\n */\r\nfunction setUIStrings(data) {\r\n    uIStrings = data;\r\n}\r\n/**\r\n * Get UI strings\r\n * @returns the UIStrings\r\n */\r\nfunction getUIStrings() {\r\n    return uIStrings;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VSVN0cmluZ3MvVUlTdHJpbmdzLnRzPzlkY2QiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7R0FJRztBQStGSDs7R0FFRztBQUNILElBQUksU0FBcUIsQ0FBQztBQUUxQjs7O0dBR0c7QUFDSSxTQUFTLFlBQVksQ0FBQyxJQUFnQjtJQUM1QyxTQUFTLEdBQUcsSUFBSSxDQUFDO0FBQ2xCLENBQUM7QUFFRDs7O0dBR0c7QUFDSSxTQUFTLFlBQVk7SUFDM0IsT0FBTyxTQUFTLENBQUM7QUFDbEIsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1VJU3RyaW5ncy9VSVN0cmluZ3MudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogVUlTdHJpbmdzLnRzXHJcbiAqXHJcbiAqIE1vZHVsZSBmb3IgdGhlIHN0cmluZ3MgdG8gZGlzcGxheVxyXG4gKi9cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVVJU3RyaW5ncyB7XHJcblx0RmVlZGJhY2tTdWJ0aXRsZTogc3RyaW5nO1xyXG5cdFByaXZhY3lTdGF0ZW1lbnQ6IHN0cmluZztcclxuXHJcblx0Rm9ybToge1xyXG5cdFx0Q29tbWVudFBsYWNlaG9sZGVyOiBzdHJpbmc7XHJcblx0XHRDYXRlZ29yeVBsYWNlaG9sZGVyOiBzdHJpbmc7XHJcblx0XHRFbWFpbFBsYWNlaG9sZGVyOiBzdHJpbmc7XHJcblx0XHRSYXRpbmdMYWJlbDogc3RyaW5nO1xyXG5cdFx0U2NyZWVuc2hvdExhYmVsOiBzdHJpbmc7XHJcblx0XHRFbWFpbENoZWNrQm94TGFiZWw6IHN0cmluZztcclxuXHRcdFN1Ym1pdDogc3RyaW5nO1xyXG5cdFx0QmFzaWNGb3JtVGl0bGU6IHN0cmluZztcclxuXHRcdENhbmNlbDogc3RyaW5nO1xyXG5cdFx0U2NyZWVuc2hvdEltZ0FsdFRleHQ6IHN0cmluZztcclxuXHRcdFByaXZhY3lMYWJlbDogc3RyaW5nO1xyXG5cdFx0UHJpdmFjeUNvbnNlbnQ6IHN0cmluZztcclxuXHR9O1xyXG5cclxuXHRTaW5nbGVGb3JtOiB7XHJcblx0XHRUaXRsZTogc3RyaW5nO1xyXG5cdH07XHJcblxyXG5cdFVzZXJWb2ljZUZvcm06IHtcclxuXHRcdFRpdGxlOiBzdHJpbmc7XHJcblx0XHRUZXh0OiBzdHJpbmc7XHJcblx0XHRCdXR0b246IHN0cmluZztcclxuXHR9O1xyXG5cclxuXHRTbWlsZUZvcm06IHtcclxuXHRcdEFuY2hvcjogc3RyaW5nO1xyXG5cdFx0VGl0bGU6IHN0cmluZztcclxuXHR9O1xyXG5cclxuXHRGcm93bkZvcm06IHtcclxuXHRcdEFuY2hvcjogc3RyaW5nO1xyXG5cdFx0VGl0bGU6IHN0cmluZztcclxuXHR9O1xyXG5cclxuXHRJZGVhRm9ybToge1xyXG5cdFx0QW5jaG9yOiBzdHJpbmc7XHJcblx0XHRUaXRsZTogc3RyaW5nO1xyXG5cdH07XHJcblxyXG5cdEJ1Z0Zvcm06IHtcclxuXHRcdEFuY2hvcjogc3RyaW5nO1xyXG5cdFx0VGl0bGU6IHN0cmluZztcclxuXHR9O1xyXG5cclxuXHRUaGFua3NQYW5lbDoge1xyXG5cdFx0VGl0bGU6IHN0cmluZztcclxuXHRcdEFwcHJlY2lhdGVUZXh0OiBzdHJpbmc7XHJcblx0XHRDbG9zZTogc3RyaW5nO1xyXG5cdH07XHJcblxyXG5cdEZsb29kZ2F0ZToge1xyXG5cdFx0TnBzOiB7XHJcblx0XHRcdFByb21wdDoge1xyXG5cdFx0XHRcdFRpdGxlOiBzdHJpbmc7XHJcblx0XHRcdFx0UXVlc3Rpb246IHN0cmluZztcclxuXHRcdFx0XHRZZXM6IHN0cmluZztcclxuXHRcdFx0XHRObzogc3RyaW5nO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Q29tbWVudDoge1xyXG5cdFx0XHRcdFF1ZXN0aW9uOiBzdHJpbmc7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRSYXRpbmc6IHtcclxuXHRcdFx0XHRRdWVzdGlvbjogc3RyaW5nO1xyXG5cdFx0XHRcdFBvaW50czExVmFsdWUwOiBzdHJpbmc7XHJcblx0XHRcdFx0UG9pbnRzMTFWYWx1ZTE6IHN0cmluZztcclxuXHRcdFx0XHRQb2ludHMxMVZhbHVlMjogc3RyaW5nO1xyXG5cdFx0XHRcdFBvaW50czExVmFsdWUzOiBzdHJpbmc7XHJcblx0XHRcdFx0UG9pbnRzMTFWYWx1ZTQ6IHN0cmluZztcclxuXHRcdFx0XHRQb2ludHMxMVZhbHVlNTogc3RyaW5nO1xyXG5cdFx0XHRcdFBvaW50czExVmFsdWU2OiBzdHJpbmc7XHJcblx0XHRcdFx0UG9pbnRzMTFWYWx1ZTc6IHN0cmluZztcclxuXHRcdFx0XHRQb2ludHMxMVZhbHVlODogc3RyaW5nO1xyXG5cdFx0XHRcdFBvaW50czExVmFsdWU5OiBzdHJpbmc7XHJcblx0XHRcdFx0UG9pbnRzMTFWYWx1ZTEwOiBzdHJpbmc7XHJcblx0XHRcdFx0UG9pbnRzNVZhbHVlMTogc3RyaW5nO1xyXG5cdFx0XHRcdFBvaW50czVWYWx1ZTI6IHN0cmluZztcclxuXHRcdFx0XHRQb2ludHM1VmFsdWUzOiBzdHJpbmc7XHJcblx0XHRcdFx0UG9pbnRzNVZhbHVlNDogc3RyaW5nO1xyXG5cdFx0XHRcdFBvaW50czVWYWx1ZTU6IHN0cmluZztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdENsb3NlTGFiZWw6IHN0cmluZztcclxufVxyXG5cclxuLyoqXHJcbiAqIExvY2FsaXplZCBVSSBzdHJpbmdzXHJcbiAqL1xyXG5sZXQgdUlTdHJpbmdzOiBJVUlTdHJpbmdzO1xyXG5cclxuLyoqXHJcbiAqIFNldCBVSSBzdHJpbmdzXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhIExpc3Qgb2YgbG9jYWxpemVkIFVJIHN0cmluZ3NcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRVSVN0cmluZ3MoZGF0YTogSVVJU3RyaW5ncykge1xyXG5cdHVJU3RyaW5ncyA9IGRhdGE7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZXQgVUkgc3RyaW5nc1xyXG4gKiBAcmV0dXJucyB0aGUgVUlTdHJpbmdzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VUlTdHJpbmdzKCk6IElVSVN0cmluZ3Mge1xyXG5cdHJldHVybiB1SVN0cmluZ3M7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/UIStrings/UIStrings.ts\n')},"./scripts/app/Utils.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "guid", function() { return guid; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "overrideValues", function() { return overrideValues; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isNOU", function() { return isNOU; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isBoolean", function() { return isBoolean; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isInteger", function() { return isInteger; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "expectObject", function() { return expectObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "expectNumber", function() { return expectNumber; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "expectString", function() { return expectString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "expectBoolean", function() { return expectBoolean; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "expectGuid", function() { return expectGuid; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "expectArray", function() { return expectArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createTimeoutPromise", function() { return createTimeoutPromise; });\n/* harmony import */ var _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ms-ofb/officefloodgatecore */ "../FloodgateCore/dist/index.js");\n/* harmony import */ var _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__);\n/*\r\n * Utils.ts\r\n *\r\n * Module for utility functions\r\n */\r\n\r\nvar guid = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__["Utils"].guid, overrideValues = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__["Utils"].overrideValues, isNOU = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__["Utils"].isNOU, isBoolean = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__["Utils"].isBoolean, isString = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__["Utils"].isString, isObject = _ms_ofb_officefloodgatecore__WEBPACK_IMPORTED_MODULE_0__["Utils"].isObject;\r\n\r\n/**\r\n * Check if given value is a number\r\n * @param {any} value value\r\n */\r\nfunction isNumber(value) {\r\n    return (typeof value === "number");\r\n}\r\n/**\r\n * Check if given value is an integer\r\n * @param {any} value value\r\n */\r\nfunction isInteger(value) {\r\n    return typeof value === "number" &&\r\n        isFinite(value) &&\r\n        Math.floor(value) === value;\r\n}\r\n/**\r\n * Check if value is a valid guid\r\n * @param {any} value value\r\n */\r\nfunction isGuid(value) {\r\n    return (isString(value) &&\r\n        /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(value));\r\n}\r\n/**\r\n * Throw if not object\r\n */\r\nfunction expectObject(value, name) {\r\n    if (!isObject(value)) {\r\n        throw name + " is not an object: " + value;\r\n    }\r\n}\r\n/**\r\n * Throw if not number\r\n */\r\nfunction expectNumber(value, name) {\r\n    if (!isNumber(value)) {\r\n        throw name + " is not a number: " + value;\r\n    }\r\n}\r\n/**\r\n * Throw if not string\r\n */\r\nfunction expectString(value, name) {\r\n    if (!isString(value)) {\r\n        throw name + " is not a string: " + value;\r\n    }\r\n}\r\n/**\r\n * Throw if not boolean\r\n */\r\nfunction expectBoolean(value, name) {\r\n    if (!isBoolean(value)) {\r\n        throw name + " is not a boolean: " + value;\r\n    }\r\n}\r\n/**\r\n * Throw if not guid\r\n */\r\nfunction expectGuid(value, name) {\r\n    if (!isGuid(value)) {\r\n        throw name + " is not a guid: " + value;\r\n    }\r\n}\r\n/**\r\n * Throw if not array\r\n */\r\nfunction expectArray(value, name) {\r\n    if (!Array.isArray(value)) {\r\n        throw name + " is not an array: " + value;\r\n    }\r\n}\r\n// Creates a promise that rejects in <ms> milliseconds and\r\n// returns the race between the created timeout promise and the passed in promise\r\nfunction createTimeoutPromise(ms, promise) {\r\n    // Create a promise that rejects in <ms> milliseconds\r\n    var timeout = new Promise(function (resolve, reject) {\r\n        var id = setTimeout(function () {\r\n            clearTimeout(id);\r\n            reject("Timed out in " + ms + "ms.");\r\n        }, ms);\r\n    });\r\n    // Returns a race between our timeout and the passed in promise\r\n    return Promise.race([promise, timeout]);\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9VdGlscy50cz9jZDliIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0dBSUc7QUFFaUQ7QUFDNUMsUUFBSSxHQUEyRCxpRUFBSyxLQUFoRSxFQUFFLGNBQWMsR0FBMkMsaUVBQUssZUFBaEQsRUFBRSxLQUFLLEdBQW9DLGlFQUFLLE1BQXpDLEVBQUUsU0FBUyxHQUF5QixpRUFBSyxVQUE5QixFQUFFLFFBQVEsR0FBZSxpRUFBSyxTQUFwQixFQUFFLFFBQVEsR0FBSyxpRUFBSyxTQUFWLENBQVc7QUFDNUI7QUFFakQ7OztHQUdHO0FBQ0gsU0FBUyxRQUFRLENBQUMsS0FBVTtJQUMzQixPQUFPLENBQUMsT0FBTyxLQUFLLEtBQUssUUFBUSxDQUFDLENBQUM7QUFDcEMsQ0FBQztBQUVEOzs7R0FHRztBQUNJLFNBQVMsU0FBUyxDQUFDLEtBQVU7SUFDbkMsT0FBTyxPQUFPLEtBQUssS0FBSyxRQUFRO1FBQy9CLFFBQVEsQ0FBQyxLQUFLLENBQUM7UUFDZixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxLQUFLLEtBQUssQ0FBQztBQUM5QixDQUFDO0FBRUQ7OztHQUdHO0FBQ0gsU0FBUyxNQUFNLENBQUMsS0FBVTtJQUN6QixPQUFPLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQztRQUN0QiwrRUFBK0UsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztBQUMvRixDQUFDO0FBRUQ7O0dBRUc7QUFDSSxTQUFTLFlBQVksQ0FBQyxLQUFVLEVBQUUsSUFBWTtJQUNwRCxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxFQUFFO1FBQ3JCLE1BQU0sSUFBSSxHQUFHLHFCQUFxQixHQUFHLEtBQUssQ0FBQztLQUMzQztBQUNGLENBQUM7QUFFRDs7R0FFRztBQUNJLFNBQVMsWUFBWSxDQUFDLEtBQVUsRUFBRSxJQUFZO0lBQ3BELElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDckIsTUFBTSxJQUFJLEdBQUcsb0JBQW9CLEdBQUcsS0FBSyxDQUFDO0tBQzFDO0FBQ0YsQ0FBQztBQUVEOztHQUVHO0FBQ0ksU0FBUyxZQUFZLENBQUMsS0FBVSxFQUFFLElBQVk7SUFDcEQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUNyQixNQUFNLElBQUksR0FBRyxvQkFBb0IsR0FBRyxLQUFLLENBQUM7S0FDMUM7QUFDRixDQUFDO0FBRUQ7O0dBRUc7QUFDSSxTQUFTLGFBQWEsQ0FBQyxLQUFVLEVBQUUsSUFBWTtJQUNyRCxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxFQUFFO1FBQ3RCLE1BQU0sSUFBSSxHQUFHLHFCQUFxQixHQUFHLEtBQUssQ0FBQztLQUMzQztBQUNGLENBQUM7QUFFRDs7R0FFRztBQUNJLFNBQVMsVUFBVSxDQUFDLEtBQVUsRUFBRSxJQUFZO0lBQ2xELElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDbkIsTUFBTSxJQUFJLEdBQUcsa0JBQWtCLEdBQUcsS0FBSyxDQUFDO0tBQ3hDO0FBQ0YsQ0FBQztBQUVEOztHQUVHO0FBQ0ksU0FBUyxXQUFXLENBQUMsS0FBVSxFQUFFLElBQVk7SUFDbkQsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDMUIsTUFBTSxJQUFJLEdBQUcsb0JBQW9CLEdBQUcsS0FBSyxDQUFDO0tBQzFDO0FBQ0YsQ0FBQztBQUVELDBEQUEwRDtBQUMxRCxpRkFBaUY7QUFDMUUsU0FBUyxvQkFBb0IsQ0FBSSxFQUFVLEVBQUUsT0FBbUI7SUFDdEUscURBQXFEO0lBQ3JELElBQU0sT0FBTyxHQUFHLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBTyxFQUFFLE1BQU07UUFDM0MsSUFBTSxFQUFFLEdBQUcsVUFBVSxDQUFDO1lBQ3JCLFlBQVksQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNqQixNQUFNLENBQUMsZUFBZSxHQUFHLEVBQUUsR0FBRyxLQUFLLENBQUMsQ0FBQztRQUN0QyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDUixDQUFDLENBQUMsQ0FBQztJQUVILCtEQUErRDtJQUMvRCxPQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQWUsQ0FBQztBQUN2RCxDQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvVXRpbHMudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiBVdGlscy50c1xyXG4gKlxyXG4gKiBNb2R1bGUgZm9yIHV0aWxpdHkgZnVuY3Rpb25zXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgVXRpbHMgfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlXCI7XHJcbmNvbnN0IHsgZ3VpZCwgb3ZlcnJpZGVWYWx1ZXMsIGlzTk9VLCBpc0Jvb2xlYW4sIGlzU3RyaW5nLCBpc09iamVjdCB9ID0gVXRpbHM7XHJcbmV4cG9ydCB7IGd1aWQsIG92ZXJyaWRlVmFsdWVzLCBpc05PVSwgaXNCb29sZWFuIH1cclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiBnaXZlbiB2YWx1ZSBpcyBhIG51bWJlclxyXG4gKiBAcGFyYW0ge2FueX0gdmFsdWUgdmFsdWVcclxuICovXHJcbmZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlOiBhbnkpOiBib29sZWFuIHtcclxuXHRyZXR1cm4gKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiBnaXZlbiB2YWx1ZSBpcyBhbiBpbnRlZ2VyXHJcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZSB2YWx1ZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZTogYW55KTogYm9vbGVhbiB7XHJcblx0cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiAmJlxyXG5cdFx0aXNGaW5pdGUodmFsdWUpICYmXHJcblx0XHRNYXRoLmZsb29yKHZhbHVlKSA9PT0gdmFsdWU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiB2YWx1ZSBpcyBhIHZhbGlkIGd1aWRcclxuICogQHBhcmFtIHthbnl9IHZhbHVlIHZhbHVlXHJcbiAqL1xyXG5mdW5jdGlvbiBpc0d1aWQodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xyXG5cdHJldHVybiAoaXNTdHJpbmcodmFsdWUpICYmXHJcblx0XHQvXlswLTlhLWZBLUZdezh9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezEyfSQvLnRlc3QodmFsdWUpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRocm93IGlmIG5vdCBvYmplY3RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBleHBlY3RPYmplY3QodmFsdWU6IGFueSwgbmFtZTogc3RyaW5nKTogdm9pZCB7XHJcblx0aWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcclxuXHRcdHRocm93IG5hbWUgKyBcIiBpcyBub3QgYW4gb2JqZWN0OiBcIiArIHZhbHVlO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFRocm93IGlmIG5vdCBudW1iZXJcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBleHBlY3ROdW1iZXIodmFsdWU6IGFueSwgbmFtZTogc3RyaW5nKTogdm9pZCB7XHJcblx0aWYgKCFpc051bWJlcih2YWx1ZSkpIHtcclxuXHRcdHRocm93IG5hbWUgKyBcIiBpcyBub3QgYSBudW1iZXI6IFwiICsgdmFsdWU7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogVGhyb3cgaWYgbm90IHN0cmluZ1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGV4cGVjdFN0cmluZyh2YWx1ZTogYW55LCBuYW1lOiBzdHJpbmcpOiB2b2lkIHtcclxuXHRpZiAoIWlzU3RyaW5nKHZhbHVlKSkge1xyXG5cdFx0dGhyb3cgbmFtZSArIFwiIGlzIG5vdCBhIHN0cmluZzogXCIgKyB2YWx1ZTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaHJvdyBpZiBub3QgYm9vbGVhblxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGV4cGVjdEJvb2xlYW4odmFsdWU6IGFueSwgbmFtZTogc3RyaW5nKTogdm9pZCB7XHJcblx0aWYgKCFpc0Jvb2xlYW4odmFsdWUpKSB7XHJcblx0XHR0aHJvdyBuYW1lICsgXCIgaXMgbm90IGEgYm9vbGVhbjogXCIgKyB2YWx1ZTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaHJvdyBpZiBub3QgZ3VpZFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGV4cGVjdEd1aWQodmFsdWU6IGFueSwgbmFtZTogc3RyaW5nKTogdm9pZCB7XHJcblx0aWYgKCFpc0d1aWQodmFsdWUpKSB7XHJcblx0XHR0aHJvdyBuYW1lICsgXCIgaXMgbm90IGEgZ3VpZDogXCIgKyB2YWx1ZTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaHJvdyBpZiBub3QgYXJyYXlcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBleHBlY3RBcnJheSh2YWx1ZTogYW55LCBuYW1lOiBzdHJpbmcpOiB2b2lkIHtcclxuXHRpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XHJcblx0XHR0aHJvdyBuYW1lICsgXCIgaXMgbm90IGFuIGFycmF5OiBcIiArIHZhbHVlO1xyXG5cdH1cclxufVxyXG5cclxuLy8gQ3JlYXRlcyBhIHByb21pc2UgdGhhdCByZWplY3RzIGluIDxtcz4gbWlsbGlzZWNvbmRzIGFuZFxyXG4vLyByZXR1cm5zIHRoZSByYWNlIGJldHdlZW4gdGhlIGNyZWF0ZWQgdGltZW91dCBwcm9taXNlIGFuZCB0aGUgcGFzc2VkIGluIHByb21pc2VcclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRpbWVvdXRQcm9taXNlPFQ+KG1zOiBudW1iZXIsIHByb21pc2U6IFByb21pc2U8VD4pOiBQcm9taXNlPFQ+IHtcclxuXHQvLyBDcmVhdGUgYSBwcm9taXNlIHRoYXQgcmVqZWN0cyBpbiA8bXM+IG1pbGxpc2Vjb25kc1xyXG5cdGNvbnN0IHRpbWVvdXQgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRjb25zdCBpZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRjbGVhclRpbWVvdXQoaWQpO1xyXG5cdFx0XHRyZWplY3QoXCJUaW1lZCBvdXQgaW4gXCIgKyBtcyArIFwibXMuXCIpO1xyXG5cdFx0fSwgbXMpO1xyXG5cdH0pO1xyXG5cclxuXHQvLyBSZXR1cm5zIGEgcmFjZSBiZXR3ZWVuIG91ciB0aW1lb3V0IGFuZCB0aGUgcGFzc2VkIGluIHByb21pc2VcclxuXHRyZXR1cm4gUHJvbWlzZS5yYWNlKFtwcm9taXNlLCB0aW1lb3V0XSkgYXMgUHJvbWlzZTxUPjtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Utils.ts\n')},"./scripts/app/Version.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__["default"] = ("1.5.8");\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9WZXJzaW9uLnRzPzA3OTYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBZSxzRUFBTyxFQUFDIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvVmVyc2lvbi50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiMS41LjhcIjsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Version.ts\n')},"./scripts/app/Window/DomUtils.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadStylesheet", function() { return loadStylesheet; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "loadScript", function() { return loadScript; });\n/*\r\n * DomUtils.ts\r\n *\r\n * Module for page document utility functions\r\n */\r\n/**\r\n * Load the style sheet\r\n * @param url The url of the stylesheet\r\n */\r\nfunction loadStylesheet(url) {\r\n    var link = document.createElement("link");\r\n    link.rel = "stylesheet";\r\n    link.type = "text/css";\r\n    link.href = url;\r\n    var entry = document.getElementsByTagName("script")[0];\r\n    entry.parentNode.insertBefore(link, entry);\r\n}\r\n/**\r\n * Load the script and callback after it is loaded\r\n * @param url The url of the script\r\n * @param pageOrigin Optional - Origin of the page\r\n */\r\nfunction loadScript(url, pageOrigin) {\r\n    if (pageOrigin === void 0) { pageOrigin = window.origin; }\r\n    return new Promise(function (resolve, reject) {\r\n        var script = document.createElement("script");\r\n        script.async = true;\r\n        if (script.readyState) { // IE\r\n            script.onreadystatechange = function () {\r\n                if (script.readyState === "loaded" || script.readyState === "complete") {\r\n                    script.onreadystatechange = null;\r\n                    resolve();\r\n                }\r\n            };\r\n        }\r\n        else { // Others\r\n            script.onload = function () {\r\n                resolve();\r\n            };\r\n        }\r\n        script.onerror = function () {\r\n            reject();\r\n        };\r\n        script.src = url;\r\n        // don\'t add if origin is not available or when containing "null". This is to mitigate possible\r\n        // unexpected behavior with Chrome when a page hosting this SDK is being tested as a local file.\r\n        // The behavior depends on Chrome.exe\'s --allow-file-access-from-files setting.\r\n        if (pageOrigin && pageOrigin !== "null") {\r\n            script.crossOrigin = "anonymous";\r\n        }\r\n        var entry = document.getElementsByTagName("script")[0];\r\n        entry.parentNode.insertBefore(script, entry);\r\n    });\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9XaW5kb3cvRG9tVXRpbHMudHM/ZWViMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTs7OztHQUlHO0FBRUg7OztHQUdHO0FBQ0ksU0FBUyxjQUFjLENBQUMsR0FBVztJQUN6QyxJQUFNLElBQUksR0FBb0IsUUFBUSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM3RCxJQUFJLENBQUMsR0FBRyxHQUFHLFlBQVksQ0FBQztJQUN4QixJQUFJLENBQUMsSUFBSSxHQUFHLFVBQVUsQ0FBQztJQUN2QixJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztJQUVoQixJQUFNLEtBQUssR0FBc0IsUUFBUSxDQUFDLG9CQUFvQixDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzVFLEtBQUssQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztBQUM1QyxDQUFDO0FBRUQ7Ozs7R0FJRztBQUNJLFNBQVMsVUFBVSxDQUFDLEdBQVcsRUFBRSxVQUEyQztJQUEzQywwQ0FBc0IsTUFBYyxDQUFDLE1BQU07SUFDbEYsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNO1FBQ2xDLElBQU0sTUFBTSxHQUFRLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDckQsTUFBTSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7UUFFcEIsSUFBSSxNQUFNLENBQUMsVUFBVSxFQUFFLEVBQUUsS0FBSztZQUM3QixNQUFNLENBQUMsa0JBQWtCLEdBQUc7Z0JBQzNCLElBQUksTUFBTSxDQUFDLFVBQVUsS0FBSyxRQUFRLElBQUksTUFBTSxDQUFDLFVBQVUsS0FBSyxVQUFVLEVBQUU7b0JBQ3ZFLE1BQU0sQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUM7b0JBQ2pDLE9BQU8sRUFBRSxDQUFDO2lCQUNWO1lBQ0YsQ0FBQyxDQUFDO1NBQ0Y7YUFBTSxFQUFHLFNBQVM7WUFDbEIsTUFBTSxDQUFDLE1BQU0sR0FBRztnQkFDZixPQUFPLEVBQUUsQ0FBQztZQUNYLENBQUMsQ0FBQztTQUNGO1FBRUQsTUFBTSxDQUFDLE9BQU8sR0FBRztZQUNoQixNQUFNLEVBQUUsQ0FBQztRQUNWLENBQUMsQ0FBQztRQUVGLE1BQU0sQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBRWpCLCtGQUErRjtRQUMvRixnR0FBZ0c7UUFDaEcsK0VBQStFO1FBQy9FLElBQUksVUFBVSxJQUFJLFVBQVUsS0FBSyxNQUFNLEVBQUU7WUFDeEMsTUFBTSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7U0FDakM7UUFFRCxJQUFNLEtBQUssR0FBc0IsUUFBUSxDQUFDLG9CQUFvQixDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVFLEtBQUssQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztJQUM5QyxDQUFDLENBQUMsQ0FBQztBQUNKLENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9XaW5kb3cvRG9tVXRpbHMudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiBEb21VdGlscy50c1xyXG4gKlxyXG4gKiBNb2R1bGUgZm9yIHBhZ2UgZG9jdW1lbnQgdXRpbGl0eSBmdW5jdGlvbnNcclxuICovXHJcblxyXG4vKipcclxuICogTG9hZCB0aGUgc3R5bGUgc2hlZXRcclxuICogQHBhcmFtIHVybCBUaGUgdXJsIG9mIHRoZSBzdHlsZXNoZWV0XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbG9hZFN0eWxlc2hlZXQodXJsOiBzdHJpbmcpOiB2b2lkIHtcclxuXHRjb25zdCBsaW5rOiBIVE1MTGlua0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcclxuXHRsaW5rLnJlbCA9IFwic3R5bGVzaGVldFwiO1xyXG5cdGxpbmsudHlwZSA9IFwidGV4dC9jc3NcIjtcclxuXHRsaW5rLmhyZWYgPSB1cmw7XHJcblxyXG5cdGNvbnN0IGVudHJ5OiBIVE1MU2NyaXB0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpWzBdO1xyXG5cdGVudHJ5LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGxpbmssIGVudHJ5KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIExvYWQgdGhlIHNjcmlwdCBhbmQgY2FsbGJhY2sgYWZ0ZXIgaXQgaXMgbG9hZGVkXHJcbiAqIEBwYXJhbSB1cmwgVGhlIHVybCBvZiB0aGUgc2NyaXB0XHJcbiAqIEBwYXJhbSBwYWdlT3JpZ2luIE9wdGlvbmFsIC0gT3JpZ2luIG9mIHRoZSBwYWdlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gbG9hZFNjcmlwdCh1cmw6IHN0cmluZywgcGFnZU9yaWdpbjogc3RyaW5nID0gKHdpbmRvdyBhcyBhbnkpLm9yaWdpbik6IFByb21pc2U8dm9pZD4ge1xyXG5cdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRjb25zdCBzY3JpcHQ6IGFueSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XHJcblx0XHRzY3JpcHQuYXN5bmMgPSB0cnVlO1xyXG5cclxuXHRcdGlmIChzY3JpcHQucmVhZHlTdGF0ZSkgeyAvLyBJRVxyXG5cdFx0XHRzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0aWYgKHNjcmlwdC5yZWFkeVN0YXRlID09PSBcImxvYWRlZFwiIHx8IHNjcmlwdC5yZWFkeVN0YXRlID09PSBcImNvbXBsZXRlXCIpIHtcclxuXHRcdFx0XHRcdHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xyXG5cdFx0XHRcdFx0cmVzb2x2ZSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHRcdH0gZWxzZSB7ICAvLyBPdGhlcnNcclxuXHRcdFx0c2NyaXB0Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJlc29sdmUoKTtcclxuXHRcdFx0fTtcclxuXHRcdH1cclxuXHJcblx0XHRzY3JpcHQub25lcnJvciA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZWplY3QoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0c2NyaXB0LnNyYyA9IHVybDtcclxuXHJcblx0XHQvLyBkb24ndCBhZGQgaWYgb3JpZ2luIGlzIG5vdCBhdmFpbGFibGUgb3Igd2hlbiBjb250YWluaW5nIFwibnVsbFwiLiBUaGlzIGlzIHRvIG1pdGlnYXRlIHBvc3NpYmxlXHJcblx0XHQvLyB1bmV4cGVjdGVkIGJlaGF2aW9yIHdpdGggQ2hyb21lIHdoZW4gYSBwYWdlIGhvc3RpbmcgdGhpcyBTREsgaXMgYmVpbmcgdGVzdGVkIGFzIGEgbG9jYWwgZmlsZS5cclxuXHRcdC8vIFRoZSBiZWhhdmlvciBkZXBlbmRzIG9uIENocm9tZS5leGUncyAtLWFsbG93LWZpbGUtYWNjZXNzLWZyb20tZmlsZXMgc2V0dGluZy5cclxuXHRcdGlmIChwYWdlT3JpZ2luICYmIHBhZ2VPcmlnaW4gIT09IFwibnVsbFwiKSB7XHJcblx0XHRcdHNjcmlwdC5jcm9zc09yaWdpbiA9IFwiYW5vbnltb3VzXCI7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgZW50cnk6IEhUTUxTY3JpcHRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIilbMF07XHJcblx0XHRlbnRyeS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzY3JpcHQsIGVudHJ5KTtcclxuXHR9KTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/Window/DomUtils.ts\n')},"./scripts/app/Window/Window.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "get", function() { return get; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getGlobal", function() { return getGlobal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setSetUiStrings", function() { return setSetUiStrings; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setSingleFeedback", function() { return setSingleFeedback; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setMultiFeedback", function() { return setMultiFeedback; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setCreateScreenshot", function() { return setCreateScreenshot; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setFloodgateShowSurvey", function() { return setFloodgateShowSurvey; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setFloodgateShowCustomSurvey", function() { return setFloodgateShowCustomSurvey; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setFloodgateInitialize", function() { return setFloodgateInitialize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setFloodgateStart", function() { return setFloodgateStart; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setFloodgateStop", function() { return setFloodgateStop; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setFloodgateGetEngine", function() { return setFloodgateGetEngine; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSettingIdMap", function() { return getSettingIdMap; });\n/**\r\n * Window.ts\r\n *\r\n * Module wrapping around the global window object\r\n */\r\nvar w = window;\r\nvar officeBrowserFeedback = w.OfficeBrowserFeedback = w.OfficeBrowserFeedback || {};\r\nvar floodgate = officeBrowserFeedback.floodgate = officeBrowserFeedback.floodgate || {};\r\n/**\r\n * Get the IWindow object\r\n */\r\nfunction get() { return w; }\r\n/**\r\n * Get the IWindow object\r\n */\r\nfunction getGlobal() { return w; }\r\n/**\r\n * Set the setUiStrings() method\r\n * @param setUiStrings the method\r\n */\r\nfunction setSetUiStrings(setUiStrings) {\r\n    officeBrowserFeedback.setUiStrings = setUiStrings;\r\n}\r\n/**\r\n * Set the singleFeedback() method\r\n * @param singleFeedback the method\r\n */\r\nfunction setSingleFeedback(singleFeedback) {\r\n    officeBrowserFeedback.singleFeedback = singleFeedback;\r\n}\r\n/**\r\n * Set the multiFeedback() method\r\n * @param multiFeedback the method\r\n */\r\nfunction setMultiFeedback(multiFeedback) {\r\n    officeBrowserFeedback.multiFeedback = multiFeedback;\r\n}\r\n/**\r\n * Set the createScreenshot() method\r\n * @param createScreenshot the method\r\n */\r\nfunction setCreateScreenshot(createScreenshot) {\r\n    officeBrowserFeedback.createScreenshot = createScreenshot;\r\n}\r\n/**\r\n * Set the floodgate showSurvey() method\r\n * @param floodgateShowSurvey the method\r\n */\r\nfunction setFloodgateShowSurvey(floodgateShowSurvey) {\r\n    floodgate.showSurvey = floodgateShowSurvey;\r\n}\r\n/**\r\n * Set the floodgate showCustomSurvey() method\r\n * @param floodgateShowSurvey the method\r\n */\r\nfunction setFloodgateShowCustomSurvey(floodgateShowCustomSurvey) {\r\n    floodgate.showCustomSurvey = floodgateShowCustomSurvey;\r\n}\r\n/**\r\n * Set the floodgate initialize() method\r\n * @param floodgateInitialize the method\r\n */\r\nfunction setFloodgateInitialize(floodgateInitialize) {\r\n    floodgate.initialize = floodgateInitialize;\r\n}\r\n/**\r\n * Set the floodgate start() method\r\n * @param floodgateStart the method\r\n */\r\nfunction setFloodgateStart(floodgateStart) {\r\n    floodgate.start = floodgateStart;\r\n}\r\n/**\r\n * Set the floodgate stop() method\r\n * @param floodgateStop the method\r\n */\r\nfunction setFloodgateStop(floodgateStop) {\r\n    floodgate.stop = floodgateStop;\r\n}\r\n/**\r\n * Set the floodgate getEngine() method\r\n * @param floodgateGetEngine the method\r\n */\r\nfunction setFloodgateGetEngine(floodgateGetEngine) {\r\n    floodgate.getEngine = floodgateGetEngine;\r\n}\r\n/**\r\n * Set the floodgate getSettingIdMap() method\r\n * @param floodgateSettingIdMap the method\r\n */\r\nfunction getSettingIdMap(floodgateSettingIdMap) {\r\n    floodgate.getSettingIdMap = floodgateSettingIdMap;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9XaW5kb3cvV2luZG93LnRzPzc1NzAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O0dBSUc7QUFTSCxJQUFNLENBQUMsR0FBRyxNQUFhLENBQUM7QUFDeEIsSUFBTSxxQkFBcUIsR0FBRyxDQUFDLENBQUMscUJBQXFCLEdBQUcsQ0FBQyxDQUFDLHFCQUFxQixJQUFJLEVBQUUsQ0FBQztBQUN0RixJQUFNLFNBQVMsR0FBRyxxQkFBcUIsQ0FBQyxTQUFTLEdBQUcscUJBQXFCLENBQUMsU0FBUyxJQUFJLEVBQUUsQ0FBQztBQUUxRjs7R0FFRztBQUNJLFNBQVMsR0FBRyxLQUFjLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUU1Qzs7R0FFRztBQUNJLFNBQVMsU0FBUyxLQUFjLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUVsRDs7O0dBR0c7QUFDSSxTQUFTLGVBQWUsQ0FBQyxZQUFpQztJQUNoRSxxQkFBcUIsQ0FBQyxZQUFZLEdBQUcsWUFBWSxDQUFDO0FBQ25ELENBQUM7QUFFRDs7O0dBR0c7QUFDSSxTQUFTLGlCQUFpQixDQUNoQyxjQUFrRztJQUNqRyxxQkFBcUIsQ0FBQyxjQUFjLEdBQUcsY0FBYyxDQUFDO0FBQ3hELENBQUM7QUFFRDs7O0dBR0c7QUFDSSxTQUFTLGdCQUFnQixDQUMvQixhQUEyRTtJQUMxRSxxQkFBcUIsQ0FBQyxhQUFhLEdBQUcsYUFBYSxDQUFDO0FBQ3RELENBQUM7QUFFRDs7O0dBR0c7QUFDSSxTQUFTLG1CQUFtQixDQUNsQyxnQkFBc0U7SUFDckUscUJBQXFCLENBQUMsZ0JBQWdCLEdBQUcsZ0JBQWdCLENBQUM7QUFDNUQsQ0FBQztBQUVEOzs7R0FHRztBQUNJLFNBQVMsc0JBQXNCLENBQUMsbUJBQXdEO0lBQzlGLFNBQVMsQ0FBQyxVQUFVLEdBQUcsbUJBQW1CLENBQUM7QUFDNUMsQ0FBQztBQUVEOzs7R0FHRztBQUNJLFNBQVMsNEJBQTRCLENBQUMseUJBQWtFO0lBQzlHLFNBQVMsQ0FBQyxnQkFBZ0IsR0FBRyx5QkFBeUIsQ0FBQztBQUN4RCxDQUFDO0FBRUQ7OztHQUdHO0FBQ0ksU0FBUyxzQkFBc0IsQ0FBQyxtQkFBdUM7SUFDN0UsU0FBUyxDQUFDLFVBQVUsR0FBRyxtQkFBbUIsQ0FBQztBQUM1QyxDQUFDO0FBRUQ7OztHQUdHO0FBQ0ksU0FBUyxpQkFBaUIsQ0FBQyxjQUFrQztJQUNuRSxTQUFTLENBQUMsS0FBSyxHQUFHLGNBQWMsQ0FBQztBQUNsQyxDQUFDO0FBRUQ7OztHQUdHO0FBQ0ksU0FBUyxnQkFBZ0IsQ0FBQyxhQUF5QjtJQUN6RCxTQUFTLENBQUMsSUFBSSxHQUFHLGFBQWEsQ0FBQztBQUNoQyxDQUFDO0FBRUQ7OztHQUdHO0FBQ0ksU0FBUyxxQkFBcUIsQ0FBQyxrQkFBeUM7SUFDOUUsU0FBUyxDQUFDLFNBQVMsR0FBRyxrQkFBa0IsQ0FBQztBQUMxQyxDQUFDO0FBRUQ7OztHQUdHO0FBQ0ksU0FBUyxlQUFlLENBQUMscUJBQW1EO0lBQ2xGLFNBQVMsQ0FBQyxlQUFlLEdBQUcscUJBQXFCLENBQUM7QUFDbkQsQ0FBQyIsImZpbGUiOiIuL3NjcmlwdHMvYXBwL1dpbmRvdy9XaW5kb3cudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogV2luZG93LnRzXHJcbiAqXHJcbiAqIE1vZHVsZSB3cmFwcGluZyBhcm91bmQgdGhlIGdsb2JhbCB3aW5kb3cgb2JqZWN0XHJcbiAqL1xyXG5cclxuaW1wb3J0ICogYXMgQ29uZmlndXJhdGlvbiBmcm9tIFwiLi8uLi9Db25maWd1cmF0aW9uL0NvbmZpZ3VyYXRpb25cIjtcclxuaW1wb3J0IHsgSUxhdW5jaE9wdGlvbnNJbkFwcEZlZWRiYWNrIH0gZnJvbSBcIi4vLi4vQ29uZmlndXJhdGlvbi9JTGF1bmNoT3B0aW9uc1wiO1xyXG5pbXBvcnQgSUN1c3RvbVN1cnZleSBmcm9tIFwiLi8uLi9GbG9vZGdhdGVDb3JlL0lDdXN0b21TdXJ2ZXlcIjtcclxuaW1wb3J0IElVSVN1cnZleSBmcm9tIFwiLi8uLi9GbG9vZGdhdGVDb3JlL1VJU3VydmV5L0lVSVN1cnZleVwiO1xyXG5pbXBvcnQgeyBGbG9vZGdhdGVFbmdpbmUgfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlXCI7XHJcbmltcG9ydCB7IElGbG9vZGdhdGVTZXR0aW5nSWRNYXAgfSBmcm9tIFwiQG1zLW9mYi9vZmZpY2VmbG9vZGdhdGVjb3JlL2Rpc3Qvc3JjL0FwaS9BcGlcIjtcclxuXHJcbmNvbnN0IHcgPSB3aW5kb3cgYXMgYW55O1xyXG5jb25zdCBvZmZpY2VCcm93c2VyRmVlZGJhY2sgPSB3Lk9mZmljZUJyb3dzZXJGZWVkYmFjayA9IHcuT2ZmaWNlQnJvd3NlckZlZWRiYWNrIHx8IHt9O1xyXG5jb25zdCBmbG9vZGdhdGUgPSBvZmZpY2VCcm93c2VyRmVlZGJhY2suZmxvb2RnYXRlID0gb2ZmaWNlQnJvd3NlckZlZWRiYWNrLmZsb29kZ2F0ZSB8fCB7fTtcclxuXHJcbi8qKlxyXG4gKiBHZXQgdGhlIElXaW5kb3cgb2JqZWN0XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0KCk6IElXaW5kb3cgeyByZXR1cm4gdzsgfVxyXG5cclxuLyoqXHJcbiAqIEdldCB0aGUgSVdpbmRvdyBvYmplY3RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRHbG9iYWwoKTogSVdpbmRvdyB7IHJldHVybiB3OyB9XHJcblxyXG4vKipcclxuICogU2V0IHRoZSBzZXRVaVN0cmluZ3MoKSBtZXRob2RcclxuICogQHBhcmFtIHNldFVpU3RyaW5ncyB0aGUgbWV0aG9kXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0U2V0VWlTdHJpbmdzKHNldFVpU3RyaW5nczogKGRhdGE6IGFueSkgPT4gdm9pZCkge1xyXG5cdG9mZmljZUJyb3dzZXJGZWVkYmFjay5zZXRVaVN0cmluZ3MgPSBzZXRVaVN0cmluZ3M7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXQgdGhlIHNpbmdsZUZlZWRiYWNrKCkgbWV0aG9kXHJcbiAqIEBwYXJhbSBzaW5nbGVGZWVkYmFjayB0aGUgbWV0aG9kXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0U2luZ2xlRmVlZGJhY2soXHJcblx0c2luZ2xlRmVlZGJhY2s6IChmZWVkYmFja1R5cGU6IHN0cmluZywgbGF1bmNoT3B0aW9uczogSUxhdW5jaE9wdGlvbnNJbkFwcEZlZWRiYWNrKSA9PiBQcm9taXNlPGFueT4pIHtcclxuXHRcdG9mZmljZUJyb3dzZXJGZWVkYmFjay5zaW5nbGVGZWVkYmFjayA9IHNpbmdsZUZlZWRiYWNrO1xyXG59XHJcblxyXG4vKipcclxuICogU2V0IHRoZSBtdWx0aUZlZWRiYWNrKCkgbWV0aG9kXHJcbiAqIEBwYXJhbSBtdWx0aUZlZWRiYWNrIHRoZSBtZXRob2RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRNdWx0aUZlZWRiYWNrKFxyXG5cdG11bHRpRmVlZGJhY2s6IChsYXVuY2hPcHRpb25zOiBJTGF1bmNoT3B0aW9uc0luQXBwRmVlZGJhY2spID0+IFByb21pc2U8YW55Pikge1xyXG5cdFx0b2ZmaWNlQnJvd3NlckZlZWRiYWNrLm11bHRpRmVlZGJhY2sgPSBtdWx0aUZlZWRiYWNrO1xyXG59XHJcblxyXG4vKipcclxuICogU2V0IHRoZSBjcmVhdGVTY3JlZW5zaG90KCkgbWV0aG9kXHJcbiAqIEBwYXJhbSBjcmVhdGVTY3JlZW5zaG90IHRoZSBtZXRob2RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRDcmVhdGVTY3JlZW5zaG90KFxyXG5cdGNyZWF0ZVNjcmVlbnNob3Q6IChkb21FbGVtZW50Pzogb2JqZWN0LCBvcHRpb25zPzogYW55KSA9PiBQcm9taXNlPGFueT4pIHtcclxuXHRcdG9mZmljZUJyb3dzZXJGZWVkYmFjay5jcmVhdGVTY3JlZW5zaG90ID0gY3JlYXRlU2NyZWVuc2hvdDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNldCB0aGUgZmxvb2RnYXRlIHNob3dTdXJ2ZXkoKSBtZXRob2RcclxuICogQHBhcmFtIGZsb29kZ2F0ZVNob3dTdXJ2ZXkgdGhlIG1ldGhvZFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEZsb29kZ2F0ZVNob3dTdXJ2ZXkoZmxvb2RnYXRlU2hvd1N1cnZleTogKHN1cnZleTogSVVJU3VydmV5KSA9PiBQcm9taXNlPGFueT4pIHtcclxuXHRmbG9vZGdhdGUuc2hvd1N1cnZleSA9IGZsb29kZ2F0ZVNob3dTdXJ2ZXk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXQgdGhlIGZsb29kZ2F0ZSBzaG93Q3VzdG9tU3VydmV5KCkgbWV0aG9kXHJcbiAqIEBwYXJhbSBmbG9vZGdhdGVTaG93U3VydmV5IHRoZSBtZXRob2RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRGbG9vZGdhdGVTaG93Q3VzdG9tU3VydmV5KGZsb29kZ2F0ZVNob3dDdXN0b21TdXJ2ZXk6IChzdXJ2ZXk6IElDdXN0b21TdXJ2ZXkpID0+IFByb21pc2U8YW55Pikge1xyXG5cdGZsb29kZ2F0ZS5zaG93Q3VzdG9tU3VydmV5ID0gZmxvb2RnYXRlU2hvd0N1c3RvbVN1cnZleTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNldCB0aGUgZmxvb2RnYXRlIGluaXRpYWxpemUoKSBtZXRob2RcclxuICogQHBhcmFtIGZsb29kZ2F0ZUluaXRpYWxpemUgdGhlIG1ldGhvZFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldEZsb29kZ2F0ZUluaXRpYWxpemUoZmxvb2RnYXRlSW5pdGlhbGl6ZTogKCkgPT4gUHJvbWlzZTxhbnk+KSB7XHJcblx0Zmxvb2RnYXRlLmluaXRpYWxpemUgPSBmbG9vZGdhdGVJbml0aWFsaXplO1xyXG59XHJcblxyXG4vKipcclxuICogU2V0IHRoZSBmbG9vZGdhdGUgc3RhcnQoKSBtZXRob2RcclxuICogQHBhcmFtIGZsb29kZ2F0ZVN0YXJ0IHRoZSBtZXRob2RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRGbG9vZGdhdGVTdGFydChmbG9vZGdhdGVTdGFydDogKCkgPT4gUHJvbWlzZTxhbnk+KSB7XHJcblx0Zmxvb2RnYXRlLnN0YXJ0ID0gZmxvb2RnYXRlU3RhcnQ7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXQgdGhlIGZsb29kZ2F0ZSBzdG9wKCkgbWV0aG9kXHJcbiAqIEBwYXJhbSBmbG9vZGdhdGVTdG9wIHRoZSBtZXRob2RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRGbG9vZGdhdGVTdG9wKGZsb29kZ2F0ZVN0b3A6ICgpID0+IHZvaWQpIHtcclxuXHRmbG9vZGdhdGUuc3RvcCA9IGZsb29kZ2F0ZVN0b3A7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZXQgdGhlIGZsb29kZ2F0ZSBnZXRFbmdpbmUoKSBtZXRob2RcclxuICogQHBhcmFtIGZsb29kZ2F0ZUdldEVuZ2luZSB0aGUgbWV0aG9kXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0Rmxvb2RnYXRlR2V0RW5naW5lKGZsb29kZ2F0ZUdldEVuZ2luZTogKCkgPT4gRmxvb2RnYXRlRW5naW5lKSB7XHJcblx0Zmxvb2RnYXRlLmdldEVuZ2luZSA9IGZsb29kZ2F0ZUdldEVuZ2luZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNldCB0aGUgZmxvb2RnYXRlIGdldFNldHRpbmdJZE1hcCgpIG1ldGhvZFxyXG4gKiBAcGFyYW0gZmxvb2RnYXRlU2V0dGluZ0lkTWFwIHRoZSBtZXRob2RcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXR0aW5nSWRNYXAoZmxvb2RnYXRlU2V0dGluZ0lkTWFwOiAoKSA9PiBJRmxvb2RnYXRlU2V0dGluZ0lkTWFwKSB7XHJcblx0Zmxvb2RnYXRlLmdldFNldHRpbmdJZE1hcCA9IGZsb29kZ2F0ZVNldHRpbmdJZE1hcDtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJSW5pdE9wdGlvbnMgZXh0ZW5kcyBDb25maWd1cmF0aW9uLklJbml0T3B0aW9uc0NvbW1vbiwgQ29uZmlndXJhdGlvbi5JSW5pdE9wdGlvbnNJbkFwcEZlZWRiYWNrIHtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJRmxvb2RnYXRlIHtcclxuXHRpbml0T3B0aW9uczogQ29uZmlndXJhdGlvbi5JSW5pdE9wdGlvbnNGbG9vZGdhdGU7XHJcblx0c2hvd1N1cnZleTogKHN1cnZleTogSVVJU3VydmV5KSA9PiBQcm9taXNlPGFueT47XHJcblx0aW5pdGlhbGl6ZTogKCkgPT4gUHJvbWlzZTxhbnk+O1xyXG5cdHN0YXJ0OiAoKSA9PiBQcm9taXNlPGFueT47XHJcblx0c3RvcDogKCkgPT4gdm9pZDtcclxuXHRnZXRFbmdpbmU6ICgpID0+IEZsb29kZ2F0ZUVuZ2luZTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJV2luZG93IGV4dGVuZHMgV2luZG93TG9jYWxTdG9yYWdlIHtcclxuXHRPZmZpY2VCcm93c2VyRmVlZGJhY2s6IHtcclxuXHRcdGluaXRPcHRpb25zOiBJSW5pdE9wdGlvbnM7XHJcblx0XHRtdWx0aUZlZWRiYWNrOiAobGF1bmNoT3B0aW9uczogSUxhdW5jaE9wdGlvbnNJbkFwcEZlZWRiYWNrKSA9PiBQcm9taXNlPGFueT47XHJcblx0XHRzZGtWZXJzaW9uOiBzdHJpbmc7XHJcblx0XHRzaW5nbGVGZWVkYmFjazogKGZlZWRiYWNrVHlwZTogc3RyaW5nLCBsYXVuY2hPcHRpb25zOiBJTGF1bmNoT3B0aW9uc0luQXBwRmVlZGJhY2spID0+IFByb21pc2U8YW55PjtcclxuXHRcdHNldFVpU3RyaW5nczogKGRhdGE6IGFueSkgPT4gdm9pZDtcclxuXHRcdGh0bWwyY2FudmFzOiAoKSA9PiAoKGRvbUVsZW1lbnQ/OiBvYmplY3QsIG9wdGlvbnM/OiBhbnkpID0+IFByb21pc2U8SFRNTENhbnZhc0VsZW1lbnQ+KTtcclxuXHRcdGNyZWF0ZVNjcmVlbnNob3Q6IChkb21FbGVtZW50Pzogb2JqZWN0LCBvcHRpb25zPzogYW55KSA9PiBQcm9taXNlPEhUTUxDYW52YXNFbGVtZW50PjtcclxuXHRcdGZsb29kZ2F0ZTogSUZsb29kZ2F0ZTtcclxuXHR9O1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/Window/Window.ts\n')},"./scripts/app/WindowProperties.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isNarrow", function() { return isNarrow; });\n/**\r\n * WindowProperties.ts\r\n *\r\n * Module to track window properties.\r\n */\r\n/**\r\n * Is the window narrow?\r\n * @returns True if it is, false otherwise\r\n */\r\nfunction isNarrow() {\r\n    var narrowScreenBoundary = 800;\r\n    if (window.innerWidth) {\r\n        return window.innerWidth < narrowScreenBoundary;\r\n    }\r\n    // if we can\'t find the width; go with narrow.\r\n    return true;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC9XaW5kb3dQcm9wZXJ0aWVzLnRzP2VkMDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBOzs7O0dBSUc7QUFFSDs7O0dBR0c7QUFDSSxTQUFTLFFBQVE7SUFDdkIsSUFBSSxvQkFBb0IsR0FBVyxHQUFHLENBQUM7SUFFdkMsSUFBSSxNQUFNLENBQUMsVUFBVSxFQUFFO1FBQ3RCLE9BQU8sTUFBTSxDQUFDLFVBQVUsR0FBRyxvQkFBb0IsQ0FBQztLQUNoRDtJQUVELDhDQUE4QztJQUM5QyxPQUFPLElBQUksQ0FBQztBQUNiLENBQUMiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC9XaW5kb3dQcm9wZXJ0aWVzLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFdpbmRvd1Byb3BlcnRpZXMudHNcclxuICpcclxuICogTW9kdWxlIHRvIHRyYWNrIHdpbmRvdyBwcm9wZXJ0aWVzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBJcyB0aGUgd2luZG93IG5hcnJvdz9cclxuICogQHJldHVybnMgVHJ1ZSBpZiBpdCBpcywgZmFsc2Ugb3RoZXJ3aXNlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaXNOYXJyb3coKTogYm9vbGVhbiB7XHJcblx0bGV0IG5hcnJvd1NjcmVlbkJvdW5kYXJ5OiBudW1iZXIgPSA4MDA7XHJcblxyXG5cdGlmICh3aW5kb3cuaW5uZXJXaWR0aCkge1xyXG5cdFx0cmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoIDwgbmFycm93U2NyZWVuQm91bmRhcnk7XHJcblx0fVxyXG5cclxuXHQvLyBpZiB3ZSBjYW4ndCBmaW5kIHRoZSB3aWR0aDsgZ28gd2l0aCBuYXJyb3cuXHJcblx0cmV0dXJuIHRydWU7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./scripts/app/WindowProperties.ts\n')},"./scripts/app/thirdparty/aria-webjs-compact-sdk-1.2.2.js":function(module,exports,__webpack_require__){eval('(function webpackUniversalModuleDefinition(root, factory) {\r\n\tif(true)\r\n\t\tmodule.exports = factory();\r\n\telse { var i, a; }\r\n})(this, function() {\r\nreturn /******/ (function(modules) { // webpackBootstrap\r\n/******/ \t// The module cache\r\n/******/ \tvar installedModules = {};\r\n/******/\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n/******/\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tif(installedModules[moduleId]) {\r\n/******/ \t\t\treturn installedModules[moduleId].exports;\r\n/******/ \t\t}\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = installedModules[moduleId] = {\r\n/******/ \t\t\ti: moduleId,\r\n/******/ \t\t\tl: false,\r\n/******/ \t\t\texports: {}\r\n/******/ \t\t};\r\n/******/\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n/******/\r\n/******/ \t\t// Flag the module as loaded\r\n/******/ \t\tmodule.l = true;\r\n/******/\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n/******/\r\n/******/\r\n/******/ \t// expose the modules object (__webpack_modules__)\r\n/******/ \t__webpack_require__.m = modules;\r\n/******/\r\n/******/ \t// expose the module cache\r\n/******/ \t__webpack_require__.c = installedModules;\r\n/******/\r\n/******/ \t// identity function for calling harmony imports with the correct context\r\n/******/ \t__webpack_require__.i = function(value) { return value; };\r\n/******/\r\n/******/ \t// define getter function for harmony exports\r\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\r\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\r\n/******/ \t\t\tObject.defineProperty(exports, name, {\r\n/******/ \t\t\t\tconfigurable: false,\r\n/******/ \t\t\t\tenumerable: true,\r\n/******/ \t\t\t\tget: getter\r\n/******/ \t\t\t});\r\n/******/ \t\t}\r\n/******/ \t};\r\n/******/\r\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\r\n/******/ \t__webpack_require__.n = function(module) {\r\n/******/ \t\tvar getter = module && module.__esModule ?\r\n/******/ \t\t\tfunction getDefault() { return module[\'default\']; } :\r\n/******/ \t\t\tfunction getModuleExports() { return module; };\r\n/******/ \t\t__webpack_require__.d(getter, \'a\', getter);\r\n/******/ \t\treturn getter;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// Object.prototype.hasOwnProperty.call\r\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\r\n/******/\r\n/******/ \t// __webpack_public_path__\r\n/******/ \t__webpack_require__.p = "";\r\n/******/\r\n/******/ \t// Load entry module and return exports\r\n/******/ \treturn __webpack_require__(__webpack_require__.s = 15);\r\n/******/ })\r\n/************************************************************************/\r\n/******/ ([\r\n/* 0 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n"use strict";\r\n\r\n/**\r\n* microsoft.bond.primitives.ts\r\n* Copyright: Microsoft 2016\r\n*/\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nvar Int64 = /** @class */ (function () {\r\n    // BUG!!: need implement, currently, just handle 32bits number\r\n    function Int64(numberStr) {\r\n        this.low = 0;\r\n        this.high = 0;\r\n        this.low = parseInt(numberStr, 10);\r\n        if (this.low < 0) {\r\n            this.high = -1;\r\n        }\r\n    }\r\n    Int64.prototype.Equals = function (numberStr) {\r\n        var tmp = new Int64(numberStr);\r\n        return this.low === tmp.low && this.high === tmp.high;\r\n    };\r\n    return Int64;\r\n}());\r\nexports.Int64 = Int64;\r\nvar UInt64 = /** @class */ (function () {\r\n    // BUG!!: need implement, currently, just handle 32bits number\r\n    function UInt64(numberStr) {\r\n        this.low = 0;\r\n        this.high = 0;\r\n        this.low = parseInt(numberStr, 10);\r\n    }\r\n    UInt64.prototype.Equals = function (numberStr) {\r\n        var tmp = new UInt64(numberStr);\r\n        return this.low === tmp.low && this.high === tmp.high;\r\n    };\r\n    return UInt64;\r\n}());\r\nexports.UInt64 = UInt64;\r\nvar Number = /** @class */ (function () {\r\n    function Number() {\r\n    }\r\n    Number.ToByte = function (value) {\r\n        return this.ToUInt8(value);\r\n    };\r\n    Number.ToInt16 = function (value) {\r\n        var signMask = (value & 0x8000) << 16 >> 16;\r\n        return (value & 0x7fff) | signMask;\r\n    };\r\n    Number.ToInt32 = function (value) {\r\n        var signMask = (value & 0x80000000);\r\n        return (value & 0x7fffffff) | signMask;\r\n    };\r\n    Number.ToUInt8 = function (value) {\r\n        return value & 0xff;\r\n    };\r\n    Number.ToUInt32 = function (value) {\r\n        return value & 0xffffffff;\r\n    };\r\n    return Number;\r\n}());\r\nexports.Number = Number;\r\n\r\n\r\n/***/ }),\r\n/* 1 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n"use strict";\r\n\r\n/**\r\n* Enums.ts\r\n* Author: Abhilash Panwar (abpanwar)\r\n* Copyright: Microsoft 2016\r\n* Common enum values used in the SDK.\r\n*/\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nvar AWTPiiKind;\r\n(function (AWTPiiKind) {\r\n    AWTPiiKind[AWTPiiKind["NotSet"] = 0] = "NotSet";\r\n    AWTPiiKind[AWTPiiKind["DistinguishedName"] = 1] = "DistinguishedName";\r\n    AWTPiiKind[AWTPiiKind["GenericData"] = 2] = "GenericData";\r\n    AWTPiiKind[AWTPiiKind["IPV4Address"] = 3] = "IPV4Address";\r\n    AWTPiiKind[AWTPiiKind["IPv6Address"] = 4] = "IPv6Address";\r\n    AWTPiiKind[AWTPiiKind["MailSubject"] = 5] = "MailSubject";\r\n    AWTPiiKind[AWTPiiKind["PhoneNumber"] = 6] = "PhoneNumber";\r\n    AWTPiiKind[AWTPiiKind["QueryString"] = 7] = "QueryString";\r\n    AWTPiiKind[AWTPiiKind["SipAddress"] = 8] = "SipAddress";\r\n    AWTPiiKind[AWTPiiKind["SmtpAddress"] = 9] = "SmtpAddress";\r\n    AWTPiiKind[AWTPiiKind["Identity"] = 10] = "Identity";\r\n    AWTPiiKind[AWTPiiKind["Uri"] = 11] = "Uri";\r\n    AWTPiiKind[AWTPiiKind["Fqdn"] = 12] = "Fqdn";\r\n    // Supports scrubbing of the last octet in a IPV4 address. E.g. 10.121.227.147 becomes 10.121.227.*\r\n    AWTPiiKind[AWTPiiKind["IPV4AddressLegacy"] = 13] = "IPV4AddressLegacy";\r\n})(AWTPiiKind = exports.AWTPiiKind || (exports.AWTPiiKind = {}));\r\n\r\n\r\n/***/ }),\r\n/* 2 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n"use strict";\r\n\r\n/**\r\n* AWTBondSerializer.ts\r\n* Author: Brent Erickson (brericks) and Abhilash Panwar (abpanwar)\r\n* Copyright: Microsoft 2016\r\n* Class to handler bond serialization.\r\n*/\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nvar Bond = __webpack_require__(9);\r\nvar Enums_1 = __webpack_require__(1);\r\nvar Utils = __webpack_require__(3);\r\nvar AWTBondSerializer = /** @class */ (function () {\r\n    function AWTBondSerializer() {\r\n    }\r\n    AWTBondSerializer.getPayloadBlob = function (requestDictionary, tokenCount) {\r\n        var stream = new Bond.IO.MemoryStream();\r\n        var writer = new Bond.CompactBinaryProtocolWriter(stream);\r\n        // Begin ClientCollector request\r\n        //Write TokenToDataPackagesMap\r\n        writer.WriteFieldBegin(Bond.BondDataType.BT_MAP, 3);\r\n        writer.WriteMapContainerBegin(tokenCount, Bond.BondDataType.BT_STRING, Bond.BondDataType.BT_LIST);\r\n        Object.keys(requestDictionary).forEach(function (token) {\r\n            //write token\r\n            writer.WriteString(token);\r\n            var dataPackage = requestDictionary[token];\r\n            // Write list of DataPackages\r\n            writer.WriteContainerBegin(1, Bond.BondDataType.BT_STRUCT);\r\n            // Source\r\n            writer.WriteFieldBegin(Bond.BondDataType.BT_STRING, 2);\r\n            writer.WriteString(\'act_default_source\');\r\n            // DataPackageId\r\n            writer.WriteFieldBegin(Bond.BondDataType.BT_STRING, 5);\r\n            writer.WriteString(Utils.newGuid());\r\n            // Timestamp\r\n            writer.WriteFieldBegin(Bond.BondDataType.BT_INT64, 6);\r\n            writer.WriteInt64(Utils.numberToBondInt64(Date.now()));\r\n            // Records\r\n            writer.WriteFieldBegin(Bond.BondDataType.BT_LIST, 8);\r\n            writer.WriteContainerBegin(dataPackage.length, Bond.BondDataType.BT_STRUCT);\r\n            for (var i = 0; i < dataPackage.length; ++i) {\r\n                writer.WriteBlob(dataPackage[i]);\r\n            }\r\n            writer.WriteStructEnd(false);\r\n        });\r\n        // End ClientCollector\r\n        writer.WriteStructEnd(false);\r\n        return stream.GetBuffer();\r\n    };\r\n    // As per mappings at https://skype.visualstudio.com/SCC/F.S4L.FUNDAMENTALS/_git/infrastructure_data_clienttelemetry?\r\n    // path=%2Fclienttelemetry%2Fsrc%2Fbond%2FDataPackage.bond&version=GBdev2&_a=contents\r\n    // Requires that the values of AWTEventData.properties must all be AWTEventProperty\r\n    AWTBondSerializer.getEventBlob = function (eventData) {\r\n        var stream = new Bond.IO.MemoryStream();\r\n        var writer = new Bond.CompactBinaryProtocolWriter(stream);\r\n        // ID\r\n        writer.WriteFieldBegin(Bond.BondDataType.BT_STRING, 1);\r\n        writer.WriteString(eventData.id);\r\n        // Timestamp\r\n        writer.WriteFieldBegin(Bond.BondDataType.BT_INT64, 3);\r\n        writer.WriteInt64(Utils.numberToBondInt64(eventData.timestamp));\r\n        // Type\r\n        writer.WriteFieldBegin(Bond.BondDataType.BT_STRING, 5);\r\n        writer.WriteString(eventData.type);\r\n        // Event Type\r\n        writer.WriteFieldBegin(Bond.BondDataType.BT_STRING, 6);\r\n        writer.WriteString(eventData.name);\r\n        var propsString = [];\r\n        var piiProps = [];\r\n        // Iterate across event data properties and separate based on pii\r\n        Object.keys(eventData.properties).forEach(function (key) {\r\n            var property = eventData.properties[key];\r\n            if (property.pii === Enums_1.AWTPiiKind.NotSet) {\r\n                propsString.push(key);\r\n            }\r\n            else {\r\n                piiProps.push(key);\r\n            }\r\n        });\r\n        //Extension map\r\n        if (propsString.length) {\r\n            writer.WriteFieldBegin(Bond.BondDataType.BT_MAP, 13);\r\n            writer.WriteMapContainerBegin(propsString.length, Bond.BondDataType.BT_STRING, Bond.BondDataType.BT_STRING);\r\n            propsString.forEach(function (name) {\r\n                writer.WriteString(name);\r\n                writer.WriteString(eventData.properties[name].value);\r\n            });\r\n        }\r\n        // Pii\r\n        if (piiProps.length) {\r\n            writer.WriteFieldBegin(Bond.BondDataType.BT_MAP, 30);\r\n            writer.WriteMapContainerBegin(piiProps.length, Bond.BondDataType.BT_STRING, Bond.BondDataType.BT_STRUCT);\r\n            piiProps.forEach(function (name) {\r\n                writer.WriteString(name);\r\n                // PII Data\r\n                // O365 scrubber type\r\n                writer.WriteFieldBegin(Bond.BondDataType.BT_INT32, 1);\r\n                writer.WriteInt32(1);\r\n                // PII Kind\r\n                writer.WriteFieldBegin(Bond.BondDataType.BT_INT32, 2);\r\n                writer.WriteInt32(eventData.properties[name].pii);\r\n                // Value\r\n                writer.WriteFieldBegin(Bond.BondDataType.BT_STRING, 3);\r\n                writer.WriteString(eventData.properties[name].value);\r\n                writer.WriteStructEnd(false);\r\n            });\r\n        }\r\n        writer.WriteStructEnd(false);\r\n        return stream.GetBuffer();\r\n    };\r\n    AWTBondSerializer.base64Encode = function (data) {\r\n        return Bond.Encoding.Base64.GetString(data);\r\n    };\r\n    return AWTBondSerializer;\r\n}());\r\nexports.default = AWTBondSerializer;\r\n\r\n\r\n/***/ }),\r\n/* 3 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n"use strict";\r\n\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\n/**\r\n* Utils.ts\r\n* Author: Brent Erickson (brericks) and Abhilash Panwar (abpanwar)\r\n* Copyright: Microsoft 2016\r\n* Common functions used in the SDK.\r\n*/\r\nvar microsoft_bond_primitives_1 = __webpack_require__(0);\r\nvar GuidRegex = /[xy]/g;\r\nfunction numberToBondInt64(value) {\r\n    // Construct bond timestamp for aria\r\n    var bond_value = new microsoft_bond_primitives_1.Int64(\'0\');\r\n    bond_value.low = value & 0xffffffff;\r\n    bond_value.high = Math.floor(value / 0x100000000);\r\n    return bond_value;\r\n}\r\nexports.numberToBondInt64 = numberToBondInt64;\r\nfunction newGuid() {\r\n    return \'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\'.replace(GuidRegex, function (c) {\r\n        var r = (Math.random() * 16 | 0), v = (c === \'x\' ? r : r & 0x3 | 0x8);\r\n        return v.toString(16);\r\n    });\r\n}\r\nexports.newGuid = newGuid;\r\nfunction isPii(value) {\r\n    if (!isNaN(value) && value !== null && value >= 0 && value <= 13) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nexports.isPii = isPii;\r\n\r\n\r\n/***/ }),\r\n/* 4 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n"use strict";\r\n\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\n/**\r\n* Version.ts\r\n* Author: Abhilash Panwar (abpanwar)\r\n* Copyright: Microsoft 2016\r\n* Class for SDK version.\r\n*/\r\nexports.Version = \'1.2.2\';\r\nexports.FullVersionString = \'AWT-Web-CJS-\' + exports.Version;\r\n\r\n\r\n/***/ }),\r\n/* 5 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n"use strict";\r\n\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\n/**\r\n* AriaSDK.ts\r\n* Author: Abhilash Panwar (abpanwar)\r\n* Copyright: Microsoft 2016\r\n*/\r\nvar Enums_1 = __webpack_require__(1);\r\nexports.AWTPiiKind = Enums_1.AWTPiiKind;\r\nvar AWT_1 = __webpack_require__(13);\r\nexports.AWT = AWT_1.default;\r\nexports.AWT_COLLECTOR_URL_UNITED_STATES = \'https://us.pipe.aria.microsoft.com/Collector/3.0/\';\r\nexports.AWT_COLLECTOR_URL_GERMANY = \'https://de.pipe.aria.microsoft.com/Collector/3.0/\';\r\nexports.AWT_COLLECTOR_URL_JAPAN = \'https://jp.pipe.aria.microsoft.com/Collector/3.0/\';\r\nexports.AWT_COLLECTOR_URL_AUSTRALIA = \'https://au.pipe.aria.microsoft.com/Collector/3.0/\';\r\nexports.AWT_COLLECTOR_URL_EUROPE = \'https://eu.pipe.aria.microsoft.com/Collector/3.0/\';\r\n\r\n\r\n/***/ }),\r\n/* 6 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n"use strict";\r\n\r\n/**\r\n* bond_const.ts\r\n* Copyright: Microsoft 2016\r\n*/\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\n//------------------------------------------------------------------------------\r\n// <auto-generated>\r\n//     This code was generated by a tool.\r\n//\r\n//     Tool     : bondc, Version=3.0.1, Build=bond-git.debug.not\r\n//     Template : Microsoft.Bond.Rules.dll#TypeScript.tt\r\n//     File     : bond_const.ts\r\n//\r\n//     Changes to this file may cause incorrect behavior and will be lost when\r\n//     the code is regenerated.\r\n// </auto-generated>\r\n//------------------------------------------------------------------------------\r\nvar BondDataType;\r\n(function (BondDataType) {\r\n    BondDataType[BondDataType["BT_STOP"] = 0] = "BT_STOP";\r\n    BondDataType[BondDataType["BT_STOP_BASE"] = 1] = "BT_STOP_BASE";\r\n    BondDataType[BondDataType["BT_UINT8"] = 3] = "BT_UINT8";\r\n    BondDataType[BondDataType["BT_UINT32"] = 5] = "BT_UINT32";\r\n    BondDataType[BondDataType["BT_UINT64"] = 6] = "BT_UINT64";\r\n    BondDataType[BondDataType["BT_STRING"] = 9] = "BT_STRING";\r\n    BondDataType[BondDataType["BT_STRUCT"] = 10] = "BT_STRUCT";\r\n    BondDataType[BondDataType["BT_LIST"] = 11] = "BT_LIST";\r\n    BondDataType[BondDataType["BT_MAP"] = 13] = "BT_MAP";\r\n    BondDataType[BondDataType["BT_INT32"] = 16] = "BT_INT32";\r\n    BondDataType[BondDataType["BT_INT64"] = 17] = "BT_INT64";\r\n    BondDataType[BondDataType["BT_UNAVAILABLE"] = 127] = "BT_UNAVAILABLE";\r\n})(BondDataType = exports.BondDataType || (exports.BondDataType = {}));\r\n\r\n\r\n/***/ }),\r\n/* 7 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n"use strict";\r\n\r\n/**\r\n* microsoft.bond.encoding.ts\r\n* Copyright: Microsoft 2016\r\n*/\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nvar microsoft_bond_primitives_1 = __webpack_require__(0);\r\nvar Utf8 = /** @class */ (function () {\r\n    function Utf8() {\r\n    }\r\n    Utf8.GetBytes = function (value) {\r\n        var array = [];\r\n        for (var i = 0; i < value.length; ++i) {\r\n            var char = value.charCodeAt(i);\r\n            if (char < 0x80) {\r\n                array.push(char);\r\n            }\r\n            else if (char < 0x800) {\r\n                array.push(0xc0 | (char >> 6), 0x80 | (char & 0x3f));\r\n            }\r\n            else if (char < 0xd800 || char >= 0xe000) {\r\n                array.push(0xe0 | (char >> 12), 0x80 | ((char >> 6) & 0x3f), 0x80 | (char & 0x3f));\r\n            }\r\n            else {\r\n                char = 0x10000 + (((char & 0x3ff) << 10) | (value.charCodeAt(++i) & 0x3ff));\r\n                array.push(0xf0 | (char >> 18), 0x80 | ((char >> 12) & 0x3f), 0x80 | ((char >> 6) & 0x3f), 0x80 | (char & 0x3f));\r\n            }\r\n        }\r\n        return array;\r\n    };\r\n    return Utf8;\r\n}());\r\nexports.Utf8 = Utf8;\r\nvar Base64 = /** @class */ (function () {\r\n    function Base64() {\r\n    }\r\n    Base64.GetString = function (inArray) {\r\n        var lookup = \'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\';\r\n        var output = [];\r\n        var paddingBytes = inArray.length % 3;\r\n        var toBase64 = function (num) {\r\n            return [lookup.charAt((num >> 18) & 0x3F),\r\n                lookup.charAt((num >> 12) & 0x3F),\r\n                lookup.charAt((num >> 6) & 0x3F),\r\n                lookup.charAt(num & 0x3F)].join(\'\');\r\n        };\r\n        for (var i = 0, length_1 = inArray.length - paddingBytes; i < length_1; i += 3) {\r\n            var temp = (inArray[i] << 16) + (inArray[i + 1] << 8) + (inArray[i + 2]);\r\n            output.push(toBase64(temp));\r\n        }\r\n        switch (paddingBytes) {\r\n            case 1:\r\n                var temp = inArray[inArray.length - 1];\r\n                output.push(lookup.charAt(temp >> 2));\r\n                output.push(lookup.charAt((temp << 4) & 0x3F));\r\n                output.push(\'==\');\r\n                break;\r\n            case 2:\r\n                var temp2 = (inArray[inArray.length - 2] << 8) + (inArray[inArray.length - 1]);\r\n                output.push(lookup.charAt(temp2 >> 10));\r\n                output.push(lookup.charAt((temp2 >> 4) & 0x3F));\r\n                output.push(lookup.charAt((temp2 << 2) & 0x3F));\r\n                output.push(\'=\');\r\n                break;\r\n        }\r\n        return output.join(\'\');\r\n    };\r\n    return Base64;\r\n}());\r\nexports.Base64 = Base64;\r\nvar Varint = /** @class */ (function () {\r\n    function Varint() {\r\n    }\r\n    Varint.GetBytes = function (value) {\r\n        var array = [];\r\n        while (value & 0xffffff80) {\r\n            array.push((value & 0x7f) | 0x80);\r\n            value >>>= 7;\r\n        }\r\n        array.push(value & 0x7f);\r\n        return array;\r\n    };\r\n    return Varint;\r\n}());\r\nexports.Varint = Varint;\r\nvar Varint64 = /** @class */ (function () {\r\n    function Varint64() {\r\n    }\r\n    Varint64.GetBytes = function (value) {\r\n        var low = value.low;\r\n        var high = value.high;\r\n        var array = [];\r\n        while (high || (0xffffff80 & low)) {\r\n            array.push((low & 0x7f) | 0x80);\r\n            low = ((high & 0x7f) << 25) | (low >>> 7);\r\n            high >>>= 7;\r\n        }\r\n        array.push(low & 0x7f);\r\n        return array;\r\n    };\r\n    return Varint64;\r\n}());\r\nexports.Varint64 = Varint64;\r\nvar Zigzag = /** @class */ (function () {\r\n    function Zigzag() {\r\n    }\r\n    Zigzag.EncodeZigzag32 = function (value) {\r\n        value = microsoft_bond_primitives_1.Number.ToInt32(value);\r\n        return ((value << 1) ^ (value >> (4 /*sizeof(int)*/ * 8 - 1)));\r\n    };\r\n    Zigzag.EncodeZigzag64 = function (value) {\r\n        var low = value.low;\r\n        var high = value.high;\r\n        var tmpH = (high << 1) | (low >>> 31);\r\n        var tmpL = low << 1;\r\n        if (high & 0x80000000) {\r\n            tmpH = ~tmpH;\r\n            tmpL = ~tmpL;\r\n        }\r\n        var res = new microsoft_bond_primitives_1.UInt64(\'0\');\r\n        res.low = tmpL;\r\n        res.high = tmpH;\r\n        return res;\r\n    };\r\n    return Zigzag;\r\n}());\r\nexports.Zigzag = Zigzag;\r\n\r\n\r\n/***/ }),\r\n/* 8 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n"use strict";\r\n\r\n/**\r\n* microsoft.bond.io.ts\r\n* Copyright: Microsoft 2016\r\n*/\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nvar microsoft_bond_primitives_1 = __webpack_require__(0);\r\nvar MemoryStream = /** @class */ (function () {\r\n    function MemoryStream() {\r\n        this._buffer = [];\r\n    }\r\n    /*override*/\r\n    MemoryStream.prototype.WriteByte = function (byte) {\r\n        this._buffer.push(microsoft_bond_primitives_1.Number.ToByte(byte));\r\n    };\r\n    /*override*/\r\n    MemoryStream.prototype.Write = function (buffer, offset, count) {\r\n        while (count--) {\r\n            this.WriteByte(buffer[offset++]);\r\n        }\r\n    };\r\n    /**\r\n     * Returns the array of unsigned bytes from which this stream was created.\r\n     */\r\n    MemoryStream.prototype.GetBuffer = function () {\r\n        return this._buffer;\r\n    };\r\n    return MemoryStream;\r\n}());\r\nexports.MemoryStream = MemoryStream;\r\n\r\n\r\n/***/ }),\r\n/* 9 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n"use strict";\r\n\r\n/**\r\n* microsoft.bond.ts\r\n* Copyright: Microsoft 2016\r\n*/\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nvar bond_const_1 = __webpack_require__(6);\r\nexports.BondDataType = bond_const_1.BondDataType;\r\nvar Encoding = __webpack_require__(7);\r\nexports.Encoding = Encoding;\r\nvar IO = __webpack_require__(8);\r\nexports.IO = IO;\r\nvar microsoft_bond_primitives_1 = __webpack_require__(0);\r\nexports.Int64 = microsoft_bond_primitives_1.Int64;\r\nexports.UInt64 = microsoft_bond_primitives_1.UInt64;\r\nexports.Number = microsoft_bond_primitives_1.Number;\r\nvar CompactBinaryProtocolWriter = /** @class */ (function () {\r\n    function CompactBinaryProtocolWriter(stream) {\r\n        this._stream = stream;\r\n    }\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteBlob = function (blob) {\r\n        this._stream.Write(blob, 0, blob.length);\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteContainerBegin = function (size, elementType) {\r\n        this.WriteUInt8(elementType);\r\n        this.WriteUInt32(size);\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteMapContainerBegin = function (size, keyType, valueType) {\r\n        this.WriteUInt8(keyType);\r\n        this.WriteUInt8(valueType);\r\n        this.WriteUInt32(size);\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteFieldBegin = function (type, id) {\r\n        if (id <= 5) {\r\n            this._stream.WriteByte(type | (id << 5));\r\n        }\r\n        else if (id <= 0xff) {\r\n            this._stream.WriteByte(type | (6 << 5));\r\n            this._stream.WriteByte(id);\r\n        }\r\n        else {\r\n            this._stream.WriteByte(type | (7 << 5));\r\n            this._stream.WriteByte(id);\r\n            this._stream.WriteByte(id >> 8);\r\n        }\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteInt32 = function (value) {\r\n        value = Encoding.Zigzag.EncodeZigzag32(value);\r\n        this.WriteUInt32(value);\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteInt64 = function (value) {\r\n        this.WriteUInt64(Encoding.Zigzag.EncodeZigzag64(value));\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteString = function (value) {\r\n        if (value === \'\') {\r\n            this.WriteUInt32(0 /*length*/);\r\n        }\r\n        else {\r\n            var array = Encoding.Utf8.GetBytes(value);\r\n            this.WriteUInt32(array.length);\r\n            this._stream.Write(array, 0, array.length);\r\n        }\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteStructEnd = function (isBase) {\r\n        this.WriteUInt8(isBase ? bond_const_1.BondDataType.BT_STOP_BASE : bond_const_1.BondDataType.BT_STOP);\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteUInt32 = function (value) {\r\n        var array = Encoding.Varint.GetBytes(microsoft_bond_primitives_1.Number.ToUInt32(value));\r\n        this._stream.Write(array, 0, array.length);\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteUInt64 = function (value) {\r\n        var array = Encoding.Varint64.GetBytes(value);\r\n        this._stream.Write(array, 0, array.length);\r\n    };\r\n    /*override*/\r\n    CompactBinaryProtocolWriter.prototype.WriteUInt8 = function (value) {\r\n        this._stream.WriteByte(microsoft_bond_primitives_1.Number.ToUInt8(value));\r\n    };\r\n    return CompactBinaryProtocolWriter;\r\n}());\r\nexports.CompactBinaryProtocolWriter = CompactBinaryProtocolWriter;\r\n\r\n\r\n/***/ }),\r\n/* 10 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n"use strict";\r\n\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nvar SecToMsMultiplier = 1000;\r\nvar AWTKillSwitch = /** @class */ (function () {\r\n    function AWTKillSwitch() {\r\n        this._killedTokenDictionary = {};\r\n    }\r\n    AWTKillSwitch.prototype.setKillSwitchTenants = function (killTokens, killDuration) {\r\n        var _this = this;\r\n        if (killTokens && killDuration) {\r\n            try {\r\n                var killedTokens = killTokens.split(\',\');\r\n                if (killDuration === \'this-request-only\') {\r\n                    return killedTokens;\r\n                }\r\n                var durationMs_1 = parseInt(killDuration, 10) * SecToMsMultiplier;\r\n                killedTokens.forEach(function (token) {\r\n                    _this._killedTokenDictionary[token] = Date.now() + durationMs_1;\r\n                });\r\n            }\r\n            catch (ex) {\r\n                return [];\r\n            }\r\n        }\r\n        return [];\r\n    };\r\n    AWTKillSwitch.prototype.isTenantKilled = function (tenantToken) {\r\n        if (this._killedTokenDictionary[tenantToken] !== undefined && this._killedTokenDictionary[tenantToken] > Date.now()) {\r\n            return true;\r\n        }\r\n        delete this._killedTokenDictionary[tenantToken];\r\n        return false;\r\n    };\r\n    return AWTKillSwitch;\r\n}());\r\nexports.default = AWTKillSwitch;\r\n\r\n\r\n/***/ }),\r\n/* 11 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n"use strict";\r\n\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nvar AWTBondSerializer_1 = __webpack_require__(2);\r\nvar AWTRecordBatcher = /** @class */ (function () {\r\n    function AWTRecordBatcher(_maxRequestSize, _outboundQueue) {\r\n        this._maxRequestSize = _maxRequestSize;\r\n        this._outboundQueue = _outboundQueue;\r\n        this._currentBatch = {};\r\n        this._currentBatchSize = 0;\r\n    }\r\n    AWTRecordBatcher.prototype.addEventToBatch = function (event) {\r\n        var serializedEvent = AWTBondSerializer_1.default.getEventBlob(event);\r\n        if (serializedEvent.length > this._maxRequestSize) {\r\n            //single event too big\r\n            return;\r\n        }\r\n        if (this._currentBatchSize + serializedEvent.length > this._maxRequestSize) {\r\n            this.flushBatch();\r\n        }\r\n        else {\r\n            if (this._currentBatch[event.tenantToken] === undefined) {\r\n                this._currentBatch[event.tenantToken] = [];\r\n            }\r\n            this._currentBatch[event.tenantToken].push(serializedEvent);\r\n            this._currentBatchSize += serializedEvent.length;\r\n        }\r\n    };\r\n    AWTRecordBatcher.prototype.flushBatch = function () {\r\n        if (this._currentBatchSize > 0) {\r\n            this._outboundQueue.push(this._currentBatch);\r\n            this._currentBatch = {};\r\n            this._currentBatchSize = 0;\r\n        }\r\n    };\r\n    return AWTRecordBatcher;\r\n}());\r\nexports.default = AWTRecordBatcher;\r\n\r\n\r\n/***/ }),\r\n/* 12 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n"use strict";\r\n\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\n/**\r\n* AWTRetryPolicy.ts\r\n* Author: Abhilash Panwar (abpanwar)\r\n* Copyright: Microsoft 2016\r\n* Class for retry policy.\r\n*/\r\nvar RandomizationLowerThreshold = 0.8;\r\nvar RandomizationUpperThreshold = 1.2;\r\nvar BaseBackoff = 3000;\r\nvar MaxBackoff = 120000;\r\nvar AWTRetryPolicy = /** @class */ (function () {\r\n    function AWTRetryPolicy() {\r\n    }\r\n    AWTRetryPolicy.shouldRetryForStatus = function (httpStatusCode) {\r\n        /* The below expression reads that we should only retry for:\r\n            - HttpStatusCodes that are smaller than 300.\r\n            - HttpStatusCodes greater or equal to 500 (except for 501-NotImplement\r\n              and 505-HttpVersionNotSupport).\r\n            - HttpStatusCode 408-RequestTimeout.\r\n           This is based on Microsoft.WindowsAzure.Storage.RetryPolicies.ExponentialRetry class */\r\n        return !((httpStatusCode >= 300 && httpStatusCode < 500 && httpStatusCode !== 408)\r\n            || (httpStatusCode === 501)\r\n            || (httpStatusCode === 505));\r\n    };\r\n    AWTRetryPolicy.getMillisToBackoffForRetry = function (retriesSoFar) {\r\n        var waitDuration = 0;\r\n        var minBackoff = BaseBackoff * RandomizationLowerThreshold;\r\n        var maxBackoff = BaseBackoff * RandomizationUpperThreshold;\r\n        var randomBackoff = Math.floor(Math.random() * (maxBackoff - minBackoff)) + minBackoff;\r\n        waitDuration = Math.pow(4, retriesSoFar) * randomBackoff;\r\n        return Math.min(waitDuration, MaxBackoff);\r\n    };\r\n    return AWTRetryPolicy;\r\n}());\r\nexports.default = AWTRetryPolicy;\r\n\r\n\r\n/***/ }),\r\n/* 13 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n"use strict";\r\n\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nvar Enums_1 = __webpack_require__(1);\r\nvar AWTTransmissionManager_1 = __webpack_require__(14);\r\nvar Utils = __webpack_require__(3);\r\nvar Version = __webpack_require__(4);\r\nvar AllTokens = \'allTkns\';\r\nvar EventNameAndTypeRegex = /^[a-zA-Z0-9]([a-zA-Z0-9]|_){2,98}[a-zA-Z0-9]$/;\r\nvar EventNameDotRegex = /\\./g;\r\nvar PropertyNameRegex = /^[a-zA-Z0-9](([a-zA-Z0-9|_|\\.]){0,98}[a-zA-Z0-9])?$/;\r\nvar AWT = /** @class */ (function () {\r\n    function AWT() {\r\n    }\r\n    AWT.initialize = function (tenantToken, configuration) {\r\n        if (configuration === void 0) { configuration = {}; }\r\n        if (this._isInitialized) {\r\n            // tslint:disable-next-line\r\n            throw \'Already Initialized\';\r\n        }\r\n        this._defaultTenantToken = tenantToken;\r\n        this._overrideValuesFromConfig(configuration);\r\n        //Create sender\r\n        AWTTransmissionManager_1.default.initialize(this._config);\r\n        this._isInitialized = true;\r\n    };\r\n    AWT.flush = function (callback) {\r\n        if (this._isInitialized && !this._isDestroyed) {\r\n            AWTTransmissionManager_1.default.flush(callback);\r\n        }\r\n    };\r\n    AWT.flushAndTeardown = function () {\r\n        if (this._isInitialized && !this._isDestroyed) {\r\n            this._isDestroyed = true;\r\n            AWTTransmissionManager_1.default.flushAndTeardown();\r\n        }\r\n    };\r\n    AWT.setContext = function (name, property, tenantToken) {\r\n        if (tenantToken === void 0) { tenantToken = AllTokens; }\r\n        property = this._sanitizeProperty(name, property);\r\n        if (property === null) {\r\n            return;\r\n        }\r\n        if (!this._contextProperties[tenantToken]) {\r\n            this._contextProperties[tenantToken] = {};\r\n        }\r\n        this._contextProperties[tenantToken][name] = property;\r\n    };\r\n    AWT.logEvent = function (event) {\r\n        var _this = this;\r\n        if (this._isInitialized) {\r\n            if (!event.name || !event.properties) {\r\n                return;\r\n            }\r\n            event.name = event.name.toLowerCase();\r\n            event.name.replace(EventNameDotRegex, \'_\');\r\n            var typePrefix = \'\';\r\n            if (!event.type) {\r\n                event.type = \'custom\';\r\n            }\r\n            else {\r\n                event.type.toLowerCase();\r\n                typePrefix = \'custom.\';\r\n            }\r\n            if (!EventNameAndTypeRegex.test(event.name) || !EventNameAndTypeRegex.test(event.type)) {\r\n                return;\r\n            }\r\n            event.type = typePrefix + event.type;\r\n            if (isNaN(event.timestamp)) {\r\n                event.timestamp = (new Date()).getTime();\r\n            }\r\n            if (!event.tenantToken) {\r\n                event.tenantToken = this._defaultTenantToken;\r\n            }\r\n            event.id = Utils.newGuid();\r\n            Object.keys(event.properties).forEach(function (name) {\r\n                event.properties[name] = _this._sanitizeProperty(name, event.properties[name]);\r\n                if (event.properties[name] === null) {\r\n                    delete event.properties[name];\r\n                }\r\n            });\r\n            this._addContextIfAbsent(event, event.tenantToken);\r\n            this._addContextIfAbsent(event, AllTokens);\r\n            if (Object.keys(event.properties).length === 0) {\r\n                return;\r\n            }\r\n            this._setDefaultProperty(event, \'EventInfo.InitId\', this._getInitId(event.tenantToken));\r\n            this._setDefaultProperty(event, \'EventInfo.Sequence\', this._getSequenceId(event.tenantToken));\r\n            this._setDefaultProperty(event, \'EventInfo.SdkVersion\', Version.FullVersionString);\r\n            this._setDefaultProperty(event, \'EventInfo.Name\', event.name);\r\n            this._setDefaultProperty(event, \'EventInfo.Time\', (new Date(event.timestamp)).toISOString());\r\n            AWTTransmissionManager_1.default.sendEvent(event);\r\n        }\r\n    };\r\n    AWT._overrideValuesFromConfig = function (config) {\r\n        if (config.collectorUrl) {\r\n            this._config.collectorUrl = config.collectorUrl;\r\n        }\r\n        if (config.sendingTimer > 1000) {\r\n            this._config.sendingTimer = config.sendingTimer;\r\n        }\r\n    };\r\n    AWT._getInitId = function (tenantToken) {\r\n        if (this._initIdMap[tenantToken] === undefined) {\r\n            this._initIdMap[tenantToken] = Utils.newGuid();\r\n        }\r\n        return this._initIdMap[tenantToken];\r\n    };\r\n    AWT._getSequenceId = function (tenantToken) {\r\n        if (this._sequenceIdMap[tenantToken] === undefined) {\r\n            this._sequenceIdMap[tenantToken] = 0;\r\n        }\r\n        return (++this._sequenceIdMap[tenantToken]).toString();\r\n    };\r\n    AWT._setDefaultProperty = function (event, name, value) {\r\n        event.properties[name] = { value: value, pii: Enums_1.AWTPiiKind.NotSet };\r\n    };\r\n    AWT._addContextIfAbsent = function (event, tenantToken) {\r\n        if (this._contextProperties[tenantToken]) {\r\n            var context_1 = this._contextProperties[tenantToken];\r\n            Object.keys(context_1).forEach(function (name) {\r\n                if (!event.properties[name]) {\r\n                    event.properties[name] = context_1[name];\r\n                }\r\n            });\r\n        }\r\n    };\r\n    AWT._sanitizeProperty = function (name, property) {\r\n        if (typeof property === \'string\' || typeof property === \'number\' || typeof property === \'boolean\') {\r\n            property = { value: property };\r\n        }\r\n        if (!PropertyNameRegex.test(name) || property === undefined || property === null\r\n            || property.value === null || property.value === undefined || property.value === \'\') {\r\n            return null;\r\n        }\r\n        if (typeof property.pii === \'undefined\') {\r\n            property.pii = Enums_1.AWTPiiKind.NotSet;\r\n        }\r\n        property.value = property.value.toString();\r\n        return Utils.isPii(property.pii) ? property : null;\r\n    };\r\n    AWT._isInitialized = false;\r\n    AWT._isDestroyed = false;\r\n    AWT._contextProperties = {};\r\n    AWT._sequenceIdMap = {};\r\n    AWT._initIdMap = {};\r\n    AWT._config = {\r\n        collectorUrl: \'https://browser.pipe.aria.microsoft.com/Collector/3.0/\',\r\n        sendingTimer: 1000\r\n    };\r\n    return AWT;\r\n}());\r\nexports.default = AWT;\r\n\r\n\r\n/***/ }),\r\n/* 14 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n"use strict";\r\n\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nvar AWTRecordBatcher_1 = __webpack_require__(11);\r\nvar AWTBondSerializer_1 = __webpack_require__(2);\r\nvar AWTRetryPolicy_1 = __webpack_require__(12);\r\nvar AWTKillSwitch_1 = __webpack_require__(10);\r\nvar Version = __webpack_require__(4);\r\nvar FlushCheckTimer = 250;\r\nvar RequestSizeLimitBytes = 2936012; //approx 2.8 Mb\r\nvar MaxRetries = 4;\r\nvar AWTTransmissionManager = /** @class */ (function () {\r\n    function AWTTransmissionManager() {\r\n    }\r\n    AWTTransmissionManager.initialize = function (config) {\r\n        this._inboundQueues.push([]);\r\n        this._recordBatcher = new AWTRecordBatcher_1.default(RequestSizeLimitBytes, this._outboundQueue);\r\n        this._newEventsAllowed = true;\r\n        if (typeof Uint8Array === \'undefined\') {\r\n            this._urlString += \'&content-encoding=base64\';\r\n        }\r\n        this._sendingTimer = config.sendingTimer;\r\n        this._urlString = config.collectorUrl + this._urlString + \'&x-apikey=\';\r\n    };\r\n    //Push the event into the inbound queue and return\r\n    AWTTransmissionManager.sendEvent = function (event) {\r\n        var _this = this;\r\n        if (this._newEventsAllowed) {\r\n            //Add event to the last inbound queue\r\n            this._inboundQueues[this._inboundQueues.length - 1].push(event);\r\n            if (!this._running && this._timeout < 0 && !this._isCurrentlyFlushing) {\r\n                this._timeout = setTimeout(function () { return _this._batchAndSendEvents(false); }, this._sendingTimer);\r\n            }\r\n        }\r\n    };\r\n    AWTTransmissionManager.flushAndTeardown = function () {\r\n        this._newEventsAllowed = false;\r\n        this._batchAndSendEvents(true);\r\n    };\r\n    AWTTransmissionManager.flush = function (callback) {\r\n        this._inboundQueues.push([]);\r\n        if (!this._isCurrentlyFlushing) {\r\n            this._isCurrentlyFlushing = true;\r\n            this._flush(callback);\r\n        }\r\n        else {\r\n            this._flushQueue.push(callback);\r\n        }\r\n    };\r\n    AWTTransmissionManager._batchAndSendEvents = function (isTeardown) {\r\n        this._running = true;\r\n        while (this._inboundQueues[0].length > 0 && this._outboundQueue.length < 1) {\r\n            this._recordBatcher.addEventToBatch(this._inboundQueues[0].pop());\r\n        }\r\n        if (this._outboundQueue.length === 0) {\r\n            this._recordBatcher.flushBatch();\r\n        }\r\n        this._sendRequest(this._outboundQueue.pop(), 0, isTeardown);\r\n    };\r\n    AWTTransmissionManager._retryRequestIfNeeded = function (conn, request, tokenCount, apikey, retryCount) {\r\n        var _this = this;\r\n        var shouldRetry = true;\r\n        if (conn && typeof conn.status !== \'undefined\') {\r\n            var killedTokens = this._killSwitch.setKillSwitchTenants(conn.getResponseHeader(\'kill-tokens\'), conn.getResponseHeader(\'kill-duration-seconds\'));\r\n            killedTokens.forEach(function (key) {\r\n                delete request[key];\r\n                tokenCount--;\r\n            });\r\n            if (!AWTRetryPolicy_1.default.shouldRetryForStatus(conn.status) || tokenCount <= 0) {\r\n                shouldRetry = false;\r\n            }\r\n        }\r\n        if (shouldRetry && retryCount < MaxRetries) {\r\n            setTimeout(function () { return _this._sendRequest(request, retryCount + 1, false); }, AWTRetryPolicy_1.default.getMillisToBackoffForRetry(retryCount));\r\n        }\r\n        else {\r\n            this._handleRequestFinished(null);\r\n        }\r\n    };\r\n    AWTTransmissionManager._sendRequest = function (request, retryCount, isTeardown) {\r\n        var _this = this;\r\n        try {\r\n            var conn_1 = new XMLHttpRequest();\r\n            var tokenCount_1 = 0;\r\n            var apikey_1 = \'\';\r\n            Object.keys(request).forEach(function (token) {\r\n                if (!_this._killSwitch.isTenantKilled(token)) {\r\n                    if (apikey_1.length > 0) {\r\n                        apikey_1 += \',\';\r\n                    }\r\n                    apikey_1 += token;\r\n                    tokenCount_1++;\r\n                }\r\n                else {\r\n                    delete request[token];\r\n                }\r\n            });\r\n            conn_1.open(\'POST\', this._urlString + apikey_1, !isTeardown);\r\n            if (!isTeardown) {\r\n                conn_1.ontimeout = function () {\r\n                    _this._retryRequestIfNeeded(conn_1, request, tokenCount_1, apikey_1, retryCount);\r\n                };\r\n                conn_1.onerror = function () {\r\n                    _this._retryRequestIfNeeded(conn_1, request, tokenCount_1, apikey_1, retryCount);\r\n                };\r\n                conn_1.onload = function () {\r\n                    _this._handleRequestFinished(conn_1);\r\n                };\r\n            }\r\n            if (tokenCount_1 > 0) {\r\n                var blob = AWTBondSerializer_1.default.getPayloadBlob(request, tokenCount_1);\r\n                if (typeof Uint8Array === \'undefined\') {\r\n                    conn_1.send(AWTBondSerializer_1.default.base64Encode(blob));\r\n                }\r\n                else {\r\n                    conn_1.send(new Uint8Array(blob));\r\n                }\r\n            }\r\n            else if (isTeardown) {\r\n                this._handleRequestFinished(null);\r\n            }\r\n        }\r\n        catch (e) {\r\n            this._handleRequestFinished(null);\r\n        }\r\n    };\r\n    AWTTransmissionManager._handleRequestFinished = function (conn) {\r\n        var _this = this;\r\n        if (conn) {\r\n            this._killSwitch.setKillSwitchTenants(conn.getResponseHeader(\'kill-tokens\'), conn.getResponseHeader(\'kill-duration-seconds\'));\r\n        }\r\n        if (this._inboundQueues[0].length > 0) {\r\n            this._timeout = setTimeout(function () { return _this._batchAndSendEvents(false); }, this._sendingTimer);\r\n        }\r\n        else {\r\n            this._timeout = -1;\r\n            this._running = false;\r\n        }\r\n    };\r\n    AWTTransmissionManager._flush = function (callback) {\r\n        var _this = this;\r\n        if (!this._running) {\r\n            if (this._timeout > -1) {\r\n                clearTimeout(this._timeout);\r\n                this._timeout = -1;\r\n            }\r\n            if (this._inboundQueues[0].length > 0) {\r\n                this._batchAndSendEvents(false);\r\n            }\r\n        }\r\n        this._checkPrimaryInboundQueueEmpty(function () {\r\n            //Move the next queue to be primary\r\n            _this._inboundQueues.shift();\r\n            if (callback !== null && callback !== undefined) {\r\n                callback();\r\n            }\r\n            if (_this._flushQueue.length > 0) {\r\n                setTimeout(function () { return _this._flush(_this._flushQueue.shift()); }, _this._sendingTimer);\r\n            }\r\n            else {\r\n                _this._isCurrentlyFlushing = false;\r\n                if (_this._inboundQueues[0].length > 0) {\r\n                    _this._timeout = setTimeout(function () { return _this._batchAndSendEvents(false); }, _this._sendingTimer);\r\n                }\r\n            }\r\n        });\r\n    };\r\n    AWTTransmissionManager._checkPrimaryInboundQueueEmpty = function (callback) {\r\n        var _this = this;\r\n        if (this._inboundQueues[0].length === 0) {\r\n            this._checkOutboundQueueEmptyAndSent(callback);\r\n        }\r\n        else {\r\n            setTimeout(function () { return _this._checkPrimaryInboundQueueEmpty(callback); }, FlushCheckTimer);\r\n        }\r\n    };\r\n    AWTTransmissionManager._checkOutboundQueueEmptyAndSent = function (callback) {\r\n        var _this = this;\r\n        if (!this._running) {\r\n            callback();\r\n        }\r\n        else {\r\n            setTimeout(function () { return _this._checkOutboundQueueEmptyAndSent(callback); }, FlushCheckTimer);\r\n        }\r\n    };\r\n    AWTTransmissionManager._outboundQueue = [];\r\n    AWTTransmissionManager._inboundQueues = [];\r\n    AWTTransmissionManager._newEventsAllowed = false;\r\n    AWTTransmissionManager._killSwitch = new AWTKillSwitch_1.default();\r\n    AWTTransmissionManager._isCurrentlyFlushing = false;\r\n    AWTTransmissionManager._flushQueue = [];\r\n    AWTTransmissionManager._running = false;\r\n    AWTTransmissionManager._timeout = -1;\r\n    AWTTransmissionManager._urlString = \'?qsp=true&content-type=application%2Fbond-compact-binary&client-id=NO_AUTH&sdk-version=\'\r\n        + Version.FullVersionString;\r\n    return AWTTransmissionManager;\r\n}());\r\nexports.default = AWTTransmissionManager;\r\n\r\n\r\n/***/ }),\r\n/* 15 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\nmodule.exports = __webpack_require__(5);\r\n\r\n\r\n/***/ })\r\n/******/ ]);\r\n});\r\n//# sourceMappingURL=aria-webjs-compact-sdk-1.2.2.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC90aGlyZHBhcnR5L2FyaWEtd2VianMtY29tcGFjdC1zZGstMS4yLjIuanM/YzRhMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLElBQUksSUFBeUQ7QUFDN0Q7QUFDQSxNQUFNLGFBS0o7QUFDRixDQUFDO0FBQ0Qsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsY0FBYztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQywwQkFBMEIsRUFBRTtBQUMvRCx5Q0FBeUMsZUFBZTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELCtEQUErRDtBQUM3SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7OztBQUdBLE9BQU87QUFDUDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7OztBQUdBLE9BQU87QUFDUDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7O0FBR0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7O0FBRUEsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7QUFHQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTs7QUFFQSw4Q0FBOEMsY0FBYztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7OztBQUdBLE9BQU87QUFDUDtBQUNBOztBQUVBOztBQUVBLDhDQUE4QyxjQUFjO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7O0FBR0EsT0FB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QUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCx5Q0FBeUMsRUFBRTtBQUN4RztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHVEQUF1RCxFQUFFO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msd0RBQXdELEVBQUU7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7OztBQUdBLE9BQU87QUFDUDtBQUNBOztBQUVBOzs7QUFHQSxPQUFPO0FBQ1A7QUFDQSxDQUFDO0FBQ0QiLCJmaWxlIjoiLi9zY3JpcHRzL2FwcC90aGlyZHBhcnR5L2FyaWEtd2VianMtY29tcGFjdC1zZGstMS4yLjIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xyXG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JylcclxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xyXG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxyXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcclxuXHRlbHNlIHtcclxuXHRcdHZhciBhID0gZmFjdG9yeSgpO1xyXG5cdFx0Zm9yKHZhciBpIGluIGEpICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBleHBvcnRzIDogcm9vdClbaV0gPSBhW2ldO1xyXG5cdH1cclxufSkodGhpcywgZnVuY3Rpb24oKSB7XHJcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXHJcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxyXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XHJcbi8qKioqKiovXHJcbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cclxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XHJcbi8qKioqKiovXHJcbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcclxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XHJcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcclxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcclxuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXHJcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxyXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxyXG4vKioqKioqLyBcdFx0fTtcclxuLyoqKioqKi9cclxuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxyXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XHJcbi8qKioqKiovXHJcbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXHJcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XHJcbi8qKioqKiovXHJcbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxyXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xyXG4vKioqKioqLyBcdH1cclxuLyoqKioqKi9cclxuLyoqKioqKi9cclxuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxyXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XHJcbi8qKioqKiovXHJcbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcclxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xyXG4vKioqKioqL1xyXG4vKioqKioqLyBcdC8vIGlkZW50aXR5IGZ1bmN0aW9uIGZvciBjYWxsaW5nIGhhcm1vbnkgaW1wb3J0cyB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHRcclxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XHJcbi8qKioqKiovXHJcbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXHJcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XHJcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XHJcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XHJcbi8qKioqKiovIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcclxuLyoqKioqKi8gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG4vKioqKioqLyBcdFx0XHRcdGdldDogZ2V0dGVyXHJcbi8qKioqKiovIFx0XHRcdH0pO1xyXG4vKioqKioqLyBcdFx0fVxyXG4vKioqKioqLyBcdH07XHJcbi8qKioqKiovXHJcbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcclxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcclxuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xyXG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxyXG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xyXG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xyXG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcclxuLyoqKioqKi8gXHR9O1xyXG4vKioqKioqL1xyXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxyXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcclxuLyoqKioqKi9cclxuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xyXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XHJcbi8qKioqKiovXHJcbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXHJcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTUpO1xyXG4vKioqKioqLyB9KVxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4vKioqKioqLyAoW1xyXG4vKiAwICovXHJcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuXHJcblwidXNlIHN0cmljdFwiO1xyXG5cclxuLyoqXHJcbiogbWljcm9zb2Z0LmJvbmQucHJpbWl0aXZlcy50c1xyXG4qIENvcHlyaWdodDogTWljcm9zb2Z0IDIwMTZcclxuKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgSW50NjQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyBCVUchITogbmVlZCBpbXBsZW1lbnQsIGN1cnJlbnRseSwganVzdCBoYW5kbGUgMzJiaXRzIG51bWJlclxyXG4gICAgZnVuY3Rpb24gSW50NjQobnVtYmVyU3RyKSB7XHJcbiAgICAgICAgdGhpcy5sb3cgPSAwO1xyXG4gICAgICAgIHRoaXMuaGlnaCA9IDA7XHJcbiAgICAgICAgdGhpcy5sb3cgPSBwYXJzZUludChudW1iZXJTdHIsIDEwKTtcclxuICAgICAgICBpZiAodGhpcy5sb3cgPCAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGlnaCA9IC0xO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIEludDY0LnByb3RvdHlwZS5FcXVhbHMgPSBmdW5jdGlvbiAobnVtYmVyU3RyKSB7XHJcbiAgICAgICAgdmFyIHRtcCA9IG5ldyBJbnQ2NChudW1iZXJTdHIpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxvdyA9PT0gdG1wLmxvdyAmJiB0aGlzLmhpZ2ggPT09IHRtcC5oaWdoO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBJbnQ2NDtcclxufSgpKTtcclxuZXhwb3J0cy5JbnQ2NCA9IEludDY0O1xyXG52YXIgVUludDY0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gQlVHISE6IG5lZWQgaW1wbGVtZW50LCBjdXJyZW50bHksIGp1c3QgaGFuZGxlIDMyYml0cyBudW1iZXJcclxuICAgIGZ1bmN0aW9uIFVJbnQ2NChudW1iZXJTdHIpIHtcclxuICAgICAgICB0aGlzLmxvdyA9IDA7XHJcbiAgICAgICAgdGhpcy5oaWdoID0gMDtcclxuICAgICAgICB0aGlzLmxvdyA9IHBhcnNlSW50KG51bWJlclN0ciwgMTApO1xyXG4gICAgfVxyXG4gICAgVUludDY0LnByb3RvdHlwZS5FcXVhbHMgPSBmdW5jdGlvbiAobnVtYmVyU3RyKSB7XHJcbiAgICAgICAgdmFyIHRtcCA9IG5ldyBVSW50NjQobnVtYmVyU3RyKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5sb3cgPT09IHRtcC5sb3cgJiYgdGhpcy5oaWdoID09PSB0bXAuaGlnaDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVUludDY0O1xyXG59KCkpO1xyXG5leHBvcnRzLlVJbnQ2NCA9IFVJbnQ2NDtcclxudmFyIE51bWJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIE51bWJlcigpIHtcclxuICAgIH1cclxuICAgIE51bWJlci5Ub0J5dGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5Ub1VJbnQ4KHZhbHVlKTtcclxuICAgIH07XHJcbiAgICBOdW1iZXIuVG9JbnQxNiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHZhciBzaWduTWFzayA9ICh2YWx1ZSAmIDB4ODAwMCkgPDwgMTYgPj4gMTY7XHJcbiAgICAgICAgcmV0dXJuICh2YWx1ZSAmIDB4N2ZmZikgfCBzaWduTWFzaztcclxuICAgIH07XHJcbiAgICBOdW1iZXIuVG9JbnQzMiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHZhciBzaWduTWFzayA9ICh2YWx1ZSAmIDB4ODAwMDAwMDApO1xyXG4gICAgICAgIHJldHVybiAodmFsdWUgJiAweDdmZmZmZmZmKSB8IHNpZ25NYXNrO1xyXG4gICAgfTtcclxuICAgIE51bWJlci5Ub1VJbnQ4ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlICYgMHhmZjtcclxuICAgIH07XHJcbiAgICBOdW1iZXIuVG9VSW50MzIgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gdmFsdWUgJiAweGZmZmZmZmZmO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBOdW1iZXI7XHJcbn0oKSk7XHJcbmV4cG9ydHMuTnVtYmVyID0gTnVtYmVyO1xyXG5cclxuXHJcbi8qKiovIH0pLFxyXG4vKiAxICovXHJcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuXHJcblwidXNlIHN0cmljdFwiO1xyXG5cclxuLyoqXHJcbiogRW51bXMudHNcclxuKiBBdXRob3I6IEFiaGlsYXNoIFBhbndhciAoYWJwYW53YXIpXHJcbiogQ29weXJpZ2h0OiBNaWNyb3NvZnQgMjAxNlxyXG4qIENvbW1vbiBlbnVtIHZhbHVlcyB1c2VkIGluIHRoZSBTREsuXHJcbiovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIEFXVFBpaUtpbmQ7XHJcbihmdW5jdGlvbiAoQVdUUGlpS2luZCkge1xyXG4gICAgQVdUUGlpS2luZFtBV1RQaWlLaW5kW1wiTm90U2V0XCJdID0gMF0gPSBcIk5vdFNldFwiO1xyXG4gICAgQVdUUGlpS2luZFtBV1RQaWlLaW5kW1wiRGlzdGluZ3Vpc2hlZE5hbWVcIl0gPSAxXSA9IFwiRGlzdGluZ3Vpc2hlZE5hbWVcIjtcclxuICAgIEFXVFBpaUtpbmRbQVdUUGlpS2luZFtcIkdlbmVyaWNEYXRhXCJdID0gMl0gPSBcIkdlbmVyaWNEYXRhXCI7XHJcbiAgICBBV1RQaWlLaW5kW0FXVFBpaUtpbmRbXCJJUFY0QWRkcmVzc1wiXSA9IDNdID0gXCJJUFY0QWRkcmVzc1wiO1xyXG4gICAgQVdUUGlpS2luZFtBV1RQaWlLaW5kW1wiSVB2NkFkZHJlc3NcIl0gPSA0XSA9IFwiSVB2NkFkZHJlc3NcIjtcclxuICAgIEFXVFBpaUtpbmRbQVdUUGlpS2luZFtcIk1haWxTdWJqZWN0XCJdID0gNV0gPSBcIk1haWxTdWJqZWN0XCI7XHJcbiAgICBBV1RQaWlLaW5kW0FXVFBpaUtpbmRbXCJQaG9uZU51bWJlclwiXSA9IDZdID0gXCJQaG9uZU51bWJlclwiO1xyXG4gICAgQVdUUGlpS2luZFtBV1RQaWlLaW5kW1wiUXVlcnlTdHJpbmdcIl0gPSA3XSA9IFwiUXVlcnlTdHJpbmdcIjtcclxuICAgIEFXVFBpaUtpbmRbQVdUUGlpS2luZFtcIlNpcEFkZHJlc3NcIl0gPSA4XSA9IFwiU2lwQWRkcmVzc1wiO1xyXG4gICAgQVdUUGlpS2luZFtBV1RQaWlLaW5kW1wiU210cEFkZHJlc3NcIl0gPSA5XSA9IFwiU210cEFkZHJlc3NcIjtcclxuICAgIEFXVFBpaUtpbmRbQVdUUGlpS2luZFtcIklkZW50aXR5XCJdID0gMTBdID0gXCJJZGVudGl0eVwiO1xyXG4gICAgQVdUUGlpS2luZFtBV1RQaWlLaW5kW1wiVXJpXCJdID0gMTFdID0gXCJVcmlcIjtcclxuICAgIEFXVFBpaUtpbmRbQVdUUGlpS2luZFtcIkZxZG5cIl0gPSAxMl0gPSBcIkZxZG5cIjtcclxuICAgIC8vIFN1cHBvcnRzIHNjcnViYmluZyBvZiB0aGUgbGFzdCBvY3RldCBpbiBhIElQVjQgYWRkcmVzcy4gRS5nLiAxMC4xMjEuMjI3LjE0NyBiZWNvbWVzIDEwLjEyMS4yMjcuKlxyXG4gICAgQVdUUGlpS2luZFtBV1RQaWlLaW5kW1wiSVBWNEFkZHJlc3NMZWdhY3lcIl0gPSAxM10gPSBcIklQVjRBZGRyZXNzTGVnYWN5XCI7XHJcbn0pKEFXVFBpaUtpbmQgPSBleHBvcnRzLkFXVFBpaUtpbmQgfHwgKGV4cG9ydHMuQVdUUGlpS2luZCA9IHt9KSk7XHJcblxyXG5cclxuLyoqKi8gfSksXHJcbi8qIDIgKi9cclxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG5cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKipcclxuKiBBV1RCb25kU2VyaWFsaXplci50c1xyXG4qIEF1dGhvcjogQnJlbnQgRXJpY2tzb24gKGJyZXJpY2tzKSBhbmQgQWJoaWxhc2ggUGFud2FyIChhYnBhbndhcilcclxuKiBDb3B5cmlnaHQ6IE1pY3Jvc29mdCAyMDE2XHJcbiogQ2xhc3MgdG8gaGFuZGxlciBib25kIHNlcmlhbGl6YXRpb24uXHJcbiovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIEJvbmQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpO1xyXG52YXIgRW51bXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcbnZhciBVdGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XHJcbnZhciBBV1RCb25kU2VyaWFsaXplciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEFXVEJvbmRTZXJpYWxpemVyKCkge1xyXG4gICAgfVxyXG4gICAgQVdUQm9uZFNlcmlhbGl6ZXIuZ2V0UGF5bG9hZEJsb2IgPSBmdW5jdGlvbiAocmVxdWVzdERpY3Rpb25hcnksIHRva2VuQ291bnQpIHtcclxuICAgICAgICB2YXIgc3RyZWFtID0gbmV3IEJvbmQuSU8uTWVtb3J5U3RyZWFtKCk7XHJcbiAgICAgICAgdmFyIHdyaXRlciA9IG5ldyBCb25kLkNvbXBhY3RCaW5hcnlQcm90b2NvbFdyaXRlcihzdHJlYW0pO1xyXG4gICAgICAgIC8vIEJlZ2luIENsaWVudENvbGxlY3RvciByZXF1ZXN0XHJcbiAgICAgICAgLy9Xcml0ZSBUb2tlblRvRGF0YVBhY2thZ2VzTWFwXHJcbiAgICAgICAgd3JpdGVyLldyaXRlRmllbGRCZWdpbihCb25kLkJvbmREYXRhVHlwZS5CVF9NQVAsIDMpO1xyXG4gICAgICAgIHdyaXRlci5Xcml0ZU1hcENvbnRhaW5lckJlZ2luKHRva2VuQ291bnQsIEJvbmQuQm9uZERhdGFUeXBlLkJUX1NUUklORywgQm9uZC5Cb25kRGF0YVR5cGUuQlRfTElTVCk7XHJcbiAgICAgICAgT2JqZWN0LmtleXMocmVxdWVzdERpY3Rpb25hcnkpLmZvckVhY2goZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgICAgIC8vd3JpdGUgdG9rZW5cclxuICAgICAgICAgICAgd3JpdGVyLldyaXRlU3RyaW5nKHRva2VuKTtcclxuICAgICAgICAgICAgdmFyIGRhdGFQYWNrYWdlID0gcmVxdWVzdERpY3Rpb25hcnlbdG9rZW5dO1xyXG4gICAgICAgICAgICAvLyBXcml0ZSBsaXN0IG9mIERhdGFQYWNrYWdlc1xyXG4gICAgICAgICAgICB3cml0ZXIuV3JpdGVDb250YWluZXJCZWdpbigxLCBCb25kLkJvbmREYXRhVHlwZS5CVF9TVFJVQ1QpO1xyXG4gICAgICAgICAgICAvLyBTb3VyY2VcclxuICAgICAgICAgICAgd3JpdGVyLldyaXRlRmllbGRCZWdpbihCb25kLkJvbmREYXRhVHlwZS5CVF9TVFJJTkcsIDIpO1xyXG4gICAgICAgICAgICB3cml0ZXIuV3JpdGVTdHJpbmcoJ2FjdF9kZWZhdWx0X3NvdXJjZScpO1xyXG4gICAgICAgICAgICAvLyBEYXRhUGFja2FnZUlkXHJcbiAgICAgICAgICAgIHdyaXRlci5Xcml0ZUZpZWxkQmVnaW4oQm9uZC5Cb25kRGF0YVR5cGUuQlRfU1RSSU5HLCA1KTtcclxuICAgICAgICAgICAgd3JpdGVyLldyaXRlU3RyaW5nKFV0aWxzLm5ld0d1aWQoKSk7XHJcbiAgICAgICAgICAgIC8vIFRpbWVzdGFtcFxyXG4gICAgICAgICAgICB3cml0ZXIuV3JpdGVGaWVsZEJlZ2luKEJvbmQuQm9uZERhdGFUeXBlLkJUX0lOVDY0LCA2KTtcclxuICAgICAgICAgICAgd3JpdGVyLldyaXRlSW50NjQoVXRpbHMubnVtYmVyVG9Cb25kSW50NjQoRGF0ZS5ub3coKSkpO1xyXG4gICAgICAgICAgICAvLyBSZWNvcmRzXHJcbiAgICAgICAgICAgIHdyaXRlci5Xcml0ZUZpZWxkQmVnaW4oQm9uZC5Cb25kRGF0YVR5cGUuQlRfTElTVCwgOCk7XHJcbiAgICAgICAgICAgIHdyaXRlci5Xcml0ZUNvbnRhaW5lckJlZ2luKGRhdGFQYWNrYWdlLmxlbmd0aCwgQm9uZC5Cb25kRGF0YVR5cGUuQlRfU1RSVUNUKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhUGFja2FnZS5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgd3JpdGVyLldyaXRlQmxvYihkYXRhUGFja2FnZVtpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgd3JpdGVyLldyaXRlU3RydWN0RW5kKGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBFbmQgQ2xpZW50Q29sbGVjdG9yXHJcbiAgICAgICAgd3JpdGVyLldyaXRlU3RydWN0RW5kKGZhbHNlKTtcclxuICAgICAgICByZXR1cm4gc3RyZWFtLkdldEJ1ZmZlcigpO1xyXG4gICAgfTtcclxuICAgIC8vIEFzIHBlciBtYXBwaW5ncyBhdCBodHRwczovL3NreXBlLnZpc3VhbHN0dWRpby5jb20vU0NDL0YuUzRMLkZVTkRBTUVOVEFMUy9fZ2l0L2luZnJhc3RydWN0dXJlX2RhdGFfY2xpZW50dGVsZW1ldHJ5P1xyXG4gICAgLy8gcGF0aD0lMkZjbGllbnR0ZWxlbWV0cnklMkZzcmMlMkZib25kJTJGRGF0YVBhY2thZ2UuYm9uZCZ2ZXJzaW9uPUdCZGV2MiZfYT1jb250ZW50c1xyXG4gICAgLy8gUmVxdWlyZXMgdGhhdCB0aGUgdmFsdWVzIG9mIEFXVEV2ZW50RGF0YS5wcm9wZXJ0aWVzIG11c3QgYWxsIGJlIEFXVEV2ZW50UHJvcGVydHlcclxuICAgIEFXVEJvbmRTZXJpYWxpemVyLmdldEV2ZW50QmxvYiA9IGZ1bmN0aW9uIChldmVudERhdGEpIHtcclxuICAgICAgICB2YXIgc3RyZWFtID0gbmV3IEJvbmQuSU8uTWVtb3J5U3RyZWFtKCk7XHJcbiAgICAgICAgdmFyIHdyaXRlciA9IG5ldyBCb25kLkNvbXBhY3RCaW5hcnlQcm90b2NvbFdyaXRlcihzdHJlYW0pO1xyXG4gICAgICAgIC8vIElEXHJcbiAgICAgICAgd3JpdGVyLldyaXRlRmllbGRCZWdpbihCb25kLkJvbmREYXRhVHlwZS5CVF9TVFJJTkcsIDEpO1xyXG4gICAgICAgIHdyaXRlci5Xcml0ZVN0cmluZyhldmVudERhdGEuaWQpO1xyXG4gICAgICAgIC8vIFRpbWVzdGFtcFxyXG4gICAgICAgIHdyaXRlci5Xcml0ZUZpZWxkQmVnaW4oQm9uZC5Cb25kRGF0YVR5cGUuQlRfSU5UNjQsIDMpO1xyXG4gICAgICAgIHdyaXRlci5Xcml0ZUludDY0KFV0aWxzLm51bWJlclRvQm9uZEludDY0KGV2ZW50RGF0YS50aW1lc3RhbXApKTtcclxuICAgICAgICAvLyBUeXBlXHJcbiAgICAgICAgd3JpdGVyLldyaXRlRmllbGRCZWdpbihCb25kLkJvbmREYXRhVHlwZS5CVF9TVFJJTkcsIDUpO1xyXG4gICAgICAgIHdyaXRlci5Xcml0ZVN0cmluZyhldmVudERhdGEudHlwZSk7XHJcbiAgICAgICAgLy8gRXZlbnQgVHlwZVxyXG4gICAgICAgIHdyaXRlci5Xcml0ZUZpZWxkQmVnaW4oQm9uZC5Cb25kRGF0YVR5cGUuQlRfU1RSSU5HLCA2KTtcclxuICAgICAgICB3cml0ZXIuV3JpdGVTdHJpbmcoZXZlbnREYXRhLm5hbWUpO1xyXG4gICAgICAgIHZhciBwcm9wc1N0cmluZyA9IFtdO1xyXG4gICAgICAgIHZhciBwaWlQcm9wcyA9IFtdO1xyXG4gICAgICAgIC8vIEl0ZXJhdGUgYWNyb3NzIGV2ZW50IGRhdGEgcHJvcGVydGllcyBhbmQgc2VwYXJhdGUgYmFzZWQgb24gcGlpXHJcbiAgICAgICAgT2JqZWN0LmtleXMoZXZlbnREYXRhLnByb3BlcnRpZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSBldmVudERhdGEucHJvcGVydGllc1trZXldO1xyXG4gICAgICAgICAgICBpZiAocHJvcGVydHkucGlpID09PSBFbnVtc18xLkFXVFBpaUtpbmQuTm90U2V0KSB7XHJcbiAgICAgICAgICAgICAgICBwcm9wc1N0cmluZy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwaWlQcm9wcy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvL0V4dGVuc2lvbiBtYXBcclxuICAgICAgICBpZiAocHJvcHNTdHJpbmcubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHdyaXRlci5Xcml0ZUZpZWxkQmVnaW4oQm9uZC5Cb25kRGF0YVR5cGUuQlRfTUFQLCAxMyk7XHJcbiAgICAgICAgICAgIHdyaXRlci5Xcml0ZU1hcENvbnRhaW5lckJlZ2luKHByb3BzU3RyaW5nLmxlbmd0aCwgQm9uZC5Cb25kRGF0YVR5cGUuQlRfU1RSSU5HLCBCb25kLkJvbmREYXRhVHlwZS5CVF9TVFJJTkcpO1xyXG4gICAgICAgICAgICBwcm9wc1N0cmluZy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICB3cml0ZXIuV3JpdGVTdHJpbmcobmFtZSk7XHJcbiAgICAgICAgICAgICAgICB3cml0ZXIuV3JpdGVTdHJpbmcoZXZlbnREYXRhLnByb3BlcnRpZXNbbmFtZV0udmFsdWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUGlpXHJcbiAgICAgICAgaWYgKHBpaVByb3BzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB3cml0ZXIuV3JpdGVGaWVsZEJlZ2luKEJvbmQuQm9uZERhdGFUeXBlLkJUX01BUCwgMzApO1xyXG4gICAgICAgICAgICB3cml0ZXIuV3JpdGVNYXBDb250YWluZXJCZWdpbihwaWlQcm9wcy5sZW5ndGgsIEJvbmQuQm9uZERhdGFUeXBlLkJUX1NUUklORywgQm9uZC5Cb25kRGF0YVR5cGUuQlRfU1RSVUNUKTtcclxuICAgICAgICAgICAgcGlpUHJvcHMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgICAgICAgICAgICAgd3JpdGVyLldyaXRlU3RyaW5nKG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgLy8gUElJIERhdGFcclxuICAgICAgICAgICAgICAgIC8vIE8zNjUgc2NydWJiZXIgdHlwZVxyXG4gICAgICAgICAgICAgICAgd3JpdGVyLldyaXRlRmllbGRCZWdpbihCb25kLkJvbmREYXRhVHlwZS5CVF9JTlQzMiwgMSk7XHJcbiAgICAgICAgICAgICAgICB3cml0ZXIuV3JpdGVJbnQzMigxKTtcclxuICAgICAgICAgICAgICAgIC8vIFBJSSBLaW5kXHJcbiAgICAgICAgICAgICAgICB3cml0ZXIuV3JpdGVGaWVsZEJlZ2luKEJvbmQuQm9uZERhdGFUeXBlLkJUX0lOVDMyLCAyKTtcclxuICAgICAgICAgICAgICAgIHdyaXRlci5Xcml0ZUludDMyKGV2ZW50RGF0YS5wcm9wZXJ0aWVzW25hbWVdLnBpaSk7XHJcbiAgICAgICAgICAgICAgICAvLyBWYWx1ZVxyXG4gICAgICAgICAgICAgICAgd3JpdGVyLldyaXRlRmllbGRCZWdpbihCb25kLkJvbmREYXRhVHlwZS5CVF9TVFJJTkcsIDMpO1xyXG4gICAgICAgICAgICAgICAgd3JpdGVyLldyaXRlU3RyaW5nKGV2ZW50RGF0YS5wcm9wZXJ0aWVzW25hbWVdLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHdyaXRlci5Xcml0ZVN0cnVjdEVuZChmYWxzZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3cml0ZXIuV3JpdGVTdHJ1Y3RFbmQoZmFsc2UpO1xyXG4gICAgICAgIHJldHVybiBzdHJlYW0uR2V0QnVmZmVyKCk7XHJcbiAgICB9O1xyXG4gICAgQVdUQm9uZFNlcmlhbGl6ZXIuYmFzZTY0RW5jb2RlID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gQm9uZC5FbmNvZGluZy5CYXNlNjQuR2V0U3RyaW5nKGRhdGEpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBBV1RCb25kU2VyaWFsaXplcjtcclxufSgpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gQVdUQm9uZFNlcmlhbGl6ZXI7XHJcblxyXG5cclxuLyoqKi8gfSksXHJcbi8qIDMgKi9cclxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG5cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKlxyXG4qIFV0aWxzLnRzXHJcbiogQXV0aG9yOiBCcmVudCBFcmlja3NvbiAoYnJlcmlja3MpIGFuZCBBYmhpbGFzaCBQYW53YXIgKGFicGFud2FyKVxyXG4qIENvcHlyaWdodDogTWljcm9zb2Z0IDIwMTZcclxuKiBDb21tb24gZnVuY3Rpb25zIHVzZWQgaW4gdGhlIFNESy5cclxuKi9cclxudmFyIG1pY3Jvc29mdF9ib25kX3ByaW1pdGl2ZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBHdWlkUmVnZXggPSAvW3h5XS9nO1xyXG5mdW5jdGlvbiBudW1iZXJUb0JvbmRJbnQ2NCh2YWx1ZSkge1xyXG4gICAgLy8gQ29uc3RydWN0IGJvbmQgdGltZXN0YW1wIGZvciBhcmlhXHJcbiAgICB2YXIgYm9uZF92YWx1ZSA9IG5ldyBtaWNyb3NvZnRfYm9uZF9wcmltaXRpdmVzXzEuSW50NjQoJzAnKTtcclxuICAgIGJvbmRfdmFsdWUubG93ID0gdmFsdWUgJiAweGZmZmZmZmZmO1xyXG4gICAgYm9uZF92YWx1ZS5oaWdoID0gTWF0aC5mbG9vcih2YWx1ZSAvIDB4MTAwMDAwMDAwKTtcclxuICAgIHJldHVybiBib25kX3ZhbHVlO1xyXG59XHJcbmV4cG9ydHMubnVtYmVyVG9Cb25kSW50NjQgPSBudW1iZXJUb0JvbmRJbnQ2NDtcclxuZnVuY3Rpb24gbmV3R3VpZCgpIHtcclxuICAgIHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKEd1aWRSZWdleCwgZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICB2YXIgciA9IChNYXRoLnJhbmRvbSgpICogMTYgfCAwKSwgdiA9IChjID09PSAneCcgPyByIDogciAmIDB4MyB8IDB4OCk7XHJcbiAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xyXG4gICAgfSk7XHJcbn1cclxuZXhwb3J0cy5uZXdHdWlkID0gbmV3R3VpZDtcclxuZnVuY3Rpb24gaXNQaWkodmFsdWUpIHtcclxuICAgIGlmICghaXNOYU4odmFsdWUpICYmIHZhbHVlICE9PSBudWxsICYmIHZhbHVlID49IDAgJiYgdmFsdWUgPD0gMTMpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5leHBvcnRzLmlzUGlpID0gaXNQaWk7XHJcblxyXG5cclxuLyoqKi8gfSksXHJcbi8qIDQgKi9cclxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG5cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8qKlxyXG4qIFZlcnNpb24udHNcclxuKiBBdXRob3I6IEFiaGlsYXNoIFBhbndhciAoYWJwYW53YXIpXHJcbiogQ29weXJpZ2h0OiBNaWNyb3NvZnQgMjAxNlxyXG4qIENsYXNzIGZvciBTREsgdmVyc2lvbi5cclxuKi9cclxuZXhwb3J0cy5WZXJzaW9uID0gJzEuMi4yJztcclxuZXhwb3J0cy5GdWxsVmVyc2lvblN0cmluZyA9ICdBV1QtV2ViLUNKUy0nICsgZXhwb3J0cy5WZXJzaW9uO1xyXG5cclxuXHJcbi8qKiovIH0pLFxyXG4vKiA1ICovXHJcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuXHJcblwidXNlIHN0cmljdFwiO1xyXG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG4vKipcclxuKiBBcmlhU0RLLnRzXHJcbiogQXV0aG9yOiBBYmhpbGFzaCBQYW53YXIgKGFicGFud2FyKVxyXG4qIENvcHlyaWdodDogTWljcm9zb2Z0IDIwMTZcclxuKi9cclxudmFyIEVudW1zXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xyXG5leHBvcnRzLkFXVFBpaUtpbmQgPSBFbnVtc18xLkFXVFBpaUtpbmQ7XHJcbnZhciBBV1RfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xyXG5leHBvcnRzLkFXVCA9IEFXVF8xLmRlZmF1bHQ7XHJcbmV4cG9ydHMuQVdUX0NPTExFQ1RPUl9VUkxfVU5JVEVEX1NUQVRFUyA9ICdodHRwczovL3VzLnBpcGUuYXJpYS5taWNyb3NvZnQuY29tL0NvbGxlY3Rvci8zLjAvJztcclxuZXhwb3J0cy5BV1RfQ09MTEVDVE9SX1VSTF9HRVJNQU5ZID0gJ2h0dHBzOi8vZGUucGlwZS5hcmlhLm1pY3Jvc29mdC5jb20vQ29sbGVjdG9yLzMuMC8nO1xyXG5leHBvcnRzLkFXVF9DT0xMRUNUT1JfVVJMX0pBUEFOID0gJ2h0dHBzOi8vanAucGlwZS5hcmlhLm1pY3Jvc29mdC5jb20vQ29sbGVjdG9yLzMuMC8nO1xyXG5leHBvcnRzLkFXVF9DT0xMRUNUT1JfVVJMX0FVU1RSQUxJQSA9ICdodHRwczovL2F1LnBpcGUuYXJpYS5taWNyb3NvZnQuY29tL0NvbGxlY3Rvci8zLjAvJztcclxuZXhwb3J0cy5BV1RfQ09MTEVDVE9SX1VSTF9FVVJPUEUgPSAnaHR0cHM6Ly9ldS5waXBlLmFyaWEubWljcm9zb2Z0LmNvbS9Db2xsZWN0b3IvMy4wLyc7XHJcblxyXG5cclxuLyoqKi8gfSksXHJcbi8qIDYgKi9cclxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG5cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKipcclxuKiBib25kX2NvbnN0LnRzXHJcbiogQ29weXJpZ2h0OiBNaWNyb3NvZnQgMjAxNlxyXG4qL1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIDxhdXRvLWdlbmVyYXRlZD5cclxuLy8gICAgIFRoaXMgY29kZSB3YXMgZ2VuZXJhdGVkIGJ5IGEgdG9vbC5cclxuLy9cclxuLy8gICAgIFRvb2wgICAgIDogYm9uZGMsIFZlcnNpb249My4wLjEsIEJ1aWxkPWJvbmQtZ2l0LmRlYnVnLm5vdFxyXG4vLyAgICAgVGVtcGxhdGUgOiBNaWNyb3NvZnQuQm9uZC5SdWxlcy5kbGwjVHlwZVNjcmlwdC50dFxyXG4vLyAgICAgRmlsZSAgICAgOiBib25kX2NvbnN0LnRzXHJcbi8vXHJcbi8vICAgICBDaGFuZ2VzIHRvIHRoaXMgZmlsZSBtYXkgY2F1c2UgaW5jb3JyZWN0IGJlaGF2aW9yIGFuZCB3aWxsIGJlIGxvc3Qgd2hlblxyXG4vLyAgICAgdGhlIGNvZGUgaXMgcmVnZW5lcmF0ZWQuXHJcbi8vIDwvYXV0by1nZW5lcmF0ZWQ+XHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbnZhciBCb25kRGF0YVR5cGU7XHJcbihmdW5jdGlvbiAoQm9uZERhdGFUeXBlKSB7XHJcbiAgICBCb25kRGF0YVR5cGVbQm9uZERhdGFUeXBlW1wiQlRfU1RPUFwiXSA9IDBdID0gXCJCVF9TVE9QXCI7XHJcbiAgICBCb25kRGF0YVR5cGVbQm9uZERhdGFUeXBlW1wiQlRfU1RPUF9CQVNFXCJdID0gMV0gPSBcIkJUX1NUT1BfQkFTRVwiO1xyXG4gICAgQm9uZERhdGFUeXBlW0JvbmREYXRhVHlwZVtcIkJUX1VJTlQ4XCJdID0gM10gPSBcIkJUX1VJTlQ4XCI7XHJcbiAgICBCb25kRGF0YVR5cGVbQm9uZERhdGFUeXBlW1wiQlRfVUlOVDMyXCJdID0gNV0gPSBcIkJUX1VJTlQzMlwiO1xyXG4gICAgQm9uZERhdGFUeXBlW0JvbmREYXRhVHlwZVtcIkJUX1VJTlQ2NFwiXSA9IDZdID0gXCJCVF9VSU5UNjRcIjtcclxuICAgIEJvbmREYXRhVHlwZVtCb25kRGF0YVR5cGVbXCJCVF9TVFJJTkdcIl0gPSA5XSA9IFwiQlRfU1RSSU5HXCI7XHJcbiAgICBCb25kRGF0YVR5cGVbQm9uZERhdGFUeXBlW1wiQlRfU1RSVUNUXCJdID0gMTBdID0gXCJCVF9TVFJVQ1RcIjtcclxuICAgIEJvbmREYXRhVHlwZVtCb25kRGF0YVR5cGVbXCJCVF9MSVNUXCJdID0gMTFdID0gXCJCVF9MSVNUXCI7XHJcbiAgICBCb25kRGF0YVR5cGVbQm9uZERhdGFUeXBlW1wiQlRfTUFQXCJdID0gMTNdID0gXCJCVF9NQVBcIjtcclxuICAgIEJvbmREYXRhVHlwZVtCb25kRGF0YVR5cGVbXCJCVF9JTlQzMlwiXSA9IDE2XSA9IFwiQlRfSU5UMzJcIjtcclxuICAgIEJvbmREYXRhVHlwZVtCb25kRGF0YVR5cGVbXCJCVF9JTlQ2NFwiXSA9IDE3XSA9IFwiQlRfSU5UNjRcIjtcclxuICAgIEJvbmREYXRhVHlwZVtCb25kRGF0YVR5cGVbXCJCVF9VTkFWQUlMQUJMRVwiXSA9IDEyN10gPSBcIkJUX1VOQVZBSUxBQkxFXCI7XHJcbn0pKEJvbmREYXRhVHlwZSA9IGV4cG9ydHMuQm9uZERhdGFUeXBlIHx8IChleHBvcnRzLkJvbmREYXRhVHlwZSA9IHt9KSk7XHJcblxyXG5cclxuLyoqKi8gfSksXHJcbi8qIDcgKi9cclxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG5cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKipcclxuKiBtaWNyb3NvZnQuYm9uZC5lbmNvZGluZy50c1xyXG4qIENvcHlyaWdodDogTWljcm9zb2Z0IDIwMTZcclxuKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgbWljcm9zb2Z0X2JvbmRfcHJpbWl0aXZlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcclxudmFyIFV0ZjggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBVdGY4KCkge1xyXG4gICAgfVxyXG4gICAgVXRmOC5HZXRCeXRlcyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHZhciBhcnJheSA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgdmFyIGNoYXIgPSB2YWx1ZS5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgICAgICBpZiAoY2hhciA8IDB4ODApIHtcclxuICAgICAgICAgICAgICAgIGFycmF5LnB1c2goY2hhcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY2hhciA8IDB4ODAwKSB7XHJcbiAgICAgICAgICAgICAgICBhcnJheS5wdXNoKDB4YzAgfCAoY2hhciA+PiA2KSwgMHg4MCB8IChjaGFyICYgMHgzZikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNoYXIgPCAweGQ4MDAgfHwgY2hhciA+PSAweGUwMDApIHtcclxuICAgICAgICAgICAgICAgIGFycmF5LnB1c2goMHhlMCB8IChjaGFyID4+IDEyKSwgMHg4MCB8ICgoY2hhciA+PiA2KSAmIDB4M2YpLCAweDgwIHwgKGNoYXIgJiAweDNmKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjaGFyID0gMHgxMDAwMCArICgoKGNoYXIgJiAweDNmZikgPDwgMTApIHwgKHZhbHVlLmNoYXJDb2RlQXQoKytpKSAmIDB4M2ZmKSk7XHJcbiAgICAgICAgICAgICAgICBhcnJheS5wdXNoKDB4ZjAgfCAoY2hhciA+PiAxOCksIDB4ODAgfCAoKGNoYXIgPj4gMTIpICYgMHgzZiksIDB4ODAgfCAoKGNoYXIgPj4gNikgJiAweDNmKSwgMHg4MCB8IChjaGFyICYgMHgzZikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhcnJheTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVXRmODtcclxufSgpKTtcclxuZXhwb3J0cy5VdGY4ID0gVXRmODtcclxudmFyIEJhc2U2NCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEJhc2U2NCgpIHtcclxuICAgIH1cclxuICAgIEJhc2U2NC5HZXRTdHJpbmcgPSBmdW5jdGlvbiAoaW5BcnJheSkge1xyXG4gICAgICAgIHZhciBsb29rdXAgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7XHJcbiAgICAgICAgdmFyIG91dHB1dCA9IFtdO1xyXG4gICAgICAgIHZhciBwYWRkaW5nQnl0ZXMgPSBpbkFycmF5Lmxlbmd0aCAlIDM7XHJcbiAgICAgICAgdmFyIHRvQmFzZTY0ID0gZnVuY3Rpb24gKG51bSkge1xyXG4gICAgICAgICAgICByZXR1cm4gW2xvb2t1cC5jaGFyQXQoKG51bSA+PiAxOCkgJiAweDNGKSxcclxuICAgICAgICAgICAgICAgIGxvb2t1cC5jaGFyQXQoKG51bSA+PiAxMikgJiAweDNGKSxcclxuICAgICAgICAgICAgICAgIGxvb2t1cC5jaGFyQXQoKG51bSA+PiA2KSAmIDB4M0YpLFxyXG4gICAgICAgICAgICAgICAgbG9va3VwLmNoYXJBdChudW0gJiAweDNGKV0uam9pbignJyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoXzEgPSBpbkFycmF5Lmxlbmd0aCAtIHBhZGRpbmdCeXRlczsgaSA8IGxlbmd0aF8xOyBpICs9IDMpIHtcclxuICAgICAgICAgICAgdmFyIHRlbXAgPSAoaW5BcnJheVtpXSA8PCAxNikgKyAoaW5BcnJheVtpICsgMV0gPDwgOCkgKyAoaW5BcnJheVtpICsgMl0pO1xyXG4gICAgICAgICAgICBvdXRwdXQucHVzaCh0b0Jhc2U2NCh0ZW1wKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN3aXRjaCAocGFkZGluZ0J5dGVzKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gaW5BcnJheVtpbkFycmF5Lmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0LnB1c2gobG9va3VwLmNoYXJBdCh0ZW1wID4+IDIpKTtcclxuICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKGxvb2t1cC5jaGFyQXQoKHRlbXAgPDwgNCkgJiAweDNGKSk7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQucHVzaCgnPT0nKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcDIgPSAoaW5BcnJheVtpbkFycmF5Lmxlbmd0aCAtIDJdIDw8IDgpICsgKGluQXJyYXlbaW5BcnJheS5sZW5ndGggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChsb29rdXAuY2hhckF0KHRlbXAyID4+IDEwKSk7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChsb29rdXAuY2hhckF0KCh0ZW1wMiA+PiA0KSAmIDB4M0YpKTtcclxuICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKGxvb2t1cC5jaGFyQXQoKHRlbXAyIDw8IDIpICYgMHgzRikpO1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goJz0nKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3V0cHV0LmpvaW4oJycpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBCYXNlNjQ7XHJcbn0oKSk7XHJcbmV4cG9ydHMuQmFzZTY0ID0gQmFzZTY0O1xyXG52YXIgVmFyaW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVmFyaW50KCkge1xyXG4gICAgfVxyXG4gICAgVmFyaW50LkdldEJ5dGVzID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIGFycmF5ID0gW107XHJcbiAgICAgICAgd2hpbGUgKHZhbHVlICYgMHhmZmZmZmY4MCkge1xyXG4gICAgICAgICAgICBhcnJheS5wdXNoKCh2YWx1ZSAmIDB4N2YpIHwgMHg4MCk7XHJcbiAgICAgICAgICAgIHZhbHVlID4+Pj0gNztcclxuICAgICAgICB9XHJcbiAgICAgICAgYXJyYXkucHVzaCh2YWx1ZSAmIDB4N2YpO1xyXG4gICAgICAgIHJldHVybiBhcnJheTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gVmFyaW50O1xyXG59KCkpO1xyXG5leHBvcnRzLlZhcmludCA9IFZhcmludDtcclxudmFyIFZhcmludDY0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVmFyaW50NjQoKSB7XHJcbiAgICB9XHJcbiAgICBWYXJpbnQ2NC5HZXRCeXRlcyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHZhciBsb3cgPSB2YWx1ZS5sb3c7XHJcbiAgICAgICAgdmFyIGhpZ2ggPSB2YWx1ZS5oaWdoO1xyXG4gICAgICAgIHZhciBhcnJheSA9IFtdO1xyXG4gICAgICAgIHdoaWxlIChoaWdoIHx8ICgweGZmZmZmZjgwICYgbG93KSkge1xyXG4gICAgICAgICAgICBhcnJheS5wdXNoKChsb3cgJiAweDdmKSB8IDB4ODApO1xyXG4gICAgICAgICAgICBsb3cgPSAoKGhpZ2ggJiAweDdmKSA8PCAyNSkgfCAobG93ID4+PiA3KTtcclxuICAgICAgICAgICAgaGlnaCA+Pj49IDc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFycmF5LnB1c2gobG93ICYgMHg3Zik7XHJcbiAgICAgICAgcmV0dXJuIGFycmF5O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBWYXJpbnQ2NDtcclxufSgpKTtcclxuZXhwb3J0cy5WYXJpbnQ2NCA9IFZhcmludDY0O1xyXG52YXIgWmlnemFnID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gWmlnemFnKCkge1xyXG4gICAgfVxyXG4gICAgWmlnemFnLkVuY29kZVppZ3phZzMyID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdmFsdWUgPSBtaWNyb3NvZnRfYm9uZF9wcmltaXRpdmVzXzEuTnVtYmVyLlRvSW50MzIodmFsdWUpO1xyXG4gICAgICAgIHJldHVybiAoKHZhbHVlIDw8IDEpIF4gKHZhbHVlID4+ICg0IC8qc2l6ZW9mKGludCkqLyAqIDggLSAxKSkpO1xyXG4gICAgfTtcclxuICAgIFppZ3phZy5FbmNvZGVaaWd6YWc2NCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHZhciBsb3cgPSB2YWx1ZS5sb3c7XHJcbiAgICAgICAgdmFyIGhpZ2ggPSB2YWx1ZS5oaWdoO1xyXG4gICAgICAgIHZhciB0bXBIID0gKGhpZ2ggPDwgMSkgfCAobG93ID4+PiAzMSk7XHJcbiAgICAgICAgdmFyIHRtcEwgPSBsb3cgPDwgMTtcclxuICAgICAgICBpZiAoaGlnaCAmIDB4ODAwMDAwMDApIHtcclxuICAgICAgICAgICAgdG1wSCA9IH50bXBIO1xyXG4gICAgICAgICAgICB0bXBMID0gfnRtcEw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByZXMgPSBuZXcgbWljcm9zb2Z0X2JvbmRfcHJpbWl0aXZlc18xLlVJbnQ2NCgnMCcpO1xyXG4gICAgICAgIHJlcy5sb3cgPSB0bXBMO1xyXG4gICAgICAgIHJlcy5oaWdoID0gdG1wSDtcclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBaaWd6YWc7XHJcbn0oKSk7XHJcbmV4cG9ydHMuWmlnemFnID0gWmlnemFnO1xyXG5cclxuXHJcbi8qKiovIH0pLFxyXG4vKiA4ICovXHJcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuXHJcblwidXNlIHN0cmljdFwiO1xyXG5cclxuLyoqXHJcbiogbWljcm9zb2Z0LmJvbmQuaW8udHNcclxuKiBDb3B5cmlnaHQ6IE1pY3Jvc29mdCAyMDE2XHJcbiovXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxudmFyIG1pY3Jvc29mdF9ib25kX3ByaW1pdGl2ZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbnZhciBNZW1vcnlTdHJlYW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBNZW1vcnlTdHJlYW0oKSB7XHJcbiAgICAgICAgdGhpcy5fYnVmZmVyID0gW107XHJcbiAgICB9XHJcbiAgICAvKm92ZXJyaWRlKi9cclxuICAgIE1lbW9yeVN0cmVhbS5wcm90b3R5cGUuV3JpdGVCeXRlID0gZnVuY3Rpb24gKGJ5dGUpIHtcclxuICAgICAgICB0aGlzLl9idWZmZXIucHVzaChtaWNyb3NvZnRfYm9uZF9wcmltaXRpdmVzXzEuTnVtYmVyLlRvQnl0ZShieXRlKSk7XHJcbiAgICB9O1xyXG4gICAgLypvdmVycmlkZSovXHJcbiAgICBNZW1vcnlTdHJlYW0ucHJvdG90eXBlLldyaXRlID0gZnVuY3Rpb24gKGJ1ZmZlciwgb2Zmc2V0LCBjb3VudCkge1xyXG4gICAgICAgIHdoaWxlIChjb3VudC0tKSB7XHJcbiAgICAgICAgICAgIHRoaXMuV3JpdGVCeXRlKGJ1ZmZlcltvZmZzZXQrK10pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGFycmF5IG9mIHVuc2lnbmVkIGJ5dGVzIGZyb20gd2hpY2ggdGhpcyBzdHJlYW0gd2FzIGNyZWF0ZWQuXHJcbiAgICAgKi9cclxuICAgIE1lbW9yeVN0cmVhbS5wcm90b3R5cGUuR2V0QnVmZmVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9idWZmZXI7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIE1lbW9yeVN0cmVhbTtcclxufSgpKTtcclxuZXhwb3J0cy5NZW1vcnlTdHJlYW0gPSBNZW1vcnlTdHJlYW07XHJcblxyXG5cclxuLyoqKi8gfSksXHJcbi8qIDkgKi9cclxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG5cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKipcclxuKiBtaWNyb3NvZnQuYm9uZC50c1xyXG4qIENvcHlyaWdodDogTWljcm9zb2Z0IDIwMTZcclxuKi9cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgYm9uZF9jb25zdF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcclxuZXhwb3J0cy5Cb25kRGF0YVR5cGUgPSBib25kX2NvbnN0XzEuQm9uZERhdGFUeXBlO1xyXG52YXIgRW5jb2RpbmcgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xyXG5leHBvcnRzLkVuY29kaW5nID0gRW5jb2Rpbmc7XHJcbnZhciBJTyA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7XHJcbmV4cG9ydHMuSU8gPSBJTztcclxudmFyIG1pY3Jvc29mdF9ib25kX3ByaW1pdGl2ZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XHJcbmV4cG9ydHMuSW50NjQgPSBtaWNyb3NvZnRfYm9uZF9wcmltaXRpdmVzXzEuSW50NjQ7XHJcbmV4cG9ydHMuVUludDY0ID0gbWljcm9zb2Z0X2JvbmRfcHJpbWl0aXZlc18xLlVJbnQ2NDtcclxuZXhwb3J0cy5OdW1iZXIgPSBtaWNyb3NvZnRfYm9uZF9wcmltaXRpdmVzXzEuTnVtYmVyO1xyXG52YXIgQ29tcGFjdEJpbmFyeVByb3RvY29sV3JpdGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQ29tcGFjdEJpbmFyeVByb3RvY29sV3JpdGVyKHN0cmVhbSkge1xyXG4gICAgICAgIHRoaXMuX3N0cmVhbSA9IHN0cmVhbTtcclxuICAgIH1cclxuICAgIC8qb3ZlcnJpZGUqL1xyXG4gICAgQ29tcGFjdEJpbmFyeVByb3RvY29sV3JpdGVyLnByb3RvdHlwZS5Xcml0ZUJsb2IgPSBmdW5jdGlvbiAoYmxvYikge1xyXG4gICAgICAgIHRoaXMuX3N0cmVhbS5Xcml0ZShibG9iLCAwLCBibG9iLmxlbmd0aCk7XHJcbiAgICB9O1xyXG4gICAgLypvdmVycmlkZSovXHJcbiAgICBDb21wYWN0QmluYXJ5UHJvdG9jb2xXcml0ZXIucHJvdG90eXBlLldyaXRlQ29udGFpbmVyQmVnaW4gPSBmdW5jdGlvbiAoc2l6ZSwgZWxlbWVudFR5cGUpIHtcclxuICAgICAgICB0aGlzLldyaXRlVUludDgoZWxlbWVudFR5cGUpO1xyXG4gICAgICAgIHRoaXMuV3JpdGVVSW50MzIoc2l6ZSk7XHJcbiAgICB9O1xyXG4gICAgLypvdmVycmlkZSovXHJcbiAgICBDb21wYWN0QmluYXJ5UHJvdG9jb2xXcml0ZXIucHJvdG90eXBlLldyaXRlTWFwQ29udGFpbmVyQmVnaW4gPSBmdW5jdGlvbiAoc2l6ZSwga2V5VHlwZSwgdmFsdWVUeXBlKSB7XHJcbiAgICAgICAgdGhpcy5Xcml0ZVVJbnQ4KGtleVR5cGUpO1xyXG4gICAgICAgIHRoaXMuV3JpdGVVSW50OCh2YWx1ZVR5cGUpO1xyXG4gICAgICAgIHRoaXMuV3JpdGVVSW50MzIoc2l6ZSk7XHJcbiAgICB9O1xyXG4gICAgLypvdmVycmlkZSovXHJcbiAgICBDb21wYWN0QmluYXJ5UHJvdG9jb2xXcml0ZXIucHJvdG90eXBlLldyaXRlRmllbGRCZWdpbiA9IGZ1bmN0aW9uICh0eXBlLCBpZCkge1xyXG4gICAgICAgIGlmIChpZCA8PSA1KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0cmVhbS5Xcml0ZUJ5dGUodHlwZSB8IChpZCA8PCA1KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlkIDw9IDB4ZmYpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3RyZWFtLldyaXRlQnl0ZSh0eXBlIHwgKDYgPDwgNSkpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdHJlYW0uV3JpdGVCeXRlKGlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0cmVhbS5Xcml0ZUJ5dGUodHlwZSB8ICg3IDw8IDUpKTtcclxuICAgICAgICAgICAgdGhpcy5fc3RyZWFtLldyaXRlQnl0ZShpZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0cmVhbS5Xcml0ZUJ5dGUoaWQgPj4gOCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qb3ZlcnJpZGUqL1xyXG4gICAgQ29tcGFjdEJpbmFyeVByb3RvY29sV3JpdGVyLnByb3RvdHlwZS5Xcml0ZUludDMyID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdmFsdWUgPSBFbmNvZGluZy5aaWd6YWcuRW5jb2RlWmlnemFnMzIodmFsdWUpO1xyXG4gICAgICAgIHRoaXMuV3JpdGVVSW50MzIodmFsdWUpO1xyXG4gICAgfTtcclxuICAgIC8qb3ZlcnJpZGUqL1xyXG4gICAgQ29tcGFjdEJpbmFyeVByb3RvY29sV3JpdGVyLnByb3RvdHlwZS5Xcml0ZUludDY0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5Xcml0ZVVJbnQ2NChFbmNvZGluZy5aaWd6YWcuRW5jb2RlWmlnemFnNjQodmFsdWUpKTtcclxuICAgIH07XHJcbiAgICAvKm92ZXJyaWRlKi9cclxuICAgIENvbXBhY3RCaW5hcnlQcm90b2NvbFdyaXRlci5wcm90b3R5cGUuV3JpdGVTdHJpbmcgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBpZiAodmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuV3JpdGVVSW50MzIoMCAvKmxlbmd0aCovKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBhcnJheSA9IEVuY29kaW5nLlV0ZjguR2V0Qnl0ZXModmFsdWUpO1xyXG4gICAgICAgICAgICB0aGlzLldyaXRlVUludDMyKGFycmF5Lmxlbmd0aCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0cmVhbS5Xcml0ZShhcnJheSwgMCwgYXJyYXkubGVuZ3RoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLypvdmVycmlkZSovXHJcbiAgICBDb21wYWN0QmluYXJ5UHJvdG9jb2xXcml0ZXIucHJvdG90eXBlLldyaXRlU3RydWN0RW5kID0gZnVuY3Rpb24gKGlzQmFzZSkge1xyXG4gICAgICAgIHRoaXMuV3JpdGVVSW50OChpc0Jhc2UgPyBib25kX2NvbnN0XzEuQm9uZERhdGFUeXBlLkJUX1NUT1BfQkFTRSA6IGJvbmRfY29uc3RfMS5Cb25kRGF0YVR5cGUuQlRfU1RPUCk7XHJcbiAgICB9O1xyXG4gICAgLypvdmVycmlkZSovXHJcbiAgICBDb21wYWN0QmluYXJ5UHJvdG9jb2xXcml0ZXIucHJvdG90eXBlLldyaXRlVUludDMyID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIGFycmF5ID0gRW5jb2RpbmcuVmFyaW50LkdldEJ5dGVzKG1pY3Jvc29mdF9ib25kX3ByaW1pdGl2ZXNfMS5OdW1iZXIuVG9VSW50MzIodmFsdWUpKTtcclxuICAgICAgICB0aGlzLl9zdHJlYW0uV3JpdGUoYXJyYXksIDAsIGFycmF5Lmxlbmd0aCk7XHJcbiAgICB9O1xyXG4gICAgLypvdmVycmlkZSovXHJcbiAgICBDb21wYWN0QmluYXJ5UHJvdG9jb2xXcml0ZXIucHJvdG90eXBlLldyaXRlVUludDY0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIGFycmF5ID0gRW5jb2RpbmcuVmFyaW50NjQuR2V0Qnl0ZXModmFsdWUpO1xyXG4gICAgICAgIHRoaXMuX3N0cmVhbS5Xcml0ZShhcnJheSwgMCwgYXJyYXkubGVuZ3RoKTtcclxuICAgIH07XHJcbiAgICAvKm92ZXJyaWRlKi9cclxuICAgIENvbXBhY3RCaW5hcnlQcm90b2NvbFdyaXRlci5wcm90b3R5cGUuV3JpdGVVSW50OCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3N0cmVhbS5Xcml0ZUJ5dGUobWljcm9zb2Z0X2JvbmRfcHJpbWl0aXZlc18xLk51bWJlci5Ub1VJbnQ4KHZhbHVlKSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENvbXBhY3RCaW5hcnlQcm90b2NvbFdyaXRlcjtcclxufSgpKTtcclxuZXhwb3J0cy5Db21wYWN0QmluYXJ5UHJvdG9jb2xXcml0ZXIgPSBDb21wYWN0QmluYXJ5UHJvdG9jb2xXcml0ZXI7XHJcblxyXG5cclxuLyoqKi8gfSksXHJcbi8qIDEwICovXHJcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuXHJcblwidXNlIHN0cmljdFwiO1xyXG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgU2VjVG9Nc011bHRpcGxpZXIgPSAxMDAwO1xyXG52YXIgQVdUS2lsbFN3aXRjaCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEFXVEtpbGxTd2l0Y2goKSB7XHJcbiAgICAgICAgdGhpcy5fa2lsbGVkVG9rZW5EaWN0aW9uYXJ5ID0ge307XHJcbiAgICB9XHJcbiAgICBBV1RLaWxsU3dpdGNoLnByb3RvdHlwZS5zZXRLaWxsU3dpdGNoVGVuYW50cyA9IGZ1bmN0aW9uIChraWxsVG9rZW5zLCBraWxsRHVyYXRpb24pIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmIChraWxsVG9rZW5zICYmIGtpbGxEdXJhdGlvbikge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGtpbGxlZFRva2VucyA9IGtpbGxUb2tlbnMuc3BsaXQoJywnKTtcclxuICAgICAgICAgICAgICAgIGlmIChraWxsRHVyYXRpb24gPT09ICd0aGlzLXJlcXVlc3Qtb25seScpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2lsbGVkVG9rZW5zO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGR1cmF0aW9uTXNfMSA9IHBhcnNlSW50KGtpbGxEdXJhdGlvbiwgMTApICogU2VjVG9Nc011bHRpcGxpZXI7XHJcbiAgICAgICAgICAgICAgICBraWxsZWRUb2tlbnMuZm9yRWFjaChmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fa2lsbGVkVG9rZW5EaWN0aW9uYXJ5W3Rva2VuXSA9IERhdGUubm93KCkgKyBkdXJhdGlvbk1zXzE7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9O1xyXG4gICAgQVdUS2lsbFN3aXRjaC5wcm90b3R5cGUuaXNUZW5hbnRLaWxsZWQgPSBmdW5jdGlvbiAodGVuYW50VG9rZW4pIHtcclxuICAgICAgICBpZiAodGhpcy5fa2lsbGVkVG9rZW5EaWN0aW9uYXJ5W3RlbmFudFRva2VuXSAhPT0gdW5kZWZpbmVkICYmIHRoaXMuX2tpbGxlZFRva2VuRGljdGlvbmFyeVt0ZW5hbnRUb2tlbl0gPiBEYXRlLm5vdygpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZWxldGUgdGhpcy5fa2lsbGVkVG9rZW5EaWN0aW9uYXJ5W3RlbmFudFRva2VuXTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEFXVEtpbGxTd2l0Y2g7XHJcbn0oKSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IEFXVEtpbGxTd2l0Y2g7XHJcblxyXG5cclxuLyoqKi8gfSksXHJcbi8qIDExICovXHJcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuXHJcblwidXNlIHN0cmljdFwiO1xyXG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgQVdUQm9uZFNlcmlhbGl6ZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XHJcbnZhciBBV1RSZWNvcmRCYXRjaGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQVdUUmVjb3JkQmF0Y2hlcihfbWF4UmVxdWVzdFNpemUsIF9vdXRib3VuZFF1ZXVlKSB7XHJcbiAgICAgICAgdGhpcy5fbWF4UmVxdWVzdFNpemUgPSBfbWF4UmVxdWVzdFNpemU7XHJcbiAgICAgICAgdGhpcy5fb3V0Ym91bmRRdWV1ZSA9IF9vdXRib3VuZFF1ZXVlO1xyXG4gICAgICAgIHRoaXMuX2N1cnJlbnRCYXRjaCA9IHt9O1xyXG4gICAgICAgIHRoaXMuX2N1cnJlbnRCYXRjaFNpemUgPSAwO1xyXG4gICAgfVxyXG4gICAgQVdUUmVjb3JkQmF0Y2hlci5wcm90b3R5cGUuYWRkRXZlbnRUb0JhdGNoID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHNlcmlhbGl6ZWRFdmVudCA9IEFXVEJvbmRTZXJpYWxpemVyXzEuZGVmYXVsdC5nZXRFdmVudEJsb2IoZXZlbnQpO1xyXG4gICAgICAgIGlmIChzZXJpYWxpemVkRXZlbnQubGVuZ3RoID4gdGhpcy5fbWF4UmVxdWVzdFNpemUpIHtcclxuICAgICAgICAgICAgLy9zaW5nbGUgZXZlbnQgdG9vIGJpZ1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50QmF0Y2hTaXplICsgc2VyaWFsaXplZEV2ZW50Lmxlbmd0aCA+IHRoaXMuX21heFJlcXVlc3RTaXplKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmx1c2hCYXRjaCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRCYXRjaFtldmVudC50ZW5hbnRUb2tlbl0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudEJhdGNoW2V2ZW50LnRlbmFudFRva2VuXSA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRCYXRjaFtldmVudC50ZW5hbnRUb2tlbl0ucHVzaChzZXJpYWxpemVkRXZlbnQpO1xyXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50QmF0Y2hTaXplICs9IHNlcmlhbGl6ZWRFdmVudC5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEFXVFJlY29yZEJhdGNoZXIucHJvdG90eXBlLmZsdXNoQmF0Y2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRCYXRjaFNpemUgPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX291dGJvdW5kUXVldWUucHVzaCh0aGlzLl9jdXJyZW50QmF0Y2gpO1xyXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50QmF0Y2ggPSB7fTtcclxuICAgICAgICAgICAgdGhpcy5fY3VycmVudEJhdGNoU2l6ZSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBBV1RSZWNvcmRCYXRjaGVyO1xyXG59KCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBBV1RSZWNvcmRCYXRjaGVyO1xyXG5cclxuXHJcbi8qKiovIH0pLFxyXG4vKiAxMiAqL1xyXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XHJcblxyXG5cInVzZSBzdHJpY3RcIjtcclxuXHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuLyoqXHJcbiogQVdUUmV0cnlQb2xpY3kudHNcclxuKiBBdXRob3I6IEFiaGlsYXNoIFBhbndhciAoYWJwYW53YXIpXHJcbiogQ29weXJpZ2h0OiBNaWNyb3NvZnQgMjAxNlxyXG4qIENsYXNzIGZvciByZXRyeSBwb2xpY3kuXHJcbiovXHJcbnZhciBSYW5kb21pemF0aW9uTG93ZXJUaHJlc2hvbGQgPSAwLjg7XHJcbnZhciBSYW5kb21pemF0aW9uVXBwZXJUaHJlc2hvbGQgPSAxLjI7XHJcbnZhciBCYXNlQmFja29mZiA9IDMwMDA7XHJcbnZhciBNYXhCYWNrb2ZmID0gMTIwMDAwO1xyXG52YXIgQVdUUmV0cnlQb2xpY3kgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBBV1RSZXRyeVBvbGljeSgpIHtcclxuICAgIH1cclxuICAgIEFXVFJldHJ5UG9saWN5LnNob3VsZFJldHJ5Rm9yU3RhdHVzID0gZnVuY3Rpb24gKGh0dHBTdGF0dXNDb2RlKSB7XHJcbiAgICAgICAgLyogVGhlIGJlbG93IGV4cHJlc3Npb24gcmVhZHMgdGhhdCB3ZSBzaG91bGQgb25seSByZXRyeSBmb3I6XHJcbiAgICAgICAgICAgIC0gSHR0cFN0YXR1c0NvZGVzIHRoYXQgYXJlIHNtYWxsZXIgdGhhbiAzMDAuXHJcbiAgICAgICAgICAgIC0gSHR0cFN0YXR1c0NvZGVzIGdyZWF0ZXIgb3IgZXF1YWwgdG8gNTAwIChleGNlcHQgZm9yIDUwMS1Ob3RJbXBsZW1lbnRcclxuICAgICAgICAgICAgICBhbmQgNTA1LUh0dHBWZXJzaW9uTm90U3VwcG9ydCkuXHJcbiAgICAgICAgICAgIC0gSHR0cFN0YXR1c0NvZGUgNDA4LVJlcXVlc3RUaW1lb3V0LlxyXG4gICAgICAgICAgIFRoaXMgaXMgYmFzZWQgb24gTWljcm9zb2Z0LldpbmRvd3NBenVyZS5TdG9yYWdlLlJldHJ5UG9saWNpZXMuRXhwb25lbnRpYWxSZXRyeSBjbGFzcyAqL1xyXG4gICAgICAgIHJldHVybiAhKChodHRwU3RhdHVzQ29kZSA+PSAzMDAgJiYgaHR0cFN0YXR1c0NvZGUgPCA1MDAgJiYgaHR0cFN0YXR1c0NvZGUgIT09IDQwOClcclxuICAgICAgICAgICAgfHwgKGh0dHBTdGF0dXNDb2RlID09PSA1MDEpXHJcbiAgICAgICAgICAgIHx8IChodHRwU3RhdHVzQ29kZSA9PT0gNTA1KSk7XHJcbiAgICB9O1xyXG4gICAgQVdUUmV0cnlQb2xpY3kuZ2V0TWlsbGlzVG9CYWNrb2ZmRm9yUmV0cnkgPSBmdW5jdGlvbiAocmV0cmllc1NvRmFyKSB7XHJcbiAgICAgICAgdmFyIHdhaXREdXJhdGlvbiA9IDA7XHJcbiAgICAgICAgdmFyIG1pbkJhY2tvZmYgPSBCYXNlQmFja29mZiAqIFJhbmRvbWl6YXRpb25Mb3dlclRocmVzaG9sZDtcclxuICAgICAgICB2YXIgbWF4QmFja29mZiA9IEJhc2VCYWNrb2ZmICogUmFuZG9taXphdGlvblVwcGVyVGhyZXNob2xkO1xyXG4gICAgICAgIHZhciByYW5kb21CYWNrb2ZmID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heEJhY2tvZmYgLSBtaW5CYWNrb2ZmKSkgKyBtaW5CYWNrb2ZmO1xyXG4gICAgICAgIHdhaXREdXJhdGlvbiA9IE1hdGgucG93KDQsIHJldHJpZXNTb0ZhcikgKiByYW5kb21CYWNrb2ZmO1xyXG4gICAgICAgIHJldHVybiBNYXRoLm1pbih3YWl0RHVyYXRpb24sIE1heEJhY2tvZmYpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBBV1RSZXRyeVBvbGljeTtcclxufSgpKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gQVdUUmV0cnlQb2xpY3k7XHJcblxyXG5cclxuLyoqKi8gfSksXHJcbi8qIDEzICovXHJcbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcclxuXHJcblwidXNlIHN0cmljdFwiO1xyXG5cclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgRW51bXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XHJcbnZhciBBV1RUcmFuc21pc3Npb25NYW5hZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KTtcclxudmFyIFV0aWxzID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcclxudmFyIFZlcnNpb24gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpO1xyXG52YXIgQWxsVG9rZW5zID0gJ2FsbFRrbnMnO1xyXG52YXIgRXZlbnROYW1lQW5kVHlwZVJlZ2V4ID0gL15bYS16QS1aMC05XShbYS16QS1aMC05XXxfKXsyLDk4fVthLXpBLVowLTldJC87XHJcbnZhciBFdmVudE5hbWVEb3RSZWdleCA9IC9cXC4vZztcclxudmFyIFByb3BlcnR5TmFtZVJlZ2V4ID0gL15bYS16QS1aMC05XSgoW2EtekEtWjAtOXxffFxcLl0pezAsOTh9W2EtekEtWjAtOV0pPyQvO1xyXG52YXIgQVdUID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQVdUKCkge1xyXG4gICAgfVxyXG4gICAgQVdULmluaXRpYWxpemUgPSBmdW5jdGlvbiAodGVuYW50VG9rZW4sIGNvbmZpZ3VyYXRpb24pIHtcclxuICAgICAgICBpZiAoY29uZmlndXJhdGlvbiA9PT0gdm9pZCAwKSB7IGNvbmZpZ3VyYXRpb24gPSB7fTsgfVxyXG4gICAgICAgIGlmICh0aGlzLl9pc0luaXRpYWxpemVkKSB7XHJcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxyXG4gICAgICAgICAgICB0aHJvdyAnQWxyZWFkeSBJbml0aWFsaXplZCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2RlZmF1bHRUZW5hbnRUb2tlbiA9IHRlbmFudFRva2VuO1xyXG4gICAgICAgIHRoaXMuX292ZXJyaWRlVmFsdWVzRnJvbUNvbmZpZyhjb25maWd1cmF0aW9uKTtcclxuICAgICAgICAvL0NyZWF0ZSBzZW5kZXJcclxuICAgICAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyXzEuZGVmYXVsdC5pbml0aWFsaXplKHRoaXMuX2NvbmZpZyk7XHJcbiAgICAgICAgdGhpcy5faXNJbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICB9O1xyXG4gICAgQVdULmZsdXNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2lzSW5pdGlhbGl6ZWQgJiYgIXRoaXMuX2lzRGVzdHJveWVkKSB7XHJcbiAgICAgICAgICAgIEFXVFRyYW5zbWlzc2lvbk1hbmFnZXJfMS5kZWZhdWx0LmZsdXNoKGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQVdULmZsdXNoQW5kVGVhcmRvd24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2lzSW5pdGlhbGl6ZWQgJiYgIXRoaXMuX2lzRGVzdHJveWVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lzRGVzdHJveWVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgQVdUVHJhbnNtaXNzaW9uTWFuYWdlcl8xLmRlZmF1bHQuZmx1c2hBbmRUZWFyZG93bigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBBV1Quc2V0Q29udGV4dCA9IGZ1bmN0aW9uIChuYW1lLCBwcm9wZXJ0eSwgdGVuYW50VG9rZW4pIHtcclxuICAgICAgICBpZiAodGVuYW50VG9rZW4gPT09IHZvaWQgMCkgeyB0ZW5hbnRUb2tlbiA9IEFsbFRva2VuczsgfVxyXG4gICAgICAgIHByb3BlcnR5ID0gdGhpcy5fc2FuaXRpemVQcm9wZXJ0eShuYW1lLCBwcm9wZXJ0eSk7XHJcbiAgICAgICAgaWYgKHByb3BlcnR5ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLl9jb250ZXh0UHJvcGVydGllc1t0ZW5hbnRUb2tlbl0pIHtcclxuICAgICAgICAgICAgdGhpcy5fY29udGV4dFByb3BlcnRpZXNbdGVuYW50VG9rZW5dID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2NvbnRleHRQcm9wZXJ0aWVzW3RlbmFudFRva2VuXVtuYW1lXSA9IHByb3BlcnR5O1xyXG4gICAgfTtcclxuICAgIEFXVC5sb2dFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMuX2lzSW5pdGlhbGl6ZWQpIHtcclxuICAgICAgICAgICAgaWYgKCFldmVudC5uYW1lIHx8ICFldmVudC5wcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZXZlbnQubmFtZSA9IGV2ZW50Lm5hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgZXZlbnQubmFtZS5yZXBsYWNlKEV2ZW50TmFtZURvdFJlZ2V4LCAnXycpO1xyXG4gICAgICAgICAgICB2YXIgdHlwZVByZWZpeCA9ICcnO1xyXG4gICAgICAgICAgICBpZiAoIWV2ZW50LnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnR5cGUgPSAnY3VzdG9tJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnR5cGUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgIHR5cGVQcmVmaXggPSAnY3VzdG9tLic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFFdmVudE5hbWVBbmRUeXBlUmVnZXgudGVzdChldmVudC5uYW1lKSB8fCAhRXZlbnROYW1lQW5kVHlwZVJlZ2V4LnRlc3QoZXZlbnQudHlwZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBldmVudC50eXBlID0gdHlwZVByZWZpeCArIGV2ZW50LnR5cGU7XHJcbiAgICAgICAgICAgIGlmIChpc05hTihldmVudC50aW1lc3RhbXApKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudC50aW1lc3RhbXAgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghZXZlbnQudGVuYW50VG9rZW4pIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnRlbmFudFRva2VuID0gdGhpcy5fZGVmYXVsdFRlbmFudFRva2VuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGV2ZW50LmlkID0gVXRpbHMubmV3R3VpZCgpO1xyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhldmVudC5wcm9wZXJ0aWVzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudC5wcm9wZXJ0aWVzW25hbWVdID0gX3RoaXMuX3Nhbml0aXplUHJvcGVydHkobmFtZSwgZXZlbnQucHJvcGVydGllc1tuYW1lXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQucHJvcGVydGllc1tuYW1lXSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBldmVudC5wcm9wZXJ0aWVzW25hbWVdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5fYWRkQ29udGV4dElmQWJzZW50KGV2ZW50LCBldmVudC50ZW5hbnRUb2tlbik7XHJcbiAgICAgICAgICAgIHRoaXMuX2FkZENvbnRleHRJZkFic2VudChldmVudCwgQWxsVG9rZW5zKTtcclxuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGV2ZW50LnByb3BlcnRpZXMpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX3NldERlZmF1bHRQcm9wZXJ0eShldmVudCwgJ0V2ZW50SW5mby5Jbml0SWQnLCB0aGlzLl9nZXRJbml0SWQoZXZlbnQudGVuYW50VG9rZW4pKTtcclxuICAgICAgICAgICAgdGhpcy5fc2V0RGVmYXVsdFByb3BlcnR5KGV2ZW50LCAnRXZlbnRJbmZvLlNlcXVlbmNlJywgdGhpcy5fZ2V0U2VxdWVuY2VJZChldmVudC50ZW5hbnRUb2tlbikpO1xyXG4gICAgICAgICAgICB0aGlzLl9zZXREZWZhdWx0UHJvcGVydHkoZXZlbnQsICdFdmVudEluZm8uU2RrVmVyc2lvbicsIFZlcnNpb24uRnVsbFZlcnNpb25TdHJpbmcpO1xyXG4gICAgICAgICAgICB0aGlzLl9zZXREZWZhdWx0UHJvcGVydHkoZXZlbnQsICdFdmVudEluZm8uTmFtZScsIGV2ZW50Lm5hbWUpO1xyXG4gICAgICAgICAgICB0aGlzLl9zZXREZWZhdWx0UHJvcGVydHkoZXZlbnQsICdFdmVudEluZm8uVGltZScsIChuZXcgRGF0ZShldmVudC50aW1lc3RhbXApKS50b0lTT1N0cmluZygpKTtcclxuICAgICAgICAgICAgQVdUVHJhbnNtaXNzaW9uTWFuYWdlcl8xLmRlZmF1bHQuc2VuZEV2ZW50KGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQVdULl9vdmVycmlkZVZhbHVlc0Zyb21Db25maWcgPSBmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZy5jb2xsZWN0b3JVcmwpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29uZmlnLmNvbGxlY3RvclVybCA9IGNvbmZpZy5jb2xsZWN0b3JVcmw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb25maWcuc2VuZGluZ1RpbWVyID4gMTAwMCkge1xyXG4gICAgICAgICAgICB0aGlzLl9jb25maWcuc2VuZGluZ1RpbWVyID0gY29uZmlnLnNlbmRpbmdUaW1lcjtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQVdULl9nZXRJbml0SWQgPSBmdW5jdGlvbiAodGVuYW50VG9rZW4pIHtcclxuICAgICAgICBpZiAodGhpcy5faW5pdElkTWFwW3RlbmFudFRva2VuXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2luaXRJZE1hcFt0ZW5hbnRUb2tlbl0gPSBVdGlscy5uZXdHdWlkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbml0SWRNYXBbdGVuYW50VG9rZW5dO1xyXG4gICAgfTtcclxuICAgIEFXVC5fZ2V0U2VxdWVuY2VJZCA9IGZ1bmN0aW9uICh0ZW5hbnRUb2tlbikge1xyXG4gICAgICAgIGlmICh0aGlzLl9zZXF1ZW5jZUlkTWFwW3RlbmFudFRva2VuXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NlcXVlbmNlSWRNYXBbdGVuYW50VG9rZW5dID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICgrK3RoaXMuX3NlcXVlbmNlSWRNYXBbdGVuYW50VG9rZW5dKS50b1N0cmluZygpO1xyXG4gICAgfTtcclxuICAgIEFXVC5fc2V0RGVmYXVsdFByb3BlcnR5ID0gZnVuY3Rpb24gKGV2ZW50LCBuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgIGV2ZW50LnByb3BlcnRpZXNbbmFtZV0gPSB7IHZhbHVlOiB2YWx1ZSwgcGlpOiBFbnVtc18xLkFXVFBpaUtpbmQuTm90U2V0IH07XHJcbiAgICB9O1xyXG4gICAgQVdULl9hZGRDb250ZXh0SWZBYnNlbnQgPSBmdW5jdGlvbiAoZXZlbnQsIHRlbmFudFRva2VuKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NvbnRleHRQcm9wZXJ0aWVzW3RlbmFudFRva2VuXSkge1xyXG4gICAgICAgICAgICB2YXIgY29udGV4dF8xID0gdGhpcy5fY29udGV4dFByb3BlcnRpZXNbdGVuYW50VG9rZW5dO1xyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhjb250ZXh0XzEpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghZXZlbnQucHJvcGVydGllc1tuYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByb3BlcnRpZXNbbmFtZV0gPSBjb250ZXh0XzFbbmFtZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBBV1QuX3Nhbml0aXplUHJvcGVydHkgPSBmdW5jdGlvbiAobmFtZSwgcHJvcGVydHkpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5ID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgcHJvcGVydHkgPT09ICdudW1iZXInIHx8IHR5cGVvZiBwcm9wZXJ0eSA9PT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgICAgIHByb3BlcnR5ID0geyB2YWx1ZTogcHJvcGVydHkgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFQcm9wZXJ0eU5hbWVSZWdleC50ZXN0KG5hbWUpIHx8IHByb3BlcnR5ID09PSB1bmRlZmluZWQgfHwgcHJvcGVydHkgPT09IG51bGxcclxuICAgICAgICAgICAgfHwgcHJvcGVydHkudmFsdWUgPT09IG51bGwgfHwgcHJvcGVydHkudmFsdWUgPT09IHVuZGVmaW5lZCB8fCBwcm9wZXJ0eS52YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlb2YgcHJvcGVydHkucGlpID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICBwcm9wZXJ0eS5waWkgPSBFbnVtc18xLkFXVFBpaUtpbmQuTm90U2V0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBwcm9wZXJ0eS52YWx1ZSA9IHByb3BlcnR5LnZhbHVlLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgcmV0dXJuIFV0aWxzLmlzUGlpKHByb3BlcnR5LnBpaSkgPyBwcm9wZXJ0eSA6IG51bGw7XHJcbiAgICB9O1xyXG4gICAgQVdULl9pc0luaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgICBBV1QuX2lzRGVzdHJveWVkID0gZmFsc2U7XHJcbiAgICBBV1QuX2NvbnRleHRQcm9wZXJ0aWVzID0ge307XHJcbiAgICBBV1QuX3NlcXVlbmNlSWRNYXAgPSB7fTtcclxuICAgIEFXVC5faW5pdElkTWFwID0ge307XHJcbiAgICBBV1QuX2NvbmZpZyA9IHtcclxuICAgICAgICBjb2xsZWN0b3JVcmw6ICdodHRwczovL2Jyb3dzZXIucGlwZS5hcmlhLm1pY3Jvc29mdC5jb20vQ29sbGVjdG9yLzMuMC8nLFxyXG4gICAgICAgIHNlbmRpbmdUaW1lcjogMTAwMFxyXG4gICAgfTtcclxuICAgIHJldHVybiBBV1Q7XHJcbn0oKSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IEFXVDtcclxuXHJcblxyXG4vKioqLyB9KSxcclxuLyogMTQgKi9cclxuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xyXG5cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBBV1RSZWNvcmRCYXRjaGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcclxudmFyIEFXVEJvbmRTZXJpYWxpemVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xyXG52YXIgQVdUUmV0cnlQb2xpY3lfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xyXG52YXIgQVdUS2lsbFN3aXRjaF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XHJcbnZhciBWZXJzaW9uID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcclxudmFyIEZsdXNoQ2hlY2tUaW1lciA9IDI1MDtcclxudmFyIFJlcXVlc3RTaXplTGltaXRCeXRlcyA9IDI5MzYwMTI7IC8vYXBwcm94IDIuOCBNYlxyXG52YXIgTWF4UmV0cmllcyA9IDQ7XHJcbnZhciBBV1RUcmFuc21pc3Npb25NYW5hZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQVdUVHJhbnNtaXNzaW9uTWFuYWdlcigpIHtcclxuICAgIH1cclxuICAgIEFXVFRyYW5zbWlzc2lvbk1hbmFnZXIuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICB0aGlzLl9pbmJvdW5kUXVldWVzLnB1c2goW10pO1xyXG4gICAgICAgIHRoaXMuX3JlY29yZEJhdGNoZXIgPSBuZXcgQVdUUmVjb3JkQmF0Y2hlcl8xLmRlZmF1bHQoUmVxdWVzdFNpemVMaW1pdEJ5dGVzLCB0aGlzLl9vdXRib3VuZFF1ZXVlKTtcclxuICAgICAgICB0aGlzLl9uZXdFdmVudHNBbGxvd2VkID0gdHJ1ZTtcclxuICAgICAgICBpZiAodHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3VybFN0cmluZyArPSAnJmNvbnRlbnQtZW5jb2Rpbmc9YmFzZTY0JztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fc2VuZGluZ1RpbWVyID0gY29uZmlnLnNlbmRpbmdUaW1lcjtcclxuICAgICAgICB0aGlzLl91cmxTdHJpbmcgPSBjb25maWcuY29sbGVjdG9yVXJsICsgdGhpcy5fdXJsU3RyaW5nICsgJyZ4LWFwaWtleT0nO1xyXG4gICAgfTtcclxuICAgIC8vUHVzaCB0aGUgZXZlbnQgaW50byB0aGUgaW5ib3VuZCBxdWV1ZSBhbmQgcmV0dXJuXHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLnNlbmRFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMuX25ld0V2ZW50c0FsbG93ZWQpIHtcclxuICAgICAgICAgICAgLy9BZGQgZXZlbnQgdG8gdGhlIGxhc3QgaW5ib3VuZCBxdWV1ZVxyXG4gICAgICAgICAgICB0aGlzLl9pbmJvdW5kUXVldWVzW3RoaXMuX2luYm91bmRRdWV1ZXMubGVuZ3RoIC0gMV0ucHVzaChldmVudCk7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fcnVubmluZyAmJiB0aGlzLl90aW1lb3V0IDwgMCAmJiAhdGhpcy5faXNDdXJyZW50bHlGbHVzaGluZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX2JhdGNoQW5kU2VuZEV2ZW50cyhmYWxzZSk7IH0sIHRoaXMuX3NlbmRpbmdUaW1lcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgQVdUVHJhbnNtaXNzaW9uTWFuYWdlci5mbHVzaEFuZFRlYXJkb3duID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuX25ld0V2ZW50c0FsbG93ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9iYXRjaEFuZFNlbmRFdmVudHModHJ1ZSk7XHJcbiAgICB9O1xyXG4gICAgQVdUVHJhbnNtaXNzaW9uTWFuYWdlci5mbHVzaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuX2luYm91bmRRdWV1ZXMucHVzaChbXSk7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9pc0N1cnJlbnRseUZsdXNoaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lzQ3VycmVudGx5Rmx1c2hpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLl9mbHVzaChjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9mbHVzaFF1ZXVlLnB1c2goY2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9iYXRjaEFuZFNlbmRFdmVudHMgPSBmdW5jdGlvbiAoaXNUZWFyZG93bikge1xyXG4gICAgICAgIHRoaXMuX3J1bm5pbmcgPSB0cnVlO1xyXG4gICAgICAgIHdoaWxlICh0aGlzLl9pbmJvdW5kUXVldWVzWzBdLmxlbmd0aCA+IDAgJiYgdGhpcy5fb3V0Ym91bmRRdWV1ZS5sZW5ndGggPCAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlY29yZEJhdGNoZXIuYWRkRXZlbnRUb0JhdGNoKHRoaXMuX2luYm91bmRRdWV1ZXNbMF0ucG9wKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fb3V0Ym91bmRRdWV1ZS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5fcmVjb3JkQmF0Y2hlci5mbHVzaEJhdGNoKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3NlbmRSZXF1ZXN0KHRoaXMuX291dGJvdW5kUXVldWUucG9wKCksIDAsIGlzVGVhcmRvd24pO1xyXG4gICAgfTtcclxuICAgIEFXVFRyYW5zbWlzc2lvbk1hbmFnZXIuX3JldHJ5UmVxdWVzdElmTmVlZGVkID0gZnVuY3Rpb24gKGNvbm4sIHJlcXVlc3QsIHRva2VuQ291bnQsIGFwaWtleSwgcmV0cnlDb3VudCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHNob3VsZFJldHJ5ID0gdHJ1ZTtcclxuICAgICAgICBpZiAoY29ubiAmJiB0eXBlb2YgY29ubi5zdGF0dXMgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHZhciBraWxsZWRUb2tlbnMgPSB0aGlzLl9raWxsU3dpdGNoLnNldEtpbGxTd2l0Y2hUZW5hbnRzKGNvbm4uZ2V0UmVzcG9uc2VIZWFkZXIoJ2tpbGwtdG9rZW5zJyksIGNvbm4uZ2V0UmVzcG9uc2VIZWFkZXIoJ2tpbGwtZHVyYXRpb24tc2Vjb25kcycpKTtcclxuICAgICAgICAgICAga2lsbGVkVG9rZW5zLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIHJlcXVlc3Rba2V5XTtcclxuICAgICAgICAgICAgICAgIHRva2VuQ291bnQtLTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICghQVdUUmV0cnlQb2xpY3lfMS5kZWZhdWx0LnNob3VsZFJldHJ5Rm9yU3RhdHVzKGNvbm4uc3RhdHVzKSB8fCB0b2tlbkNvdW50IDw9IDApIHtcclxuICAgICAgICAgICAgICAgIHNob3VsZFJldHJ5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNob3VsZFJldHJ5ICYmIHJldHJ5Q291bnQgPCBNYXhSZXRyaWVzKSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX3NlbmRSZXF1ZXN0KHJlcXVlc3QsIHJldHJ5Q291bnQgKyAxLCBmYWxzZSk7IH0sIEFXVFJldHJ5UG9saWN5XzEuZGVmYXVsdC5nZXRNaWxsaXNUb0JhY2tvZmZGb3JSZXRyeShyZXRyeUNvdW50KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVSZXF1ZXN0RmluaXNoZWQobnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEFXVFRyYW5zbWlzc2lvbk1hbmFnZXIuX3NlbmRSZXF1ZXN0ID0gZnVuY3Rpb24gKHJlcXVlc3QsIHJldHJ5Q291bnQsIGlzVGVhcmRvd24pIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBjb25uXzEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgdmFyIHRva2VuQ291bnRfMSA9IDA7XHJcbiAgICAgICAgICAgIHZhciBhcGlrZXlfMSA9ICcnO1xyXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhyZXF1ZXN0KS5mb3JFYWNoKGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5fa2lsbFN3aXRjaC5pc1RlbmFudEtpbGxlZCh0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXBpa2V5XzEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcGlrZXlfMSArPSAnLCc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGFwaWtleV8xICs9IHRva2VuO1xyXG4gICAgICAgICAgICAgICAgICAgIHRva2VuQ291bnRfMSsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHJlcXVlc3RbdG9rZW5dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29ubl8xLm9wZW4oJ1BPU1QnLCB0aGlzLl91cmxTdHJpbmcgKyBhcGlrZXlfMSwgIWlzVGVhcmRvd24pO1xyXG4gICAgICAgICAgICBpZiAoIWlzVGVhcmRvd24pIHtcclxuICAgICAgICAgICAgICAgIGNvbm5fMS5vbnRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3JldHJ5UmVxdWVzdElmTmVlZGVkKGNvbm5fMSwgcmVxdWVzdCwgdG9rZW5Db3VudF8xLCBhcGlrZXlfMSwgcmV0cnlDb3VudCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgY29ubl8xLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3JldHJ5UmVxdWVzdElmTmVlZGVkKGNvbm5fMSwgcmVxdWVzdCwgdG9rZW5Db3VudF8xLCBhcGlrZXlfMSwgcmV0cnlDb3VudCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgY29ubl8xLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5faGFuZGxlUmVxdWVzdEZpbmlzaGVkKGNvbm5fMSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0b2tlbkNvdW50XzEgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYmxvYiA9IEFXVEJvbmRTZXJpYWxpemVyXzEuZGVmYXVsdC5nZXRQYXlsb2FkQmxvYihyZXF1ZXN0LCB0b2tlbkNvdW50XzEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBVaW50OEFycmF5ID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbm5fMS5zZW5kKEFXVEJvbmRTZXJpYWxpemVyXzEuZGVmYXVsdC5iYXNlNjRFbmNvZGUoYmxvYikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29ubl8xLnNlbmQobmV3IFVpbnQ4QXJyYXkoYmxvYikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzVGVhcmRvd24pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZVJlcXVlc3RGaW5pc2hlZChudWxsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVSZXF1ZXN0RmluaXNoZWQobnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEFXVFRyYW5zbWlzc2lvbk1hbmFnZXIuX2hhbmRsZVJlcXVlc3RGaW5pc2hlZCA9IGZ1bmN0aW9uIChjb25uKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoY29ubikge1xyXG4gICAgICAgICAgICB0aGlzLl9raWxsU3dpdGNoLnNldEtpbGxTd2l0Y2hUZW5hbnRzKGNvbm4uZ2V0UmVzcG9uc2VIZWFkZXIoJ2tpbGwtdG9rZW5zJyksIGNvbm4uZ2V0UmVzcG9uc2VIZWFkZXIoJ2tpbGwtZHVyYXRpb24tc2Vjb25kcycpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX2luYm91bmRRdWV1ZXNbMF0ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLl90aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fYmF0Y2hBbmRTZW5kRXZlbnRzKGZhbHNlKTsgfSwgdGhpcy5fc2VuZGluZ1RpbWVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RpbWVvdXQgPSAtMTtcclxuICAgICAgICAgICAgdGhpcy5fcnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9mbHVzaCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9ydW5uaW5nKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl90aW1lb3V0ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RpbWVvdXQgPSAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5faW5ib3VuZFF1ZXVlc1swXS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9iYXRjaEFuZFNlbmRFdmVudHMoZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2NoZWNrUHJpbWFyeUluYm91bmRRdWV1ZUVtcHR5KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy9Nb3ZlIHRoZSBuZXh0IHF1ZXVlIHRvIGJlIHByaW1hcnlcclxuICAgICAgICAgICAgX3RoaXMuX2luYm91bmRRdWV1ZXMuc2hpZnQoKTtcclxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrICE9PSBudWxsICYmIGNhbGxiYWNrICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKF90aGlzLl9mbHVzaFF1ZXVlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX2ZsdXNoKF90aGlzLl9mbHVzaFF1ZXVlLnNoaWZ0KCkpOyB9LCBfdGhpcy5fc2VuZGluZ1RpbWVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLl9pc0N1cnJlbnRseUZsdXNoaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX2luYm91bmRRdWV1ZXNbMF0ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl90aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5fYmF0Y2hBbmRTZW5kRXZlbnRzKGZhbHNlKTsgfSwgX3RoaXMuX3NlbmRpbmdUaW1lcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9jaGVja1ByaW1hcnlJbmJvdW5kUXVldWVFbXB0eSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMuX2luYm91bmRRdWV1ZXNbMF0ubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NoZWNrT3V0Ym91bmRRdWV1ZUVtcHR5QW5kU2VudChjYWxsYmFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl9jaGVja1ByaW1hcnlJbmJvdW5kUXVldWVFbXB0eShjYWxsYmFjayk7IH0sIEZsdXNoQ2hlY2tUaW1lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEFXVFRyYW5zbWlzc2lvbk1hbmFnZXIuX2NoZWNrT3V0Ym91bmRRdWV1ZUVtcHR5QW5kU2VudCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9ydW5uaW5nKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl9jaGVja091dGJvdW5kUXVldWVFbXB0eUFuZFNlbnQoY2FsbGJhY2spOyB9LCBGbHVzaENoZWNrVGltZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9vdXRib3VuZFF1ZXVlID0gW107XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9pbmJvdW5kUXVldWVzID0gW107XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9uZXdFdmVudHNBbGxvd2VkID0gZmFsc2U7XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9raWxsU3dpdGNoID0gbmV3IEFXVEtpbGxTd2l0Y2hfMS5kZWZhdWx0KCk7XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9pc0N1cnJlbnRseUZsdXNoaW5nID0gZmFsc2U7XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9mbHVzaFF1ZXVlID0gW107XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl9ydW5uaW5nID0gZmFsc2U7XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl90aW1lb3V0ID0gLTE7XHJcbiAgICBBV1RUcmFuc21pc3Npb25NYW5hZ2VyLl91cmxTdHJpbmcgPSAnP3FzcD10cnVlJmNvbnRlbnQtdHlwZT1hcHBsaWNhdGlvbiUyRmJvbmQtY29tcGFjdC1iaW5hcnkmY2xpZW50LWlkPU5PX0FVVEgmc2RrLXZlcnNpb249J1xyXG4gICAgICAgICsgVmVyc2lvbi5GdWxsVmVyc2lvblN0cmluZztcclxuICAgIHJldHVybiBBV1RUcmFuc21pc3Npb25NYW5hZ2VyO1xyXG59KCkpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBBV1RUcmFuc21pc3Npb25NYW5hZ2VyO1xyXG5cclxuXHJcbi8qKiovIH0pLFxyXG4vKiAxNSAqL1xyXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oNSk7XHJcblxyXG5cclxuLyoqKi8gfSlcclxuLyoqKioqKi8gXSk7XHJcbn0pO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcmlhLXdlYmpzLWNvbXBhY3Qtc2RrLTEuMi4yLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./scripts/app/thirdparty/aria-webjs-compact-sdk-1.2.2.js\n')},"./scripts/app/thirdparty/html2canvas/html2canvas.js":function(module,exports,__webpack_require__){eval("/*!\r\n * html2canvas 1.0.0-rc.5 <https://html2canvas.hertzen.com>\r\n * Copyright (c) 2019 Niklas von Hertzen <https://hertzen.com>\r\n * Released under MIT License\r\n */\r\n\r\n(function (global, factory) {\r\n     true ? module.exports = factory() :\r\n        undefined;\r\n}(this, function () {\r\n    'use strict';\r\n\r\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n\r\n    function __extends(d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\r\n\r\n    var __assign = function () {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\r\n\r\n    function __awaiter(thisArg, _arguments, P, generator) {\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    }\r\n\r\n    function __generator(thisArg, body) {\r\n        var _ = { label: 0, sent: function () { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    }\r\n\r\n    var Bounds = /** @class */ (function () {\r\n        function Bounds(x, y, w, h) {\r\n            this.left = x;\r\n            this.top = y;\r\n            this.width = w;\r\n            this.height = h;\r\n        }\r\n        Bounds.prototype.add = function (x, y, w, h) {\r\n            return new Bounds(this.left + x, this.top + y, this.width + w, this.height + h);\r\n        };\r\n        Bounds.fromClientRect = function (clientRect) {\r\n            return new Bounds(clientRect.left, clientRect.top, clientRect.width, clientRect.height);\r\n        };\r\n        return Bounds;\r\n    }());\r\n    var parseBounds = function (node) {\r\n        return Bounds.fromClientRect(node.getBoundingClientRect());\r\n    };\r\n    var parseDocumentSize = function (document) {\r\n        var body = document.body;\r\n        var documentElement = document.documentElement;\r\n        if (!body || !documentElement) {\r\n            throw new Error(\"Unable to get document size\");\r\n        }\r\n        var width = Math.max(Math.max(body.scrollWidth, documentElement.scrollWidth), Math.max(body.offsetWidth, documentElement.offsetWidth), Math.max(body.clientWidth, documentElement.clientWidth));\r\n        var height = Math.max(Math.max(body.scrollHeight, documentElement.scrollHeight), Math.max(body.offsetHeight, documentElement.offsetHeight), Math.max(body.clientHeight, documentElement.clientHeight));\r\n        return new Bounds(0, 0, width, height);\r\n    };\r\n\r\n    /*\r\n     * css-line-break 1.1.1 <https://github.com/niklasvh/css-line-break#readme>\r\n     * Copyright (c) 2019 Niklas von Hertzen <https://hertzen.com>\r\n     * Released under MIT License\r\n     */\r\n    var toCodePoints = function (str) {\r\n        var codePoints = [];\r\n        var i = 0;\r\n        var length = str.length;\r\n        while (i < length) {\r\n            var value = str.charCodeAt(i++);\r\n            if (value >= 0xd800 && value <= 0xdbff && i < length) {\r\n                var extra = str.charCodeAt(i++);\r\n                if ((extra & 0xfc00) === 0xdc00) {\r\n                    codePoints.push(((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000);\r\n                }\r\n                else {\r\n                    codePoints.push(value);\r\n                    i--;\r\n                }\r\n            }\r\n            else {\r\n                codePoints.push(value);\r\n            }\r\n        }\r\n        return codePoints;\r\n    };\r\n    var fromCodePoint = function () {\r\n        var codePoints = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            codePoints[_i] = arguments[_i];\r\n        }\r\n        if (String.fromCodePoint) {\r\n            return String.fromCodePoint.apply(String, codePoints);\r\n        }\r\n        var length = codePoints.length;\r\n        if (!length) {\r\n            return '';\r\n        }\r\n        var codeUnits = [];\r\n        var index = -1;\r\n        var result = '';\r\n        while (++index < length) {\r\n            var codePoint = codePoints[index];\r\n            if (codePoint <= 0xffff) {\r\n                codeUnits.push(codePoint);\r\n            }\r\n            else {\r\n                codePoint -= 0x10000;\r\n                codeUnits.push((codePoint >> 10) + 0xd800, codePoint % 0x400 + 0xdc00);\r\n            }\r\n            if (index + 1 === length || codeUnits.length > 0x4000) {\r\n                result += String.fromCharCode.apply(String, codeUnits);\r\n                codeUnits.length = 0;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\r\n    // Use a lookup table to find the index.\r\n    var lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\r\n    for (var i = 0; i < chars.length; i++) {\r\n        lookup[chars.charCodeAt(i)] = i;\r\n    }\r\n    var decode = function (base64) {\r\n        var bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\r\n        if (base64[base64.length - 1] === '=') {\r\n            bufferLength--;\r\n            if (base64[base64.length - 2] === '=') {\r\n                bufferLength--;\r\n            }\r\n        }\r\n        var buffer = typeof ArrayBuffer !== 'undefined' &&\r\n            typeof Uint8Array !== 'undefined' &&\r\n            typeof Uint8Array.prototype.slice !== 'undefined'\r\n            ? new ArrayBuffer(bufferLength)\r\n            : new Array(bufferLength);\r\n        var bytes = Array.isArray(buffer) ? buffer : new Uint8Array(buffer);\r\n        for (i = 0; i < len; i += 4) {\r\n            encoded1 = lookup[base64.charCodeAt(i)];\r\n            encoded2 = lookup[base64.charCodeAt(i + 1)];\r\n            encoded3 = lookup[base64.charCodeAt(i + 2)];\r\n            encoded4 = lookup[base64.charCodeAt(i + 3)];\r\n            bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\r\n            bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\r\n            bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\r\n        }\r\n        return buffer;\r\n    };\r\n    var polyUint16Array = function (buffer) {\r\n        var length = buffer.length;\r\n        var bytes = [];\r\n        for (var i = 0; i < length; i += 2) {\r\n            bytes.push((buffer[i + 1] << 8) | buffer[i]);\r\n        }\r\n        return bytes;\r\n    };\r\n    var polyUint32Array = function (buffer) {\r\n        var length = buffer.length;\r\n        var bytes = [];\r\n        for (var i = 0; i < length; i += 4) {\r\n            bytes.push((buffer[i + 3] << 24) | (buffer[i + 2] << 16) | (buffer[i + 1] << 8) | buffer[i]);\r\n        }\r\n        return bytes;\r\n    };\r\n\r\n    /** Shift size for getting the index-2 table offset. */\r\n    var UTRIE2_SHIFT_2 = 5;\r\n    /** Shift size for getting the index-1 table offset. */\r\n    var UTRIE2_SHIFT_1 = 6 + 5;\r\n    /**\r\n     * Shift size for shifting left the index array values.\r\n     * Increases possible data size with 16-bit index values at the cost\r\n     * of compactability.\r\n     * This requires data blocks to be aligned by UTRIE2_DATA_GRANULARITY.\r\n     */\r\n    var UTRIE2_INDEX_SHIFT = 2;\r\n    /**\r\n     * Difference between the two shift sizes,\r\n     * for getting an index-1 offset from an index-2 offset. 6=11-5\r\n     */\r\n    var UTRIE2_SHIFT_1_2 = UTRIE2_SHIFT_1 - UTRIE2_SHIFT_2;\r\n    /**\r\n     * The part of the index-2 table for U+D800..U+DBFF stores values for\r\n     * lead surrogate code _units_ not code _points_.\r\n     * Values for lead surrogate code _points_ are indexed with this portion of the table.\r\n     * Length=32=0x20=0x400>>UTRIE2_SHIFT_2. (There are 1024=0x400 lead surrogates.)\r\n     */\r\n    var UTRIE2_LSCP_INDEX_2_OFFSET = 0x10000 >> UTRIE2_SHIFT_2;\r\n    /** Number of entries in a data block. 32=0x20 */\r\n    var UTRIE2_DATA_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_2;\r\n    /** Mask for getting the lower bits for the in-data-block offset. */\r\n    var UTRIE2_DATA_MASK = UTRIE2_DATA_BLOCK_LENGTH - 1;\r\n    var UTRIE2_LSCP_INDEX_2_LENGTH = 0x400 >> UTRIE2_SHIFT_2;\r\n    /** Count the lengths of both BMP pieces. 2080=0x820 */\r\n    var UTRIE2_INDEX_2_BMP_LENGTH = UTRIE2_LSCP_INDEX_2_OFFSET + UTRIE2_LSCP_INDEX_2_LENGTH;\r\n    /**\r\n     * The 2-byte UTF-8 version of the index-2 table follows at offset 2080=0x820.\r\n     * Length 32=0x20 for lead bytes C0..DF, regardless of UTRIE2_SHIFT_2.\r\n     */\r\n    var UTRIE2_UTF8_2B_INDEX_2_OFFSET = UTRIE2_INDEX_2_BMP_LENGTH;\r\n    var UTRIE2_UTF8_2B_INDEX_2_LENGTH = 0x800 >> 6; /* U+0800 is the first code point after 2-byte UTF-8 */\r\n    /**\r\n     * The index-1 table, only used for supplementary code points, at offset 2112=0x840.\r\n     * Variable length, for code points up to highStart, where the last single-value range starts.\r\n     * Maximum length 512=0x200=0x100000>>UTRIE2_SHIFT_1.\r\n     * (For 0x100000 supplementary code points U+10000..U+10ffff.)\r\n     *\r\n     * The part of the index-2 table for supplementary code points starts\r\n     * after this index-1 table.\r\n     *\r\n     * Both the index-1 table and the following part of the index-2 table\r\n     * are omitted completely if there is only BMP data.\r\n     */\r\n    var UTRIE2_INDEX_1_OFFSET = UTRIE2_UTF8_2B_INDEX_2_OFFSET + UTRIE2_UTF8_2B_INDEX_2_LENGTH;\r\n    /**\r\n     * Number of index-1 entries for the BMP. 32=0x20\r\n     * This part of the index-1 table is omitted from the serialized form.\r\n     */\r\n    var UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = 0x10000 >> UTRIE2_SHIFT_1;\r\n    /** Number of entries in an index-2 block. 64=0x40 */\r\n    var UTRIE2_INDEX_2_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_1_2;\r\n    /** Mask for getting the lower bits for the in-index-2-block offset. */\r\n    var UTRIE2_INDEX_2_MASK = UTRIE2_INDEX_2_BLOCK_LENGTH - 1;\r\n    var slice16 = function (view, start, end) {\r\n        if (view.slice) {\r\n            return view.slice(start, end);\r\n        }\r\n        return new Uint16Array(Array.prototype.slice.call(view, start, end));\r\n    };\r\n    var slice32 = function (view, start, end) {\r\n        if (view.slice) {\r\n            return view.slice(start, end);\r\n        }\r\n        return new Uint32Array(Array.prototype.slice.call(view, start, end));\r\n    };\r\n    var createTrieFromBase64 = function (base64) {\r\n        var buffer = decode(base64);\r\n        var view32 = Array.isArray(buffer) ? polyUint32Array(buffer) : new Uint32Array(buffer);\r\n        var view16 = Array.isArray(buffer) ? polyUint16Array(buffer) : new Uint16Array(buffer);\r\n        var headerLength = 24;\r\n        var index = slice16(view16, headerLength / 2, view32[4] / 2);\r\n        var data = view32[5] === 2\r\n            ? slice16(view16, (headerLength + view32[4]) / 2)\r\n            : slice32(view32, Math.ceil((headerLength + view32[4]) / 4));\r\n        return new Trie(view32[0], view32[1], view32[2], view32[3], index, data);\r\n    };\r\n    var Trie = /** @class */ (function () {\r\n        function Trie(initialValue, errorValue, highStart, highValueIndex, index, data) {\r\n            this.initialValue = initialValue;\r\n            this.errorValue = errorValue;\r\n            this.highStart = highStart;\r\n            this.highValueIndex = highValueIndex;\r\n            this.index = index;\r\n            this.data = data;\r\n        }\r\n        /**\r\n         * Get the value for a code point as stored in the Trie.\r\n         *\r\n         * @param codePoint the code point\r\n         * @return the value\r\n         */\r\n        Trie.prototype.get = function (codePoint) {\r\n            var ix;\r\n            if (codePoint >= 0) {\r\n                if (codePoint < 0x0d800 || (codePoint > 0x0dbff && codePoint <= 0x0ffff)) {\r\n                    // Ordinary BMP code point, excluding leading surrogates.\r\n                    // BMP uses a single level lookup.  BMP index starts at offset 0 in the Trie2 index.\r\n                    // 16 bit data is stored in the index array itself.\r\n                    ix = this.index[codePoint >> UTRIE2_SHIFT_2];\r\n                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\r\n                    return this.data[ix];\r\n                }\r\n                if (codePoint <= 0xffff) {\r\n                    // Lead Surrogate Code Point.  A Separate index section is stored for\r\n                    // lead surrogate code units and code points.\r\n                    //   The main index has the code unit data.\r\n                    //   For this function, we need the code point data.\r\n                    // Note: this expression could be refactored for slightly improved efficiency, but\r\n                    //       surrogate code points will be so rare in practice that it's not worth it.\r\n                    ix = this.index[UTRIE2_LSCP_INDEX_2_OFFSET + ((codePoint - 0xd800) >> UTRIE2_SHIFT_2)];\r\n                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\r\n                    return this.data[ix];\r\n                }\r\n                if (codePoint < this.highStart) {\r\n                    // Supplemental code point, use two-level lookup.\r\n                    ix = UTRIE2_INDEX_1_OFFSET - UTRIE2_OMITTED_BMP_INDEX_1_LENGTH + (codePoint >> UTRIE2_SHIFT_1);\r\n                    ix = this.index[ix];\r\n                    ix += (codePoint >> UTRIE2_SHIFT_2) & UTRIE2_INDEX_2_MASK;\r\n                    ix = this.index[ix];\r\n                    ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);\r\n                    return this.data[ix];\r\n                }\r\n                if (codePoint <= 0x10ffff) {\r\n                    return this.data[this.highValueIndex];\r\n                }\r\n            }\r\n            // Fall through.  The code point is outside of the legal range of 0..0x10ffff.\r\n            return this.errorValue;\r\n        };\r\n        return Trie;\r\n    }());\r\n\r\n    var base64 = 'KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA';\r\n\r\n    /* @flow */\r\n    var LETTER_NUMBER_MODIFIER = 50;\r\n    // Non-tailorable Line Breaking Classes\r\n    var BK = 1; //  Cause a line break (after)\r\n    var CR = 2; //  Cause a line break (after), except between CR and LF\r\n    var LF = 3; //  Cause a line break (after)\r\n    var CM = 4; //  Prohibit a line break between the character and the preceding character\r\n    var NL = 5; //  Cause a line break (after)\r\n    var WJ = 7; //  Prohibit line breaks before and after\r\n    var ZW = 8; //  Provide a break opportunity\r\n    var GL = 9; //  Prohibit line breaks before and after\r\n    var SP = 10; // Enable indirect line breaks\r\n    var ZWJ = 11; // Prohibit line breaks within joiner sequences\r\n    // Break Opportunities\r\n    var B2 = 12; //  Provide a line break opportunity before and after the character\r\n    var BA = 13; //  Generally provide a line break opportunity after the character\r\n    var BB = 14; //  Generally provide a line break opportunity before the character\r\n    var HY = 15; //  Provide a line break opportunity after the character, except in numeric context\r\n    var CB = 16; //   Provide a line break opportunity contingent on additional information\r\n    // Characters Prohibiting Certain Breaks\r\n    var CL = 17; //  Prohibit line breaks before\r\n    var CP = 18; //  Prohibit line breaks before\r\n    var EX = 19; //  Prohibit line breaks before\r\n    var IN = 20; //  Allow only indirect line breaks between pairs\r\n    var NS = 21; //  Allow only indirect line breaks before\r\n    var OP = 22; //  Prohibit line breaks after\r\n    var QU = 23; //  Act like they are both opening and closing\r\n    // Numeric Context\r\n    var IS = 24; //  Prevent breaks after any and before numeric\r\n    var NU = 25; //  Form numeric expressions for line breaking purposes\r\n    var PO = 26; //  Do not break following a numeric expression\r\n    var PR = 27; //  Do not break in front of a numeric expression\r\n    var SY = 28; //  Prevent a break before; and allow a break after\r\n    // Other Characters\r\n    var AI = 29; //  Act like AL when the resolvedEAW is N; otherwise; act as ID\r\n    var AL = 30; //  Are alphabetic characters or symbols that are used with alphabetic characters\r\n    var CJ = 31; //  Treat as NS or ID for strict or normal breaking.\r\n    var EB = 32; //  Do not break from following Emoji Modifier\r\n    var EM = 33; //  Do not break from preceding Emoji Base\r\n    var H2 = 34; //  Form Korean syllable blocks\r\n    var H3 = 35; //  Form Korean syllable blocks\r\n    var HL = 36; //  Do not break around a following hyphen; otherwise act as Alphabetic\r\n    var ID = 37; //  Break before or after; except in some numeric context\r\n    var JL = 38; //  Form Korean syllable blocks\r\n    var JV = 39; //  Form Korean syllable blocks\r\n    var JT = 40; //  Form Korean syllable blocks\r\n    var RI = 41; //  Keep pairs together. For pairs; break before and after other classes\r\n    var SA = 42; //  Provide a line break opportunity contingent on additional, language-specific context analysis\r\n    var XX = 43; //  Have as yet unknown line breaking behavior or unassigned code positions\r\n    var BREAK_MANDATORY = '!';\r\n    var BREAK_NOT_ALLOWED = '';\r\n    var BREAK_ALLOWED = '';\r\n    var UnicodeTrie = createTrieFromBase64(base64);\r\n    var ALPHABETICS = [AL, HL];\r\n    var HARD_LINE_BREAKS = [BK, CR, LF, NL];\r\n    var SPACE = [SP, ZW];\r\n    var PREFIX_POSTFIX = [PR, PO];\r\n    var LINE_BREAKS = HARD_LINE_BREAKS.concat(SPACE);\r\n    var KOREAN_SYLLABLE_BLOCK = [JL, JV, JT, H2, H3];\r\n    var HYPHEN = [HY, BA];\r\n    var codePointsToCharacterClasses = function (codePoints, lineBreak) {\r\n        if (lineBreak === void 0) { lineBreak = 'strict'; }\r\n        var types = [];\r\n        var indicies = [];\r\n        var categories = [];\r\n        codePoints.forEach(function (codePoint, index) {\r\n            var classType = UnicodeTrie.get(codePoint);\r\n            if (classType > LETTER_NUMBER_MODIFIER) {\r\n                categories.push(true);\r\n                classType -= LETTER_NUMBER_MODIFIER;\r\n            }\r\n            else {\r\n                categories.push(false);\r\n            }\r\n            if (['normal', 'auto', 'loose'].indexOf(lineBreak) !== -1) {\r\n                // U+2010,  U+2013,  U+301C,  U+30A0\r\n                if ([0x2010, 0x2013, 0x301c, 0x30a0].indexOf(codePoint) !== -1) {\r\n                    indicies.push(index);\r\n                    return types.push(CB);\r\n                }\r\n            }\r\n            if (classType === CM || classType === ZWJ) {\r\n                // LB10 Treat any remaining combining mark or ZWJ as AL.\r\n                if (index === 0) {\r\n                    indicies.push(index);\r\n                    return types.push(AL);\r\n                }\r\n                // LB9 Do not break a combining character sequence; treat it as if it has the line breaking class of\r\n                // the base character in all of the following rules. Treat ZWJ as if it were CM.\r\n                var prev = types[index - 1];\r\n                if (LINE_BREAKS.indexOf(prev) === -1) {\r\n                    indicies.push(indicies[index - 1]);\r\n                    return types.push(prev);\r\n                }\r\n                indicies.push(index);\r\n                return types.push(AL);\r\n            }\r\n            indicies.push(index);\r\n            if (classType === CJ) {\r\n                return types.push(lineBreak === 'strict' ? NS : ID);\r\n            }\r\n            if (classType === SA) {\r\n                return types.push(AL);\r\n            }\r\n            if (classType === AI) {\r\n                return types.push(AL);\r\n            }\r\n            // For supplementary characters, a useful default is to treat characters in the range 10000..1FFFD as AL\r\n            // and characters in the ranges 20000..2FFFD and 30000..3FFFD as ID, until the implementation can be revised\r\n            // to take into account the actual line breaking properties for these characters.\r\n            if (classType === XX) {\r\n                if ((codePoint >= 0x20000 && codePoint <= 0x2fffd) || (codePoint >= 0x30000 && codePoint <= 0x3fffd)) {\r\n                    return types.push(ID);\r\n                }\r\n                else {\r\n                    return types.push(AL);\r\n                }\r\n            }\r\n            types.push(classType);\r\n        });\r\n        return [indicies, types, categories];\r\n    };\r\n    var isAdjacentWithSpaceIgnored = function (a, b, currentIndex, classTypes) {\r\n        var current = classTypes[currentIndex];\r\n        if (Array.isArray(a) ? a.indexOf(current) !== -1 : a === current) {\r\n            var i = currentIndex;\r\n            while (i <= classTypes.length) {\r\n                i++;\r\n                var next = classTypes[i];\r\n                if (next === b) {\r\n                    return true;\r\n                }\r\n                if (next !== SP) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (current === SP) {\r\n            var i = currentIndex;\r\n            while (i > 0) {\r\n                i--;\r\n                var prev = classTypes[i];\r\n                if (Array.isArray(a) ? a.indexOf(prev) !== -1 : a === prev) {\r\n                    var n = currentIndex;\r\n                    while (n <= classTypes.length) {\r\n                        n++;\r\n                        var next = classTypes[n];\r\n                        if (next === b) {\r\n                            return true;\r\n                        }\r\n                        if (next !== SP) {\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if (prev !== SP) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    var previousNonSpaceClassType = function (currentIndex, classTypes) {\r\n        var i = currentIndex;\r\n        while (i >= 0) {\r\n            var type = classTypes[i];\r\n            if (type === SP) {\r\n                i--;\r\n            }\r\n            else {\r\n                return type;\r\n            }\r\n        }\r\n        return 0;\r\n    };\r\n    var _lineBreakAtIndex = function (codePoints, classTypes, indicies, index, forbiddenBreaks) {\r\n        if (indicies[index] === 0) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        var currentIndex = index - 1;\r\n        if (Array.isArray(forbiddenBreaks) && forbiddenBreaks[currentIndex] === true) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        var beforeIndex = currentIndex - 1;\r\n        var afterIndex = currentIndex + 1;\r\n        var current = classTypes[currentIndex];\r\n        // LB4 Always break after hard line breaks.\r\n        // LB5 Treat CR followed by LF, as well as CR, LF, and NL as hard line breaks.\r\n        var before = beforeIndex >= 0 ? classTypes[beforeIndex] : 0;\r\n        var next = classTypes[afterIndex];\r\n        if (current === CR && next === LF) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        if (HARD_LINE_BREAKS.indexOf(current) !== -1) {\r\n            return BREAK_MANDATORY;\r\n        }\r\n        // LB6 Do not break before hard line breaks.\r\n        if (HARD_LINE_BREAKS.indexOf(next) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB7 Do not break before spaces or zero width space.\r\n        if (SPACE.indexOf(next) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB8 Break before any character following a zero-width space, even if one or more spaces intervene.\r\n        if (previousNonSpaceClassType(currentIndex, classTypes) === ZW) {\r\n            return BREAK_ALLOWED;\r\n        }\r\n        // LB8a Do not break between a zero width joiner and an ideograph, emoji base or emoji modifier.\r\n        if (UnicodeTrie.get(codePoints[currentIndex]) === ZWJ && (next === ID || next === EB || next === EM)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB11 Do not break before or after Word joiner and related characters.\r\n        if (current === WJ || next === WJ) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB12 Do not break after NBSP and related characters.\r\n        if (current === GL) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB12a Do not break before NBSP and related characters, except after spaces and hyphens.\r\n        if ([SP, BA, HY].indexOf(current) === -1 && next === GL) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB13 Do not break before ] or ! or ; or /, even after spaces.\r\n        if ([CL, CP, EX, IS, SY].indexOf(next) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB14 Do not break after [, even after spaces.\r\n        if (previousNonSpaceClassType(currentIndex, classTypes) === OP) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB15 Do not break within [, even with intervening spaces.\r\n        if (isAdjacentWithSpaceIgnored(QU, OP, currentIndex, classTypes)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB16 Do not break between closing punctuation and a nonstarter (lb=NS), even with intervening spaces.\r\n        if (isAdjacentWithSpaceIgnored([CL, CP], NS, currentIndex, classTypes)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB17 Do not break within , even with intervening spaces.\r\n        if (isAdjacentWithSpaceIgnored(B2, B2, currentIndex, classTypes)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB18 Break after spaces.\r\n        if (current === SP) {\r\n            return BREAK_ALLOWED;\r\n        }\r\n        // LB19 Do not break before or after quotation marks, such as   .\r\n        if (current === QU || next === QU) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB20 Break before and after unresolved CB.\r\n        if (next === CB || current === CB) {\r\n            return BREAK_ALLOWED;\r\n        }\r\n        // LB21 Do not break before hyphen-minus, other hyphens, fixed-width spaces, small kana, and other non-starters, or after acute accents.\r\n        if ([BA, HY, NS].indexOf(next) !== -1 || current === BB) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB21a Don't break after Hebrew + Hyphen.\r\n        if (before === HL && HYPHEN.indexOf(current) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB21b Dont break between Solidus and Hebrew letters.\r\n        if (current === SY && next === HL) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB22 Do not break between two ellipses, or between letters, numbers or exclamations and ellipsis.\r\n        if (next === IN && ALPHABETICS.concat(IN, EX, NU, ID, EB, EM).indexOf(current) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB23 Do not break between digits and letters.\r\n        if ((ALPHABETICS.indexOf(next) !== -1 && current === NU) || (ALPHABETICS.indexOf(current) !== -1 && next === NU)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB23a Do not break between numeric prefixes and ideographs, or between ideographs and numeric postfixes.\r\n        if ((current === PR && [ID, EB, EM].indexOf(next) !== -1) ||\r\n            ([ID, EB, EM].indexOf(current) !== -1 && next === PO)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB24 Do not break between numeric prefix/postfix and letters, or between letters and prefix/postfix.\r\n        if ((ALPHABETICS.indexOf(current) !== -1 && PREFIX_POSTFIX.indexOf(next) !== -1) ||\r\n            (PREFIX_POSTFIX.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB25 Do not break between the following pairs of classes relevant to numbers:\r\n        if (\r\n            // (PR | PO)  ( OP | HY )? NU\r\n            ([PR, PO].indexOf(current) !== -1 &&\r\n                (next === NU || ([OP, HY].indexOf(next) !== -1 && classTypes[afterIndex + 1] === NU))) ||\r\n            // ( OP | HY )  NU\r\n            ([OP, HY].indexOf(current) !== -1 && next === NU) ||\r\n            // NU \t(NU | SY | IS)\r\n            (current === NU && [NU, SY, IS].indexOf(next) !== -1)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // NU (NU | SY | IS)*  (NU | SY | IS | CL | CP)\r\n        if ([NU, SY, IS, CL, CP].indexOf(next) !== -1) {\r\n            var prevIndex = currentIndex;\r\n            while (prevIndex >= 0) {\r\n                var type = classTypes[prevIndex];\r\n                if (type === NU) {\r\n                    return BREAK_NOT_ALLOWED;\r\n                }\r\n                else if ([SY, IS].indexOf(type) !== -1) {\r\n                    prevIndex--;\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // NU (NU | SY | IS)* (CL | CP)?  (PO | PR))\r\n        if ([PR, PO].indexOf(next) !== -1) {\r\n            var prevIndex = [CL, CP].indexOf(current) !== -1 ? beforeIndex : currentIndex;\r\n            while (prevIndex >= 0) {\r\n                var type = classTypes[prevIndex];\r\n                if (type === NU) {\r\n                    return BREAK_NOT_ALLOWED;\r\n                }\r\n                else if ([SY, IS].indexOf(type) !== -1) {\r\n                    prevIndex--;\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // LB26 Do not break a Korean syllable.\r\n        if ((JL === current && [JL, JV, H2, H3].indexOf(next) !== -1) ||\r\n            ([JV, H2].indexOf(current) !== -1 && [JV, JT].indexOf(next) !== -1) ||\r\n            ([JT, H3].indexOf(current) !== -1 && next === JT)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB27 Treat a Korean Syllable Block the same as ID.\r\n        if ((KOREAN_SYLLABLE_BLOCK.indexOf(current) !== -1 && [IN, PO].indexOf(next) !== -1) ||\r\n            (KOREAN_SYLLABLE_BLOCK.indexOf(next) !== -1 && current === PR)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB28 Do not break between alphabetics (at).\r\n        if (ALPHABETICS.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB29 Do not break between numeric punctuation and alphabetics (e.g.).\r\n        if (current === IS && ALPHABETICS.indexOf(next) !== -1) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB30 Do not break between letters, numbers, or ordinary symbols and opening or closing parentheses.\r\n        if ((ALPHABETICS.concat(NU).indexOf(current) !== -1 && next === OP) ||\r\n            (ALPHABETICS.concat(NU).indexOf(next) !== -1 && current === CP)) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        // LB30a Break between two regional indicator symbols if and only if there are an even number of regional\r\n        // indicators preceding the position of the break.\r\n        if (current === RI && next === RI) {\r\n            var i = indicies[currentIndex];\r\n            var count = 1;\r\n            while (i > 0) {\r\n                i--;\r\n                if (classTypes[i] === RI) {\r\n                    count++;\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n            if (count % 2 !== 0) {\r\n                return BREAK_NOT_ALLOWED;\r\n            }\r\n        }\r\n        // LB30b Do not break between an emoji base and an emoji modifier.\r\n        if (current === EB && next === EM) {\r\n            return BREAK_NOT_ALLOWED;\r\n        }\r\n        return BREAK_ALLOWED;\r\n    };\r\n    var cssFormattedClasses = function (codePoints, options) {\r\n        if (!options) {\r\n            options = { lineBreak: 'normal', wordBreak: 'normal' };\r\n        }\r\n        var _a = codePointsToCharacterClasses(codePoints, options.lineBreak), indicies = _a[0], classTypes = _a[1], isLetterNumber = _a[2];\r\n        if (options.wordBreak === 'break-all' || options.wordBreak === 'break-word') {\r\n            classTypes = classTypes.map(function (type) { return ([NU, AL, SA].indexOf(type) !== -1 ? ID : type); });\r\n        }\r\n        var forbiddenBreakpoints = options.wordBreak === 'keep-all'\r\n            ? isLetterNumber.map(function (letterNumber, i) {\r\n                return letterNumber && codePoints[i] >= 0x4e00 && codePoints[i] <= 0x9fff;\r\n            })\r\n            : undefined;\r\n        return [indicies, classTypes, forbiddenBreakpoints];\r\n    };\r\n    var Break = /** @class */ (function () {\r\n        function Break(codePoints, lineBreak, start, end) {\r\n            this.codePoints = codePoints;\r\n            this.required = lineBreak === BREAK_MANDATORY;\r\n            this.start = start;\r\n            this.end = end;\r\n        }\r\n        Break.prototype.slice = function () {\r\n            return fromCodePoint.apply(void 0, this.codePoints.slice(this.start, this.end));\r\n        };\r\n        return Break;\r\n    }());\r\n    var LineBreaker = function (str, options) {\r\n        var codePoints = toCodePoints(str);\r\n        var _a = cssFormattedClasses(codePoints, options), indicies = _a[0], classTypes = _a[1], forbiddenBreakpoints = _a[2];\r\n        var length = codePoints.length;\r\n        var lastEnd = 0;\r\n        var nextIndex = 0;\r\n        return {\r\n            next: function () {\r\n                if (nextIndex >= length) {\r\n                    return { done: true, value: null };\r\n                }\r\n                var lineBreak = BREAK_NOT_ALLOWED;\r\n                while (nextIndex < length &&\r\n                    (lineBreak = _lineBreakAtIndex(codePoints, classTypes, indicies, ++nextIndex, forbiddenBreakpoints)) ===\r\n                    BREAK_NOT_ALLOWED) { }\r\n                if (lineBreak !== BREAK_NOT_ALLOWED || nextIndex === length) {\r\n                    var value = new Break(codePoints, lineBreak, lastEnd, nextIndex);\r\n                    lastEnd = nextIndex;\r\n                    return { value: value, done: false };\r\n                }\r\n                return { done: true, value: null };\r\n            },\r\n        };\r\n    };\r\n\r\n    // https://www.w3.org/TR/css-syntax-3\r\n    var TokenType;\r\n    (function (TokenType) {\r\n        TokenType[TokenType[\"STRING_TOKEN\"] = 0] = \"STRING_TOKEN\";\r\n        TokenType[TokenType[\"BAD_STRING_TOKEN\"] = 1] = \"BAD_STRING_TOKEN\";\r\n        TokenType[TokenType[\"LEFT_PARENTHESIS_TOKEN\"] = 2] = \"LEFT_PARENTHESIS_TOKEN\";\r\n        TokenType[TokenType[\"RIGHT_PARENTHESIS_TOKEN\"] = 3] = \"RIGHT_PARENTHESIS_TOKEN\";\r\n        TokenType[TokenType[\"COMMA_TOKEN\"] = 4] = \"COMMA_TOKEN\";\r\n        TokenType[TokenType[\"HASH_TOKEN\"] = 5] = \"HASH_TOKEN\";\r\n        TokenType[TokenType[\"DELIM_TOKEN\"] = 6] = \"DELIM_TOKEN\";\r\n        TokenType[TokenType[\"AT_KEYWORD_TOKEN\"] = 7] = \"AT_KEYWORD_TOKEN\";\r\n        TokenType[TokenType[\"PREFIX_MATCH_TOKEN\"] = 8] = \"PREFIX_MATCH_TOKEN\";\r\n        TokenType[TokenType[\"DASH_MATCH_TOKEN\"] = 9] = \"DASH_MATCH_TOKEN\";\r\n        TokenType[TokenType[\"INCLUDE_MATCH_TOKEN\"] = 10] = \"INCLUDE_MATCH_TOKEN\";\r\n        TokenType[TokenType[\"LEFT_CURLY_BRACKET_TOKEN\"] = 11] = \"LEFT_CURLY_BRACKET_TOKEN\";\r\n        TokenType[TokenType[\"RIGHT_CURLY_BRACKET_TOKEN\"] = 12] = \"RIGHT_CURLY_BRACKET_TOKEN\";\r\n        TokenType[TokenType[\"SUFFIX_MATCH_TOKEN\"] = 13] = \"SUFFIX_MATCH_TOKEN\";\r\n        TokenType[TokenType[\"SUBSTRING_MATCH_TOKEN\"] = 14] = \"SUBSTRING_MATCH_TOKEN\";\r\n        TokenType[TokenType[\"DIMENSION_TOKEN\"] = 15] = \"DIMENSION_TOKEN\";\r\n        TokenType[TokenType[\"PERCENTAGE_TOKEN\"] = 16] = \"PERCENTAGE_TOKEN\";\r\n        TokenType[TokenType[\"NUMBER_TOKEN\"] = 17] = \"NUMBER_TOKEN\";\r\n        TokenType[TokenType[\"FUNCTION\"] = 18] = \"FUNCTION\";\r\n        TokenType[TokenType[\"FUNCTION_TOKEN\"] = 19] = \"FUNCTION_TOKEN\";\r\n        TokenType[TokenType[\"IDENT_TOKEN\"] = 20] = \"IDENT_TOKEN\";\r\n        TokenType[TokenType[\"COLUMN_TOKEN\"] = 21] = \"COLUMN_TOKEN\";\r\n        TokenType[TokenType[\"URL_TOKEN\"] = 22] = \"URL_TOKEN\";\r\n        TokenType[TokenType[\"BAD_URL_TOKEN\"] = 23] = \"BAD_URL_TOKEN\";\r\n        TokenType[TokenType[\"CDC_TOKEN\"] = 24] = \"CDC_TOKEN\";\r\n        TokenType[TokenType[\"CDO_TOKEN\"] = 25] = \"CDO_TOKEN\";\r\n        TokenType[TokenType[\"COLON_TOKEN\"] = 26] = \"COLON_TOKEN\";\r\n        TokenType[TokenType[\"SEMICOLON_TOKEN\"] = 27] = \"SEMICOLON_TOKEN\";\r\n        TokenType[TokenType[\"LEFT_SQUARE_BRACKET_TOKEN\"] = 28] = \"LEFT_SQUARE_BRACKET_TOKEN\";\r\n        TokenType[TokenType[\"RIGHT_SQUARE_BRACKET_TOKEN\"] = 29] = \"RIGHT_SQUARE_BRACKET_TOKEN\";\r\n        TokenType[TokenType[\"UNICODE_RANGE_TOKEN\"] = 30] = \"UNICODE_RANGE_TOKEN\";\r\n        TokenType[TokenType[\"WHITESPACE_TOKEN\"] = 31] = \"WHITESPACE_TOKEN\";\r\n        TokenType[TokenType[\"EOF_TOKEN\"] = 32] = \"EOF_TOKEN\";\r\n    })(TokenType || (TokenType = {}));\r\n    var FLAG_UNRESTRICTED = 1 << 0;\r\n    var FLAG_ID = 1 << 1;\r\n    var FLAG_INTEGER = 1 << 2;\r\n    var FLAG_NUMBER = 1 << 3;\r\n    var LINE_FEED = 0x000a;\r\n    var SOLIDUS = 0x002f;\r\n    var REVERSE_SOLIDUS = 0x005c;\r\n    var CHARACTER_TABULATION = 0x0009;\r\n    var SPACE$1 = 0x0020;\r\n    var QUOTATION_MARK = 0x0022;\r\n    var EQUALS_SIGN = 0x003d;\r\n    var NUMBER_SIGN = 0x0023;\r\n    var DOLLAR_SIGN = 0x0024;\r\n    var PERCENTAGE_SIGN = 0x0025;\r\n    var APOSTROPHE = 0x0027;\r\n    var LEFT_PARENTHESIS = 0x0028;\r\n    var RIGHT_PARENTHESIS = 0x0029;\r\n    var LOW_LINE = 0x005f;\r\n    var HYPHEN_MINUS = 0x002d;\r\n    var EXCLAMATION_MARK = 0x0021;\r\n    var LESS_THAN_SIGN = 0x003c;\r\n    var GREATER_THAN_SIGN = 0x003e;\r\n    var COMMERCIAL_AT = 0x0040;\r\n    var LEFT_SQUARE_BRACKET = 0x005b;\r\n    var RIGHT_SQUARE_BRACKET = 0x005d;\r\n    var CIRCUMFLEX_ACCENT = 0x003d;\r\n    var LEFT_CURLY_BRACKET = 0x007b;\r\n    var QUESTION_MARK = 0x003f;\r\n    var RIGHT_CURLY_BRACKET = 0x007d;\r\n    var VERTICAL_LINE = 0x007c;\r\n    var TILDE = 0x007e;\r\n    var CONTROL = 0x0080;\r\n    var REPLACEMENT_CHARACTER = 0xfffd;\r\n    var ASTERISK = 0x002a;\r\n    var PLUS_SIGN = 0x002b;\r\n    var COMMA = 0x002c;\r\n    var COLON = 0x003a;\r\n    var SEMICOLON = 0x003b;\r\n    var FULL_STOP = 0x002e;\r\n    var NULL = 0x0000;\r\n    var BACKSPACE = 0x0008;\r\n    var LINE_TABULATION = 0x000b;\r\n    var SHIFT_OUT = 0x000e;\r\n    var INFORMATION_SEPARATOR_ONE = 0x001f;\r\n    var DELETE = 0x007f;\r\n    var EOF = -1;\r\n    var ZERO = 0x0030;\r\n    var a = 0x0061;\r\n    var e = 0x0065;\r\n    var f = 0x0066;\r\n    var u = 0x0075;\r\n    var z = 0x007a;\r\n    var A = 0x0041;\r\n    var E = 0x0045;\r\n    var F = 0x0046;\r\n    var U = 0x0055;\r\n    var Z = 0x005a;\r\n    var isDigit = function (codePoint) { return codePoint >= ZERO && codePoint <= 0x0039; };\r\n    var isSurrogateCodePoint = function (codePoint) { return codePoint >= 0xd800 && codePoint <= 0xdfff; };\r\n    var isHex = function (codePoint) {\r\n        return isDigit(codePoint) || (codePoint >= A && codePoint <= F) || (codePoint >= a && codePoint <= f);\r\n    };\r\n    var isLowerCaseLetter = function (codePoint) { return codePoint >= a && codePoint <= z; };\r\n    var isUpperCaseLetter = function (codePoint) { return codePoint >= A && codePoint <= Z; };\r\n    var isLetter = function (codePoint) { return isLowerCaseLetter(codePoint) || isUpperCaseLetter(codePoint); };\r\n    var isNonASCIICodePoint = function (codePoint) { return codePoint >= CONTROL; };\r\n    var isWhiteSpace = function (codePoint) {\r\n        return codePoint === LINE_FEED || codePoint === CHARACTER_TABULATION || codePoint === SPACE$1;\r\n    };\r\n    var isNameStartCodePoint = function (codePoint) {\r\n        return isLetter(codePoint) || isNonASCIICodePoint(codePoint) || codePoint === LOW_LINE;\r\n    };\r\n    var isNameCodePoint = function (codePoint) {\r\n        return isNameStartCodePoint(codePoint) || isDigit(codePoint) || codePoint === HYPHEN_MINUS;\r\n    };\r\n    var isNonPrintableCodePoint = function (codePoint) {\r\n        return ((codePoint >= NULL && codePoint <= BACKSPACE) ||\r\n            codePoint === LINE_TABULATION ||\r\n            (codePoint >= SHIFT_OUT && codePoint <= INFORMATION_SEPARATOR_ONE) ||\r\n            codePoint === DELETE);\r\n    };\r\n    var isValidEscape = function (c1, c2) {\r\n        if (c1 !== REVERSE_SOLIDUS) {\r\n            return false;\r\n        }\r\n        return c2 !== LINE_FEED;\r\n    };\r\n    var isIdentifierStart = function (c1, c2, c3) {\r\n        if (c1 === HYPHEN_MINUS) {\r\n            return isNameStartCodePoint(c2) || isValidEscape(c2, c3);\r\n        }\r\n        else if (isNameStartCodePoint(c1)) {\r\n            return true;\r\n        }\r\n        else if (c1 === REVERSE_SOLIDUS && isValidEscape(c1, c2)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    var isNumberStart = function (c1, c2, c3) {\r\n        if (c1 === PLUS_SIGN || c1 === HYPHEN_MINUS) {\r\n            if (isDigit(c2)) {\r\n                return true;\r\n            }\r\n            return c2 === FULL_STOP && isDigit(c3);\r\n        }\r\n        if (c1 === FULL_STOP) {\r\n            return isDigit(c2);\r\n        }\r\n        return isDigit(c1);\r\n    };\r\n    var stringToNumber = function (codePoints) {\r\n        var c = 0;\r\n        var sign = 1;\r\n        if (codePoints[c] === PLUS_SIGN || codePoints[c] === HYPHEN_MINUS) {\r\n            if (codePoints[c] === HYPHEN_MINUS) {\r\n                sign = -1;\r\n            }\r\n            c++;\r\n        }\r\n        var integers = [];\r\n        while (isDigit(codePoints[c])) {\r\n            integers.push(codePoints[c++]);\r\n        }\r\n        var int = integers.length ? parseInt(fromCodePoint.apply(void 0, integers), 10) : 0;\r\n        if (codePoints[c] === FULL_STOP) {\r\n            c++;\r\n        }\r\n        var fraction = [];\r\n        while (isDigit(codePoints[c])) {\r\n            fraction.push(codePoints[c++]);\r\n        }\r\n        var fracd = fraction.length;\r\n        var frac = fracd ? parseInt(fromCodePoint.apply(void 0, fraction), 10) : 0;\r\n        if (codePoints[c] === E || codePoints[c] === e) {\r\n            c++;\r\n        }\r\n        var expsign = 1;\r\n        if (codePoints[c] === PLUS_SIGN || codePoints[c] === HYPHEN_MINUS) {\r\n            if (codePoints[c] === HYPHEN_MINUS) {\r\n                expsign = -1;\r\n            }\r\n            c++;\r\n        }\r\n        var exponent = [];\r\n        while (isDigit(codePoints[c])) {\r\n            exponent.push(codePoints[c++]);\r\n        }\r\n        var exp = exponent.length ? parseInt(fromCodePoint.apply(void 0, exponent), 10) : 0;\r\n        return sign * (int + frac * Math.pow(10, -fracd)) * Math.pow(10, expsign * exp);\r\n    };\r\n    var LEFT_PARENTHESIS_TOKEN = {\r\n        type: TokenType.LEFT_PARENTHESIS_TOKEN\r\n    };\r\n    var RIGHT_PARENTHESIS_TOKEN = {\r\n        type: TokenType.RIGHT_PARENTHESIS_TOKEN\r\n    };\r\n    var COMMA_TOKEN = { type: TokenType.COMMA_TOKEN };\r\n    var SUFFIX_MATCH_TOKEN = { type: TokenType.SUFFIX_MATCH_TOKEN };\r\n    var PREFIX_MATCH_TOKEN = { type: TokenType.PREFIX_MATCH_TOKEN };\r\n    var COLUMN_TOKEN = { type: TokenType.COLUMN_TOKEN };\r\n    var DASH_MATCH_TOKEN = { type: TokenType.DASH_MATCH_TOKEN };\r\n    var INCLUDE_MATCH_TOKEN = { type: TokenType.INCLUDE_MATCH_TOKEN };\r\n    var LEFT_CURLY_BRACKET_TOKEN = {\r\n        type: TokenType.LEFT_CURLY_BRACKET_TOKEN\r\n    };\r\n    var RIGHT_CURLY_BRACKET_TOKEN = {\r\n        type: TokenType.RIGHT_CURLY_BRACKET_TOKEN\r\n    };\r\n    var SUBSTRING_MATCH_TOKEN = { type: TokenType.SUBSTRING_MATCH_TOKEN };\r\n    var BAD_URL_TOKEN = { type: TokenType.BAD_URL_TOKEN };\r\n    var BAD_STRING_TOKEN = { type: TokenType.BAD_STRING_TOKEN };\r\n    var CDO_TOKEN = { type: TokenType.CDO_TOKEN };\r\n    var CDC_TOKEN = { type: TokenType.CDC_TOKEN };\r\n    var COLON_TOKEN = { type: TokenType.COLON_TOKEN };\r\n    var SEMICOLON_TOKEN = { type: TokenType.SEMICOLON_TOKEN };\r\n    var LEFT_SQUARE_BRACKET_TOKEN = {\r\n        type: TokenType.LEFT_SQUARE_BRACKET_TOKEN\r\n    };\r\n    var RIGHT_SQUARE_BRACKET_TOKEN = {\r\n        type: TokenType.RIGHT_SQUARE_BRACKET_TOKEN\r\n    };\r\n    var WHITESPACE_TOKEN = { type: TokenType.WHITESPACE_TOKEN };\r\n    var EOF_TOKEN = { type: TokenType.EOF_TOKEN };\r\n    var Tokenizer = /** @class */ (function () {\r\n        function Tokenizer() {\r\n            this._value = [];\r\n        }\r\n        Tokenizer.prototype.write = function (chunk) {\r\n            this._value = this._value.concat(toCodePoints(chunk));\r\n        };\r\n        Tokenizer.prototype.read = function () {\r\n            var tokens = [];\r\n            var token = this.consumeToken();\r\n            while (token !== EOF_TOKEN) {\r\n                tokens.push(token);\r\n                token = this.consumeToken();\r\n            }\r\n            return tokens;\r\n        };\r\n        Tokenizer.prototype.consumeToken = function () {\r\n            var codePoint = this.consumeCodePoint();\r\n            switch (codePoint) {\r\n                case QUOTATION_MARK:\r\n                    return this.consumeStringToken(QUOTATION_MARK);\r\n                case NUMBER_SIGN:\r\n                    var c1 = this.peekCodePoint(0);\r\n                    var c2 = this.peekCodePoint(1);\r\n                    var c3 = this.peekCodePoint(2);\r\n                    if (isNameCodePoint(c1) || isValidEscape(c2, c3)) {\r\n                        var flags = isIdentifierStart(c1, c2, c3) ? FLAG_ID : FLAG_UNRESTRICTED;\r\n                        var value = this.consumeName();\r\n                        return { type: TokenType.HASH_TOKEN, value: value, flags: flags };\r\n                    }\r\n                    break;\r\n                case DOLLAR_SIGN:\r\n                    if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        return SUFFIX_MATCH_TOKEN;\r\n                    }\r\n                    break;\r\n                case APOSTROPHE:\r\n                    return this.consumeStringToken(APOSTROPHE);\r\n                case LEFT_PARENTHESIS:\r\n                    return LEFT_PARENTHESIS_TOKEN;\r\n                case RIGHT_PARENTHESIS:\r\n                    return RIGHT_PARENTHESIS_TOKEN;\r\n                case ASTERISK:\r\n                    if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        return SUBSTRING_MATCH_TOKEN;\r\n                    }\r\n                    break;\r\n                case PLUS_SIGN:\r\n                    if (isNumberStart(codePoint, this.peekCodePoint(0), this.peekCodePoint(1))) {\r\n                        this.reconsumeCodePoint(codePoint);\r\n                        return this.consumeNumericToken();\r\n                    }\r\n                    break;\r\n                case COMMA:\r\n                    return COMMA_TOKEN;\r\n                case HYPHEN_MINUS:\r\n                    var e1 = codePoint;\r\n                    var e2 = this.peekCodePoint(0);\r\n                    var e3 = this.peekCodePoint(1);\r\n                    if (isNumberStart(e1, e2, e3)) {\r\n                        this.reconsumeCodePoint(codePoint);\r\n                        return this.consumeNumericToken();\r\n                    }\r\n                    if (isIdentifierStart(e1, e2, e3)) {\r\n                        this.reconsumeCodePoint(codePoint);\r\n                        return this.consumeIdentLikeToken();\r\n                    }\r\n                    if (e2 === HYPHEN_MINUS && e3 === GREATER_THAN_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        this.consumeCodePoint();\r\n                        return CDC_TOKEN;\r\n                    }\r\n                    break;\r\n                case FULL_STOP:\r\n                    if (isNumberStart(codePoint, this.peekCodePoint(0), this.peekCodePoint(1))) {\r\n                        this.reconsumeCodePoint(codePoint);\r\n                        return this.consumeNumericToken();\r\n                    }\r\n                    break;\r\n                case SOLIDUS:\r\n                    if (this.peekCodePoint(0) === ASTERISK) {\r\n                        this.consumeCodePoint();\r\n                        while (true) {\r\n                            var c = this.consumeCodePoint();\r\n                            if (c === ASTERISK) {\r\n                                c = this.consumeCodePoint();\r\n                                if (c === SOLIDUS) {\r\n                                    return this.consumeToken();\r\n                                }\r\n                            }\r\n                            if (c === EOF) {\r\n                                return this.consumeToken();\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n                case COLON:\r\n                    return COLON_TOKEN;\r\n                case SEMICOLON:\r\n                    return SEMICOLON_TOKEN;\r\n                case LESS_THAN_SIGN:\r\n                    if (this.peekCodePoint(0) === EXCLAMATION_MARK &&\r\n                        this.peekCodePoint(1) === HYPHEN_MINUS &&\r\n                        this.peekCodePoint(2) === HYPHEN_MINUS) {\r\n                        this.consumeCodePoint();\r\n                        this.consumeCodePoint();\r\n                        return CDO_TOKEN;\r\n                    }\r\n                    break;\r\n                case COMMERCIAL_AT:\r\n                    var a1 = this.peekCodePoint(0);\r\n                    var a2 = this.peekCodePoint(1);\r\n                    var a3 = this.peekCodePoint(2);\r\n                    if (isIdentifierStart(a1, a2, a3)) {\r\n                        var value = this.consumeName();\r\n                        return { type: TokenType.AT_KEYWORD_TOKEN, value: value };\r\n                    }\r\n                    break;\r\n                case LEFT_SQUARE_BRACKET:\r\n                    return LEFT_SQUARE_BRACKET_TOKEN;\r\n                case REVERSE_SOLIDUS:\r\n                    if (isValidEscape(codePoint, this.peekCodePoint(0))) {\r\n                        this.reconsumeCodePoint(codePoint);\r\n                        return this.consumeIdentLikeToken();\r\n                    }\r\n                    break;\r\n                case RIGHT_SQUARE_BRACKET:\r\n                    return RIGHT_SQUARE_BRACKET_TOKEN;\r\n                case CIRCUMFLEX_ACCENT:\r\n                    if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        return PREFIX_MATCH_TOKEN;\r\n                    }\r\n                    break;\r\n                case LEFT_CURLY_BRACKET:\r\n                    return LEFT_CURLY_BRACKET_TOKEN;\r\n                case RIGHT_CURLY_BRACKET:\r\n                    return RIGHT_CURLY_BRACKET_TOKEN;\r\n                case u:\r\n                case U:\r\n                    var u1 = this.peekCodePoint(0);\r\n                    var u2 = this.peekCodePoint(1);\r\n                    if (u1 === PLUS_SIGN && (isHex(u2) || u2 === QUESTION_MARK)) {\r\n                        this.consumeCodePoint();\r\n                        this.consumeUnicodeRangeToken();\r\n                    }\r\n                    this.reconsumeCodePoint(codePoint);\r\n                    return this.consumeIdentLikeToken();\r\n                case VERTICAL_LINE:\r\n                    if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        return DASH_MATCH_TOKEN;\r\n                    }\r\n                    if (this.peekCodePoint(0) === VERTICAL_LINE) {\r\n                        this.consumeCodePoint();\r\n                        return COLUMN_TOKEN;\r\n                    }\r\n                    break;\r\n                case TILDE:\r\n                    if (this.peekCodePoint(0) === EQUALS_SIGN) {\r\n                        this.consumeCodePoint();\r\n                        return INCLUDE_MATCH_TOKEN;\r\n                    }\r\n                    break;\r\n                case EOF:\r\n                    return EOF_TOKEN;\r\n            }\r\n            if (isWhiteSpace(codePoint)) {\r\n                this.consumeWhiteSpace();\r\n                return WHITESPACE_TOKEN;\r\n            }\r\n            if (isDigit(codePoint)) {\r\n                this.reconsumeCodePoint(codePoint);\r\n                return this.consumeNumericToken();\r\n            }\r\n            if (isNameStartCodePoint(codePoint)) {\r\n                this.reconsumeCodePoint(codePoint);\r\n                return this.consumeIdentLikeToken();\r\n            }\r\n            return { type: TokenType.DELIM_TOKEN, value: fromCodePoint(codePoint) };\r\n        };\r\n        Tokenizer.prototype.consumeCodePoint = function () {\r\n            var value = this._value.shift();\r\n            return typeof value === 'undefined' ? -1 : value;\r\n        };\r\n        Tokenizer.prototype.reconsumeCodePoint = function (codePoint) {\r\n            this._value.unshift(codePoint);\r\n        };\r\n        Tokenizer.prototype.peekCodePoint = function (delta) {\r\n            if (delta >= this._value.length) {\r\n                return -1;\r\n            }\r\n            return this._value[delta];\r\n        };\r\n        Tokenizer.prototype.consumeUnicodeRangeToken = function () {\r\n            var digits = [];\r\n            var codePoint = this.consumeCodePoint();\r\n            while (isHex(codePoint) && digits.length < 6) {\r\n                digits.push(codePoint);\r\n                codePoint = this.consumeCodePoint();\r\n            }\r\n            var questionMarks = false;\r\n            while (codePoint === QUESTION_MARK && digits.length < 6) {\r\n                digits.push(codePoint);\r\n                codePoint = this.consumeCodePoint();\r\n                questionMarks = true;\r\n            }\r\n            if (questionMarks) {\r\n                var start_1 = parseInt(fromCodePoint.apply(void 0, digits.map(function (digit) { return (digit === QUESTION_MARK ? ZERO : digit); })), 16);\r\n                var end = parseInt(fromCodePoint.apply(void 0, digits.map(function (digit) { return (digit === QUESTION_MARK ? F : digit); })), 16);\r\n                return { type: TokenType.UNICODE_RANGE_TOKEN, start: start_1, end: end };\r\n            }\r\n            var start = parseInt(fromCodePoint.apply(void 0, digits), 16);\r\n            if (this.peekCodePoint(0) === HYPHEN_MINUS && isHex(this.peekCodePoint(1))) {\r\n                this.consumeCodePoint();\r\n                codePoint = this.consumeCodePoint();\r\n                var endDigits = [];\r\n                while (isHex(codePoint) && endDigits.length < 6) {\r\n                    endDigits.push(codePoint);\r\n                    codePoint = this.consumeCodePoint();\r\n                }\r\n                var end = parseInt(fromCodePoint.apply(void 0, endDigits), 16);\r\n                return { type: TokenType.UNICODE_RANGE_TOKEN, start: start, end: end };\r\n            }\r\n            else {\r\n                return { type: TokenType.UNICODE_RANGE_TOKEN, start: start, end: start };\r\n            }\r\n        };\r\n        Tokenizer.prototype.consumeIdentLikeToken = function () {\r\n            var value = this.consumeName();\r\n            if (value.toLowerCase() === 'url' && this.peekCodePoint(0) === LEFT_PARENTHESIS) {\r\n                this.consumeCodePoint();\r\n                return this.consumeUrlToken();\r\n            }\r\n            else if (this.peekCodePoint(0) === LEFT_PARENTHESIS) {\r\n                this.consumeCodePoint();\r\n                return { type: TokenType.FUNCTION_TOKEN, value: value };\r\n            }\r\n            return { type: TokenType.IDENT_TOKEN, value: value };\r\n        };\r\n        Tokenizer.prototype.consumeUrlToken = function () {\r\n            var value = [];\r\n            this.consumeWhiteSpace();\r\n            if (this.peekCodePoint(0) === EOF) {\r\n                return { type: TokenType.URL_TOKEN, value: '' };\r\n            }\r\n            var next = this.peekCodePoint(0);\r\n            if (next === APOSTROPHE || next === QUOTATION_MARK) {\r\n                var stringToken = this.consumeStringToken(this.consumeCodePoint());\r\n                if (stringToken.type === TokenType.STRING_TOKEN) {\r\n                    this.consumeWhiteSpace();\r\n                    if (this.peekCodePoint(0) === EOF || this.peekCodePoint(0) === RIGHT_PARENTHESIS) {\r\n                        this.consumeCodePoint();\r\n                        return { type: TokenType.URL_TOKEN, value: stringToken.value };\r\n                    }\r\n                }\r\n                this.consumeBadUrlRemnants();\r\n                return BAD_URL_TOKEN;\r\n            }\r\n            while (true) {\r\n                var codePoint = this.consumeCodePoint();\r\n                if (codePoint === EOF || codePoint === RIGHT_PARENTHESIS) {\r\n                    return { type: TokenType.URL_TOKEN, value: fromCodePoint.apply(void 0, value) };\r\n                }\r\n                else if (isWhiteSpace(codePoint)) {\r\n                    this.consumeWhiteSpace();\r\n                    if (this.peekCodePoint(0) === EOF || this.peekCodePoint(0) === RIGHT_PARENTHESIS) {\r\n                        this.consumeCodePoint();\r\n                        return { type: TokenType.URL_TOKEN, value: fromCodePoint.apply(void 0, value) };\r\n                    }\r\n                    this.consumeBadUrlRemnants();\r\n                    return BAD_URL_TOKEN;\r\n                }\r\n                else if (codePoint === QUOTATION_MARK ||\r\n                    codePoint === APOSTROPHE ||\r\n                    codePoint === LEFT_PARENTHESIS ||\r\n                    isNonPrintableCodePoint(codePoint)) {\r\n                    this.consumeBadUrlRemnants();\r\n                    return BAD_URL_TOKEN;\r\n                }\r\n                else if (codePoint === REVERSE_SOLIDUS) {\r\n                    if (isValidEscape(codePoint, this.peekCodePoint(0))) {\r\n                        value.push(this.consumeEscapedCodePoint());\r\n                    }\r\n                    else {\r\n                        this.consumeBadUrlRemnants();\r\n                        return BAD_URL_TOKEN;\r\n                    }\r\n                }\r\n                else {\r\n                    value.push(codePoint);\r\n                }\r\n            }\r\n        };\r\n        Tokenizer.prototype.consumeWhiteSpace = function () {\r\n            while (isWhiteSpace(this.peekCodePoint(0))) {\r\n                this.consumeCodePoint();\r\n            }\r\n        };\r\n        Tokenizer.prototype.consumeBadUrlRemnants = function () {\r\n            while (true) {\r\n                var codePoint = this.consumeCodePoint();\r\n                if (codePoint === RIGHT_PARENTHESIS || codePoint === EOF) {\r\n                    return;\r\n                }\r\n                if (isValidEscape(codePoint, this.peekCodePoint(0))) {\r\n                    this.consumeEscapedCodePoint();\r\n                }\r\n            }\r\n        };\r\n        Tokenizer.prototype.consumeStringSlice = function (count) {\r\n            var SLICE_STACK_SIZE = 60000;\r\n            var value = '';\r\n            while (count > 0) {\r\n                var amount = Math.min(SLICE_STACK_SIZE, count);\r\n                value += fromCodePoint.apply(void 0, this._value.splice(0, amount));\r\n                count -= amount;\r\n            }\r\n            this._value.shift();\r\n            return value;\r\n        };\r\n        Tokenizer.prototype.consumeStringToken = function (endingCodePoint) {\r\n            var value = '';\r\n            var i = 0;\r\n            do {\r\n                var codePoint = this._value[i];\r\n                if (codePoint === EOF || codePoint === undefined || codePoint === endingCodePoint) {\r\n                    value += this.consumeStringSlice(i);\r\n                    return { type: TokenType.STRING_TOKEN, value: value };\r\n                }\r\n                if (codePoint === LINE_FEED) {\r\n                    this._value.splice(0, i);\r\n                    return BAD_STRING_TOKEN;\r\n                }\r\n                if (codePoint === REVERSE_SOLIDUS) {\r\n                    var next = this._value[i + 1];\r\n                    if (next !== EOF && next !== undefined) {\r\n                        if (next === LINE_FEED) {\r\n                            value += this.consumeStringSlice(i);\r\n                            i = -1;\r\n                            this._value.shift();\r\n                        }\r\n                        else if (isValidEscape(codePoint, next)) {\r\n                            value += this.consumeStringSlice(i);\r\n                            value += fromCodePoint(this.consumeEscapedCodePoint());\r\n                            i = -1;\r\n                        }\r\n                    }\r\n                }\r\n                i++;\r\n            } while (true);\r\n        };\r\n        Tokenizer.prototype.consumeNumber = function () {\r\n            var repr = [];\r\n            var type = FLAG_INTEGER;\r\n            var c1 = this.peekCodePoint(0);\r\n            if (c1 === PLUS_SIGN || c1 === HYPHEN_MINUS) {\r\n                repr.push(this.consumeCodePoint());\r\n            }\r\n            while (isDigit(this.peekCodePoint(0))) {\r\n                repr.push(this.consumeCodePoint());\r\n            }\r\n            c1 = this.peekCodePoint(0);\r\n            var c2 = this.peekCodePoint(1);\r\n            if (c1 === FULL_STOP && isDigit(c2)) {\r\n                repr.push(this.consumeCodePoint(), this.consumeCodePoint());\r\n                type = FLAG_NUMBER;\r\n                while (isDigit(this.peekCodePoint(0))) {\r\n                    repr.push(this.consumeCodePoint());\r\n                }\r\n            }\r\n            c1 = this.peekCodePoint(0);\r\n            c2 = this.peekCodePoint(1);\r\n            var c3 = this.peekCodePoint(2);\r\n            if ((c1 === E || c1 === e) && (((c2 === PLUS_SIGN || c2 === HYPHEN_MINUS) && isDigit(c3)) || isDigit(c2))) {\r\n                repr.push(this.consumeCodePoint(), this.consumeCodePoint());\r\n                type = FLAG_NUMBER;\r\n                while (isDigit(this.peekCodePoint(0))) {\r\n                    repr.push(this.consumeCodePoint());\r\n                }\r\n            }\r\n            return [stringToNumber(repr), type];\r\n        };\r\n        Tokenizer.prototype.consumeNumericToken = function () {\r\n            var _a = this.consumeNumber(), number = _a[0], flags = _a[1];\r\n            var c1 = this.peekCodePoint(0);\r\n            var c2 = this.peekCodePoint(1);\r\n            var c3 = this.peekCodePoint(2);\r\n            if (isIdentifierStart(c1, c2, c3)) {\r\n                var unit = this.consumeName();\r\n                return { type: TokenType.DIMENSION_TOKEN, number: number, flags: flags, unit: unit };\r\n            }\r\n            if (c1 === PERCENTAGE_SIGN) {\r\n                this.consumeCodePoint();\r\n                return { type: TokenType.PERCENTAGE_TOKEN, number: number, flags: flags };\r\n            }\r\n            return { type: TokenType.NUMBER_TOKEN, number: number, flags: flags };\r\n        };\r\n        Tokenizer.prototype.consumeEscapedCodePoint = function () {\r\n            var codePoint = this.consumeCodePoint();\r\n            if (isHex(codePoint)) {\r\n                var hex = fromCodePoint(codePoint);\r\n                while (isHex(this.peekCodePoint(0)) && hex.length < 6) {\r\n                    hex += fromCodePoint(this.consumeCodePoint());\r\n                }\r\n                if (isWhiteSpace(this.peekCodePoint(0))) {\r\n                    this.consumeCodePoint();\r\n                }\r\n                var hexCodePoint = parseInt(hex, 16);\r\n                if (hexCodePoint === 0 || isSurrogateCodePoint(hexCodePoint) || hexCodePoint > 0x10ffff) {\r\n                    return REPLACEMENT_CHARACTER;\r\n                }\r\n                return hexCodePoint;\r\n            }\r\n            if (codePoint === EOF) {\r\n                return REPLACEMENT_CHARACTER;\r\n            }\r\n            return codePoint;\r\n        };\r\n        Tokenizer.prototype.consumeName = function () {\r\n            var result = '';\r\n            while (true) {\r\n                var codePoint = this.consumeCodePoint();\r\n                if (isNameCodePoint(codePoint)) {\r\n                    result += fromCodePoint(codePoint);\r\n                }\r\n                else if (isValidEscape(codePoint, this.peekCodePoint(0))) {\r\n                    result += fromCodePoint(this.consumeEscapedCodePoint());\r\n                }\r\n                else {\r\n                    this.reconsumeCodePoint(codePoint);\r\n                    return result;\r\n                }\r\n            }\r\n        };\r\n        return Tokenizer;\r\n    }());\r\n\r\n    var Parser = /** @class */ (function () {\r\n        function Parser(tokens) {\r\n            this._tokens = tokens;\r\n        }\r\n        Parser.create = function (value) {\r\n            var tokenizer = new Tokenizer();\r\n            tokenizer.write(value);\r\n            return new Parser(tokenizer.read());\r\n        };\r\n        Parser.parseValue = function (value) {\r\n            return Parser.create(value).parseComponentValue();\r\n        };\r\n        Parser.parseValues = function (value) {\r\n            return Parser.create(value).parseComponentValues();\r\n        };\r\n        Parser.prototype.parseComponentValue = function () {\r\n            var token = this.consumeToken();\r\n            while (token.type === TokenType.WHITESPACE_TOKEN) {\r\n                token = this.consumeToken();\r\n            }\r\n            if (token.type === TokenType.EOF_TOKEN) {\r\n                throw new SyntaxError(\"Error parsing CSS component value, unexpected EOF\");\r\n            }\r\n            this.reconsumeToken(token);\r\n            var value = this.consumeComponentValue();\r\n            do {\r\n                token = this.consumeToken();\r\n            } while (token.type === TokenType.WHITESPACE_TOKEN);\r\n            if (token.type === TokenType.EOF_TOKEN) {\r\n                return value;\r\n            }\r\n            throw new SyntaxError(\"Error parsing CSS component value, multiple values found when expecting only one\");\r\n        };\r\n        Parser.prototype.parseComponentValues = function () {\r\n            var values = [];\r\n            while (true) {\r\n                var value = this.consumeComponentValue();\r\n                if (value.type === TokenType.EOF_TOKEN) {\r\n                    return values;\r\n                }\r\n                values.push(value);\r\n                values.push();\r\n            }\r\n        };\r\n        Parser.prototype.consumeComponentValue = function () {\r\n            var token = this.consumeToken();\r\n            switch (token.type) {\r\n                case TokenType.LEFT_CURLY_BRACKET_TOKEN:\r\n                case TokenType.LEFT_SQUARE_BRACKET_TOKEN:\r\n                case TokenType.LEFT_PARENTHESIS_TOKEN:\r\n                    return this.consumeSimpleBlock(token.type);\r\n                case TokenType.FUNCTION_TOKEN:\r\n                    return this.consumeFunction(token);\r\n            }\r\n            return token;\r\n        };\r\n        Parser.prototype.consumeSimpleBlock = function (type) {\r\n            var block = { type: type, values: [] };\r\n            var token = this.consumeToken();\r\n            while (true) {\r\n                if (token.type === TokenType.EOF_TOKEN || isEndingTokenFor(token, type)) {\r\n                    return block;\r\n                }\r\n                this.reconsumeToken(token);\r\n                block.values.push(this.consumeComponentValue());\r\n                token = this.consumeToken();\r\n            }\r\n        };\r\n        Parser.prototype.consumeFunction = function (functionToken) {\r\n            var cssFunction = {\r\n                name: functionToken.value,\r\n                values: [],\r\n                type: TokenType.FUNCTION\r\n            };\r\n            while (true) {\r\n                var token = this.consumeToken();\r\n                if (token.type === TokenType.EOF_TOKEN || token.type === TokenType.RIGHT_PARENTHESIS_TOKEN) {\r\n                    return cssFunction;\r\n                }\r\n                this.reconsumeToken(token);\r\n                cssFunction.values.push(this.consumeComponentValue());\r\n            }\r\n        };\r\n        Parser.prototype.consumeToken = function () {\r\n            var token = this._tokens.shift();\r\n            return typeof token === 'undefined' ? EOF_TOKEN : token;\r\n        };\r\n        Parser.prototype.reconsumeToken = function (token) {\r\n            this._tokens.unshift(token);\r\n        };\r\n        return Parser;\r\n    }());\r\n    var isDimensionToken = function (token) { return token.type === TokenType.DIMENSION_TOKEN; };\r\n    var isNumberToken = function (token) { return token.type === TokenType.NUMBER_TOKEN; };\r\n    var isIdentToken = function (token) { return token.type === TokenType.IDENT_TOKEN; };\r\n    var isStringToken = function (token) { return token.type === TokenType.STRING_TOKEN; };\r\n    var isIdentWithValue = function (token, value) {\r\n        return isIdentToken(token) && token.value === value;\r\n    };\r\n    var nonWhiteSpace = function (token) { return token.type !== TokenType.WHITESPACE_TOKEN; };\r\n    var nonFunctionArgSeparator = function (token) {\r\n        return token.type !== TokenType.WHITESPACE_TOKEN && token.type !== TokenType.COMMA_TOKEN;\r\n    };\r\n    var parseFunctionArgs = function (tokens) {\r\n        var args = [];\r\n        var arg = [];\r\n        tokens.forEach(function (token) {\r\n            if (token.type === TokenType.COMMA_TOKEN) {\r\n                if (arg.length === 0) {\r\n                    throw new Error(\"Error parsing function args, zero tokens for arg\");\r\n                }\r\n                args.push(arg);\r\n                arg = [];\r\n                return;\r\n            }\r\n            if (token.type !== TokenType.WHITESPACE_TOKEN) {\r\n                arg.push(token);\r\n            }\r\n        });\r\n        if (arg.length) {\r\n            args.push(arg);\r\n        }\r\n        return args;\r\n    };\r\n    var isEndingTokenFor = function (token, type) {\r\n        if (type === TokenType.LEFT_CURLY_BRACKET_TOKEN && token.type === TokenType.RIGHT_CURLY_BRACKET_TOKEN) {\r\n            return true;\r\n        }\r\n        if (type === TokenType.LEFT_SQUARE_BRACKET_TOKEN && token.type === TokenType.RIGHT_SQUARE_BRACKET_TOKEN) {\r\n            return true;\r\n        }\r\n        return type === TokenType.LEFT_PARENTHESIS_TOKEN && token.type === TokenType.RIGHT_PARENTHESIS_TOKEN;\r\n    };\r\n\r\n    var isLength = function (token) {\r\n        return token.type === TokenType.NUMBER_TOKEN || token.type === TokenType.DIMENSION_TOKEN;\r\n    };\r\n\r\n    var isLengthPercentage = function (token) {\r\n        return token.type === TokenType.PERCENTAGE_TOKEN || isLength(token);\r\n    };\r\n    var parseLengthPercentageTuple = function (tokens) {\r\n        return tokens.length > 1 ? [tokens[0], tokens[1]] : [tokens[0]];\r\n    };\r\n    var ZERO_LENGTH = {\r\n        type: TokenType.NUMBER_TOKEN,\r\n        number: 0,\r\n        flags: FLAG_INTEGER\r\n    };\r\n    var FIFTY_PERCENT = {\r\n        type: TokenType.PERCENTAGE_TOKEN,\r\n        number: 50,\r\n        flags: FLAG_INTEGER\r\n    };\r\n    var HUNDRED_PERCENT = {\r\n        type: TokenType.PERCENTAGE_TOKEN,\r\n        number: 100,\r\n        flags: FLAG_INTEGER\r\n    };\r\n    var getAbsoluteValueForTuple = function (tuple, width, height) {\r\n        var x = tuple[0], y = tuple[1];\r\n        return [getAbsoluteValue(x, width), getAbsoluteValue(typeof y !== 'undefined' ? y : x, height)];\r\n    };\r\n    var getAbsoluteValue = function (token, parent) {\r\n        if (token.type === TokenType.PERCENTAGE_TOKEN) {\r\n            return (token.number / 100) * parent;\r\n        }\r\n        if (isDimensionToken(token)) {\r\n            switch (token.unit) {\r\n                case 'rem':\r\n                case 'em':\r\n                    return 16 * token.number; // TODO use correct font-size\r\n                case 'px':\r\n                default:\r\n                    return token.number;\r\n            }\r\n        }\r\n        return token.number;\r\n    };\r\n\r\n    var DEG = 'deg';\r\n    var GRAD = 'grad';\r\n    var RAD = 'rad';\r\n    var TURN = 'turn';\r\n    var angle = {\r\n        name: 'angle',\r\n        parse: function (value) {\r\n            if (value.type === TokenType.DIMENSION_TOKEN) {\r\n                switch (value.unit) {\r\n                    case DEG:\r\n                        return (Math.PI * value.number) / 180;\r\n                    case GRAD:\r\n                        return (Math.PI / 200) * value.number;\r\n                    case RAD:\r\n                        return value.number;\r\n                    case TURN:\r\n                        return Math.PI * 2 * value.number;\r\n                }\r\n            }\r\n            throw new Error(\"Unsupported angle type\");\r\n        }\r\n    };\r\n    var isAngle = function (value) {\r\n        if (value.type === TokenType.DIMENSION_TOKEN) {\r\n            if (value.unit === DEG || value.unit === GRAD || value.unit === RAD || value.unit === TURN) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    var parseNamedSide = function (tokens) {\r\n        var sideOrCorner = tokens\r\n            .filter(isIdentToken)\r\n            .map(function (ident) { return ident.value; })\r\n            .join(' ');\r\n        switch (sideOrCorner) {\r\n            case 'to bottom right':\r\n            case 'to right bottom':\r\n            case 'left top':\r\n            case 'top left':\r\n                return [ZERO_LENGTH, ZERO_LENGTH];\r\n            case 'to top':\r\n            case 'bottom':\r\n                return deg(0);\r\n            case 'to bottom left':\r\n            case 'to left bottom':\r\n            case 'right top':\r\n            case 'top right':\r\n                return [ZERO_LENGTH, HUNDRED_PERCENT];\r\n            case 'to right':\r\n            case 'left':\r\n                return deg(90);\r\n            case 'to top left':\r\n            case 'to left top':\r\n            case 'right bottom':\r\n            case 'bottom right':\r\n                return [HUNDRED_PERCENT, HUNDRED_PERCENT];\r\n            case 'to bottom':\r\n            case 'top':\r\n                return deg(180);\r\n            case 'to top right':\r\n            case 'to right top':\r\n            case 'left bottom':\r\n            case 'bottom left':\r\n                return [HUNDRED_PERCENT, ZERO_LENGTH];\r\n            case 'to left':\r\n            case 'right':\r\n                return deg(270);\r\n        }\r\n        return 0;\r\n    };\r\n    var deg = function (deg) { return (Math.PI * deg) / 180; };\r\n\r\n    var color = {\r\n        name: 'color',\r\n        parse: function (value) {\r\n            if (value.type === TokenType.FUNCTION) {\r\n                var colorFunction = SUPPORTED_COLOR_FUNCTIONS[value.name];\r\n                if (typeof colorFunction === 'undefined') {\r\n                    throw new Error(\"Attempting to parse an unsupported color function \\\"\" + value.name + \"\\\"\");\r\n                }\r\n                return colorFunction(value.values);\r\n            }\r\n            if (value.type === TokenType.HASH_TOKEN) {\r\n                if (value.value.length === 3) {\r\n                    var r = value.value.substring(0, 1);\r\n                    var g = value.value.substring(1, 2);\r\n                    var b = value.value.substring(2, 3);\r\n                    return pack(parseInt(r + r, 16), parseInt(g + g, 16), parseInt(b + b, 16), 1);\r\n                }\r\n                if (value.value.length === 4) {\r\n                    var r = value.value.substring(0, 1);\r\n                    var g = value.value.substring(1, 2);\r\n                    var b = value.value.substring(2, 3);\r\n                    var a = value.value.substring(3, 4);\r\n                    return pack(parseInt(r + r, 16), parseInt(g + g, 16), parseInt(b + b, 16), parseInt(a + a, 16) / 255);\r\n                }\r\n                if (value.value.length === 6) {\r\n                    var r = value.value.substring(0, 2);\r\n                    var g = value.value.substring(2, 4);\r\n                    var b = value.value.substring(4, 6);\r\n                    return pack(parseInt(r, 16), parseInt(g, 16), parseInt(b, 16), 1);\r\n                }\r\n                if (value.value.length === 8) {\r\n                    var r = value.value.substring(0, 2);\r\n                    var g = value.value.substring(2, 4);\r\n                    var b = value.value.substring(4, 6);\r\n                    var a = value.value.substring(6, 8);\r\n                    return pack(parseInt(r, 16), parseInt(g, 16), parseInt(b, 16), parseInt(a, 16) / 255);\r\n                }\r\n            }\r\n            if (value.type === TokenType.IDENT_TOKEN) {\r\n                var namedColor = COLORS[value.value.toUpperCase()];\r\n                if (typeof namedColor !== 'undefined') {\r\n                    return namedColor;\r\n                }\r\n            }\r\n            return COLORS.TRANSPARENT;\r\n        }\r\n    };\r\n    var isTransparent = function (color) { return (0xff & color) === 0; };\r\n    var asString = function (color) {\r\n        var alpha = 0xff & color;\r\n        var blue = 0xff & (color >> 8);\r\n        var green = 0xff & (color >> 16);\r\n        var red = 0xff & (color >> 24);\r\n        return alpha < 255 ? \"rgba(\" + red + \",\" + green + \",\" + blue + \",\" + alpha / 255 + \")\" : \"rgb(\" + red + \",\" + green + \",\" + blue + \")\";\r\n    };\r\n    var pack = function (r, g, b, a) {\r\n        return ((r << 24) | (g << 16) | (b << 8) | (Math.round(a * 255) << 0)) >>> 0;\r\n    };\r\n    var getTokenColorValue = function (token, i) {\r\n        if (token.type === TokenType.NUMBER_TOKEN) {\r\n            return token.number;\r\n        }\r\n        if (token.type === TokenType.PERCENTAGE_TOKEN) {\r\n            var max = i === 3 ? 1 : 255;\r\n            return i === 3 ? (token.number / 100) * max : Math.round((token.number / 100) * max);\r\n        }\r\n        return 0;\r\n    };\r\n    var rgb = function (args) {\r\n        var tokens = args.filter(nonFunctionArgSeparator);\r\n        if (tokens.length === 3) {\r\n            var _a = tokens.map(getTokenColorValue), r = _a[0], g = _a[1], b = _a[2];\r\n            return pack(r, g, b, 1);\r\n        }\r\n        if (tokens.length === 4) {\r\n            var _b = tokens.map(getTokenColorValue), r = _b[0], g = _b[1], b = _b[2], a = _b[3];\r\n            return pack(r, g, b, a);\r\n        }\r\n        return 0;\r\n    };\r\n    function hue2rgb(t1, t2, hue) {\r\n        if (hue < 0) {\r\n            hue += 1;\r\n        }\r\n        if (hue >= 1) {\r\n            hue -= 1;\r\n        }\r\n        if (hue < 1 / 6) {\r\n            return (t2 - t1) * hue * 6 + t1;\r\n        }\r\n        else if (hue < 1 / 2) {\r\n            return t2;\r\n        }\r\n        else if (hue < 2 / 3) {\r\n            return (t2 - t1) * 6 * (2 / 3 - hue) + t1;\r\n        }\r\n        else {\r\n            return t1;\r\n        }\r\n    }\r\n    var hsl = function (args) {\r\n        var tokens = args.filter(nonFunctionArgSeparator);\r\n        var hue = tokens[0], saturation = tokens[1], lightness = tokens[2], alpha = tokens[3];\r\n        var h = (hue.type === TokenType.NUMBER_TOKEN ? deg(hue.number) : angle.parse(hue)) / (Math.PI * 2);\r\n        var s = isLengthPercentage(saturation) ? saturation.number / 100 : 0;\r\n        var l = isLengthPercentage(lightness) ? lightness.number / 100 : 0;\r\n        var a = typeof alpha !== 'undefined' && isLengthPercentage(alpha) ? getAbsoluteValue(alpha, 1) : 1;\r\n        if (s === 0) {\r\n            return pack(l * 255, l * 255, l * 255, 1);\r\n        }\r\n        var t2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\r\n        var t1 = l * 2 - t2;\r\n        var r = hue2rgb(t1, t2, h + 1 / 3);\r\n        var g = hue2rgb(t1, t2, h);\r\n        var b = hue2rgb(t1, t2, h - 1 / 3);\r\n        return pack(r * 255, g * 255, b * 255, a);\r\n    };\r\n    var SUPPORTED_COLOR_FUNCTIONS = {\r\n        hsl: hsl,\r\n        hsla: hsl,\r\n        rgb: rgb,\r\n        rgba: rgb\r\n    };\r\n    var COLORS = {\r\n        ALICEBLUE: 0xf0f8ffff,\r\n        ANTIQUEWHITE: 0xfaebd7ff,\r\n        AQUA: 0x00ffffff,\r\n        AQUAMARINE: 0x7fffd4ff,\r\n        AZURE: 0xf0ffffff,\r\n        BEIGE: 0xf5f5dcff,\r\n        BISQUE: 0xffe4c4ff,\r\n        BLACK: 0x000000ff,\r\n        BLANCHEDALMOND: 0xffebcdff,\r\n        BLUE: 0x0000ffff,\r\n        BLUEVIOLET: 0x8a2be2ff,\r\n        BROWN: 0xa52a2aff,\r\n        BURLYWOOD: 0xdeb887ff,\r\n        CADETBLUE: 0x5f9ea0ff,\r\n        CHARTREUSE: 0x7fff00ff,\r\n        CHOCOLATE: 0xd2691eff,\r\n        CORAL: 0xff7f50ff,\r\n        CORNFLOWERBLUE: 0x6495edff,\r\n        CORNSILK: 0xfff8dcff,\r\n        CRIMSON: 0xdc143cff,\r\n        CYAN: 0x00ffffff,\r\n        DARKBLUE: 0x00008bff,\r\n        DARKCYAN: 0x008b8bff,\r\n        DARKGOLDENROD: 0xb886bbff,\r\n        DARKGRAY: 0xa9a9a9ff,\r\n        DARKGREEN: 0x006400ff,\r\n        DARKGREY: 0xa9a9a9ff,\r\n        DARKKHAKI: 0xbdb76bff,\r\n        DARKMAGENTA: 0x8b008bff,\r\n        DARKOLIVEGREEN: 0x556b2fff,\r\n        DARKORANGE: 0xff8c00ff,\r\n        DARKORCHID: 0x9932ccff,\r\n        DARKRED: 0x8b0000ff,\r\n        DARKSALMON: 0xe9967aff,\r\n        DARKSEAGREEN: 0x8fbc8fff,\r\n        DARKSLATEBLUE: 0x483d8bff,\r\n        DARKSLATEGRAY: 0x2f4f4fff,\r\n        DARKSLATEGREY: 0x2f4f4fff,\r\n        DARKTURQUOISE: 0x00ced1ff,\r\n        DARKVIOLET: 0x9400d3ff,\r\n        DEEPPINK: 0xff1493ff,\r\n        DEEPSKYBLUE: 0x00bfffff,\r\n        DIMGRAY: 0x696969ff,\r\n        DIMGREY: 0x696969ff,\r\n        DODGERBLUE: 0x1e90ffff,\r\n        FIREBRICK: 0xb22222ff,\r\n        FLORALWHITE: 0xfffaf0ff,\r\n        FORESTGREEN: 0x228b22ff,\r\n        FUCHSIA: 0xff00ffff,\r\n        GAINSBORO: 0xdcdcdcff,\r\n        GHOSTWHITE: 0xf8f8ffff,\r\n        GOLD: 0xffd700ff,\r\n        GOLDENROD: 0xdaa520ff,\r\n        GRAY: 0x808080ff,\r\n        GREEN: 0x008000ff,\r\n        GREENYELLOW: 0xadff2fff,\r\n        GREY: 0x808080ff,\r\n        HONEYDEW: 0xf0fff0ff,\r\n        HOTPINK: 0xff69b4ff,\r\n        INDIANRED: 0xcd5c5cff,\r\n        INDIGO: 0x4b0082ff,\r\n        IVORY: 0xfffff0ff,\r\n        KHAKI: 0xf0e68cff,\r\n        LAVENDER: 0xe6e6faff,\r\n        LAVENDERBLUSH: 0xfff0f5ff,\r\n        LAWNGREEN: 0x7cfc00ff,\r\n        LEMONCHIFFON: 0xfffacdff,\r\n        LIGHTBLUE: 0xadd8e6ff,\r\n        LIGHTCORAL: 0xf08080ff,\r\n        LIGHTCYAN: 0xe0ffffff,\r\n        LIGHTGOLDENRODYELLOW: 0xfafad2ff,\r\n        LIGHTGRAY: 0xd3d3d3ff,\r\n        LIGHTGREEN: 0x90ee90ff,\r\n        LIGHTGREY: 0xd3d3d3ff,\r\n        LIGHTPINK: 0xffb6c1ff,\r\n        LIGHTSALMON: 0xffa07aff,\r\n        LIGHTSEAGREEN: 0x20b2aaff,\r\n        LIGHTSKYBLUE: 0x87cefaff,\r\n        LIGHTSLATEGRAY: 0x778899ff,\r\n        LIGHTSLATEGREY: 0x778899ff,\r\n        LIGHTSTEELBLUE: 0xb0c4deff,\r\n        LIGHTYELLOW: 0xffffe0ff,\r\n        LIME: 0x00ff00ff,\r\n        LIMEGREEN: 0x32cd32ff,\r\n        LINEN: 0xfaf0e6ff,\r\n        MAGENTA: 0xff00ffff,\r\n        MAROON: 0x800000ff,\r\n        MEDIUMAQUAMARINE: 0x66cdaaff,\r\n        MEDIUMBLUE: 0x0000cdff,\r\n        MEDIUMORCHID: 0xba55d3ff,\r\n        MEDIUMPURPLE: 0x9370dbff,\r\n        MEDIUMSEAGREEN: 0x3cb371ff,\r\n        MEDIUMSLATEBLUE: 0x7b68eeff,\r\n        MEDIUMSPRINGGREEN: 0x00fa9aff,\r\n        MEDIUMTURQUOISE: 0x48d1ccff,\r\n        MEDIUMVIOLETRED: 0xc71585ff,\r\n        MIDNIGHTBLUE: 0x191970ff,\r\n        MINTCREAM: 0xf5fffaff,\r\n        MISTYROSE: 0xffe4e1ff,\r\n        MOCCASIN: 0xffe4b5ff,\r\n        NAVAJOWHITE: 0xffdeadff,\r\n        NAVY: 0x000080ff,\r\n        OLDLACE: 0xfdf5e6ff,\r\n        OLIVE: 0x808000ff,\r\n        OLIVEDRAB: 0x6b8e23ff,\r\n        ORANGE: 0xffa500ff,\r\n        ORANGERED: 0xff4500ff,\r\n        ORCHID: 0xda70d6ff,\r\n        PALEGOLDENROD: 0xeee8aaff,\r\n        PALEGREEN: 0x98fb98ff,\r\n        PALETURQUOISE: 0xafeeeeff,\r\n        PALEVIOLETRED: 0xdb7093ff,\r\n        PAPAYAWHIP: 0xffefd5ff,\r\n        PEACHPUFF: 0xffdab9ff,\r\n        PERU: 0xcd853fff,\r\n        PINK: 0xffc0cbff,\r\n        PLUM: 0xdda0ddff,\r\n        POWDERBLUE: 0xb0e0e6ff,\r\n        PURPLE: 0x800080ff,\r\n        REBECCAPURPLE: 0x663399ff,\r\n        RED: 0xff0000ff,\r\n        ROSYBROWN: 0xbc8f8fff,\r\n        ROYALBLUE: 0x4169e1ff,\r\n        SADDLEBROWN: 0x8b4513ff,\r\n        SALMON: 0xfa8072ff,\r\n        SANDYBROWN: 0xf4a460ff,\r\n        SEAGREEN: 0x2e8b57ff,\r\n        SEASHELL: 0xfff5eeff,\r\n        SIENNA: 0xa0522dff,\r\n        SILVER: 0xc0c0c0ff,\r\n        SKYBLUE: 0x87ceebff,\r\n        SLATEBLUE: 0x6a5acdff,\r\n        SLATEGRAY: 0x708090ff,\r\n        SLATEGREY: 0x708090ff,\r\n        SNOW: 0xfffafaff,\r\n        SPRINGGREEN: 0x00ff7fff,\r\n        STEELBLUE: 0x4682b4ff,\r\n        TAN: 0xd2b48cff,\r\n        TEAL: 0x008080ff,\r\n        THISTLE: 0xd8bfd8ff,\r\n        TOMATO: 0xff6347ff,\r\n        TRANSPARENT: 0x00000000,\r\n        TURQUOISE: 0x40e0d0ff,\r\n        VIOLET: 0xee82eeff,\r\n        WHEAT: 0xf5deb3ff,\r\n        WHITE: 0xffffffff,\r\n        WHITESMOKE: 0xf5f5f5ff,\r\n        YELLOW: 0xffff00ff,\r\n        YELLOWGREEN: 0x9acd32ff\r\n    };\r\n\r\n    var PropertyDescriptorParsingType;\r\n    (function (PropertyDescriptorParsingType) {\r\n        PropertyDescriptorParsingType[PropertyDescriptorParsingType[\"VALUE\"] = 0] = \"VALUE\";\r\n        PropertyDescriptorParsingType[PropertyDescriptorParsingType[\"LIST\"] = 1] = \"LIST\";\r\n        PropertyDescriptorParsingType[PropertyDescriptorParsingType[\"IDENT_VALUE\"] = 2] = \"IDENT_VALUE\";\r\n        PropertyDescriptorParsingType[PropertyDescriptorParsingType[\"TYPE_VALUE\"] = 3] = \"TYPE_VALUE\";\r\n        PropertyDescriptorParsingType[PropertyDescriptorParsingType[\"TOKEN_VALUE\"] = 4] = \"TOKEN_VALUE\";\r\n    })(PropertyDescriptorParsingType || (PropertyDescriptorParsingType = {}));\r\n\r\n    var BACKGROUND_CLIP;\r\n    (function (BACKGROUND_CLIP) {\r\n        BACKGROUND_CLIP[BACKGROUND_CLIP[\"BORDER_BOX\"] = 0] = \"BORDER_BOX\";\r\n        BACKGROUND_CLIP[BACKGROUND_CLIP[\"PADDING_BOX\"] = 1] = \"PADDING_BOX\";\r\n        BACKGROUND_CLIP[BACKGROUND_CLIP[\"CONTENT_BOX\"] = 2] = \"CONTENT_BOX\";\r\n    })(BACKGROUND_CLIP || (BACKGROUND_CLIP = {}));\r\n    var backgroundClip = {\r\n        name: 'background-clip',\r\n        initialValue: 'border-box',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return tokens.map(function (token) {\r\n                if (isIdentToken(token)) {\r\n                    switch (token.value) {\r\n                        case 'padding-box':\r\n                            return BACKGROUND_CLIP.PADDING_BOX;\r\n                        case 'content-box':\r\n                            return BACKGROUND_CLIP.CONTENT_BOX;\r\n                    }\r\n                }\r\n                return BACKGROUND_CLIP.BORDER_BOX;\r\n            });\r\n        }\r\n    };\r\n\r\n    var backgroundColor = {\r\n        name: \"background-color\",\r\n        initialValue: 'transparent',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n        format: 'color'\r\n    };\r\n\r\n    var parseColorStop = function (args) {\r\n        var color$1 = color.parse(args[0]);\r\n        var stop = args[1];\r\n        return stop && isLengthPercentage(stop) ? { color: color$1, stop: stop } : { color: color$1, stop: null };\r\n    };\r\n    var processColorStops = function (stops, lineLength) {\r\n        var first = stops[0];\r\n        var last = stops[stops.length - 1];\r\n        if (first.stop === null) {\r\n            first.stop = ZERO_LENGTH;\r\n        }\r\n        if (last.stop === null) {\r\n            last.stop = HUNDRED_PERCENT;\r\n        }\r\n        var processStops = [];\r\n        var previous = 0;\r\n        for (var i = 0; i < stops.length; i++) {\r\n            var stop_1 = stops[i].stop;\r\n            if (stop_1 !== null) {\r\n                var absoluteValue = getAbsoluteValue(stop_1, lineLength);\r\n                if (absoluteValue > previous) {\r\n                    processStops.push(absoluteValue);\r\n                }\r\n                else {\r\n                    processStops.push(previous);\r\n                }\r\n                previous = absoluteValue;\r\n            }\r\n            else {\r\n                processStops.push(null);\r\n            }\r\n        }\r\n        var gapBegin = null;\r\n        for (var i = 0; i < processStops.length; i++) {\r\n            var stop_2 = processStops[i];\r\n            if (stop_2 === null) {\r\n                if (gapBegin === null) {\r\n                    gapBegin = i;\r\n                }\r\n            }\r\n            else if (gapBegin !== null) {\r\n                var gapLength = i - gapBegin;\r\n                var beforeGap = processStops[gapBegin - 1];\r\n                var gapValue = (stop_2 - beforeGap) / (gapLength + 1);\r\n                for (var g = 1; g <= gapLength; g++) {\r\n                    processStops[gapBegin + g - 1] = gapValue * g;\r\n                }\r\n                gapBegin = null;\r\n            }\r\n        }\r\n        return stops.map(function (_a, i) {\r\n            var color = _a.color;\r\n            return { color: color, stop: Math.max(Math.min(1, processStops[i] / lineLength), 0) };\r\n        });\r\n    };\r\n    var getAngleFromCorner = function (corner, width, height) {\r\n        var centerX = width / 2;\r\n        var centerY = height / 2;\r\n        var x = getAbsoluteValue(corner[0], width) - centerX;\r\n        var y = centerY - getAbsoluteValue(corner[1], height);\r\n        return (Math.atan2(y, x) + Math.PI * 2) % (Math.PI * 2);\r\n    };\r\n    var calculateGradientDirection = function (angle, width, height) {\r\n        var radian = typeof angle === 'number' ? angle : getAngleFromCorner(angle, width, height);\r\n        var lineLength = Math.abs(width * Math.sin(radian)) + Math.abs(height * Math.cos(radian));\r\n        var halfWidth = width / 2;\r\n        var halfHeight = height / 2;\r\n        var halfLineLength = lineLength / 2;\r\n        var yDiff = Math.sin(radian - Math.PI / 2) * halfLineLength;\r\n        var xDiff = Math.cos(radian - Math.PI / 2) * halfLineLength;\r\n        return [lineLength, halfWidth - xDiff, halfWidth + xDiff, halfHeight - yDiff, halfHeight + yDiff];\r\n    };\r\n    var distance = function (a, b) { return Math.sqrt(a * a + b * b); };\r\n    var findCorner = function (width, height, x, y, closest) {\r\n        var corners = [[0, 0], [0, height], [width, 0], [width, height]];\r\n        return corners.reduce(function (stat, corner) {\r\n            var cx = corner[0], cy = corner[1];\r\n            var d = distance(x - cx, y - cy);\r\n            if (closest ? d < stat.optimumDistance : d > stat.optimumDistance) {\r\n                return {\r\n                    optimumCorner: corner,\r\n                    optimumDistance: d\r\n                };\r\n            }\r\n            return stat;\r\n        }, {\r\n            optimumDistance: closest ? Infinity : -Infinity,\r\n            optimumCorner: null\r\n        }).optimumCorner;\r\n    };\r\n    var calculateRadius = function (gradient, x, y, width, height) {\r\n        var rx = 0;\r\n        var ry = 0;\r\n        switch (gradient.size) {\r\n            case CSSRadialExtent.CLOSEST_SIDE:\r\n                // The ending shape is sized so that that it exactly meets the side of the gradient box closest to the gradients center.\r\n                // If the shape is an ellipse, it exactly meets the closest side in each dimension.\r\n                if (gradient.shape === CSSRadialShape.CIRCLE) {\r\n                    rx = ry = Math.min(Math.abs(x), Math.abs(x - width), Math.abs(y), Math.abs(y - height));\r\n                }\r\n                else if (gradient.shape === CSSRadialShape.ELLIPSE) {\r\n                    rx = Math.min(Math.abs(x), Math.abs(x - width));\r\n                    ry = Math.min(Math.abs(y), Math.abs(y - height));\r\n                }\r\n                break;\r\n            case CSSRadialExtent.CLOSEST_CORNER:\r\n                // The ending shape is sized so that that it passes through the corner of the gradient box closest to the gradients center.\r\n                // If the shape is an ellipse, the ending shape is given the same aspect-ratio it would have if closest-side were specified.\r\n                if (gradient.shape === CSSRadialShape.CIRCLE) {\r\n                    rx = ry = Math.min(distance(x, y), distance(x, y - height), distance(x - width, y), distance(x - width, y - height));\r\n                }\r\n                else if (gradient.shape === CSSRadialShape.ELLIPSE) {\r\n                    // Compute the ratio ry/rx (which is to be the same as for \"closest-side\")\r\n                    var c = Math.min(Math.abs(y), Math.abs(y - height)) / Math.min(Math.abs(x), Math.abs(x - width));\r\n                    var _a = findCorner(width, height, x, y, true), cx = _a[0], cy = _a[1];\r\n                    rx = distance(cx - x, (cy - y) / c);\r\n                    ry = c * rx;\r\n                }\r\n                break;\r\n            case CSSRadialExtent.FARTHEST_SIDE:\r\n                // Same as closest-side, except the ending shape is sized based on the farthest side(s)\r\n                if (gradient.shape === CSSRadialShape.CIRCLE) {\r\n                    rx = ry = Math.max(Math.abs(x), Math.abs(x - width), Math.abs(y), Math.abs(y - height));\r\n                }\r\n                else if (gradient.shape === CSSRadialShape.ELLIPSE) {\r\n                    rx = Math.max(Math.abs(x), Math.abs(x - width));\r\n                    ry = Math.max(Math.abs(y), Math.abs(y - height));\r\n                }\r\n                break;\r\n            case CSSRadialExtent.FARTHEST_CORNER:\r\n                // Same as closest-corner, except the ending shape is sized based on the farthest corner.\r\n                // If the shape is an ellipse, the ending shape is given the same aspect ratio it would have if farthest-side were specified.\r\n                if (gradient.shape === CSSRadialShape.CIRCLE) {\r\n                    rx = ry = Math.max(distance(x, y), distance(x, y - height), distance(x - width, y), distance(x - width, y - height));\r\n                }\r\n                else if (gradient.shape === CSSRadialShape.ELLIPSE) {\r\n                    // Compute the ratio ry/rx (which is to be the same as for \"farthest-side\")\r\n                    var c = Math.max(Math.abs(y), Math.abs(y - height)) / Math.max(Math.abs(x), Math.abs(x - width));\r\n                    var _b = findCorner(width, height, x, y, false), cx = _b[0], cy = _b[1];\r\n                    rx = distance(cx - x, (cy - y) / c);\r\n                    ry = c * rx;\r\n                }\r\n                break;\r\n        }\r\n        if (Array.isArray(gradient.size)) {\r\n            rx = getAbsoluteValue(gradient.size[0], width);\r\n            ry = gradient.size.length === 2 ? getAbsoluteValue(gradient.size[1], height) : rx;\r\n        }\r\n        return [rx, ry];\r\n    };\r\n\r\n    var linearGradient = function (tokens) {\r\n        var angle$1 = deg(180);\r\n        var stops = [];\r\n        parseFunctionArgs(tokens).forEach(function (arg, i) {\r\n            if (i === 0) {\r\n                var firstToken = arg[0];\r\n                if (firstToken.type === TokenType.IDENT_TOKEN && firstToken.value === 'to') {\r\n                    angle$1 = parseNamedSide(arg);\r\n                    return;\r\n                }\r\n                else if (isAngle(firstToken)) {\r\n                    angle$1 = angle.parse(firstToken);\r\n                    return;\r\n                }\r\n            }\r\n            var colorStop = parseColorStop(arg);\r\n            stops.push(colorStop);\r\n        });\r\n        return { angle: angle$1, stops: stops, type: CSSImageType.LINEAR_GRADIENT };\r\n    };\r\n\r\n    var prefixLinearGradient = function (tokens) {\r\n        var angle$1 = deg(180);\r\n        var stops = [];\r\n        parseFunctionArgs(tokens).forEach(function (arg, i) {\r\n            if (i === 0) {\r\n                var firstToken = arg[0];\r\n                if (firstToken.type === TokenType.IDENT_TOKEN &&\r\n                    ['top', 'left', 'right', 'bottom'].indexOf(firstToken.value) !== -1) {\r\n                    angle$1 = parseNamedSide(arg);\r\n                    return;\r\n                }\r\n                else if (isAngle(firstToken)) {\r\n                    angle$1 = (angle.parse(firstToken) + deg(270)) % deg(360);\r\n                    return;\r\n                }\r\n            }\r\n            var colorStop = parseColorStop(arg);\r\n            stops.push(colorStop);\r\n        });\r\n        return {\r\n            angle: angle$1,\r\n            stops: stops,\r\n            type: CSSImageType.LINEAR_GRADIENT\r\n        };\r\n    };\r\n\r\n    var testRangeBounds = function (document) {\r\n        var TEST_HEIGHT = 123;\r\n        if (document.createRange) {\r\n            var range = document.createRange();\r\n            if (range.getBoundingClientRect) {\r\n                var testElement = document.createElement('boundtest');\r\n                testElement.style.height = TEST_HEIGHT + \"px\";\r\n                testElement.style.display = 'block';\r\n                document.body.appendChild(testElement);\r\n                range.selectNode(testElement);\r\n                var rangeBounds = range.getBoundingClientRect();\r\n                var rangeHeight = Math.round(rangeBounds.height);\r\n                document.body.removeChild(testElement);\r\n                if (rangeHeight === TEST_HEIGHT) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    var testCORS = function () { return typeof new Image().crossOrigin !== 'undefined'; };\r\n    var testResponseType = function () { return typeof new XMLHttpRequest().responseType === 'string'; };\r\n    var testSVG = function (document) {\r\n        var img = new Image();\r\n        var canvas = document.createElement('canvas');\r\n        var ctx = canvas.getContext('2d');\r\n        if (!ctx) {\r\n            return false;\r\n        }\r\n        img.src = \"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>\";\r\n        try {\r\n            ctx.drawImage(img, 0, 0);\r\n            canvas.toDataURL();\r\n        }\r\n        catch (e) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    var isGreenPixel = function (data) {\r\n        return data[0] === 0 && data[1] === 255 && data[2] === 0 && data[3] === 255;\r\n    };\r\n    var testForeignObject = function (document) {\r\n        var canvas = document.createElement('canvas');\r\n        var size = 100;\r\n        canvas.width = size;\r\n        canvas.height = size;\r\n        var ctx = canvas.getContext('2d');\r\n        if (!ctx) {\r\n            return Promise.reject(false);\r\n        }\r\n        ctx.fillStyle = 'rgb(0, 255, 0)';\r\n        ctx.fillRect(0, 0, size, size);\r\n        var img = new Image();\r\n        var greenImageSrc = canvas.toDataURL();\r\n        img.src = greenImageSrc;\r\n        var svg = createForeignObjectSVG(size, size, 0, 0, img);\r\n        ctx.fillStyle = 'red';\r\n        ctx.fillRect(0, 0, size, size);\r\n        return loadSerializedSVG(svg)\r\n            .then(function (img) {\r\n                ctx.drawImage(img, 0, 0);\r\n                var data = ctx.getImageData(0, 0, size, size).data;\r\n                ctx.fillStyle = 'red';\r\n                ctx.fillRect(0, 0, size, size);\r\n                var node = document.createElement('div');\r\n                node.style.backgroundImage = \"url(\" + greenImageSrc + \")\";\r\n                node.style.height = size + \"px\";\r\n                // Firefox 55 does not render inline <img /> tags\r\n                return isGreenPixel(data)\r\n                    ? loadSerializedSVG(createForeignObjectSVG(size, size, 0, 0, node))\r\n                    : Promise.reject(false);\r\n            })\r\n            .then(function (img) {\r\n                ctx.drawImage(img, 0, 0);\r\n                // Edge does not render background-images\r\n                return isGreenPixel(ctx.getImageData(0, 0, size, size).data);\r\n            })\r\n            .catch(function () { return false; });\r\n    };\r\n    var createForeignObjectSVG = function (width, height, x, y, node) {\r\n        var xmlns = 'http://www.w3.org/2000/svg';\r\n        var svg = document.createElementNS(xmlns, 'svg');\r\n        var foreignObject = document.createElementNS(xmlns, 'foreignObject');\r\n        svg.setAttributeNS(null, 'width', width.toString());\r\n        svg.setAttributeNS(null, 'height', height.toString());\r\n        foreignObject.setAttributeNS(null, 'width', '100%');\r\n        foreignObject.setAttributeNS(null, 'height', '100%');\r\n        foreignObject.setAttributeNS(null, 'x', x.toString());\r\n        foreignObject.setAttributeNS(null, 'y', y.toString());\r\n        foreignObject.setAttributeNS(null, 'externalResourcesRequired', 'true');\r\n        svg.appendChild(foreignObject);\r\n        foreignObject.appendChild(node);\r\n        return svg;\r\n    };\r\n    var loadSerializedSVG = function (svg) {\r\n        return new Promise(function (resolve, reject) {\r\n            var img = new Image();\r\n            img.onload = function () { return resolve(img); };\r\n            img.onerror = reject;\r\n            img.src = \"data:image/svg+xml;charset=utf-8,\" + encodeURIComponent(new XMLSerializer().serializeToString(svg));\r\n        });\r\n    };\r\n    var FEATURES = {\r\n        get SUPPORT_RANGE_BOUNDS() {\r\n            var value = testRangeBounds(document);\r\n            Object.defineProperty(FEATURES, 'SUPPORT_RANGE_BOUNDS', { value: value });\r\n            return value;\r\n        },\r\n        get SUPPORT_SVG_DRAWING() {\r\n            var value = testSVG(document);\r\n            Object.defineProperty(FEATURES, 'SUPPORT_SVG_DRAWING', { value: value });\r\n            return value;\r\n        },\r\n        get SUPPORT_FOREIGNOBJECT_DRAWING() {\r\n            var value = typeof Array.from === 'function' && typeof window.fetch === 'function'\r\n                ? testForeignObject(document)\r\n                : Promise.resolve(false);\r\n            Object.defineProperty(FEATURES, 'SUPPORT_FOREIGNOBJECT_DRAWING', { value: value });\r\n            return value;\r\n        },\r\n        get SUPPORT_CORS_IMAGES() {\r\n            var value = testCORS();\r\n            Object.defineProperty(FEATURES, 'SUPPORT_CORS_IMAGES', { value: value });\r\n            return value;\r\n        },\r\n        get SUPPORT_RESPONSE_TYPE() {\r\n            var value = testResponseType();\r\n            Object.defineProperty(FEATURES, 'SUPPORT_RESPONSE_TYPE', { value: value });\r\n            return value;\r\n        },\r\n        get SUPPORT_CORS_XHR() {\r\n            var value = 'withCredentials' in new XMLHttpRequest();\r\n            Object.defineProperty(FEATURES, 'SUPPORT_CORS_XHR', { value: value });\r\n            return value;\r\n        }\r\n    };\r\n\r\n    var Logger = /** @class */ (function () {\r\n        function Logger(_a) {\r\n            var id = _a.id, enabled = _a.enabled;\r\n            this.id = id;\r\n            this.enabled = enabled;\r\n            this.start = Date.now();\r\n        }\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        Logger.prototype.debug = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            if (this.enabled) {\r\n                // eslint-disable-next-line no-console\r\n                if (typeof window !== 'undefined' && window.console && typeof console.debug === 'function') {\r\n                    // eslint-disable-next-line no-console\r\n                    console.debug.apply(console, [this.id, this.getTime() + \"ms\"].concat(args));\r\n                }\r\n                else {\r\n                    this.info.apply(this, args);\r\n                }\r\n            }\r\n        };\r\n        Logger.prototype.getTime = function () {\r\n            return Date.now() - this.start;\r\n        };\r\n        Logger.create = function (options) {\r\n            Logger.instances[options.id] = new Logger(options);\r\n        };\r\n        Logger.destroy = function (id) {\r\n            delete Logger.instances[id];\r\n        };\r\n        Logger.getInstance = function (id) {\r\n            var instance = Logger.instances[id];\r\n            if (typeof instance === 'undefined') {\r\n                throw new Error(\"No logger instance found with id \" + id);\r\n            }\r\n            return instance;\r\n        };\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        Logger.prototype.info = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            if (this.enabled) {\r\n                // eslint-disable-next-line no-console\r\n                if (typeof window !== 'undefined' && window.console && typeof console.info === 'function') {\r\n                    // eslint-disable-next-line no-console\r\n                    console.info.apply(console, [this.id, this.getTime() + \"ms\"].concat(args));\r\n                }\r\n            }\r\n        };\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        Logger.prototype.error = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            if (this.enabled) {\r\n                // eslint-disable-next-line no-console\r\n                if (typeof window !== 'undefined' && window.console && typeof console.error === 'function') {\r\n                    // eslint-disable-next-line no-console\r\n                    console.error.apply(console, [this.id, this.getTime() + \"ms\"].concat(args));\r\n                }\r\n                else {\r\n                    this.info.apply(this, args);\r\n                }\r\n            }\r\n        };\r\n        Logger.instances = {};\r\n        return Logger;\r\n    }());\r\n\r\n    var CacheStorage = /** @class */ (function () {\r\n        function CacheStorage() {\r\n        }\r\n        CacheStorage.create = function (name, options) {\r\n            return (CacheStorage._caches[name] = new Cache(name, options));\r\n        };\r\n        CacheStorage.destroy = function (name) {\r\n            delete CacheStorage._caches[name];\r\n        };\r\n        CacheStorage.open = function (name) {\r\n            var cache = CacheStorage._caches[name];\r\n            if (typeof cache !== 'undefined') {\r\n                return cache;\r\n            }\r\n            throw new Error(\"Cache with key \\\"\" + name + \"\\\" not found\");\r\n        };\r\n        CacheStorage.getOrigin = function (url) {\r\n            var link = CacheStorage._link;\r\n            if (!link) {\r\n                return 'about:blank';\r\n            }\r\n            link.href = url;\r\n            link.href = link.href; // IE9, LOL! - http://jsfiddle.net/niklasvh/2e48b/\r\n            return link.protocol + link.hostname + link.port;\r\n        };\r\n        CacheStorage.isSameOrigin = function (src) {\r\n            return CacheStorage.getOrigin(src) === CacheStorage._origin;\r\n        };\r\n        CacheStorage.setContext = function (window) {\r\n            CacheStorage._link = window.document.createElement('a');\r\n            CacheStorage._origin = CacheStorage.getOrigin(window.location.href);\r\n        };\r\n        CacheStorage.getInstance = function () {\r\n            var current = CacheStorage._current;\r\n            if (current === null) {\r\n                throw new Error(\"No cache instance attached\");\r\n            }\r\n            return current;\r\n        };\r\n        CacheStorage.attachInstance = function (cache) {\r\n            CacheStorage._current = cache;\r\n        };\r\n        CacheStorage.detachInstance = function () {\r\n            CacheStorage._current = null;\r\n        };\r\n        CacheStorage._caches = {};\r\n        CacheStorage._origin = 'about:blank';\r\n        CacheStorage._current = null;\r\n        return CacheStorage;\r\n    }());\r\n    var Cache = /** @class */ (function () {\r\n        function Cache(id, options) {\r\n            this.id = id;\r\n            this._options = options;\r\n            this._cache = {};\r\n        }\r\n        Cache.prototype.addImage = function (src) {\r\n            var result = Promise.resolve();\r\n            if (this.has(src)) {\r\n                return result;\r\n            }\r\n            if (isBlobImage(src) || isRenderable(src)) {\r\n                this._cache[src] = this.loadImage(src);\r\n                return result;\r\n            }\r\n            return result;\r\n        };\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        Cache.prototype.match = function (src) {\r\n            return this._cache[src];\r\n        };\r\n        Cache.prototype.loadImage = function (key) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var isSameOrigin, useCORS, useProxy, src;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            isSameOrigin = CacheStorage.isSameOrigin(key);\r\n                            useCORS = !isInlineImage(key) && this._options.useCORS === true && FEATURES.SUPPORT_CORS_IMAGES && !isSameOrigin;\r\n                            useProxy = !isInlineImage(key) &&\r\n                                !isSameOrigin &&\r\n                                typeof this._options.proxy === 'string' &&\r\n                                FEATURES.SUPPORT_CORS_XHR &&\r\n                                !useCORS;\r\n                            if (!isSameOrigin && this._options.allowTaint === false && !isInlineImage(key) && !useProxy && !useCORS) {\r\n                                return [2 /*return*/];\r\n                            }\r\n                            src = key;\r\n                            if (!useProxy) return [3 /*break*/, 2];\r\n                            return [4 /*yield*/, this.proxy(src)];\r\n                        case 1:\r\n                            src = _a.sent();\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            Logger.getInstance(this.id).debug(\"Added image \" + key.substring(0, 256));\r\n                            return [4 /*yield*/, new Promise(function (resolve, reject) {\r\n                                var img = new Image();\r\n                                img.onload = function () { return resolve(img); };\r\n                                img.onerror = reject;\r\n                                //ios safari 10.3 taints canvas with data urls unless crossOrigin is set to anonymous\r\n                                if (isInlineBase64Image(src) || useCORS) {\r\n                                    img.crossOrigin = 'anonymous';\r\n                                }\r\n                                img.src = src;\r\n                                if (img.complete === true) {\r\n                                    // Inline XML images may fail to parse, throwing an Error later on\r\n                                    setTimeout(function () { return resolve(img); }, 500);\r\n                                }\r\n                                if (_this._options.imageTimeout > 0) {\r\n                                    setTimeout(function () { return reject(\"Timed out (\" + _this._options.imageTimeout + \"ms) loading image\"); }, _this._options.imageTimeout);\r\n                                }\r\n                            })];\r\n                        case 3: return [2 /*return*/, _a.sent()];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Cache.prototype.has = function (key) {\r\n            return typeof this._cache[key] !== 'undefined';\r\n        };\r\n        Cache.prototype.keys = function () {\r\n            return Promise.resolve(Object.keys(this._cache));\r\n        };\r\n        Cache.prototype.proxy = function (src) {\r\n            var _this = this;\r\n            var proxy = this._options.proxy;\r\n            if (!proxy) {\r\n                throw new Error('No proxy defined');\r\n            }\r\n            var key = src.substring(0, 256);\r\n            return new Promise(function (resolve, reject) {\r\n                var responseType = FEATURES.SUPPORT_RESPONSE_TYPE ? 'blob' : 'text';\r\n                var xhr = new XMLHttpRequest();\r\n                xhr.onload = function () {\r\n                    if (xhr.status === 200) {\r\n                        if (responseType === 'text') {\r\n                            resolve(xhr.response);\r\n                        }\r\n                        else {\r\n                            var reader_1 = new FileReader();\r\n                            reader_1.addEventListener('load', function () { return resolve(reader_1.result); }, false);\r\n                            reader_1.addEventListener('error', function (e) { return reject(e); }, false);\r\n                            reader_1.readAsDataURL(xhr.response);\r\n                        }\r\n                    }\r\n                    else {\r\n                        reject(\"Failed to proxy resource \" + key + \" with status code \" + xhr.status);\r\n                    }\r\n                };\r\n                xhr.onerror = reject;\r\n                xhr.open('GET', proxy + \"?url=\" + encodeURIComponent(src) + \"&responseType=\" + responseType);\r\n                if (responseType !== 'text' && xhr instanceof XMLHttpRequest) {\r\n                    xhr.responseType = responseType;\r\n                }\r\n                if (_this._options.imageTimeout) {\r\n                    var timeout_1 = _this._options.imageTimeout;\r\n                    xhr.timeout = timeout_1;\r\n                    xhr.ontimeout = function () { return reject(\"Timed out (\" + timeout_1 + \"ms) proxying \" + key); };\r\n                }\r\n                xhr.send();\r\n            });\r\n        };\r\n        return Cache;\r\n    }());\r\n    var INLINE_SVG = /^data:image\\/svg\\+xml/i;\r\n    var INLINE_BASE64 = /^data:image\\/.*;base64,/i;\r\n    var INLINE_IMG = /^data:image\\/.*/i;\r\n    var isRenderable = function (src) { return FEATURES.SUPPORT_SVG_DRAWING || !isSVG(src); };\r\n    var isInlineImage = function (src) { return INLINE_IMG.test(src); };\r\n    var isInlineBase64Image = function (src) { return INLINE_BASE64.test(src); };\r\n    var isBlobImage = function (src) { return src.substr(0, 4) === 'blob'; };\r\n    var isSVG = function (src) { return src.substr(-3).toLowerCase() === 'svg' || INLINE_SVG.test(src); };\r\n\r\n    var webkitGradient = function (tokens) {\r\n        var angle = deg(180);\r\n        var stops = [];\r\n        var type = CSSImageType.LINEAR_GRADIENT;\r\n        var shape = CSSRadialShape.CIRCLE;\r\n        var size = CSSRadialExtent.FARTHEST_CORNER;\r\n        var position = [];\r\n        parseFunctionArgs(tokens).forEach(function (arg, i) {\r\n            var firstToken = arg[0];\r\n            if (i === 0) {\r\n                if (isIdentToken(firstToken) && firstToken.value === 'linear') {\r\n                    type = CSSImageType.LINEAR_GRADIENT;\r\n                    return;\r\n                }\r\n                else if (isIdentToken(firstToken) && firstToken.value === 'radial') {\r\n                    type = CSSImageType.RADIAL_GRADIENT;\r\n                    return;\r\n                }\r\n            }\r\n            if (firstToken.type === TokenType.FUNCTION) {\r\n                if (firstToken.name === 'from') {\r\n                    var color$1 = color.parse(firstToken.values[0]);\r\n                    stops.push({ stop: ZERO_LENGTH, color: color$1 });\r\n                }\r\n                else if (firstToken.name === 'to') {\r\n                    var color$1 = color.parse(firstToken.values[0]);\r\n                    stops.push({ stop: HUNDRED_PERCENT, color: color$1 });\r\n                }\r\n                else if (firstToken.name === 'color-stop') {\r\n                    var values = firstToken.values.filter(nonFunctionArgSeparator);\r\n                    if (values.length === 2) {\r\n                        var color$1 = color.parse(values[1]);\r\n                        var stop_1 = values[0];\r\n                        if (isNumberToken(stop_1)) {\r\n                            stops.push({\r\n                                stop: { type: TokenType.PERCENTAGE_TOKEN, number: stop_1.number * 100, flags: stop_1.flags },\r\n                                color: color$1\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        return type === CSSImageType.LINEAR_GRADIENT\r\n            ? {\r\n                angle: (angle + deg(180)) % deg(360),\r\n                stops: stops,\r\n                type: type\r\n            }\r\n            : { size: size, shape: shape, stops: stops, position: position, type: type };\r\n    };\r\n\r\n    var CLOSEST_SIDE = 'closest-side';\r\n    var FARTHEST_SIDE = 'farthest-side';\r\n    var CLOSEST_CORNER = 'closest-corner';\r\n    var FARTHEST_CORNER = 'farthest-corner';\r\n    var CIRCLE = 'circle';\r\n    var ELLIPSE = 'ellipse';\r\n    var COVER = 'cover';\r\n    var CONTAIN = 'contain';\r\n    var radialGradient = function (tokens) {\r\n        var shape = CSSRadialShape.CIRCLE;\r\n        var size = CSSRadialExtent.FARTHEST_CORNER;\r\n        var stops = [];\r\n        var position = [];\r\n        parseFunctionArgs(tokens).forEach(function (arg, i) {\r\n            var isColorStop = true;\r\n            if (i === 0) {\r\n                var isAtPosition_1 = false;\r\n                isColorStop = arg.reduce(function (acc, token) {\r\n                    if (isAtPosition_1) {\r\n                        if (isIdentToken(token)) {\r\n                            switch (token.value) {\r\n                                case 'center':\r\n                                    position.push(FIFTY_PERCENT);\r\n                                    return acc;\r\n                                case 'top':\r\n                                case 'left':\r\n                                    position.push(ZERO_LENGTH);\r\n                                    return acc;\r\n                                case 'right':\r\n                                case 'bottom':\r\n                                    position.push(HUNDRED_PERCENT);\r\n                                    return acc;\r\n                            }\r\n                        }\r\n                        else if (isLengthPercentage(token) || isLength(token)) {\r\n                            position.push(token);\r\n                        }\r\n                    }\r\n                    else if (isIdentToken(token)) {\r\n                        switch (token.value) {\r\n                            case CIRCLE:\r\n                                shape = CSSRadialShape.CIRCLE;\r\n                                return false;\r\n                            case ELLIPSE:\r\n                                shape = CSSRadialShape.ELLIPSE;\r\n                                return false;\r\n                            case 'at':\r\n                                isAtPosition_1 = true;\r\n                                return false;\r\n                            case CLOSEST_SIDE:\r\n                                size = CSSRadialExtent.CLOSEST_SIDE;\r\n                                return false;\r\n                            case COVER:\r\n                            case FARTHEST_SIDE:\r\n                                size = CSSRadialExtent.FARTHEST_SIDE;\r\n                                return false;\r\n                            case CONTAIN:\r\n                            case CLOSEST_CORNER:\r\n                                size = CSSRadialExtent.CLOSEST_CORNER;\r\n                                return false;\r\n                            case FARTHEST_CORNER:\r\n                                size = CSSRadialExtent.FARTHEST_CORNER;\r\n                                return false;\r\n                        }\r\n                    }\r\n                    else if (isLength(token) || isLengthPercentage(token)) {\r\n                        if (!Array.isArray(size)) {\r\n                            size = [];\r\n                        }\r\n                        size.push(token);\r\n                        return false;\r\n                    }\r\n                    return acc;\r\n                }, isColorStop);\r\n            }\r\n            if (isColorStop) {\r\n                var colorStop = parseColorStop(arg);\r\n                stops.push(colorStop);\r\n            }\r\n        });\r\n        return { size: size, shape: shape, stops: stops, position: position, type: CSSImageType.RADIAL_GRADIENT };\r\n    };\r\n\r\n    var prefixRadialGradient = function (tokens) {\r\n        var shape = CSSRadialShape.CIRCLE;\r\n        var size = CSSRadialExtent.FARTHEST_CORNER;\r\n        var stops = [];\r\n        var position = [];\r\n        parseFunctionArgs(tokens).forEach(function (arg, i) {\r\n            var isColorStop = true;\r\n            if (i === 0) {\r\n                isColorStop = arg.reduce(function (acc, token) {\r\n                    if (isIdentToken(token)) {\r\n                        switch (token.value) {\r\n                            case 'center':\r\n                                position.push(FIFTY_PERCENT);\r\n                                return false;\r\n                            case 'top':\r\n                            case 'left':\r\n                                position.push(ZERO_LENGTH);\r\n                                return false;\r\n                            case 'right':\r\n                            case 'bottom':\r\n                                position.push(HUNDRED_PERCENT);\r\n                                return false;\r\n                        }\r\n                    }\r\n                    else if (isLengthPercentage(token) || isLength(token)) {\r\n                        position.push(token);\r\n                        return false;\r\n                    }\r\n                    return acc;\r\n                }, isColorStop);\r\n            }\r\n            else if (i === 1) {\r\n                isColorStop = arg.reduce(function (acc, token) {\r\n                    if (isIdentToken(token)) {\r\n                        switch (token.value) {\r\n                            case CIRCLE:\r\n                                shape = CSSRadialShape.CIRCLE;\r\n                                return false;\r\n                            case ELLIPSE:\r\n                                shape = CSSRadialShape.ELLIPSE;\r\n                                return false;\r\n                            case CONTAIN:\r\n                            case CLOSEST_SIDE:\r\n                                size = CSSRadialExtent.CLOSEST_SIDE;\r\n                                return false;\r\n                            case FARTHEST_SIDE:\r\n                                size = CSSRadialExtent.FARTHEST_SIDE;\r\n                                return false;\r\n                            case CLOSEST_CORNER:\r\n                                size = CSSRadialExtent.CLOSEST_CORNER;\r\n                                return false;\r\n                            case COVER:\r\n                            case FARTHEST_CORNER:\r\n                                size = CSSRadialExtent.FARTHEST_CORNER;\r\n                                return false;\r\n                        }\r\n                    }\r\n                    else if (isLength(token) || isLengthPercentage(token)) {\r\n                        if (!Array.isArray(size)) {\r\n                            size = [];\r\n                        }\r\n                        size.push(token);\r\n                        return false;\r\n                    }\r\n                    return acc;\r\n                }, isColorStop);\r\n            }\r\n            if (isColorStop) {\r\n                var colorStop = parseColorStop(arg);\r\n                stops.push(colorStop);\r\n            }\r\n        });\r\n        return { size: size, shape: shape, stops: stops, position: position, type: CSSImageType.RADIAL_GRADIENT };\r\n    };\r\n\r\n    var CSSImageType;\r\n    (function (CSSImageType) {\r\n        CSSImageType[CSSImageType[\"URL\"] = 0] = \"URL\";\r\n        CSSImageType[CSSImageType[\"LINEAR_GRADIENT\"] = 1] = \"LINEAR_GRADIENT\";\r\n        CSSImageType[CSSImageType[\"RADIAL_GRADIENT\"] = 2] = \"RADIAL_GRADIENT\";\r\n    })(CSSImageType || (CSSImageType = {}));\r\n    var isLinearGradient = function (background) {\r\n        return background.type === CSSImageType.LINEAR_GRADIENT;\r\n    };\r\n    var isRadialGradient = function (background) {\r\n        return background.type === CSSImageType.RADIAL_GRADIENT;\r\n    };\r\n    var CSSRadialShape;\r\n    (function (CSSRadialShape) {\r\n        CSSRadialShape[CSSRadialShape[\"CIRCLE\"] = 0] = \"CIRCLE\";\r\n        CSSRadialShape[CSSRadialShape[\"ELLIPSE\"] = 1] = \"ELLIPSE\";\r\n    })(CSSRadialShape || (CSSRadialShape = {}));\r\n    var CSSRadialExtent;\r\n    (function (CSSRadialExtent) {\r\n        CSSRadialExtent[CSSRadialExtent[\"CLOSEST_SIDE\"] = 0] = \"CLOSEST_SIDE\";\r\n        CSSRadialExtent[CSSRadialExtent[\"FARTHEST_SIDE\"] = 1] = \"FARTHEST_SIDE\";\r\n        CSSRadialExtent[CSSRadialExtent[\"CLOSEST_CORNER\"] = 2] = \"CLOSEST_CORNER\";\r\n        CSSRadialExtent[CSSRadialExtent[\"FARTHEST_CORNER\"] = 3] = \"FARTHEST_CORNER\";\r\n    })(CSSRadialExtent || (CSSRadialExtent = {}));\r\n    var image = {\r\n        name: 'image',\r\n        parse: function (value) {\r\n            if (value.type === TokenType.URL_TOKEN) {\r\n                var image_1 = { url: value.value, type: CSSImageType.URL };\r\n                CacheStorage.getInstance().addImage(value.value);\r\n                return image_1;\r\n            }\r\n            if (value.type === TokenType.FUNCTION) {\r\n                var imageFunction = SUPPORTED_IMAGE_FUNCTIONS[value.name];\r\n                if (typeof imageFunction === 'undefined') {\r\n                    throw new Error(\"Attempting to parse an unsupported image function \\\"\" + value.name + \"\\\"\");\r\n                }\r\n                return imageFunction(value.values);\r\n            }\r\n            throw new Error(\"Unsupported image type\");\r\n        }\r\n    };\r\n    function isSupportedImage(value) {\r\n        return value.type !== TokenType.FUNCTION || SUPPORTED_IMAGE_FUNCTIONS[value.name];\r\n    }\r\n    var SUPPORTED_IMAGE_FUNCTIONS = {\r\n        'linear-gradient': linearGradient,\r\n        '-moz-linear-gradient': prefixLinearGradient,\r\n        '-ms-linear-gradient': prefixLinearGradient,\r\n        '-o-linear-gradient': prefixLinearGradient,\r\n        '-webkit-linear-gradient': prefixLinearGradient,\r\n        'radial-gradient': radialGradient,\r\n        '-moz-radial-gradient': prefixRadialGradient,\r\n        '-ms-radial-gradient': prefixRadialGradient,\r\n        '-o-radial-gradient': prefixRadialGradient,\r\n        '-webkit-radial-gradient': prefixRadialGradient,\r\n        '-webkit-gradient': webkitGradient\r\n    };\r\n\r\n    var backgroundImage = {\r\n        name: 'background-image',\r\n        initialValue: 'none',\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        prefix: false,\r\n        parse: function (tokens) {\r\n            if (tokens.length === 0) {\r\n                return [];\r\n            }\r\n            var first = tokens[0];\r\n            if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\r\n                return [];\r\n            }\r\n            return tokens.filter(function (value) { return nonFunctionArgSeparator(value) && isSupportedImage(value); }).map(image.parse);\r\n        }\r\n    };\r\n\r\n    var backgroundOrigin = {\r\n        name: 'background-origin',\r\n        initialValue: 'border-box',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return tokens.map(function (token) {\r\n                if (isIdentToken(token)) {\r\n                    switch (token.value) {\r\n                        case 'padding-box':\r\n                            return 1 /* PADDING_BOX */;\r\n                        case 'content-box':\r\n                            return 2 /* CONTENT_BOX */;\r\n                    }\r\n                }\r\n                return 0 /* BORDER_BOX */;\r\n            });\r\n        }\r\n    };\r\n\r\n    var backgroundPosition = {\r\n        name: 'background-position',\r\n        initialValue: '0% 0%',\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        prefix: false,\r\n        parse: function (tokens) {\r\n            return parseFunctionArgs(tokens)\r\n                .map(function (values) { return values.filter(isLengthPercentage); })\r\n                .map(parseLengthPercentageTuple);\r\n        }\r\n    };\r\n\r\n    var BACKGROUND_REPEAT;\r\n    (function (BACKGROUND_REPEAT) {\r\n        BACKGROUND_REPEAT[BACKGROUND_REPEAT[\"REPEAT\"] = 0] = \"REPEAT\";\r\n        BACKGROUND_REPEAT[BACKGROUND_REPEAT[\"NO_REPEAT\"] = 1] = \"NO_REPEAT\";\r\n        BACKGROUND_REPEAT[BACKGROUND_REPEAT[\"REPEAT_X\"] = 2] = \"REPEAT_X\";\r\n        BACKGROUND_REPEAT[BACKGROUND_REPEAT[\"REPEAT_Y\"] = 3] = \"REPEAT_Y\";\r\n    })(BACKGROUND_REPEAT || (BACKGROUND_REPEAT = {}));\r\n    var backgroundRepeat = {\r\n        name: 'background-repeat',\r\n        initialValue: 'repeat',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return parseFunctionArgs(tokens)\r\n                .map(function (values) {\r\n                    return values\r\n                        .filter(isIdentToken)\r\n                        .map(function (token) { return token.value; })\r\n                        .join(' ');\r\n                })\r\n                .map(parseBackgroundRepeat);\r\n        }\r\n    };\r\n    var parseBackgroundRepeat = function (value) {\r\n        switch (value) {\r\n            case 'no-repeat':\r\n                return BACKGROUND_REPEAT.NO_REPEAT;\r\n            case 'repeat-x':\r\n            case 'repeat no-repeat':\r\n                return BACKGROUND_REPEAT.REPEAT_X;\r\n            case 'repeat-y':\r\n            case 'no-repeat repeat':\r\n                return BACKGROUND_REPEAT.REPEAT_Y;\r\n            case 'repeat':\r\n            default:\r\n                return BACKGROUND_REPEAT.REPEAT;\r\n        }\r\n    };\r\n\r\n    var BACKGROUND_SIZE;\r\n    (function (BACKGROUND_SIZE) {\r\n        BACKGROUND_SIZE[\"AUTO\"] = \"auto\";\r\n        BACKGROUND_SIZE[\"CONTAIN\"] = \"contain\";\r\n        BACKGROUND_SIZE[\"COVER\"] = \"cover\";\r\n    })(BACKGROUND_SIZE || (BACKGROUND_SIZE = {}));\r\n    var backgroundSize = {\r\n        name: 'background-size',\r\n        initialValue: '0',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return parseFunctionArgs(tokens).map(function (values) { return values.filter(isBackgroundSizeInfoToken); });\r\n        }\r\n    };\r\n    var isBackgroundSizeInfoToken = function (value) {\r\n        return isIdentToken(value) || isLengthPercentage(value);\r\n    };\r\n\r\n    var borderColorForSide = function (side) {\r\n        return ({\r\n            name: \"border-\" + side + \"-color\",\r\n            initialValue: 'transparent',\r\n            prefix: false,\r\n            type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n            format: 'color'\r\n        });\r\n    };\r\n    var borderTopColor = borderColorForSide('top');\r\n    var borderRightColor = borderColorForSide('right');\r\n    var borderBottomColor = borderColorForSide('bottom');\r\n    var borderLeftColor = borderColorForSide('left');\r\n\r\n    var borderRadiusForSide = function (side) {\r\n        return ({\r\n            name: \"border-radius-\" + side,\r\n            initialValue: '0 0',\r\n            prefix: false,\r\n            type: PropertyDescriptorParsingType.LIST,\r\n            parse: function (tokens) { return parseLengthPercentageTuple(tokens.filter(isLengthPercentage)); }\r\n        });\r\n    };\r\n    var borderTopLeftRadius = borderRadiusForSide('top-left');\r\n    var borderTopRightRadius = borderRadiusForSide('top-right');\r\n    var borderBottomRightRadius = borderRadiusForSide('bottom-right');\r\n    var borderBottomLeftRadius = borderRadiusForSide('bottom-left');\r\n\r\n    var BORDER_STYLE;\r\n    (function (BORDER_STYLE) {\r\n        BORDER_STYLE[BORDER_STYLE[\"NONE\"] = 0] = \"NONE\";\r\n        BORDER_STYLE[BORDER_STYLE[\"SOLID\"] = 1] = \"SOLID\";\r\n    })(BORDER_STYLE || (BORDER_STYLE = {}));\r\n    var borderStyleForSide = function (side) {\r\n        return ({\r\n            name: \"border-\" + side + \"-style\",\r\n            initialValue: 'solid',\r\n            prefix: false,\r\n            type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n            parse: function (style) {\r\n                switch (style) {\r\n                    case 'none':\r\n                        return BORDER_STYLE.NONE;\r\n                }\r\n                return BORDER_STYLE.SOLID;\r\n            }\r\n        });\r\n    };\r\n    var borderTopStyle = borderStyleForSide('top');\r\n    var borderRightStyle = borderStyleForSide('right');\r\n    var borderBottomStyle = borderStyleForSide('bottom');\r\n    var borderLeftStyle = borderStyleForSide('left');\r\n\r\n    var borderWidthForSide = function (side) {\r\n        return ({\r\n            name: \"border-\" + side + \"-width\",\r\n            initialValue: '0',\r\n            type: PropertyDescriptorParsingType.VALUE,\r\n            prefix: false,\r\n            parse: function (token) {\r\n                if (isDimensionToken(token)) {\r\n                    return token.number;\r\n                }\r\n                return 0;\r\n            }\r\n        });\r\n    };\r\n    var borderTopWidth = borderWidthForSide('top');\r\n    var borderRightWidth = borderWidthForSide('right');\r\n    var borderBottomWidth = borderWidthForSide('bottom');\r\n    var borderLeftWidth = borderWidthForSide('left');\r\n\r\n    var color$1 = {\r\n        name: \"color\",\r\n        initialValue: 'transparent',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n        format: 'color'\r\n    };\r\n\r\n    var display = {\r\n        name: 'display',\r\n        initialValue: 'inline-block',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return tokens.filter(isIdentToken).reduce(function (bit, token) {\r\n                return bit | parseDisplayValue(token.value);\r\n            }, 0 /* NONE */);\r\n        }\r\n    };\r\n    var parseDisplayValue = function (display) {\r\n        switch (display) {\r\n            case 'block':\r\n                return 2 /* BLOCK */;\r\n            case 'inline':\r\n                return 4 /* INLINE */;\r\n            case 'run-in':\r\n                return 8 /* RUN_IN */;\r\n            case 'flow':\r\n                return 16 /* FLOW */;\r\n            case 'flow-root':\r\n                return 32 /* FLOW_ROOT */;\r\n            case 'table':\r\n                return 64 /* TABLE */;\r\n            case 'flex':\r\n            case '-webkit-flex':\r\n                return 128 /* FLEX */;\r\n            case 'grid':\r\n            case '-ms-grid':\r\n                return 256 /* GRID */;\r\n            case 'ruby':\r\n                return 512 /* RUBY */;\r\n            case 'subgrid':\r\n                return 1024 /* SUBGRID */;\r\n            case 'list-item':\r\n                return 2048 /* LIST_ITEM */;\r\n            case 'table-row-group':\r\n                return 4096 /* TABLE_ROW_GROUP */;\r\n            case 'table-header-group':\r\n                return 8192 /* TABLE_HEADER_GROUP */;\r\n            case 'table-footer-group':\r\n                return 16384 /* TABLE_FOOTER_GROUP */;\r\n            case 'table-row':\r\n                return 32768 /* TABLE_ROW */;\r\n            case 'table-cell':\r\n                return 65536 /* TABLE_CELL */;\r\n            case 'table-column-group':\r\n                return 131072 /* TABLE_COLUMN_GROUP */;\r\n            case 'table-column':\r\n                return 262144 /* TABLE_COLUMN */;\r\n            case 'table-caption':\r\n                return 524288 /* TABLE_CAPTION */;\r\n            case 'ruby-base':\r\n                return 1048576 /* RUBY_BASE */;\r\n            case 'ruby-text':\r\n                return 2097152 /* RUBY_TEXT */;\r\n            case 'ruby-base-container':\r\n                return 4194304 /* RUBY_BASE_CONTAINER */;\r\n            case 'ruby-text-container':\r\n                return 8388608 /* RUBY_TEXT_CONTAINER */;\r\n            case 'contents':\r\n                return 16777216 /* CONTENTS */;\r\n            case 'inline-block':\r\n                return 33554432 /* INLINE_BLOCK */;\r\n            case 'inline-list-item':\r\n                return 67108864 /* INLINE_LIST_ITEM */;\r\n            case 'inline-table':\r\n                return 134217728 /* INLINE_TABLE */;\r\n            case 'inline-flex':\r\n                return 268435456 /* INLINE_FLEX */;\r\n            case 'inline-grid':\r\n                return 536870912 /* INLINE_GRID */;\r\n        }\r\n        return 0 /* NONE */;\r\n    };\r\n\r\n    var FLOAT;\r\n    (function (FLOAT) {\r\n        FLOAT[FLOAT[\"NONE\"] = 0] = \"NONE\";\r\n        FLOAT[FLOAT[\"LEFT\"] = 1] = \"LEFT\";\r\n        FLOAT[FLOAT[\"RIGHT\"] = 2] = \"RIGHT\";\r\n        FLOAT[FLOAT[\"INLINE_START\"] = 3] = \"INLINE_START\";\r\n        FLOAT[FLOAT[\"INLINE_END\"] = 4] = \"INLINE_END\";\r\n    })(FLOAT || (FLOAT = {}));\r\n    var float = {\r\n        name: 'float',\r\n        initialValue: 'none',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (float) {\r\n            switch (float) {\r\n                case 'left':\r\n                    return FLOAT.LEFT;\r\n                case 'right':\r\n                    return FLOAT.RIGHT;\r\n                case 'inline-start':\r\n                    return FLOAT.INLINE_START;\r\n                case 'inline-end':\r\n                    return FLOAT.INLINE_END;\r\n            }\r\n            return FLOAT.NONE;\r\n        }\r\n    };\r\n\r\n    var letterSpacing = {\r\n        name: 'letter-spacing',\r\n        initialValue: '0',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.VALUE,\r\n        parse: function (token) {\r\n            if (token.type === TokenType.IDENT_TOKEN && token.value === 'normal') {\r\n                return 0;\r\n            }\r\n            if (token.type === TokenType.NUMBER_TOKEN) {\r\n                return token.number;\r\n            }\r\n            if (token.type === TokenType.DIMENSION_TOKEN) {\r\n                return token.number;\r\n            }\r\n            return 0;\r\n        }\r\n    };\r\n\r\n    var LINE_BREAK;\r\n    (function (LINE_BREAK) {\r\n        LINE_BREAK[\"NORMAL\"] = \"normal\";\r\n        LINE_BREAK[\"STRICT\"] = \"strict\";\r\n    })(LINE_BREAK || (LINE_BREAK = {}));\r\n    var lineBreak = {\r\n        name: 'line-break',\r\n        initialValue: 'normal',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (lineBreak) {\r\n            switch (lineBreak) {\r\n                case 'strict':\r\n                    return LINE_BREAK.STRICT;\r\n                case 'normal':\r\n                default:\r\n                    return LINE_BREAK.NORMAL;\r\n            }\r\n        }\r\n    };\r\n\r\n    var lineHeight = {\r\n        name: 'line-height',\r\n        initialValue: 'normal',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.TOKEN_VALUE\r\n    };\r\n    var computeLineHeight = function (token, fontSize) {\r\n        if (isIdentToken(token) && token.value === 'normal') {\r\n            return 1.2 * fontSize;\r\n        }\r\n        else if (token.type === TokenType.NUMBER_TOKEN) {\r\n            return fontSize * token.number;\r\n        }\r\n        else if (isLengthPercentage(token)) {\r\n            return getAbsoluteValue(token, fontSize);\r\n        }\r\n        return fontSize;\r\n    };\r\n\r\n    var listStyleImage = {\r\n        name: 'list-style-image',\r\n        initialValue: 'none',\r\n        type: PropertyDescriptorParsingType.VALUE,\r\n        prefix: false,\r\n        parse: function (token) {\r\n            if (token.type === TokenType.IDENT_TOKEN && token.value === 'none') {\r\n                return null;\r\n            }\r\n            return image.parse(token);\r\n        }\r\n    };\r\n\r\n    var LIST_STYLE_POSITION;\r\n    (function (LIST_STYLE_POSITION) {\r\n        LIST_STYLE_POSITION[LIST_STYLE_POSITION[\"INSIDE\"] = 0] = \"INSIDE\";\r\n        LIST_STYLE_POSITION[LIST_STYLE_POSITION[\"OUTSIDE\"] = 1] = \"OUTSIDE\";\r\n    })(LIST_STYLE_POSITION || (LIST_STYLE_POSITION = {}));\r\n    var listStylePosition = {\r\n        name: 'list-style-position',\r\n        initialValue: 'outside',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (position) {\r\n            switch (position) {\r\n                case 'inside':\r\n                    return LIST_STYLE_POSITION.INSIDE;\r\n                case 'outside':\r\n                default:\r\n                    return LIST_STYLE_POSITION.OUTSIDE;\r\n            }\r\n        }\r\n    };\r\n\r\n    var LIST_STYLE_TYPE;\r\n    (function (LIST_STYLE_TYPE) {\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"NONE\"] = -1] = \"NONE\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DISC\"] = 0] = \"DISC\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CIRCLE\"] = 1] = \"CIRCLE\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"SQUARE\"] = 2] = \"SQUARE\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DECIMAL\"] = 3] = \"DECIMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CJK_DECIMAL\"] = 4] = \"CJK_DECIMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DECIMAL_LEADING_ZERO\"] = 5] = \"DECIMAL_LEADING_ZERO\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"LOWER_ROMAN\"] = 6] = \"LOWER_ROMAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"UPPER_ROMAN\"] = 7] = \"UPPER_ROMAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"LOWER_GREEK\"] = 8] = \"LOWER_GREEK\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"LOWER_ALPHA\"] = 9] = \"LOWER_ALPHA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"UPPER_ALPHA\"] = 10] = \"UPPER_ALPHA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"ARABIC_INDIC\"] = 11] = \"ARABIC_INDIC\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"ARMENIAN\"] = 12] = \"ARMENIAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"BENGALI\"] = 13] = \"BENGALI\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CAMBODIAN\"] = 14] = \"CAMBODIAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CJK_EARTHLY_BRANCH\"] = 15] = \"CJK_EARTHLY_BRANCH\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CJK_HEAVENLY_STEM\"] = 16] = \"CJK_HEAVENLY_STEM\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"CJK_IDEOGRAPHIC\"] = 17] = \"CJK_IDEOGRAPHIC\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DEVANAGARI\"] = 18] = \"DEVANAGARI\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"ETHIOPIC_NUMERIC\"] = 19] = \"ETHIOPIC_NUMERIC\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"GEORGIAN\"] = 20] = \"GEORGIAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"GUJARATI\"] = 21] = \"GUJARATI\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"GURMUKHI\"] = 22] = \"GURMUKHI\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"HEBREW\"] = 22] = \"HEBREW\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"HIRAGANA\"] = 23] = \"HIRAGANA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"HIRAGANA_IROHA\"] = 24] = \"HIRAGANA_IROHA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"JAPANESE_FORMAL\"] = 25] = \"JAPANESE_FORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"JAPANESE_INFORMAL\"] = 26] = \"JAPANESE_INFORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KANNADA\"] = 27] = \"KANNADA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KATAKANA\"] = 28] = \"KATAKANA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KATAKANA_IROHA\"] = 29] = \"KATAKANA_IROHA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KHMER\"] = 30] = \"KHMER\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KOREAN_HANGUL_FORMAL\"] = 31] = \"KOREAN_HANGUL_FORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KOREAN_HANJA_FORMAL\"] = 32] = \"KOREAN_HANJA_FORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"KOREAN_HANJA_INFORMAL\"] = 33] = \"KOREAN_HANJA_INFORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"LAO\"] = 34] = \"LAO\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"LOWER_ARMENIAN\"] = 35] = \"LOWER_ARMENIAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"MALAYALAM\"] = 36] = \"MALAYALAM\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"MONGOLIAN\"] = 37] = \"MONGOLIAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"MYANMAR\"] = 38] = \"MYANMAR\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"ORIYA\"] = 39] = \"ORIYA\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"PERSIAN\"] = 40] = \"PERSIAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"SIMP_CHINESE_FORMAL\"] = 41] = \"SIMP_CHINESE_FORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"SIMP_CHINESE_INFORMAL\"] = 42] = \"SIMP_CHINESE_INFORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"TAMIL\"] = 43] = \"TAMIL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"TELUGU\"] = 44] = \"TELUGU\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"THAI\"] = 45] = \"THAI\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"TIBETAN\"] = 46] = \"TIBETAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"TRAD_CHINESE_FORMAL\"] = 47] = \"TRAD_CHINESE_FORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"TRAD_CHINESE_INFORMAL\"] = 48] = \"TRAD_CHINESE_INFORMAL\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"UPPER_ARMENIAN\"] = 49] = \"UPPER_ARMENIAN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DISCLOSURE_OPEN\"] = 50] = \"DISCLOSURE_OPEN\";\r\n        LIST_STYLE_TYPE[LIST_STYLE_TYPE[\"DISCLOSURE_CLOSED\"] = 51] = \"DISCLOSURE_CLOSED\";\r\n    })(LIST_STYLE_TYPE || (LIST_STYLE_TYPE = {}));\r\n    var listStyleType = {\r\n        name: 'list-style-type',\r\n        initialValue: 'none',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (type) {\r\n            switch (type) {\r\n                case 'disc':\r\n                    return LIST_STYLE_TYPE.DISC;\r\n                case 'circle':\r\n                    return LIST_STYLE_TYPE.CIRCLE;\r\n                case 'square':\r\n                    return LIST_STYLE_TYPE.SQUARE;\r\n                case 'decimal':\r\n                    return LIST_STYLE_TYPE.DECIMAL;\r\n                case 'cjk-decimal':\r\n                    return LIST_STYLE_TYPE.CJK_DECIMAL;\r\n                case 'decimal-leading-zero':\r\n                    return LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO;\r\n                case 'lower-roman':\r\n                    return LIST_STYLE_TYPE.LOWER_ROMAN;\r\n                case 'upper-roman':\r\n                    return LIST_STYLE_TYPE.UPPER_ROMAN;\r\n                case 'lower-greek':\r\n                    return LIST_STYLE_TYPE.LOWER_GREEK;\r\n                case 'lower-alpha':\r\n                    return LIST_STYLE_TYPE.LOWER_ALPHA;\r\n                case 'upper-alpha':\r\n                    return LIST_STYLE_TYPE.UPPER_ALPHA;\r\n                case 'arabic-indic':\r\n                    return LIST_STYLE_TYPE.ARABIC_INDIC;\r\n                case 'armenian':\r\n                    return LIST_STYLE_TYPE.ARMENIAN;\r\n                case 'bengali':\r\n                    return LIST_STYLE_TYPE.BENGALI;\r\n                case 'cambodian':\r\n                    return LIST_STYLE_TYPE.CAMBODIAN;\r\n                case 'cjk-earthly-branch':\r\n                    return LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH;\r\n                case 'cjk-heavenly-stem':\r\n                    return LIST_STYLE_TYPE.CJK_HEAVENLY_STEM;\r\n                case 'cjk-ideographic':\r\n                    return LIST_STYLE_TYPE.CJK_IDEOGRAPHIC;\r\n                case 'devanagari':\r\n                    return LIST_STYLE_TYPE.DEVANAGARI;\r\n                case 'ethiopic-numeric':\r\n                    return LIST_STYLE_TYPE.ETHIOPIC_NUMERIC;\r\n                case 'georgian':\r\n                    return LIST_STYLE_TYPE.GEORGIAN;\r\n                case 'gujarati':\r\n                    return LIST_STYLE_TYPE.GUJARATI;\r\n                case 'gurmukhi':\r\n                    return LIST_STYLE_TYPE.GURMUKHI;\r\n                case 'hebrew':\r\n                    return LIST_STYLE_TYPE.HEBREW;\r\n                case 'hiragana':\r\n                    return LIST_STYLE_TYPE.HIRAGANA;\r\n                case 'hiragana-iroha':\r\n                    return LIST_STYLE_TYPE.HIRAGANA_IROHA;\r\n                case 'japanese-formal':\r\n                    return LIST_STYLE_TYPE.JAPANESE_FORMAL;\r\n                case 'japanese-informal':\r\n                    return LIST_STYLE_TYPE.JAPANESE_INFORMAL;\r\n                case 'kannada':\r\n                    return LIST_STYLE_TYPE.KANNADA;\r\n                case 'katakana':\r\n                    return LIST_STYLE_TYPE.KATAKANA;\r\n                case 'katakana-iroha':\r\n                    return LIST_STYLE_TYPE.KATAKANA_IROHA;\r\n                case 'khmer':\r\n                    return LIST_STYLE_TYPE.KHMER;\r\n                case 'korean-hangul-formal':\r\n                    return LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL;\r\n                case 'korean-hanja-formal':\r\n                    return LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL;\r\n                case 'korean-hanja-informal':\r\n                    return LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL;\r\n                case 'lao':\r\n                    return LIST_STYLE_TYPE.LAO;\r\n                case 'lower-armenian':\r\n                    return LIST_STYLE_TYPE.LOWER_ARMENIAN;\r\n                case 'malayalam':\r\n                    return LIST_STYLE_TYPE.MALAYALAM;\r\n                case 'mongolian':\r\n                    return LIST_STYLE_TYPE.MONGOLIAN;\r\n                case 'myanmar':\r\n                    return LIST_STYLE_TYPE.MYANMAR;\r\n                case 'oriya':\r\n                    return LIST_STYLE_TYPE.ORIYA;\r\n                case 'persian':\r\n                    return LIST_STYLE_TYPE.PERSIAN;\r\n                case 'simp-chinese-formal':\r\n                    return LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL;\r\n                case 'simp-chinese-informal':\r\n                    return LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL;\r\n                case 'tamil':\r\n                    return LIST_STYLE_TYPE.TAMIL;\r\n                case 'telugu':\r\n                    return LIST_STYLE_TYPE.TELUGU;\r\n                case 'thai':\r\n                    return LIST_STYLE_TYPE.THAI;\r\n                case 'tibetan':\r\n                    return LIST_STYLE_TYPE.TIBETAN;\r\n                case 'trad-chinese-formal':\r\n                    return LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL;\r\n                case 'trad-chinese-informal':\r\n                    return LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL;\r\n                case 'upper-armenian':\r\n                    return LIST_STYLE_TYPE.UPPER_ARMENIAN;\r\n                case 'disclosure-open':\r\n                    return LIST_STYLE_TYPE.DISCLOSURE_OPEN;\r\n                case 'disclosure-closed':\r\n                    return LIST_STYLE_TYPE.DISCLOSURE_CLOSED;\r\n                case 'none':\r\n                default:\r\n                    return LIST_STYLE_TYPE.NONE;\r\n            }\r\n        }\r\n    };\r\n\r\n    var marginForSide = function (side) {\r\n        return ({\r\n            name: \"margin-\" + side,\r\n            initialValue: '0',\r\n            prefix: false,\r\n            type: PropertyDescriptorParsingType.TOKEN_VALUE\r\n        });\r\n    };\r\n    var marginTop = marginForSide('top');\r\n    var marginRight = marginForSide('right');\r\n    var marginBottom = marginForSide('bottom');\r\n    var marginLeft = marginForSide('left');\r\n\r\n    var OVERFLOW;\r\n    (function (OVERFLOW) {\r\n        OVERFLOW[OVERFLOW[\"VISIBLE\"] = 0] = \"VISIBLE\";\r\n        OVERFLOW[OVERFLOW[\"HIDDEN\"] = 1] = \"HIDDEN\";\r\n        OVERFLOW[OVERFLOW[\"SCROLL\"] = 2] = \"SCROLL\";\r\n        OVERFLOW[OVERFLOW[\"AUTO\"] = 3] = \"AUTO\";\r\n    })(OVERFLOW || (OVERFLOW = {}));\r\n    var overflow = {\r\n        name: 'overflow',\r\n        initialValue: 'visible',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return tokens.filter(isIdentToken).map(function (overflow) {\r\n                switch (overflow.value) {\r\n                    case 'hidden':\r\n                        return OVERFLOW.HIDDEN;\r\n                    case 'scroll':\r\n                        return OVERFLOW.SCROLL;\r\n                    case 'auto':\r\n                        return OVERFLOW.AUTO;\r\n                    case 'visible':\r\n                    default:\r\n                        return OVERFLOW.VISIBLE;\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    var OVERFLOW_WRAP;\r\n    (function (OVERFLOW_WRAP) {\r\n        OVERFLOW_WRAP[\"NORMAL\"] = \"normal\";\r\n        OVERFLOW_WRAP[\"BREAK_WORD\"] = \"break-word\";\r\n    })(OVERFLOW_WRAP || (OVERFLOW_WRAP = {}));\r\n    var overflowWrap = {\r\n        name: 'overflow-wrap',\r\n        initialValue: 'normal',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (overflow) {\r\n            switch (overflow) {\r\n                case 'break-word':\r\n                    return OVERFLOW_WRAP.BREAK_WORD;\r\n                case 'normal':\r\n                default:\r\n                    return OVERFLOW_WRAP.NORMAL;\r\n            }\r\n        }\r\n    };\r\n\r\n    var paddingForSide = function (side) {\r\n        return ({\r\n            name: \"padding-\" + side,\r\n            initialValue: '0',\r\n            prefix: false,\r\n            type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n            format: 'length-percentage'\r\n        });\r\n    };\r\n    var paddingTop = paddingForSide('top');\r\n    var paddingRight = paddingForSide('right');\r\n    var paddingBottom = paddingForSide('bottom');\r\n    var paddingLeft = paddingForSide('left');\r\n\r\n    var TEXT_ALIGN;\r\n    (function (TEXT_ALIGN) {\r\n        TEXT_ALIGN[TEXT_ALIGN[\"LEFT\"] = 0] = \"LEFT\";\r\n        TEXT_ALIGN[TEXT_ALIGN[\"CENTER\"] = 1] = \"CENTER\";\r\n        TEXT_ALIGN[TEXT_ALIGN[\"RIGHT\"] = 2] = \"RIGHT\";\r\n    })(TEXT_ALIGN || (TEXT_ALIGN = {}));\r\n    var textAlign = {\r\n        name: 'text-align',\r\n        initialValue: 'left',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (textAlign) {\r\n            switch (textAlign) {\r\n                case 'right':\r\n                    return TEXT_ALIGN.RIGHT;\r\n                case 'center':\r\n                case 'justify':\r\n                    return TEXT_ALIGN.CENTER;\r\n                case 'left':\r\n                default:\r\n                    return TEXT_ALIGN.LEFT;\r\n            }\r\n        }\r\n    };\r\n\r\n    var POSITION;\r\n    (function (POSITION) {\r\n        POSITION[POSITION[\"STATIC\"] = 0] = \"STATIC\";\r\n        POSITION[POSITION[\"RELATIVE\"] = 1] = \"RELATIVE\";\r\n        POSITION[POSITION[\"ABSOLUTE\"] = 2] = \"ABSOLUTE\";\r\n        POSITION[POSITION[\"FIXED\"] = 3] = \"FIXED\";\r\n        POSITION[POSITION[\"STICKY\"] = 4] = \"STICKY\";\r\n    })(POSITION || (POSITION = {}));\r\n    var position = {\r\n        name: 'position',\r\n        initialValue: 'static',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (position) {\r\n            switch (position) {\r\n                case 'relative':\r\n                    return POSITION.RELATIVE;\r\n                case 'absolute':\r\n                    return POSITION.ABSOLUTE;\r\n                case 'fixed':\r\n                    return POSITION.FIXED;\r\n                case 'sticky':\r\n                    return POSITION.STICKY;\r\n            }\r\n            return POSITION.STATIC;\r\n        }\r\n    };\r\n\r\n    var textShadow = {\r\n        name: 'text-shadow',\r\n        initialValue: 'none',\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        prefix: false,\r\n        parse: function (tokens) {\r\n            if (tokens.length === 1 && isIdentWithValue(tokens[0], 'none')) {\r\n                return [];\r\n            }\r\n            return parseFunctionArgs(tokens).map(function (values) {\r\n                var shadow = {\r\n                    color: COLORS.TRANSPARENT,\r\n                    offsetX: ZERO_LENGTH,\r\n                    offsetY: ZERO_LENGTH,\r\n                    blur: ZERO_LENGTH\r\n                };\r\n                var c = 0;\r\n                for (var i = 0; i < values.length; i++) {\r\n                    var token = values[i];\r\n                    if (isLength(token)) {\r\n                        if (c === 0) {\r\n                            shadow.offsetX = token;\r\n                        }\r\n                        else if (c === 1) {\r\n                            shadow.offsetY = token;\r\n                        }\r\n                        else {\r\n                            shadow.blur = token;\r\n                        }\r\n                        c++;\r\n                    }\r\n                    else {\r\n                        shadow.color = color.parse(token);\r\n                    }\r\n                }\r\n                return shadow;\r\n            });\r\n        }\r\n    };\r\n\r\n    var TEXT_TRANSFORM;\r\n    (function (TEXT_TRANSFORM) {\r\n        TEXT_TRANSFORM[TEXT_TRANSFORM[\"NONE\"] = 0] = \"NONE\";\r\n        TEXT_TRANSFORM[TEXT_TRANSFORM[\"LOWERCASE\"] = 1] = \"LOWERCASE\";\r\n        TEXT_TRANSFORM[TEXT_TRANSFORM[\"UPPERCASE\"] = 2] = \"UPPERCASE\";\r\n        TEXT_TRANSFORM[TEXT_TRANSFORM[\"CAPITALIZE\"] = 3] = \"CAPITALIZE\";\r\n    })(TEXT_TRANSFORM || (TEXT_TRANSFORM = {}));\r\n    var textTransform = {\r\n        name: 'text-transform',\r\n        initialValue: 'none',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (textTransform) {\r\n            switch (textTransform) {\r\n                case 'uppercase':\r\n                    return TEXT_TRANSFORM.UPPERCASE;\r\n                case 'lowercase':\r\n                    return TEXT_TRANSFORM.LOWERCASE;\r\n                case 'capitalize':\r\n                    return TEXT_TRANSFORM.CAPITALIZE;\r\n            }\r\n            return TEXT_TRANSFORM.NONE;\r\n        }\r\n    };\r\n\r\n    var transform = {\r\n        name: 'transform',\r\n        initialValue: 'none',\r\n        prefix: true,\r\n        type: PropertyDescriptorParsingType.VALUE,\r\n        parse: function (token) {\r\n            if (token.type === TokenType.IDENT_TOKEN && token.value === 'none') {\r\n                return null;\r\n            }\r\n            if (token.type === TokenType.FUNCTION) {\r\n                var transformFunction = SUPPORTED_TRANSFORM_FUNCTIONS[token.name];\r\n                if (typeof transformFunction === 'undefined') {\r\n                    throw new Error(\"Attempting to parse an unsupported transform function \\\"\" + token.name + \"\\\"\");\r\n                }\r\n                return transformFunction(token.values);\r\n            }\r\n            return null;\r\n        }\r\n    };\r\n    var matrix = function (args) {\r\n        var values = args.filter(function (arg) { return arg.type === TokenType.NUMBER_TOKEN; }).map(function (arg) { return arg.number; });\r\n        return values.length === 6 ? values : null;\r\n    };\r\n    // doesn't support 3D transforms at the moment\r\n    var matrix3d = function (args) {\r\n        var values = args.filter(function (arg) { return arg.type === TokenType.NUMBER_TOKEN; }).map(function (arg) { return arg.number; });\r\n        var a1 = values[0], b1 = values[1], _a = values[2], _b = values[3], a2 = values[4], b2 = values[5], _c = values[6], _d = values[7], _e = values[8], _f = values[9], _g = values[10], _h = values[11], a4 = values[12], b4 = values[13], _j = values[14], _k = values[15];\r\n        return values.length === 16 ? [a1, b1, a2, b2, a4, b4] : null;\r\n    };\r\n    var SUPPORTED_TRANSFORM_FUNCTIONS = {\r\n        matrix: matrix,\r\n        matrix3d: matrix3d\r\n    };\r\n\r\n    var DEFAULT_VALUE = {\r\n        type: TokenType.PERCENTAGE_TOKEN,\r\n        number: 50,\r\n        flags: FLAG_INTEGER\r\n    };\r\n    var DEFAULT = [DEFAULT_VALUE, DEFAULT_VALUE];\r\n    var transformOrigin = {\r\n        name: 'transform-origin',\r\n        initialValue: '50% 50%',\r\n        prefix: true,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            var origins = tokens.filter(isLengthPercentage);\r\n            if (origins.length !== 2) {\r\n                return DEFAULT;\r\n            }\r\n            return [origins[0], origins[1]];\r\n        }\r\n    };\r\n\r\n    var VISIBILITY;\r\n    (function (VISIBILITY) {\r\n        VISIBILITY[VISIBILITY[\"VISIBLE\"] = 0] = \"VISIBLE\";\r\n        VISIBILITY[VISIBILITY[\"HIDDEN\"] = 1] = \"HIDDEN\";\r\n        VISIBILITY[VISIBILITY[\"COLLAPSE\"] = 2] = \"COLLAPSE\";\r\n    })(VISIBILITY || (VISIBILITY = {}));\r\n    var visibility = {\r\n        name: 'visible',\r\n        initialValue: 'none',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (visibility) {\r\n            switch (visibility) {\r\n                case 'hidden':\r\n                    return VISIBILITY.HIDDEN;\r\n                case 'collapse':\r\n                    return VISIBILITY.COLLAPSE;\r\n                case 'visible':\r\n                default:\r\n                    return VISIBILITY.VISIBLE;\r\n            }\r\n        }\r\n    };\r\n\r\n    var WORD_BREAK;\r\n    (function (WORD_BREAK) {\r\n        WORD_BREAK[\"NORMAL\"] = \"normal\";\r\n        WORD_BREAK[\"BREAK_ALL\"] = \"break-all\";\r\n        WORD_BREAK[\"KEEP_ALL\"] = \"keep-all\";\r\n    })(WORD_BREAK || (WORD_BREAK = {}));\r\n    var wordBreak = {\r\n        name: 'word-break',\r\n        initialValue: 'normal',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (wordBreak) {\r\n            switch (wordBreak) {\r\n                case 'break-all':\r\n                    return WORD_BREAK.BREAK_ALL;\r\n                case 'keep-all':\r\n                    return WORD_BREAK.KEEP_ALL;\r\n                case 'normal':\r\n                default:\r\n                    return WORD_BREAK.NORMAL;\r\n            }\r\n        }\r\n    };\r\n\r\n    var zIndex = {\r\n        name: 'z-index',\r\n        initialValue: 'auto',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.VALUE,\r\n        parse: function (token) {\r\n            if (token.type === TokenType.IDENT_TOKEN) {\r\n                return { auto: true, order: 0 };\r\n            }\r\n            if (isNumberToken(token)) {\r\n                return { auto: false, order: token.number };\r\n            }\r\n            throw new Error(\"Invalid z-index number parsed\");\r\n        }\r\n    };\r\n\r\n    var opacity = {\r\n        name: 'opacity',\r\n        initialValue: '1',\r\n        type: PropertyDescriptorParsingType.VALUE,\r\n        prefix: false,\r\n        parse: function (token) {\r\n            if (isNumberToken(token)) {\r\n                return token.number;\r\n            }\r\n            return 1;\r\n        }\r\n    };\r\n\r\n    var textDecorationColor = {\r\n        name: \"text-decoration-color\",\r\n        initialValue: 'transparent',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n        format: 'color'\r\n    };\r\n\r\n    var textDecorationLine = {\r\n        name: 'text-decoration-line',\r\n        initialValue: 'none',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return tokens\r\n                .filter(isIdentToken)\r\n                .map(function (token) {\r\n                    switch (token.value) {\r\n                        case 'underline':\r\n                            return 1 /* UNDERLINE */;\r\n                        case 'overline':\r\n                            return 2 /* OVERLINE */;\r\n                        case 'line-through':\r\n                            return 3 /* LINE_THROUGH */;\r\n                        case 'none':\r\n                            return 4 /* BLINK */;\r\n                    }\r\n                    return 0 /* NONE */;\r\n                })\r\n                .filter(function (line) { return line !== 0 /* NONE */; });\r\n        }\r\n    };\r\n\r\n    var fontFamily = {\r\n        name: \"font-family\",\r\n        initialValue: '',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            return tokens.filter(isStringToken$1).map(function (token) { return token.value; });\r\n        }\r\n    };\r\n    var isStringToken$1 = function (token) {\r\n        return token.type === TokenType.STRING_TOKEN || token.type === TokenType.IDENT_TOKEN;\r\n    };\r\n\r\n    var fontSize = {\r\n        name: \"font-size\",\r\n        initialValue: '0',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.TYPE_VALUE,\r\n        format: 'length'\r\n    };\r\n\r\n    var fontWeight = {\r\n        name: 'font-weight',\r\n        initialValue: 'normal',\r\n        type: PropertyDescriptorParsingType.VALUE,\r\n        prefix: false,\r\n        parse: function (token) {\r\n            if (isNumberToken(token)) {\r\n                return token.number;\r\n            }\r\n            if (isIdentToken(token)) {\r\n                switch (token.value) {\r\n                    case 'bold':\r\n                        return 700;\r\n                    case 'normal':\r\n                    default:\r\n                        return 400;\r\n                }\r\n            }\r\n            return 400;\r\n        }\r\n    };\r\n\r\n    var fontVariant = {\r\n        name: 'font-variant',\r\n        initialValue: 'none',\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        prefix: false,\r\n        parse: function (tokens) {\r\n            return tokens.filter(isIdentToken).map(function (token) { return token.value; });\r\n        }\r\n    };\r\n\r\n    var FONT_STYLE;\r\n    (function (FONT_STYLE) {\r\n        FONT_STYLE[\"NORMAL\"] = \"normal\";\r\n        FONT_STYLE[\"ITALIC\"] = \"italic\";\r\n        FONT_STYLE[\"OBLIQUE\"] = \"oblique\";\r\n    })(FONT_STYLE || (FONT_STYLE = {}));\r\n    var fontStyle = {\r\n        name: 'font-style',\r\n        initialValue: 'normal',\r\n        prefix: false,\r\n        type: PropertyDescriptorParsingType.IDENT_VALUE,\r\n        parse: function (overflow) {\r\n            switch (overflow) {\r\n                case 'oblique':\r\n                    return FONT_STYLE.OBLIQUE;\r\n                case 'italic':\r\n                    return FONT_STYLE.ITALIC;\r\n                case 'normal':\r\n                default:\r\n                    return FONT_STYLE.NORMAL;\r\n            }\r\n        }\r\n    };\r\n\r\n    var contains = function (bit, value) { return (bit & value) !== 0; };\r\n\r\n    var content = {\r\n        name: 'content',\r\n        initialValue: 'none',\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        prefix: false,\r\n        parse: function (tokens) {\r\n            if (tokens.length === 0) {\r\n                return [];\r\n            }\r\n            var first = tokens[0];\r\n            if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\r\n                return [];\r\n            }\r\n            return tokens;\r\n        }\r\n    };\r\n\r\n    var counterIncrement = {\r\n        name: 'counter-increment',\r\n        initialValue: 'none',\r\n        prefix: true,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            if (tokens.length === 0) {\r\n                return null;\r\n            }\r\n            var first = tokens[0];\r\n            if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\r\n                return null;\r\n            }\r\n            var increments = [];\r\n            var filtered = tokens.filter(nonWhiteSpace);\r\n            for (var i = 0; i < filtered.length; i++) {\r\n                var counter = filtered[i];\r\n                var next = filtered[i + 1];\r\n                if (counter.type === TokenType.IDENT_TOKEN) {\r\n                    var increment = next && isNumberToken(next) ? next.number : 1;\r\n                    increments.push({ counter: counter.value, increment: increment });\r\n                }\r\n            }\r\n            return increments;\r\n        }\r\n    };\r\n\r\n    var counterReset = {\r\n        name: 'counter-reset',\r\n        initialValue: 'none',\r\n        prefix: true,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            if (tokens.length === 0) {\r\n                return [];\r\n            }\r\n            var resets = [];\r\n            var filtered = tokens.filter(nonWhiteSpace);\r\n            for (var i = 0; i < filtered.length; i++) {\r\n                var counter = filtered[i];\r\n                var next = filtered[i + 1];\r\n                if (isIdentToken(counter) && counter.value !== 'none') {\r\n                    var reset = next && isNumberToken(next) ? next.number : 0;\r\n                    resets.push({ counter: counter.value, reset: reset });\r\n                }\r\n            }\r\n            return resets;\r\n        }\r\n    };\r\n\r\n    var quotes = {\r\n        name: 'quotes',\r\n        initialValue: 'none',\r\n        prefix: true,\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        parse: function (tokens) {\r\n            if (tokens.length === 0) {\r\n                return null;\r\n            }\r\n            var first = tokens[0];\r\n            if (first.type === TokenType.IDENT_TOKEN && first.value === 'none') {\r\n                return null;\r\n            }\r\n            var quotes = [];\r\n            var filtered = tokens.filter(isStringToken);\r\n            if (filtered.length % 2 !== 0) {\r\n                return null;\r\n            }\r\n            for (var i = 0; i < filtered.length; i += 2) {\r\n                var open_1 = filtered[i].value;\r\n                var close_1 = filtered[i + 1].value;\r\n                quotes.push({ open: open_1, close: close_1 });\r\n            }\r\n            return quotes;\r\n        }\r\n    };\r\n    var getQuote = function (quotes, depth, open) {\r\n        if (!quotes) {\r\n            return '';\r\n        }\r\n        var quote = quotes[Math.min(depth, quotes.length - 1)];\r\n        if (!quote) {\r\n            return '';\r\n        }\r\n        return open ? quote.open : quote.close;\r\n    };\r\n\r\n    var boxShadow = {\r\n        name: 'box-shadow',\r\n        initialValue: 'none',\r\n        type: PropertyDescriptorParsingType.LIST,\r\n        prefix: false,\r\n        parse: function (tokens) {\r\n            if (tokens.length === 1 && isIdentWithValue(tokens[0], 'none')) {\r\n                return [];\r\n            }\r\n            return parseFunctionArgs(tokens).map(function (values) {\r\n                var shadow = {\r\n                    color: 0x000000ff,\r\n                    offsetX: ZERO_LENGTH,\r\n                    offsetY: ZERO_LENGTH,\r\n                    blur: ZERO_LENGTH,\r\n                    spread: ZERO_LENGTH,\r\n                    inset: false\r\n                };\r\n                var c = 0;\r\n                for (var i = 0; i < values.length; i++) {\r\n                    var token = values[i];\r\n                    if (isIdentWithValue(token, 'inset')) {\r\n                        shadow.inset = true;\r\n                    }\r\n                    else if (isLength(token)) {\r\n                        if (c === 0) {\r\n                            shadow.offsetX = token;\r\n                        }\r\n                        else if (c === 1) {\r\n                            shadow.offsetY = token;\r\n                        }\r\n                        else if (c === 2) {\r\n                            shadow.blur = token;\r\n                        }\r\n                        else {\r\n                            shadow.spread = token;\r\n                        }\r\n                        c++;\r\n                    }\r\n                    else {\r\n                        shadow.color = color.parse(token);\r\n                    }\r\n                }\r\n                return shadow;\r\n            });\r\n        }\r\n    };\r\n\r\n    var CSSParsedDeclaration = /** @class */ (function () {\r\n        function CSSParsedDeclaration(declaration) {\r\n            this.backgroundClip = parse(backgroundClip, declaration.backgroundClip);\r\n            this.backgroundColor = parse(backgroundColor, declaration.backgroundColor);\r\n            this.backgroundImage = parse(backgroundImage, declaration.backgroundImage);\r\n            this.backgroundOrigin = parse(backgroundOrigin, declaration.backgroundOrigin);\r\n            this.backgroundPosition = parse(backgroundPosition, declaration.backgroundPosition);\r\n            this.backgroundRepeat = parse(backgroundRepeat, declaration.backgroundRepeat);\r\n            this.backgroundSize = parse(backgroundSize, declaration.backgroundSize);\r\n            this.borderTopColor = parse(borderTopColor, declaration.borderTopColor);\r\n            this.borderRightColor = parse(borderRightColor, declaration.borderRightColor);\r\n            this.borderBottomColor = parse(borderBottomColor, declaration.borderBottomColor);\r\n            this.borderLeftColor = parse(borderLeftColor, declaration.borderLeftColor);\r\n            this.borderTopLeftRadius = parse(borderTopLeftRadius, declaration.borderTopLeftRadius);\r\n            this.borderTopRightRadius = parse(borderTopRightRadius, declaration.borderTopRightRadius);\r\n            this.borderBottomRightRadius = parse(borderBottomRightRadius, declaration.borderBottomRightRadius);\r\n            this.borderBottomLeftRadius = parse(borderBottomLeftRadius, declaration.borderBottomLeftRadius);\r\n            this.borderTopStyle = parse(borderTopStyle, declaration.borderTopStyle);\r\n            this.borderRightStyle = parse(borderRightStyle, declaration.borderRightStyle);\r\n            this.borderBottomStyle = parse(borderBottomStyle, declaration.borderBottomStyle);\r\n            this.borderLeftStyle = parse(borderLeftStyle, declaration.borderLeftStyle);\r\n            this.borderTopWidth = parse(borderTopWidth, declaration.borderTopWidth);\r\n            this.borderRightWidth = parse(borderRightWidth, declaration.borderRightWidth);\r\n            this.borderBottomWidth = parse(borderBottomWidth, declaration.borderBottomWidth);\r\n            this.borderLeftWidth = parse(borderLeftWidth, declaration.borderLeftWidth);\r\n            this.boxShadow = parse(boxShadow, declaration.boxShadow);\r\n            this.color = parse(color$1, declaration.color);\r\n            this.display = parse(display, declaration.display);\r\n            this.float = parse(float, declaration.cssFloat);\r\n            this.fontFamily = parse(fontFamily, declaration.fontFamily);\r\n            this.fontSize = parse(fontSize, declaration.fontSize);\r\n            this.fontStyle = parse(fontStyle, declaration.fontStyle);\r\n            this.fontVariant = parse(fontVariant, declaration.fontVariant);\r\n            this.fontWeight = parse(fontWeight, declaration.fontWeight);\r\n            this.letterSpacing = parse(letterSpacing, declaration.letterSpacing);\r\n            this.lineBreak = parse(lineBreak, declaration.lineBreak);\r\n            this.lineHeight = parse(lineHeight, declaration.lineHeight);\r\n            this.listStyleImage = parse(listStyleImage, declaration.listStyleImage);\r\n            this.listStylePosition = parse(listStylePosition, declaration.listStylePosition);\r\n            this.listStyleType = parse(listStyleType, declaration.listStyleType);\r\n            this.marginTop = parse(marginTop, declaration.marginTop);\r\n            this.marginRight = parse(marginRight, declaration.marginRight);\r\n            this.marginBottom = parse(marginBottom, declaration.marginBottom);\r\n            this.marginLeft = parse(marginLeft, declaration.marginLeft);\r\n            this.opacity = parse(opacity, declaration.opacity);\r\n            var overflowTuple = parse(overflow, declaration.overflow);\r\n            this.overflowX = overflowTuple[0];\r\n            this.overflowY = overflowTuple[overflowTuple.length > 1 ? 1 : 0];\r\n            this.overflowWrap = parse(overflowWrap, declaration.overflowWrap);\r\n            this.paddingTop = parse(paddingTop, declaration.paddingTop);\r\n            this.paddingRight = parse(paddingRight, declaration.paddingRight);\r\n            this.paddingBottom = parse(paddingBottom, declaration.paddingBottom);\r\n            this.paddingLeft = parse(paddingLeft, declaration.paddingLeft);\r\n            this.position = parse(position, declaration.position);\r\n            this.textAlign = parse(textAlign, declaration.textAlign);\r\n            this.textDecorationColor = parse(textDecorationColor, declaration.textDecorationColor || declaration.color);\r\n            this.textDecorationLine = parse(textDecorationLine, declaration.textDecorationLine);\r\n            this.textShadow = parse(textShadow, declaration.textShadow);\r\n            this.textTransform = parse(textTransform, declaration.textTransform);\r\n            this.transform = parse(transform, declaration.transform);\r\n            this.transformOrigin = parse(transformOrigin, declaration.transformOrigin);\r\n            this.visibility = parse(visibility, declaration.visibility);\r\n            this.wordBreak = parse(wordBreak, declaration.wordBreak);\r\n            this.zIndex = parse(zIndex, declaration.zIndex);\r\n        }\r\n        CSSParsedDeclaration.prototype.isVisible = function () {\r\n            return this.display > 0 && this.opacity > 0 && this.visibility === VISIBILITY.VISIBLE;\r\n        };\r\n        CSSParsedDeclaration.prototype.isTransparent = function () {\r\n            return isTransparent(this.backgroundColor);\r\n        };\r\n        CSSParsedDeclaration.prototype.isTransformed = function () {\r\n            return this.transform !== null;\r\n        };\r\n        CSSParsedDeclaration.prototype.isPositioned = function () {\r\n            return this.position !== POSITION.STATIC;\r\n        };\r\n        CSSParsedDeclaration.prototype.isPositionedWithZIndex = function () {\r\n            return this.isPositioned() && !this.zIndex.auto;\r\n        };\r\n        CSSParsedDeclaration.prototype.isFloating = function () {\r\n            return this.float !== FLOAT.NONE;\r\n        };\r\n        CSSParsedDeclaration.prototype.isInlineLevel = function () {\r\n            return (contains(this.display, 4 /* INLINE */) ||\r\n                contains(this.display, 33554432 /* INLINE_BLOCK */) ||\r\n                contains(this.display, 268435456 /* INLINE_FLEX */) ||\r\n                contains(this.display, 536870912 /* INLINE_GRID */) ||\r\n                contains(this.display, 67108864 /* INLINE_LIST_ITEM */) ||\r\n                contains(this.display, 134217728 /* INLINE_TABLE */));\r\n        };\r\n        return CSSParsedDeclaration;\r\n    }());\r\n    var CSSParsedPseudoDeclaration = /** @class */ (function () {\r\n        function CSSParsedPseudoDeclaration(declaration) {\r\n            this.content = parse(content, declaration.content);\r\n            this.quotes = parse(quotes, declaration.quotes);\r\n        }\r\n        return CSSParsedPseudoDeclaration;\r\n    }());\r\n    var CSSParsedCounterDeclaration = /** @class */ (function () {\r\n        function CSSParsedCounterDeclaration(declaration) {\r\n            this.counterIncrement = parse(counterIncrement, declaration.counterIncrement);\r\n            this.counterReset = parse(counterReset, declaration.counterReset);\r\n        }\r\n        return CSSParsedCounterDeclaration;\r\n    }());\r\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n    var parse = function (descriptor, style) {\r\n        var tokenizer = new Tokenizer();\r\n        var value = style !== null && typeof style !== 'undefined' ? style.toString() : descriptor.initialValue;\r\n        tokenizer.write(value);\r\n        var parser = new Parser(tokenizer.read());\r\n        switch (descriptor.type) {\r\n            case PropertyDescriptorParsingType.IDENT_VALUE:\r\n                var token = parser.parseComponentValue();\r\n                return descriptor.parse(isIdentToken(token) ? token.value : descriptor.initialValue);\r\n            case PropertyDescriptorParsingType.VALUE:\r\n                return descriptor.parse(parser.parseComponentValue());\r\n            case PropertyDescriptorParsingType.LIST:\r\n                return descriptor.parse(parser.parseComponentValues());\r\n            case PropertyDescriptorParsingType.TOKEN_VALUE:\r\n                return parser.parseComponentValue();\r\n            case PropertyDescriptorParsingType.TYPE_VALUE:\r\n                switch (descriptor.format) {\r\n                    case 'angle':\r\n                        return angle.parse(parser.parseComponentValue());\r\n                    case 'color':\r\n                        return color.parse(parser.parseComponentValue());\r\n                    case 'image':\r\n                        return image.parse(parser.parseComponentValue());\r\n                    case 'length':\r\n                        var length_1 = parser.parseComponentValue();\r\n                        return isLength(length_1) ? length_1 : ZERO_LENGTH;\r\n                    case 'length-percentage':\r\n                        var value_1 = parser.parseComponentValue();\r\n                        return isLengthPercentage(value_1) ? value_1 : ZERO_LENGTH;\r\n                }\r\n        }\r\n        throw new Error(\"Attempting to parse unsupported css format type \" + descriptor.format);\r\n    };\r\n\r\n    var ElementContainer = /** @class */ (function () {\r\n        function ElementContainer(element) {\r\n            this.styles = new CSSParsedDeclaration(window.getComputedStyle(element, null));\r\n            this.textNodes = [];\r\n            this.elements = [];\r\n            if (this.styles.transform !== null && isHTMLElementNode(element)) {\r\n                // getBoundingClientRect takes transforms into account\r\n                element.style.transform = 'none';\r\n            }\r\n            this.bounds = parseBounds(element);\r\n            this.flags = 0;\r\n        }\r\n        return ElementContainer;\r\n    }());\r\n\r\n    var TextBounds = /** @class */ (function () {\r\n        function TextBounds(text, bounds) {\r\n            this.text = text;\r\n            this.bounds = bounds;\r\n        }\r\n        return TextBounds;\r\n    }());\r\n    var parseTextBounds = function (value, styles, node) {\r\n        var textList = breakText(value, styles);\r\n        var textBounds = [];\r\n        var offset = 0;\r\n        textList.forEach(function (text) {\r\n            if (styles.textDecorationLine.length || text.trim().length > 0) {\r\n                if (FEATURES.SUPPORT_RANGE_BOUNDS) {\r\n                    textBounds.push(new TextBounds(text, getRangeBounds(node, offset, text.length)));\r\n                }\r\n                else {\r\n                    var replacementNode = node.splitText(text.length);\r\n                    textBounds.push(new TextBounds(text, getWrapperBounds(node)));\r\n                    node = replacementNode;\r\n                }\r\n            }\r\n            else if (!FEATURES.SUPPORT_RANGE_BOUNDS) {\r\n                node = node.splitText(text.length);\r\n            }\r\n            offset += text.length;\r\n        });\r\n        return textBounds;\r\n    };\r\n    var getWrapperBounds = function (node) {\r\n        var ownerDocument = node.ownerDocument;\r\n        if (ownerDocument) {\r\n            var wrapper = ownerDocument.createElement('html2canvaswrapper');\r\n            wrapper.appendChild(node.cloneNode(true));\r\n            var parentNode = node.parentNode;\r\n            if (parentNode) {\r\n                parentNode.replaceChild(wrapper, node);\r\n                var bounds = parseBounds(wrapper);\r\n                if (wrapper.firstChild) {\r\n                    parentNode.replaceChild(wrapper.firstChild, wrapper);\r\n                }\r\n                return bounds;\r\n            }\r\n        }\r\n        return new Bounds(0, 0, 0, 0);\r\n    };\r\n    var getRangeBounds = function (node, offset, length) {\r\n        var ownerDocument = node.ownerDocument;\r\n        if (!ownerDocument) {\r\n            throw new Error('Node has no owner document');\r\n        }\r\n        var range = ownerDocument.createRange();\r\n        range.setStart(node, offset);\r\n        range.setEnd(node, offset + length);\r\n        return Bounds.fromClientRect(range.getBoundingClientRect());\r\n    };\r\n    var breakText = function (value, styles) {\r\n        return styles.letterSpacing !== 0 ? toCodePoints(value).map(function (i) { return fromCodePoint(i); }) : breakWords(value, styles);\r\n    };\r\n    var breakWords = function (str, styles) {\r\n        var breaker = LineBreaker(str, {\r\n            lineBreak: styles.lineBreak,\r\n            wordBreak: styles.overflowWrap === OVERFLOW_WRAP.BREAK_WORD ? 'break-word' : styles.wordBreak\r\n        });\r\n        var words = [];\r\n        var bk;\r\n        while (!(bk = breaker.next()).done) {\r\n            if (bk.value) {\r\n                words.push(bk.value.slice());\r\n            }\r\n        }\r\n        return words;\r\n    };\r\n\r\n    var TextContainer = /** @class */ (function () {\r\n        function TextContainer(node, styles) {\r\n            this.text = transform$1(node.data, styles.textTransform);\r\n            this.textBounds = parseTextBounds(this.text, styles, node);\r\n        }\r\n        return TextContainer;\r\n    }());\r\n    var transform$1 = function (text, transform) {\r\n        switch (transform) {\r\n            case TEXT_TRANSFORM.LOWERCASE:\r\n                return text.toLowerCase();\r\n            case TEXT_TRANSFORM.CAPITALIZE:\r\n                return text.replace(CAPITALIZE, capitalize);\r\n            case TEXT_TRANSFORM.UPPERCASE:\r\n                return text.toUpperCase();\r\n            default:\r\n                return text;\r\n        }\r\n    };\r\n    var CAPITALIZE = /(^|\\s|:|-|\\(|\\))([a-z])/g;\r\n    var capitalize = function (m, p1, p2) {\r\n        if (m.length > 0) {\r\n            return p1 + p2.toUpperCase();\r\n        }\r\n        return m;\r\n    };\r\n\r\n    var ImageElementContainer = /** @class */ (function (_super) {\r\n        __extends(ImageElementContainer, _super);\r\n        function ImageElementContainer(img) {\r\n            var _this = _super.call(this, img) || this;\r\n            _this.src = img.currentSrc || img.src;\r\n            _this.intrinsicWidth = img.naturalWidth;\r\n            _this.intrinsicHeight = img.naturalHeight;\r\n            CacheStorage.getInstance().addImage(_this.src);\r\n            return _this;\r\n        }\r\n        return ImageElementContainer;\r\n    }(ElementContainer));\r\n\r\n    var CanvasElementContainer = /** @class */ (function (_super) {\r\n        __extends(CanvasElementContainer, _super);\r\n        function CanvasElementContainer(canvas) {\r\n            var _this = _super.call(this, canvas) || this;\r\n            _this.canvas = canvas;\r\n            _this.intrinsicWidth = canvas.width;\r\n            _this.intrinsicHeight = canvas.height;\r\n            return _this;\r\n        }\r\n        return CanvasElementContainer;\r\n    }(ElementContainer));\r\n\r\n    var SVGElementContainer = /** @class */ (function (_super) {\r\n        __extends(SVGElementContainer, _super);\r\n        function SVGElementContainer(img) {\r\n            var _this = _super.call(this, img) || this;\r\n            var s = new XMLSerializer();\r\n            _this.svg = \"data:image/svg+xml,\" + encodeURIComponent(s.serializeToString(img));\r\n            _this.intrinsicWidth = img.width.baseVal.value;\r\n            _this.intrinsicHeight = img.height.baseVal.value;\r\n            CacheStorage.getInstance().addImage(_this.svg);\r\n            return _this;\r\n        }\r\n        return SVGElementContainer;\r\n    }(ElementContainer));\r\n\r\n    var LIElementContainer = /** @class */ (function (_super) {\r\n        __extends(LIElementContainer, _super);\r\n        function LIElementContainer(element) {\r\n            var _this = _super.call(this, element) || this;\r\n            _this.value = element.value;\r\n            return _this;\r\n        }\r\n        return LIElementContainer;\r\n    }(ElementContainer));\r\n\r\n    var OLElementContainer = /** @class */ (function (_super) {\r\n        __extends(OLElementContainer, _super);\r\n        function OLElementContainer(element) {\r\n            var _this = _super.call(this, element) || this;\r\n            _this.start = element.start;\r\n            _this.reversed = typeof element.reversed === 'boolean' && element.reversed === true;\r\n            return _this;\r\n        }\r\n        return OLElementContainer;\r\n    }(ElementContainer));\r\n\r\n    var CHECKBOX_BORDER_RADIUS = [\r\n        {\r\n            type: TokenType.DIMENSION_TOKEN,\r\n            flags: 0,\r\n            unit: 'px',\r\n            number: 3\r\n        }\r\n    ];\r\n    var RADIO_BORDER_RADIUS = [\r\n        {\r\n            type: TokenType.PERCENTAGE_TOKEN,\r\n            flags: 0,\r\n            number: 50\r\n        }\r\n    ];\r\n    var reformatInputBounds = function (bounds) {\r\n        if (bounds.width > bounds.height) {\r\n            return new Bounds(bounds.left + (bounds.width - bounds.height) / 2, bounds.top, bounds.height, bounds.height);\r\n        }\r\n        else if (bounds.width < bounds.height) {\r\n            return new Bounds(bounds.left, bounds.top + (bounds.height - bounds.width) / 2, bounds.width, bounds.width);\r\n        }\r\n        return bounds;\r\n    };\r\n    var getInputValue = function (node) {\r\n        var value = node.type === PASSWORD ? new Array(node.value.length + 1).join('\\u2022') : node.value;\r\n        return value.length === 0 ? node.placeholder || '' : value;\r\n    };\r\n    var CHECKBOX = 'checkbox';\r\n    var RADIO = 'radio';\r\n    var PASSWORD = 'password';\r\n    var INPUT_COLOR = 0x2a2a2aff;\r\n    var InputElementContainer = /** @class */ (function (_super) {\r\n        __extends(InputElementContainer, _super);\r\n        function InputElementContainer(input) {\r\n            var _this = _super.call(this, input) || this;\r\n            _this.type = input.type.toLowerCase();\r\n            _this.checked = input.checked;\r\n            _this.value = getInputValue(input);\r\n            if (_this.type === CHECKBOX || _this.type === RADIO) {\r\n                _this.styles.backgroundColor = 0xdededeff;\r\n                _this.styles.borderTopColor = _this.styles.borderRightColor = _this.styles.borderBottomColor = _this.styles.borderLeftColor = 0xa5a5a5ff;\r\n                _this.styles.borderTopWidth = _this.styles.borderRightWidth = _this.styles.borderBottomWidth = _this.styles.borderLeftWidth = 1;\r\n                _this.styles.borderTopStyle = _this.styles.borderRightStyle = _this.styles.borderBottomStyle = _this.styles.borderLeftStyle =\r\n                    BORDER_STYLE.SOLID;\r\n                _this.styles.backgroundClip = [BACKGROUND_CLIP.BORDER_BOX];\r\n                _this.styles.backgroundOrigin = [0 /* BORDER_BOX */];\r\n                _this.bounds = reformatInputBounds(_this.bounds);\r\n            }\r\n            switch (_this.type) {\r\n                case CHECKBOX:\r\n                    _this.styles.borderTopRightRadius = _this.styles.borderTopLeftRadius = _this.styles.borderBottomRightRadius = _this.styles.borderBottomLeftRadius = CHECKBOX_BORDER_RADIUS;\r\n                    break;\r\n                case RADIO:\r\n                    _this.styles.borderTopRightRadius = _this.styles.borderTopLeftRadius = _this.styles.borderBottomRightRadius = _this.styles.borderBottomLeftRadius = RADIO_BORDER_RADIUS;\r\n                    break;\r\n            }\r\n            return _this;\r\n        }\r\n        return InputElementContainer;\r\n    }(ElementContainer));\r\n\r\n    var SelectElementContainer = /** @class */ (function (_super) {\r\n        __extends(SelectElementContainer, _super);\r\n        function SelectElementContainer(element) {\r\n            var _this = _super.call(this, element) || this;\r\n            var option = element.options[element.selectedIndex || 0];\r\n            _this.value = option ? option.text || '' : '';\r\n            return _this;\r\n        }\r\n        return SelectElementContainer;\r\n    }(ElementContainer));\r\n\r\n    var TextareaElementContainer = /** @class */ (function (_super) {\r\n        __extends(TextareaElementContainer, _super);\r\n        function TextareaElementContainer(element) {\r\n            var _this = _super.call(this, element) || this;\r\n            _this.value = element.value;\r\n            return _this;\r\n        }\r\n        return TextareaElementContainer;\r\n    }(ElementContainer));\r\n\r\n    var parseColor = function (value) { return color.parse(Parser.create(value).parseComponentValue()); };\r\n    var IFrameElementContainer = /** @class */ (function (_super) {\r\n        __extends(IFrameElementContainer, _super);\r\n        function IFrameElementContainer(iframe) {\r\n            var _this = _super.call(this, iframe) || this;\r\n            _this.src = iframe.src;\r\n            _this.width = parseInt(iframe.width, 10) || 0;\r\n            _this.height = parseInt(iframe.height, 10) || 0;\r\n            _this.backgroundColor = _this.styles.backgroundColor;\r\n            try {\r\n                if (iframe.contentWindow &&\r\n                    iframe.contentWindow.document &&\r\n                    iframe.contentWindow.document.documentElement) {\r\n                    _this.tree = parseTree(iframe.contentWindow.document.documentElement);\r\n                    // http://www.w3.org/TR/css3-background/#special-backgrounds\r\n                    var documentBackgroundColor = iframe.contentWindow.document.documentElement\r\n                        ? parseColor(getComputedStyle(iframe.contentWindow.document.documentElement)\r\n                            .backgroundColor)\r\n                        : COLORS.TRANSPARENT;\r\n                    var bodyBackgroundColor = iframe.contentWindow.document.body\r\n                        ? parseColor(getComputedStyle(iframe.contentWindow.document.body).backgroundColor)\r\n                        : COLORS.TRANSPARENT;\r\n                    _this.backgroundColor = isTransparent(documentBackgroundColor)\r\n                        ? isTransparent(bodyBackgroundColor)\r\n                            ? _this.styles.backgroundColor\r\n                            : bodyBackgroundColor\r\n                        : documentBackgroundColor;\r\n                }\r\n            }\r\n            catch (e) { }\r\n            return _this;\r\n        }\r\n        return IFrameElementContainer;\r\n    }(ElementContainer));\r\n\r\n    var LIST_OWNERS = ['OL', 'UL', 'MENU'];\r\n    var parseNodeTree = function (node, parent, root) {\r\n        for (var childNode = node.firstChild, nextNode = void 0; childNode; childNode = nextNode) {\r\n            nextNode = childNode.nextSibling;\r\n            if (isTextNode(childNode) && childNode.data.trim().length > 0) {\r\n                parent.textNodes.push(new TextContainer(childNode, parent.styles));\r\n            }\r\n            else if (isElementNode(childNode)) {\r\n                var container = createContainer(childNode);\r\n                if (container.styles.isVisible()) {\r\n                    if (createsRealStackingContext(childNode, container, root)) {\r\n                        container.flags |= 4 /* CREATES_REAL_STACKING_CONTEXT */;\r\n                    }\r\n                    else if (createsStackingContext(container.styles)) {\r\n                        container.flags |= 2 /* CREATES_STACKING_CONTEXT */;\r\n                    }\r\n                    if (LIST_OWNERS.indexOf(childNode.tagName) !== -1) {\r\n                        container.flags |= 8 /* IS_LIST_OWNER */;\r\n                    }\r\n                    parent.elements.push(container);\r\n                    if (!isTextareaElement(childNode) && !isSVGElement(childNode) && !isSelectElement(childNode)) {\r\n                        parseNodeTree(childNode, container, root);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    var createContainer = function (element) {\r\n        if (isImageElement(element)) {\r\n            return new ImageElementContainer(element);\r\n        }\r\n        if (isCanvasElement(element)) {\r\n            return new CanvasElementContainer(element);\r\n        }\r\n        if (isSVGElement(element)) {\r\n            return new SVGElementContainer(element);\r\n        }\r\n        if (isLIElement(element)) {\r\n            return new LIElementContainer(element);\r\n        }\r\n        if (isOLElement(element)) {\r\n            return new OLElementContainer(element);\r\n        }\r\n        if (isInputElement(element)) {\r\n            return new InputElementContainer(element);\r\n        }\r\n        if (isSelectElement(element)) {\r\n            return new SelectElementContainer(element);\r\n        }\r\n        if (isTextareaElement(element)) {\r\n            return new TextareaElementContainer(element);\r\n        }\r\n        if (isIFrameElement(element)) {\r\n            return new IFrameElementContainer(element);\r\n        }\r\n        return new ElementContainer(element);\r\n    };\r\n    var parseTree = function (element) {\r\n        var container = createContainer(element);\r\n        container.flags |= 4 /* CREATES_REAL_STACKING_CONTEXT */;\r\n        parseNodeTree(element, container, container);\r\n        return container;\r\n    };\r\n    var createsRealStackingContext = function (node, container, root) {\r\n        return (container.styles.isPositionedWithZIndex() ||\r\n            container.styles.opacity < 1 ||\r\n            container.styles.isTransformed() ||\r\n            (isBodyElement(node) && root.styles.isTransparent()));\r\n    };\r\n    var createsStackingContext = function (styles) { return styles.isPositioned() || styles.isFloating(); };\r\n    var isTextNode = function (node) { return node.nodeType === Node.TEXT_NODE; };\r\n    var isElementNode = function (node) { return node.nodeType === Node.ELEMENT_NODE; };\r\n    var isHTMLElementNode = function (node) {\r\n        return typeof node.style !== 'undefined';\r\n    };\r\n    var isLIElement = function (node) { return node.tagName === 'LI'; };\r\n    var isOLElement = function (node) { return node.tagName === 'OL'; };\r\n    var isInputElement = function (node) { return node.tagName === 'INPUT'; };\r\n    var isHTMLElement = function (node) { return node.tagName === 'HTML'; };\r\n    var isSVGElement = function (node) { return node.tagName === 'svg'; };\r\n    var isBodyElement = function (node) { return node.tagName === 'BODY'; };\r\n    var isCanvasElement = function (node) { return node.tagName === 'CANVAS'; };\r\n    var isImageElement = function (node) { return node.tagName === 'IMG'; };\r\n    var isIFrameElement = function (node) { return node.tagName === 'IFRAME'; };\r\n    var isStyleElement = function (node) { return node.tagName === 'STYLE'; };\r\n    var isScriptElement = function (node) { return node.tagName === 'SCRIPT'; };\r\n    var isTextareaElement = function (node) { return node.tagName === 'TEXTAREA'; };\r\n    var isSelectElement = function (node) { return node.tagName === 'SELECT'; };\r\n\r\n    var CounterState = /** @class */ (function () {\r\n        function CounterState() {\r\n            this.counters = {};\r\n        }\r\n        CounterState.prototype.getCounterValue = function (name) {\r\n            var counter = this.counters[name];\r\n            if (counter && counter.length) {\r\n                return counter[counter.length - 1];\r\n            }\r\n            return 1;\r\n        };\r\n        CounterState.prototype.getCounterValues = function (name) {\r\n            var counter = this.counters[name];\r\n            return counter ? counter : [];\r\n        };\r\n        CounterState.prototype.pop = function (counters) {\r\n            var _this = this;\r\n            counters.forEach(function (counter) { return _this.counters[counter].pop(); });\r\n        };\r\n        CounterState.prototype.parse = function (style) {\r\n            var _this = this;\r\n            var counterIncrement = style.counterIncrement;\r\n            var counterReset = style.counterReset;\r\n            var canReset = true;\r\n            if (counterIncrement !== null) {\r\n                counterIncrement.forEach(function (entry) {\r\n                    var counter = _this.counters[entry.counter];\r\n                    if (counter && entry.increment !== 0) {\r\n                        canReset = false;\r\n                        counter[Math.max(0, counter.length - 1)] += entry.increment;\r\n                    }\r\n                });\r\n            }\r\n            var counterNames = [];\r\n            if (canReset) {\r\n                counterReset.forEach(function (entry) {\r\n                    var counter = _this.counters[entry.counter];\r\n                    counterNames.push(entry.counter);\r\n                    if (!counter) {\r\n                        counter = _this.counters[entry.counter] = [];\r\n                    }\r\n                    counter.push(entry.reset);\r\n                });\r\n            }\r\n            return counterNames;\r\n        };\r\n        return CounterState;\r\n    }());\r\n    var ROMAN_UPPER = {\r\n        integers: [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1],\r\n        values: ['M', 'CM', 'D', 'CD', 'C', 'XC', 'L', 'XL', 'X', 'IX', 'V', 'IV', 'I']\r\n    };\r\n    var ARMENIAN = {\r\n        integers: [\r\n            9000,\r\n            8000,\r\n            7000,\r\n            6000,\r\n            5000,\r\n            4000,\r\n            3000,\r\n            2000,\r\n            1000,\r\n            900,\r\n            800,\r\n            700,\r\n            600,\r\n            500,\r\n            400,\r\n            300,\r\n            200,\r\n            100,\r\n            90,\r\n            80,\r\n            70,\r\n            60,\r\n            50,\r\n            40,\r\n            30,\r\n            20,\r\n            10,\r\n            9,\r\n            8,\r\n            7,\r\n            6,\r\n            5,\r\n            4,\r\n            3,\r\n            2,\r\n            1\r\n        ],\r\n        values: [\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            ''\r\n        ]\r\n    };\r\n    var HEBREW = {\r\n        integers: [\r\n            10000,\r\n            9000,\r\n            8000,\r\n            7000,\r\n            6000,\r\n            5000,\r\n            4000,\r\n            3000,\r\n            2000,\r\n            1000,\r\n            400,\r\n            300,\r\n            200,\r\n            100,\r\n            90,\r\n            80,\r\n            70,\r\n            60,\r\n            50,\r\n            40,\r\n            30,\r\n            20,\r\n            19,\r\n            18,\r\n            17,\r\n            16,\r\n            15,\r\n            10,\r\n            9,\r\n            8,\r\n            7,\r\n            6,\r\n            5,\r\n            4,\r\n            3,\r\n            2,\r\n            1\r\n        ],\r\n        values: [\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            ''\r\n        ]\r\n    };\r\n    var GEORGIAN = {\r\n        integers: [\r\n            10000,\r\n            9000,\r\n            8000,\r\n            7000,\r\n            6000,\r\n            5000,\r\n            4000,\r\n            3000,\r\n            2000,\r\n            1000,\r\n            900,\r\n            800,\r\n            700,\r\n            600,\r\n            500,\r\n            400,\r\n            300,\r\n            200,\r\n            100,\r\n            90,\r\n            80,\r\n            70,\r\n            60,\r\n            50,\r\n            40,\r\n            30,\r\n            20,\r\n            10,\r\n            9,\r\n            8,\r\n            7,\r\n            6,\r\n            5,\r\n            4,\r\n            3,\r\n            2,\r\n            1\r\n        ],\r\n        values: [\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            '',\r\n            ''\r\n        ]\r\n    };\r\n    var createAdditiveCounter = function (value, min, max, symbols, fallback, suffix) {\r\n        if (value < min || value > max) {\r\n            return createCounterText(value, fallback, suffix.length > 0);\r\n        }\r\n        return (symbols.integers.reduce(function (string, integer, index) {\r\n            while (value >= integer) {\r\n                value -= integer;\r\n                string += symbols.values[index];\r\n            }\r\n            return string;\r\n        }, '') + suffix);\r\n    };\r\n    var createCounterStyleWithSymbolResolver = function (value, codePointRangeLength, isNumeric, resolver) {\r\n        var string = '';\r\n        do {\r\n            if (!isNumeric) {\r\n                value--;\r\n            }\r\n            string = resolver(value) + string;\r\n            value /= codePointRangeLength;\r\n        } while (value * codePointRangeLength >= codePointRangeLength);\r\n        return string;\r\n    };\r\n    var createCounterStyleFromRange = function (value, codePointRangeStart, codePointRangeEnd, isNumeric, suffix) {\r\n        var codePointRangeLength = codePointRangeEnd - codePointRangeStart + 1;\r\n        return ((value < 0 ? '-' : '') +\r\n            (createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, isNumeric, function (codePoint) {\r\n                return fromCodePoint(Math.floor(codePoint % codePointRangeLength) + codePointRangeStart);\r\n            }) +\r\n                suffix));\r\n    };\r\n    var createCounterStyleFromSymbols = function (value, symbols, suffix) {\r\n        if (suffix === void 0) { suffix = '. '; }\r\n        var codePointRangeLength = symbols.length;\r\n        return (createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, false, function (codePoint) { return symbols[Math.floor(codePoint % codePointRangeLength)]; }) + suffix);\r\n    };\r\n    var CJK_ZEROS = 1 << 0;\r\n    var CJK_TEN_COEFFICIENTS = 1 << 1;\r\n    var CJK_TEN_HIGH_COEFFICIENTS = 1 << 2;\r\n    var CJK_HUNDRED_COEFFICIENTS = 1 << 3;\r\n    var createCJKCounter = function (value, numbers, multipliers, negativeSign, suffix, flags) {\r\n        if (value < -9999 || value > 9999) {\r\n            return createCounterText(value, LIST_STYLE_TYPE.CJK_DECIMAL, suffix.length > 0);\r\n        }\r\n        var tmp = Math.abs(value);\r\n        var string = suffix;\r\n        if (tmp === 0) {\r\n            return numbers[0] + string;\r\n        }\r\n        for (var digit = 0; tmp > 0 && digit <= 4; digit++) {\r\n            var coefficient = tmp % 10;\r\n            if (coefficient === 0 && contains(flags, CJK_ZEROS) && string !== '') {\r\n                string = numbers[coefficient] + string;\r\n            }\r\n            else if (coefficient > 1 ||\r\n                (coefficient === 1 && digit === 0) ||\r\n                (coefficient === 1 && digit === 1 && contains(flags, CJK_TEN_COEFFICIENTS)) ||\r\n                (coefficient === 1 && digit === 1 && contains(flags, CJK_TEN_HIGH_COEFFICIENTS) && value > 100) ||\r\n                (coefficient === 1 && digit > 1 && contains(flags, CJK_HUNDRED_COEFFICIENTS))) {\r\n                string = numbers[coefficient] + (digit > 0 ? multipliers[digit - 1] : '') + string;\r\n            }\r\n            else if (coefficient === 1 && digit > 0) {\r\n                string = multipliers[digit - 1] + string;\r\n            }\r\n            tmp = Math.floor(tmp / 10);\r\n        }\r\n        return (value < 0 ? negativeSign : '') + string;\r\n    };\r\n    var CHINESE_INFORMAL_MULTIPLIERS = '';\r\n    var CHINESE_FORMAL_MULTIPLIERS = '';\r\n    var JAPANESE_NEGATIVE = '';\r\n    var KOREAN_NEGATIVE = '';\r\n    var createCounterText = function (value, type, appendSuffix) {\r\n        var defaultSuffix = appendSuffix ? '. ' : '';\r\n        var cjkSuffix = appendSuffix ? '' : '';\r\n        var koreanSuffix = appendSuffix ? ', ' : '';\r\n        var spaceSuffix = appendSuffix ? ' ' : '';\r\n        switch (type) {\r\n            case LIST_STYLE_TYPE.DISC:\r\n                return '' + spaceSuffix;\r\n            case LIST_STYLE_TYPE.CIRCLE:\r\n                return '' + spaceSuffix;\r\n            case LIST_STYLE_TYPE.SQUARE:\r\n                return '' + spaceSuffix;\r\n            case LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO:\r\n                var string = createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);\r\n                return string.length < 4 ? \"0\" + string : string;\r\n            case LIST_STYLE_TYPE.CJK_DECIMAL:\r\n                return createCounterStyleFromSymbols(value, '', cjkSuffix);\r\n            case LIST_STYLE_TYPE.LOWER_ROMAN:\r\n                return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, LIST_STYLE_TYPE.DECIMAL, defaultSuffix).toLowerCase();\r\n            case LIST_STYLE_TYPE.UPPER_ROMAN:\r\n                return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\r\n            case LIST_STYLE_TYPE.LOWER_GREEK:\r\n                return createCounterStyleFromRange(value, 945, 969, false, defaultSuffix);\r\n            case LIST_STYLE_TYPE.LOWER_ALPHA:\r\n                return createCounterStyleFromRange(value, 97, 122, false, defaultSuffix);\r\n            case LIST_STYLE_TYPE.UPPER_ALPHA:\r\n                return createCounterStyleFromRange(value, 65, 90, false, defaultSuffix);\r\n            case LIST_STYLE_TYPE.ARABIC_INDIC:\r\n                return createCounterStyleFromRange(value, 1632, 1641, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.ARMENIAN:\r\n            case LIST_STYLE_TYPE.UPPER_ARMENIAN:\r\n                return createAdditiveCounter(value, 1, 9999, ARMENIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\r\n            case LIST_STYLE_TYPE.LOWER_ARMENIAN:\r\n                return createAdditiveCounter(value, 1, 9999, ARMENIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix).toLowerCase();\r\n            case LIST_STYLE_TYPE.BENGALI:\r\n                return createCounterStyleFromRange(value, 2534, 2543, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.CAMBODIAN:\r\n            case LIST_STYLE_TYPE.KHMER:\r\n                return createCounterStyleFromRange(value, 6112, 6121, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH:\r\n                return createCounterStyleFromSymbols(value, '', cjkSuffix);\r\n            case LIST_STYLE_TYPE.CJK_HEAVENLY_STEM:\r\n                return createCounterStyleFromSymbols(value, '', cjkSuffix);\r\n            case LIST_STYLE_TYPE.CJK_IDEOGRAPHIC:\r\n            case LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL:\r\n                return createCJKCounter(value, '', CHINESE_INFORMAL_MULTIPLIERS, '', cjkSuffix, CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\r\n            case LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL:\r\n                return createCJKCounter(value, '', CHINESE_FORMAL_MULTIPLIERS, '', cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\r\n            case LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL:\r\n                return createCJKCounter(value, '', CHINESE_INFORMAL_MULTIPLIERS, '', cjkSuffix, CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\r\n            case LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL:\r\n                return createCJKCounter(value, '', CHINESE_FORMAL_MULTIPLIERS, '', cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);\r\n            case LIST_STYLE_TYPE.JAPANESE_INFORMAL:\r\n                return createCJKCounter(value, '', '', JAPANESE_NEGATIVE, cjkSuffix, 0);\r\n            case LIST_STYLE_TYPE.JAPANESE_FORMAL:\r\n                return createCJKCounter(value, '', '', JAPANESE_NEGATIVE, cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\r\n            case LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL:\r\n                return createCJKCounter(value, '', '', KOREAN_NEGATIVE, koreanSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\r\n            case LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL:\r\n                return createCJKCounter(value, '', '', KOREAN_NEGATIVE, koreanSuffix, 0);\r\n            case LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL:\r\n                return createCJKCounter(value, '', '', KOREAN_NEGATIVE, koreanSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);\r\n            case LIST_STYLE_TYPE.DEVANAGARI:\r\n                return createCounterStyleFromRange(value, 0x966, 0x96f, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.GEORGIAN:\r\n                return createAdditiveCounter(value, 1, 19999, GEORGIAN, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\r\n            case LIST_STYLE_TYPE.GUJARATI:\r\n                return createCounterStyleFromRange(value, 0xae6, 0xaef, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.GURMUKHI:\r\n                return createCounterStyleFromRange(value, 0xa66, 0xa6f, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.HEBREW:\r\n                return createAdditiveCounter(value, 1, 10999, HEBREW, LIST_STYLE_TYPE.DECIMAL, defaultSuffix);\r\n            case LIST_STYLE_TYPE.HIRAGANA:\r\n                return createCounterStyleFromSymbols(value, '');\r\n            case LIST_STYLE_TYPE.HIRAGANA_IROHA:\r\n                return createCounterStyleFromSymbols(value, '');\r\n            case LIST_STYLE_TYPE.KANNADA:\r\n                return createCounterStyleFromRange(value, 0xce6, 0xcef, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.KATAKANA:\r\n                return createCounterStyleFromSymbols(value, '', cjkSuffix);\r\n            case LIST_STYLE_TYPE.KATAKANA_IROHA:\r\n                return createCounterStyleFromSymbols(value, '', cjkSuffix);\r\n            case LIST_STYLE_TYPE.LAO:\r\n                return createCounterStyleFromRange(value, 0xed0, 0xed9, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.MONGOLIAN:\r\n                return createCounterStyleFromRange(value, 0x1810, 0x1819, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.MYANMAR:\r\n                return createCounterStyleFromRange(value, 0x1040, 0x1049, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.ORIYA:\r\n                return createCounterStyleFromRange(value, 0xb66, 0xb6f, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.PERSIAN:\r\n                return createCounterStyleFromRange(value, 0x6f0, 0x6f9, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.TAMIL:\r\n                return createCounterStyleFromRange(value, 0xbe6, 0xbef, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.TELUGU:\r\n                return createCounterStyleFromRange(value, 0xc66, 0xc6f, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.THAI:\r\n                return createCounterStyleFromRange(value, 0xe50, 0xe59, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.TIBETAN:\r\n                return createCounterStyleFromRange(value, 0xf20, 0xf29, true, defaultSuffix);\r\n            case LIST_STYLE_TYPE.DECIMAL:\r\n            default:\r\n                return createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);\r\n        }\r\n    };\r\n\r\n    var IGNORE_ATTRIBUTE = 'data-html2canvas-ignore';\r\n    var DocumentCloner = /** @class */ (function () {\r\n        function DocumentCloner(element, options) {\r\n            this.options = options;\r\n            this.scrolledElements = [];\r\n            this.referenceElement = element;\r\n            this.counters = new CounterState();\r\n            this.quoteDepth = 0;\r\n            if (!element.ownerDocument) {\r\n                throw new Error('Cloned element does not have an owner document');\r\n            }\r\n            this.documentElement = this.cloneNode(element.ownerDocument.documentElement);\r\n        }\r\n        DocumentCloner.prototype.toIFrame = function (ownerDocument, windowSize) {\r\n            var _this = this;\r\n            var iframe = createIFrameContainer(ownerDocument, windowSize);\r\n            if (!iframe.contentWindow) {\r\n                return Promise.reject(\"Unable to find iframe window\");\r\n            }\r\n            var scrollX = ownerDocument.defaultView.pageXOffset;\r\n            var scrollY = ownerDocument.defaultView.pageYOffset;\r\n            var cloneWindow = iframe.contentWindow;\r\n            var documentClone = cloneWindow.document;\r\n            /* Chrome doesn't detect relative background-images assigned in inline <style> sheets when fetched through getComputedStyle\r\n             if window url is about:blank, we can assign the url to current by writing onto the document\r\n             */\r\n            var iframeLoad = iframeLoader(iframe).then(function () {\r\n                return __awaiter(_this, void 0, void 0, function () {\r\n                    var onclone;\r\n                    return __generator(this, function (_a) {\r\n                        switch (_a.label) {\r\n                            case 0:\r\n                                this.scrolledElements.forEach(restoreNodeScroll);\r\n                                if (cloneWindow) {\r\n                                    cloneWindow.scrollTo(windowSize.left, windowSize.top);\r\n                                    if (/(iPad|iPhone|iPod)/g.test(navigator.userAgent) &&\r\n                                        (cloneWindow.scrollY !== windowSize.top || cloneWindow.scrollX !== windowSize.left)) {\r\n                                        documentClone.documentElement.style.top = -windowSize.top + 'px';\r\n                                        documentClone.documentElement.style.left = -windowSize.left + 'px';\r\n                                        documentClone.documentElement.style.position = 'absolute';\r\n                                    }\r\n                                }\r\n                                onclone = this.options.onclone;\r\n                                if (typeof this.clonedReferenceElement === 'undefined') {\r\n                                    return [2 /*return*/, Promise.reject(\"Error finding the \" + this.referenceElement.nodeName + \" in the cloned document\")];\r\n                                }\r\n                                if (!(documentClone.fonts && documentClone.fonts.ready)) return [3 /*break*/, 2];\r\n                                return [4 /*yield*/, documentClone.fonts.ready];\r\n                            case 1:\r\n                                _a.sent();\r\n                                _a.label = 2;\r\n                            case 2:\r\n                                if (typeof onclone === 'function') {\r\n                                    return [2 /*return*/, Promise.resolve()\r\n                                        .then(function () { return onclone(documentClone); })\r\n                                        .then(function () { return iframe; })];\r\n                                }\r\n                                return [2 /*return*/, iframe];\r\n                        }\r\n                    });\r\n                });\r\n            });\r\n            documentClone.open();\r\n            documentClone.write(serializeDoctype(document.doctype) + \"<html></html>\");\r\n            // Chrome scrolls the parent document for some reason after the write to the cloned window???\r\n            restoreOwnerScroll(this.referenceElement.ownerDocument, scrollX, scrollY);\r\n            documentClone.replaceChild(documentClone.adoptNode(this.documentElement), documentClone.documentElement);\r\n            documentClone.close();\r\n            return iframeLoad;\r\n        };\r\n        DocumentCloner.prototype.createElementClone = function (node) {\r\n            if (isCanvasElement(node)) {\r\n                return this.createCanvasClone(node);\r\n            }\r\n            /*\r\n            if (isIFrameElement(node)) {\r\n                return this.createIFrameClone(node);\r\n            }\r\n    */\r\n            if (isStyleElement(node)) {\r\n                return this.createStyleClone(node);\r\n            }\r\n            return node.cloneNode(false);\r\n        };\r\n        DocumentCloner.prototype.createStyleClone = function (node) {\r\n            try {\r\n                var sheet = node.sheet;\r\n                if (sheet && sheet.cssRules) {\r\n                    var css = [].slice.call(sheet.cssRules, 0).reduce(function (css, rule) {\r\n                        if (rule && typeof rule.cssText === 'string') {\r\n                            return css + rule.cssText;\r\n                        }\r\n                        return css;\r\n                    }, '');\r\n                    var style = node.cloneNode(false);\r\n                    style.textContent = css;\r\n                    return style;\r\n                }\r\n            }\r\n            catch (e) {\r\n                // accessing node.sheet.cssRules throws a DOMException\r\n                Logger.getInstance(this.options.id).error('Unable to access cssRules property', e);\r\n                if (e.name !== 'SecurityError') {\r\n                    throw e;\r\n                }\r\n            }\r\n            return node.cloneNode(false);\r\n        };\r\n        DocumentCloner.prototype.createCanvasClone = function (canvas) {\r\n            if (this.options.inlineImages && canvas.ownerDocument) {\r\n                var img = canvas.ownerDocument.createElement('img');\r\n                try {\r\n                    img.src = canvas.toDataURL();\r\n                    return img;\r\n                }\r\n                catch (e) {\r\n                    Logger.getInstance(this.options.id).info(\"Unable to clone canvas contents, canvas is tainted\");\r\n                }\r\n            }\r\n            var clonedCanvas = canvas.cloneNode(false);\r\n            try {\r\n                clonedCanvas.width = canvas.width;\r\n                clonedCanvas.height = canvas.height;\r\n                var ctx = canvas.getContext('2d');\r\n                var clonedCtx = clonedCanvas.getContext('2d');\r\n                if (clonedCtx) {\r\n                    if (ctx) {\r\n                        clonedCtx.putImageData(ctx.getImageData(0, 0, canvas.width, canvas.height), 0, 0);\r\n                    }\r\n                    else {\r\n                        clonedCtx.drawImage(canvas, 0, 0);\r\n                    }\r\n                }\r\n                return clonedCanvas;\r\n            }\r\n            catch (e) { }\r\n            return clonedCanvas;\r\n        };\r\n        /*\r\n        createIFrameClone(iframe: HTMLIFrameElement) {\r\n            const tempIframe = <HTMLIFrameElement>iframe.cloneNode(false);\r\n            const iframeKey = generateIframeKey();\r\n            tempIframe.setAttribute('data-html2canvas-internal-iframe-key', iframeKey);\r\n\r\n            const {width, height} = parseBounds(iframe);\r\n\r\n            this.resourceLoader.cache[iframeKey] = getIframeDocumentElement(iframe, this.options)\r\n                .then(documentElement => {\r\n                    return this.renderer(\r\n                        documentElement,\r\n                        {\r\n                            allowTaint: this.options.allowTaint,\r\n                            backgroundColor: '#ffffff',\r\n                            canvas: null,\r\n                            imageTimeout: this.options.imageTimeout,\r\n                            logging: this.options.logging,\r\n                            proxy: this.options.proxy,\r\n                            removeContainer: this.options.removeContainer,\r\n                            scale: this.options.scale,\r\n                            foreignObjectRendering: this.options.foreignObjectRendering,\r\n                            useCORS: this.options.useCORS,\r\n                            target: new CanvasRenderer(),\r\n                            width,\r\n                            height,\r\n                            x: 0,\r\n                            y: 0,\r\n                            windowWidth: documentElement.ownerDocument.defaultView.innerWidth,\r\n                            windowHeight: documentElement.ownerDocument.defaultView.innerHeight,\r\n                            scrollX: documentElement.ownerDocument.defaultView.pageXOffset,\r\n                            scrollY: documentElement.ownerDocument.defaultView.pageYOffset\r\n                        },\r\n                    );\r\n                })\r\n                .then(\r\n                    (canvas: HTMLCanvasElement) =>\r\n                        new Promise((resolve, reject) => {\r\n                            const iframeCanvas = document.createElement('img');\r\n                            iframeCanvas.onload = () => resolve(canvas);\r\n                            iframeCanvas.onerror = (event) => {\r\n                                // Empty iframes may result in empty \"data:,\" URLs, which are invalid from the <img>'s point of view\r\n                                // and instead of `onload` cause `onerror` and unhandled rejection warnings\r\n                                // https://github.com/niklasvh/html2canvas/issues/1502\r\n                                iframeCanvas.src == 'data:,' ? resolve(canvas) : reject(event);\r\n                            };\r\n                            iframeCanvas.src = canvas.toDataURL();\r\n                            if (tempIframe.parentNode && iframe.ownerDocument && iframe.ownerDocument.defaultView) {\r\n                                tempIframe.parentNode.replaceChild(\r\n                                    copyCSSStyles(\r\n                                        iframe.ownerDocument.defaultView.getComputedStyle(iframe),\r\n                                        iframeCanvas\r\n                                    ),\r\n                                    tempIframe\r\n                                );\r\n                            }\r\n                        })\r\n                );\r\n            return tempIframe;\r\n        }\r\n    */\r\n        DocumentCloner.prototype.cloneNode = function (node) {\r\n            if (isTextNode(node)) {\r\n                return document.createTextNode(node.data);\r\n            }\r\n            if (!node.ownerDocument) {\r\n                return node.cloneNode(false);\r\n            }\r\n            var window = node.ownerDocument.defaultView;\r\n            if (isHTMLElementNode(node) && window) {\r\n                var clone = this.createElementClone(node);\r\n                var style = window.getComputedStyle(node);\r\n                var styleBefore = window.getComputedStyle(node, ':before');\r\n                var styleAfter = window.getComputedStyle(node, ':after');\r\n                if (this.referenceElement === node) {\r\n                    this.clonedReferenceElement = clone;\r\n                }\r\n                if (isBodyElement(clone)) {\r\n                    createPseudoHideStyles(clone);\r\n                }\r\n                var counters = this.counters.parse(new CSSParsedCounterDeclaration(style));\r\n                var before = this.resolvePseudoContent(node, clone, styleBefore, PseudoElementType.BEFORE);\r\n                for (var child = node.firstChild; child; child = child.nextSibling) {\r\n                    if (!isElementNode(child) ||\r\n                        (!isScriptElement(child) &&\r\n                            !child.hasAttribute(IGNORE_ATTRIBUTE) &&\r\n                            (typeof this.options.ignoreElements !== 'function' || !this.options.ignoreElements(child)))) {\r\n                        if (!this.options.copyStyles || !isElementNode(child) || !isStyleElement(child)) {\r\n                            clone.appendChild(this.cloneNode(child));\r\n                        }\r\n                    }\r\n                }\r\n                if (before) {\r\n                    clone.insertBefore(before, clone.firstChild);\r\n                }\r\n                var after = this.resolvePseudoContent(node, clone, styleAfter, PseudoElementType.AFTER);\r\n                if (after) {\r\n                    clone.appendChild(after);\r\n                }\r\n                this.counters.pop(counters);\r\n                if (style && this.options.copyStyles && !isIFrameElement(node)) {\r\n                    copyCSSStyles(style, clone);\r\n                }\r\n                //this.inlineAllImages(clone);\r\n                if (node.scrollTop !== 0 || node.scrollLeft !== 0) {\r\n                    this.scrolledElements.push([clone, node.scrollLeft, node.scrollTop]);\r\n                }\r\n                if ((isTextareaElement(node) || isSelectElement(node)) &&\r\n                    (isTextareaElement(clone) || isSelectElement(clone))) {\r\n                    clone.value = node.value;\r\n                }\r\n                return clone;\r\n            }\r\n            return node.cloneNode(false);\r\n        };\r\n        DocumentCloner.prototype.resolvePseudoContent = function (node, clone, style, pseudoElt) {\r\n            var _this = this;\r\n            if (!style) {\r\n                return;\r\n            }\r\n            var value = style.content;\r\n            var document = clone.ownerDocument;\r\n            if (!document || !value || value === 'none' || value === '-moz-alt-content' || style.display === 'none') {\r\n                return;\r\n            }\r\n            this.counters.parse(new CSSParsedCounterDeclaration(style));\r\n            var declaration = new CSSParsedPseudoDeclaration(style);\r\n            var anonymousReplacedElement = document.createElement('html2canvaspseudoelement');\r\n            copyCSSStyles(style, anonymousReplacedElement);\r\n            declaration.content.forEach(function (token) {\r\n                if (token.type === TokenType.STRING_TOKEN) {\r\n                    anonymousReplacedElement.appendChild(document.createTextNode(token.value));\r\n                }\r\n                else if (token.type === TokenType.URL_TOKEN) {\r\n                    var img = document.createElement('img');\r\n                    img.src = token.value;\r\n                    img.style.opacity = '1';\r\n                    anonymousReplacedElement.appendChild(img);\r\n                }\r\n                else if (token.type === TokenType.FUNCTION) {\r\n                    if (token.name === 'attr') {\r\n                        var attr = token.values.filter(isIdentToken);\r\n                        if (attr.length) {\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(node.getAttribute(attr[0].value) || ''));\r\n                        }\r\n                    }\r\n                    else if (token.name === 'counter') {\r\n                        var _a = token.values.filter(nonFunctionArgSeparator), counter = _a[0], counterStyle = _a[1];\r\n                        if (counter && isIdentToken(counter)) {\r\n                            var counterState = _this.counters.getCounterValue(counter.value);\r\n                            var counterType = counterStyle && isIdentToken(counterStyle)\r\n                                ? listStyleType.parse(counterStyle.value)\r\n                                : LIST_STYLE_TYPE.DECIMAL;\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(createCounterText(counterState, counterType, false)));\r\n                        }\r\n                    }\r\n                    else if (token.name === 'counters') {\r\n                        var _b = token.values.filter(nonFunctionArgSeparator), counter = _b[0], delim = _b[1], counterStyle = _b[2];\r\n                        if (counter && isIdentToken(counter)) {\r\n                            var counterStates = _this.counters.getCounterValues(counter.value);\r\n                            var counterType_1 = counterStyle && isIdentToken(counterStyle)\r\n                                ? listStyleType.parse(counterStyle.value)\r\n                                : LIST_STYLE_TYPE.DECIMAL;\r\n                            var separator = delim && delim.type === TokenType.STRING_TOKEN ? delim.value : '';\r\n                            var text = counterStates\r\n                                .map(function (value) { return createCounterText(value, counterType_1, false); })\r\n                                .join(separator);\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(text));\r\n                        }\r\n                    }\r\n                }\r\n                else if (token.type === TokenType.IDENT_TOKEN) {\r\n                    switch (token.value) {\r\n                        case 'open-quote':\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(getQuote(declaration.quotes, _this.quoteDepth++, true)));\r\n                            break;\r\n                        case 'close-quote':\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(getQuote(declaration.quotes, --_this.quoteDepth, false)));\r\n                            break;\r\n                        default:\r\n                            // safari doesn't parse string tokens correctly because of lack of quotes\r\n                            anonymousReplacedElement.appendChild(document.createTextNode(token.value));\r\n                    }\r\n                }\r\n            });\r\n            anonymousReplacedElement.className = PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + \" \" + PSEUDO_HIDE_ELEMENT_CLASS_AFTER;\r\n            clone.className +=\r\n                pseudoElt === PseudoElementType.BEFORE\r\n                    ? \" \" + PSEUDO_HIDE_ELEMENT_CLASS_BEFORE\r\n                    : \" \" + PSEUDO_HIDE_ELEMENT_CLASS_AFTER;\r\n            return anonymousReplacedElement;\r\n        };\r\n        DocumentCloner.destroy = function (container) {\r\n            if (container.parentNode) {\r\n                container.parentNode.removeChild(container);\r\n                return true;\r\n            }\r\n            return false;\r\n        };\r\n        return DocumentCloner;\r\n    }());\r\n    var PseudoElementType;\r\n    (function (PseudoElementType) {\r\n        PseudoElementType[PseudoElementType[\"BEFORE\"] = 0] = \"BEFORE\";\r\n        PseudoElementType[PseudoElementType[\"AFTER\"] = 1] = \"AFTER\";\r\n    })(PseudoElementType || (PseudoElementType = {}));\r\n    var createIFrameContainer = function (ownerDocument, bounds) {\r\n        var cloneIframeContainer = ownerDocument.createElement('iframe');\r\n        cloneIframeContainer.className = 'html2canvas-container';\r\n        cloneIframeContainer.style.visibility = 'hidden';\r\n        cloneIframeContainer.style.position = 'fixed';\r\n        cloneIframeContainer.style.left = '-10000px';\r\n        cloneIframeContainer.style.top = '0px';\r\n        cloneIframeContainer.style.border = '0';\r\n        cloneIframeContainer.width = bounds.width.toString();\r\n        cloneIframeContainer.height = bounds.height.toString();\r\n        cloneIframeContainer.scrolling = 'no'; // ios won't scroll without it\r\n        cloneIframeContainer.setAttribute(IGNORE_ATTRIBUTE, 'true');\r\n        ownerDocument.body.appendChild(cloneIframeContainer);\r\n        return cloneIframeContainer;\r\n    };\r\n    var iframeLoader = function (iframe) {\r\n        return new Promise(function (resolve, reject) {\r\n            var cloneWindow = iframe.contentWindow;\r\n            if (!cloneWindow) {\r\n                return reject(\"No window assigned for iframe\");\r\n            }\r\n            var documentClone = cloneWindow.document;\r\n            cloneWindow.onload = iframe.onload = documentClone.onreadystatechange = function () {\r\n                cloneWindow.onload = iframe.onload = documentClone.onreadystatechange = null;\r\n                var interval = setInterval(function () {\r\n                    if (documentClone.body.childNodes.length > 0 && documentClone.readyState === 'complete') {\r\n                        clearInterval(interval);\r\n                        resolve(iframe);\r\n                    }\r\n                }, 50);\r\n            };\r\n        });\r\n    };\r\n    var copyCSSStyles = function (style, target) {\r\n        // Edge does not provide value for cssText\r\n        for (var i = style.length - 1; i >= 0; i--) {\r\n            var property = style.item(i);\r\n            // Safari shows pseudoelements if content is set\r\n            if (property !== 'content') {\r\n                target.style.setProperty(property, style.getPropertyValue(property));\r\n            }\r\n        }\r\n        return target;\r\n    };\r\n    var serializeDoctype = function (doctype) {\r\n        var str = '';\r\n        if (doctype) {\r\n            str += '<!DOCTYPE ';\r\n            if (doctype.name) {\r\n                str += doctype.name;\r\n            }\r\n            if (doctype.internalSubset) {\r\n                str += doctype.internalSubset;\r\n            }\r\n            if (doctype.publicId) {\r\n                str += \"\\\"\" + doctype.publicId + \"\\\"\";\r\n            }\r\n            if (doctype.systemId) {\r\n                str += \"\\\"\" + doctype.systemId + \"\\\"\";\r\n            }\r\n            str += '>';\r\n        }\r\n        return str;\r\n    };\r\n    var restoreOwnerScroll = function (ownerDocument, x, y) {\r\n        if (ownerDocument &&\r\n            ownerDocument.defaultView &&\r\n            (x !== ownerDocument.defaultView.pageXOffset || y !== ownerDocument.defaultView.pageYOffset)) {\r\n            ownerDocument.defaultView.scrollTo(x, y);\r\n        }\r\n    };\r\n    var restoreNodeScroll = function (_a) {\r\n        var element = _a[0], x = _a[1], y = _a[2];\r\n        element.scrollLeft = x;\r\n        element.scrollTop = y;\r\n    };\r\n    var PSEUDO_BEFORE = ':before';\r\n    var PSEUDO_AFTER = ':after';\r\n    var PSEUDO_HIDE_ELEMENT_CLASS_BEFORE = '___html2canvas___pseudoelement_before';\r\n    var PSEUDO_HIDE_ELEMENT_CLASS_AFTER = '___html2canvas___pseudoelement_after';\r\n    var PSEUDO_HIDE_ELEMENT_STYLE = \"{\\n    content: \\\"\\\" !important;\\n    display: none !important;\\n}\";\r\n    var createPseudoHideStyles = function (body) {\r\n        createStyles(body, \".\" + PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + PSEUDO_BEFORE + PSEUDO_HIDE_ELEMENT_STYLE + \"\\n         .\" + PSEUDO_HIDE_ELEMENT_CLASS_AFTER + PSEUDO_AFTER + PSEUDO_HIDE_ELEMENT_STYLE);\r\n    };\r\n    var createStyles = function (body, styles) {\r\n        var document = body.ownerDocument;\r\n        if (document) {\r\n            var style = document.createElement('style');\r\n            style.textContent = styles;\r\n            body.appendChild(style);\r\n        }\r\n    };\r\n\r\n    var PathType;\r\n    (function (PathType) {\r\n        PathType[PathType[\"VECTOR\"] = 0] = \"VECTOR\";\r\n        PathType[PathType[\"BEZIER_CURVE\"] = 1] = \"BEZIER_CURVE\";\r\n    })(PathType || (PathType = {}));\r\n    var equalPath = function (a, b) {\r\n        if (a.length === b.length) {\r\n            return a.some(function (v, i) { return v === b[i]; });\r\n        }\r\n        return false;\r\n    };\r\n    var transformPath = function (path, deltaX, deltaY, deltaW, deltaH) {\r\n        return path.map(function (point, index) {\r\n            switch (index) {\r\n                case 0:\r\n                    return point.add(deltaX, deltaY);\r\n                case 1:\r\n                    return point.add(deltaX + deltaW, deltaY);\r\n                case 2:\r\n                    return point.add(deltaX + deltaW, deltaY + deltaH);\r\n                case 3:\r\n                    return point.add(deltaX, deltaY + deltaH);\r\n            }\r\n            return point;\r\n        });\r\n    };\r\n\r\n    var Vector = /** @class */ (function () {\r\n        function Vector(x, y) {\r\n            this.type = PathType.VECTOR;\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n        Vector.prototype.add = function (deltaX, deltaY) {\r\n            return new Vector(this.x + deltaX, this.y + deltaY);\r\n        };\r\n        return Vector;\r\n    }());\r\n\r\n    var lerp = function (a, b, t) {\r\n        return new Vector(a.x + (b.x - a.x) * t, a.y + (b.y - a.y) * t);\r\n    };\r\n    var BezierCurve = /** @class */ (function () {\r\n        function BezierCurve(start, startControl, endControl, end) {\r\n            this.type = PathType.BEZIER_CURVE;\r\n            this.start = start;\r\n            this.startControl = startControl;\r\n            this.endControl = endControl;\r\n            this.end = end;\r\n        }\r\n        BezierCurve.prototype.subdivide = function (t, firstHalf) {\r\n            var ab = lerp(this.start, this.startControl, t);\r\n            var bc = lerp(this.startControl, this.endControl, t);\r\n            var cd = lerp(this.endControl, this.end, t);\r\n            var abbc = lerp(ab, bc, t);\r\n            var bccd = lerp(bc, cd, t);\r\n            var dest = lerp(abbc, bccd, t);\r\n            return firstHalf ? new BezierCurve(this.start, ab, abbc, dest) : new BezierCurve(dest, bccd, cd, this.end);\r\n        };\r\n        BezierCurve.prototype.add = function (deltaX, deltaY) {\r\n            return new BezierCurve(this.start.add(deltaX, deltaY), this.startControl.add(deltaX, deltaY), this.endControl.add(deltaX, deltaY), this.end.add(deltaX, deltaY));\r\n        };\r\n        BezierCurve.prototype.reverse = function () {\r\n            return new BezierCurve(this.end, this.endControl, this.startControl, this.start);\r\n        };\r\n        return BezierCurve;\r\n    }());\r\n    var isBezierCurve = function (path) { return path.type === PathType.BEZIER_CURVE; };\r\n\r\n    var BoundCurves = /** @class */ (function () {\r\n        function BoundCurves(element) {\r\n            var styles = element.styles;\r\n            var bounds = element.bounds;\r\n            var _a = getAbsoluteValueForTuple(styles.borderTopLeftRadius, bounds.width, bounds.height), tlh = _a[0], tlv = _a[1];\r\n            var _b = getAbsoluteValueForTuple(styles.borderTopRightRadius, bounds.width, bounds.height), trh = _b[0], trv = _b[1];\r\n            var _c = getAbsoluteValueForTuple(styles.borderBottomRightRadius, bounds.width, bounds.height), brh = _c[0], brv = _c[1];\r\n            var _d = getAbsoluteValueForTuple(styles.borderBottomLeftRadius, bounds.width, bounds.height), blh = _d[0], blv = _d[1];\r\n            var factors = [];\r\n            factors.push((tlh + trh) / bounds.width);\r\n            factors.push((blh + brh) / bounds.width);\r\n            factors.push((tlv + blv) / bounds.height);\r\n            factors.push((trv + brv) / bounds.height);\r\n            var maxFactor = Math.max.apply(Math, factors);\r\n            if (maxFactor > 1) {\r\n                tlh /= maxFactor;\r\n                tlv /= maxFactor;\r\n                trh /= maxFactor;\r\n                trv /= maxFactor;\r\n                brh /= maxFactor;\r\n                brv /= maxFactor;\r\n                blh /= maxFactor;\r\n                blv /= maxFactor;\r\n            }\r\n            var topWidth = bounds.width - trh;\r\n            var rightHeight = bounds.height - brv;\r\n            var bottomWidth = bounds.width - brh;\r\n            var leftHeight = bounds.height - blv;\r\n            var borderTopWidth = styles.borderTopWidth;\r\n            var borderRightWidth = styles.borderRightWidth;\r\n            var borderBottomWidth = styles.borderBottomWidth;\r\n            var borderLeftWidth = styles.borderLeftWidth;\r\n            var paddingTop = getAbsoluteValue(styles.paddingTop, element.bounds.width);\r\n            var paddingRight = getAbsoluteValue(styles.paddingRight, element.bounds.width);\r\n            var paddingBottom = getAbsoluteValue(styles.paddingBottom, element.bounds.width);\r\n            var paddingLeft = getAbsoluteValue(styles.paddingLeft, element.bounds.width);\r\n            this.topLeftBorderBox =\r\n                tlh > 0 || tlv > 0\r\n                    ? getCurvePoints(bounds.left, bounds.top, tlh, tlv, CORNER.TOP_LEFT)\r\n                    : new Vector(bounds.left, bounds.top);\r\n            this.topRightBorderBox =\r\n                trh > 0 || trv > 0\r\n                    ? getCurvePoints(bounds.left + topWidth, bounds.top, trh, trv, CORNER.TOP_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width, bounds.top);\r\n            this.bottomRightBorderBox =\r\n                brh > 0 || brv > 0\r\n                    ? getCurvePoints(bounds.left + bottomWidth, bounds.top + rightHeight, brh, brv, CORNER.BOTTOM_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width, bounds.top + bounds.height);\r\n            this.bottomLeftBorderBox =\r\n                blh > 0 || blv > 0\r\n                    ? getCurvePoints(bounds.left, bounds.top + leftHeight, blh, blv, CORNER.BOTTOM_LEFT)\r\n                    : new Vector(bounds.left, bounds.top + bounds.height);\r\n            this.topLeftPaddingBox =\r\n                tlh > 0 || tlv > 0\r\n                    ? getCurvePoints(bounds.left + borderLeftWidth, bounds.top + borderTopWidth, Math.max(0, tlh - borderLeftWidth), Math.max(0, tlv - borderTopWidth), CORNER.TOP_LEFT)\r\n                    : new Vector(bounds.left + borderLeftWidth, bounds.top + borderTopWidth);\r\n            this.topRightPaddingBox =\r\n                trh > 0 || trv > 0\r\n                    ? getCurvePoints(bounds.left + Math.min(topWidth, bounds.width + borderLeftWidth), bounds.top + borderTopWidth, topWidth > bounds.width + borderLeftWidth ? 0 : trh - borderLeftWidth, trv - borderTopWidth, CORNER.TOP_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width - borderRightWidth, bounds.top + borderTopWidth);\r\n            this.bottomRightPaddingBox =\r\n                brh > 0 || brv > 0\r\n                    ? getCurvePoints(bounds.left + Math.min(bottomWidth, bounds.width - borderLeftWidth), bounds.top + Math.min(rightHeight, bounds.height + borderTopWidth), Math.max(0, brh - borderRightWidth), brv - borderBottomWidth, CORNER.BOTTOM_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width - borderRightWidth, bounds.top + bounds.height - borderBottomWidth);\r\n            this.bottomLeftPaddingBox =\r\n                blh > 0 || blv > 0\r\n                    ? getCurvePoints(bounds.left + borderLeftWidth, bounds.top + leftHeight, Math.max(0, blh - borderLeftWidth), blv - borderBottomWidth, CORNER.BOTTOM_LEFT)\r\n                    : new Vector(bounds.left + borderLeftWidth, bounds.top + bounds.height - borderBottomWidth);\r\n            this.topLeftContentBox =\r\n                tlh > 0 || tlv > 0\r\n                    ? getCurvePoints(bounds.left + borderLeftWidth + paddingLeft, bounds.top + borderTopWidth + paddingTop, Math.max(0, tlh - (borderLeftWidth + paddingLeft)), Math.max(0, tlv - (borderTopWidth + paddingTop)), CORNER.TOP_LEFT)\r\n                    : new Vector(bounds.left + borderLeftWidth + paddingLeft, bounds.top + borderTopWidth + paddingTop);\r\n            this.topRightContentBox =\r\n                trh > 0 || trv > 0\r\n                    ? getCurvePoints(bounds.left + Math.min(topWidth, bounds.width + borderLeftWidth + paddingLeft), bounds.top + borderTopWidth + paddingTop, topWidth > bounds.width + borderLeftWidth + paddingLeft ? 0 : trh - borderLeftWidth + paddingLeft, trv - (borderTopWidth + paddingTop), CORNER.TOP_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width - (borderRightWidth + paddingRight), bounds.top + borderTopWidth + paddingTop);\r\n            this.bottomRightContentBox =\r\n                brh > 0 || brv > 0\r\n                    ? getCurvePoints(bounds.left + Math.min(bottomWidth, bounds.width - (borderLeftWidth + paddingLeft)), bounds.top + Math.min(rightHeight, bounds.height + borderTopWidth + paddingTop), Math.max(0, brh - (borderRightWidth + paddingRight)), brv - (borderBottomWidth + paddingBottom), CORNER.BOTTOM_RIGHT)\r\n                    : new Vector(bounds.left + bounds.width - (borderRightWidth + paddingRight), bounds.top + bounds.height - (borderBottomWidth + paddingBottom));\r\n            this.bottomLeftContentBox =\r\n                blh > 0 || blv > 0\r\n                    ? getCurvePoints(bounds.left + borderLeftWidth + paddingLeft, bounds.top + leftHeight, Math.max(0, blh - (borderLeftWidth + paddingLeft)), blv - (borderBottomWidth + paddingBottom), CORNER.BOTTOM_LEFT)\r\n                    : new Vector(bounds.left + borderLeftWidth + paddingLeft, bounds.top + bounds.height - (borderBottomWidth + paddingBottom));\r\n        }\r\n        return BoundCurves;\r\n    }());\r\n    var CORNER;\r\n    (function (CORNER) {\r\n        CORNER[CORNER[\"TOP_LEFT\"] = 0] = \"TOP_LEFT\";\r\n        CORNER[CORNER[\"TOP_RIGHT\"] = 1] = \"TOP_RIGHT\";\r\n        CORNER[CORNER[\"BOTTOM_RIGHT\"] = 2] = \"BOTTOM_RIGHT\";\r\n        CORNER[CORNER[\"BOTTOM_LEFT\"] = 3] = \"BOTTOM_LEFT\";\r\n    })(CORNER || (CORNER = {}));\r\n    var getCurvePoints = function (x, y, r1, r2, position) {\r\n        var kappa = 4 * ((Math.sqrt(2) - 1) / 3);\r\n        var ox = r1 * kappa; // control point offset horizontal\r\n        var oy = r2 * kappa; // control point offset vertical\r\n        var xm = x + r1; // x-middle\r\n        var ym = y + r2; // y-middle\r\n        switch (position) {\r\n            case CORNER.TOP_LEFT:\r\n                return new BezierCurve(new Vector(x, ym), new Vector(x, ym - oy), new Vector(xm - ox, y), new Vector(xm, y));\r\n            case CORNER.TOP_RIGHT:\r\n                return new BezierCurve(new Vector(x, y), new Vector(x + ox, y), new Vector(xm, ym - oy), new Vector(xm, ym));\r\n            case CORNER.BOTTOM_RIGHT:\r\n                return new BezierCurve(new Vector(xm, y), new Vector(xm, y + oy), new Vector(x + ox, ym), new Vector(x, ym));\r\n            case CORNER.BOTTOM_LEFT:\r\n            default:\r\n                return new BezierCurve(new Vector(xm, ym), new Vector(xm - ox, ym), new Vector(x, y + oy), new Vector(x, y));\r\n        }\r\n    };\r\n    var calculateBorderBoxPath = function (curves) {\r\n        return [curves.topLeftBorderBox, curves.topRightBorderBox, curves.bottomRightBorderBox, curves.bottomLeftBorderBox];\r\n    };\r\n    var calculateContentBoxPath = function (curves) {\r\n        return [\r\n            curves.topLeftContentBox,\r\n            curves.topRightContentBox,\r\n            curves.bottomRightContentBox,\r\n            curves.bottomLeftContentBox\r\n        ];\r\n    };\r\n    var calculatePaddingBoxPath = function (curves) {\r\n        return [\r\n            curves.topLeftPaddingBox,\r\n            curves.topRightPaddingBox,\r\n            curves.bottomRightPaddingBox,\r\n            curves.bottomLeftPaddingBox\r\n        ];\r\n    };\r\n\r\n    var TransformEffect = /** @class */ (function () {\r\n        function TransformEffect(offsetX, offsetY, matrix) {\r\n            this.type = 0 /* TRANSFORM */;\r\n            this.offsetX = offsetX;\r\n            this.offsetY = offsetY;\r\n            this.matrix = matrix;\r\n            this.target = 2 /* BACKGROUND_BORDERS */ | 4 /* CONTENT */;\r\n        }\r\n        return TransformEffect;\r\n    }());\r\n    var ClipEffect = /** @class */ (function () {\r\n        function ClipEffect(path, target) {\r\n            this.type = 1 /* CLIP */;\r\n            this.target = target;\r\n            this.path = path;\r\n        }\r\n        return ClipEffect;\r\n    }());\r\n    var isTransformEffect = function (effect) {\r\n        return effect.type === 0 /* TRANSFORM */;\r\n    };\r\n    var isClipEffect = function (effect) { return effect.type === 1 /* CLIP */; };\r\n\r\n    var StackingContext = /** @class */ (function () {\r\n        function StackingContext(container) {\r\n            this.element = container;\r\n            this.inlineLevel = [];\r\n            this.nonInlineLevel = [];\r\n            this.negativeZIndex = [];\r\n            this.zeroOrAutoZIndexOrTransformedOrOpacity = [];\r\n            this.positiveZIndex = [];\r\n            this.nonPositionedFloats = [];\r\n            this.nonPositionedInlineLevel = [];\r\n        }\r\n        return StackingContext;\r\n    }());\r\n    var ElementPaint = /** @class */ (function () {\r\n        function ElementPaint(element, parentStack) {\r\n            this.container = element;\r\n            this.effects = parentStack.slice(0);\r\n            this.curves = new BoundCurves(element);\r\n            if (element.styles.transform !== null) {\r\n                var offsetX = element.bounds.left + element.styles.transformOrigin[0].number;\r\n                var offsetY = element.bounds.top + element.styles.transformOrigin[1].number;\r\n                var matrix = element.styles.transform;\r\n                this.effects.push(new TransformEffect(offsetX, offsetY, matrix));\r\n            }\r\n            if (element.styles.overflowX !== OVERFLOW.VISIBLE) {\r\n                var borderBox = calculateBorderBoxPath(this.curves);\r\n                var paddingBox = calculatePaddingBoxPath(this.curves);\r\n                if (equalPath(borderBox, paddingBox)) {\r\n                    this.effects.push(new ClipEffect(borderBox, 2 /* BACKGROUND_BORDERS */ | 4 /* CONTENT */));\r\n                }\r\n                else {\r\n                    this.effects.push(new ClipEffect(borderBox, 2 /* BACKGROUND_BORDERS */));\r\n                    this.effects.push(new ClipEffect(paddingBox, 4 /* CONTENT */));\r\n                }\r\n            }\r\n        }\r\n        ElementPaint.prototype.getParentEffects = function () {\r\n            var effects = this.effects.slice(0);\r\n            if (this.container.styles.overflowX !== OVERFLOW.VISIBLE) {\r\n                var borderBox = calculateBorderBoxPath(this.curves);\r\n                var paddingBox = calculatePaddingBoxPath(this.curves);\r\n                if (!equalPath(borderBox, paddingBox)) {\r\n                    effects.push(new ClipEffect(paddingBox, 2 /* BACKGROUND_BORDERS */ | 4 /* CONTENT */));\r\n                }\r\n            }\r\n            return effects;\r\n        };\r\n        return ElementPaint;\r\n    }());\r\n    var parseStackTree = function (parent, stackingContext, realStackingContext, listItems) {\r\n        parent.container.elements.forEach(function (child) {\r\n            var treatAsRealStackingContext = contains(child.flags, 4 /* CREATES_REAL_STACKING_CONTEXT */);\r\n            var createsStackingContext = contains(child.flags, 2 /* CREATES_STACKING_CONTEXT */);\r\n            var paintContainer = new ElementPaint(child, parent.getParentEffects());\r\n            if (contains(child.styles.display, 2048 /* LIST_ITEM */)) {\r\n                listItems.push(paintContainer);\r\n            }\r\n            var listOwnerItems = contains(child.flags, 8 /* IS_LIST_OWNER */) ? [] : listItems;\r\n            if (treatAsRealStackingContext || createsStackingContext) {\r\n                var parentStack = treatAsRealStackingContext || child.styles.isPositioned() ? realStackingContext : stackingContext;\r\n                var stack = new StackingContext(paintContainer);\r\n                if (child.styles.isPositioned() || child.styles.opacity < 1 || child.styles.isTransformed()) {\r\n                    var order_1 = child.styles.zIndex.order;\r\n                    if (order_1 < 0) {\r\n                        var index_1 = 0;\r\n                        parentStack.negativeZIndex.some(function (current, i) {\r\n                            if (order_1 > current.element.container.styles.zIndex.order) {\r\n                                index_1 = i;\r\n                                return false;\r\n                            }\r\n                            else if (index_1 > 0) {\r\n                                return true;\r\n                            }\r\n                            return false;\r\n                        });\r\n                        parentStack.negativeZIndex.splice(index_1, 0, stack);\r\n                    }\r\n                    else if (order_1 > 0) {\r\n                        var index_2 = 0;\r\n                        parentStack.positiveZIndex.some(function (current, i) {\r\n                            if (order_1 > current.element.container.styles.zIndex.order) {\r\n                                index_2 = i + 1;\r\n                                return false;\r\n                            }\r\n                            else if (index_2 > 0) {\r\n                                return true;\r\n                            }\r\n                            return false;\r\n                        });\r\n                        parentStack.positiveZIndex.splice(index_2, 0, stack);\r\n                    }\r\n                    else {\r\n                        parentStack.zeroOrAutoZIndexOrTransformedOrOpacity.push(stack);\r\n                    }\r\n                }\r\n                else {\r\n                    if (child.styles.isFloating()) {\r\n                        parentStack.nonPositionedFloats.push(stack);\r\n                    }\r\n                    else {\r\n                        parentStack.nonPositionedInlineLevel.push(stack);\r\n                    }\r\n                }\r\n                parseStackTree(paintContainer, stack, treatAsRealStackingContext ? stack : realStackingContext, listOwnerItems);\r\n            }\r\n            else {\r\n                if (child.styles.isInlineLevel()) {\r\n                    stackingContext.inlineLevel.push(paintContainer);\r\n                }\r\n                else {\r\n                    stackingContext.nonInlineLevel.push(paintContainer);\r\n                }\r\n                parseStackTree(paintContainer, stackingContext, realStackingContext, listOwnerItems);\r\n            }\r\n            if (contains(child.flags, 8 /* IS_LIST_OWNER */)) {\r\n                processListItems(child, listOwnerItems);\r\n            }\r\n        });\r\n    };\r\n    var processListItems = function (owner, elements) {\r\n        var numbering = owner instanceof OLElementContainer ? owner.start : 1;\r\n        var reversed = owner instanceof OLElementContainer ? owner.reversed : false;\r\n        for (var i = 0; i < elements.length; i++) {\r\n            var item = elements[i];\r\n            if (item.container instanceof LIElementContainer &&\r\n                typeof item.container.value === 'number' &&\r\n                item.container.value !== 0) {\r\n                numbering = item.container.value;\r\n            }\r\n            item.listValue = createCounterText(numbering, item.container.styles.listStyleType, true);\r\n            numbering += reversed ? -1 : 1;\r\n        }\r\n    };\r\n    var parseStackingContexts = function (container) {\r\n        var paintContainer = new ElementPaint(container, []);\r\n        var root = new StackingContext(paintContainer);\r\n        var listItems = [];\r\n        parseStackTree(paintContainer, root, root, listItems);\r\n        processListItems(paintContainer.container, listItems);\r\n        return root;\r\n    };\r\n\r\n    var parsePathForBorder = function (curves, borderSide) {\r\n        switch (borderSide) {\r\n            case 0:\r\n                return createPathFromCurves(curves.topLeftBorderBox, curves.topLeftPaddingBox, curves.topRightBorderBox, curves.topRightPaddingBox);\r\n            case 1:\r\n                return createPathFromCurves(curves.topRightBorderBox, curves.topRightPaddingBox, curves.bottomRightBorderBox, curves.bottomRightPaddingBox);\r\n            case 2:\r\n                return createPathFromCurves(curves.bottomRightBorderBox, curves.bottomRightPaddingBox, curves.bottomLeftBorderBox, curves.bottomLeftPaddingBox);\r\n            case 3:\r\n            default:\r\n                return createPathFromCurves(curves.bottomLeftBorderBox, curves.bottomLeftPaddingBox, curves.topLeftBorderBox, curves.topLeftPaddingBox);\r\n        }\r\n    };\r\n    var createPathFromCurves = function (outer1, inner1, outer2, inner2) {\r\n        var path = [];\r\n        if (isBezierCurve(outer1)) {\r\n            path.push(outer1.subdivide(0.5, false));\r\n        }\r\n        else {\r\n            path.push(outer1);\r\n        }\r\n        if (isBezierCurve(outer2)) {\r\n            path.push(outer2.subdivide(0.5, true));\r\n        }\r\n        else {\r\n            path.push(outer2);\r\n        }\r\n        if (isBezierCurve(inner2)) {\r\n            path.push(inner2.subdivide(0.5, true).reverse());\r\n        }\r\n        else {\r\n            path.push(inner2);\r\n        }\r\n        if (isBezierCurve(inner1)) {\r\n            path.push(inner1.subdivide(0.5, false).reverse());\r\n        }\r\n        else {\r\n            path.push(inner1);\r\n        }\r\n        return path;\r\n    };\r\n\r\n    var paddingBox = function (element) {\r\n        var bounds = element.bounds;\r\n        var styles = element.styles;\r\n        return bounds.add(styles.borderLeftWidth, styles.borderTopWidth, -(styles.borderRightWidth + styles.borderLeftWidth), -(styles.borderTopWidth + styles.borderBottomWidth));\r\n    };\r\n    var contentBox = function (element) {\r\n        var styles = element.styles;\r\n        var bounds = element.bounds;\r\n        var paddingLeft = getAbsoluteValue(styles.paddingLeft, bounds.width);\r\n        var paddingRight = getAbsoluteValue(styles.paddingRight, bounds.width);\r\n        var paddingTop = getAbsoluteValue(styles.paddingTop, bounds.width);\r\n        var paddingBottom = getAbsoluteValue(styles.paddingBottom, bounds.width);\r\n        return bounds.add(paddingLeft + styles.borderLeftWidth, paddingTop + styles.borderTopWidth, -(styles.borderRightWidth + styles.borderLeftWidth + paddingLeft + paddingRight), -(styles.borderTopWidth + styles.borderBottomWidth + paddingTop + paddingBottom));\r\n    };\r\n\r\n    var calculateBackgroundPositioningArea = function (backgroundOrigin, element) {\r\n        if (backgroundOrigin === 0 /* BORDER_BOX */) {\r\n            return element.bounds;\r\n        }\r\n        if (backgroundOrigin === 2 /* CONTENT_BOX */) {\r\n            return contentBox(element);\r\n        }\r\n        return paddingBox(element);\r\n    };\r\n    var calculateBackgroundPaintingArea = function (backgroundClip, element) {\r\n        if (backgroundClip === BACKGROUND_CLIP.BORDER_BOX) {\r\n            return element.bounds;\r\n        }\r\n        if (backgroundClip === BACKGROUND_CLIP.CONTENT_BOX) {\r\n            return contentBox(element);\r\n        }\r\n        return paddingBox(element);\r\n    };\r\n    var calculateBackgroundRendering = function (container, index, intrinsicSize) {\r\n        var backgroundPositioningArea = calculateBackgroundPositioningArea(getBackgroundValueForIndex(container.styles.backgroundOrigin, index), container);\r\n        var backgroundPaintingArea = calculateBackgroundPaintingArea(getBackgroundValueForIndex(container.styles.backgroundClip, index), container);\r\n        var backgroundImageSize = calculateBackgroundSize(getBackgroundValueForIndex(container.styles.backgroundSize, index), intrinsicSize, backgroundPositioningArea);\r\n        var sizeWidth = backgroundImageSize[0], sizeHeight = backgroundImageSize[1];\r\n        var position = getAbsoluteValueForTuple(getBackgroundValueForIndex(container.styles.backgroundPosition, index), backgroundPositioningArea.width - sizeWidth, backgroundPositioningArea.height - sizeHeight);\r\n        var path = calculateBackgroundRepeatPath(getBackgroundValueForIndex(container.styles.backgroundRepeat, index), position, backgroundImageSize, backgroundPositioningArea, backgroundPaintingArea);\r\n        var offsetX = Math.round(backgroundPositioningArea.left + position[0]);\r\n        var offsetY = Math.round(backgroundPositioningArea.top + position[1]);\r\n        return [path, offsetX, offsetY, sizeWidth, sizeHeight];\r\n    };\r\n    var isAuto = function (token) { return isIdentToken(token) && token.value === BACKGROUND_SIZE.AUTO; };\r\n    var hasIntrinsicValue = function (value) { return typeof value === 'number'; };\r\n    var calculateBackgroundSize = function (size, _a, bounds) {\r\n        var intrinsicWidth = _a[0], intrinsicHeight = _a[1], intrinsicProportion = _a[2];\r\n        var first = size[0], second = size[1];\r\n        if (isLengthPercentage(first) && second && isLengthPercentage(second)) {\r\n            return [getAbsoluteValue(first, bounds.width), getAbsoluteValue(second, bounds.height)];\r\n        }\r\n        var hasIntrinsicProportion = hasIntrinsicValue(intrinsicProportion);\r\n        if (isIdentToken(first) && (first.value === BACKGROUND_SIZE.CONTAIN || first.value === BACKGROUND_SIZE.COVER)) {\r\n            if (hasIntrinsicValue(intrinsicProportion)) {\r\n                var targetRatio = bounds.width / bounds.height;\r\n                return targetRatio < intrinsicProportion !== (first.value === BACKGROUND_SIZE.COVER)\r\n                    ? [bounds.width, bounds.width / intrinsicProportion]\r\n                    : [bounds.height * intrinsicProportion, bounds.height];\r\n            }\r\n            return [bounds.width, bounds.height];\r\n        }\r\n        var hasIntrinsicWidth = hasIntrinsicValue(intrinsicWidth);\r\n        var hasIntrinsicHeight = hasIntrinsicValue(intrinsicHeight);\r\n        var hasIntrinsicDimensions = hasIntrinsicWidth || hasIntrinsicHeight;\r\n        // If the background-size is auto or auto auto:\r\n        if (isAuto(first) && (!second || isAuto(second))) {\r\n            // If the image has both horizontal and vertical intrinsic dimensions, it's rendered at that size.\r\n            if (hasIntrinsicWidth && hasIntrinsicHeight) {\r\n                return [intrinsicWidth, intrinsicHeight];\r\n            }\r\n            // If the image has no intrinsic dimensions and has no intrinsic proportions,\r\n            // it's rendered at the size of the background positioning area.\r\n            if (!hasIntrinsicProportion && !hasIntrinsicDimensions) {\r\n                return [bounds.width, bounds.height];\r\n            }\r\n            // TODO If the image has no intrinsic dimensions but has intrinsic proportions, it's rendered as if contain had been specified instead.\r\n            // If the image has only one intrinsic dimension and has intrinsic proportions, it's rendered at the size corresponding to that one dimension.\r\n            // The other dimension is computed using the specified dimension and the intrinsic proportions.\r\n            if (hasIntrinsicDimensions && hasIntrinsicProportion) {\r\n                var width_1 = hasIntrinsicWidth\r\n                    ? intrinsicWidth\r\n                    : intrinsicHeight * intrinsicProportion;\r\n                var height_1 = hasIntrinsicHeight\r\n                    ? intrinsicHeight\r\n                    : intrinsicWidth / intrinsicProportion;\r\n                return [width_1, height_1];\r\n            }\r\n            // If the image has only one intrinsic dimension but has no intrinsic proportions,\r\n            // it's rendered using the specified dimension and the other dimension of the background positioning area.\r\n            var width_2 = hasIntrinsicWidth ? intrinsicWidth : bounds.width;\r\n            var height_2 = hasIntrinsicHeight ? intrinsicHeight : bounds.height;\r\n            return [width_2, height_2];\r\n        }\r\n        // If the image has intrinsic proportions, it's stretched to the specified dimension.\r\n        // The unspecified dimension is computed using the specified dimension and the intrinsic proportions.\r\n        if (hasIntrinsicProportion) {\r\n            var width_3 = 0;\r\n            var height_3 = 0;\r\n            if (isLengthPercentage(first)) {\r\n                width_3 = getAbsoluteValue(first, bounds.width);\r\n            }\r\n            else if (isLengthPercentage(second)) {\r\n                height_3 = getAbsoluteValue(second, bounds.height);\r\n            }\r\n            if (isAuto(first)) {\r\n                width_3 = height_3 * intrinsicProportion;\r\n            }\r\n            else if (!second || isAuto(second)) {\r\n                height_3 = width_3 / intrinsicProportion;\r\n            }\r\n            return [width_3, height_3];\r\n        }\r\n        // If the image has no intrinsic proportions, it's stretched to the specified dimension.\r\n        // The unspecified dimension is computed using the image's corresponding intrinsic dimension,\r\n        // if there is one. If there is no such intrinsic dimension,\r\n        // it becomes the corresponding dimension of the background positioning area.\r\n        var width = null;\r\n        var height = null;\r\n        if (isLengthPercentage(first)) {\r\n            width = getAbsoluteValue(first, bounds.width);\r\n        }\r\n        else if (second && isLengthPercentage(second)) {\r\n            height = getAbsoluteValue(second, bounds.height);\r\n        }\r\n        if (width !== null && (!second || isAuto(second))) {\r\n            height =\r\n                hasIntrinsicWidth && hasIntrinsicHeight\r\n                    ? (width / intrinsicWidth) * intrinsicHeight\r\n                    : bounds.height;\r\n        }\r\n        if (height !== null && isAuto(first)) {\r\n            width =\r\n                hasIntrinsicWidth && hasIntrinsicHeight\r\n                    ? (height / intrinsicHeight) * intrinsicWidth\r\n                    : bounds.width;\r\n        }\r\n        if (width !== null && height !== null) {\r\n            return [width, height];\r\n        }\r\n        throw new Error(\"Unable to calculate background-size for element\");\r\n    };\r\n    var getBackgroundValueForIndex = function (values, index) {\r\n        var value = values[index];\r\n        if (typeof value === 'undefined') {\r\n            return values[0];\r\n        }\r\n        return value;\r\n    };\r\n    var calculateBackgroundRepeatPath = function (repeat, _a, _b, backgroundPositioningArea, backgroundPaintingArea) {\r\n        var x = _a[0], y = _a[1];\r\n        var width = _b[0], height = _b[1];\r\n        switch (repeat) {\r\n            case BACKGROUND_REPEAT.REPEAT_X:\r\n                return [\r\n                    new Vector(Math.round(backgroundPositioningArea.left), Math.round(backgroundPositioningArea.top + y)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + backgroundPositioningArea.width), Math.round(backgroundPositioningArea.top + y)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + backgroundPositioningArea.width), Math.round(height + backgroundPositioningArea.top + y)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left), Math.round(height + backgroundPositioningArea.top + y))\r\n                ];\r\n            case BACKGROUND_REPEAT.REPEAT_Y:\r\n                return [\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.top)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.top)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.height + backgroundPositioningArea.top)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.height + backgroundPositioningArea.top))\r\n                ];\r\n            case BACKGROUND_REPEAT.NO_REPEAT:\r\n                return [\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.top + y)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.top + y)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x + width), Math.round(backgroundPositioningArea.top + y + height)),\r\n                    new Vector(Math.round(backgroundPositioningArea.left + x), Math.round(backgroundPositioningArea.top + y + height))\r\n                ];\r\n            default:\r\n                return [\r\n                    new Vector(Math.round(backgroundPaintingArea.left), Math.round(backgroundPaintingArea.top)),\r\n                    new Vector(Math.round(backgroundPaintingArea.left + backgroundPaintingArea.width), Math.round(backgroundPaintingArea.top)),\r\n                    new Vector(Math.round(backgroundPaintingArea.left + backgroundPaintingArea.width), Math.round(backgroundPaintingArea.height + backgroundPaintingArea.top)),\r\n                    new Vector(Math.round(backgroundPaintingArea.left), Math.round(backgroundPaintingArea.height + backgroundPaintingArea.top))\r\n                ];\r\n        }\r\n    };\r\n\r\n    var SMALL_IMAGE = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\r\n\r\n    var SAMPLE_TEXT = 'Hidden Text';\r\n    var FontMetrics = /** @class */ (function () {\r\n        function FontMetrics(document) {\r\n            this._data = {};\r\n            this._document = document;\r\n        }\r\n        FontMetrics.prototype.parseMetrics = function (fontFamily, fontSize) {\r\n            var container = this._document.createElement('div');\r\n            var img = this._document.createElement('img');\r\n            var span = this._document.createElement('span');\r\n            var body = this._document.body;\r\n            container.style.visibility = 'hidden';\r\n            container.style.fontFamily = fontFamily;\r\n            container.style.fontSize = fontSize;\r\n            container.style.margin = '0';\r\n            container.style.padding = '0';\r\n            body.appendChild(container);\r\n            img.src = SMALL_IMAGE;\r\n            img.width = 1;\r\n            img.height = 1;\r\n            img.style.margin = '0';\r\n            img.style.padding = '0';\r\n            img.style.verticalAlign = 'baseline';\r\n            span.style.fontFamily = fontFamily;\r\n            span.style.fontSize = fontSize;\r\n            span.style.margin = '0';\r\n            span.style.padding = '0';\r\n            span.appendChild(this._document.createTextNode(SAMPLE_TEXT));\r\n            container.appendChild(span);\r\n            container.appendChild(img);\r\n            var baseline = img.offsetTop - span.offsetTop + 2;\r\n            container.removeChild(span);\r\n            container.appendChild(this._document.createTextNode(SAMPLE_TEXT));\r\n            container.style.lineHeight = 'normal';\r\n            img.style.verticalAlign = 'super';\r\n            var middle = img.offsetTop - container.offsetTop + 2;\r\n            body.removeChild(container);\r\n            return { baseline: baseline, middle: middle };\r\n        };\r\n        FontMetrics.prototype.getMetrics = function (fontFamily, fontSize) {\r\n            var key = fontFamily + \" \" + fontSize;\r\n            if (typeof this._data[key] === 'undefined') {\r\n                this._data[key] = this.parseMetrics(fontFamily, fontSize);\r\n            }\r\n            return this._data[key];\r\n        };\r\n        return FontMetrics;\r\n    }());\r\n\r\n    var MASK_OFFSET = 10000;\r\n    var CanvasRenderer = /** @class */ (function () {\r\n        function CanvasRenderer(options) {\r\n            this._activeEffects = [];\r\n            this.canvas = options.canvas ? options.canvas : document.createElement('canvas');\r\n            this.ctx = this.canvas.getContext('2d');\r\n            this.options = options;\r\n            if (!options.canvas) {\r\n                this.canvas.width = Math.floor(options.width * options.scale);\r\n                this.canvas.height = Math.floor(options.height * options.scale);\r\n                this.canvas.style.width = options.width + \"px\";\r\n                this.canvas.style.height = options.height + \"px\";\r\n            }\r\n            this.fontMetrics = new FontMetrics(document);\r\n            this.ctx.scale(this.options.scale, this.options.scale);\r\n            this.ctx.translate(-options.x + options.scrollX, -options.y + options.scrollY);\r\n            this.ctx.textBaseline = 'bottom';\r\n            this._activeEffects = [];\r\n            Logger.getInstance(options.id).debug(\"Canvas renderer initialized (\" + options.width + \"x\" + options.height + \" at \" + options.x + \",\" + options.y + \") with scale \" + options.scale);\r\n        }\r\n        CanvasRenderer.prototype.applyEffects = function (effects, target) {\r\n            var _this = this;\r\n            while (this._activeEffects.length) {\r\n                this.popEffect();\r\n            }\r\n            effects.filter(function (effect) { return contains(effect.target, target); }).forEach(function (effect) { return _this.applyEffect(effect); });\r\n        };\r\n        CanvasRenderer.prototype.applyEffect = function (effect) {\r\n            this.ctx.save();\r\n            if (isTransformEffect(effect)) {\r\n                this.ctx.translate(effect.offsetX, effect.offsetY);\r\n                this.ctx.transform(effect.matrix[0], effect.matrix[1], effect.matrix[2], effect.matrix[3], effect.matrix[4], effect.matrix[5]);\r\n                this.ctx.translate(-effect.offsetX, -effect.offsetY);\r\n            }\r\n            if (isClipEffect(effect)) {\r\n                this.path(effect.path);\r\n                this.ctx.clip();\r\n            }\r\n            this._activeEffects.push(effect);\r\n        };\r\n        CanvasRenderer.prototype.popEffect = function () {\r\n            this._activeEffects.pop();\r\n            this.ctx.restore();\r\n        };\r\n        CanvasRenderer.prototype.renderStack = function (stack) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var styles;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            styles = stack.element.container.styles;\r\n                            if (!styles.isVisible()) return [3 /*break*/, 2];\r\n                            this.ctx.globalAlpha = styles.opacity;\r\n                            return [4 /*yield*/, this.renderStackContent(stack)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            _a.label = 2;\r\n                        case 2: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderNode = function (paint) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (!paint.container.styles.isVisible()) return [3 /*break*/, 3];\r\n                            return [4 /*yield*/, this.renderNodeBackgroundAndBorders(paint)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            return [4 /*yield*/, this.renderNodeContent(paint)];\r\n                        case 2:\r\n                            _a.sent();\r\n                            _a.label = 3;\r\n                        case 3: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderTextWithLetterSpacing = function (text, letterSpacing) {\r\n            var _this = this;\r\n            if (letterSpacing === 0) {\r\n                this.ctx.fillText(text.text, text.bounds.left, text.bounds.top + text.bounds.height);\r\n            }\r\n            else {\r\n                var letters = toCodePoints(text.text).map(function (i) { return fromCodePoint(i); });\r\n                letters.reduce(function (left, letter) {\r\n                    _this.ctx.fillText(letter, left, text.bounds.top + text.bounds.height);\r\n                    return left + _this.ctx.measureText(letter).width;\r\n                }, text.bounds.left);\r\n            }\r\n        };\r\n        CanvasRenderer.prototype.createFontStyle = function (styles) {\r\n            var fontVariant = styles.fontVariant\r\n                .filter(function (variant) { return variant === 'normal' || variant === 'small-caps'; })\r\n                .join('');\r\n            var fontFamily = styles.fontFamily.join(', ');\r\n            var fontSize = isDimensionToken(styles.fontSize)\r\n                ? \"\" + styles.fontSize.number + styles.fontSize.unit\r\n                : styles.fontSize.number + \"px\";\r\n            return [\r\n                [styles.fontStyle, fontVariant, styles.fontWeight, fontSize, fontFamily].join(' '),\r\n                fontFamily,\r\n                fontSize\r\n            ];\r\n        };\r\n        CanvasRenderer.prototype.renderTextNode = function (text, styles) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var _a, font, fontFamily, fontSize;\r\n                var _this = this;\r\n                return __generator(this, function (_b) {\r\n                    _a = this.createFontStyle(styles), font = _a[0], fontFamily = _a[1], fontSize = _a[2];\r\n                    this.ctx.font = font;\r\n                    text.textBounds.forEach(function (text) {\r\n                        _this.ctx.fillStyle = asString(styles.color);\r\n                        _this.renderTextWithLetterSpacing(text, styles.letterSpacing);\r\n                        var textShadows = styles.textShadow;\r\n                        if (textShadows.length && text.text.trim().length) {\r\n                            textShadows\r\n                                .slice(0)\r\n                                .reverse()\r\n                                .forEach(function (textShadow) {\r\n                                    _this.ctx.shadowColor = asString(textShadow.color);\r\n                                    _this.ctx.shadowOffsetX = textShadow.offsetX.number * _this.options.scale;\r\n                                    _this.ctx.shadowOffsetY = textShadow.offsetY.number * _this.options.scale;\r\n                                    _this.ctx.shadowBlur = textShadow.blur.number;\r\n                                    _this.ctx.fillText(text.text, text.bounds.left, text.bounds.top + text.bounds.height);\r\n                                });\r\n                            _this.ctx.shadowColor = '';\r\n                            _this.ctx.shadowOffsetX = 0;\r\n                            _this.ctx.shadowOffsetY = 0;\r\n                            _this.ctx.shadowBlur = 0;\r\n                        }\r\n                        if (styles.textDecorationLine.length) {\r\n                            _this.ctx.fillStyle = asString(styles.textDecorationColor || styles.color);\r\n                            styles.textDecorationLine.forEach(function (textDecorationLine) {\r\n                                switch (textDecorationLine) {\r\n                                    case 1 /* UNDERLINE */:\r\n                                        // Draws a line at the baseline of the font\r\n                                        // TODO As some browsers display the line as more than 1px if the font-size is big,\r\n                                        // need to take that into account both in position and size\r\n                                        var baseline = _this.fontMetrics.getMetrics(fontFamily, fontSize).baseline;\r\n                                        _this.ctx.fillRect(text.bounds.left, Math.round(text.bounds.top + baseline), text.bounds.width, 1);\r\n                                        break;\r\n                                    case 2 /* OVERLINE */:\r\n                                        _this.ctx.fillRect(text.bounds.left, Math.round(text.bounds.top), text.bounds.width, 1);\r\n                                        break;\r\n                                    case 3 /* LINE_THROUGH */:\r\n                                        // TODO try and find exact position for line-through\r\n                                        var middle = _this.fontMetrics.getMetrics(fontFamily, fontSize).middle;\r\n                                        _this.ctx.fillRect(text.bounds.left, Math.ceil(text.bounds.top + middle), text.bounds.width, 1);\r\n                                        break;\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                    return [2 /*return*/];\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderReplacedElement = function (container, curves, image) {\r\n            if (image && container.intrinsicWidth > 0 && container.intrinsicHeight > 0) {\r\n                var box = contentBox(container);\r\n                var path = calculatePaddingBoxPath(curves);\r\n                this.path(path);\r\n                this.ctx.save();\r\n                this.ctx.clip();\r\n                this.ctx.drawImage(image, 0, 0, container.intrinsicWidth, container.intrinsicHeight, box.left, box.top, box.width, box.height);\r\n                this.ctx.restore();\r\n            }\r\n        };\r\n        CanvasRenderer.prototype.renderNodeContent = function (paint) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var container, curves, styles, _i, _a, child, image, e_1, image, e_2, iframeRenderer, canvas, size, bounds, x, textBounds, img, image, url, e_3, bounds;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            this.applyEffects(paint.effects, 4 /* CONTENT */);\r\n                            container = paint.container;\r\n                            curves = paint.curves;\r\n                            styles = container.styles;\r\n                            _i = 0, _a = container.textNodes;\r\n                            _b.label = 1;\r\n                        case 1:\r\n                            if (!(_i < _a.length)) return [3 /*break*/, 4];\r\n                            child = _a[_i];\r\n                            return [4 /*yield*/, this.renderTextNode(child, styles)];\r\n                        case 2:\r\n                            _b.sent();\r\n                            _b.label = 3;\r\n                        case 3:\r\n                            _i++;\r\n                            return [3 /*break*/, 1];\r\n                        case 4:\r\n                            if (!(container instanceof ImageElementContainer)) return [3 /*break*/, 8];\r\n                            _b.label = 5;\r\n                        case 5:\r\n                            _b.trys.push([5, 7, , 8]);\r\n                            return [4 /*yield*/, this.options.cache.match(container.src)];\r\n                        case 6:\r\n                            image = _b.sent();\r\n                            this.renderReplacedElement(container, curves, image);\r\n                            return [3 /*break*/, 8];\r\n                        case 7:\r\n                            e_1 = _b.sent();\r\n                            Logger.getInstance(this.options.id).error(\"Error loading image \" + container.src);\r\n                            return [3 /*break*/, 8];\r\n                        case 8:\r\n                            if (container instanceof CanvasElementContainer) {\r\n                                this.renderReplacedElement(container, curves, container.canvas);\r\n                            }\r\n                            if (!(container instanceof SVGElementContainer)) return [3 /*break*/, 12];\r\n                            _b.label = 9;\r\n                        case 9:\r\n                            _b.trys.push([9, 11, , 12]);\r\n                            return [4 /*yield*/, this.options.cache.match(container.svg)];\r\n                        case 10:\r\n                            image = _b.sent();\r\n                            this.renderReplacedElement(container, curves, image);\r\n                            return [3 /*break*/, 12];\r\n                        case 11:\r\n                            e_2 = _b.sent();\r\n                            Logger.getInstance(this.options.id).error(\"Error loading svg \" + container.svg.substring(0, 255));\r\n                            return [3 /*break*/, 12];\r\n                        case 12:\r\n                            if (!(container instanceof IFrameElementContainer && container.tree)) return [3 /*break*/, 14];\r\n                            iframeRenderer = new CanvasRenderer({\r\n                                id: this.options.id,\r\n                                scale: this.options.scale,\r\n                                backgroundColor: container.backgroundColor,\r\n                                x: 0,\r\n                                y: 0,\r\n                                scrollX: 0,\r\n                                scrollY: 0,\r\n                                width: container.width,\r\n                                height: container.height,\r\n                                cache: this.options.cache,\r\n                                windowWidth: container.width,\r\n                                windowHeight: container.height\r\n                            });\r\n                            return [4 /*yield*/, iframeRenderer.render(container.tree)];\r\n                        case 13:\r\n                            canvas = _b.sent();\r\n                            if (container.width && container.height) {\r\n                                this.ctx.drawImage(canvas, 0, 0, container.width, container.height, container.bounds.left, container.bounds.top, container.bounds.width, container.bounds.height);\r\n                            }\r\n                            _b.label = 14;\r\n                        case 14:\r\n                            if (container instanceof InputElementContainer) {\r\n                                size = Math.min(container.bounds.width, container.bounds.height);\r\n                                if (container.type === CHECKBOX) {\r\n                                    if (container.checked) {\r\n                                        this.ctx.save();\r\n                                        this.path([\r\n                                            new Vector(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79),\r\n                                            new Vector(container.bounds.left + size * 0.16, container.bounds.top + size * 0.5549),\r\n                                            new Vector(container.bounds.left + size * 0.27347, container.bounds.top + size * 0.44071),\r\n                                            new Vector(container.bounds.left + size * 0.39694, container.bounds.top + size * 0.5649),\r\n                                            new Vector(container.bounds.left + size * 0.72983, container.bounds.top + size * 0.23),\r\n                                            new Vector(container.bounds.left + size * 0.84, container.bounds.top + size * 0.34085),\r\n                                            new Vector(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79)\r\n                                        ]);\r\n                                        this.ctx.fillStyle = asString(INPUT_COLOR);\r\n                                        this.ctx.fill();\r\n                                        this.ctx.restore();\r\n                                    }\r\n                                }\r\n                                else if (container.type === RADIO) {\r\n                                    if (container.checked) {\r\n                                        this.ctx.save();\r\n                                        this.ctx.beginPath();\r\n                                        this.ctx.arc(container.bounds.left + size / 2, container.bounds.top + size / 2, size / 4, 0, Math.PI * 2, true);\r\n                                        this.ctx.fillStyle = asString(INPUT_COLOR);\r\n                                        this.ctx.fill();\r\n                                        this.ctx.restore();\r\n                                    }\r\n                                }\r\n                            }\r\n                            if (isTextInputElement(container) && container.value.length) {\r\n                                this.ctx.font = this.createFontStyle(styles)[0];\r\n                                this.ctx.fillStyle = asString(styles.color);\r\n                                this.ctx.textBaseline = 'middle';\r\n                                this.ctx.textAlign = canvasTextAlign(container.styles.textAlign);\r\n                                bounds = contentBox(container);\r\n                                x = 0;\r\n                                switch (container.styles.textAlign) {\r\n                                    case TEXT_ALIGN.CENTER:\r\n                                        x += bounds.width / 2;\r\n                                        break;\r\n                                    case TEXT_ALIGN.RIGHT:\r\n                                        x += bounds.width;\r\n                                        break;\r\n                                }\r\n                                textBounds = bounds.add(x, 0, 0, -bounds.height / 2 + 1);\r\n                                this.ctx.save();\r\n                                this.path([\r\n                                    new Vector(bounds.left, bounds.top),\r\n                                    new Vector(bounds.left + bounds.width, bounds.top),\r\n                                    new Vector(bounds.left + bounds.width, bounds.top + bounds.height),\r\n                                    new Vector(bounds.left, bounds.top + bounds.height)\r\n                                ]);\r\n                                this.ctx.clip();\r\n                                this.renderTextWithLetterSpacing(new TextBounds(container.value, textBounds), styles.letterSpacing);\r\n                                this.ctx.restore();\r\n                                this.ctx.textBaseline = 'bottom';\r\n                                this.ctx.textAlign = 'left';\r\n                            }\r\n                            if (!contains(container.styles.display, 2048 /* LIST_ITEM */)) return [3 /*break*/, 20];\r\n                            if (!(container.styles.listStyleImage !== null)) return [3 /*break*/, 19];\r\n                            img = container.styles.listStyleImage;\r\n                            if (!(img.type === CSSImageType.URL)) return [3 /*break*/, 18];\r\n                            image = void 0;\r\n                            url = img.url;\r\n                            _b.label = 15;\r\n                        case 15:\r\n                            _b.trys.push([15, 17, , 18]);\r\n                            return [4 /*yield*/, this.options.cache.match(url)];\r\n                        case 16:\r\n                            image = _b.sent();\r\n                            this.ctx.drawImage(image, container.bounds.left - (image.width + 10), container.bounds.top);\r\n                            return [3 /*break*/, 18];\r\n                        case 17:\r\n                            e_3 = _b.sent();\r\n                            Logger.getInstance(this.options.id).error(\"Error loading list-style-image \" + url);\r\n                            return [3 /*break*/, 18];\r\n                        case 18: return [3 /*break*/, 20];\r\n                        case 19:\r\n                            if (paint.listValue && container.styles.listStyleType !== LIST_STYLE_TYPE.NONE) {\r\n                                this.ctx.font = this.createFontStyle(styles)[0];\r\n                                this.ctx.fillStyle = asString(styles.color);\r\n                                this.ctx.textBaseline = 'middle';\r\n                                this.ctx.textAlign = 'right';\r\n                                bounds = new Bounds(container.bounds.left, container.bounds.top + getAbsoluteValue(container.styles.paddingTop, container.bounds.width), container.bounds.width, computeLineHeight(styles.lineHeight, styles.fontSize.number) / 2 + 1);\r\n                                this.renderTextWithLetterSpacing(new TextBounds(paint.listValue, bounds), styles.letterSpacing);\r\n                                this.ctx.textBaseline = 'bottom';\r\n                                this.ctx.textAlign = 'left';\r\n                            }\r\n                            _b.label = 20;\r\n                        case 20: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderStackContent = function (stack) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var _i, _a, child, _b, _c, child, _d, _e, child, _f, _g, child, _h, _j, child, _k, _l, child, _m, _o, child;\r\n                return __generator(this, function (_p) {\r\n                    switch (_p.label) {\r\n                        case 0:\r\n                            // https://www.w3.org/TR/css-position-3/#painting-order\r\n                            // 1. the background and borders of the element forming the stacking context.\r\n                            return [4 /*yield*/, this.renderNodeBackgroundAndBorders(stack.element)];\r\n                        case 1:\r\n                            // https://www.w3.org/TR/css-position-3/#painting-order\r\n                            // 1. the background and borders of the element forming the stacking context.\r\n                            _p.sent();\r\n                            _i = 0, _a = stack.negativeZIndex;\r\n                            _p.label = 2;\r\n                        case 2:\r\n                            if (!(_i < _a.length)) return [3 /*break*/, 5];\r\n                            child = _a[_i];\r\n                            return [4 /*yield*/, this.renderStack(child)];\r\n                        case 3:\r\n                            _p.sent();\r\n                            _p.label = 4;\r\n                        case 4:\r\n                            _i++;\r\n                            return [3 /*break*/, 2];\r\n                        case 5:\r\n                            // 3. For all its in-flow, non-positioned, block-level descendants in tree order:\r\n                            return [4 /*yield*/, this.renderNodeContent(stack.element)];\r\n                        case 6:\r\n                            // 3. For all its in-flow, non-positioned, block-level descendants in tree order:\r\n                            _p.sent();\r\n                            _b = 0, _c = stack.nonInlineLevel;\r\n                            _p.label = 7;\r\n                        case 7:\r\n                            if (!(_b < _c.length)) return [3 /*break*/, 10];\r\n                            child = _c[_b];\r\n                            return [4 /*yield*/, this.renderNode(child)];\r\n                        case 8:\r\n                            _p.sent();\r\n                            _p.label = 9;\r\n                        case 9:\r\n                            _b++;\r\n                            return [3 /*break*/, 7];\r\n                        case 10:\r\n                            _d = 0, _e = stack.nonPositionedFloats;\r\n                            _p.label = 11;\r\n                        case 11:\r\n                            if (!(_d < _e.length)) return [3 /*break*/, 14];\r\n                            child = _e[_d];\r\n                            return [4 /*yield*/, this.renderStack(child)];\r\n                        case 12:\r\n                            _p.sent();\r\n                            _p.label = 13;\r\n                        case 13:\r\n                            _d++;\r\n                            return [3 /*break*/, 11];\r\n                        case 14:\r\n                            _f = 0, _g = stack.nonPositionedInlineLevel;\r\n                            _p.label = 15;\r\n                        case 15:\r\n                            if (!(_f < _g.length)) return [3 /*break*/, 18];\r\n                            child = _g[_f];\r\n                            return [4 /*yield*/, this.renderStack(child)];\r\n                        case 16:\r\n                            _p.sent();\r\n                            _p.label = 17;\r\n                        case 17:\r\n                            _f++;\r\n                            return [3 /*break*/, 15];\r\n                        case 18:\r\n                            _h = 0, _j = stack.inlineLevel;\r\n                            _p.label = 19;\r\n                        case 19:\r\n                            if (!(_h < _j.length)) return [3 /*break*/, 22];\r\n                            child = _j[_h];\r\n                            return [4 /*yield*/, this.renderNode(child)];\r\n                        case 20:\r\n                            _p.sent();\r\n                            _p.label = 21;\r\n                        case 21:\r\n                            _h++;\r\n                            return [3 /*break*/, 19];\r\n                        case 22:\r\n                            _k = 0, _l = stack.zeroOrAutoZIndexOrTransformedOrOpacity;\r\n                            _p.label = 23;\r\n                        case 23:\r\n                            if (!(_k < _l.length)) return [3 /*break*/, 26];\r\n                            child = _l[_k];\r\n                            return [4 /*yield*/, this.renderStack(child)];\r\n                        case 24:\r\n                            _p.sent();\r\n                            _p.label = 25;\r\n                        case 25:\r\n                            _k++;\r\n                            return [3 /*break*/, 23];\r\n                        case 26:\r\n                            _m = 0, _o = stack.positiveZIndex;\r\n                            _p.label = 27;\r\n                        case 27:\r\n                            if (!(_m < _o.length)) return [3 /*break*/, 30];\r\n                            child = _o[_m];\r\n                            return [4 /*yield*/, this.renderStack(child)];\r\n                        case 28:\r\n                            _p.sent();\r\n                            _p.label = 29;\r\n                        case 29:\r\n                            _m++;\r\n                            return [3 /*break*/, 27];\r\n                        case 30: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.mask = function (paths) {\r\n            this.ctx.beginPath();\r\n            this.ctx.moveTo(0, 0);\r\n            this.ctx.lineTo(this.canvas.width, 0);\r\n            this.ctx.lineTo(this.canvas.width, this.canvas.height);\r\n            this.ctx.lineTo(0, this.canvas.height);\r\n            this.ctx.lineTo(0, 0);\r\n            this.formatPath(paths.slice(0).reverse());\r\n            this.ctx.closePath();\r\n        };\r\n        CanvasRenderer.prototype.path = function (paths) {\r\n            this.ctx.beginPath();\r\n            this.formatPath(paths);\r\n            this.ctx.closePath();\r\n        };\r\n        CanvasRenderer.prototype.formatPath = function (paths) {\r\n            var _this = this;\r\n            paths.forEach(function (point, index) {\r\n                var start = isBezierCurve(point) ? point.start : point;\r\n                if (index === 0) {\r\n                    _this.ctx.moveTo(start.x, start.y);\r\n                }\r\n                else {\r\n                    _this.ctx.lineTo(start.x, start.y);\r\n                }\r\n                if (isBezierCurve(point)) {\r\n                    _this.ctx.bezierCurveTo(point.startControl.x, point.startControl.y, point.endControl.x, point.endControl.y, point.end.x, point.end.y);\r\n                }\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderRepeat = function (path, pattern, offsetX, offsetY) {\r\n            this.path(path);\r\n            this.ctx.fillStyle = pattern;\r\n            this.ctx.translate(offsetX, offsetY);\r\n            this.ctx.fill();\r\n            this.ctx.translate(-offsetX, -offsetY);\r\n        };\r\n        CanvasRenderer.prototype.resizeImage = function (image, width, height) {\r\n            if (image.width === width && image.height === height) {\r\n                return image;\r\n            }\r\n            var canvas = this.canvas.ownerDocument.createElement('canvas');\r\n            canvas.width = width;\r\n            canvas.height = height;\r\n            var ctx = canvas.getContext('2d');\r\n            ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, width, height);\r\n            return canvas;\r\n        };\r\n        CanvasRenderer.prototype.renderBackgroundImage = function (container) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var index, _loop_1, this_1, _i, _a, backgroundImage;\r\n                return __generator(this, function (_b) {\r\n                    switch (_b.label) {\r\n                        case 0:\r\n                            index = container.styles.backgroundImage.length - 1;\r\n                            _loop_1 = function (backgroundImage) {\r\n                                var image, url, e_4, _a, path, x, y, width, height, pattern, _b, path, x, y, width, height, _c, lineLength, x0, x1, y0, y1, canvas, ctx, gradient_1, pattern, _d, path, left, top_1, width, height, position, x, y, _e, rx, ry, radialGradient_1, midX, midY, f, invF;\r\n                                return __generator(this, function (_f) {\r\n                                    switch (_f.label) {\r\n                                        case 0:\r\n                                            if (!(backgroundImage.type === CSSImageType.URL)) return [3 /*break*/, 5];\r\n                                            image = void 0;\r\n                                            url = backgroundImage.url;\r\n                                            _f.label = 1;\r\n                                        case 1:\r\n                                            _f.trys.push([1, 3, , 4]);\r\n                                            return [4 /*yield*/, this_1.options.cache.match(url)];\r\n                                        case 2:\r\n                                            image = _f.sent();\r\n                                            return [3 /*break*/, 4];\r\n                                        case 3:\r\n                                            e_4 = _f.sent();\r\n                                            Logger.getInstance(this_1.options.id).error(\"Error loading background-image \" + url);\r\n                                            return [3 /*break*/, 4];\r\n                                        case 4:\r\n                                            if (image) {\r\n                                                _a = calculateBackgroundRendering(container, index, [\r\n                                                    image.width,\r\n                                                    image.height,\r\n                                                    image.width / image.height\r\n                                                ]), path = _a[0], x = _a[1], y = _a[2], width = _a[3], height = _a[4];\r\n                                                pattern = this_1.ctx.createPattern(this_1.resizeImage(image, width, height), 'repeat');\r\n                                                this_1.renderRepeat(path, pattern, x, y);\r\n                                            }\r\n                                            return [3 /*break*/, 6];\r\n                                        case 5:\r\n                                            if (isLinearGradient(backgroundImage)) {\r\n                                                _b = calculateBackgroundRendering(container, index, [null, null, null]), path = _b[0], x = _b[1], y = _b[2], width = _b[3], height = _b[4];\r\n                                                _c = calculateGradientDirection(backgroundImage.angle, width, height), lineLength = _c[0], x0 = _c[1], x1 = _c[2], y0 = _c[3], y1 = _c[4];\r\n                                                canvas = document.createElement('canvas');\r\n                                                canvas.width = width;\r\n                                                canvas.height = height;\r\n                                                ctx = canvas.getContext('2d');\r\n                                                gradient_1 = ctx.createLinearGradient(x0, y0, x1, y1);\r\n                                                processColorStops(backgroundImage.stops, lineLength).forEach(function (colorStop) {\r\n                                                    return gradient_1.addColorStop(colorStop.stop, asString(colorStop.color));\r\n                                                });\r\n                                                ctx.fillStyle = gradient_1;\r\n                                                ctx.fillRect(0, 0, width, height);\r\n                                                if (width > 0 && height > 0) {\r\n                                                    pattern = this_1.ctx.createPattern(canvas, 'repeat');\r\n                                                    this_1.renderRepeat(path, pattern, x, y);\r\n                                                }\r\n                                            }\r\n                                            else if (isRadialGradient(backgroundImage)) {\r\n                                                _d = calculateBackgroundRendering(container, index, [\r\n                                                    null,\r\n                                                    null,\r\n                                                    null\r\n                                                ]), path = _d[0], left = _d[1], top_1 = _d[2], width = _d[3], height = _d[4];\r\n                                                position = backgroundImage.position.length === 0 ? [FIFTY_PERCENT] : backgroundImage.position;\r\n                                                x = getAbsoluteValue(position[0], width);\r\n                                                y = getAbsoluteValue(position[position.length - 1], height);\r\n                                                _e = calculateRadius(backgroundImage, x, y, width, height), rx = _e[0], ry = _e[1];\r\n                                                if (rx > 0 && rx > 0) {\r\n                                                    radialGradient_1 = this_1.ctx.createRadialGradient(left + x, top_1 + y, 0, left + x, top_1 + y, rx);\r\n                                                    processColorStops(backgroundImage.stops, rx * 2).forEach(function (colorStop) {\r\n                                                        return radialGradient_1.addColorStop(colorStop.stop, asString(colorStop.color));\r\n                                                    });\r\n                                                    this_1.path(path);\r\n                                                    this_1.ctx.fillStyle = radialGradient_1;\r\n                                                    if (rx !== ry) {\r\n                                                        midX = container.bounds.left + 0.5 * container.bounds.width;\r\n                                                        midY = container.bounds.top + 0.5 * container.bounds.height;\r\n                                                        f = ry / rx;\r\n                                                        invF = 1 / f;\r\n                                                        this_1.ctx.save();\r\n                                                        this_1.ctx.translate(midX, midY);\r\n                                                        this_1.ctx.transform(1, 0, 0, f, 0, 0);\r\n                                                        this_1.ctx.translate(-midX, -midY);\r\n                                                        this_1.ctx.fillRect(left, invF * (top_1 - midY) + midY, width, height * invF);\r\n                                                        this_1.ctx.restore();\r\n                                                    }\r\n                                                    else {\r\n                                                        this_1.ctx.fill();\r\n                                                    }\r\n                                                }\r\n                                            }\r\n                                            _f.label = 6;\r\n                                        case 6:\r\n                                            index--;\r\n                                            return [2 /*return*/];\r\n                                    }\r\n                                });\r\n                            };\r\n                            this_1 = this;\r\n                            _i = 0, _a = container.styles.backgroundImage.slice(0).reverse();\r\n                            _b.label = 1;\r\n                        case 1:\r\n                            if (!(_i < _a.length)) return [3 /*break*/, 4];\r\n                            backgroundImage = _a[_i];\r\n                            return [5 /*yield**/, _loop_1(backgroundImage)];\r\n                        case 2:\r\n                            _b.sent();\r\n                            _b.label = 3;\r\n                        case 3:\r\n                            _i++;\r\n                            return [3 /*break*/, 1];\r\n                        case 4: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderBorder = function (color, side, curvePoints) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    this.path(parsePathForBorder(curvePoints, side));\r\n                    this.ctx.fillStyle = asString(color);\r\n                    this.ctx.fill();\r\n                    return [2 /*return*/];\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.renderNodeBackgroundAndBorders = function (paint) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var styles, hasBackground, borders, backgroundPaintingArea, side, _i, borders_1, border;\r\n                var _this = this;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            this.applyEffects(paint.effects, 2 /* BACKGROUND_BORDERS */);\r\n                            styles = paint.container.styles;\r\n                            hasBackground = !isTransparent(styles.backgroundColor) || styles.backgroundImage.length;\r\n                            borders = [\r\n                                { style: styles.borderTopStyle, color: styles.borderTopColor },\r\n                                { style: styles.borderRightStyle, color: styles.borderRightColor },\r\n                                { style: styles.borderBottomStyle, color: styles.borderBottomColor },\r\n                                { style: styles.borderLeftStyle, color: styles.borderLeftColor }\r\n                            ];\r\n                            backgroundPaintingArea = calculateBackgroundCurvedPaintingArea(getBackgroundValueForIndex(styles.backgroundClip, 0), paint.curves);\r\n                            if (!(hasBackground || styles.boxShadow.length)) return [3 /*break*/, 2];\r\n                            this.ctx.save();\r\n                            this.path(backgroundPaintingArea);\r\n                            this.ctx.clip();\r\n                            if (!isTransparent(styles.backgroundColor)) {\r\n                                this.ctx.fillStyle = asString(styles.backgroundColor);\r\n                                this.ctx.fill();\r\n                            }\r\n                            return [4 /*yield*/, this.renderBackgroundImage(paint.container)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            this.ctx.restore();\r\n                            styles.boxShadow\r\n                                .slice(0)\r\n                                .reverse()\r\n                                .forEach(function (shadow) {\r\n                                    _this.ctx.save();\r\n                                    var borderBoxArea = calculateBorderBoxPath(paint.curves);\r\n                                    var maskOffset = shadow.inset ? 0 : MASK_OFFSET;\r\n                                    var shadowPaintingArea = transformPath(borderBoxArea, -maskOffset + (shadow.inset ? 1 : -1) * shadow.spread.number, (shadow.inset ? 1 : -1) * shadow.spread.number, shadow.spread.number * (shadow.inset ? -2 : 2), shadow.spread.number * (shadow.inset ? -2 : 2));\r\n                                    if (shadow.inset) {\r\n                                        _this.path(borderBoxArea);\r\n                                        _this.ctx.clip();\r\n                                        _this.mask(shadowPaintingArea);\r\n                                    }\r\n                                    else {\r\n                                        _this.mask(borderBoxArea);\r\n                                        _this.ctx.clip();\r\n                                        _this.path(shadowPaintingArea);\r\n                                    }\r\n                                    _this.ctx.shadowOffsetX = shadow.offsetX.number + maskOffset;\r\n                                    _this.ctx.shadowOffsetY = shadow.offsetY.number;\r\n                                    _this.ctx.shadowColor = asString(shadow.color);\r\n                                    _this.ctx.shadowBlur = shadow.blur.number;\r\n                                    _this.ctx.fillStyle = shadow.inset ? asString(shadow.color) : 'rgba(0,0,0,1)';\r\n                                    _this.ctx.fill();\r\n                                    _this.ctx.restore();\r\n                                });\r\n                            _a.label = 2;\r\n                        case 2:\r\n                            side = 0;\r\n                            _i = 0, borders_1 = borders;\r\n                            _a.label = 3;\r\n                        case 3:\r\n                            if (!(_i < borders_1.length)) return [3 /*break*/, 7];\r\n                            border = borders_1[_i];\r\n                            if (!(border.style !== BORDER_STYLE.NONE && !isTransparent(border.color))) return [3 /*break*/, 5];\r\n                            return [4 /*yield*/, this.renderBorder(border.color, side, paint.curves)];\r\n                        case 4:\r\n                            _a.sent();\r\n                            _a.label = 5;\r\n                        case 5:\r\n                            side++;\r\n                            _a.label = 6;\r\n                        case 6:\r\n                            _i++;\r\n                            return [3 /*break*/, 3];\r\n                        case 7: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        CanvasRenderer.prototype.render = function (element) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var stack;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            if (this.options.backgroundColor) {\r\n                                this.ctx.fillStyle = asString(this.options.backgroundColor);\r\n                                this.ctx.fillRect(this.options.x - this.options.scrollX, this.options.y - this.options.scrollY, this.options.width, this.options.height);\r\n                            }\r\n                            stack = parseStackingContexts(element);\r\n                            return [4 /*yield*/, this.renderStack(stack)];\r\n                        case 1:\r\n                            _a.sent();\r\n                            this.applyEffects([], 2 /* BACKGROUND_BORDERS */);\r\n                            return [2 /*return*/, this.canvas];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        return CanvasRenderer;\r\n    }());\r\n    var isTextInputElement = function (container) {\r\n        if (container instanceof TextareaElementContainer) {\r\n            return true;\r\n        }\r\n        else if (container instanceof SelectElementContainer) {\r\n            return true;\r\n        }\r\n        else if (container instanceof InputElementContainer && container.type !== RADIO && container.type !== CHECKBOX) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    var calculateBackgroundCurvedPaintingArea = function (clip, curves) {\r\n        switch (clip) {\r\n            case BACKGROUND_CLIP.BORDER_BOX:\r\n                return calculateBorderBoxPath(curves);\r\n            case BACKGROUND_CLIP.CONTENT_BOX:\r\n                return calculateContentBoxPath(curves);\r\n            case BACKGROUND_CLIP.PADDING_BOX:\r\n            default:\r\n                return calculatePaddingBoxPath(curves);\r\n        }\r\n    };\r\n    var canvasTextAlign = function (textAlign) {\r\n        switch (textAlign) {\r\n            case TEXT_ALIGN.CENTER:\r\n                return 'center';\r\n            case TEXT_ALIGN.RIGHT:\r\n                return 'right';\r\n            case TEXT_ALIGN.LEFT:\r\n            default:\r\n                return 'left';\r\n        }\r\n    };\r\n\r\n    var ForeignObjectRenderer = /** @class */ (function () {\r\n        function ForeignObjectRenderer(options) {\r\n            this.canvas = options.canvas ? options.canvas : document.createElement('canvas');\r\n            this.ctx = this.canvas.getContext('2d');\r\n            this.options = options;\r\n            this.canvas.width = Math.floor(options.width * options.scale);\r\n            this.canvas.height = Math.floor(options.height * options.scale);\r\n            this.canvas.style.width = options.width + \"px\";\r\n            this.canvas.style.height = options.height + \"px\";\r\n            this.ctx.scale(this.options.scale, this.options.scale);\r\n            this.ctx.translate(-options.x + options.scrollX, -options.y + options.scrollY);\r\n            Logger.getInstance(options.id).debug(\"EXPERIMENTAL ForeignObject renderer initialized (\" + options.width + \"x\" + options.height + \" at \" + options.x + \",\" + options.y + \") with scale \" + options.scale);\r\n        }\r\n        ForeignObjectRenderer.prototype.render = function (element) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var svg, img;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            svg = createForeignObjectSVG(Math.max(this.options.windowWidth, this.options.width) * this.options.scale, Math.max(this.options.windowHeight, this.options.height) * this.options.scale, this.options.scrollX * this.options.scale, this.options.scrollY * this.options.scale, element);\r\n                            return [4 /*yield*/, loadSerializedSVG$1(svg)];\r\n                        case 1:\r\n                            img = _a.sent();\r\n                            if (this.options.backgroundColor) {\r\n                                this.ctx.fillStyle = asString(this.options.backgroundColor);\r\n                                this.ctx.fillRect(0, 0, this.options.width * this.options.scale, this.options.height * this.options.scale);\r\n                            }\r\n                            this.ctx.drawImage(img, -this.options.x * this.options.scale, -this.options.y * this.options.scale);\r\n                            return [2 /*return*/, this.canvas];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        return ForeignObjectRenderer;\r\n    }());\r\n    var loadSerializedSVG$1 = function (svg) {\r\n        return new Promise(function (resolve, reject) {\r\n            var img = new Image();\r\n            img.onload = function () {\r\n                resolve(img);\r\n            };\r\n            img.onerror = reject;\r\n            img.src = \"data:image/svg+xml;charset=utf-8,\" + encodeURIComponent(new XMLSerializer().serializeToString(svg));\r\n        });\r\n    };\r\n\r\n    var _this = undefined;\r\n    var parseColor$1 = function (value) { return color.parse(Parser.create(value).parseComponentValue()); };\r\n    var html2canvas = function (element, options) {\r\n        if (options === void 0) { options = {}; }\r\n        return renderElement(element, options);\r\n    };\r\n    CacheStorage.setContext(window);\r\n    var renderElement = function (element, opts) {\r\n        return __awaiter(_this, void 0, void 0, function () {\r\n            var ownerDocument, defaultView, instanceName, _a, width, height, left, top, defaultResourceOptions, resourceOptions, defaultOptions, options, windowBounds, documentCloner, clonedElement, container, documentBackgroundColor, bodyBackgroundColor, bgColor, defaultBackgroundColor, backgroundColor, renderOptions, canvas, renderer, root, renderer;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        ownerDocument = element.ownerDocument;\r\n                        if (!ownerDocument) {\r\n                            throw new Error(\"Element is not attached to a Document\");\r\n                        }\r\n                        defaultView = ownerDocument.defaultView;\r\n                        if (!defaultView) {\r\n                            throw new Error(\"Document is not attached to a Window\");\r\n                        }\r\n                        instanceName = (Math.round(Math.random() * 1000) + Date.now()).toString(16);\r\n                        _a = isBodyElement(element) || isHTMLElement(element) ? parseDocumentSize(ownerDocument) : parseBounds(element), width = _a.width, height = _a.height, left = _a.left, top = _a.top;\r\n                        defaultResourceOptions = {\r\n                            allowTaint: false,\r\n                            imageTimeout: 15000,\r\n                            proxy: undefined,\r\n                            useCORS: false\r\n                        };\r\n                        resourceOptions = __assign({}, defaultResourceOptions, opts);\r\n                        defaultOptions = {\r\n                            backgroundColor: '#ffffff',\r\n                            cache: opts.cache ? opts.cache : CacheStorage.create(instanceName, resourceOptions),\r\n                            logging: true,\r\n                            removeContainer: true,\r\n                            foreignObjectRendering: false,\r\n                            scale: defaultView.devicePixelRatio || 1,\r\n                            windowWidth: defaultView.innerWidth,\r\n                            windowHeight: defaultView.innerHeight,\r\n                            scrollX: defaultView.pageXOffset,\r\n                            scrollY: defaultView.pageYOffset,\r\n                            x: left,\r\n                            y: top,\r\n                            width: Math.ceil(width),\r\n                            height: Math.ceil(height),\r\n                            id: instanceName\r\n                        };\r\n                        options = __assign({}, defaultOptions, resourceOptions, opts);\r\n                        windowBounds = new Bounds(options.scrollX, options.scrollY, options.windowWidth, options.windowHeight);\r\n                        Logger.create({ id: instanceName, enabled: options.logging });\r\n                        Logger.getInstance(instanceName).debug(\"Starting document clone\");\r\n                        documentCloner = new DocumentCloner(element, {\r\n                            id: instanceName,\r\n                            onclone: options.onclone,\r\n                            ignoreElements: options.ignoreElements,\r\n                            inlineImages: options.foreignObjectRendering,\r\n                            copyStyles: options.foreignObjectRendering\r\n                        });\r\n                        clonedElement = documentCloner.clonedReferenceElement;\r\n                        if (!clonedElement) {\r\n                            return [2 /*return*/, Promise.reject(\"Unable to find element in cloned iframe\")];\r\n                        }\r\n                        return [4 /*yield*/, documentCloner.toIFrame(ownerDocument, windowBounds)];\r\n                    case 1:\r\n                        container = _b.sent();\r\n                        documentBackgroundColor = ownerDocument.documentElement\r\n                            ? parseColor$1(getComputedStyle(ownerDocument.documentElement).backgroundColor)\r\n                            : COLORS.TRANSPARENT;\r\n                        bodyBackgroundColor = ownerDocument.body\r\n                            ? parseColor$1(getComputedStyle(ownerDocument.body).backgroundColor)\r\n                            : COLORS.TRANSPARENT;\r\n                        bgColor = opts.backgroundColor;\r\n                        defaultBackgroundColor = typeof bgColor === 'string' ? parseColor$1(bgColor) : bgColor === null ? COLORS.TRANSPARENT : 0xffffffff;\r\n                        backgroundColor = element === ownerDocument.documentElement\r\n                            ? isTransparent(documentBackgroundColor)\r\n                                ? isTransparent(bodyBackgroundColor)\r\n                                    ? defaultBackgroundColor\r\n                                    : bodyBackgroundColor\r\n                                : documentBackgroundColor\r\n                            : defaultBackgroundColor;\r\n                        renderOptions = {\r\n                            id: instanceName,\r\n                            cache: options.cache,\r\n                            canvas: options.canvas,\r\n                            backgroundColor: backgroundColor,\r\n                            scale: options.scale,\r\n                            x: options.x,\r\n                            y: options.y,\r\n                            scrollX: options.scrollX,\r\n                            scrollY: options.scrollY,\r\n                            width: options.width,\r\n                            height: options.height,\r\n                            windowWidth: options.windowWidth,\r\n                            windowHeight: options.windowHeight\r\n                        };\r\n                        if (!options.foreignObjectRendering) return [3 /*break*/, 3];\r\n                        Logger.getInstance(instanceName).debug(\"Document cloned, using foreign object rendering\");\r\n                        renderer = new ForeignObjectRenderer(renderOptions);\r\n                        return [4 /*yield*/, renderer.render(clonedElement)];\r\n                    case 2:\r\n                        canvas = _b.sent();\r\n                        return [3 /*break*/, 5];\r\n                    case 3:\r\n                        Logger.getInstance(instanceName).debug(\"Document cloned, using computed rendering\");\r\n                        CacheStorage.attachInstance(options.cache);\r\n                        Logger.getInstance(instanceName).debug(\"Starting DOM parsing\");\r\n                        root = parseTree(clonedElement);\r\n                        CacheStorage.detachInstance();\r\n                        if (backgroundColor === root.styles.backgroundColor) {\r\n                            root.styles.backgroundColor = COLORS.TRANSPARENT;\r\n                        }\r\n                        Logger.getInstance(instanceName).debug(\"Starting renderer\");\r\n                        renderer = new CanvasRenderer(renderOptions);\r\n                        return [4 /*yield*/, renderer.render(root)];\r\n                    case 4:\r\n                        canvas = _b.sent();\r\n                        _b.label = 5;\r\n                    case 5:\r\n                        if (options.removeContainer === true) {\r\n                            if (!DocumentCloner.destroy(container)) {\r\n                                Logger.getInstance(instanceName).error(\"Cannot detach cloned iframe as it is not in the DOM anymore\");\r\n                            }\r\n                        }\r\n                        Logger.getInstance(instanceName).debug(\"Finished rendering\");\r\n                        Logger.destroy(instanceName);\r\n                        CacheStorage.destroy(instanceName);\r\n                        return [2 /*return*/, canvas];\r\n                }\r\n            });\r\n        });\r\n    };\r\n\r\n    return html2canvas;\r\n\r\n}));\r\n//# sourceMappingURL=html2canvas.js.map\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zY3JpcHRzL2FwcC90aGlyZHBhcnR5L2h0bWwyY2FudmFzL2h0bWwyY2FudmFzLmpzPzZlNTUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUksS0FBNEQ7QUFDaEUsUUFBUSxTQUM2RDtBQUNyRSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBLG1FQUFtRTtBQUNuRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjLGdCQUFnQixzQ0FBc0MsaUJBQWlCLEVBQUU7QUFDdkYsNkJBQTZCLHVEQUF1RDtBQUNwRjtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9EQUFvRCxPQUFPO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1Q0FBdUMsTUFBTSw2QkFBNkIsRUFBRSxZQUFZLFdBQVcsRUFBRTtBQUNyRyxzQ0FBc0MsTUFBTSxpQ0FBaUMsRUFBRSxZQUFZLFdBQVcsRUFBRTtBQUN4RyxtQ0FBbUMsaUVBQWlFLHVCQUF1QixFQUFFLDRCQUE0QjtBQUN6SjtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBLGlCQUFpQiw4QkFBOEIsMEJBQTBCLGFBQWEsRUFBRSxxQkFBcUI7QUFDN0csb0JBQW9CLHFEQUFxRCxxRUFBcUUsYUFBYSxFQUFFO0FBQzdKLDBCQUEwQixzQkFBc0IscUJBQXFCLEdBQUc7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDLHNDQUFzQyxTQUFTO0FBQy9DLHNDQUFzQyxXQUFXLFVBQVU7QUFDM0QsNkNBQTZDLGNBQWM7QUFDM0Q7QUFDQSxpSEFBaUgsT0FBTyxVQUFVO0FBQ2xJLG9GQUFvRixpQkFBaUIsT0FBTztBQUM1Ryw0REFB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsd0RBQXdELEVBQUU7QUFDbkg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0Esd0JBQXdCO0FBQ3hCLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssOEJBQThCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxpREFBaUQ7QUFDekYscURBQXFELG1EQUFtRDtBQUN4RztBQUNBO0FBQ0E7QUFDQSxrREFBa0QseUNBQXlDO0FBQzNGLGtEQUFrRCx5Q0FBeUM7QUFDM0YseUNBQXlDLHFFQUFxRTtBQUM5RyxvREFBb0QsNkJBQTZCO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCLDhCQUE4QjtBQUM5Qiw4QkFBOEI7QUFDOUIsd0JBQXdCO0FBQ3hCLDRCQUE0QjtBQUM1QiwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDLHlCQUF5QjtBQUN6Qiw0QkFBNEI7QUFDNUIscUJBQXFCO0FBQ3JCLHFCQUFxQjtBQUNyQix1QkFBdUI7QUFDdkIsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QixxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0dBQWdHLGlEQUFpRCxFQUFFO0FBQ25KLDRGQUE0Riw4Q0FBOEMsRUFBRTtBQUM1SSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCw2Q0FBNkMsaURBQWlEO0FBQzlGLDBDQUEwQyw4Q0FBOEM7QUFDeEYseUNBQXlDLDZDQUE2QztBQUN0RiwwQ0FBMEMsOENBQThDO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxrREFBa0Q7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsb0JBQW9CLEVBQUU7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsOEJBQThCOztBQUU1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLDZCQUE2QjtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssc0VBQXNFOztBQUUzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSywwQ0FBMEM7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsNkJBQTZCLElBQUk7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGtCQUFrQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix5QkFBeUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsZ0JBQWdCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsaUNBQWlDO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsZ0JBQWdCO0FBQ2hCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyx1REFBdUQ7QUFDdkYsd0NBQXdDLDhEQUE4RDtBQUN0RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLGdDQUFnQyxjQUFjLEVBQUU7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MscUJBQXFCO0FBQzNEO0FBQ0EsMENBQTBDO0FBQzFDLFNB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssc0JBQXNCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssZ0NBQWdDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxrREFBa0Q7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDBDQUEwQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFD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QTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsdUNBQXVDO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHFCQUFxQjtBQUNoRDtBQUNBO0FBQ0EsNkJBQTZCLCtCQUErQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLG1CQUFtQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRkFBa0YseUJBQXlCLEVBQUU7QUFDN0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMLHVDQUF1QyxnRUFBZ0U7QUFDdkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsZ0VBQWdFLFdBQVc7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELHFEQUFxRDtBQUN6RyxzQ0FBc0MseUNBQXlDO0FBQy9FLHlDQUF5Qyw0Q0FBNEM7QUFDckY7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDhCQUE4QjtBQUNyRSx1Q0FBdUMsOEJBQThCO0FBQ3JFLDBDQUEwQyxpQ0FBaUM7QUFDM0UseUNBQXlDLGdDQUFnQztBQUN6RSx3Q0FBd0MsK0JBQStCO0FBQ3ZFLHlDQUF5QyxnQ0FBZ0M7QUFDekUsMkNBQTJDLGtDQUFrQztBQUM3RSwwQ0FBMEMsK0JBQStCO0FBQ3pFLDJDQUEyQyxrQ0FBa0M7QUFDN0UsMENBQTBDLGlDQUFpQztBQUMzRSwyQ0FBMkMsa0NBQWtDO0FBQzdFLDZDQUE2QyxvQ0FBb0M7QUFDakYsMkNBQTJDLGtDQUFrQzs7QUFFN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxzQ0FBc0MsRUFBRTtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxlQUFlO0FBQy9DO0FBQ0EseUhBQXlILDhEQUE4RCxFQUFFO0FBQ3pMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsdUJBQXVCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCwrQkFBK0IsRUFBRTtBQUM1RiwyREFBMkQsZUFBZSxFQUFFO0FBQzVFO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLGNBQWM7O0FBRWpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCx1REFBdUQsRUFBRTtBQUNoSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyw4Q0FBOEM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxRQUFRO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsK0JBQStCLCtCQUErQixHQUFHO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDRCQUE0QjtBQUNqQztBQUNBO0FBQ0EsMkNBQTJDLG1CQUFtQixFQUFFO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wseUNBQXlDLDRDQUE0Qzs7QUFFckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLHdCQUF3QjtBQUM3QjtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLDRCQUE0QjtBQUM1Qix3QkFBd0I7QUFDeEIsd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMscUNBQXFDOztBQUUvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixxQkFBcUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLG9FQUFvRTtBQUN2Ryw4Q0FBOEMsa0NBQWtDO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0NBQXNDOztBQUV0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLHdDQUF3QyxFQUFFLDZCQUE2QixrQ0FBa0MsRUFBRTtBQUN6SjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSx5QkFBeUIsRUFBRTtBQUNuRztBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMseURBQXlELEVBQUU7QUFDdkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyw2REFBNkQ7QUFDOUYsaUNBQWlDLGlFQUFpRTtBQUNsRyxpQ0FBaUMsbUVBQW1FO0FBQ3BHLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDLFNBQVM7QUFDVDs7QUFFQTtBQUNBLHlDQUF5QyxnRUFBZ0U7QUFDekc7QUFDQSxpQ0FBaUMsY0FBYztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsdUNBQXVDLDZDQUE2QztBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7O0FBRUE7O0FBRUEsQ0FBQztBQUNEIiwiZmlsZSI6Ii4vc2NyaXB0cy9hcHAvdGhpcmRwYXJ0eS9odG1sMmNhbnZhcy9odG1sMmNhbnZhcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxyXG4gKiBodG1sMmNhbnZhcyAxLjAuMC1yYy41IDxodHRwczovL2h0bWwyY2FudmFzLmhlcnR6ZW4uY29tPlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTkgTmlrbGFzIHZvbiBIZXJ0emVuIDxodHRwczovL2hlcnR6ZW4uY29tPlxyXG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgTGljZW5zZVxyXG4gKi9cclxuXHJcbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XHJcbiAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XHJcbiAgICAgICAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcclxuICAgICAgICAgICAgKGdsb2JhbCA9IGdsb2JhbCB8fCBzZWxmLCBnbG9iYWwuaHRtbDJjYW52YXMgPSBmYWN0b3J5KCkpO1xyXG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICAvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gICAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbiAgICB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG4gICAgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcbiAgICBUSElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbiAgICBLSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbiAgICBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG4gICAgTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcbiAgICBTZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuICAgIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICAgICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbiAgICAvKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24gKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgICAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIEJvdW5kcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBCb3VuZHMoeCwgeSwgdywgaCkge1xyXG4gICAgICAgICAgICB0aGlzLmxlZnQgPSB4O1xyXG4gICAgICAgICAgICB0aGlzLnRvcCA9IHk7XHJcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB3O1xyXG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHgsIHksIHcsIGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBCb3VuZHModGhpcy5sZWZ0ICsgeCwgdGhpcy50b3AgKyB5LCB0aGlzLndpZHRoICsgdywgdGhpcy5oZWlnaHQgKyBoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEJvdW5kcy5mcm9tQ2xpZW50UmVjdCA9IGZ1bmN0aW9uIChjbGllbnRSZWN0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQm91bmRzKGNsaWVudFJlY3QubGVmdCwgY2xpZW50UmVjdC50b3AsIGNsaWVudFJlY3Qud2lkdGgsIGNsaWVudFJlY3QuaGVpZ2h0KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBCb3VuZHM7XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIHBhcnNlQm91bmRzID0gZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICByZXR1cm4gQm91bmRzLmZyb21DbGllbnRSZWN0KG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xyXG4gICAgfTtcclxuICAgIHZhciBwYXJzZURvY3VtZW50U2l6ZSA9IGZ1bmN0aW9uIChkb2N1bWVudCkge1xyXG4gICAgICAgIHZhciBib2R5ID0gZG9jdW1lbnQuYm9keTtcclxuICAgICAgICB2YXIgZG9jdW1lbnRFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xyXG4gICAgICAgIGlmICghYm9keSB8fCAhZG9jdW1lbnRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBnZXQgZG9jdW1lbnQgc2l6ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5tYXgoTWF0aC5tYXgoYm9keS5zY3JvbGxXaWR0aCwgZG9jdW1lbnRFbGVtZW50LnNjcm9sbFdpZHRoKSwgTWF0aC5tYXgoYm9keS5vZmZzZXRXaWR0aCwgZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoKSwgTWF0aC5tYXgoYm9keS5jbGllbnRXaWR0aCwgZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKSk7XHJcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGgubWF4KE1hdGgubWF4KGJvZHkuc2Nyb2xsSGVpZ2h0LCBkb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0KSwgTWF0aC5tYXgoYm9keS5vZmZzZXRIZWlnaHQsIGRvY3VtZW50RWxlbWVudC5vZmZzZXRIZWlnaHQpLCBNYXRoLm1heChib2R5LmNsaWVudEhlaWdodCwgZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkpO1xyXG4gICAgICAgIHJldHVybiBuZXcgQm91bmRzKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKlxyXG4gICAgICogY3NzLWxpbmUtYnJlYWsgMS4xLjEgPGh0dHBzOi8vZ2l0aHViLmNvbS9uaWtsYXN2aC9jc3MtbGluZS1icmVhayNyZWFkbWU+XHJcbiAgICAgKiBDb3B5cmlnaHQgKGMpIDIwMTkgTmlrbGFzIHZvbiBIZXJ0emVuIDxodHRwczovL2hlcnR6ZW4uY29tPlxyXG4gICAgICogUmVsZWFzZWQgdW5kZXIgTUlUIExpY2Vuc2VcclxuICAgICAqL1xyXG4gICAgdmFyIHRvQ29kZVBvaW50cyA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgICAgICB2YXIgY29kZVBvaW50cyA9IFtdO1xyXG4gICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICB2YXIgbGVuZ3RoID0gc3RyLmxlbmd0aDtcclxuICAgICAgICB3aGlsZSAoaSA8IGxlbmd0aCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBzdHIuY2hhckNvZGVBdChpKyspO1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPj0gMHhkODAwICYmIHZhbHVlIDw9IDB4ZGJmZiAmJiBpIDwgbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXh0cmEgPSBzdHIuY2hhckNvZGVBdChpKyspO1xyXG4gICAgICAgICAgICAgICAgaWYgKChleHRyYSAmIDB4ZmMwMCkgPT09IDB4ZGMwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvZGVQb2ludHMucHVzaCgoKHZhbHVlICYgMHgzZmYpIDw8IDEwKSArIChleHRyYSAmIDB4M2ZmKSArIDB4MTAwMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29kZVBvaW50cy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb2RlUG9pbnRzLnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb2RlUG9pbnRzO1xyXG4gICAgfTtcclxuICAgIHZhciBmcm9tQ29kZVBvaW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjb2RlUG9pbnRzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgY29kZVBvaW50c1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoU3RyaW5nLmZyb21Db2RlUG9pbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ29kZVBvaW50LmFwcGx5KFN0cmluZywgY29kZVBvaW50cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBsZW5ndGggPSBjb2RlUG9pbnRzLmxlbmd0aDtcclxuICAgICAgICBpZiAoIWxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjb2RlVW5pdHMgPSBbXTtcclxuICAgICAgICB2YXIgaW5kZXggPSAtMTtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gJyc7XHJcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIGNvZGVQb2ludCA9IGNvZGVQb2ludHNbaW5kZXhdO1xyXG4gICAgICAgICAgICBpZiAoY29kZVBvaW50IDw9IDB4ZmZmZikge1xyXG4gICAgICAgICAgICAgICAgY29kZVVuaXRzLnB1c2goY29kZVBvaW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwO1xyXG4gICAgICAgICAgICAgICAgY29kZVVuaXRzLnB1c2goKGNvZGVQb2ludCA+PiAxMCkgKyAweGQ4MDAsIGNvZGVQb2ludCAlIDB4NDAwICsgMHhkYzAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaW5kZXggKyAxID09PSBsZW5ndGggfHwgY29kZVVuaXRzLmxlbmd0aCA+IDB4NDAwMCkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjb2RlVW5pdHMpO1xyXG4gICAgICAgICAgICAgICAgY29kZVVuaXRzLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcbiAgICB2YXIgY2hhcnMgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7XHJcbiAgICAvLyBVc2UgYSBsb29rdXAgdGFibGUgdG8gZmluZCB0aGUgaW5kZXguXHJcbiAgICB2YXIgbG9va3VwID0gdHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnID8gW10gOiBuZXcgVWludDhBcnJheSgyNTYpO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGxvb2t1cFtjaGFycy5jaGFyQ29kZUF0KGkpXSA9IGk7XHJcbiAgICB9XHJcbiAgICB2YXIgZGVjb2RlID0gZnVuY3Rpb24gKGJhc2U2NCkge1xyXG4gICAgICAgIHZhciBidWZmZXJMZW5ndGggPSBiYXNlNjQubGVuZ3RoICogMC43NSwgbGVuID0gYmFzZTY0Lmxlbmd0aCwgaSwgcCA9IDAsIGVuY29kZWQxLCBlbmNvZGVkMiwgZW5jb2RlZDMsIGVuY29kZWQ0O1xyXG4gICAgICAgIGlmIChiYXNlNjRbYmFzZTY0Lmxlbmd0aCAtIDFdID09PSAnPScpIHtcclxuICAgICAgICAgICAgYnVmZmVyTGVuZ3RoLS07XHJcbiAgICAgICAgICAgIGlmIChiYXNlNjRbYmFzZTY0Lmxlbmd0aCAtIDJdID09PSAnPScpIHtcclxuICAgICAgICAgICAgICAgIGJ1ZmZlckxlbmd0aC0tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBidWZmZXIgPSB0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmXHJcbiAgICAgICAgICAgIHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJlxyXG4gICAgICAgICAgICB0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuc2xpY2UgIT09ICd1bmRlZmluZWQnXHJcbiAgICAgICAgICAgID8gbmV3IEFycmF5QnVmZmVyKGJ1ZmZlckxlbmd0aClcclxuICAgICAgICAgICAgOiBuZXcgQXJyYXkoYnVmZmVyTGVuZ3RoKTtcclxuICAgICAgICB2YXIgYnl0ZXMgPSBBcnJheS5pc0FycmF5KGJ1ZmZlcikgPyBidWZmZXIgOiBuZXcgVWludDhBcnJheShidWZmZXIpO1xyXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xyXG4gICAgICAgICAgICBlbmNvZGVkMSA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpKV07XHJcbiAgICAgICAgICAgIGVuY29kZWQyID0gbG9va3VwW2Jhc2U2NC5jaGFyQ29kZUF0KGkgKyAxKV07XHJcbiAgICAgICAgICAgIGVuY29kZWQzID0gbG9va3VwW2Jhc2U2NC5jaGFyQ29kZUF0KGkgKyAyKV07XHJcbiAgICAgICAgICAgIGVuY29kZWQ0ID0gbG9va3VwW2Jhc2U2NC5jaGFyQ29kZUF0KGkgKyAzKV07XHJcbiAgICAgICAgICAgIGJ5dGVzW3ArK10gPSAoZW5jb2RlZDEgPDwgMikgfCAoZW5jb2RlZDIgPj4gNCk7XHJcbiAgICAgICAgICAgIGJ5dGVzW3ArK10gPSAoKGVuY29kZWQyICYgMTUpIDw8IDQpIHwgKGVuY29kZWQzID4+IDIpO1xyXG4gICAgICAgICAgICBieXRlc1twKytdID0gKChlbmNvZGVkMyAmIDMpIDw8IDYpIHwgKGVuY29kZWQ0ICYgNjMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYnVmZmVyO1xyXG4gICAgfTtcclxuICAgIHZhciBwb2x5VWludDE2QXJyYXkgPSBmdW5jdGlvbiAoYnVmZmVyKSB7XHJcbiAgICAgICAgdmFyIGxlbmd0aCA9IGJ1ZmZlci5sZW5ndGg7XHJcbiAgICAgICAgdmFyIGJ5dGVzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMikge1xyXG4gICAgICAgICAgICBieXRlcy5wdXNoKChidWZmZXJbaSArIDFdIDw8IDgpIHwgYnVmZmVyW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGJ5dGVzO1xyXG4gICAgfTtcclxuICAgIHZhciBwb2x5VWludDMyQXJyYXkgPSBmdW5jdGlvbiAoYnVmZmVyKSB7XHJcbiAgICAgICAgdmFyIGxlbmd0aCA9IGJ1ZmZlci5sZW5ndGg7XHJcbiAgICAgICAgdmFyIGJ5dGVzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gNCkge1xyXG4gICAgICAgICAgICBieXRlcy5wdXNoKChidWZmZXJbaSArIDNdIDw8IDI0KSB8IChidWZmZXJbaSArIDJdIDw8IDE2KSB8IChidWZmZXJbaSArIDFdIDw8IDgpIHwgYnVmZmVyW2ldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGJ5dGVzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKiogU2hpZnQgc2l6ZSBmb3IgZ2V0dGluZyB0aGUgaW5kZXgtMiB0YWJsZSBvZmZzZXQuICovXHJcbiAgICB2YXIgVVRSSUUyX1NISUZUXzIgPSA1O1xyXG4gICAgLyoqIFNoaWZ0IHNpemUgZm9yIGdldHRpbmcgdGhlIGluZGV4LTEgdGFibGUgb2Zmc2V0LiAqL1xyXG4gICAgdmFyIFVUUklFMl9TSElGVF8xID0gNiArIDU7XHJcbiAgICAvKipcclxuICAgICAqIFNoaWZ0IHNpemUgZm9yIHNoaWZ0aW5nIGxlZnQgdGhlIGluZGV4IGFycmF5IHZhbHVlcy5cclxuICAgICAqIEluY3JlYXNlcyBwb3NzaWJsZSBkYXRhIHNpemUgd2l0aCAxNi1iaXQgaW5kZXggdmFsdWVzIGF0IHRoZSBjb3N0XHJcbiAgICAgKiBvZiBjb21wYWN0YWJpbGl0eS5cclxuICAgICAqIFRoaXMgcmVxdWlyZXMgZGF0YSBibG9ja3MgdG8gYmUgYWxpZ25lZCBieSBVVFJJRTJfREFUQV9HUkFOVUxBUklUWS5cclxuICAgICAqL1xyXG4gICAgdmFyIFVUUklFMl9JTkRFWF9TSElGVCA9IDI7XHJcbiAgICAvKipcclxuICAgICAqIERpZmZlcmVuY2UgYmV0d2VlbiB0aGUgdHdvIHNoaWZ0IHNpemVzLFxyXG4gICAgICogZm9yIGdldHRpbmcgYW4gaW5kZXgtMSBvZmZzZXQgZnJvbSBhbiBpbmRleC0yIG9mZnNldC4gNj0xMS01XHJcbiAgICAgKi9cclxuICAgIHZhciBVVFJJRTJfU0hJRlRfMV8yID0gVVRSSUUyX1NISUZUXzEgLSBVVFJJRTJfU0hJRlRfMjtcclxuICAgIC8qKlxyXG4gICAgICogVGhlIHBhcnQgb2YgdGhlIGluZGV4LTIgdGFibGUgZm9yIFUrRDgwMC4uVStEQkZGIHN0b3JlcyB2YWx1ZXMgZm9yXHJcbiAgICAgKiBsZWFkIHN1cnJvZ2F0ZSBjb2RlIF91bml0c18gbm90IGNvZGUgX3BvaW50c18uXHJcbiAgICAgKiBWYWx1ZXMgZm9yIGxlYWQgc3Vycm9nYXRlIGNvZGUgX3BvaW50c18gYXJlIGluZGV4ZWQgd2l0aCB0aGlzIHBvcnRpb24gb2YgdGhlIHRhYmxlLlxyXG4gICAgICogTGVuZ3RoPTMyPTB4MjA9MHg0MDA+PlVUUklFMl9TSElGVF8yLiAoVGhlcmUgYXJlIDEwMjQ9MHg0MDAgbGVhZCBzdXJyb2dhdGVzLilcclxuICAgICAqL1xyXG4gICAgdmFyIFVUUklFMl9MU0NQX0lOREVYXzJfT0ZGU0VUID0gMHgxMDAwMCA+PiBVVFJJRTJfU0hJRlRfMjtcclxuICAgIC8qKiBOdW1iZXIgb2YgZW50cmllcyBpbiBhIGRhdGEgYmxvY2suIDMyPTB4MjAgKi9cclxuICAgIHZhciBVVFJJRTJfREFUQV9CTE9DS19MRU5HVEggPSAxIDw8IFVUUklFMl9TSElGVF8yO1xyXG4gICAgLyoqIE1hc2sgZm9yIGdldHRpbmcgdGhlIGxvd2VyIGJpdHMgZm9yIHRoZSBpbi1kYXRhLWJsb2NrIG9mZnNldC4gKi9cclxuICAgIHZhciBVVFJJRTJfREFUQV9NQVNLID0gVVRSSUUyX0RBVEFfQkxPQ0tfTEVOR1RIIC0gMTtcclxuICAgIHZhciBVVFJJRTJfTFNDUF9JTkRFWF8yX0xFTkdUSCA9IDB4NDAwID4+IFVUUklFMl9TSElGVF8yO1xyXG4gICAgLyoqIENvdW50IHRoZSBsZW5ndGhzIG9mIGJvdGggQk1QIHBpZWNlcy4gMjA4MD0weDgyMCAqL1xyXG4gICAgdmFyIFVUUklFMl9JTkRFWF8yX0JNUF9MRU5HVEggPSBVVFJJRTJfTFNDUF9JTkRFWF8yX09GRlNFVCArIFVUUklFMl9MU0NQX0lOREVYXzJfTEVOR1RIO1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgMi1ieXRlIFVURi04IHZlcnNpb24gb2YgdGhlIGluZGV4LTIgdGFibGUgZm9sbG93cyBhdCBvZmZzZXQgMjA4MD0weDgyMC5cclxuICAgICAqIExlbmd0aCAzMj0weDIwIGZvciBsZWFkIGJ5dGVzIEMwLi5ERiwgcmVnYXJkbGVzcyBvZiBVVFJJRTJfU0hJRlRfMi5cclxuICAgICAqL1xyXG4gICAgdmFyIFVUUklFMl9VVEY4XzJCX0lOREVYXzJfT0ZGU0VUID0gVVRSSUUyX0lOREVYXzJfQk1QX0xFTkdUSDtcclxuICAgIHZhciBVVFJJRTJfVVRGOF8yQl9JTkRFWF8yX0xFTkdUSCA9IDB4ODAwID4+IDY7IC8qIFUrMDgwMCBpcyB0aGUgZmlyc3QgY29kZSBwb2ludCBhZnRlciAyLWJ5dGUgVVRGLTggKi9cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGluZGV4LTEgdGFibGUsIG9ubHkgdXNlZCBmb3Igc3VwcGxlbWVudGFyeSBjb2RlIHBvaW50cywgYXQgb2Zmc2V0IDIxMTI9MHg4NDAuXHJcbiAgICAgKiBWYXJpYWJsZSBsZW5ndGgsIGZvciBjb2RlIHBvaW50cyB1cCB0byBoaWdoU3RhcnQsIHdoZXJlIHRoZSBsYXN0IHNpbmdsZS12YWx1ZSByYW5nZSBzdGFydHMuXHJcbiAgICAgKiBNYXhpbXVtIGxlbmd0aCA1MTI9MHgyMDA9MHgxMDAwMDA+PlVUUklFMl9TSElGVF8xLlxyXG4gICAgICogKEZvciAweDEwMDAwMCBzdXBwbGVtZW50YXJ5IGNvZGUgcG9pbnRzIFUrMTAwMDAuLlUrMTBmZmZmLilcclxuICAgICAqXHJcbiAgICAgKiBUaGUgcGFydCBvZiB0aGUgaW5kZXgtMiB0YWJsZSBmb3Igc3VwcGxlbWVudGFyeSBjb2RlIHBvaW50cyBzdGFydHNcclxuICAgICAqIGFmdGVyIHRoaXMgaW5kZXgtMSB0YWJsZS5cclxuICAgICAqXHJcbiAgICAgKiBCb3RoIHRoZSBpbmRleC0xIHRhYmxlIGFuZCB0aGUgZm9sbG93aW5nIHBhcnQgb2YgdGhlIGluZGV4LTIgdGFibGVcclxuICAgICAqIGFyZSBvbWl0dGVkIGNvbXBsZXRlbHkgaWYgdGhlcmUgaXMgb25seSBCTVAgZGF0YS5cclxuICAgICAqL1xyXG4gICAgdmFyIFVUUklFMl9JTkRFWF8xX09GRlNFVCA9IFVUUklFMl9VVEY4XzJCX0lOREVYXzJfT0ZGU0VUICsgVVRSSUUyX1VURjhfMkJfSU5ERVhfMl9MRU5HVEg7XHJcbiAgICAvKipcclxuICAgICAqIE51bWJlciBvZiBpbmRleC0xIGVudHJpZXMgZm9yIHRoZSBCTVAuIDMyPTB4MjBcclxuICAgICAqIFRoaXMgcGFydCBvZiB0aGUgaW5kZXgtMSB0YWJsZSBpcyBvbWl0dGVkIGZyb20gdGhlIHNlcmlhbGl6ZWQgZm9ybS5cclxuICAgICAqL1xyXG4gICAgdmFyIFVUUklFMl9PTUlUVEVEX0JNUF9JTkRFWF8xX0xFTkdUSCA9IDB4MTAwMDAgPj4gVVRSSUUyX1NISUZUXzE7XHJcbiAgICAvKiogTnVtYmVyIG9mIGVudHJpZXMgaW4gYW4gaW5kZXgtMiBibG9jay4gNjQ9MHg0MCAqL1xyXG4gICAgdmFyIFVUUklFMl9JTkRFWF8yX0JMT0NLX0xFTkdUSCA9IDEgPDwgVVRSSUUyX1NISUZUXzFfMjtcclxuICAgIC8qKiBNYXNrIGZvciBnZXR0aW5nIHRoZSBsb3dlciBiaXRzIGZvciB0aGUgaW4taW5kZXgtMi1ibG9jayBvZmZzZXQuICovXHJcbiAgICB2YXIgVVRSSUUyX0lOREVYXzJfTUFTSyA9IFVUUklFMl9JTkRFWF8yX0JMT0NLX0xFTkdUSCAtIDE7XHJcbiAgICB2YXIgc2xpY2UxNiA9IGZ1bmN0aW9uICh2aWV3LCBzdGFydCwgZW5kKSB7XHJcbiAgICAgICAgaWYgKHZpZXcuc2xpY2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZpZXcuc2xpY2Uoc3RhcnQsIGVuZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgVWludDE2QXJyYXkoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodmlldywgc3RhcnQsIGVuZCkpO1xyXG4gICAgfTtcclxuICAgIHZhciBzbGljZTMyID0gZnVuY3Rpb24gKHZpZXcsIHN0YXJ0LCBlbmQpIHtcclxuICAgICAgICBpZiAodmlldy5zbGljZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmlldy5zbGljZShzdGFydCwgZW5kKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50MzJBcnJheShBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh2aWV3LCBzdGFydCwgZW5kKSk7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNyZWF0ZVRyaWVGcm9tQmFzZTY0ID0gZnVuY3Rpb24gKGJhc2U2NCkge1xyXG4gICAgICAgIHZhciBidWZmZXIgPSBkZWNvZGUoYmFzZTY0KTtcclxuICAgICAgICB2YXIgdmlldzMyID0gQXJyYXkuaXNBcnJheShidWZmZXIpID8gcG9seVVpbnQzMkFycmF5KGJ1ZmZlcikgOiBuZXcgVWludDMyQXJyYXkoYnVmZmVyKTtcclxuICAgICAgICB2YXIgdmlldzE2ID0gQXJyYXkuaXNBcnJheShidWZmZXIpID8gcG9seVVpbnQxNkFycmF5KGJ1ZmZlcikgOiBuZXcgVWludDE2QXJyYXkoYnVmZmVyKTtcclxuICAgICAgICB2YXIgaGVhZGVyTGVuZ3RoID0gMjQ7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gc2xpY2UxNih2aWV3MTYsIGhlYWRlckxlbmd0aCAvIDIsIHZpZXczMls0XSAvIDIpO1xyXG4gICAgICAgIHZhciBkYXRhID0gdmlldzMyWzVdID09PSAyXHJcbiAgICAgICAgICAgID8gc2xpY2UxNih2aWV3MTYsIChoZWFkZXJMZW5ndGggKyB2aWV3MzJbNF0pIC8gMilcclxuICAgICAgICAgICAgOiBzbGljZTMyKHZpZXczMiwgTWF0aC5jZWlsKChoZWFkZXJMZW5ndGggKyB2aWV3MzJbNF0pIC8gNCkpO1xyXG4gICAgICAgIHJldHVybiBuZXcgVHJpZSh2aWV3MzJbMF0sIHZpZXczMlsxXSwgdmlldzMyWzJdLCB2aWV3MzJbM10sIGluZGV4LCBkYXRhKTtcclxuICAgIH07XHJcbiAgICB2YXIgVHJpZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBUcmllKGluaXRpYWxWYWx1ZSwgZXJyb3JWYWx1ZSwgaGlnaFN0YXJ0LCBoaWdoVmFsdWVJbmRleCwgaW5kZXgsIGRhdGEpIHtcclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsVmFsdWUgPSBpbml0aWFsVmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMuZXJyb3JWYWx1ZSA9IGVycm9yVmFsdWU7XHJcbiAgICAgICAgICAgIHRoaXMuaGlnaFN0YXJ0ID0gaGlnaFN0YXJ0O1xyXG4gICAgICAgICAgICB0aGlzLmhpZ2hWYWx1ZUluZGV4ID0gaGlnaFZhbHVlSW5kZXg7XHJcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSBpbmRleDtcclxuICAgICAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogR2V0IHRoZSB2YWx1ZSBmb3IgYSBjb2RlIHBvaW50IGFzIHN0b3JlZCBpbiB0aGUgVHJpZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSBjb2RlUG9pbnQgdGhlIGNvZGUgcG9pbnRcclxuICAgICAgICAgKiBAcmV0dXJuIHRoZSB2YWx1ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIFRyaWUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChjb2RlUG9pbnQpIHtcclxuICAgICAgICAgICAgdmFyIGl4O1xyXG4gICAgICAgICAgICBpZiAoY29kZVBvaW50ID49IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChjb2RlUG9pbnQgPCAweDBkODAwIHx8IChjb2RlUG9pbnQgPiAweDBkYmZmICYmIGNvZGVQb2ludCA8PSAweDBmZmZmKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIE9yZGluYXJ5IEJNUCBjb2RlIHBvaW50LCBleGNsdWRpbmcgbGVhZGluZyBzdXJyb2dhdGVzLlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEJNUCB1c2VzIGEgc2luZ2xlIGxldmVsIGxvb2t1cC4gIEJNUCBpbmRleCBzdGFydHMgYXQgb2Zmc2V0IDAgaW4gdGhlIFRyaWUyIGluZGV4LlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIDE2IGJpdCBkYXRhIGlzIHN0b3JlZCBpbiB0aGUgaW5kZXggYXJyYXkgaXRzZWxmLlxyXG4gICAgICAgICAgICAgICAgICAgIGl4ID0gdGhpcy5pbmRleFtjb2RlUG9pbnQgPj4gVVRSSUUyX1NISUZUXzJdO1xyXG4gICAgICAgICAgICAgICAgICAgIGl4ID0gKGl4IDw8IFVUUklFMl9JTkRFWF9TSElGVCkgKyAoY29kZVBvaW50ICYgVVRSSUUyX0RBVEFfTUFTSyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVtpeF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY29kZVBvaW50IDw9IDB4ZmZmZikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIExlYWQgU3Vycm9nYXRlIENvZGUgUG9pbnQuICBBIFNlcGFyYXRlIGluZGV4IHNlY3Rpb24gaXMgc3RvcmVkIGZvclxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxlYWQgc3Vycm9nYXRlIGNvZGUgdW5pdHMgYW5kIGNvZGUgcG9pbnRzLlxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgVGhlIG1haW4gaW5kZXggaGFzIHRoZSBjb2RlIHVuaXQgZGF0YS5cclxuICAgICAgICAgICAgICAgICAgICAvLyAgIEZvciB0aGlzIGZ1bmN0aW9uLCB3ZSBuZWVkIHRoZSBjb2RlIHBvaW50IGRhdGEuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTm90ZTogdGhpcyBleHByZXNzaW9uIGNvdWxkIGJlIHJlZmFjdG9yZWQgZm9yIHNsaWdodGx5IGltcHJvdmVkIGVmZmljaWVuY3ksIGJ1dFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgIHN1cnJvZ2F0ZSBjb2RlIHBvaW50cyB3aWxsIGJlIHNvIHJhcmUgaW4gcHJhY3RpY2UgdGhhdCBpdCdzIG5vdCB3b3J0aCBpdC5cclxuICAgICAgICAgICAgICAgICAgICBpeCA9IHRoaXMuaW5kZXhbVVRSSUUyX0xTQ1BfSU5ERVhfMl9PRkZTRVQgKyAoKGNvZGVQb2ludCAtIDB4ZDgwMCkgPj4gVVRSSUUyX1NISUZUXzIpXTtcclxuICAgICAgICAgICAgICAgICAgICBpeCA9IChpeCA8PCBVVFJJRTJfSU5ERVhfU0hJRlQpICsgKGNvZGVQb2ludCAmIFVUUklFMl9EQVRBX01BU0spO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFbaXhdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA8IHRoaXMuaGlnaFN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gU3VwcGxlbWVudGFsIGNvZGUgcG9pbnQsIHVzZSB0d28tbGV2ZWwgbG9va3VwLlxyXG4gICAgICAgICAgICAgICAgICAgIGl4ID0gVVRSSUUyX0lOREVYXzFfT0ZGU0VUIC0gVVRSSUUyX09NSVRURURfQk1QX0lOREVYXzFfTEVOR1RIICsgKGNvZGVQb2ludCA+PiBVVFJJRTJfU0hJRlRfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaXggPSB0aGlzLmluZGV4W2l4XTtcclxuICAgICAgICAgICAgICAgICAgICBpeCArPSAoY29kZVBvaW50ID4+IFVUUklFMl9TSElGVF8yKSAmIFVUUklFMl9JTkRFWF8yX01BU0s7XHJcbiAgICAgICAgICAgICAgICAgICAgaXggPSB0aGlzLmluZGV4W2l4XTtcclxuICAgICAgICAgICAgICAgICAgICBpeCA9IChpeCA8PCBVVFJJRTJfSU5ERVhfU0hJRlQpICsgKGNvZGVQb2ludCAmIFVUUklFMl9EQVRBX01BU0spO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFbaXhdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA8PSAweDEwZmZmZikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFbdGhpcy5oaWdoVmFsdWVJbmRleF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gRmFsbCB0aHJvdWdoLiAgVGhlIGNvZGUgcG9pbnQgaXMgb3V0c2lkZSBvZiB0aGUgbGVnYWwgcmFuZ2Ugb2YgMC4uMHgxMGZmZmYuXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVycm9yVmFsdWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gVHJpZTtcclxuICAgIH0oKSk7XHJcblxyXG4gICAgdmFyIGJhc2U2NCA9ICdLd0FBQUFBQUFBQUFDQTRBSURvQUFQQWZBQUFDQUFBQUFBQUlBQkFBR0FCQUFFZ0FVQUJZQUY0QVpnQmVBR1lBWUFCb0FIQUFlQUJlQUdZQWZBQ0VBSUFBaUFDUUFKZ0FvQUNvQUswQXRRQzlBTVVBWGdCbUFGNEFaZ0JlQUdZQXpRRFZBRjRBWmdEUkFOa0EzZ0RtQU93QTlBRDhBQVFCREFFVUFSb0JJZ0dBQUlnQUp3RXZBVGNCUHdGRkFVMEJUQUZVQVZ3QlpBRnNBWE1CZXdHREFUQUFpd0dUQVpzQm9nR2tBYXdCdEFHOEFjSUJ5Z0hTQWRvQjRBSG9BZkFCK0FIK0FRWUNEZ0lXQXY0QkhnSW1BaTRDTmdJK0FrVUNUUUpUQWxzQ1l3SnJBbkVDZVFLQkFrMENpUUtSQXBrQ29RS29BckFDdUFMQUFzUUN6QUl3QU5RQzNBTGtBakFBN0FMMEF2d0NBUU1KQXhBREdBTXdBQ0FESmdNdUF6WURQZ09BQUVZRFNnTlNBMUlEVWdOYUExb0RZQU5pQTJJRGdBQ0FBR29EZ0FCeUEzWURmZ09BQUlRRGdBQ0tBNUlEbWdPQUFJQUFvZ09xQTRBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUs4RHR3T0FBSUFBdndQSEE4OEQxd1BmQXlBRDV3UHNBL1FEL0FPQUFJQUFCQVFNQkJJRWdBQVdCQjRFSmdRdUJETUVJQU03QkVFRVhnQkpCQ0FEVVFSWkJHRUVhUVF3QURBQWNRUStBWGtFZ1FTSkJKRUVnQUNZQklBQW9BU29CSzhFdHdRd0FMOEV4UVNBQUlBQWdBQ0FBSUFBZ0FDZ0FNMEVYZ0JlQUY0QVhnQmVBRjRBWGdCZUFOVUVYZ0RaQk9FRVhnRHBCUEVFK1FRQkJRa0ZFUVVaQlNFRktRVXhCVFVGUFFWRkJVd0ZWQVZjQlY0QVl3VmVBR3NGY3dWN0JZTUZpd1dTQlY0QW1nV2dCYWNGWGdCZUFGNEFYZ0JlQUtzRlhnQ3lCYkVGdWdXN0JjSUZ3Z1hJQmNJRndnWFFCZFFGM0FYa0Jlc0Y4d1g3QlFNR0N3WVRCaHNHSXdZckJqTUdPd1plQUQ4R1J3Wk5CbDRBVkFaYkJsNEFYZ0JlQUY0QVhnQmVBRjRBWGdCZUFGNEFYZ0JlQUdNR1hnQnFCbkVHWGdCZUFGNEFYZ0JlQUY0QVhnQmVBRjRBWGdCNUJvQUc0d1NHQm80R2t3YUFBSUFESGdSNUFGNEFYZ0JlQUpzR2dBQkdBNEFBb3dhckJyTUdzd2FnQUxzR3d3YkxCakFBMHdiYUJ0b0czUWJhQnRvRzJnYmFCdG9HMmdibEJ1c0c4d2I3QmdNSEN3Y1RCeHNIQ3djakJ5c0hNQWMxQnpVSE9nZENCOW9HU2dkU0Ixb0hZQWZhQmxvSGFBZmFCbElIMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCalVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSGJRZGVBRjRBTlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RZDFCMzBITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCNE1IMmdhS0I2OEVnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJOEhsd2RlQUo4SHB3ZUFBSUFBcndlM0IxNEFYZ0MvQjhVSHlnY3dBTkFIMkFmZ0I0QUE2QWZ3Qno0QitBY0FDRndCQ0FnUENCY0lvZ0VZQVI4SUp3aUFBQzhJTndnL0NDQURSd2hQQ0ZjSVh3aG5DRW9ER2dTQUFJQUFnQUJ2Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0lmUWgzQ0hnSWVRaDZDSHNJZkFoOUNIY0llQWg1Q0hvSWV3aDhDSDBJZHdoNENIa0llZ2g3Q0h3SWZRaDNDSGdJZVFoNkNIc0lmQWg5Q0hjSWVBaDVDSG9JZXdoOENIMElkd2g0Q0hrSWVnaDdDSHdJZlFoM0NIZ0llUWg2Q0hzSWZBaDlDSGNJZUFoNUNIb0lld2g4Q0gwSWR3aDRDSGtJZWdoN0NId0loQWlMQ0k0SU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnZ3dBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUI1NElOUWMxQjZJSTJnYXFDTElJdWdpQUFJQUF2Z2pHQ0lBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQXl3aUhBWUFBMHdpQUFOa0kzUWpsQ08wSTlBajhDSUFBZ0FDQUFBSUpDZ2tTQ1JvSklna25DVFlITHdrM0NaWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaVdDSllJbGdpV0NKWUlsZ2lXQ0pZSWxnaUFBSUFBQUFGQUFYZ0JlQUdBQWNBQmVBSHdBUUFDUUFLQUFyUUM5QUo0QVhnQmVBRTBBM2dCUkFONEE3QUQ4QU13QkdnRUFBS2NCTndFRkFVd0JYQUY0UWtoQ21FS25BcmNDZ0FISEFzQUJ6NExBQWNBQndBSEFBZCtDNkFCb0FHK0MvNExBQWNBQndBSEFBYytERjRNQUFjQUI1NE0zZ3dlRFY0Tm5nM2VEYUFCb0FHZ0FhQUJvQUdnQWFBQm9BR2dBYUFCb0FHZ0FhQUJvQUdnQWFBQm9BR2dBYUFCb0FFZURxQUJWZzZXRHFBQm9RNmdBYUFCb0FIWER2Y09Ody8zRHZjTzl3NzNEdmNPOXc3M0R2Y085dzczRHZjTzl3NzNEdmNPOXc3M0R2Y085dzczRHZjTzl3NzNEdmNPOXc3M0R2Y085dzczRHZjTzl3NzNEbmNQQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQndBSEFBY0FCd0FIQUFjQUJ3QUhBQWNBQjdjUFB3bEdDVTRKTUFDQUFJQUFnQUJXQ1Y0SllRbUFBR2tKY0FsNENYd0pnQWt3QURBQU1BQXdBSWdKZ0FDTENaTUpnQUNaQ1o4Sm93bXJDWUFBc3drd0FGNEFYZ0I4QUlBQXV3a0FCTU1KeVFtQUFNNEpnQURWQ1RBQU1BQXdBREFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBcXdZV0JOa0lNQUF3QURBQU1BRGRDZUFKNkFudUNSNEU5Z2t3QVA0SkJRb05DakFBTUFDQUFCVUswd2lBQUIwS0pBb3NDalFLZ0FBd0FEd0tRd3FBQUVzS3ZRbWRDVk1LV3dvd0FEQUFnQUNBQUxjRU1BQ0FBR01LZ0FCckNqQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUFlQkRBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBSWtFUFFGekNub0tpUVNDQ29vS2tBcUpCSmdLb0Fxa0Nva0VHQUdzQ3JRS3ZBckJDakFBTUFESkN0RUtGUUhaQ3VFSy9nSHBDdkVLTUFBd0FEQUFNQUNBQUl3RStRb3dBSUFBUHdFQkN6QUFNQUF3QURBQU1BQ0FBQWtMRVFzd0FJQUFQd0VaQ3lFTGdBQU9DQ2tMTUFBeEN6a0xNQUF3QURBQU1BQXdBREFBWGdCZUFFRUxNQUF3QURBQU1BQXdBREFBTUFBd0FFa0xUUXRWQzRBQVhBdGtDNEFBaVFrd0FEQUFNQUF3QURBQU1BQXdBREFBYkF0eEMza0xnQXVGQzRzTE1BQXdBSk1MbHd1ZkN6QUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQXB3c3dBREFBTUFDQUFJQUFnQUN2QzRBQWdBQ0FBSUFBZ0FDQUFMY0xNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQXZ3dUFBTWNMZ0FDQUFJQUFnQUNBQUlBQXlndUFBSUFBZ0FDQUFJQUEwUXN3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQU5rTGdBQ0FBSUFBNEFzd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNKQ1I0RTZBc3dBREFBaHdId0M0QUErQXNBREFnTUVBd3dBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQ0FBSUFBR0F3ZERDVU1NQUF3QUMwTU5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RdzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhQUXd3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBRFVITlFjMUJ6VUhOUWMxQnpVSE5RYzJCekFBTUFBNUREVUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWRGRERBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBZ0FDQUFJQUFUUXhTREZvTU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QUY0QVhnQmVBRjRBWGdCZUFGNEFZZ3hlQUdvTVhnQnhESGtNZnd4ZUFJVU1YZ0JlQUkwTU1BQXdBREFBTUFBd0FGNEFYZ0NWREowTU1BQXdBREFBTUFCZUFGNEFwUXhlQUtzTXN3eTdERjRBd2d5OURNb01YZ0JlQUY0QVhnQmVBRjRBWGdCZUFGNEFYZ0RSRE5rTWVRQnFDZUFNM0F4OEFPWU03QXowRFBnTVhnQmVBRjRBWGdCZUFGNEFYZ0JlQUY0QVhnQmVBRjRBWGdCZUFGNEFYZ0NnQUFBTm9BQUhEUTRORmcwd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQWVEU1lOTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBSUFBZ0FDQUFJQUFnQUNBQUM0Tk1BQmVBRjRBTmcwd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FENE5SZzFPRFZZTlhnMW1EVEFBYlEwd0FEQUFNQUF3QURBQU1BQXdBREFBMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCblVOZWczQ0JZQU53Z1dGRGRvR2pBM2FCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdhVURad05wQTJvRGRvRzJnYXdEYmNOdnczSERkb0cyZ2JQRGRZTjNBM2ZEZVlOMmdic0RmTU4yZ2JhQnZvTi9nM2FCZ1lPRGc3YUJsNEFYZ0JlQUJZT1hnQmVBQ1VHMmdZZURsNEFKQTVlQUN3TzJ3M2FCdG9HTVE0NUR0b0cyZ2JhQnRvR1FRN2FCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdaSkRqVUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUIxRU8yZ1kxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RZFpEalVITlFjMUJ6VUhOUWMxQjJFT05RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSGFBNDFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUIzQU8yZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ1kxQnpVSE5RYzFCelVITlFjMUJ6VUhOUWMxQnpVSE5RYzFCelVITlFjMUIyRU8yZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ1pKRHRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQnRvRzJnYmFCdG9HMmdiYUJ0b0cyZ2JhQmtrT2VBNmdBS0FBb0FBd0FEQUFNQUF3QUtBQW9BQ2dBS0FBb0FDZ0FLQUFnQTR3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BQXdBREFBTUFBd0FEQUFNQUF3QURBQU1BRC8vd1FBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQTBBQXdBQkFBRUFBZ0FFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFLQUJNQUZ3QWVBQnNBR2dBZUFCY0FGZ0FTQUI0QUd3QVlBQThBR0FBY0FFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FHQUFZQUI0QUhnQWVBQk1BSGdCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBRmdBYkFCSUFIZ0FlQUI0QVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUJZQURRQVJBQjRBQkFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FCQUFFQUFRQUJBQUVBQVVBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQWtBRmdBYUFCc0FHd0FiQUI0QUhRQWRBQjRBVHdBWEFCNEFEUUFlQUI0QUdnQWJBRThBVHdBT0FGQUFIUUFkQUIwQVR3QlBBQmNBVHdCUEFFOEFGZ0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBSFFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUIwQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdCUUFCNEFIZ0FlQUI0QVVBQlFBRkFBVUFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBZUFCNEFIZ0FlQUZBQVR3QkFBRThBVHdCUEFFQUFUd0JRQUZBQVR3QlFBQjRBSGdBZUFCNEFIZ0FlQUIwQUhRQWRBQjBBSGdBZEFCNEFEZ0JRQUZBQVVBQlFBRkFBSGdBZUFCNEFIZ0FlQUI0QUhnQlFBQjRBVUFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFKQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQWtBQ1FBSkFBa0FDUUFKQUFrQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBZUFCNEFIZ0FlQUZBQUhnQWVBQjRBS3dBckFGQUFVQUJRQUZBQUdBQlFBQ3NBS3dBckFDc0FIZ0FlQUZBQUhnQlFBRkFBVUFBckFGQUFLd0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUt3QWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFCQUFFQUFRQUJBQUVBQVFBQkFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FVQUFlQUI0QUhnQWVBQjRBSGdBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QVlBQTBBS3dBckFCNEFIZ0FiQUNzQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQURRQUVBQjRBQkFBRUFCNEFCQUFFQUJNQUJBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQVZnQldBRllBVmdCV0FGWUFWZ0JXQUZZQVZnQldBRllBVmdCV0FGWUFWZ0JXQUZZQVZnQldBRllBVmdCV0FGWUFWZ0JXQUZZQUt3QXJBQ3NBS3dBckFGWUFWZ0JXQUI0QUhnQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBR2dBYUFCb0FHQUFZQUI0QUhnQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBRXdBRUFDc0FFd0FUQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBQm9BR1FBWkFCNEFVQUJRQUFRQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFCTUFVQUFFQUFRQUJBQUVBQVFBQkFBRUFCNEFIZ0FFQUFRQUJBQUVBQVFBQkFCUUFGQUFCQUFFQUI0QUJBQUVBQVFBQkFCUUFGQUFTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JRQUZBQVVBQWVBQjRBVUFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUt3QWVBRkFBQkFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBRkFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFVQUJRQUI0QUhnQVlBQk1BVUFBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUFFQUZBQUJBQUVBQVFBQkFBRUFGQUFCQUFFQUFRQVVBQUVBQVFBQkFBRUFBUUFLd0FyQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUFyQUNzQUhnQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQWVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQlFBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBRkFBQkFBRUFBUUFCQUFFQUFRQUJBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQVFBQkFBTkFBMEFTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FlQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFCQUFFQUFRQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBRkFBVUFBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBS3dBckFDc0FVQUJRQUZBQVVBQXJBQ3NBQkFCUUFBUUFCQUFFQUFRQUJBQUVBQVFBS3dBckFBUUFCQUFyQUNzQUJBQUVBQVFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBQkFBckFDc0FLd0FyQUZBQVVBQXJBRkFBVUFCUUFBUUFCQUFyQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QlFBRkFBR2dBYUFGQUFVQUJRQUZBQVVBQk1BQjRBR3dCUUFCNEFLd0FyQUNzQUJBQUVBQVFBS3dCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFGQUFVQUFyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUFyQUZBQVVBQXJBRkFBVUFBckFDc0FCQUFyQUFRQUJBQUVBQVFBQkFBckFDc0FLd0FyQUFRQUJBQXJBQ3NBQkFBRUFBUUFLd0FyQUNzQUJBQXJBQ3NBS3dBckFDc0FLd0FyQUZBQVVBQlFBRkFBS3dCUUFDc0FLd0FyQUNzQUt3QXJBQ3NBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBRUFBUUFVQUJRQUZBQUJBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBQkFBRUFBUUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQXJBRkFBVUFCUUFGQUFVQUFyQUNzQUJBQlFBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQXJBQVFBQkFBRUFDc0FCQUFFQUFRQUt3QXJBRkFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQlFBQVFBQkFBckFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FlQUJzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUFRQUJBQUVBQVFBQkFBRUFDc0FCQUFFQUFRQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBRkFBVUFBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBRUFBUUFLd0FyQUFRQUJBQXJBQ3NBQkFBRUFBUUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFBUUFCQUFyQUNzQUt3QXJBRkFBVUFBckFGQUFVQUJRQUFRQUJBQXJBQ3NBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBZUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBRUFGQUFLd0JRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0JRQUZBQVVBQXJBRkFBVUFCUUFGQUFLd0FyQUNzQVVBQlFBQ3NBVUFBckFGQUFVQUFyQUNzQUt3QlFBRkFBS3dBckFDc0FVQUJRQUZBQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QUVBQVFBQkFBRUFBUUFLd0FyQUNzQUJBQUVBQVFBS3dBRUFBUUFCQUFFQUNzQUt3QlFBQ3NBS3dBckFDc0FLd0FyQUFRQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRkFBVUFCUUFCNEFIZ0FlQUI0QUhnQWVBQnNBSGdBckFDc0FLd0FyQUNzQUJBQUVBQVFBQkFBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUZBQUJBQUVBQVFBQkFBRUFBUUFCQUFyQUFRQUJBQUVBQ3NBQkFBRUFBUUFCQUFyQUNzQUt3QXJBQ3NBS3dBckFBUUFCQUFyQUZBQVVBQlFBQ3NBS3dBckFDc0FLd0JRQUZBQUJBQUVBQ3NBS3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBQjRBVUFBRUFBUUFCQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUNzQUt3QUVBRkFBQkFBRUFBUUFCQUFFQUFRQUJBQXJBQVFBQkFBRUFDc0FCQUFFQUFRQUJBQXJBQ3NBS3dBckFDc0FLd0FyQUFRQUJBQXJBQ3NBS3dBckFDc0FLd0FyQUZBQUt3QlFBRkFBQkFBRUFDc0FLd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUNzQVVBQlFBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFCQUFFQUZBQUJBQUVBQVFBQkFBRUFBUUFCQUFyQUFRQUJBQUVBQ3NBQkFBRUFBUUFCQUJRQUI0QUt3QXJBQ3NBS3dCUUFGQUFVQUFFQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUJBQUVBQ3NBS3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFCb0FVQUJRQUZBQVVBQlFBRkFBS3dBckFBUUFCQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUFyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QUVBQ3NBS3dBckFDc0FCQUFFQUFRQUJBQUVBQVFBS3dBRUFDc0FCQUFFQUFRQUJBQUVBQVFBQkFBRUFDc0FLd0FyQUNzQUt3QXJBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBS3dBckFBUUFCQUFlQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUFxQUZ3QVhBQXFBQ29BS2dBcUFDb0FLZ0FxQUNzQUt3QXJBQ3NBR3dCY0FGd0FYQUJjQUZ3QVhBQmNBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQWVBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBRFFBTkFDc0FLd0FyQUNzQUt3QmNBRndBS3dCY0FDc0FLd0JjQUZ3QUt3QmNBQ3NBS3dCY0FDc0FLd0FyQUNzQUt3QXJBRndBWEFCY0FGd0FLd0JjQUZ3QVhBQmNBRndBWEFCY0FDc0FYQUJjQUZ3QUt3QmNBQ3NBWEFBckFDc0FYQUJjQUNzQVhBQmNBRndBWEFBcUFGd0FYQUFxQUNvQUtnQXFBQ29BS2dBckFDb0FLZ0JjQUNzQUt3QmNBRndBWEFCY0FGd0FLd0JjQUNzQUtnQXFBQ29BS2dBcUFDb0FLd0FyQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQUt3QXJBRndBWEFCY0FGd0FVQUFPQUE0QURnQU9BQjRBRGdBT0FBa0FEZ0FPQUEwQUNRQVRBQk1BRXdBVEFCTUFDUUFlQUJNQUhnQWVBQjRBQkFBRUFCNEFIZ0FlQUI0QUhnQWVBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBTkFBUUFIZ0FFQUI0QUJBQVdBQkVBRmdBUkFBUUFCQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBTkFBUUFCQUFFQUFRQUJBQU5BQVFBQkFCUUFGQUFVQUJRQUZBQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQ3NBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUNzQURRQU5BQjRBSGdBZUFCNEFIZ0FlQUFRQUhnQWVBQjRBSGdBZUFCNEFLd0FlQUI0QURnQU9BQTBBRGdBZUFCNEFIZ0FlQUI0QUNRQUpBQ3NBS3dBckFDc0FLd0JjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUZ3QVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QU5BQTBBSGdBZUFCNEFIZ0JjQUZ3QVhBQmNBRndBWEFBcUFDb0FLZ0FxQUZ3QVhBQmNBRndBS2dBcUFDb0FYQUFxQUNvQUtnQmNBRndBS2dBcUFDb0FLZ0FxQUNvQUtnQmNBRndBWEFBcUFDb0FLZ0FxQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FYQUFxQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQUtnQXFBQ29BS2dBcUFDb0FVQUJRQUZBQVVBQlFBRkFBS3dCUUFDc0FLd0FyQUNzQUt3QlFBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBZUFGQUFVQUJRQUZBQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFGa0FXUUJaQUZrQVdRQlpBRmtBV1FCWkFGa0FXUUJaQUZrQVdRQlpBRmtBV1FCWkFGa0FXUUJaQUZrQVdRQlpBRmtBV1FCWkFGa0FXUUJaQUZrQVdRQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0JRQUZBQVVBQlFBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFBckFGQUFVQUJRQUZBQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUFyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFLd0JRQUZBQVVBQlFBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFGQUFLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QUVBQVFBQkFBZUFBMEFIZ0FlQUI0QUhnQWVBQjRBSGdCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUNzQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QU5BRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFlQUI0QVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUEwQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUJZQUVRQXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFEUUFOQUEwQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUJRQUZBQUJBQUVBQVFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBUUFCQUFFQUEwQURRQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFDc0FCQUFFQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FEUUFOQUJVQVhBQU5BQjRBRFFBYkFGd0FLZ0FyQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dBckFCNEFIZ0FUQUJNQURRQU5BQTRBSGdBVEFCTUFIZ0FFQUFRQUJBQUpBQ3NBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBQVFBQkFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBQkFCUUFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFDc0FLd0FyQUNzQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBS3dBckFDc0FLd0FlQUNzQUt3QXJBQk1BRXdCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FDc0FLd0JjQUZ3QVhBQmNBRndBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUNzQUt3QXJBQ3NBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBS3dBckFDc0FLd0FyQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QmNBQ3NBS3dBckFDb0FLZ0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBQkFBRUFBUUFCQUFFQUNzQUt3QWVBQjRBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FyQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXJBQ3NBQkFCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFDc0FLd0FyQUNzQUt3QXJBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBS3dBckFDc0FLd0FyQUNzQUtnQXFBQ29BS2dBcUFDb0FLZ0JjQUNvQUtnQXFBQ29BS2dBcUFDc0FLd0FFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBckFBUUFCQUFFQUFRQUJBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBRUFBUUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQURRQU5BQjRBRFFBTkFBMEFEUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUNzQUt3QXJBQVFBQkFBRUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBVUFCUUFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUhnQWVBQjRBSGdCUUFGQUFVQUJRQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQXJBQ3NBS3dBTkFBMEFEUUFOQUEwQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QXJBQ3NBS3dCUUFGQUFVQUJMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBTkFBMEFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUJBQUVBQVFBSGdBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUZBQVVBQlFBRkFBQkFCUUFGQUFVQUJRQUFRQUJBQUVBRkFBVUFBRUFBUUFCQUFyQUNzQUt3QXJBQ3NBS3dBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBS3dBRUFBUUFCQUFFQUFRQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBckFDc0FVQUJRQUZBQVVBQlFBRkFBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFLd0JRQUNzQVVBQXJBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFLd0FyQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQ3NBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBRkFBSGdBZUFCNEFVQUJRQUZBQUt3QWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBRkFBVUFCUUFGQUFLd0FyQUI0QUhnQWVBQjRBSGdBZUFDc0FIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FyQUNzQVVBQlFBRkFBS3dBZUFCNEFIZ0FlQUI0QUhnQWVBQTRBSGdBckFBMEFEUUFOQUEwQURRQU5BQTBBQ1FBTkFBMEFEUUFJQUFRQUN3QUVBQVFBRFFBSkFBMEFEUUFNQUIwQUhRQWVBQmNBRndBV0FCY0FGd0FYQUJZQUZ3QWRBQjBBSGdBZUFCUUFGQUFVQUEwQUFRQUJBQVFBQkFBRUFBUUFCQUFKQUJvQUdnQWFBQm9BR2dBYUFCb0FHZ0FlQUJjQUZ3QWRBQlVBRlFBZUFCNEFIZ0FlQUI0QUhnQVlBQllBRVFBVkFCVUFGUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQU5BQjRBRFFBTkFBMEFEUUFlQUEwQURRQU5BQWNBSGdBZUFCNEFIZ0FyQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQVVBQlFBQ3NBS3dCUEFGQUFVQUJRQUZBQVVBQWVBQjRBSGdBV0FCRUFUd0JRQUU4QVR3QlBBRThBVUFCUUFGQUFVQUJRQUI0QUhnQWVBQllBRVFBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBR3dBYkFCc0FHd0FiQUJzQUd3QWFBQnNBR3dBYkFCc0FHd0FiQUJzQUd3QWJBQnNBR3dBYkFCc0FHd0FhQUJzQUd3QWJBQnNBR2dBYkFCc0FHZ0FiQUJzQUd3QWJBQnNBR3dBYkFCc0FHd0FiQUJzQUd3QWJBQnNBR3dBYkFCc0FCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQjRBSGdCUUFCb0FIZ0FkQUI0QVVBQWVBQm9BSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBVHdBZUFGQUFHd0FlQUI0QVVBQlFBRkFBVUFCUUFCNEFIZ0FlQUIwQUhRQWVBRkFBSGdCUUFCNEFVQUFlQUZBQVR3QlFBRkFBSGdBZUFCNEFIZ0FlQUI0QUhnQlFBRkFBVUFCUUFGQUFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdCUUFCNEFVQUJRQUZBQVVBQlBBRThBVUFCUUFGQUFVQUJRQUU4QVVBQlFBRThBVUFCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JRQUZBQVVBQlFBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBSGdBZUFGQUFVQUJRQUZBQVR3QWVBQjRBS3dBckFDc0FLd0FkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWRBQjRBSFFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIUUFlQUIwQUhRQWVBQjRBSGdBZEFCMEFIZ0FlQUIwQUhnQWVBQjRBSFFBZUFCMEFHd0FiQUI0QUhRQWVBQjRBSGdBZUFCMEFIZ0FlQUIwQUhRQWRBQjBBSGdBZUFCMEFIZ0FkQUI0QUhRQWRBQjBBSFFBZEFCMEFIZ0FkQUI0QUhnQWVBQjRBSGdBZEFCMEFIUUFkQUI0QUhnQWVBQjRBSFFBZEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIUUFlQUI0QUhnQWRBQjRBSGdBZUFCNEFIZ0FkQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSFFBZEFCNEFIZ0FkQUIwQUhRQWRBQjRBSGdBZEFCMEFIZ0FlQUIwQUhRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWRBQjBBSGdBZUFCMEFIUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjBBSGdBZUFCNEFIUUFlQUI0QUhnQWVBQjRBSGdBZUFCMEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQlFBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQVdBQkVBRmdBUkFCNEFIZ0FlQUI0QUhnQWVBQjBBSGdBZUFCNEFIZ0FlQUI0QUhnQWxBQ1VBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBRmdBUkFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUNVQUpRQWxBQ1VBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUUFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUI0QUhnQWVBQjRBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIZ0FlQUIwQUhRQWRBQjBBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZEFCMEFIZ0FkQUIwQUhRQWRBQjBBSFFBZEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZEFCMEFIZ0FlQUIwQUhRQWVBQjRBSGdBZUFCMEFIUUFlQUI0QUhnQWVBQjBBSFFBZEFCNEFIZ0FkQUI0QUhnQWRBQjBBSFFBZEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSFFBZEFCMEFIUUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FkQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFKUUFsQUNVQUpRQWVBQjBBSFFBZUFCNEFIUUFlQUI0QUhnQWVBQjBBSFFBZUFCNEFIZ0FlQUNVQUpRQWRBQjBBSlFBZUFDVUFKUUFsQUNBQUpRQWxBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUpRQWxBQ1VBSGdBZUFCNEFIZ0FkQUI0QUhRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSFFBZEFCNEFIUUFkQUIwQUhnQWRBQ1VBSFFBZEFCNEFIUUFkQUI0QUhRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FsQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjBBSFFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUhRQWRBQjBBSFFBbEFCNEFKUUFsQUNVQUhRQWxBQ1VBSFFBZEFCMEFKUUFsQUIwQUhRQWxBQjBBSFFBbEFDVUFKUUFlQUIwQUhnQWVBQjRBSGdBZEFCMEFKUUFkQUIwQUhRQWRBQjBBSFFBbEFDVUFKUUFsQUNVQUhRQWxBQ1VBSUFBbEFCMEFIUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFIZ0FlQUI0QUpRQWxBQ0FBSUFBZ0FDQUFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZEFCNEFIZ0FlQUJjQUZ3QVhBQmNBRndBWEFCNEFFd0FUQUNVQUhnQWVBQjRBRmdBUkFCWUFFUUFXQUJFQUZnQVJBQllBRVFBV0FCRUFGZ0FSQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FXQUJFQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUZnQVJBQllBRVFBV0FCRUFGZ0FSQUJZQUVRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQllBRVFBV0FCRUFGZ0FSQUJZQUVRQVdBQkVBRmdBUkFCWUFFUUFXQUJFQUZnQVJBQllBRVFBV0FCRUFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFGZ0FSQUJZQUVRQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQllBRVFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhRQWRBQjBBSFFBZEFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUt3QXJBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBS3dBckFDc0FIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUt3QWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFCNEFIZ0FlQUI0QUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBRUFBUUFCQUFlQUI0QUt3QXJBQ3NBS3dBckFCTUFEUUFOQUEwQVVBQVRBQTBBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQU5BQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FFQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUNzQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFBMEFEUUFOQUEwQURRQU5BQTBBRFFBZUFBMEFGZ0FOQUI0QUhnQVhBQmNBSGdBZUFCY0FGd0FXQUJFQUZnQVJBQllBRVFBV0FCRUFEUUFOQUEwQURRQVRBRkFBRFFBTkFCNEFEUUFOQUI0QUhnQWVBQjRBSGdBTUFBd0FEUUFOQUEwQUhnQU5BQTBBRmdBTkFBMEFEUUFOQUEwQURRQU5BQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDc0FKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBckFDc0FLd0FyQUEwQUVRQVJBQ1VBSlFCSEFGY0FWd0FXQUJFQUZnQVJBQllBRVFBV0FCRUFGZ0FSQUNVQUpRQVdBQkVBRmdBUkFCWUFFUUFXQUJFQUZRQVdBQkVBRVFBbEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFBUUFCQUFFQUFRQUJBQUVBQ1VBVndCWEFGY0FWd0EyQUNVQUpRQlhBRmNBVndCSEFFY0FKUUFsQUNVQUt3QlJBRmNBVVFCWEFGRUFWd0JSQUZjQVVRQlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZFQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCUkFGY0FVUUJYQUZFQVZ3QlhBRmNBVndCWEFGY0FVUUJYQUZjQVZ3QlhBRmNBVndCUkFGRUFLd0FyQUFRQUJBQVZBQlVBUndCSEFGY0FGUUJSQUZjQVVRQlhBRkVBVndCUkFGY0FVUUJYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGRUFWd0JSQUZjQVVRQlhBRmNBVndCWEFGY0FWd0JSQUZjQVZ3QlhBRmNBVndCWEFGRUFVUUJYQUZjQVZ3QlhBQlVBVVFCSEFFY0FWd0FyQUNzQUt3QXJBQ3NBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FLd0FyQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QXJBQ1VBSlFCWEFGY0FWd0JYQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQUt3QXJBQ3NBS3dBckFDVUFKUUFsQUNVQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVVFCUkFGRUFVUUJSQUZFQVVRQlJBRkVBVVFCUkFGRUFVUUJSQUZFQVVRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDc0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0FsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBRThBVHdCUEFFOEFUd0JQQUU4QVR3QWxBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUJYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFFY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBS3dBckFDc0FKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFEUUFUQUEwQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUZBQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUZBQUJBQUVBQVFBQkFBZUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFIZ0JRQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QVVBQlFBQVFBQkFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQVFBQkFBZUFBMEFEUUFOQUEwQURRQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBVUFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQlFBQjRBSGdBZUFCNEFIZ0FlQUZBQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQXJBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUFRQVVBQlFBRkFBQkFCUUFGQUFVQUJRQUFRQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBUUFCQUFFQUFRQUJBQWVBQjRBSGdBZUFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFIZ0FlQUJvQUhnQXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQURnQU9BQk1BRXdBckFDc0FLd0FyQUNzQUt3QXJBQ3NBQkFBRUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUFRQUJBQUVBQVFBQkFBRUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBTkFBMEFTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FyQUNzQUt3QXJBQ3NBS3dBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFCUUFGQUFVQUJRQUZBQVVBQWVBQjRBSGdCUUFBNEFVQUFyQUNzQVVBQlFBRkFBVUFCUUFGQUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBMEFEUUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFCNEFXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUZnQVdBQllBRmdBV0FCWUFGZ0FXQUJZQUNzQUt3QXJBQVFBSGdBZUFCNEFIZ0FlQUI0QURRQU5BQTBBSGdBZUFCNEFIZ0FyQUZBQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QXJBQ3NBS3dBckFCNEFIZ0JjQUZ3QVhBQmNBRndBS2dCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FYQUJjQUZ3QVhBQmNBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZBQVVBQlFBQVFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQVFBQkFBckFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FyQUNzQUhnQU5BQTBBRFFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QUtnQXFBQ29BWEFBcUFDb0FLZ0JjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUFxQUZ3QUtnQXFBQ29BWEFCY0FDb0FLZ0JjQUZ3QVhBQmNBRndBS2dBcUFGd0FLZ0JjQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGd0FYQUJjQUNvQUtnQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBQkFBRUFBUUFCQUFFQUEwQURRQlFBRkFBVUFBRUFBUUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFBckFDc0FVQUJRQUZBQVVBQlFBRkFBS3dBckFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQURRQUVBQVFBS3dBckFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FLd0FyQUNzQUt3QXJBQ3NBVkFCVkFGVUFWUUJWQUZVQVZRQlZBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlZBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlZBRlVBVlFCVUFGVUFWUUJWQUZVQVZRQlZBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlZBRlVBVlFCVkFGVUFWUUJWQUZVQVZRQlZBRlVBVlFCVkFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZrQVdRQlpBRmtBV1FCWkFGa0FXUUJaQUZrQVdRQlpBRmtBV1FCWkFGa0FXUUJaQUZrQUt3QXJBQ3NBS3dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FXZ0JhQUZvQVdnQmFBRm9BV2dCYUFGb0FLd0FyQUNzQUt3QUdBQVlBQmdBR0FBWUFCZ0FHQUFZQUJnQUdBQVlBQmdBR0FBWUFCZ0FHQUFZQUJnQUdBQVlBQmdBR0FBWUFCZ0FHQUFZQUJnQUdBQVlBQmdBR0FBWUFWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBQ1VBSlFCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBSlFBbEFDVUFKUUFsQUNVQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QXJBRllBQkFCV0FGWUFWZ0JXQUZZQVZnQldBRllBVmdCV0FCNEFWZ0JXQUZZQVZnQldBRllBVmdCV0FGWUFWZ0JXQUZZQVZnQXJBRllBVmdCV0FGWUFWZ0FyQUZZQUt3QldBRllBS3dCV0FGWUFLd0JXQUZZQVZnQldBRllBVmdCV0FGWUFWZ0JXQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUVRQVdBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFhQUI0QUt3QXJBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUdBQVJBQkVBR0FBWUFCTUFFd0FXQUJFQUZBQXJBQ3NBS3dBckFDc0FLd0FFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFDVUFKUUFsQUNVQUpRQVdBQkVBRmdBUkFCWUFFUUFXQUJFQUZnQVJBQllBRVFBbEFDVUFGZ0FSQUNVQUpRQWxBQ1VBSlFBbEFDVUFFUUFsQUJFQUt3QVZBQlVBRXdBVEFDVUFGZ0FSQUJZQUVRQVdBQkVBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ3NBSlFBYkFCb0FKUUFyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFBY0FLd0FUQUNVQUpRQWJBQm9BSlFBbEFCWUFFUUFsQUNVQUVRQWxBQkVBSlFCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFCVUFGUUFsQUNVQUpRQVRBQ1VBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBQllBSlFBUkFDVUFKUUFsQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0FXQUNVQUVRQWxBQllBRVFBUkFCWUFFUUFSQUJVQVZ3QlJBRkVBVVFCUkFGRUFVUUJSQUZFQVVRQlJBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUVjQVJ3QXJBQ3NBVndCWEFGY0FWd0JYQUZjQUt3QXJBRmNBVndCWEFGY0FWd0JYQUNzQUt3QlhBRmNBVndCWEFGY0FWd0FyQUNzQVZ3QlhBRmNBS3dBckFDc0FHZ0FiQUNVQUpRQWxBQnNBR3dBckFCNEFIZ0FlQUI0QUhnQWVBQjRBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBRUFBUUFCQUFRQUIwQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dCUUFGQUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQURRQU5BQTBBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQlFBRkFBSGdBZUFCNEFLd0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQXJBQ3NBS3dBckFCNEFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBQkFBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFBUUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBRUFBUUFLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FEUUJRQUZBQVVBQlFBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFBMEFVQUJRQUZBQVVBQlFBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFCNEFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBVUFBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFDc0FLd0FyQUZBQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUEwQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFCNEFIZ0JRQUZBQVVBQlFBRkFBVUFCUUFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FEUUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QXJBQjRBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQUJBQUVBQVFBS3dBRUFBUUFLd0FyQUNzQUt3QXJBQVFBQkFBRUFBUUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFDc0FCQUFFQUFRQUt3QXJBQ3NBS3dBRUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBRFFBTkFBMEFEUUFOQUEwQURRQU5BQjRBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFCNEFVQUJRQUZBQVVBQlFBRkFBVUFCUUFCNEFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBQkFBRUFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFBMEFEUUFOQUEwQURRQU5BQlFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QU5BQTBBRFFBTkFBMEFEUUFOQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dBckFDc0FIZ0FlQUI0QUhnQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBRUFBUUFCQUFFQUEwQURRQWVBQjRBSGdBZUFCNEFLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FCQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFlQUI0QUhnQU5BQTBBRFFBTkFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUNzQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QU5BQTBBRFFBTkFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUJBQWVBQTRBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBRUFGQUFVQUJRQUZBQURRQU5BQjRBRFFBZUFBUUFCQUFFQUI0QUt3QXJBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBVUFBT0FGQUFEUUFOQUEwQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBTkFBMEFIZ0FOQUEwQUhnQUVBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBS3dCUUFGQUFVQUJRQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUEwQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFLd0FyQUNzQUt3QXJBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBS3dBckFDc0FLd0FyQUNzQUJBQUVBQVFBQkFBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FVQUJRQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBUUFCQUFFQUFRQUJBQXJBQ3NBQkFBRUFDc0FLd0FFQUFRQUJBQXJBQ3NBVUFBckFDc0FLd0FyQUNzQUt3QUVBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBQkFBRUFDc0FLd0FFQUFRQUJBQUVBQVFBQkFBRUFDc0FLd0FyQUFRQUJBQUVBQVFBQkFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FCQUFFQUFRQUJBQUVBQVFBQkFCUUFGQUFVQUJRQUEwQURRQU5BQTBBSGdCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFDc0FEUUFyQUI0QUt3QXJBQVFBQkFBRUFBUUFVQUJRQUI0QVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBRUFBUUFCQUFFQUFRQUJBQUVBQ3NBS3dBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBT0FBMEFEUUFUQUJNQUhnQWVBQjRBRFFBTkFBMEFEUUFOQUEwQURRQU5BQTBBRFFBTkFBMEFEUUFOQUEwQVVBQlFBRkFBVUFBRUFBUUFLd0FyQUFRQURRQU5BQjRBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0FyQUNzQUt3QXJBQ3NBS3dBT0FBNEFEZ0FPQUE0QURnQU9BQTRBRGdBT0FBNEFEZ0FPQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFCY0FGd0FYQUJjQUZ3QVhBQmNBRndBWEFBckFDc0FLd0FxQUNvQUtnQXFBQ29BS2dBcUFDb0FLZ0FxQUNvQUtnQXFBQ29BS2dBckFDc0FLd0FyQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVhBQmNBQTBBRFFBTkFDb0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQUVBQVFBQkFBRUFBUUFCQUFFQUZBQUJBQUVBQVFBQkFBT0FCNEFEUUFOQUEwQURRQU9BQjRBQkFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFVQUJRQUZBQVVBQXJBQ3NBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBMEFEUUFOQUNzQURnQU9BQTRBRFFBTkFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFDc0FCQUFFQUFRQUJBQUVBQVFBQkFBRUFGQUFEUUFOQUEwQURRQU5BQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBT0FCTUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0FyQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBckFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUNzQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBQkFBckFDc0FLd0FFQUNzQUJBQUVBQ3NBQkFBRUFBUUFCQUFFQUFRQUJBQlFBQVFBS3dBckFDc0FLd0FyQUNzQUt3QXJBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBS3dBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBRFFBTkFBMEFEUUFOQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlFBRkFBVUFCUUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBU0FCSUFFZ0FRd0JEQUVNQVVBQlFBRkFBVUFCREFGQUFVQUJRQUVnQVF3QklBRU1BVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBU0FCREFFTUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJJQUVNQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQUt3QXJBQ3NBS3dBTkFBMEFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQVFBQkFBRUFBUUFCQUFOQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFFQUFRQUJBQUVBQVFBQkFBRUFBMEFEUUFOQUI0QUhnQWVBQjRBSGdBZUFGQUFVQUJRQUZBQURRQWVBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQVVBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FCQUFFQUFRQUJBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFFY0FSd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUNzQUt3QWVBQVFBQkFBTkFBUUFCQUFFQUFRQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FIZ0FlQUI0QUhnQWVBQjRBSGdBckFDc0FIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBQkFBRUFBUUFCQUFFQUI0QUhnQWVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFIZ0FlQUFRQUJBQUVBQVFBQkFBRUFBUUFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQUVBQVFBQkFBRUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQjRBSGdBRUFBUUFCQUFlQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQ3NBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FyQUZBQVVBQXJBQ3NBVUFBckFDc0FVQUJRQUNzQUt3QlFBRkFBVUFCUUFDc0FIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUt3QlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQXJBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBckFGQUFVQUJRQUZBQUt3QXJBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQXJBRkFBVUFCUUFGQUFVQUJRQUZBQUt3QWVBQjRBVUFCUUFGQUFVQUJRQUNzQVVBQXJBQ3NBS3dCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQXJBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQWVBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBS3dBckFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBRXNBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUI0QUhnQWVBQjRBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FFQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUJBQWVBQjRBRFFBTkFBMEFEUUFlQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFBUUFCQUFFQUFRQUJBQXJBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FCQUFFQUFRQUJBQUVBQVFBQkFBckFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBckFDc0FCQUFFQUFRQUJBQUVBQVFBQkFBckFBUUFCQUFyQUFRQUJBQUVBQVFBQkFBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQlFBRkFBS3dBckFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFBUUFCQUFFQUFRQUJBQUVBQVFBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBSGdBZUFCNEFIZ0FFQUFRQUJBQUVBQVFBQkFBRUFDc0FLd0FyQUNzQUt3QkxBRXNBU3dCTEFFc0FTd0JMQUVzQVN3QkxBQ3NBS3dBckFDc0FGZ0FXQUZBQVVBQlFBRkFBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFBckFGQUFVQUFyQUZBQUt3QXJBRkFBS3dCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFDc0FVQUJRQUZBQVVBQXJBRkFBS3dCUUFDc0FLd0FyQUNzQUt3QXJBRkFBS3dBckFDc0FLd0JRQUNzQVVBQXJBRkFBS3dCUUFGQUFVQUFyQUZBQVVBQXJBRkFBS3dBckFGQUFLd0JRQUNzQVVBQXJBRkFBS3dCUUFDc0FVQUJRQUNzQVVBQXJBQ3NBVUFCUUFGQUFVQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFLd0JRQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUFyQUZBQUt3QlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBQ3NBS3dBckFDc0FLd0JRQUZBQVVBQXJBRkFBVUFCUUFGQUFVQUFyQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUJRQUZBQVVBQlFBRkFBVUFCUUFGQUFVQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFCNEFIZ0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBVHdCUEFFOEFUd0JQQUU4QVR3QlBBRThBVHdCUEFFOEFUd0FsQUNVQUpRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWVBQ1VBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSGdBZUFDVUFKUUFsQUNVQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUIwQUhRQWRBQjBBSFFBZEFCMEFIUUFkQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ2tBS1FBcEFDa0FLUUFwQUNrQUtRQXBBQ2tBS1FBcEFDa0FLUUFwQUNrQUtRQXBBQ2tBS1FBcEFDa0FLUUFwQUNrQUtRQWxBQ1VBSlFBbEFDVUFJQUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQjRBSGdBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUhnQWVBQ1VBSlFBbEFDVUFKUUFlQUNVQUpRQWxBQ1VBSlFBZ0FDQUFJQUFsQUNVQUlBQWxBQ1VBSUFBZ0FDQUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUlRQWhBQ0VBSVFBaEFDVUFKUUFnQUNBQUpRQWxBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSUFBZ0FDQUFJQUFsQUNVQUpRQWxBQ0FBSlFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSUFBbEFDVUFKUUFnQUNVQUpRQWxBQ1VBSUFBZ0FDQUFKUUFnQUNBQUlBQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFlQUNVQUhnQWxBQjRBSlFBbEFDVUFKUUFsQUNBQUpRQWxBQ1VBSlFBZUFDVUFIZ0FlQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSGdBZUFCNEFIZ0FlQUI0QUhnQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFJQUFnQUNVQUpRQWxBQ1VBSUFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSUFBbEFDVUFKUUFsQUNBQUlBQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFCNEFIZ0FlQUI0QUhnQWVBQ1VBSlFBbEFDVUFKUUFsQUNVQUlBQWdBQ0FBSlFBbEFDVUFJQUFnQUNBQUlBQWdBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFGd0FYQUJjQUZRQVZBQlVBSGdBZUFCNEFIZ0FsQUNVQUpRQWdBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUlBQWdBQ0FBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSUFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFJQUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FsQUNVQUpRQWxBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUpRQWxBQ1VBSlFBbEFDVUFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBZUFCNEFIZ0FlQUI0QUhnQWVBQjRBSGdBZUFCNEFIZ0FlQUI0QUhnQWVBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDQUFJQUFnQUNBQUlBQWxBQ0FBSUFBbEFDVUFKUUFsQUNVQUpRQWdBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSlFBbEFDVUFJQUFnQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNBQUlBQWdBQ0FBSUFBZ0FDQUFJQUFnQUNBQUlBQWdBQ0FBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNzQUt3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQlhBRmNBVndCWEFGY0FWd0JYQUZjQVZ3QlhBRmNBVndCWEFGY0FWd0JYQUZjQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBbEFDVUFKUUFsQUNVQUpRQWxBQ1VBSlFBckFBUUFLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUJBQUVBQVFBQkFBRUFBUUFCQUFFQUFRQUJBQUVBQVFBQkFBRUFBUUFCQUFyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQUt3QXJBQ3NBS3dBckFDc0FLd0FyQUNzQSc7XHJcblxyXG4gICAgLyogQGZsb3cgKi9cclxuICAgIHZhciBMRVRURVJfTlVNQkVSX01PRElGSUVSID0gNTA7XHJcbiAgICAvLyBOb24tdGFpbG9yYWJsZSBMaW5lIEJyZWFraW5nIENsYXNzZXNcclxuICAgIHZhciBCSyA9IDE7IC8vICBDYXVzZSBhIGxpbmUgYnJlYWsgKGFmdGVyKVxyXG4gICAgdmFyIENSID0gMjsgLy8gIENhdXNlIGEgbGluZSBicmVhayAoYWZ0ZXIpLCBleGNlcHQgYmV0d2VlbiBDUiBhbmQgTEZcclxuICAgIHZhciBMRiA9IDM7IC8vICBDYXVzZSBhIGxpbmUgYnJlYWsgKGFmdGVyKVxyXG4gICAgdmFyIENNID0gNDsgLy8gIFByb2hpYml0IGEgbGluZSBicmVhayBiZXR3ZWVuIHRoZSBjaGFyYWN0ZXIgYW5kIHRoZSBwcmVjZWRpbmcgY2hhcmFjdGVyXHJcbiAgICB2YXIgTkwgPSA1OyAvLyAgQ2F1c2UgYSBsaW5lIGJyZWFrIChhZnRlcilcclxuICAgIHZhciBXSiA9IDc7IC8vICBQcm9oaWJpdCBsaW5lIGJyZWFrcyBiZWZvcmUgYW5kIGFmdGVyXHJcbiAgICB2YXIgWlcgPSA4OyAvLyAgUHJvdmlkZSBhIGJyZWFrIG9wcG9ydHVuaXR5XHJcbiAgICB2YXIgR0wgPSA5OyAvLyAgUHJvaGliaXQgbGluZSBicmVha3MgYmVmb3JlIGFuZCBhZnRlclxyXG4gICAgdmFyIFNQID0gMTA7IC8vIEVuYWJsZSBpbmRpcmVjdCBsaW5lIGJyZWFrc1xyXG4gICAgdmFyIFpXSiA9IDExOyAvLyBQcm9oaWJpdCBsaW5lIGJyZWFrcyB3aXRoaW4gam9pbmVyIHNlcXVlbmNlc1xyXG4gICAgLy8gQnJlYWsgT3Bwb3J0dW5pdGllc1xyXG4gICAgdmFyIEIyID0gMTI7IC8vICBQcm92aWRlIGEgbGluZSBicmVhayBvcHBvcnR1bml0eSBiZWZvcmUgYW5kIGFmdGVyIHRoZSBjaGFyYWN0ZXJcclxuICAgIHZhciBCQSA9IDEzOyAvLyAgR2VuZXJhbGx5IHByb3ZpZGUgYSBsaW5lIGJyZWFrIG9wcG9ydHVuaXR5IGFmdGVyIHRoZSBjaGFyYWN0ZXJcclxuICAgIHZhciBCQiA9IDE0OyAvLyAgR2VuZXJhbGx5IHByb3ZpZGUgYSBsaW5lIGJyZWFrIG9wcG9ydHVuaXR5IGJlZm9yZSB0aGUgY2hhcmFjdGVyXHJcbiAgICB2YXIgSFkgPSAxNTsgLy8gIFByb3ZpZGUgYSBsaW5lIGJyZWFrIG9wcG9ydHVuaXR5IGFmdGVyIHRoZSBjaGFyYWN0ZXIsIGV4Y2VwdCBpbiBudW1lcmljIGNvbnRleHRcclxuICAgIHZhciBDQiA9IDE2OyAvLyAgIFByb3ZpZGUgYSBsaW5lIGJyZWFrIG9wcG9ydHVuaXR5IGNvbnRpbmdlbnQgb24gYWRkaXRpb25hbCBpbmZvcm1hdGlvblxyXG4gICAgLy8gQ2hhcmFjdGVycyBQcm9oaWJpdGluZyBDZXJ0YWluIEJyZWFrc1xyXG4gICAgdmFyIENMID0gMTc7IC8vICBQcm9oaWJpdCBsaW5lIGJyZWFrcyBiZWZvcmVcclxuICAgIHZhciBDUCA9IDE4OyAvLyAgUHJvaGliaXQgbGluZSBicmVha3MgYmVmb3JlXHJcbiAgICB2YXIgRVggPSAxOTsgLy8gIFByb2hpYml0IGxpbmUgYnJlYWtzIGJlZm9yZVxyXG4gICAgdmFyIElOID0gMjA7IC8vICBBbGxvdyBvbmx5IGluZGlyZWN0IGxpbmUgYnJlYWtzIGJldHdlZW4gcGFpcnNcclxuICAgIHZhciBOUyA9IDIxOyAvLyAgQWxsb3cgb25seSBpbmRpcmVjdCBsaW5lIGJyZWFrcyBiZWZvcmVcclxuICAgIHZhciBPUCA9IDIyOyAvLyAgUHJvaGliaXQgbGluZSBicmVha3MgYWZ0ZXJcclxuICAgIHZhciBRVSA9IDIzOyAvLyAgQWN0IGxpa2UgdGhleSBhcmUgYm90aCBvcGVuaW5nIGFuZCBjbG9zaW5nXHJcbiAgICAvLyBOdW1lcmljIENvbnRleHRcclxuICAgIHZhciBJUyA9IDI0OyAvLyAgUHJldmVudCBicmVha3MgYWZ0ZXIgYW55IGFuZCBiZWZvcmUgbnVtZXJpY1xyXG4gICAgdmFyIE5VID0gMjU7IC8vICBGb3JtIG51bWVyaWMgZXhwcmVzc2lvbnMgZm9yIGxpbmUgYnJlYWtpbmcgcHVycG9zZXNcclxuICAgIHZhciBQTyA9IDI2OyAvLyAgRG8gbm90IGJyZWFrIGZvbGxvd2luZyBhIG51bWVyaWMgZXhwcmVzc2lvblxyXG4gICAgdmFyIFBSID0gMjc7IC8vICBEbyBub3QgYnJlYWsgaW4gZnJvbnQgb2YgYSBudW1lcmljIGV4cHJlc3Npb25cclxuICAgIHZhciBTWSA9IDI4OyAvLyAgUHJldmVudCBhIGJyZWFrIGJlZm9yZTsgYW5kIGFsbG93IGEgYnJlYWsgYWZ0ZXJcclxuICAgIC8vIE90aGVyIENoYXJhY3RlcnNcclxuICAgIHZhciBBSSA9IDI5OyAvLyAgQWN0IGxpa2UgQUwgd2hlbiB0aGUgcmVzb2x2ZWRFQVcgaXMgTjsgb3RoZXJ3aXNlOyBhY3QgYXMgSURcclxuICAgIHZhciBBTCA9IDMwOyAvLyAgQXJlIGFscGhhYmV0aWMgY2hhcmFjdGVycyBvciBzeW1ib2xzIHRoYXQgYXJlIHVzZWQgd2l0aCBhbHBoYWJldGljIGNoYXJhY3RlcnNcclxuICAgIHZhciBDSiA9IDMxOyAvLyAgVHJlYXQgYXMgTlMgb3IgSUQgZm9yIHN0cmljdCBvciBub3JtYWwgYnJlYWtpbmcuXHJcbiAgICB2YXIgRUIgPSAzMjsgLy8gIERvIG5vdCBicmVhayBmcm9tIGZvbGxvd2luZyBFbW9qaSBNb2RpZmllclxyXG4gICAgdmFyIEVNID0gMzM7IC8vICBEbyBub3QgYnJlYWsgZnJvbSBwcmVjZWRpbmcgRW1vamkgQmFzZVxyXG4gICAgdmFyIEgyID0gMzQ7IC8vICBGb3JtIEtvcmVhbiBzeWxsYWJsZSBibG9ja3NcclxuICAgIHZhciBIMyA9IDM1OyAvLyAgRm9ybSBLb3JlYW4gc3lsbGFibGUgYmxvY2tzXHJcbiAgICB2YXIgSEwgPSAzNjsgLy8gIERvIG5vdCBicmVhayBhcm91bmQgYSBmb2xsb3dpbmcgaHlwaGVuOyBvdGhlcndpc2UgYWN0IGFzIEFscGhhYmV0aWNcclxuICAgIHZhciBJRCA9IDM3OyAvLyAgQnJlYWsgYmVmb3JlIG9yIGFmdGVyOyBleGNlcHQgaW4gc29tZSBudW1lcmljIGNvbnRleHRcclxuICAgIHZhciBKTCA9IDM4OyAvLyAgRm9ybSBLb3JlYW4gc3lsbGFibGUgYmxvY2tzXHJcbiAgICB2YXIgSlYgPSAzOTsgLy8gIEZvcm0gS29yZWFuIHN5bGxhYmxlIGJsb2Nrc1xyXG4gICAgdmFyIEpUID0gNDA7IC8vICBGb3JtIEtvcmVhbiBzeWxsYWJsZSBibG9ja3NcclxuICAgIHZhciBSSSA9IDQxOyAvLyAgS2VlcCBwYWlycyB0b2dldGhlci4gRm9yIHBhaXJzOyBicmVhayBiZWZvcmUgYW5kIGFmdGVyIG90aGVyIGNsYXNzZXNcclxuICAgIHZhciBTQSA9IDQyOyAvLyAgUHJvdmlkZSBhIGxpbmUgYnJlYWsgb3Bwb3J0dW5pdHkgY29udGluZ2VudCBvbiBhZGRpdGlvbmFsLCBsYW5ndWFnZS1zcGVjaWZpYyBjb250ZXh0IGFuYWx5c2lzXHJcbiAgICB2YXIgWFggPSA0MzsgLy8gIEhhdmUgYXMgeWV0IHVua25vd24gbGluZSBicmVha2luZyBiZWhhdmlvciBvciB1bmFzc2lnbmVkIGNvZGUgcG9zaXRpb25zXHJcbiAgICB2YXIgQlJFQUtfTUFOREFUT1JZID0gJyEnO1xyXG4gICAgdmFyIEJSRUFLX05PVF9BTExPV0VEID0gJ8OXJztcclxuICAgIHZhciBCUkVBS19BTExPV0VEID0gJ8O3JztcclxuICAgIHZhciBVbmljb2RlVHJpZSA9IGNyZWF0ZVRyaWVGcm9tQmFzZTY0KGJhc2U2NCk7XHJcbiAgICB2YXIgQUxQSEFCRVRJQ1MgPSBbQUwsIEhMXTtcclxuICAgIHZhciBIQVJEX0xJTkVfQlJFQUtTID0gW0JLLCBDUiwgTEYsIE5MXTtcclxuICAgIHZhciBTUEFDRSA9IFtTUCwgWlddO1xyXG4gICAgdmFyIFBSRUZJWF9QT1NURklYID0gW1BSLCBQT107XHJcbiAgICB2YXIgTElORV9CUkVBS1MgPSBIQVJEX0xJTkVfQlJFQUtTLmNvbmNhdChTUEFDRSk7XHJcbiAgICB2YXIgS09SRUFOX1NZTExBQkxFX0JMT0NLID0gW0pMLCBKViwgSlQsIEgyLCBIM107XHJcbiAgICB2YXIgSFlQSEVOID0gW0hZLCBCQV07XHJcbiAgICB2YXIgY29kZVBvaW50c1RvQ2hhcmFjdGVyQ2xhc3NlcyA9IGZ1bmN0aW9uIChjb2RlUG9pbnRzLCBsaW5lQnJlYWspIHtcclxuICAgICAgICBpZiAobGluZUJyZWFrID09PSB2b2lkIDApIHsgbGluZUJyZWFrID0gJ3N0cmljdCc7IH1cclxuICAgICAgICB2YXIgdHlwZXMgPSBbXTtcclxuICAgICAgICB2YXIgaW5kaWNpZXMgPSBbXTtcclxuICAgICAgICB2YXIgY2F0ZWdvcmllcyA9IFtdO1xyXG4gICAgICAgIGNvZGVQb2ludHMuZm9yRWFjaChmdW5jdGlvbiAoY29kZVBvaW50LCBpbmRleCkge1xyXG4gICAgICAgICAgICB2YXIgY2xhc3NUeXBlID0gVW5pY29kZVRyaWUuZ2V0KGNvZGVQb2ludCk7XHJcbiAgICAgICAgICAgIGlmIChjbGFzc1R5cGUgPiBMRVRURVJfTlVNQkVSX01PRElGSUVSKSB7XHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzLnB1c2godHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBjbGFzc1R5cGUgLT0gTEVUVEVSX05VTUJFUl9NT0RJRklFUjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXMucHVzaChmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKFsnbm9ybWFsJywgJ2F1dG8nLCAnbG9vc2UnXS5pbmRleE9mKGxpbmVCcmVhaykgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBVKzIwMTAsIOKAkyBVKzIwMTMsIOOAnCBVKzMwMUMsIOOCoCBVKzMwQTBcclxuICAgICAgICAgICAgICAgIGlmIChbMHgyMDEwLCAweDIwMTMsIDB4MzAxYywgMHgzMGEwXS5pbmRleE9mKGNvZGVQb2ludCkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kaWNpZXMucHVzaChpbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVzLnB1c2goQ0IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjbGFzc1R5cGUgPT09IENNIHx8IGNsYXNzVHlwZSA9PT0gWldKKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBMQjEwIFRyZWF0IGFueSByZW1haW5pbmcgY29tYmluaW5nIG1hcmsgb3IgWldKIGFzIEFMLlxyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5kaWNpZXMucHVzaChpbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVzLnB1c2goQUwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gTEI5IERvIG5vdCBicmVhayBhIGNvbWJpbmluZyBjaGFyYWN0ZXIgc2VxdWVuY2U7IHRyZWF0IGl0IGFzIGlmIGl0IGhhcyB0aGUgbGluZSBicmVha2luZyBjbGFzcyBvZlxyXG4gICAgICAgICAgICAgICAgLy8gdGhlIGJhc2UgY2hhcmFjdGVyIGluIGFsbCBvZiB0aGUgZm9sbG93aW5nIHJ1bGVzLiBUcmVhdCBaV0ogYXMgaWYgaXQgd2VyZSBDTS5cclxuICAgICAgICAgICAgICAgIHZhciBwcmV2ID0gdHlwZXNbaW5kZXggLSAxXTtcclxuICAgICAgICAgICAgICAgIGlmIChMSU5FX0JSRUFLUy5pbmRleE9mKHByZXYpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGljaWVzLnB1c2goaW5kaWNpZXNbaW5kZXggLSAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVzLnB1c2gocHJldik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbmRpY2llcy5wdXNoKGluZGV4KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlcy5wdXNoKEFMKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbmRpY2llcy5wdXNoKGluZGV4KTtcclxuICAgICAgICAgICAgaWYgKGNsYXNzVHlwZSA9PT0gQ0opIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlcy5wdXNoKGxpbmVCcmVhayA9PT0gJ3N0cmljdCcgPyBOUyA6IElEKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY2xhc3NUeXBlID09PSBTQSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVzLnB1c2goQUwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjbGFzc1R5cGUgPT09IEFJKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZXMucHVzaChBTCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gRm9yIHN1cHBsZW1lbnRhcnkgY2hhcmFjdGVycywgYSB1c2VmdWwgZGVmYXVsdCBpcyB0byB0cmVhdCBjaGFyYWN0ZXJzIGluIHRoZSByYW5nZSAxMDAwMC4uMUZGRkQgYXMgQUxcclxuICAgICAgICAgICAgLy8gYW5kIGNoYXJhY3RlcnMgaW4gdGhlIHJhbmdlcyAyMDAwMC4uMkZGRkQgYW5kIDMwMDAwLi4zRkZGRCBhcyBJRCwgdW50aWwgdGhlIGltcGxlbWVudGF0aW9uIGNhbiBiZSByZXZpc2VkXHJcbiAgICAgICAgICAgIC8vIHRvIHRha2UgaW50byBhY2NvdW50IHRoZSBhY3R1YWwgbGluZSBicmVha2luZyBwcm9wZXJ0aWVzIGZvciB0aGVzZSBjaGFyYWN0ZXJzLlxyXG4gICAgICAgICAgICBpZiAoY2xhc3NUeXBlID09PSBYWCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKChjb2RlUG9pbnQgPj0gMHgyMDAwMCAmJiBjb2RlUG9pbnQgPD0gMHgyZmZmZCkgfHwgKGNvZGVQb2ludCA+PSAweDMwMDAwICYmIGNvZGVQb2ludCA8PSAweDNmZmZkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlcy5wdXNoKElEKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlcy5wdXNoKEFMKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0eXBlcy5wdXNoKGNsYXNzVHlwZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIFtpbmRpY2llcywgdHlwZXMsIGNhdGVnb3JpZXNdO1xyXG4gICAgfTtcclxuICAgIHZhciBpc0FkamFjZW50V2l0aFNwYWNlSWdub3JlZCA9IGZ1bmN0aW9uIChhLCBiLCBjdXJyZW50SW5kZXgsIGNsYXNzVHlwZXMpIHtcclxuICAgICAgICB2YXIgY3VycmVudCA9IGNsYXNzVHlwZXNbY3VycmVudEluZGV4XTtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhKSA/IGEuaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgOiBhID09PSBjdXJyZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBpID0gY3VycmVudEluZGV4O1xyXG4gICAgICAgICAgICB3aGlsZSAoaSA8PSBjbGFzc1R5cGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5leHQgPSBjbGFzc1R5cGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHQgPT09IGIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9PSBTUCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjdXJyZW50ID09PSBTUCkge1xyXG4gICAgICAgICAgICB2YXIgaSA9IGN1cnJlbnRJbmRleDtcclxuICAgICAgICAgICAgd2hpbGUgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJldiA9IGNsYXNzVHlwZXNbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhKSA/IGEuaW5kZXhPZihwcmV2KSAhPT0gLTEgOiBhID09PSBwcmV2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSBjdXJyZW50SW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG4gPD0gY2xhc3NUeXBlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbisrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IGNsYXNzVHlwZXNbbl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ID09PSBiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCAhPT0gU1ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHByZXYgIT09IFNQKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIHZhciBwcmV2aW91c05vblNwYWNlQ2xhc3NUeXBlID0gZnVuY3Rpb24gKGN1cnJlbnRJbmRleCwgY2xhc3NUeXBlcykge1xyXG4gICAgICAgIHZhciBpID0gY3VycmVudEluZGV4O1xyXG4gICAgICAgIHdoaWxlIChpID49IDApIHtcclxuICAgICAgICAgICAgdmFyIHR5cGUgPSBjbGFzc1R5cGVzW2ldO1xyXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gU1ApIHtcclxuICAgICAgICAgICAgICAgIGktLTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfTtcclxuICAgIHZhciBfbGluZUJyZWFrQXRJbmRleCA9IGZ1bmN0aW9uIChjb2RlUG9pbnRzLCBjbGFzc1R5cGVzLCBpbmRpY2llcywgaW5kZXgsIGZvcmJpZGRlbkJyZWFrcykge1xyXG4gICAgICAgIGlmIChpbmRpY2llc1tpbmRleF0gPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY3VycmVudEluZGV4ID0gaW5kZXggLSAxO1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGZvcmJpZGRlbkJyZWFrcykgJiYgZm9yYmlkZGVuQnJlYWtzW2N1cnJlbnRJbmRleF0gPT09IHRydWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYmVmb3JlSW5kZXggPSBjdXJyZW50SW5kZXggLSAxO1xyXG4gICAgICAgIHZhciBhZnRlckluZGV4ID0gY3VycmVudEluZGV4ICsgMTtcclxuICAgICAgICB2YXIgY3VycmVudCA9IGNsYXNzVHlwZXNbY3VycmVudEluZGV4XTtcclxuICAgICAgICAvLyBMQjQgQWx3YXlzIGJyZWFrIGFmdGVyIGhhcmQgbGluZSBicmVha3MuXHJcbiAgICAgICAgLy8gTEI1IFRyZWF0IENSIGZvbGxvd2VkIGJ5IExGLCBhcyB3ZWxsIGFzIENSLCBMRiwgYW5kIE5MIGFzIGhhcmQgbGluZSBicmVha3MuXHJcbiAgICAgICAgdmFyIGJlZm9yZSA9IGJlZm9yZUluZGV4ID49IDAgPyBjbGFzc1R5cGVzW2JlZm9yZUluZGV4XSA6IDA7XHJcbiAgICAgICAgdmFyIG5leHQgPSBjbGFzc1R5cGVzW2FmdGVySW5kZXhdO1xyXG4gICAgICAgIGlmIChjdXJyZW50ID09PSBDUiAmJiBuZXh0ID09PSBMRikge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChIQVJEX0xJTkVfQlJFQUtTLmluZGV4T2YoY3VycmVudCkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19NQU5EQVRPUlk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCNiBEbyBub3QgYnJlYWsgYmVmb3JlIGhhcmQgbGluZSBicmVha3MuXHJcbiAgICAgICAgaWYgKEhBUkRfTElORV9CUkVBS1MuaW5kZXhPZihuZXh0KSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjcgRG8gbm90IGJyZWFrIGJlZm9yZSBzcGFjZXMgb3IgemVybyB3aWR0aCBzcGFjZS5cclxuICAgICAgICBpZiAoU1BBQ0UuaW5kZXhPZihuZXh0KSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjggQnJlYWsgYmVmb3JlIGFueSBjaGFyYWN0ZXIgZm9sbG93aW5nIGEgemVyby13aWR0aCBzcGFjZSwgZXZlbiBpZiBvbmUgb3IgbW9yZSBzcGFjZXMgaW50ZXJ2ZW5lLlxyXG4gICAgICAgIGlmIChwcmV2aW91c05vblNwYWNlQ2xhc3NUeXBlKGN1cnJlbnRJbmRleCwgY2xhc3NUeXBlcykgPT09IFpXKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjhhIERvIG5vdCBicmVhayBiZXR3ZWVuIGEgemVybyB3aWR0aCBqb2luZXIgYW5kIGFuIGlkZW9ncmFwaCwgZW1vamkgYmFzZSBvciBlbW9qaSBtb2RpZmllci5cclxuICAgICAgICBpZiAoVW5pY29kZVRyaWUuZ2V0KGNvZGVQb2ludHNbY3VycmVudEluZGV4XSkgPT09IFpXSiAmJiAobmV4dCA9PT0gSUQgfHwgbmV4dCA9PT0gRUIgfHwgbmV4dCA9PT0gRU0pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIxMSBEbyBub3QgYnJlYWsgYmVmb3JlIG9yIGFmdGVyIFdvcmQgam9pbmVyIGFuZCByZWxhdGVkIGNoYXJhY3RlcnMuXHJcbiAgICAgICAgaWYgKGN1cnJlbnQgPT09IFdKIHx8IG5leHQgPT09IFdKKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIxMiBEbyBub3QgYnJlYWsgYWZ0ZXIgTkJTUCBhbmQgcmVsYXRlZCBjaGFyYWN0ZXJzLlxyXG4gICAgICAgIGlmIChjdXJyZW50ID09PSBHTCkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMTJhIERvIG5vdCBicmVhayBiZWZvcmUgTkJTUCBhbmQgcmVsYXRlZCBjaGFyYWN0ZXJzLCBleGNlcHQgYWZ0ZXIgc3BhY2VzIGFuZCBoeXBoZW5zLlxyXG4gICAgICAgIGlmIChbU1AsIEJBLCBIWV0uaW5kZXhPZihjdXJyZW50KSA9PT0gLTEgJiYgbmV4dCA9PT0gR0wpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjEzIERvIG5vdCBicmVhayBiZWZvcmUg4oCYXeKAmSBvciDigJgh4oCZIG9yIOKAmDvigJkgb3Ig4oCYL+KAmSwgZXZlbiBhZnRlciBzcGFjZXMuXHJcbiAgICAgICAgaWYgKFtDTCwgQ1AsIEVYLCBJUywgU1ldLmluZGV4T2YobmV4dCkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIxNCBEbyBub3QgYnJlYWsgYWZ0ZXIg4oCYW+KAmSwgZXZlbiBhZnRlciBzcGFjZXMuXHJcbiAgICAgICAgaWYgKHByZXZpb3VzTm9uU3BhY2VDbGFzc1R5cGUoY3VycmVudEluZGV4LCBjbGFzc1R5cGVzKSA9PT0gT1ApIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjE1IERvIG5vdCBicmVhayB3aXRoaW4g4oCY4oCdW+KAmSwgZXZlbiB3aXRoIGludGVydmVuaW5nIHNwYWNlcy5cclxuICAgICAgICBpZiAoaXNBZGphY2VudFdpdGhTcGFjZUlnbm9yZWQoUVUsIE9QLCBjdXJyZW50SW5kZXgsIGNsYXNzVHlwZXMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIxNiBEbyBub3QgYnJlYWsgYmV0d2VlbiBjbG9zaW5nIHB1bmN0dWF0aW9uIGFuZCBhIG5vbnN0YXJ0ZXIgKGxiPU5TKSwgZXZlbiB3aXRoIGludGVydmVuaW5nIHNwYWNlcy5cclxuICAgICAgICBpZiAoaXNBZGphY2VudFdpdGhTcGFjZUlnbm9yZWQoW0NMLCBDUF0sIE5TLCBjdXJyZW50SW5kZXgsIGNsYXNzVHlwZXMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIxNyBEbyBub3QgYnJlYWsgd2l0aGluIOKAmOKAlOKAlOKAmSwgZXZlbiB3aXRoIGludGVydmVuaW5nIHNwYWNlcy5cclxuICAgICAgICBpZiAoaXNBZGphY2VudFdpdGhTcGFjZUlnbm9yZWQoQjIsIEIyLCBjdXJyZW50SW5kZXgsIGNsYXNzVHlwZXMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIxOCBCcmVhayBhZnRlciBzcGFjZXMuXHJcbiAgICAgICAgaWYgKGN1cnJlbnQgPT09IFNQKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjE5IERvIG5vdCBicmVhayBiZWZvcmUgb3IgYWZ0ZXIgcXVvdGF0aW9uIG1hcmtzLCBzdWNoIGFzIOKAmCDigJ0g4oCZLlxyXG4gICAgICAgIGlmIChjdXJyZW50ID09PSBRVSB8fCBuZXh0ID09PSBRVSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMjAgQnJlYWsgYmVmb3JlIGFuZCBhZnRlciB1bnJlc29sdmVkIENCLlxyXG4gICAgICAgIGlmIChuZXh0ID09PSBDQiB8fCBjdXJyZW50ID09PSBDQikge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIyMSBEbyBub3QgYnJlYWsgYmVmb3JlIGh5cGhlbi1taW51cywgb3RoZXIgaHlwaGVucywgZml4ZWQtd2lkdGggc3BhY2VzLCBzbWFsbCBrYW5hLCBhbmQgb3RoZXIgbm9uLXN0YXJ0ZXJzLCBvciBhZnRlciBhY3V0ZSBhY2NlbnRzLlxyXG4gICAgICAgIGlmIChbQkEsIEhZLCBOU10uaW5kZXhPZihuZXh0KSAhPT0gLTEgfHwgY3VycmVudCA9PT0gQkIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjIxYSBEb24ndCBicmVhayBhZnRlciBIZWJyZXcgKyBIeXBoZW4uXHJcbiAgICAgICAgaWYgKGJlZm9yZSA9PT0gSEwgJiYgSFlQSEVOLmluZGV4T2YoY3VycmVudCkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIyMWIgRG9u4oCZdCBicmVhayBiZXR3ZWVuIFNvbGlkdXMgYW5kIEhlYnJldyBsZXR0ZXJzLlxyXG4gICAgICAgIGlmIChjdXJyZW50ID09PSBTWSAmJiBuZXh0ID09PSBITCkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMjIgRG8gbm90IGJyZWFrIGJldHdlZW4gdHdvIGVsbGlwc2VzLCBvciBiZXR3ZWVuIGxldHRlcnMsIG51bWJlcnMgb3IgZXhjbGFtYXRpb25zIGFuZCBlbGxpcHNpcy5cclxuICAgICAgICBpZiAobmV4dCA9PT0gSU4gJiYgQUxQSEFCRVRJQ1MuY29uY2F0KElOLCBFWCwgTlUsIElELCBFQiwgRU0pLmluZGV4T2YoY3VycmVudCkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIyMyBEbyBub3QgYnJlYWsgYmV0d2VlbiBkaWdpdHMgYW5kIGxldHRlcnMuXHJcbiAgICAgICAgaWYgKChBTFBIQUJFVElDUy5pbmRleE9mKG5leHQpICE9PSAtMSAmJiBjdXJyZW50ID09PSBOVSkgfHwgKEFMUEhBQkVUSUNTLmluZGV4T2YoY3VycmVudCkgIT09IC0xICYmIG5leHQgPT09IE5VKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMjNhIERvIG5vdCBicmVhayBiZXR3ZWVuIG51bWVyaWMgcHJlZml4ZXMgYW5kIGlkZW9ncmFwaHMsIG9yIGJldHdlZW4gaWRlb2dyYXBocyBhbmQgbnVtZXJpYyBwb3N0Zml4ZXMuXHJcbiAgICAgICAgaWYgKChjdXJyZW50ID09PSBQUiAmJiBbSUQsIEVCLCBFTV0uaW5kZXhPZihuZXh0KSAhPT0gLTEpIHx8XHJcbiAgICAgICAgICAgIChbSUQsIEVCLCBFTV0uaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgJiYgbmV4dCA9PT0gUE8pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIyNCBEbyBub3QgYnJlYWsgYmV0d2VlbiBudW1lcmljIHByZWZpeC9wb3N0Zml4IGFuZCBsZXR0ZXJzLCBvciBiZXR3ZWVuIGxldHRlcnMgYW5kIHByZWZpeC9wb3N0Zml4LlxyXG4gICAgICAgIGlmICgoQUxQSEFCRVRJQ1MuaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgJiYgUFJFRklYX1BPU1RGSVguaW5kZXhPZihuZXh0KSAhPT0gLTEpIHx8XHJcbiAgICAgICAgICAgIChQUkVGSVhfUE9TVEZJWC5pbmRleE9mKGN1cnJlbnQpICE9PSAtMSAmJiBBTFBIQUJFVElDUy5pbmRleE9mKG5leHQpICE9PSAtMSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjI1IERvIG5vdCBicmVhayBiZXR3ZWVuIHRoZSBmb2xsb3dpbmcgcGFpcnMgb2YgY2xhc3NlcyByZWxldmFudCB0byBudW1iZXJzOlxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgLy8gKFBSIHwgUE8pIMOXICggT1AgfCBIWSApPyBOVVxyXG4gICAgICAgICAgICAoW1BSLCBQT10uaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgJiZcclxuICAgICAgICAgICAgICAgIChuZXh0ID09PSBOVSB8fCAoW09QLCBIWV0uaW5kZXhPZihuZXh0KSAhPT0gLTEgJiYgY2xhc3NUeXBlc1thZnRlckluZGV4ICsgMV0gPT09IE5VKSkpIHx8XHJcbiAgICAgICAgICAgIC8vICggT1AgfCBIWSApIMOXIE5VXHJcbiAgICAgICAgICAgIChbT1AsIEhZXS5pbmRleE9mKGN1cnJlbnQpICE9PSAtMSAmJiBuZXh0ID09PSBOVSkgfHxcclxuICAgICAgICAgICAgLy8gTlUgw5dcdChOVSB8IFNZIHwgSVMpXHJcbiAgICAgICAgICAgIChjdXJyZW50ID09PSBOVSAmJiBbTlUsIFNZLCBJU10uaW5kZXhPZihuZXh0KSAhPT0gLTEpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBCUkVBS19OT1RfQUxMT1dFRDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTlUgKE5VIHwgU1kgfCBJUykqIMOXIChOVSB8IFNZIHwgSVMgfCBDTCB8IENQKVxyXG4gICAgICAgIGlmIChbTlUsIFNZLCBJUywgQ0wsIENQXS5pbmRleE9mKG5leHQpICE9PSAtMSkge1xyXG4gICAgICAgICAgICB2YXIgcHJldkluZGV4ID0gY3VycmVudEluZGV4O1xyXG4gICAgICAgICAgICB3aGlsZSAocHJldkluZGV4ID49IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gY2xhc3NUeXBlc1twcmV2SW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IE5VKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoW1NZLCBJU10uaW5kZXhPZih0eXBlKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2SW5kZXgtLTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE5VIChOVSB8IFNZIHwgSVMpKiAoQ0wgfCBDUCk/IMOXIChQTyB8IFBSKSlcclxuICAgICAgICBpZiAoW1BSLCBQT10uaW5kZXhPZihuZXh0KSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgdmFyIHByZXZJbmRleCA9IFtDTCwgQ1BdLmluZGV4T2YoY3VycmVudCkgIT09IC0xID8gYmVmb3JlSW5kZXggOiBjdXJyZW50SW5kZXg7XHJcbiAgICAgICAgICAgIHdoaWxlIChwcmV2SW5kZXggPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBjbGFzc1R5cGVzW3ByZXZJbmRleF07XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gTlUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChbU1ksIElTXS5pbmRleE9mKHR5cGUpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZJbmRleC0tO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTEIyNiBEbyBub3QgYnJlYWsgYSBLb3JlYW4gc3lsbGFibGUuXHJcbiAgICAgICAgaWYgKChKTCA9PT0gY3VycmVudCAmJiBbSkwsIEpWLCBIMiwgSDNdLmluZGV4T2YobmV4dCkgIT09IC0xKSB8fFxyXG4gICAgICAgICAgICAoW0pWLCBIMl0uaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgJiYgW0pWLCBKVF0uaW5kZXhPZihuZXh0KSAhPT0gLTEpIHx8XHJcbiAgICAgICAgICAgIChbSlQsIEgzXS5pbmRleE9mKGN1cnJlbnQpICE9PSAtMSAmJiBuZXh0ID09PSBKVCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjI3IFRyZWF0IGEgS29yZWFuIFN5bGxhYmxlIEJsb2NrIHRoZSBzYW1lIGFzIElELlxyXG4gICAgICAgIGlmICgoS09SRUFOX1NZTExBQkxFX0JMT0NLLmluZGV4T2YoY3VycmVudCkgIT09IC0xICYmIFtJTiwgUE9dLmluZGV4T2YobmV4dCkgIT09IC0xKSB8fFxyXG4gICAgICAgICAgICAoS09SRUFOX1NZTExBQkxFX0JMT0NLLmluZGV4T2YobmV4dCkgIT09IC0xICYmIGN1cnJlbnQgPT09IFBSKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMjggRG8gbm90IGJyZWFrIGJldHdlZW4gYWxwaGFiZXRpY3MgKOKAnGF04oCdKS5cclxuICAgICAgICBpZiAoQUxQSEFCRVRJQ1MuaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgJiYgQUxQSEFCRVRJQ1MuaW5kZXhPZihuZXh0KSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjI5IERvIG5vdCBicmVhayBiZXR3ZWVuIG51bWVyaWMgcHVuY3R1YXRpb24gYW5kIGFscGhhYmV0aWNzICjigJxlLmcu4oCdKS5cclxuICAgICAgICBpZiAoY3VycmVudCA9PT0gSVMgJiYgQUxQSEFCRVRJQ1MuaW5kZXhPZihuZXh0KSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBMQjMwIERvIG5vdCBicmVhayBiZXR3ZWVuIGxldHRlcnMsIG51bWJlcnMsIG9yIG9yZGluYXJ5IHN5bWJvbHMgYW5kIG9wZW5pbmcgb3IgY2xvc2luZyBwYXJlbnRoZXNlcy5cclxuICAgICAgICBpZiAoKEFMUEhBQkVUSUNTLmNvbmNhdChOVSkuaW5kZXhPZihjdXJyZW50KSAhPT0gLTEgJiYgbmV4dCA9PT0gT1ApIHx8XHJcbiAgICAgICAgICAgIChBTFBIQUJFVElDUy5jb25jYXQoTlUpLmluZGV4T2YobmV4dCkgIT09IC0xICYmIGN1cnJlbnQgPT09IENQKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMzBhIEJyZWFrIGJldHdlZW4gdHdvIHJlZ2lvbmFsIGluZGljYXRvciBzeW1ib2xzIGlmIGFuZCBvbmx5IGlmIHRoZXJlIGFyZSBhbiBldmVuIG51bWJlciBvZiByZWdpb25hbFxyXG4gICAgICAgIC8vIGluZGljYXRvcnMgcHJlY2VkaW5nIHRoZSBwb3NpdGlvbiBvZiB0aGUgYnJlYWsuXHJcbiAgICAgICAgaWYgKGN1cnJlbnQgPT09IFJJICYmIG5leHQgPT09IFJJKSB7XHJcbiAgICAgICAgICAgIHZhciBpID0gaW5kaWNpZXNbY3VycmVudEluZGV4XTtcclxuICAgICAgICAgICAgdmFyIGNvdW50ID0gMTtcclxuICAgICAgICAgICAgd2hpbGUgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xhc3NUeXBlc1tpXSA9PT0gUkkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvdW50ICUgMiAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIExCMzBiIERvIG5vdCBicmVhayBiZXR3ZWVuIGFuIGVtb2ppIGJhc2UgYW5kIGFuIGVtb2ppIG1vZGlmaWVyLlxyXG4gICAgICAgIGlmIChjdXJyZW50ID09PSBFQiAmJiBuZXh0ID09PSBFTSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQlJFQUtfTk9UX0FMTE9XRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBCUkVBS19BTExPV0VEO1xyXG4gICAgfTtcclxuICAgIHZhciBjc3NGb3JtYXR0ZWRDbGFzc2VzID0gZnVuY3Rpb24gKGNvZGVQb2ludHMsIG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAoIW9wdGlvbnMpIHtcclxuICAgICAgICAgICAgb3B0aW9ucyA9IHsgbGluZUJyZWFrOiAnbm9ybWFsJywgd29yZEJyZWFrOiAnbm9ybWFsJyB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgX2EgPSBjb2RlUG9pbnRzVG9DaGFyYWN0ZXJDbGFzc2VzKGNvZGVQb2ludHMsIG9wdGlvbnMubGluZUJyZWFrKSwgaW5kaWNpZXMgPSBfYVswXSwgY2xhc3NUeXBlcyA9IF9hWzFdLCBpc0xldHRlck51bWJlciA9IF9hWzJdO1xyXG4gICAgICAgIGlmIChvcHRpb25zLndvcmRCcmVhayA9PT0gJ2JyZWFrLWFsbCcgfHwgb3B0aW9ucy53b3JkQnJlYWsgPT09ICdicmVhay13b3JkJykge1xyXG4gICAgICAgICAgICBjbGFzc1R5cGVzID0gY2xhc3NUeXBlcy5tYXAoZnVuY3Rpb24gKHR5cGUpIHsgcmV0dXJuIChbTlUsIEFMLCBTQV0uaW5kZXhPZih0eXBlKSAhPT0gLTEgPyBJRCA6IHR5cGUpOyB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGZvcmJpZGRlbkJyZWFrcG9pbnRzID0gb3B0aW9ucy53b3JkQnJlYWsgPT09ICdrZWVwLWFsbCdcclxuICAgICAgICAgICAgPyBpc0xldHRlck51bWJlci5tYXAoZnVuY3Rpb24gKGxldHRlck51bWJlciwgaSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxldHRlck51bWJlciAmJiBjb2RlUG9pbnRzW2ldID49IDB4NGUwMCAmJiBjb2RlUG9pbnRzW2ldIDw9IDB4OWZmZjtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgcmV0dXJuIFtpbmRpY2llcywgY2xhc3NUeXBlcywgZm9yYmlkZGVuQnJlYWtwb2ludHNdO1xyXG4gICAgfTtcclxuICAgIHZhciBCcmVhayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBCcmVhayhjb2RlUG9pbnRzLCBsaW5lQnJlYWssIHN0YXJ0LCBlbmQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb2RlUG9pbnRzID0gY29kZVBvaW50cztcclxuICAgICAgICAgICAgdGhpcy5yZXF1aXJlZCA9IGxpbmVCcmVhayA9PT0gQlJFQUtfTUFOREFUT1JZO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7XHJcbiAgICAgICAgICAgIHRoaXMuZW5kID0gZW5kO1xyXG4gICAgICAgIH1cclxuICAgICAgICBCcmVhay5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmcm9tQ29kZVBvaW50LmFwcGx5KHZvaWQgMCwgdGhpcy5jb2RlUG9pbnRzLnNsaWNlKHRoaXMuc3RhcnQsIHRoaXMuZW5kKSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gQnJlYWs7XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIExpbmVCcmVha2VyID0gZnVuY3Rpb24gKHN0ciwgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBjb2RlUG9pbnRzID0gdG9Db2RlUG9pbnRzKHN0cik7XHJcbiAgICAgICAgdmFyIF9hID0gY3NzRm9ybWF0dGVkQ2xhc3Nlcyhjb2RlUG9pbnRzLCBvcHRpb25zKSwgaW5kaWNpZXMgPSBfYVswXSwgY2xhc3NUeXBlcyA9IF9hWzFdLCBmb3JiaWRkZW5CcmVha3BvaW50cyA9IF9hWzJdO1xyXG4gICAgICAgIHZhciBsZW5ndGggPSBjb2RlUG9pbnRzLmxlbmd0aDtcclxuICAgICAgICB2YXIgbGFzdEVuZCA9IDA7XHJcbiAgICAgICAgdmFyIG5leHRJbmRleCA9IDA7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5leHRJbmRleCA+PSBsZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBkb25lOiB0cnVlLCB2YWx1ZTogbnVsbCB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGxpbmVCcmVhayA9IEJSRUFLX05PVF9BTExPV0VEO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKG5leHRJbmRleCA8IGxlbmd0aCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIChsaW5lQnJlYWsgPSBfbGluZUJyZWFrQXRJbmRleChjb2RlUG9pbnRzLCBjbGFzc1R5cGVzLCBpbmRpY2llcywgKytuZXh0SW5kZXgsIGZvcmJpZGRlbkJyZWFrcG9pbnRzKSkgPT09XHJcbiAgICAgICAgICAgICAgICAgICAgQlJFQUtfTk9UX0FMTE9XRUQpIHsgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGxpbmVCcmVhayAhPT0gQlJFQUtfTk9UX0FMTE9XRUQgfHwgbmV4dEluZGV4ID09PSBsZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBuZXcgQnJlYWsoY29kZVBvaW50cywgbGluZUJyZWFrLCBsYXN0RW5kLCBuZXh0SW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RFbmQgPSBuZXh0SW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHZhbHVlLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IG51bGwgfTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLXN5bnRheC0zXHJcbiAgICB2YXIgVG9rZW5UeXBlO1xyXG4gICAgKGZ1bmN0aW9uIChUb2tlblR5cGUpIHtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiU1RSSU5HX1RPS0VOXCJdID0gMF0gPSBcIlNUUklOR19UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJCQURfU1RSSU5HX1RPS0VOXCJdID0gMV0gPSBcIkJBRF9TVFJJTkdfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiTEVGVF9QQVJFTlRIRVNJU19UT0tFTlwiXSA9IDJdID0gXCJMRUZUX1BBUkVOVEhFU0lTX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIlJJR0hUX1BBUkVOVEhFU0lTX1RPS0VOXCJdID0gM10gPSBcIlJJR0hUX1BBUkVOVEhFU0lTX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIkNPTU1BX1RPS0VOXCJdID0gNF0gPSBcIkNPTU1BX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIkhBU0hfVE9LRU5cIl0gPSA1XSA9IFwiSEFTSF9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJERUxJTV9UT0tFTlwiXSA9IDZdID0gXCJERUxJTV9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJBVF9LRVlXT1JEX1RPS0VOXCJdID0gN10gPSBcIkFUX0tFWVdPUkRfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiUFJFRklYX01BVENIX1RPS0VOXCJdID0gOF0gPSBcIlBSRUZJWF9NQVRDSF9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJEQVNIX01BVENIX1RPS0VOXCJdID0gOV0gPSBcIkRBU0hfTUFUQ0hfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiSU5DTFVERV9NQVRDSF9UT0tFTlwiXSA9IDEwXSA9IFwiSU5DTFVERV9NQVRDSF9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJMRUZUX0NVUkxZX0JSQUNLRVRfVE9LRU5cIl0gPSAxMV0gPSBcIkxFRlRfQ1VSTFlfQlJBQ0tFVF9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJSSUdIVF9DVVJMWV9CUkFDS0VUX1RPS0VOXCJdID0gMTJdID0gXCJSSUdIVF9DVVJMWV9CUkFDS0VUX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIlNVRkZJWF9NQVRDSF9UT0tFTlwiXSA9IDEzXSA9IFwiU1VGRklYX01BVENIX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIlNVQlNUUklOR19NQVRDSF9UT0tFTlwiXSA9IDE0XSA9IFwiU1VCU1RSSU5HX01BVENIX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIkRJTUVOU0lPTl9UT0tFTlwiXSA9IDE1XSA9IFwiRElNRU5TSU9OX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIlBFUkNFTlRBR0VfVE9LRU5cIl0gPSAxNl0gPSBcIlBFUkNFTlRBR0VfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiTlVNQkVSX1RPS0VOXCJdID0gMTddID0gXCJOVU1CRVJfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiRlVOQ1RJT05cIl0gPSAxOF0gPSBcIkZVTkNUSU9OXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIkZVTkNUSU9OX1RPS0VOXCJdID0gMTldID0gXCJGVU5DVElPTl9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJJREVOVF9UT0tFTlwiXSA9IDIwXSA9IFwiSURFTlRfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiQ09MVU1OX1RPS0VOXCJdID0gMjFdID0gXCJDT0xVTU5fVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiVVJMX1RPS0VOXCJdID0gMjJdID0gXCJVUkxfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiQkFEX1VSTF9UT0tFTlwiXSA9IDIzXSA9IFwiQkFEX1VSTF9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJDRENfVE9LRU5cIl0gPSAyNF0gPSBcIkNEQ19UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJDRE9fVE9LRU5cIl0gPSAyNV0gPSBcIkNET19UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJDT0xPTl9UT0tFTlwiXSA9IDI2XSA9IFwiQ09MT05fVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiU0VNSUNPTE9OX1RPS0VOXCJdID0gMjddID0gXCJTRU1JQ09MT05fVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiTEVGVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTlwiXSA9IDI4XSA9IFwiTEVGVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJSSUdIVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTlwiXSA9IDI5XSA9IFwiUklHSFRfU1FVQVJFX0JSQUNLRVRfVE9LRU5cIjtcclxuICAgICAgICBUb2tlblR5cGVbVG9rZW5UeXBlW1wiVU5JQ09ERV9SQU5HRV9UT0tFTlwiXSA9IDMwXSA9IFwiVU5JQ09ERV9SQU5HRV9UT0tFTlwiO1xyXG4gICAgICAgIFRva2VuVHlwZVtUb2tlblR5cGVbXCJXSElURVNQQUNFX1RPS0VOXCJdID0gMzFdID0gXCJXSElURVNQQUNFX1RPS0VOXCI7XHJcbiAgICAgICAgVG9rZW5UeXBlW1Rva2VuVHlwZVtcIkVPRl9UT0tFTlwiXSA9IDMyXSA9IFwiRU9GX1RPS0VOXCI7XHJcbiAgICB9KShUb2tlblR5cGUgfHwgKFRva2VuVHlwZSA9IHt9KSk7XHJcbiAgICB2YXIgRkxBR19VTlJFU1RSSUNURUQgPSAxIDw8IDA7XHJcbiAgICB2YXIgRkxBR19JRCA9IDEgPDwgMTtcclxuICAgIHZhciBGTEFHX0lOVEVHRVIgPSAxIDw8IDI7XHJcbiAgICB2YXIgRkxBR19OVU1CRVIgPSAxIDw8IDM7XHJcbiAgICB2YXIgTElORV9GRUVEID0gMHgwMDBhO1xyXG4gICAgdmFyIFNPTElEVVMgPSAweDAwMmY7XHJcbiAgICB2YXIgUkVWRVJTRV9TT0xJRFVTID0gMHgwMDVjO1xyXG4gICAgdmFyIENIQVJBQ1RFUl9UQUJVTEFUSU9OID0gMHgwMDA5O1xyXG4gICAgdmFyIFNQQUNFJDEgPSAweDAwMjA7XHJcbiAgICB2YXIgUVVPVEFUSU9OX01BUksgPSAweDAwMjI7XHJcbiAgICB2YXIgRVFVQUxTX1NJR04gPSAweDAwM2Q7XHJcbiAgICB2YXIgTlVNQkVSX1NJR04gPSAweDAwMjM7XHJcbiAgICB2YXIgRE9MTEFSX1NJR04gPSAweDAwMjQ7XHJcbiAgICB2YXIgUEVSQ0VOVEFHRV9TSUdOID0gMHgwMDI1O1xyXG4gICAgdmFyIEFQT1NUUk9QSEUgPSAweDAwMjc7XHJcbiAgICB2YXIgTEVGVF9QQVJFTlRIRVNJUyA9IDB4MDAyODtcclxuICAgIHZhciBSSUdIVF9QQVJFTlRIRVNJUyA9IDB4MDAyOTtcclxuICAgIHZhciBMT1dfTElORSA9IDB4MDA1ZjtcclxuICAgIHZhciBIWVBIRU5fTUlOVVMgPSAweDAwMmQ7XHJcbiAgICB2YXIgRVhDTEFNQVRJT05fTUFSSyA9IDB4MDAyMTtcclxuICAgIHZhciBMRVNTX1RIQU5fU0lHTiA9IDB4MDAzYztcclxuICAgIHZhciBHUkVBVEVSX1RIQU5fU0lHTiA9IDB4MDAzZTtcclxuICAgIHZhciBDT01NRVJDSUFMX0FUID0gMHgwMDQwO1xyXG4gICAgdmFyIExFRlRfU1FVQVJFX0JSQUNLRVQgPSAweDAwNWI7XHJcbiAgICB2YXIgUklHSFRfU1FVQVJFX0JSQUNLRVQgPSAweDAwNWQ7XHJcbiAgICB2YXIgQ0lSQ1VNRkxFWF9BQ0NFTlQgPSAweDAwM2Q7XHJcbiAgICB2YXIgTEVGVF9DVVJMWV9CUkFDS0VUID0gMHgwMDdiO1xyXG4gICAgdmFyIFFVRVNUSU9OX01BUksgPSAweDAwM2Y7XHJcbiAgICB2YXIgUklHSFRfQ1VSTFlfQlJBQ0tFVCA9IDB4MDA3ZDtcclxuICAgIHZhciBWRVJUSUNBTF9MSU5FID0gMHgwMDdjO1xyXG4gICAgdmFyIFRJTERFID0gMHgwMDdlO1xyXG4gICAgdmFyIENPTlRST0wgPSAweDAwODA7XHJcbiAgICB2YXIgUkVQTEFDRU1FTlRfQ0hBUkFDVEVSID0gMHhmZmZkO1xyXG4gICAgdmFyIEFTVEVSSVNLID0gMHgwMDJhO1xyXG4gICAgdmFyIFBMVVNfU0lHTiA9IDB4MDAyYjtcclxuICAgIHZhciBDT01NQSA9IDB4MDAyYztcclxuICAgIHZhciBDT0xPTiA9IDB4MDAzYTtcclxuICAgIHZhciBTRU1JQ09MT04gPSAweDAwM2I7XHJcbiAgICB2YXIgRlVMTF9TVE9QID0gMHgwMDJlO1xyXG4gICAgdmFyIE5VTEwgPSAweDAwMDA7XHJcbiAgICB2YXIgQkFDS1NQQUNFID0gMHgwMDA4O1xyXG4gICAgdmFyIExJTkVfVEFCVUxBVElPTiA9IDB4MDAwYjtcclxuICAgIHZhciBTSElGVF9PVVQgPSAweDAwMGU7XHJcbiAgICB2YXIgSU5GT1JNQVRJT05fU0VQQVJBVE9SX09ORSA9IDB4MDAxZjtcclxuICAgIHZhciBERUxFVEUgPSAweDAwN2Y7XHJcbiAgICB2YXIgRU9GID0gLTE7XHJcbiAgICB2YXIgWkVSTyA9IDB4MDAzMDtcclxuICAgIHZhciBhID0gMHgwMDYxO1xyXG4gICAgdmFyIGUgPSAweDAwNjU7XHJcbiAgICB2YXIgZiA9IDB4MDA2NjtcclxuICAgIHZhciB1ID0gMHgwMDc1O1xyXG4gICAgdmFyIHogPSAweDAwN2E7XHJcbiAgICB2YXIgQSA9IDB4MDA0MTtcclxuICAgIHZhciBFID0gMHgwMDQ1O1xyXG4gICAgdmFyIEYgPSAweDAwNDY7XHJcbiAgICB2YXIgVSA9IDB4MDA1NTtcclxuICAgIHZhciBaID0gMHgwMDVhO1xyXG4gICAgdmFyIGlzRGlnaXQgPSBmdW5jdGlvbiAoY29kZVBvaW50KSB7IHJldHVybiBjb2RlUG9pbnQgPj0gWkVSTyAmJiBjb2RlUG9pbnQgPD0gMHgwMDM5OyB9O1xyXG4gICAgdmFyIGlzU3Vycm9nYXRlQ29kZVBvaW50ID0gZnVuY3Rpb24gKGNvZGVQb2ludCkgeyByZXR1cm4gY29kZVBvaW50ID49IDB4ZDgwMCAmJiBjb2RlUG9pbnQgPD0gMHhkZmZmOyB9O1xyXG4gICAgdmFyIGlzSGV4ID0gZnVuY3Rpb24gKGNvZGVQb2ludCkge1xyXG4gICAgICAgIHJldHVybiBpc0RpZ2l0KGNvZGVQb2ludCkgfHwgKGNvZGVQb2ludCA+PSBBICYmIGNvZGVQb2ludCA8PSBGKSB8fCAoY29kZVBvaW50ID49IGEgJiYgY29kZVBvaW50IDw9IGYpO1xyXG4gICAgfTtcclxuICAgIHZhciBpc0xvd2VyQ2FzZUxldHRlciA9IGZ1bmN0aW9uIChjb2RlUG9pbnQpIHsgcmV0dXJuIGNvZGVQb2ludCA+PSBhICYmIGNvZGVQb2ludCA8PSB6OyB9O1xyXG4gICAgdmFyIGlzVXBwZXJDYXNlTGV0dGVyID0gZnVuY3Rpb24gKGNvZGVQb2ludCkgeyByZXR1cm4gY29kZVBvaW50ID49IEEgJiYgY29kZVBvaW50IDw9IFo7IH07XHJcbiAgICB2YXIgaXNMZXR0ZXIgPSBmdW5jdGlvbiAoY29kZVBvaW50KSB7IHJldHVybiBpc0xvd2VyQ2FzZUxldHRlcihjb2RlUG9pbnQpIHx8IGlzVXBwZXJDYXNlTGV0dGVyKGNvZGVQb2ludCk7IH07XHJcbiAgICB2YXIgaXNOb25BU0NJSUNvZGVQb2ludCA9IGZ1bmN0aW9uIChjb2RlUG9pbnQpIHsgcmV0dXJuIGNvZGVQb2ludCA+PSBDT05UUk9MOyB9O1xyXG4gICAgdmFyIGlzV2hpdGVTcGFjZSA9IGZ1bmN0aW9uIChjb2RlUG9pbnQpIHtcclxuICAgICAgICByZXR1cm4gY29kZVBvaW50ID09PSBMSU5FX0ZFRUQgfHwgY29kZVBvaW50ID09PSBDSEFSQUNURVJfVEFCVUxBVElPTiB8fCBjb2RlUG9pbnQgPT09IFNQQUNFJDE7XHJcbiAgICB9O1xyXG4gICAgdmFyIGlzTmFtZVN0YXJ0Q29kZVBvaW50ID0gZnVuY3Rpb24gKGNvZGVQb2ludCkge1xyXG4gICAgICAgIHJldHVybiBpc0xldHRlcihjb2RlUG9pbnQpIHx8IGlzTm9uQVNDSUlDb2RlUG9pbnQoY29kZVBvaW50KSB8fCBjb2RlUG9pbnQgPT09IExPV19MSU5FO1xyXG4gICAgfTtcclxuICAgIHZhciBpc05hbWVDb2RlUG9pbnQgPSBmdW5jdGlvbiAoY29kZVBvaW50KSB7XHJcbiAgICAgICAgcmV0dXJuIGlzTmFtZVN0YXJ0Q29kZVBvaW50KGNvZGVQb2ludCkgfHwgaXNEaWdpdChjb2RlUG9pbnQpIHx8IGNvZGVQb2ludCA9PT0gSFlQSEVOX01JTlVTO1xyXG4gICAgfTtcclxuICAgIHZhciBpc05vblByaW50YWJsZUNvZGVQb2ludCA9IGZ1bmN0aW9uIChjb2RlUG9pbnQpIHtcclxuICAgICAgICByZXR1cm4gKChjb2RlUG9pbnQgPj0gTlVMTCAmJiBjb2RlUG9pbnQgPD0gQkFDS1NQQUNFKSB8fFxyXG4gICAgICAgICAgICBjb2RlUG9pbnQgPT09IExJTkVfVEFCVUxBVElPTiB8fFxyXG4gICAgICAgICAgICAoY29kZVBvaW50ID49IFNISUZUX09VVCAmJiBjb2RlUG9pbnQgPD0gSU5GT1JNQVRJT05fU0VQQVJBVE9SX09ORSkgfHxcclxuICAgICAgICAgICAgY29kZVBvaW50ID09PSBERUxFVEUpO1xyXG4gICAgfTtcclxuICAgIHZhciBpc1ZhbGlkRXNjYXBlID0gZnVuY3Rpb24gKGMxLCBjMikge1xyXG4gICAgICAgIGlmIChjMSAhPT0gUkVWRVJTRV9TT0xJRFVTKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGMyICE9PSBMSU5FX0ZFRUQ7XHJcbiAgICB9O1xyXG4gICAgdmFyIGlzSWRlbnRpZmllclN0YXJ0ID0gZnVuY3Rpb24gKGMxLCBjMiwgYzMpIHtcclxuICAgICAgICBpZiAoYzEgPT09IEhZUEhFTl9NSU5VUykge1xyXG4gICAgICAgICAgICByZXR1cm4gaXNOYW1lU3RhcnRDb2RlUG9pbnQoYzIpIHx8IGlzVmFsaWRFc2NhcGUoYzIsIGMzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXNOYW1lU3RhcnRDb2RlUG9pbnQoYzEpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjMSA9PT0gUkVWRVJTRV9TT0xJRFVTICYmIGlzVmFsaWRFc2NhcGUoYzEsIGMyKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIHZhciBpc051bWJlclN0YXJ0ID0gZnVuY3Rpb24gKGMxLCBjMiwgYzMpIHtcclxuICAgICAgICBpZiAoYzEgPT09IFBMVVNfU0lHTiB8fCBjMSA9PT0gSFlQSEVOX01JTlVTKSB7XHJcbiAgICAgICAgICAgIGlmIChpc0RpZ2l0KGMyKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGMyID09PSBGVUxMX1NUT1AgJiYgaXNEaWdpdChjMyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjMSA9PT0gRlVMTF9TVE9QKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpc0RpZ2l0KGMyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGlzRGlnaXQoYzEpO1xyXG4gICAgfTtcclxuICAgIHZhciBzdHJpbmdUb051bWJlciA9IGZ1bmN0aW9uIChjb2RlUG9pbnRzKSB7XHJcbiAgICAgICAgdmFyIGMgPSAwO1xyXG4gICAgICAgIHZhciBzaWduID0gMTtcclxuICAgICAgICBpZiAoY29kZVBvaW50c1tjXSA9PT0gUExVU19TSUdOIHx8IGNvZGVQb2ludHNbY10gPT09IEhZUEhFTl9NSU5VUykge1xyXG4gICAgICAgICAgICBpZiAoY29kZVBvaW50c1tjXSA9PT0gSFlQSEVOX01JTlVTKSB7XHJcbiAgICAgICAgICAgICAgICBzaWduID0gLTE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYysrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaW50ZWdlcnMgPSBbXTtcclxuICAgICAgICB3aGlsZSAoaXNEaWdpdChjb2RlUG9pbnRzW2NdKSkge1xyXG4gICAgICAgICAgICBpbnRlZ2Vycy5wdXNoKGNvZGVQb2ludHNbYysrXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpbnQgPSBpbnRlZ2Vycy5sZW5ndGggPyBwYXJzZUludChmcm9tQ29kZVBvaW50LmFwcGx5KHZvaWQgMCwgaW50ZWdlcnMpLCAxMCkgOiAwO1xyXG4gICAgICAgIGlmIChjb2RlUG9pbnRzW2NdID09PSBGVUxMX1NUT1ApIHtcclxuICAgICAgICAgICAgYysrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZnJhY3Rpb24gPSBbXTtcclxuICAgICAgICB3aGlsZSAoaXNEaWdpdChjb2RlUG9pbnRzW2NdKSkge1xyXG4gICAgICAgICAgICBmcmFjdGlvbi5wdXNoKGNvZGVQb2ludHNbYysrXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBmcmFjZCA9IGZyYWN0aW9uLmxlbmd0aDtcclxuICAgICAgICB2YXIgZnJhYyA9IGZyYWNkID8gcGFyc2VJbnQoZnJvbUNvZGVQb2ludC5hcHBseSh2b2lkIDAsIGZyYWN0aW9uKSwgMTApIDogMDtcclxuICAgICAgICBpZiAoY29kZVBvaW50c1tjXSA9PT0gRSB8fCBjb2RlUG9pbnRzW2NdID09PSBlKSB7XHJcbiAgICAgICAgICAgIGMrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGV4cHNpZ24gPSAxO1xyXG4gICAgICAgIGlmIChjb2RlUG9pbnRzW2NdID09PSBQTFVTX1NJR04gfHwgY29kZVBvaW50c1tjXSA9PT0gSFlQSEVOX01JTlVTKSB7XHJcbiAgICAgICAgICAgIGlmIChjb2RlUG9pbnRzW2NdID09PSBIWVBIRU5fTUlOVVMpIHtcclxuICAgICAgICAgICAgICAgIGV4cHNpZ24gPSAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBleHBvbmVudCA9IFtdO1xyXG4gICAgICAgIHdoaWxlIChpc0RpZ2l0KGNvZGVQb2ludHNbY10pKSB7XHJcbiAgICAgICAgICAgIGV4cG9uZW50LnB1c2goY29kZVBvaW50c1tjKytdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGV4cCA9IGV4cG9uZW50Lmxlbmd0aCA/IHBhcnNlSW50KGZyb21Db2RlUG9pbnQuYXBwbHkodm9pZCAwLCBleHBvbmVudCksIDEwKSA6IDA7XHJcbiAgICAgICAgcmV0dXJuIHNpZ24gKiAoaW50ICsgZnJhYyAqIE1hdGgucG93KDEwLCAtZnJhY2QpKSAqIE1hdGgucG93KDEwLCBleHBzaWduICogZXhwKTtcclxuICAgIH07XHJcbiAgICB2YXIgTEVGVF9QQVJFTlRIRVNJU19UT0tFTiA9IHtcclxuICAgICAgICB0eXBlOiBUb2tlblR5cGUuTEVGVF9QQVJFTlRIRVNJU19UT0tFTlxyXG4gICAgfTtcclxuICAgIHZhciBSSUdIVF9QQVJFTlRIRVNJU19UT0tFTiA9IHtcclxuICAgICAgICB0eXBlOiBUb2tlblR5cGUuUklHSFRfUEFSRU5USEVTSVNfVE9LRU5cclxuICAgIH07XHJcbiAgICB2YXIgQ09NTUFfVE9LRU4gPSB7IHR5cGU6IFRva2VuVHlwZS5DT01NQV9UT0tFTiB9O1xyXG4gICAgdmFyIFNVRkZJWF9NQVRDSF9UT0tFTiA9IHsgdHlwZTogVG9rZW5UeXBlLlNVRkZJWF9NQVRDSF9UT0tFTiB9O1xyXG4gICAgdmFyIFBSRUZJWF9NQVRDSF9UT0tFTiA9IHsgdHlwZTogVG9rZW5UeXBlLlBSRUZJWF9NQVRDSF9UT0tFTiB9O1xyXG4gICAgdmFyIENPTFVNTl9UT0tFTiA9IHsgdHlwZTogVG9rZW5UeXBlLkNPTFVNTl9UT0tFTiB9O1xyXG4gICAgdmFyIERBU0hfTUFUQ0hfVE9LRU4gPSB7IHR5cGU6IFRva2VuVHlwZS5EQVNIX01BVENIX1RPS0VOIH07XHJcbiAgICB2YXIgSU5DTFVERV9NQVRDSF9UT0tFTiA9IHsgdHlwZTogVG9rZW5UeXBlLklOQ0xVREVfTUFUQ0hfVE9LRU4gfTtcclxuICAgIHZhciBMRUZUX0NVUkxZX0JSQUNLRVRfVE9LRU4gPSB7XHJcbiAgICAgICAgdHlwZTogVG9rZW5UeXBlLkxFRlRfQ1VSTFlfQlJBQ0tFVF9UT0tFTlxyXG4gICAgfTtcclxuICAgIHZhciBSSUdIVF9DVVJMWV9CUkFDS0VUX1RPS0VOID0ge1xyXG4gICAgICAgIHR5cGU6IFRva2VuVHlwZS5SSUdIVF9DVVJMWV9CUkFDS0VUX1RPS0VOXHJcbiAgICB9O1xyXG4gICAgdmFyIFNVQlNUUklOR19NQVRDSF9UT0tFTiA9IHsgdHlwZTogVG9rZW5UeXBlLlNVQlNUUklOR19NQVRDSF9UT0tFTiB9O1xyXG4gICAgdmFyIEJBRF9VUkxfVE9LRU4gPSB7IHR5cGU6IFRva2VuVHlwZS5CQURfVVJMX1RPS0VOIH07XHJcbiAgICB2YXIgQkFEX1NUUklOR19UT0tFTiA9IHsgdHlwZTogVG9rZW5UeXBlLkJBRF9TVFJJTkdfVE9LRU4gfTtcclxuICAgIHZhciBDRE9fVE9LRU4gPSB7IHR5cGU6IFRva2VuVHlwZS5DRE9fVE9LRU4gfTtcclxuICAgIHZhciBDRENfVE9LRU4gPSB7IHR5cGU6IFRva2VuVHlwZS5DRENfVE9LRU4gfTtcclxuICAgIHZhciBDT0xPTl9UT0tFTiA9IHsgdHlwZTogVG9rZW5UeXBlLkNPTE9OX1RPS0VOIH07XHJcbiAgICB2YXIgU0VNSUNPTE9OX1RPS0VOID0geyB0eXBlOiBUb2tlblR5cGUuU0VNSUNPTE9OX1RPS0VOIH07XHJcbiAgICB2YXIgTEVGVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTiA9IHtcclxuICAgICAgICB0eXBlOiBUb2tlblR5cGUuTEVGVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTlxyXG4gICAgfTtcclxuICAgIHZhciBSSUdIVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTiA9IHtcclxuICAgICAgICB0eXBlOiBUb2tlblR5cGUuUklHSFRfU1FVQVJFX0JSQUNLRVRfVE9LRU5cclxuICAgIH07XHJcbiAgICB2YXIgV0hJVEVTUEFDRV9UT0tFTiA9IHsgdHlwZTogVG9rZW5UeXBlLldISVRFU1BBQ0VfVE9LRU4gfTtcclxuICAgIHZhciBFT0ZfVE9LRU4gPSB7IHR5cGU6IFRva2VuVHlwZS5FT0ZfVE9LRU4gfTtcclxuICAgIHZhciBUb2tlbml6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gVG9rZW5pemVyKCkge1xyXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBUb2tlbml6ZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKGNodW5rKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdGhpcy5fdmFsdWUuY29uY2F0KHRvQ29kZVBvaW50cyhjaHVuaykpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdG9rZW5zID0gW107XHJcbiAgICAgICAgICAgIHZhciB0b2tlbiA9IHRoaXMuY29uc3VtZVRva2VuKCk7XHJcbiAgICAgICAgICAgIHdoaWxlICh0b2tlbiAhPT0gRU9GX1RPS0VOKSB7XHJcbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XHJcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRoaXMuY29uc3VtZVRva2VuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRva2VucztcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRva2VuaXplci5wcm90b3R5cGUuY29uc3VtZVRva2VuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY29kZVBvaW50ID0gdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoY29kZVBvaW50KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFFVT1RBVElPTl9NQVJLOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVTdHJpbmdUb2tlbihRVU9UQVRJT05fTUFSSyk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIE5VTUJFUl9TSUdOOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjMSA9IHRoaXMucGVla0NvZGVQb2ludCgwKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYzIgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGMzID0gdGhpcy5wZWVrQ29kZVBvaW50KDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05hbWVDb2RlUG9pbnQoYzEpIHx8IGlzVmFsaWRFc2NhcGUoYzIsIGMzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmxhZ3MgPSBpc0lkZW50aWZpZXJTdGFydChjMSwgYzIsIGMzKSA/IEZMQUdfSUQgOiBGTEFHX1VOUkVTVFJJQ1RFRDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5jb25zdW1lTmFtZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB0eXBlOiBUb2tlblR5cGUuSEFTSF9UT0tFTiwgdmFsdWU6IHZhbHVlLCBmbGFnczogZmxhZ3MgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIERPTExBUl9TSUdOOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlZWtDb2RlUG9pbnQoMCkgPT09IEVRVUFMU19TSUdOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1VGRklYX01BVENIX1RPS0VOO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgQVBPU1RST1BIRTpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lU3RyaW5nVG9rZW4oQVBPU1RST1BIRSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIExFRlRfUEFSRU5USEVTSVM6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExFRlRfUEFSRU5USEVTSVNfVE9LRU47XHJcbiAgICAgICAgICAgICAgICBjYXNlIFJJR0hUX1BBUkVOVEhFU0lTOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBSSUdIVF9QQVJFTlRIRVNJU19UT0tFTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgQVNURVJJU0s6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGVla0NvZGVQb2ludCgwKSA9PT0gRVFVQUxTX1NJR04pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTVUJTVFJJTkdfTUFUQ0hfVE9LRU47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBQTFVTX1NJR046XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTnVtYmVyU3RhcnQoY29kZVBvaW50LCB0aGlzLnBlZWtDb2RlUG9pbnQoMCksIHRoaXMucGVla0NvZGVQb2ludCgxKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVDb2RlUG9pbnQoY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZU51bWVyaWNUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgQ09NTUE6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENPTU1BX1RPS0VOO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBIWVBIRU5fTUlOVVM6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGUxID0gY29kZVBvaW50O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlMiA9IHRoaXMucGVla0NvZGVQb2ludCgwKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZTMgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTnVtYmVyU3RhcnQoZTEsIGUyLCBlMykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVDb2RlUG9pbnQoY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZU51bWVyaWNUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNJZGVudGlmaWVyU3RhcnQoZTEsIGUyLCBlMykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVDb2RlUG9pbnQoY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZUlkZW50TGlrZVRva2VuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlMiA9PT0gSFlQSEVOX01JTlVTICYmIGUzID09PSBHUkVBVEVSX1RIQU5fU0lHTikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBDRENfVE9LRU47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBGVUxMX1NUT1A6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTnVtYmVyU3RhcnQoY29kZVBvaW50LCB0aGlzLnBlZWtDb2RlUG9pbnQoMCksIHRoaXMucGVla0NvZGVQb2ludCgxKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVDb2RlUG9pbnQoY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZU51bWVyaWNUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgU09MSURVUzpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBBU1RFUklTSykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjID0gdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYyA9PT0gQVNURVJJU0spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjID0gdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMgPT09IFNPTElEVVMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29uc3VtZVRva2VuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMgPT09IEVPRikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBDT0xPTjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ09MT05fVE9LRU47XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNFTUlDT0xPTjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU0VNSUNPTE9OX1RPS0VOO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBMRVNTX1RIQU5fU0lHTjpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBFWENMQU1BVElPTl9NQVJLICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGVla0NvZGVQb2ludCgxKSA9PT0gSFlQSEVOX01JTlVTICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGVla0NvZGVQb2ludCgyKSA9PT0gSFlQSEVOX01JTlVTKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENET19UT0tFTjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIENPTU1FUkNJQUxfQVQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGExID0gdGhpcy5wZWVrQ29kZVBvaW50KDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhMiA9IHRoaXMucGVla0NvZGVQb2ludCgxKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYTMgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSWRlbnRpZmllclN0YXJ0KGExLCBhMiwgYTMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuY29uc3VtZU5hbWUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogVG9rZW5UeXBlLkFUX0tFWVdPUkRfVE9LRU4sIHZhbHVlOiB2YWx1ZSB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgTEVGVF9TUVVBUkVfQlJBQ0tFVDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTEVGVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgUkVWRVJTRV9TT0xJRFVTOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkRXNjYXBlKGNvZGVQb2ludCwgdGhpcy5wZWVrQ29kZVBvaW50KDApKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29uc3VtZUNvZGVQb2ludChjb2RlUG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lSWRlbnRMaWtlVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFJJR0hUX1NRVUFSRV9CUkFDS0VUOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBSSUdIVF9TUVVBUkVfQlJBQ0tFVF9UT0tFTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgQ0lSQ1VNRkxFWF9BQ0NFTlQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGVla0NvZGVQb2ludCgwKSA9PT0gRVFVQUxTX1NJR04pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQUkVGSVhfTUFUQ0hfVE9LRU47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBMRUZUX0NVUkxZX0JSQUNLRVQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExFRlRfQ1VSTFlfQlJBQ0tFVF9UT0tFTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgUklHSFRfQ1VSTFlfQlJBQ0tFVDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUklHSFRfQ1VSTFlfQlJBQ0tFVF9UT0tFTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgdTpcclxuICAgICAgICAgICAgICAgIGNhc2UgVTpcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdTEgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHUyID0gdGhpcy5wZWVrQ29kZVBvaW50KDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1MSA9PT0gUExVU19TSUdOICYmIChpc0hleCh1MikgfHwgdTIgPT09IFFVRVNUSU9OX01BUkspKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVVbmljb2RlUmFuZ2VUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29uc3VtZUNvZGVQb2ludChjb2RlUG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJZGVudExpa2VUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBWRVJUSUNBTF9MSU5FOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlZWtDb2RlUG9pbnQoMCkgPT09IEVRVUFMU19TSUdOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREFTSF9NQVRDSF9UT0tFTjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGVla0NvZGVQb2ludCgwKSA9PT0gVkVSVElDQUxfTElORSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENPTFVNTl9UT0tFTjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFRJTERFOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlZWtDb2RlUG9pbnQoMCkgPT09IEVRVUFMU19TSUdOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5DTFVERV9NQVRDSF9UT0tFTjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEVPRjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRU9GX1RPS0VOO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc1doaXRlU3BhY2UoY29kZVBvaW50KSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lV2hpdGVTcGFjZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFdISVRFU1BBQ0VfVE9LRU47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzRGlnaXQoY29kZVBvaW50KSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVDb2RlUG9pbnQoY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVOdW1lcmljVG9rZW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNOYW1lU3RhcnRDb2RlUG9pbnQoY29kZVBvaW50KSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVDb2RlUG9pbnQoY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVJZGVudExpa2VUb2tlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFRva2VuVHlwZS5ERUxJTV9UT0tFTiwgdmFsdWU6IGZyb21Db2RlUG9pbnQoY29kZVBvaW50KSB9O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5jb25zdW1lQ29kZVBvaW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLl92YWx1ZS5zaGlmdCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyA/IC0xIDogdmFsdWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUb2tlbml6ZXIucHJvdG90eXBlLnJlY29uc3VtZUNvZGVQb2ludCA9IGZ1bmN0aW9uIChjb2RlUG9pbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5fdmFsdWUudW5zaGlmdChjb2RlUG9pbnQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5wZWVrQ29kZVBvaW50ID0gZnVuY3Rpb24gKGRlbHRhKSB7XHJcbiAgICAgICAgICAgIGlmIChkZWx0YSA+PSB0aGlzLl92YWx1ZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWVbZGVsdGFdO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5jb25zdW1lVW5pY29kZVJhbmdlVG9rZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBkaWdpdHMgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGNvZGVQb2ludCA9IHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICB3aGlsZSAoaXNIZXgoY29kZVBvaW50KSAmJiBkaWdpdHMubGVuZ3RoIDwgNikge1xyXG4gICAgICAgICAgICAgICAgZGlnaXRzLnB1c2goY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBxdWVzdGlvbk1hcmtzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHdoaWxlIChjb2RlUG9pbnQgPT09IFFVRVNUSU9OX01BUksgJiYgZGlnaXRzLmxlbmd0aCA8IDYpIHtcclxuICAgICAgICAgICAgICAgIGRpZ2l0cy5wdXNoKGNvZGVQb2ludCk7XHJcbiAgICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgIHF1ZXN0aW9uTWFya3MgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChxdWVzdGlvbk1hcmtzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnRfMSA9IHBhcnNlSW50KGZyb21Db2RlUG9pbnQuYXBwbHkodm9pZCAwLCBkaWdpdHMubWFwKGZ1bmN0aW9uIChkaWdpdCkgeyByZXR1cm4gKGRpZ2l0ID09PSBRVUVTVElPTl9NQVJLID8gWkVSTyA6IGRpZ2l0KTsgfSkpLCAxNik7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW5kID0gcGFyc2VJbnQoZnJvbUNvZGVQb2ludC5hcHBseSh2b2lkIDAsIGRpZ2l0cy5tYXAoZnVuY3Rpb24gKGRpZ2l0KSB7IHJldHVybiAoZGlnaXQgPT09IFFVRVNUSU9OX01BUksgPyBGIDogZGlnaXQpOyB9KSksIDE2KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFRva2VuVHlwZS5VTklDT0RFX1JBTkdFX1RPS0VOLCBzdGFydDogc3RhcnRfMSwgZW5kOiBlbmQgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBwYXJzZUludChmcm9tQ29kZVBvaW50LmFwcGx5KHZvaWQgMCwgZGlnaXRzKSwgMTYpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBIWVBIRU5fTUlOVVMgJiYgaXNIZXgodGhpcy5wZWVrQ29kZVBvaW50KDEpKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgIHZhciBlbmREaWdpdHMgPSBbXTtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChpc0hleChjb2RlUG9pbnQpICYmIGVuZERpZ2l0cy5sZW5ndGggPCA2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5kRGlnaXRzLnB1c2goY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBlbmQgPSBwYXJzZUludChmcm9tQ29kZVBvaW50LmFwcGx5KHZvaWQgMCwgZW5kRGlnaXRzKSwgMTYpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogVG9rZW5UeXBlLlVOSUNPREVfUkFOR0VfVE9LRU4sIHN0YXJ0OiBzdGFydCwgZW5kOiBlbmQgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFRva2VuVHlwZS5VTklDT0RFX1JBTkdFX1RPS0VOLCBzdGFydDogc3RhcnQsIGVuZDogc3RhcnQgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5jb25zdW1lSWRlbnRMaWtlVG9rZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuY29uc3VtZU5hbWUoKTtcclxuICAgICAgICAgICAgaWYgKHZhbHVlLnRvTG93ZXJDYXNlKCkgPT09ICd1cmwnICYmIHRoaXMucGVla0NvZGVQb2ludCgwKSA9PT0gTEVGVF9QQVJFTlRIRVNJUykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lVXJsVG9rZW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnBlZWtDb2RlUG9pbnQoMCkgPT09IExFRlRfUEFSRU5USEVTSVMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogVG9rZW5UeXBlLkZVTkNUSU9OX1RPS0VOLCB2YWx1ZTogdmFsdWUgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiBUb2tlblR5cGUuSURFTlRfVE9LRU4sIHZhbHVlOiB2YWx1ZSB9O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5jb25zdW1lVXJsVG9rZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVXaGl0ZVNwYWNlKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBlZWtDb2RlUG9pbnQoMCkgPT09IEVPRikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogVG9rZW5UeXBlLlVSTF9UT0tFTiwgdmFsdWU6ICcnIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIG5leHQgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMCk7XHJcbiAgICAgICAgICAgIGlmIChuZXh0ID09PSBBUE9TVFJPUEhFIHx8IG5leHQgPT09IFFVT1RBVElPTl9NQVJLKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RyaW5nVG9rZW4gPSB0aGlzLmNvbnN1bWVTdHJpbmdUb2tlbih0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RyaW5nVG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLlNUUklOR19UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZVdoaXRlU3BhY2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBFT0YgfHwgdGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBSSUdIVF9QQVJFTlRIRVNJUykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogVG9rZW5UeXBlLlVSTF9UT0tFTiwgdmFsdWU6IHN0cmluZ1Rva2VuLnZhbHVlIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQmFkVXJsUmVtbmFudHMoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBCQURfVVJMX1RPS0VOO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29kZVBvaW50ID0gdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29kZVBvaW50ID09PSBFT0YgfHwgY29kZVBvaW50ID09PSBSSUdIVF9QQVJFTlRIRVNJUykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFRva2VuVHlwZS5VUkxfVE9LRU4sIHZhbHVlOiBmcm9tQ29kZVBvaW50LmFwcGx5KHZvaWQgMCwgdmFsdWUpIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc1doaXRlU3BhY2UoY29kZVBvaW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZVdoaXRlU3BhY2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBFT0YgfHwgdGhpcy5wZWVrQ29kZVBvaW50KDApID09PSBSSUdIVF9QQVJFTlRIRVNJUykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogVG9rZW5UeXBlLlVSTF9UT0tFTiwgdmFsdWU6IGZyb21Db2RlUG9pbnQuYXBwbHkodm9pZCAwLCB2YWx1ZSkgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQmFkVXJsUmVtbmFudHMoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQkFEX1VSTF9UT0tFTjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvZGVQb2ludCA9PT0gUVVPVEFUSU9OX01BUksgfHxcclxuICAgICAgICAgICAgICAgICAgICBjb2RlUG9pbnQgPT09IEFQT1NUUk9QSEUgfHxcclxuICAgICAgICAgICAgICAgICAgICBjb2RlUG9pbnQgPT09IExFRlRfUEFSRU5USEVTSVMgfHxcclxuICAgICAgICAgICAgICAgICAgICBpc05vblByaW50YWJsZUNvZGVQb2ludChjb2RlUG9pbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQmFkVXJsUmVtbmFudHMoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQkFEX1VSTF9UT0tFTjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvZGVQb2ludCA9PT0gUkVWRVJTRV9TT0xJRFVTKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFsaWRFc2NhcGUoY29kZVBvaW50LCB0aGlzLnBlZWtDb2RlUG9pbnQoMCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnB1c2godGhpcy5jb25zdW1lRXNjYXBlZENvZGVQb2ludCgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUJhZFVybFJlbW5hbnRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCQURfVVJMX1RPS0VOO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLnB1c2goY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5jb25zdW1lV2hpdGVTcGFjZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgd2hpbGUgKGlzV2hpdGVTcGFjZSh0aGlzLnBlZWtDb2RlUG9pbnQoMCkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5jb25zdW1lQmFkVXJsUmVtbmFudHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29kZVBvaW50ID0gdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29kZVBvaW50ID09PSBSSUdIVF9QQVJFTlRIRVNJUyB8fCBjb2RlUG9pbnQgPT09IEVPRikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkRXNjYXBlKGNvZGVQb2ludCwgdGhpcy5wZWVrQ29kZVBvaW50KDApKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUVzY2FwZWRDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgVG9rZW5pemVyLnByb3RvdHlwZS5jb25zdW1lU3RyaW5nU2xpY2UgPSBmdW5jdGlvbiAoY291bnQpIHtcclxuICAgICAgICAgICAgdmFyIFNMSUNFX1NUQUNLX1NJWkUgPSA2MDAwMDtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgIHdoaWxlIChjb3VudCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciBhbW91bnQgPSBNYXRoLm1pbihTTElDRV9TVEFDS19TSVpFLCBjb3VudCk7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSArPSBmcm9tQ29kZVBvaW50LmFwcGx5KHZvaWQgMCwgdGhpcy5fdmFsdWUuc3BsaWNlKDAsIGFtb3VudCkpO1xyXG4gICAgICAgICAgICAgICAgY291bnQgLT0gYW1vdW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRva2VuaXplci5wcm90b3R5cGUuY29uc3VtZVN0cmluZ1Rva2VuID0gZnVuY3Rpb24gKGVuZGluZ0NvZGVQb2ludCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSAnJztcclxuICAgICAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29kZVBvaW50ID0gdGhpcy5fdmFsdWVbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoY29kZVBvaW50ID09PSBFT0YgfHwgY29kZVBvaW50ID09PSB1bmRlZmluZWQgfHwgY29kZVBvaW50ID09PSBlbmRpbmdDb2RlUG9pbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSArPSB0aGlzLmNvbnN1bWVTdHJpbmdTbGljZShpKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB0eXBlOiBUb2tlblR5cGUuU1RSSU5HX1RPS0VOLCB2YWx1ZTogdmFsdWUgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjb2RlUG9pbnQgPT09IExJTkVfRkVFRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlLnNwbGljZSgwLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQkFEX1NUUklOR19UT0tFTjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjb2RlUG9pbnQgPT09IFJFVkVSU0VfU09MSURVUykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gdGhpcy5fdmFsdWVbaSArIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9PSBFT0YgJiYgbmV4dCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0ID09PSBMSU5FX0ZFRUQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IHRoaXMuY29uc3VtZVN0cmluZ1NsaWNlKGkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWUuc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpc1ZhbGlkRXNjYXBlKGNvZGVQb2ludCwgbmV4dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IHRoaXMuY29uc3VtZVN0cmluZ1NsaWNlKGkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgKz0gZnJvbUNvZGVQb2ludCh0aGlzLmNvbnN1bWVFc2NhcGVkQ29kZVBvaW50KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICB9IHdoaWxlICh0cnVlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRva2VuaXplci5wcm90b3R5cGUuY29uc3VtZU51bWJlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHJlcHIgPSBbXTtcclxuICAgICAgICAgICAgdmFyIHR5cGUgPSBGTEFHX0lOVEVHRVI7XHJcbiAgICAgICAgICAgIHZhciBjMSA9IHRoaXMucGVla0NvZGVQb2ludCgwKTtcclxuICAgICAgICAgICAgaWYgKGMxID09PSBQTFVTX1NJR04gfHwgYzEgPT09IEhZUEhFTl9NSU5VUykge1xyXG4gICAgICAgICAgICAgICAgcmVwci5wdXNoKHRoaXMuY29uc3VtZUNvZGVQb2ludCgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3aGlsZSAoaXNEaWdpdCh0aGlzLnBlZWtDb2RlUG9pbnQoMCkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXByLnB1c2godGhpcy5jb25zdW1lQ29kZVBvaW50KCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGMxID0gdGhpcy5wZWVrQ29kZVBvaW50KDApO1xyXG4gICAgICAgICAgICB2YXIgYzIgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMSk7XHJcbiAgICAgICAgICAgIGlmIChjMSA9PT0gRlVMTF9TVE9QICYmIGlzRGlnaXQoYzIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXByLnB1c2godGhpcy5jb25zdW1lQ29kZVBvaW50KCksIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpKTtcclxuICAgICAgICAgICAgICAgIHR5cGUgPSBGTEFHX05VTUJFUjtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChpc0RpZ2l0KHRoaXMucGVla0NvZGVQb2ludCgwKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXByLnB1c2godGhpcy5jb25zdW1lQ29kZVBvaW50KCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGMxID0gdGhpcy5wZWVrQ29kZVBvaW50KDApO1xyXG4gICAgICAgICAgICBjMiA9IHRoaXMucGVla0NvZGVQb2ludCgxKTtcclxuICAgICAgICAgICAgdmFyIGMzID0gdGhpcy5wZWVrQ29kZVBvaW50KDIpO1xyXG4gICAgICAgICAgICBpZiAoKGMxID09PSBFIHx8IGMxID09PSBlKSAmJiAoKChjMiA9PT0gUExVU19TSUdOIHx8IGMyID09PSBIWVBIRU5fTUlOVVMpICYmIGlzRGlnaXQoYzMpKSB8fCBpc0RpZ2l0KGMyKSkpIHtcclxuICAgICAgICAgICAgICAgIHJlcHIucHVzaCh0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKSwgdGhpcy5jb25zdW1lQ29kZVBvaW50KCkpO1xyXG4gICAgICAgICAgICAgICAgdHlwZSA9IEZMQUdfTlVNQkVSO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGlzRGlnaXQodGhpcy5wZWVrQ29kZVBvaW50KDApKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcHIucHVzaCh0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFtzdHJpbmdUb051bWJlcihyZXByKSwgdHlwZV07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUb2tlbml6ZXIucHJvdG90eXBlLmNvbnN1bWVOdW1lcmljVG9rZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMuY29uc3VtZU51bWJlcigpLCBudW1iZXIgPSBfYVswXSwgZmxhZ3MgPSBfYVsxXTtcclxuICAgICAgICAgICAgdmFyIGMxID0gdGhpcy5wZWVrQ29kZVBvaW50KDApO1xyXG4gICAgICAgICAgICB2YXIgYzIgPSB0aGlzLnBlZWtDb2RlUG9pbnQoMSk7XHJcbiAgICAgICAgICAgIHZhciBjMyA9IHRoaXMucGVla0NvZGVQb2ludCgyKTtcclxuICAgICAgICAgICAgaWYgKGlzSWRlbnRpZmllclN0YXJ0KGMxLCBjMiwgYzMpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdW5pdCA9IHRoaXMuY29uc3VtZU5hbWUoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFRva2VuVHlwZS5ESU1FTlNJT05fVE9LRU4sIG51bWJlcjogbnVtYmVyLCBmbGFnczogZmxhZ3MsIHVuaXQ6IHVuaXQgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYzEgPT09IFBFUkNFTlRBR0VfU0lHTikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyB0eXBlOiBUb2tlblR5cGUuUEVSQ0VOVEFHRV9UT0tFTiwgbnVtYmVyOiBudW1iZXIsIGZsYWdzOiBmbGFncyB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB7IHR5cGU6IFRva2VuVHlwZS5OVU1CRVJfVE9LRU4sIG51bWJlcjogbnVtYmVyLCBmbGFnczogZmxhZ3MgfTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFRva2VuaXplci5wcm90b3R5cGUuY29uc3VtZUVzY2FwZWRDb2RlUG9pbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjb2RlUG9pbnQgPSB0aGlzLmNvbnN1bWVDb2RlUG9pbnQoKTtcclxuICAgICAgICAgICAgaWYgKGlzSGV4KGNvZGVQb2ludCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBoZXggPSBmcm9tQ29kZVBvaW50KGNvZGVQb2ludCk7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoaXNIZXgodGhpcy5wZWVrQ29kZVBvaW50KDApKSAmJiBoZXgubGVuZ3RoIDwgNikge1xyXG4gICAgICAgICAgICAgICAgICAgIGhleCArPSBmcm9tQ29kZVBvaW50KHRoaXMuY29uc3VtZUNvZGVQb2ludCgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpc1doaXRlU3BhY2UodGhpcy5wZWVrQ29kZVBvaW50KDApKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3VtZUNvZGVQb2ludCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGhleENvZGVQb2ludCA9IHBhcnNlSW50KGhleCwgMTYpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGhleENvZGVQb2ludCA9PT0gMCB8fCBpc1N1cnJvZ2F0ZUNvZGVQb2ludChoZXhDb2RlUG9pbnQpIHx8IGhleENvZGVQb2ludCA+IDB4MTBmZmZmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJFUExBQ0VNRU5UX0NIQVJBQ1RFUjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBoZXhDb2RlUG9pbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvZGVQb2ludCA9PT0gRU9GKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gUkVQTEFDRU1FTlRfQ0hBUkFDVEVSO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjb2RlUG9pbnQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBUb2tlbml6ZXIucHJvdG90eXBlLmNvbnN1bWVOYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gJyc7XHJcbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29kZVBvaW50ID0gdGhpcy5jb25zdW1lQ29kZVBvaW50KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNOYW1lQ29kZVBvaW50KGNvZGVQb2ludCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gZnJvbUNvZGVQb2ludChjb2RlUG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNWYWxpZEVzY2FwZShjb2RlUG9pbnQsIHRoaXMucGVla0NvZGVQb2ludCgwKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gZnJvbUNvZGVQb2ludCh0aGlzLmNvbnN1bWVFc2NhcGVkQ29kZVBvaW50KCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVDb2RlUG9pbnQoY29kZVBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gVG9rZW5pemVyO1xyXG4gICAgfSgpKTtcclxuXHJcbiAgICB2YXIgUGFyc2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIFBhcnNlcih0b2tlbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5fdG9rZW5zID0gdG9rZW5zO1xyXG4gICAgICAgIH1cclxuICAgICAgICBQYXJzZXIuY3JlYXRlID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHZhciB0b2tlbml6ZXIgPSBuZXcgVG9rZW5pemVyKCk7XHJcbiAgICAgICAgICAgIHRva2VuaXplci53cml0ZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGFyc2VyKHRva2VuaXplci5yZWFkKCkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgUGFyc2VyLnBhcnNlVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFBhcnNlci5jcmVhdGUodmFsdWUpLnBhcnNlQ29tcG9uZW50VmFsdWUoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFBhcnNlci5wYXJzZVZhbHVlcyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gUGFyc2VyLmNyZWF0ZSh2YWx1ZSkucGFyc2VDb21wb25lbnRWYWx1ZXMoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFBhcnNlci5wcm90b3R5cGUucGFyc2VDb21wb25lbnRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHRva2VuID0gdGhpcy5jb25zdW1lVG9rZW4oKTtcclxuICAgICAgICAgICAgd2hpbGUgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5XSElURVNQQUNFX1RPS0VOKSB7XHJcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRoaXMuY29uc3VtZVRva2VuKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5FT0ZfVE9LRU4pIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcIkVycm9yIHBhcnNpbmcgQ1NTIGNvbXBvbmVudCB2YWx1ZSwgdW5leHBlY3RlZCBFT0ZcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVUb2tlbih0b2tlbik7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuY29uc3VtZUNvbXBvbmVudFZhbHVlKCk7XHJcbiAgICAgICAgICAgIGRvIHtcclxuICAgICAgICAgICAgICAgIHRva2VuID0gdGhpcy5jb25zdW1lVG9rZW4oKTtcclxuICAgICAgICAgICAgfSB3aGlsZSAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLldISVRFU1BBQ0VfVE9LRU4pO1xyXG4gICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLkVPRl9UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcIkVycm9yIHBhcnNpbmcgQ1NTIGNvbXBvbmVudCB2YWx1ZSwgbXVsdGlwbGUgdmFsdWVzIGZvdW5kIHdoZW4gZXhwZWN0aW5nIG9ubHkgb25lXCIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgUGFyc2VyLnByb3RvdHlwZS5wYXJzZUNvbXBvbmVudFZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IFtdO1xyXG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5jb25zdW1lQ29tcG9uZW50VmFsdWUoKTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZS50eXBlID09PSBUb2tlblR5cGUuRU9GX1RPS0VOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFBhcnNlci5wcm90b3R5cGUuY29uc3VtZUNvbXBvbmVudFZhbHVlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdG9rZW4gPSB0aGlzLmNvbnN1bWVUb2tlbigpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLkxFRlRfQ1VSTFlfQlJBQ0tFVF9UT0tFTjpcclxuICAgICAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLkxFRlRfU1FVQVJFX0JSQUNLRVRfVE9LRU46XHJcbiAgICAgICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5MRUZUX1BBUkVOVEhFU0lTX1RPS0VOOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVTaW1wbGVCbG9jayh0b2tlbi50eXBlKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLkZVTkNUSU9OX1RPS0VOOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnN1bWVGdW5jdGlvbih0b2tlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgUGFyc2VyLnByb3RvdHlwZS5jb25zdW1lU2ltcGxlQmxvY2sgPSBmdW5jdGlvbiAodHlwZSkge1xyXG4gICAgICAgICAgICB2YXIgYmxvY2sgPSB7IHR5cGU6IHR5cGUsIHZhbHVlczogW10gfTtcclxuICAgICAgICAgICAgdmFyIHRva2VuID0gdGhpcy5jb25zdW1lVG9rZW4oKTtcclxuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuRU9GX1RPS0VOIHx8IGlzRW5kaW5nVG9rZW5Gb3IodG9rZW4sIHR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJsb2NrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvbnN1bWVUb2tlbih0b2tlbik7XHJcbiAgICAgICAgICAgICAgICBibG9jay52YWx1ZXMucHVzaCh0aGlzLmNvbnN1bWVDb21wb25lbnRWYWx1ZSgpKTtcclxuICAgICAgICAgICAgICAgIHRva2VuID0gdGhpcy5jb25zdW1lVG9rZW4oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgUGFyc2VyLnByb3RvdHlwZS5jb25zdW1lRnVuY3Rpb24gPSBmdW5jdGlvbiAoZnVuY3Rpb25Ub2tlbikge1xyXG4gICAgICAgICAgICB2YXIgY3NzRnVuY3Rpb24gPSB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBmdW5jdGlvblRva2VuLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgdmFsdWVzOiBbXSxcclxuICAgICAgICAgICAgICAgIHR5cGU6IFRva2VuVHlwZS5GVU5DVElPTlxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRva2VuID0gdGhpcy5jb25zdW1lVG9rZW4oKTtcclxuICAgICAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuRU9GX1RPS0VOIHx8IHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5SSUdIVF9QQVJFTlRIRVNJU19UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjc3NGdW5jdGlvbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMucmVjb25zdW1lVG9rZW4odG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgY3NzRnVuY3Rpb24udmFsdWVzLnB1c2godGhpcy5jb25zdW1lQ29tcG9uZW50VmFsdWUoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFBhcnNlci5wcm90b3R5cGUuY29uc3VtZVRva2VuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdG9rZW4gPSB0aGlzLl90b2tlbnMuc2hpZnQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB0b2tlbiA9PT0gJ3VuZGVmaW5lZCcgPyBFT0ZfVE9LRU4gOiB0b2tlbjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFBhcnNlci5wcm90b3R5cGUucmVjb25zdW1lVG9rZW4gPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgICAgICAgICAgdGhpcy5fdG9rZW5zLnVuc2hpZnQodG9rZW4pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFBhcnNlcjtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgaXNEaW1lbnNpb25Ub2tlbiA9IGZ1bmN0aW9uICh0b2tlbikgeyByZXR1cm4gdG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLkRJTUVOU0lPTl9UT0tFTjsgfTtcclxuICAgIHZhciBpc051bWJlclRva2VuID0gZnVuY3Rpb24gKHRva2VuKSB7IHJldHVybiB0b2tlbi50eXBlID09PSBUb2tlblR5cGUuTlVNQkVSX1RPS0VOOyB9O1xyXG4gICAgdmFyIGlzSWRlbnRUb2tlbiA9IGZ1bmN0aW9uICh0b2tlbikgeyByZXR1cm4gdG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLklERU5UX1RPS0VOOyB9O1xyXG4gICAgdmFyIGlzU3RyaW5nVG9rZW4gPSBmdW5jdGlvbiAodG9rZW4pIHsgcmV0dXJuIHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5TVFJJTkdfVE9LRU47IH07XHJcbiAgICB2YXIgaXNJZGVudFdpdGhWYWx1ZSA9IGZ1bmN0aW9uICh0b2tlbiwgdmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gaXNJZGVudFRva2VuKHRva2VuKSAmJiB0b2tlbi52YWx1ZSA9PT0gdmFsdWU7XHJcbiAgICB9O1xyXG4gICAgdmFyIG5vbldoaXRlU3BhY2UgPSBmdW5jdGlvbiAodG9rZW4pIHsgcmV0dXJuIHRva2VuLnR5cGUgIT09IFRva2VuVHlwZS5XSElURVNQQUNFX1RPS0VOOyB9O1xyXG4gICAgdmFyIG5vbkZ1bmN0aW9uQXJnU2VwYXJhdG9yID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgcmV0dXJuIHRva2VuLnR5cGUgIT09IFRva2VuVHlwZS5XSElURVNQQUNFX1RPS0VOICYmIHRva2VuLnR5cGUgIT09IFRva2VuVHlwZS5DT01NQV9UT0tFTjtcclxuICAgIH07XHJcbiAgICB2YXIgcGFyc2VGdW5jdGlvbkFyZ3MgPSBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICB2YXIgYXJnID0gW107XHJcbiAgICAgICAgdG9rZW5zLmZvckVhY2goZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuQ09NTUFfVE9LRU4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChhcmcubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgcGFyc2luZyBmdW5jdGlvbiBhcmdzLCB6ZXJvIHRva2VucyBmb3IgYXJnXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZyk7XHJcbiAgICAgICAgICAgICAgICBhcmcgPSBbXTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodG9rZW4udHlwZSAhPT0gVG9rZW5UeXBlLldISVRFU1BBQ0VfVE9LRU4pIHtcclxuICAgICAgICAgICAgICAgIGFyZy5wdXNoKHRva2VuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChhcmcubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGFyZ3MucHVzaChhcmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXJncztcclxuICAgIH07XHJcbiAgICB2YXIgaXNFbmRpbmdUb2tlbkZvciA9IGZ1bmN0aW9uICh0b2tlbiwgdHlwZSkge1xyXG4gICAgICAgIGlmICh0eXBlID09PSBUb2tlblR5cGUuTEVGVF9DVVJMWV9CUkFDS0VUX1RPS0VOICYmIHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5SSUdIVF9DVVJMWV9CUkFDS0VUX1RPS0VOKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZSA9PT0gVG9rZW5UeXBlLkxFRlRfU1FVQVJFX0JSQUNLRVRfVE9LRU4gJiYgdG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLlJJR0hUX1NRVUFSRV9CUkFDS0VUX1RPS0VOKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHlwZSA9PT0gVG9rZW5UeXBlLkxFRlRfUEFSRU5USEVTSVNfVE9LRU4gJiYgdG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLlJJR0hUX1BBUkVOVEhFU0lTX1RPS0VOO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgaXNMZW5ndGggPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgICAgICByZXR1cm4gdG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLk5VTUJFUl9UT0tFTiB8fCB0b2tlbi50eXBlID09PSBUb2tlblR5cGUuRElNRU5TSU9OX1RPS0VOO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgaXNMZW5ndGhQZXJjZW50YWdlID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgcmV0dXJuIHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5QRVJDRU5UQUdFX1RPS0VOIHx8IGlzTGVuZ3RoKHRva2VuKTtcclxuICAgIH07XHJcbiAgICB2YXIgcGFyc2VMZW5ndGhQZXJjZW50YWdlVHVwbGUgPSBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgcmV0dXJuIHRva2Vucy5sZW5ndGggPiAxID8gW3Rva2Vuc1swXSwgdG9rZW5zWzFdXSA6IFt0b2tlbnNbMF1dO1xyXG4gICAgfTtcclxuICAgIHZhciBaRVJPX0xFTkdUSCA9IHtcclxuICAgICAgICB0eXBlOiBUb2tlblR5cGUuTlVNQkVSX1RPS0VOLFxyXG4gICAgICAgIG51bWJlcjogMCxcclxuICAgICAgICBmbGFnczogRkxBR19JTlRFR0VSXHJcbiAgICB9O1xyXG4gICAgdmFyIEZJRlRZX1BFUkNFTlQgPSB7XHJcbiAgICAgICAgdHlwZTogVG9rZW5UeXBlLlBFUkNFTlRBR0VfVE9LRU4sXHJcbiAgICAgICAgbnVtYmVyOiA1MCxcclxuICAgICAgICBmbGFnczogRkxBR19JTlRFR0VSXHJcbiAgICB9O1xyXG4gICAgdmFyIEhVTkRSRURfUEVSQ0VOVCA9IHtcclxuICAgICAgICB0eXBlOiBUb2tlblR5cGUuUEVSQ0VOVEFHRV9UT0tFTixcclxuICAgICAgICBudW1iZXI6IDEwMCxcclxuICAgICAgICBmbGFnczogRkxBR19JTlRFR0VSXHJcbiAgICB9O1xyXG4gICAgdmFyIGdldEFic29sdXRlVmFsdWVGb3JUdXBsZSA9IGZ1bmN0aW9uICh0dXBsZSwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIHZhciB4ID0gdHVwbGVbMF0sIHkgPSB0dXBsZVsxXTtcclxuICAgICAgICByZXR1cm4gW2dldEFic29sdXRlVmFsdWUoeCwgd2lkdGgpLCBnZXRBYnNvbHV0ZVZhbHVlKHR5cGVvZiB5ICE9PSAndW5kZWZpbmVkJyA/IHkgOiB4LCBoZWlnaHQpXTtcclxuICAgIH07XHJcbiAgICB2YXIgZ2V0QWJzb2x1dGVWYWx1ZSA9IGZ1bmN0aW9uICh0b2tlbiwgcGFyZW50KSB7XHJcbiAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5QRVJDRU5UQUdFX1RPS0VOKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAodG9rZW4ubnVtYmVyIC8gMTAwKSAqIHBhcmVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzRGltZW5zaW9uVG9rZW4odG9rZW4pKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udW5pdCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncmVtJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2VtJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTYgKiB0b2tlbi5udW1iZXI7IC8vIFRPRE8gdXNlIGNvcnJlY3QgZm9udC1zaXplXHJcbiAgICAgICAgICAgICAgICBjYXNlICdweCc6XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbi5udW1iZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRva2VuLm51bWJlcjtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIERFRyA9ICdkZWcnO1xyXG4gICAgdmFyIEdSQUQgPSAnZ3JhZCc7XHJcbiAgICB2YXIgUkFEID0gJ3JhZCc7XHJcbiAgICB2YXIgVFVSTiA9ICd0dXJuJztcclxuICAgIHZhciBhbmdsZSA9IHtcclxuICAgICAgICBuYW1lOiAnYW5nbGUnLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlLnR5cGUgPT09IFRva2VuVHlwZS5ESU1FTlNJT05fVE9LRU4pIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodmFsdWUudW5pdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgREVHOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKE1hdGguUEkgKiB2YWx1ZS5udW1iZXIpIC8gMTgwO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgR1JBRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChNYXRoLlBJIC8gMjAwKSAqIHZhbHVlLm51bWJlcjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFJBRDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLm51bWJlcjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFRVUk46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLlBJICogMiAqIHZhbHVlLm51bWJlcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBhbmdsZSB0eXBlXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgaXNBbmdsZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh2YWx1ZS50eXBlID09PSBUb2tlblR5cGUuRElNRU5TSU9OX1RPS0VOKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZS51bml0ID09PSBERUcgfHwgdmFsdWUudW5pdCA9PT0gR1JBRCB8fCB2YWx1ZS51bml0ID09PSBSQUQgfHwgdmFsdWUudW5pdCA9PT0gVFVSTikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIHZhciBwYXJzZU5hbWVkU2lkZSA9IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICB2YXIgc2lkZU9yQ29ybmVyID0gdG9rZW5zXHJcbiAgICAgICAgICAgIC5maWx0ZXIoaXNJZGVudFRva2VuKVxyXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChpZGVudCkgeyByZXR1cm4gaWRlbnQudmFsdWU7IH0pXHJcbiAgICAgICAgICAgIC5qb2luKCcgJyk7XHJcbiAgICAgICAgc3dpdGNoIChzaWRlT3JDb3JuZXIpIHtcclxuICAgICAgICAgICAgY2FzZSAndG8gYm90dG9tIHJpZ2h0JzpcclxuICAgICAgICAgICAgY2FzZSAndG8gcmlnaHQgYm90dG9tJzpcclxuICAgICAgICAgICAgY2FzZSAnbGVmdCB0b3AnOlxyXG4gICAgICAgICAgICBjYXNlICd0b3AgbGVmdCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1pFUk9fTEVOR1RILCBaRVJPX0xFTkdUSF07XHJcbiAgICAgICAgICAgIGNhc2UgJ3RvIHRvcCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVnKDApO1xyXG4gICAgICAgICAgICBjYXNlICd0byBib3R0b20gbGVmdCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ3RvIGxlZnQgYm90dG9tJzpcclxuICAgICAgICAgICAgY2FzZSAncmlnaHQgdG9wJzpcclxuICAgICAgICAgICAgY2FzZSAndG9wIHJpZ2h0JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBbWkVST19MRU5HVEgsIEhVTkRSRURfUEVSQ0VOVF07XHJcbiAgICAgICAgICAgIGNhc2UgJ3RvIHJpZ2h0JzpcclxuICAgICAgICAgICAgY2FzZSAnbGVmdCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVnKDkwKTtcclxuICAgICAgICAgICAgY2FzZSAndG8gdG9wIGxlZnQnOlxyXG4gICAgICAgICAgICBjYXNlICd0byBsZWZ0IHRvcCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ3JpZ2h0IGJvdHRvbSc6XHJcbiAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSByaWdodCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW0hVTkRSRURfUEVSQ0VOVCwgSFVORFJFRF9QRVJDRU5UXTtcclxuICAgICAgICAgICAgY2FzZSAndG8gYm90dG9tJzpcclxuICAgICAgICAgICAgY2FzZSAndG9wJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZWcoMTgwKTtcclxuICAgICAgICAgICAgY2FzZSAndG8gdG9wIHJpZ2h0JzpcclxuICAgICAgICAgICAgY2FzZSAndG8gcmlnaHQgdG9wJzpcclxuICAgICAgICAgICAgY2FzZSAnbGVmdCBib3R0b20nOlxyXG4gICAgICAgICAgICBjYXNlICdib3R0b20gbGVmdCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW0hVTkRSRURfUEVSQ0VOVCwgWkVST19MRU5HVEhdO1xyXG4gICAgICAgICAgICBjYXNlICd0byBsZWZ0JzpcclxuICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZygyNzApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH07XHJcbiAgICB2YXIgZGVnID0gZnVuY3Rpb24gKGRlZykgeyByZXR1cm4gKE1hdGguUEkgKiBkZWcpIC8gMTgwOyB9O1xyXG5cclxuICAgIHZhciBjb2xvciA9IHtcclxuICAgICAgICBuYW1lOiAnY29sb3InLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlLnR5cGUgPT09IFRva2VuVHlwZS5GVU5DVElPTikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbG9yRnVuY3Rpb24gPSBTVVBQT1JURURfQ09MT1JfRlVOQ1RJT05TW3ZhbHVlLm5hbWVdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb2xvckZ1bmN0aW9uID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRpbmcgdG8gcGFyc2UgYW4gdW5zdXBwb3J0ZWQgY29sb3IgZnVuY3Rpb24gXFxcIlwiICsgdmFsdWUubmFtZSArIFwiXFxcIlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBjb2xvckZ1bmN0aW9uKHZhbHVlLnZhbHVlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHZhbHVlLnR5cGUgPT09IFRva2VuVHlwZS5IQVNIX1RPS0VOKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUudmFsdWUubGVuZ3RoID09PSAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoMCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGcgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoMSwgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoMiwgMyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhY2socGFyc2VJbnQociArIHIsIDE2KSwgcGFyc2VJbnQoZyArIGcsIDE2KSwgcGFyc2VJbnQoYiArIGIsIDE2KSwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUudmFsdWUubGVuZ3RoID09PSA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoMCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGcgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoMSwgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoMiwgMyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoMywgNCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhY2socGFyc2VJbnQociArIHIsIDE2KSwgcGFyc2VJbnQoZyArIGcsIDE2KSwgcGFyc2VJbnQoYiArIGIsIDE2KSwgcGFyc2VJbnQoYSArIGEsIDE2KSAvIDI1NSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUudmFsdWUubGVuZ3RoID09PSA2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoMCwgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGcgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoMiwgNCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoNCwgNik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhY2socGFyc2VJbnQociwgMTYpLCBwYXJzZUludChnLCAxNiksIHBhcnNlSW50KGIsIDE2KSwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUudmFsdWUubGVuZ3RoID09PSA4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoMCwgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGcgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoMiwgNCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoNCwgNik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSB2YWx1ZS52YWx1ZS5zdWJzdHJpbmcoNiwgOCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhY2socGFyc2VJbnQociwgMTYpLCBwYXJzZUludChnLCAxNiksIHBhcnNlSW50KGIsIDE2KSwgcGFyc2VJbnQoYSwgMTYpIC8gMjU1KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodmFsdWUudHlwZSA9PT0gVG9rZW5UeXBlLklERU5UX1RPS0VOKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZWRDb2xvciA9IENPTE9SU1t2YWx1ZS52YWx1ZS50b1VwcGVyQ2FzZSgpXTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbmFtZWRDb2xvciAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmFtZWRDb2xvcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gQ09MT1JTLlRSQU5TUEFSRU5UO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgaXNUcmFuc3BhcmVudCA9IGZ1bmN0aW9uIChjb2xvcikgeyByZXR1cm4gKDB4ZmYgJiBjb2xvcikgPT09IDA7IH07XHJcbiAgICB2YXIgYXNTdHJpbmcgPSBmdW5jdGlvbiAoY29sb3IpIHtcclxuICAgICAgICB2YXIgYWxwaGEgPSAweGZmICYgY29sb3I7XHJcbiAgICAgICAgdmFyIGJsdWUgPSAweGZmICYgKGNvbG9yID4+IDgpO1xyXG4gICAgICAgIHZhciBncmVlbiA9IDB4ZmYgJiAoY29sb3IgPj4gMTYpO1xyXG4gICAgICAgIHZhciByZWQgPSAweGZmICYgKGNvbG9yID4+IDI0KTtcclxuICAgICAgICByZXR1cm4gYWxwaGEgPCAyNTUgPyBcInJnYmEoXCIgKyByZWQgKyBcIixcIiArIGdyZWVuICsgXCIsXCIgKyBibHVlICsgXCIsXCIgKyBhbHBoYSAvIDI1NSArIFwiKVwiIDogXCJyZ2IoXCIgKyByZWQgKyBcIixcIiArIGdyZWVuICsgXCIsXCIgKyBibHVlICsgXCIpXCI7XHJcbiAgICB9O1xyXG4gICAgdmFyIHBhY2sgPSBmdW5jdGlvbiAociwgZywgYiwgYSkge1xyXG4gICAgICAgIHJldHVybiAoKHIgPDwgMjQpIHwgKGcgPDwgMTYpIHwgKGIgPDwgOCkgfCAoTWF0aC5yb3VuZChhICogMjU1KSA8PCAwKSkgPj4+IDA7XHJcbiAgICB9O1xyXG4gICAgdmFyIGdldFRva2VuQ29sb3JWYWx1ZSA9IGZ1bmN0aW9uICh0b2tlbiwgaSkge1xyXG4gICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuTlVNQkVSX1RPS0VOKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0b2tlbi5udW1iZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuUEVSQ0VOVEFHRV9UT0tFTikge1xyXG4gICAgICAgICAgICB2YXIgbWF4ID0gaSA9PT0gMyA/IDEgOiAyNTU7XHJcbiAgICAgICAgICAgIHJldHVybiBpID09PSAzID8gKHRva2VuLm51bWJlciAvIDEwMCkgKiBtYXggOiBNYXRoLnJvdW5kKCh0b2tlbi5udW1iZXIgLyAxMDApICogbWF4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9O1xyXG4gICAgdmFyIHJnYiA9IGZ1bmN0aW9uIChhcmdzKSB7XHJcbiAgICAgICAgdmFyIHRva2VucyA9IGFyZ3MuZmlsdGVyKG5vbkZ1bmN0aW9uQXJnU2VwYXJhdG9yKTtcclxuICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA9PT0gMykge1xyXG4gICAgICAgICAgICB2YXIgX2EgPSB0b2tlbnMubWFwKGdldFRva2VuQ29sb3JWYWx1ZSksIHIgPSBfYVswXSwgZyA9IF9hWzFdLCBiID0gX2FbMl07XHJcbiAgICAgICAgICAgIHJldHVybiBwYWNrKHIsIGcsIGIsIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA9PT0gNCkge1xyXG4gICAgICAgICAgICB2YXIgX2IgPSB0b2tlbnMubWFwKGdldFRva2VuQ29sb3JWYWx1ZSksIHIgPSBfYlswXSwgZyA9IF9iWzFdLCBiID0gX2JbMl0sIGEgPSBfYlszXTtcclxuICAgICAgICAgICAgcmV0dXJuIHBhY2sociwgZywgYiwgYSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfTtcclxuICAgIGZ1bmN0aW9uIGh1ZTJyZ2IodDEsIHQyLCBodWUpIHtcclxuICAgICAgICBpZiAoaHVlIDwgMCkge1xyXG4gICAgICAgICAgICBodWUgKz0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGh1ZSA+PSAxKSB7XHJcbiAgICAgICAgICAgIGh1ZSAtPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaHVlIDwgMSAvIDYpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh0MiAtIHQxKSAqIGh1ZSAqIDYgKyB0MTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaHVlIDwgMSAvIDIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHQyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChodWUgPCAyIC8gMykge1xyXG4gICAgICAgICAgICByZXR1cm4gKHQyIC0gdDEpICogNiAqICgyIC8gMyAtIGh1ZSkgKyB0MTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0MTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB2YXIgaHNsID0gZnVuY3Rpb24gKGFyZ3MpIHtcclxuICAgICAgICB2YXIgdG9rZW5zID0gYXJncy5maWx0ZXIobm9uRnVuY3Rpb25BcmdTZXBhcmF0b3IpO1xyXG4gICAgICAgIHZhciBodWUgPSB0b2tlbnNbMF0sIHNhdHVyYXRpb24gPSB0b2tlbnNbMV0sIGxpZ2h0bmVzcyA9IHRva2Vuc1syXSwgYWxwaGEgPSB0b2tlbnNbM107XHJcbiAgICAgICAgdmFyIGggPSAoaHVlLnR5cGUgPT09IFRva2VuVHlwZS5OVU1CRVJfVE9LRU4gPyBkZWcoaHVlLm51bWJlcikgOiBhbmdsZS5wYXJzZShodWUpKSAvIChNYXRoLlBJICogMik7XHJcbiAgICAgICAgdmFyIHMgPSBpc0xlbmd0aFBlcmNlbnRhZ2Uoc2F0dXJhdGlvbikgPyBzYXR1cmF0aW9uLm51bWJlciAvIDEwMCA6IDA7XHJcbiAgICAgICAgdmFyIGwgPSBpc0xlbmd0aFBlcmNlbnRhZ2UobGlnaHRuZXNzKSA/IGxpZ2h0bmVzcy5udW1iZXIgLyAxMDAgOiAwO1xyXG4gICAgICAgIHZhciBhID0gdHlwZW9mIGFscGhhICE9PSAndW5kZWZpbmVkJyAmJiBpc0xlbmd0aFBlcmNlbnRhZ2UoYWxwaGEpID8gZ2V0QWJzb2x1dGVWYWx1ZShhbHBoYSwgMSkgOiAxO1xyXG4gICAgICAgIGlmIChzID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwYWNrKGwgKiAyNTUsIGwgKiAyNTUsIGwgKiAyNTUsIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdDIgPSBsIDw9IDAuNSA/IGwgKiAocyArIDEpIDogbCArIHMgLSBsICogcztcclxuICAgICAgICB2YXIgdDEgPSBsICogMiAtIHQyO1xyXG4gICAgICAgIHZhciByID0gaHVlMnJnYih0MSwgdDIsIGggKyAxIC8gMyk7XHJcbiAgICAgICAgdmFyIGcgPSBodWUycmdiKHQxLCB0MiwgaCk7XHJcbiAgICAgICAgdmFyIGIgPSBodWUycmdiKHQxLCB0MiwgaCAtIDEgLyAzKTtcclxuICAgICAgICByZXR1cm4gcGFjayhyICogMjU1LCBnICogMjU1LCBiICogMjU1LCBhKTtcclxuICAgIH07XHJcbiAgICB2YXIgU1VQUE9SVEVEX0NPTE9SX0ZVTkNUSU9OUyA9IHtcclxuICAgICAgICBoc2w6IGhzbCxcclxuICAgICAgICBoc2xhOiBoc2wsXHJcbiAgICAgICAgcmdiOiByZ2IsXHJcbiAgICAgICAgcmdiYTogcmdiXHJcbiAgICB9O1xyXG4gICAgdmFyIENPTE9SUyA9IHtcclxuICAgICAgICBBTElDRUJMVUU6IDB4ZjBmOGZmZmYsXHJcbiAgICAgICAgQU5USVFVRVdISVRFOiAweGZhZWJkN2ZmLFxyXG4gICAgICAgIEFRVUE6IDB4MDBmZmZmZmYsXHJcbiAgICAgICAgQVFVQU1BUklORTogMHg3ZmZmZDRmZixcclxuICAgICAgICBBWlVSRTogMHhmMGZmZmZmZixcclxuICAgICAgICBCRUlHRTogMHhmNWY1ZGNmZixcclxuICAgICAgICBCSVNRVUU6IDB4ZmZlNGM0ZmYsXHJcbiAgICAgICAgQkxBQ0s6IDB4MDAwMDAwZmYsXHJcbiAgICAgICAgQkxBTkNIRURBTE1PTkQ6IDB4ZmZlYmNkZmYsXHJcbiAgICAgICAgQkxVRTogMHgwMDAwZmZmZixcclxuICAgICAgICBCTFVFVklPTEVUOiAweDhhMmJlMmZmLFxyXG4gICAgICAgIEJST1dOOiAweGE1MmEyYWZmLFxyXG4gICAgICAgIEJVUkxZV09PRDogMHhkZWI4ODdmZixcclxuICAgICAgICBDQURFVEJMVUU6IDB4NWY5ZWEwZmYsXHJcbiAgICAgICAgQ0hBUlRSRVVTRTogMHg3ZmZmMDBmZixcclxuICAgICAgICBDSE9DT0xBVEU6IDB4ZDI2OTFlZmYsXHJcbiAgICAgICAgQ09SQUw6IDB4ZmY3ZjUwZmYsXHJcbiAgICAgICAgQ09STkZMT1dFUkJMVUU6IDB4NjQ5NWVkZmYsXHJcbiAgICAgICAgQ09STlNJTEs6IDB4ZmZmOGRjZmYsXHJcbiAgICAgICAgQ1JJTVNPTjogMHhkYzE0M2NmZixcclxuICAgICAgICBDWUFOOiAweDAwZmZmZmZmLFxyXG4gICAgICAgIERBUktCTFVFOiAweDAwMDA4YmZmLFxyXG4gICAgICAgIERBUktDWUFOOiAweDAwOGI4YmZmLFxyXG4gICAgICAgIERBUktHT0xERU5ST0Q6IDB4Yjg4NmJiZmYsXHJcbiAgICAgICAgREFSS0dSQVk6IDB4YTlhOWE5ZmYsXHJcbiAgICAgICAgREFSS0dSRUVOOiAweDAwNjQwMGZmLFxyXG4gICAgICAgIERBUktHUkVZOiAweGE5YTlhOWZmLFxyXG4gICAgICAgIERBUktLSEFLSTogMHhiZGI3NmJmZixcclxuICAgICAgICBEQVJLTUFHRU5UQTogMHg4YjAwOGJmZixcclxuICAgICAgICBEQVJLT0xJVkVHUkVFTjogMHg1NTZiMmZmZixcclxuICAgICAgICBEQVJLT1JBTkdFOiAweGZmOGMwMGZmLFxyXG4gICAgICAgIERBUktPUkNISUQ6IDB4OTkzMmNjZmYsXHJcbiAgICAgICAgREFSS1JFRDogMHg4YjAwMDBmZixcclxuICAgICAgICBEQVJLU0FMTU9OOiAweGU5OTY3YWZmLFxyXG4gICAgICAgIERBUktTRUFHUkVFTjogMHg4ZmJjOGZmZixcclxuICAgICAgICBEQVJLU0xBVEVCTFVFOiAweDQ4M2Q4YmZmLFxyXG4gICAgICAgIERBUktTTEFURUdSQVk6IDB4MmY0ZjRmZmYsXHJcbiAgICAgICAgREFSS1NMQVRFR1JFWTogMHgyZjRmNGZmZixcclxuICAgICAgICBEQVJLVFVSUVVPSVNFOiAweDAwY2VkMWZmLFxyXG4gICAgICAgIERBUktWSU9MRVQ6IDB4OTQwMGQzZmYsXHJcbiAgICAgICAgREVFUFBJTks6IDB4ZmYxNDkzZmYsXHJcbiAgICAgICAgREVFUFNLWUJMVUU6IDB4MDBiZmZmZmYsXHJcbiAgICAgICAgRElNR1JBWTogMHg2OTY5NjlmZixcclxuICAgICAgICBESU1HUkVZOiAweDY5Njk2OWZmLFxyXG4gICAgICAgIERPREdFUkJMVUU6IDB4MWU5MGZmZmYsXHJcbiAgICAgICAgRklSRUJSSUNLOiAweGIyMjIyMmZmLFxyXG4gICAgICAgIEZMT1JBTFdISVRFOiAweGZmZmFmMGZmLFxyXG4gICAgICAgIEZPUkVTVEdSRUVOOiAweDIyOGIyMmZmLFxyXG4gICAgICAgIEZVQ0hTSUE6IDB4ZmYwMGZmZmYsXHJcbiAgICAgICAgR0FJTlNCT1JPOiAweGRjZGNkY2ZmLFxyXG4gICAgICAgIEdIT1NUV0hJVEU6IDB4ZjhmOGZmZmYsXHJcbiAgICAgICAgR09MRDogMHhmZmQ3MDBmZixcclxuICAgICAgICBHT0xERU5ST0Q6IDB4ZGFhNTIwZmYsXHJcbiAgICAgICAgR1JBWTogMHg4MDgwODBmZixcclxuICAgICAgICBHUkVFTjogMHgwMDgwMDBmZixcclxuICAgICAgICBHUkVFTllFTExPVzogMHhhZGZmMmZmZixcclxuICAgICAgICBHUkVZOiAweDgwODA4MGZmLFxyXG4gICAgICAgIEhPTkVZREVXOiAweGYwZmZmMGZmLFxyXG4gICAgICAgIEhPVFBJTks6IDB4ZmY2OWI0ZmYsXHJcbiAgICAgICAgSU5ESUFOUkVEOiAweGNkNWM1Y2ZmLFxyXG4gICAgICAgIElORElHTzogMHg0YjAwODJmZixcclxuICAgICAgICBJVk9SWTogMHhmZmZmZjBmZixcclxuICAgICAgICBLSEFLSTogMHhmMGU2OGNmZixcclxuICAgICAgICBMQVZFTkRFUjogMHhlNmU2ZmFmZixcclxuICAgICAgICBMQVZFTkRFUkJMVVNIOiAweGZmZjBmNWZmLFxyXG4gICAgICAgIExBV05HUkVFTjogMHg3Y2ZjMDBmZixcclxuICAgICAgICBMRU1PTkNISUZGT046IDB4ZmZmYWNkZmYsXHJcbiAgICAgICAgTElHSFRCTFVFOiAweGFkZDhlNmZmLFxyXG4gICAgICAgIExJR0hUQ09SQUw6IDB4ZjA4MDgwZmYsXHJcbiAgICAgICAgTElHSFRDWUFOOiAweGUwZmZmZmZmLFxyXG4gICAgICAgIExJR0hUR09MREVOUk9EWUVMTE9XOiAweGZhZmFkMmZmLFxyXG4gICAgICAgIExJR0hUR1JBWTogMHhkM2QzZDNmZixcclxuICAgICAgICBMSUdIVEdSRUVOOiAweDkwZWU5MGZmLFxyXG4gICAgICAgIExJR0hUR1JFWTogMHhkM2QzZDNmZixcclxuICAgICAgICBMSUdIVFBJTks6IDB4ZmZiNmMxZmYsXHJcbiAgICAgICAgTElHSFRTQUxNT046IDB4ZmZhMDdhZmYsXHJcbiAgICAgICAgTElHSFRTRUFHUkVFTjogMHgyMGIyYWFmZixcclxuICAgICAgICBMSUdIVFNLWUJMVUU6IDB4ODdjZWZhZmYsXHJcbiAgICAgICAgTElHSFRTTEFURUdSQVk6IDB4Nzc4ODk5ZmYsXHJcbiAgICAgICAgTElHSFRTTEFURUdSRVk6IDB4Nzc4ODk5ZmYsXHJcbiAgICAgICAgTElHSFRTVEVFTEJMVUU6IDB4YjBjNGRlZmYsXHJcbiAgICAgICAgTElHSFRZRUxMT1c6IDB4ZmZmZmUwZmYsXHJcbiAgICAgICAgTElNRTogMHgwMGZmMDBmZixcclxuICAgICAgICBMSU1FR1JFRU46IDB4MzJjZDMyZmYsXHJcbiAgICAgICAgTElORU46IDB4ZmFmMGU2ZmYsXHJcbiAgICAgICAgTUFHRU5UQTogMHhmZjAwZmZmZixcclxuICAgICAgICBNQVJPT046IDB4ODAwMDAwZmYsXHJcbiAgICAgICAgTUVESVVNQVFVQU1BUklORTogMHg2NmNkYWFmZixcclxuICAgICAgICBNRURJVU1CTFVFOiAweDAwMDBjZGZmLFxyXG4gICAgICAgIE1FRElVTU9SQ0hJRDogMHhiYTU1ZDNmZixcclxuICAgICAgICBNRURJVU1QVVJQTEU6IDB4OTM3MGRiZmYsXHJcbiAgICAgICAgTUVESVVNU0VBR1JFRU46IDB4M2NiMzcxZmYsXHJcbiAgICAgICAgTUVESVVNU0xBVEVCTFVFOiAweDdiNjhlZWZmLFxyXG4gICAgICAgIE1FRElVTVNQUklOR0dSRUVOOiAweDAwZmE5YWZmLFxyXG4gICAgICAgIE1FRElVTVRVUlFVT0lTRTogMHg0OGQxY2NmZixcclxuICAgICAgICBNRURJVU1WSU9MRVRSRUQ6IDB4YzcxNTg1ZmYsXHJcbiAgICAgICAgTUlETklHSFRCTFVFOiAweDE5MTk3MGZmLFxyXG4gICAgICAgIE1JTlRDUkVBTTogMHhmNWZmZmFmZixcclxuICAgICAgICBNSVNUWVJPU0U6IDB4ZmZlNGUxZmYsXHJcbiAgICAgICAgTU9DQ0FTSU46IDB4ZmZlNGI1ZmYsXHJcbiAgICAgICAgTkFWQUpPV0hJVEU6IDB4ZmZkZWFkZmYsXHJcbiAgICAgICAgTkFWWTogMHgwMDAwODBmZixcclxuICAgICAgICBPTERMQUNFOiAweGZkZjVlNmZmLFxyXG4gICAgICAgIE9MSVZFOiAweDgwODAwMGZmLFxyXG4gICAgICAgIE9MSVZFRFJBQjogMHg2YjhlMjNmZixcclxuICAgICAgICBPUkFOR0U6IDB4ZmZhNTAwZmYsXHJcbiAgICAgICAgT1JBTkdFUkVEOiAweGZmNDUwMGZmLFxyXG4gICAgICAgIE9SQ0hJRDogMHhkYTcwZDZmZixcclxuICAgICAgICBQQUxFR09MREVOUk9EOiAweGVlZThhYWZmLFxyXG4gICAgICAgIFBBTEVHUkVFTjogMHg5OGZiOThmZixcclxuICAgICAgICBQQUxFVFVSUVVPSVNFOiAweGFmZWVlZWZmLFxyXG4gICAgICAgIFBBTEVWSU9MRVRSRUQ6IDB4ZGI3MDkzZmYsXHJcbiAgICAgICAgUEFQQVlBV0hJUDogMHhmZmVmZDVmZixcclxuICAgICAgICBQRUFDSFBVRkY6IDB4ZmZkYWI5ZmYsXHJcbiAgICAgICAgUEVSVTogMHhjZDg1M2ZmZixcclxuICAgICAgICBQSU5LOiAweGZmYzBjYmZmLFxyXG4gICAgICAgIFBMVU06IDB4ZGRhMGRkZmYsXHJcbiAgICAgICAgUE9XREVSQkxVRTogMHhiMGUwZTZmZixcclxuICAgICAgICBQVVJQTEU6IDB4ODAwMDgwZmYsXHJcbiAgICAgICAgUkVCRUNDQVBVUlBMRTogMHg2NjMzOTlmZixcclxuICAgICAgICBSRUQ6IDB4ZmYwMDAwZmYsXHJcbiAgICAgICAgUk9TWUJST1dOOiAweGJjOGY4ZmZmLFxyXG4gICAgICAgIFJPWUFMQkxVRTogMHg0MTY5ZTFmZixcclxuICAgICAgICBTQURETEVCUk9XTjogMHg4YjQ1MTNmZixcclxuICAgICAgICBTQUxNT046IDB4ZmE4MDcyZmYsXHJcbiAgICAgICAgU0FORFlCUk9XTjogMHhmNGE0NjBmZixcclxuICAgICAgICBTRUFHUkVFTjogMHgyZThiNTdmZixcclxuICAgICAgICBTRUFTSEVMTDogMHhmZmY1ZWVmZixcclxuICAgICAgICBTSUVOTkE6IDB4YTA1MjJkZmYsXHJcbiAgICAgICAgU0lMVkVSOiAweGMwYzBjMGZmLFxyXG4gICAgICAgIFNLWUJMVUU6IDB4ODdjZWViZmYsXHJcbiAgICAgICAgU0xBVEVCTFVFOiAweDZhNWFjZGZmLFxyXG4gICAgICAgIFNMQVRFR1JBWTogMHg3MDgwOTBmZixcclxuICAgICAgICBTTEFURUdSRVk6IDB4NzA4MDkwZmYsXHJcbiAgICAgICAgU05PVzogMHhmZmZhZmFmZixcclxuICAgICAgICBTUFJJTkdHUkVFTjogMHgwMGZmN2ZmZixcclxuICAgICAgICBTVEVFTEJMVUU6IDB4NDY4MmI0ZmYsXHJcbiAgICAgICAgVEFOOiAweGQyYjQ4Y2ZmLFxyXG4gICAgICAgIFRFQUw6IDB4MDA4MDgwZmYsXHJcbiAgICAgICAgVEhJU1RMRTogMHhkOGJmZDhmZixcclxuICAgICAgICBUT01BVE86IDB4ZmY2MzQ3ZmYsXHJcbiAgICAgICAgVFJBTlNQQVJFTlQ6IDB4MDAwMDAwMDAsXHJcbiAgICAgICAgVFVSUVVPSVNFOiAweDQwZTBkMGZmLFxyXG4gICAgICAgIFZJT0xFVDogMHhlZTgyZWVmZixcclxuICAgICAgICBXSEVBVDogMHhmNWRlYjNmZixcclxuICAgICAgICBXSElURTogMHhmZmZmZmZmZixcclxuICAgICAgICBXSElURVNNT0tFOiAweGY1ZjVmNWZmLFxyXG4gICAgICAgIFlFTExPVzogMHhmZmZmMDBmZixcclxuICAgICAgICBZRUxMT1dHUkVFTjogMHg5YWNkMzJmZlxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGU7XHJcbiAgICAoZnVuY3Rpb24gKFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlKSB7XHJcbiAgICAgICAgUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGVbUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGVbXCJWQUxVRVwiXSA9IDBdID0gXCJWQUxVRVwiO1xyXG4gICAgICAgIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlW1Byb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlW1wiTElTVFwiXSA9IDFdID0gXCJMSVNUXCI7XHJcbiAgICAgICAgUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGVbUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGVbXCJJREVOVF9WQUxVRVwiXSA9IDJdID0gXCJJREVOVF9WQUxVRVwiO1xyXG4gICAgICAgIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlW1Byb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlW1wiVFlQRV9WQUxVRVwiXSA9IDNdID0gXCJUWVBFX1ZBTFVFXCI7XHJcbiAgICAgICAgUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGVbUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGVbXCJUT0tFTl9WQUxVRVwiXSA9IDRdID0gXCJUT0tFTl9WQUxVRVwiO1xyXG4gICAgfSkoUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUgfHwgKFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlID0ge30pKTtcclxuXHJcbiAgICB2YXIgQkFDS0dST1VORF9DTElQO1xyXG4gICAgKGZ1bmN0aW9uIChCQUNLR1JPVU5EX0NMSVApIHtcclxuICAgICAgICBCQUNLR1JPVU5EX0NMSVBbQkFDS0dST1VORF9DTElQW1wiQk9SREVSX0JPWFwiXSA9IDBdID0gXCJCT1JERVJfQk9YXCI7XHJcbiAgICAgICAgQkFDS0dST1VORF9DTElQW0JBQ0tHUk9VTkRfQ0xJUFtcIlBBRERJTkdfQk9YXCJdID0gMV0gPSBcIlBBRERJTkdfQk9YXCI7XHJcbiAgICAgICAgQkFDS0dST1VORF9DTElQW0JBQ0tHUk9VTkRfQ0xJUFtcIkNPTlRFTlRfQk9YXCJdID0gMl0gPSBcIkNPTlRFTlRfQk9YXCI7XHJcbiAgICB9KShCQUNLR1JPVU5EX0NMSVAgfHwgKEJBQ0tHUk9VTkRfQ0xJUCA9IHt9KSk7XHJcbiAgICB2YXIgYmFja2dyb3VuZENsaXAgPSB7XHJcbiAgICAgICAgbmFtZTogJ2JhY2tncm91bmQtY2xpcCcsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnYm9yZGVyLWJveCcsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0b2tlbnMubWFwKGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzSWRlbnRUb2tlbih0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3BhZGRpbmctYm94JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCQUNLR1JPVU5EX0NMSVAuUEFERElOR19CT1g7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvbnRlbnQtYm94JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCQUNLR1JPVU5EX0NMSVAuQ09OVEVOVF9CT1g7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJBQ0tHUk9VTkRfQ0xJUC5CT1JERVJfQk9YO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBiYWNrZ3JvdW5kQ29sb3IgPSB7XHJcbiAgICAgICAgbmFtZTogXCJiYWNrZ3JvdW5kLWNvbG9yXCIsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAndHJhbnNwYXJlbnQnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuVFlQRV9WQUxVRSxcclxuICAgICAgICBmb3JtYXQ6ICdjb2xvcidcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHBhcnNlQ29sb3JTdG9wID0gZnVuY3Rpb24gKGFyZ3MpIHtcclxuICAgICAgICB2YXIgY29sb3IkMSA9IGNvbG9yLnBhcnNlKGFyZ3NbMF0pO1xyXG4gICAgICAgIHZhciBzdG9wID0gYXJnc1sxXTtcclxuICAgICAgICByZXR1cm4gc3RvcCAmJiBpc0xlbmd0aFBlcmNlbnRhZ2Uoc3RvcCkgPyB7IGNvbG9yOiBjb2xvciQxLCBzdG9wOiBzdG9wIH0gOiB7IGNvbG9yOiBjb2xvciQxLCBzdG9wOiBudWxsIH07XHJcbiAgICB9O1xyXG4gICAgdmFyIHByb2Nlc3NDb2xvclN0b3BzID0gZnVuY3Rpb24gKHN0b3BzLCBsaW5lTGVuZ3RoKSB7XHJcbiAgICAgICAgdmFyIGZpcnN0ID0gc3RvcHNbMF07XHJcbiAgICAgICAgdmFyIGxhc3QgPSBzdG9wc1tzdG9wcy5sZW5ndGggLSAxXTtcclxuICAgICAgICBpZiAoZmlyc3Quc3RvcCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBmaXJzdC5zdG9wID0gWkVST19MRU5HVEg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsYXN0LnN0b3AgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgbGFzdC5zdG9wID0gSFVORFJFRF9QRVJDRU5UO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcHJvY2Vzc1N0b3BzID0gW107XHJcbiAgICAgICAgdmFyIHByZXZpb3VzID0gMDtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0b3BzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBzdG9wXzEgPSBzdG9wc1tpXS5zdG9wO1xyXG4gICAgICAgICAgICBpZiAoc3RvcF8xICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYWJzb2x1dGVWYWx1ZSA9IGdldEFic29sdXRlVmFsdWUoc3RvcF8xLCBsaW5lTGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIGlmIChhYnNvbHV0ZVZhbHVlID4gcHJldmlvdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzU3RvcHMucHVzaChhYnNvbHV0ZVZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NTdG9wcy5wdXNoKHByZXZpb3VzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHByZXZpb3VzID0gYWJzb2x1dGVWYWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NTdG9wcy5wdXNoKG51bGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBnYXBCZWdpbiA9IG51bGw7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9jZXNzU3RvcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHN0b3BfMiA9IHByb2Nlc3NTdG9wc1tpXTtcclxuICAgICAgICAgICAgaWYgKHN0b3BfMiA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGdhcEJlZ2luID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FwQmVnaW4gPSBpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGdhcEJlZ2luICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZ2FwTGVuZ3RoID0gaSAtIGdhcEJlZ2luO1xyXG4gICAgICAgICAgICAgICAgdmFyIGJlZm9yZUdhcCA9IHByb2Nlc3NTdG9wc1tnYXBCZWdpbiAtIDFdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGdhcFZhbHVlID0gKHN0b3BfMiAtIGJlZm9yZUdhcCkgLyAoZ2FwTGVuZ3RoICsgMSk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBnID0gMTsgZyA8PSBnYXBMZW5ndGg7IGcrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NTdG9wc1tnYXBCZWdpbiArIGcgLSAxXSA9IGdhcFZhbHVlICogZztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGdhcEJlZ2luID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3RvcHMubWFwKGZ1bmN0aW9uIChfYSwgaSkge1xyXG4gICAgICAgICAgICB2YXIgY29sb3IgPSBfYS5jb2xvcjtcclxuICAgICAgICAgICAgcmV0dXJuIHsgY29sb3I6IGNvbG9yLCBzdG9wOiBNYXRoLm1heChNYXRoLm1pbigxLCBwcm9jZXNzU3RvcHNbaV0gLyBsaW5lTGVuZ3RoKSwgMCkgfTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICB2YXIgZ2V0QW5nbGVGcm9tQ29ybmVyID0gZnVuY3Rpb24gKGNvcm5lciwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIHZhciBjZW50ZXJYID0gd2lkdGggLyAyO1xyXG4gICAgICAgIHZhciBjZW50ZXJZID0gaGVpZ2h0IC8gMjtcclxuICAgICAgICB2YXIgeCA9IGdldEFic29sdXRlVmFsdWUoY29ybmVyWzBdLCB3aWR0aCkgLSBjZW50ZXJYO1xyXG4gICAgICAgIHZhciB5ID0gY2VudGVyWSAtIGdldEFic29sdXRlVmFsdWUoY29ybmVyWzFdLCBoZWlnaHQpO1xyXG4gICAgICAgIHJldHVybiAoTWF0aC5hdGFuMih5LCB4KSArIE1hdGguUEkgKiAyKSAlIChNYXRoLlBJICogMik7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNhbGN1bGF0ZUdyYWRpZW50RGlyZWN0aW9uID0gZnVuY3Rpb24gKGFuZ2xlLCB3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgdmFyIHJhZGlhbiA9IHR5cGVvZiBhbmdsZSA9PT0gJ251bWJlcicgPyBhbmdsZSA6IGdldEFuZ2xlRnJvbUNvcm5lcihhbmdsZSwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgdmFyIGxpbmVMZW5ndGggPSBNYXRoLmFicyh3aWR0aCAqIE1hdGguc2luKHJhZGlhbikpICsgTWF0aC5hYnMoaGVpZ2h0ICogTWF0aC5jb3MocmFkaWFuKSk7XHJcbiAgICAgICAgdmFyIGhhbGZXaWR0aCA9IHdpZHRoIC8gMjtcclxuICAgICAgICB2YXIgaGFsZkhlaWdodCA9IGhlaWdodCAvIDI7XHJcbiAgICAgICAgdmFyIGhhbGZMaW5lTGVuZ3RoID0gbGluZUxlbmd0aCAvIDI7XHJcbiAgICAgICAgdmFyIHlEaWZmID0gTWF0aC5zaW4ocmFkaWFuIC0gTWF0aC5QSSAvIDIpICogaGFsZkxpbmVMZW5ndGg7XHJcbiAgICAgICAgdmFyIHhEaWZmID0gTWF0aC5jb3MocmFkaWFuIC0gTWF0aC5QSSAvIDIpICogaGFsZkxpbmVMZW5ndGg7XHJcbiAgICAgICAgcmV0dXJuIFtsaW5lTGVuZ3RoLCBoYWxmV2lkdGggLSB4RGlmZiwgaGFsZldpZHRoICsgeERpZmYsIGhhbGZIZWlnaHQgLSB5RGlmZiwgaGFsZkhlaWdodCArIHlEaWZmXTtcclxuICAgIH07XHJcbiAgICB2YXIgZGlzdGFuY2UgPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gTWF0aC5zcXJ0KGEgKiBhICsgYiAqIGIpOyB9O1xyXG4gICAgdmFyIGZpbmRDb3JuZXIgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCwgeCwgeSwgY2xvc2VzdCkge1xyXG4gICAgICAgIHZhciBjb3JuZXJzID0gW1swLCAwXSwgWzAsIGhlaWdodF0sIFt3aWR0aCwgMF0sIFt3aWR0aCwgaGVpZ2h0XV07XHJcbiAgICAgICAgcmV0dXJuIGNvcm5lcnMucmVkdWNlKGZ1bmN0aW9uIChzdGF0LCBjb3JuZXIpIHtcclxuICAgICAgICAgICAgdmFyIGN4ID0gY29ybmVyWzBdLCBjeSA9IGNvcm5lclsxXTtcclxuICAgICAgICAgICAgdmFyIGQgPSBkaXN0YW5jZSh4IC0gY3gsIHkgLSBjeSk7XHJcbiAgICAgICAgICAgIGlmIChjbG9zZXN0ID8gZCA8IHN0YXQub3B0aW11bURpc3RhbmNlIDogZCA+IHN0YXQub3B0aW11bURpc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdGltdW1Db3JuZXI6IGNvcm5lcixcclxuICAgICAgICAgICAgICAgICAgICBvcHRpbXVtRGlzdGFuY2U6IGRcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHN0YXQ7XHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBvcHRpbXVtRGlzdGFuY2U6IGNsb3Nlc3QgPyBJbmZpbml0eSA6IC1JbmZpbml0eSxcclxuICAgICAgICAgICAgb3B0aW11bUNvcm5lcjogbnVsbFxyXG4gICAgICAgIH0pLm9wdGltdW1Db3JuZXI7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNhbGN1bGF0ZVJhZGl1cyA9IGZ1bmN0aW9uIChncmFkaWVudCwgeCwgeSwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIHZhciByeCA9IDA7XHJcbiAgICAgICAgdmFyIHJ5ID0gMDtcclxuICAgICAgICBzd2l0Y2ggKGdyYWRpZW50LnNpemUpIHtcclxuICAgICAgICAgICAgY2FzZSBDU1NSYWRpYWxFeHRlbnQuQ0xPU0VTVF9TSURFOlxyXG4gICAgICAgICAgICAgICAgLy8gVGhlIGVuZGluZyBzaGFwZSBpcyBzaXplZCBzbyB0aGF0IHRoYXQgaXQgZXhhY3RseSBtZWV0cyB0aGUgc2lkZSBvZiB0aGUgZ3JhZGllbnQgYm94IGNsb3Nlc3QgdG8gdGhlIGdyYWRpZW504oCZcyBjZW50ZXIuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgc2hhcGUgaXMgYW4gZWxsaXBzZSwgaXQgZXhhY3RseSBtZWV0cyB0aGUgY2xvc2VzdCBzaWRlIGluIGVhY2ggZGltZW5zaW9uLlxyXG4gICAgICAgICAgICAgICAgaWYgKGdyYWRpZW50LnNoYXBlID09PSBDU1NSYWRpYWxTaGFwZS5DSVJDTEUpIHtcclxuICAgICAgICAgICAgICAgICAgICByeCA9IHJ5ID0gTWF0aC5taW4oTWF0aC5hYnMoeCksIE1hdGguYWJzKHggLSB3aWR0aCksIE1hdGguYWJzKHkpLCBNYXRoLmFicyh5IC0gaGVpZ2h0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChncmFkaWVudC5zaGFwZSA9PT0gQ1NTUmFkaWFsU2hhcGUuRUxMSVBTRSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJ4ID0gTWF0aC5taW4oTWF0aC5hYnMoeCksIE1hdGguYWJzKHggLSB3aWR0aCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJ5ID0gTWF0aC5taW4oTWF0aC5hYnMoeSksIE1hdGguYWJzKHkgLSBoZWlnaHQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENTU1JhZGlhbEV4dGVudC5DTE9TRVNUX0NPUk5FUjpcclxuICAgICAgICAgICAgICAgIC8vIFRoZSBlbmRpbmcgc2hhcGUgaXMgc2l6ZWQgc28gdGhhdCB0aGF0IGl0IHBhc3NlcyB0aHJvdWdoIHRoZSBjb3JuZXIgb2YgdGhlIGdyYWRpZW50IGJveCBjbG9zZXN0IHRvIHRoZSBncmFkaWVudOKAmXMgY2VudGVyLlxyXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHNoYXBlIGlzIGFuIGVsbGlwc2UsIHRoZSBlbmRpbmcgc2hhcGUgaXMgZ2l2ZW4gdGhlIHNhbWUgYXNwZWN0LXJhdGlvIGl0IHdvdWxkIGhhdmUgaWYgY2xvc2VzdC1zaWRlIHdlcmUgc3BlY2lmaWVkLlxyXG4gICAgICAgICAgICAgICAgaWYgKGdyYWRpZW50LnNoYXBlID09PSBDU1NSYWRpYWxTaGFwZS5DSVJDTEUpIHtcclxuICAgICAgICAgICAgICAgICAgICByeCA9IHJ5ID0gTWF0aC5taW4oZGlzdGFuY2UoeCwgeSksIGRpc3RhbmNlKHgsIHkgLSBoZWlnaHQpLCBkaXN0YW5jZSh4IC0gd2lkdGgsIHkpLCBkaXN0YW5jZSh4IC0gd2lkdGgsIHkgLSBoZWlnaHQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyYWRpZW50LnNoYXBlID09PSBDU1NSYWRpYWxTaGFwZS5FTExJUFNFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29tcHV0ZSB0aGUgcmF0aW8gcnkvcnggKHdoaWNoIGlzIHRvIGJlIHRoZSBzYW1lIGFzIGZvciBcImNsb3Nlc3Qtc2lkZVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjID0gTWF0aC5taW4oTWF0aC5hYnMoeSksIE1hdGguYWJzKHkgLSBoZWlnaHQpKSAvIE1hdGgubWluKE1hdGguYWJzKHgpLCBNYXRoLmFicyh4IC0gd2lkdGgpKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX2EgPSBmaW5kQ29ybmVyKHdpZHRoLCBoZWlnaHQsIHgsIHksIHRydWUpLCBjeCA9IF9hWzBdLCBjeSA9IF9hWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJ4ID0gZGlzdGFuY2UoY3ggLSB4LCAoY3kgLSB5KSAvIGMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJ5ID0gYyAqIHJ4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ1NTUmFkaWFsRXh0ZW50LkZBUlRIRVNUX1NJREU6XHJcbiAgICAgICAgICAgICAgICAvLyBTYW1lIGFzIGNsb3Nlc3Qtc2lkZSwgZXhjZXB0IHRoZSBlbmRpbmcgc2hhcGUgaXMgc2l6ZWQgYmFzZWQgb24gdGhlIGZhcnRoZXN0IHNpZGUocylcclxuICAgICAgICAgICAgICAgIGlmIChncmFkaWVudC5zaGFwZSA9PT0gQ1NTUmFkaWFsU2hhcGUuQ0lSQ0xFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcnggPSByeSA9IE1hdGgubWF4KE1hdGguYWJzKHgpLCBNYXRoLmFicyh4IC0gd2lkdGgpLCBNYXRoLmFicyh5KSwgTWF0aC5hYnMoeSAtIGhlaWdodCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JhZGllbnQuc2hhcGUgPT09IENTU1JhZGlhbFNoYXBlLkVMTElQU0UpIHtcclxuICAgICAgICAgICAgICAgICAgICByeCA9IE1hdGgubWF4KE1hdGguYWJzKHgpLCBNYXRoLmFicyh4IC0gd2lkdGgpKTtcclxuICAgICAgICAgICAgICAgICAgICByeSA9IE1hdGgubWF4KE1hdGguYWJzKHkpLCBNYXRoLmFicyh5IC0gaGVpZ2h0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDU1NSYWRpYWxFeHRlbnQuRkFSVEhFU1RfQ09STkVSOlxyXG4gICAgICAgICAgICAgICAgLy8gU2FtZSBhcyBjbG9zZXN0LWNvcm5lciwgZXhjZXB0IHRoZSBlbmRpbmcgc2hhcGUgaXMgc2l6ZWQgYmFzZWQgb24gdGhlIGZhcnRoZXN0IGNvcm5lci5cclxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBzaGFwZSBpcyBhbiBlbGxpcHNlLCB0aGUgZW5kaW5nIHNoYXBlIGlzIGdpdmVuIHRoZSBzYW1lIGFzcGVjdCByYXRpbyBpdCB3b3VsZCBoYXZlIGlmIGZhcnRoZXN0LXNpZGUgd2VyZSBzcGVjaWZpZWQuXHJcbiAgICAgICAgICAgICAgICBpZiAoZ3JhZGllbnQuc2hhcGUgPT09IENTU1JhZGlhbFNoYXBlLkNJUkNMRSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJ4ID0gcnkgPSBNYXRoLm1heChkaXN0YW5jZSh4LCB5KSwgZGlzdGFuY2UoeCwgeSAtIGhlaWdodCksIGRpc3RhbmNlKHggLSB3aWR0aCwgeSksIGRpc3RhbmNlKHggLSB3aWR0aCwgeSAtIGhlaWdodCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JhZGllbnQuc2hhcGUgPT09IENTU1JhZGlhbFNoYXBlLkVMTElQU0UpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBDb21wdXRlIHRoZSByYXRpbyByeS9yeCAod2hpY2ggaXMgdG8gYmUgdGhlIHNhbWUgYXMgZm9yIFwiZmFydGhlc3Qtc2lkZVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjID0gTWF0aC5tYXgoTWF0aC5hYnMoeSksIE1hdGguYWJzKHkgLSBoZWlnaHQpKSAvIE1hdGgubWF4KE1hdGguYWJzKHgpLCBNYXRoLmFicyh4IC0gd2lkdGgpKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgX2IgPSBmaW5kQ29ybmVyKHdpZHRoLCBoZWlnaHQsIHgsIHksIGZhbHNlKSwgY3ggPSBfYlswXSwgY3kgPSBfYlsxXTtcclxuICAgICAgICAgICAgICAgICAgICByeCA9IGRpc3RhbmNlKGN4IC0geCwgKGN5IC0geSkgLyBjKTtcclxuICAgICAgICAgICAgICAgICAgICByeSA9IGMgKiByeDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShncmFkaWVudC5zaXplKSkge1xyXG4gICAgICAgICAgICByeCA9IGdldEFic29sdXRlVmFsdWUoZ3JhZGllbnQuc2l6ZVswXSwgd2lkdGgpO1xyXG4gICAgICAgICAgICByeSA9IGdyYWRpZW50LnNpemUubGVuZ3RoID09PSAyID8gZ2V0QWJzb2x1dGVWYWx1ZShncmFkaWVudC5zaXplWzFdLCBoZWlnaHQpIDogcng7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbcngsIHJ5XTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGxpbmVhckdyYWRpZW50ID0gZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgIHZhciBhbmdsZSQxID0gZGVnKDE4MCk7XHJcbiAgICAgICAgdmFyIHN0b3BzID0gW107XHJcbiAgICAgICAgcGFyc2VGdW5jdGlvbkFyZ3ModG9rZW5zKS5mb3JFYWNoKGZ1bmN0aW9uIChhcmcsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciBmaXJzdFRva2VuID0gYXJnWzBdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0VG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLklERU5UX1RPS0VOICYmIGZpcnN0VG9rZW4udmFsdWUgPT09ICd0bycpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbmdsZSQxID0gcGFyc2VOYW1lZFNpZGUoYXJnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0FuZ2xlKGZpcnN0VG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5nbGUkMSA9IGFuZ2xlLnBhcnNlKGZpcnN0VG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgY29sb3JTdG9wID0gcGFyc2VDb2xvclN0b3AoYXJnKTtcclxuICAgICAgICAgICAgc3RvcHMucHVzaChjb2xvclN0b3ApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB7IGFuZ2xlOiBhbmdsZSQxLCBzdG9wczogc3RvcHMsIHR5cGU6IENTU0ltYWdlVHlwZS5MSU5FQVJfR1JBRElFTlQgfTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHByZWZpeExpbmVhckdyYWRpZW50ID0gZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgIHZhciBhbmdsZSQxID0gZGVnKDE4MCk7XHJcbiAgICAgICAgdmFyIHN0b3BzID0gW107XHJcbiAgICAgICAgcGFyc2VGdW5jdGlvbkFyZ3ModG9rZW5zKS5mb3JFYWNoKGZ1bmN0aW9uIChhcmcsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciBmaXJzdFRva2VuID0gYXJnWzBdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0VG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLklERU5UX1RPS0VOICYmXHJcbiAgICAgICAgICAgICAgICAgICAgWyd0b3AnLCAnbGVmdCcsICdyaWdodCcsICdib3R0b20nXS5pbmRleE9mKGZpcnN0VG9rZW4udmFsdWUpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ2xlJDEgPSBwYXJzZU5hbWVkU2lkZShhcmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzQW5nbGUoZmlyc3RUb2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbmdsZSQxID0gKGFuZ2xlLnBhcnNlKGZpcnN0VG9rZW4pICsgZGVnKDI3MCkpICUgZGVnKDM2MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBjb2xvclN0b3AgPSBwYXJzZUNvbG9yU3RvcChhcmcpO1xyXG4gICAgICAgICAgICBzdG9wcy5wdXNoKGNvbG9yU3RvcCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYW5nbGU6IGFuZ2xlJDEsXHJcbiAgICAgICAgICAgIHN0b3BzOiBzdG9wcyxcclxuICAgICAgICAgICAgdHlwZTogQ1NTSW1hZ2VUeXBlLkxJTkVBUl9HUkFESUVOVFxyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciB0ZXN0UmFuZ2VCb3VuZHMgPSBmdW5jdGlvbiAoZG9jdW1lbnQpIHtcclxuICAgICAgICB2YXIgVEVTVF9IRUlHSFQgPSAxMjM7XHJcbiAgICAgICAgaWYgKGRvY3VtZW50LmNyZWF0ZVJhbmdlKSB7XHJcbiAgICAgICAgICAgIHZhciByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XHJcbiAgICAgICAgICAgIGlmIChyYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0ZXN0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JvdW5kdGVzdCcpO1xyXG4gICAgICAgICAgICAgICAgdGVzdEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gVEVTVF9IRUlHSFQgKyBcInB4XCI7XHJcbiAgICAgICAgICAgICAgICB0ZXN0RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGVzdEVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZSh0ZXN0RWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2VCb3VuZHMgPSByYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgICAgIHZhciByYW5nZUhlaWdodCA9IE1hdGgucm91bmQocmFuZ2VCb3VuZHMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGVzdEVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlSGVpZ2h0ID09PSBURVNUX0hFSUdIVCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICB2YXIgdGVzdENPUlMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0eXBlb2YgbmV3IEltYWdlKCkuY3Jvc3NPcmlnaW4gIT09ICd1bmRlZmluZWQnOyB9O1xyXG4gICAgdmFyIHRlc3RSZXNwb25zZVR5cGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0eXBlb2YgbmV3IFhNTEh0dHBSZXF1ZXN0KCkucmVzcG9uc2VUeXBlID09PSAnc3RyaW5nJzsgfTtcclxuICAgIHZhciB0ZXN0U1ZHID0gZnVuY3Rpb24gKGRvY3VtZW50KSB7XHJcbiAgICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgaWYgKCFjdHgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbWcuc3JjID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsPHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjwvc3ZnPlwiO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTtcclxuICAgICAgICAgICAgY2FudmFzLnRvRGF0YVVSTCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfTtcclxuICAgIHZhciBpc0dyZWVuUGl4ZWwgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIHJldHVybiBkYXRhWzBdID09PSAwICYmIGRhdGFbMV0gPT09IDI1NSAmJiBkYXRhWzJdID09PSAwICYmIGRhdGFbM10gPT09IDI1NTtcclxuICAgIH07XHJcbiAgICB2YXIgdGVzdEZvcmVpZ25PYmplY3QgPSBmdW5jdGlvbiAoZG9jdW1lbnQpIHtcclxuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgdmFyIHNpemUgPSAxMDA7XHJcbiAgICAgICAgY2FudmFzLndpZHRoID0gc2l6ZTtcclxuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gc2l6ZTtcclxuICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgaWYgKCFjdHgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2IoMCwgMjU1LCAwKSc7XHJcbiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIHNpemUsIHNpemUpO1xyXG4gICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB2YXIgZ3JlZW5JbWFnZVNyYyA9IGNhbnZhcy50b0RhdGFVUkwoKTtcclxuICAgICAgICBpbWcuc3JjID0gZ3JlZW5JbWFnZVNyYztcclxuICAgICAgICB2YXIgc3ZnID0gY3JlYXRlRm9yZWlnbk9iamVjdFNWRyhzaXplLCBzaXplLCAwLCAwLCBpbWcpO1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAncmVkJztcclxuICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgc2l6ZSwgc2l6ZSk7XHJcbiAgICAgICAgcmV0dXJuIGxvYWRTZXJpYWxpemVkU1ZHKHN2ZylcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGltZykge1xyXG4gICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDApO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHNpemUsIHNpemUpLmRhdGE7XHJcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JlZCc7XHJcbiAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgc2l6ZSwgc2l6ZSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICAgICAgbm9kZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybChcIiArIGdyZWVuSW1hZ2VTcmMgKyBcIilcIjtcclxuICAgICAgICAgICAgICAgIG5vZGUuc3R5bGUuaGVpZ2h0ID0gc2l6ZSArIFwicHhcIjtcclxuICAgICAgICAgICAgICAgIC8vIEZpcmVmb3ggNTUgZG9lcyBub3QgcmVuZGVyIGlubGluZSA8aW1nIC8+IHRhZ3NcclxuICAgICAgICAgICAgICAgIHJldHVybiBpc0dyZWVuUGl4ZWwoZGF0YSlcclxuICAgICAgICAgICAgICAgICAgICA/IGxvYWRTZXJpYWxpemVkU1ZHKGNyZWF0ZUZvcmVpZ25PYmplY3RTVkcoc2l6ZSwgc2l6ZSwgMCwgMCwgbm9kZSkpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBQcm9taXNlLnJlamVjdChmYWxzZSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChpbWcpIHtcclxuICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTtcclxuICAgICAgICAgICAgICAgIC8vIEVkZ2UgZG9lcyBub3QgcmVuZGVyIGJhY2tncm91bmQtaW1hZ2VzXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNHcmVlblBpeGVsKGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgc2l6ZSwgc2l6ZSkuZGF0YSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSk7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNyZWF0ZUZvcmVpZ25PYmplY3RTVkcgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCwgeCwgeSwgbm9kZSkge1xyXG4gICAgICAgIHZhciB4bWxucyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XHJcbiAgICAgICAgdmFyIHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyh4bWxucywgJ3N2ZycpO1xyXG4gICAgICAgIHZhciBmb3JlaWduT2JqZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHhtbG5zLCAnZm9yZWlnbk9iamVjdCcpO1xyXG4gICAgICAgIHN2Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnd2lkdGgnLCB3aWR0aC50b1N0cmluZygpKTtcclxuICAgICAgICBzdmcuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2hlaWdodCcsIGhlaWdodC50b1N0cmluZygpKTtcclxuICAgICAgICBmb3JlaWduT2JqZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsICd3aWR0aCcsICcxMDAlJyk7XHJcbiAgICAgICAgZm9yZWlnbk9iamVjdC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnaGVpZ2h0JywgJzEwMCUnKTtcclxuICAgICAgICBmb3JlaWduT2JqZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsICd4JywgeC50b1N0cmluZygpKTtcclxuICAgICAgICBmb3JlaWduT2JqZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsICd5JywgeS50b1N0cmluZygpKTtcclxuICAgICAgICBmb3JlaWduT2JqZWN0LnNldEF0dHJpYnV0ZU5TKG51bGwsICdleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkJywgJ3RydWUnKTtcclxuICAgICAgICBzdmcuYXBwZW5kQ2hpbGQoZm9yZWlnbk9iamVjdCk7XHJcbiAgICAgICAgZm9yZWlnbk9iamVjdC5hcHBlbmRDaGlsZChub2RlKTtcclxuICAgICAgICByZXR1cm4gc3ZnO1xyXG4gICAgfTtcclxuICAgIHZhciBsb2FkU2VyaWFsaXplZFNWRyA9IGZ1bmN0aW9uIChzdmcpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlKGltZyk7IH07XHJcbiAgICAgICAgICAgIGltZy5vbmVycm9yID0gcmVqZWN0O1xyXG4gICAgICAgICAgICBpbWcuc3JjID0gXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCxcIiArIGVuY29kZVVSSUNvbXBvbmVudChuZXcgWE1MU2VyaWFsaXplcigpLnNlcmlhbGl6ZVRvU3RyaW5nKHN2ZykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHZhciBGRUFUVVJFUyA9IHtcclxuICAgICAgICBnZXQgU1VQUE9SVF9SQU5HRV9CT1VORFMoKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRlc3RSYW5nZUJvdW5kcyhkb2N1bWVudCk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGRUFUVVJFUywgJ1NVUFBPUlRfUkFOR0VfQk9VTkRTJywgeyB2YWx1ZTogdmFsdWUgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCBTVVBQT1JUX1NWR19EUkFXSU5HKCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0ZXN0U1ZHKGRvY3VtZW50KTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZFQVRVUkVTLCAnU1VQUE9SVF9TVkdfRFJBV0lORycsIHsgdmFsdWU6IHZhbHVlIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXQgU1VQUE9SVF9GT1JFSUdOT0JKRUNUX0RSQVdJTkcoKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHR5cGVvZiBBcnJheS5mcm9tID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB3aW5kb3cuZmV0Y2ggPT09ICdmdW5jdGlvbidcclxuICAgICAgICAgICAgICAgID8gdGVzdEZvcmVpZ25PYmplY3QoZG9jdW1lbnQpXHJcbiAgICAgICAgICAgICAgICA6IFByb21pc2UucmVzb2x2ZShmYWxzZSk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGRUFUVVJFUywgJ1NVUFBPUlRfRk9SRUlHTk9CSkVDVF9EUkFXSU5HJywgeyB2YWx1ZTogdmFsdWUgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCBTVVBQT1JUX0NPUlNfSU1BR0VTKCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0ZXN0Q09SUygpO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRkVBVFVSRVMsICdTVVBQT1JUX0NPUlNfSU1BR0VTJywgeyB2YWx1ZTogdmFsdWUgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCBTVVBQT1JUX1JFU1BPTlNFX1RZUEUoKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRlc3RSZXNwb25zZVR5cGUoKTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZFQVRVUkVTLCAnU1VQUE9SVF9SRVNQT05TRV9UWVBFJywgeyB2YWx1ZTogdmFsdWUgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldCBTVVBQT1JUX0NPUlNfWEhSKCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSAnd2l0aENyZWRlbnRpYWxzJyBpbiBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZFQVRVUkVTLCAnU1VQUE9SVF9DT1JTX1hIUicsIHsgdmFsdWU6IHZhbHVlIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgTG9nZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIExvZ2dlcihfYSkge1xyXG4gICAgICAgICAgICB2YXIgaWQgPSBfYS5pZCwgZW5hYmxlZCA9IF9hLmVuYWJsZWQ7XHJcbiAgICAgICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICAgICAgdGhpcy5lbmFibGVkID0gZW5hYmxlZDtcclxuICAgICAgICAgICAgdGhpcy5zdGFydCA9IERhdGUubm93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgTG9nZ2VyLnByb3RvdHlwZS5kZWJ1ZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5lbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5jb25zb2xlICYmIHR5cGVvZiBjb25zb2xlLmRlYnVnID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnLmFwcGx5KGNvbnNvbGUsIFt0aGlzLmlkLCB0aGlzLmdldFRpbWUoKSArIFwibXNcIl0uY29uY2F0KGFyZ3MpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5mby5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgTG9nZ2VyLnByb3RvdHlwZS5nZXRUaW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gRGF0ZS5ub3coKSAtIHRoaXMuc3RhcnQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBMb2dnZXIuY3JlYXRlID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgTG9nZ2VyLmluc3RhbmNlc1tvcHRpb25zLmlkXSA9IG5ldyBMb2dnZXIob3B0aW9ucyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBMb2dnZXIuZGVzdHJveSA9IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgICAgICAgICBkZWxldGUgTG9nZ2VyLmluc3RhbmNlc1tpZF07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gTG9nZ2VyLmluc3RhbmNlc1tpZF07XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW5zdGFuY2UgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBsb2dnZXIgaW5zdGFuY2UgZm91bmQgd2l0aCBpZCBcIiArIGlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgIExvZ2dlci5wcm90b3R5cGUuaW5mbyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5lbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5jb25zb2xlICYmIHR5cGVvZiBjb25zb2xlLmluZm8gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mby5hcHBseShjb25zb2xlLCBbdGhpcy5pZCwgdGhpcy5nZXRUaW1lKCkgKyBcIm1zXCJdLmNvbmNhdChhcmdzKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgTG9nZ2VyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5lbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5jb25zb2xlICYmIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yLmFwcGx5KGNvbnNvbGUsIFt0aGlzLmlkLCB0aGlzLmdldFRpbWUoKSArIFwibXNcIl0uY29uY2F0KGFyZ3MpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5mby5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgTG9nZ2VyLmluc3RhbmNlcyA9IHt9O1xyXG4gICAgICAgIHJldHVybiBMb2dnZXI7XHJcbiAgICB9KCkpO1xyXG5cclxuICAgIHZhciBDYWNoZVN0b3JhZ2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gQ2FjaGVTdG9yYWdlKCkge1xyXG4gICAgICAgIH1cclxuICAgICAgICBDYWNoZVN0b3JhZ2UuY3JlYXRlID0gZnVuY3Rpb24gKG5hbWUsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChDYWNoZVN0b3JhZ2UuX2NhY2hlc1tuYW1lXSA9IG5ldyBDYWNoZShuYW1lLCBvcHRpb25zKSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYWNoZVN0b3JhZ2UuZGVzdHJveSA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBDYWNoZVN0b3JhZ2UuX2NhY2hlc1tuYW1lXTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhY2hlU3RvcmFnZS5vcGVuID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgdmFyIGNhY2hlID0gQ2FjaGVTdG9yYWdlLl9jYWNoZXNbbmFtZV07XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2FjaGUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FjaGUgd2l0aCBrZXkgXFxcIlwiICsgbmFtZSArIFwiXFxcIiBub3QgZm91bmRcIik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYWNoZVN0b3JhZ2UuZ2V0T3JpZ2luID0gZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICB2YXIgbGluayA9IENhY2hlU3RvcmFnZS5fbGluaztcclxuICAgICAgICAgICAgaWYgKCFsaW5rKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2Fib3V0OmJsYW5rJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsaW5rLmhyZWYgPSB1cmw7XHJcbiAgICAgICAgICAgIGxpbmsuaHJlZiA9IGxpbmsuaHJlZjsgLy8gSUU5LCBMT0whIC0gaHR0cDovL2pzZmlkZGxlLm5ldC9uaWtsYXN2aC8yZTQ4Yi9cclxuICAgICAgICAgICAgcmV0dXJuIGxpbmsucHJvdG9jb2wgKyBsaW5rLmhvc3RuYW1lICsgbGluay5wb3J0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FjaGVTdG9yYWdlLmlzU2FtZU9yaWdpbiA9IGZ1bmN0aW9uIChzcmMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIENhY2hlU3RvcmFnZS5nZXRPcmlnaW4oc3JjKSA9PT0gQ2FjaGVTdG9yYWdlLl9vcmlnaW47XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYWNoZVN0b3JhZ2Uuc2V0Q29udGV4dCA9IGZ1bmN0aW9uICh3aW5kb3cpIHtcclxuICAgICAgICAgICAgQ2FjaGVTdG9yYWdlLl9saW5rID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICAgICAgICAgICAgQ2FjaGVTdG9yYWdlLl9vcmlnaW4gPSBDYWNoZVN0b3JhZ2UuZ2V0T3JpZ2luKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhY2hlU3RvcmFnZS5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSBDYWNoZVN0b3JhZ2UuX2N1cnJlbnQ7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBjYWNoZSBpbnN0YW5jZSBhdHRhY2hlZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY3VycmVudDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhY2hlU3RvcmFnZS5hdHRhY2hJbnN0YW5jZSA9IGZ1bmN0aW9uIChjYWNoZSkge1xyXG4gICAgICAgICAgICBDYWNoZVN0b3JhZ2UuX2N1cnJlbnQgPSBjYWNoZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhY2hlU3RvcmFnZS5kZXRhY2hJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgQ2FjaGVTdG9yYWdlLl9jdXJyZW50ID0gbnVsbDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhY2hlU3RvcmFnZS5fY2FjaGVzID0ge307XHJcbiAgICAgICAgQ2FjaGVTdG9yYWdlLl9vcmlnaW4gPSAnYWJvdXQ6YmxhbmsnO1xyXG4gICAgICAgIENhY2hlU3RvcmFnZS5fY3VycmVudCA9IG51bGw7XHJcbiAgICAgICAgcmV0dXJuIENhY2hlU3RvcmFnZTtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgQ2FjaGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gQ2FjaGUoaWQsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcclxuICAgICAgICAgICAgdGhpcy5fY2FjaGUgPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgQ2FjaGUucHJvdG90eXBlLmFkZEltYWdlID0gZnVuY3Rpb24gKHNyYykge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gUHJvbWlzZS5yZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhhcyhzcmMpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc0Jsb2JJbWFnZShzcmMpIHx8IGlzUmVuZGVyYWJsZShzcmMpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZVtzcmNdID0gdGhpcy5sb2FkSW1hZ2Uoc3JjKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgQ2FjaGUucHJvdG90eXBlLm1hdGNoID0gZnVuY3Rpb24gKHNyYykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVbc3JjXTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhY2hlLnByb3RvdHlwZS5sb2FkSW1hZ2UgPSBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpc1NhbWVPcmlnaW4sIHVzZUNPUlMsIHVzZVByb3h5LCBzcmM7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTYW1lT3JpZ2luID0gQ2FjaGVTdG9yYWdlLmlzU2FtZU9yaWdpbihrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlQ09SUyA9ICFpc0lubGluZUltYWdlKGtleSkgJiYgdGhpcy5fb3B0aW9ucy51c2VDT1JTID09PSB0cnVlICYmIEZFQVRVUkVTLlNVUFBPUlRfQ09SU19JTUFHRVMgJiYgIWlzU2FtZU9yaWdpbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZVByb3h5ID0gIWlzSW5saW5lSW1hZ2Uoa2V5KSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFpc1NhbWVPcmlnaW4gJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgdGhpcy5fb3B0aW9ucy5wcm94eSA9PT0gJ3N0cmluZycgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGRUFUVVJFUy5TVVBQT1JUX0NPUlNfWEhSICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIXVzZUNPUlM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzU2FtZU9yaWdpbiAmJiB0aGlzLl9vcHRpb25zLmFsbG93VGFpbnQgPT09IGZhbHNlICYmICFpc0lubGluZUltYWdlKGtleSkgJiYgIXVzZVByb3h5ICYmICF1c2VDT1JTKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjID0ga2V5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF1c2VQcm94eSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnByb3h5KHNyYyldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmMgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ2dlci5nZXRJbnN0YW5jZSh0aGlzLmlkKS5kZWJ1ZyhcIkFkZGVkIGltYWdlIFwiICsga2V5LnN1YnN0cmluZygwLCAyNTYpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUoaW1nKTsgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWcub25lcnJvciA9IHJlamVjdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lvcyBzYWZhcmkgMTAuMyB0YWludHMgY2FudmFzIHdpdGggZGF0YSB1cmxzIHVubGVzcyBjcm9zc09yaWdpbiBpcyBzZXQgdG8gYW5vbnltb3VzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzSW5saW5lQmFzZTY0SW1hZ2Uoc3JjKSB8fCB1c2VDT1JTKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZy5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWcuc3JjID0gc3JjO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbWcuY29tcGxldGUgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5saW5lIFhNTCBpbWFnZXMgbWF5IGZhaWwgdG8gcGFyc2UsIHRocm93aW5nIGFuIEVycm9yIGxhdGVyIG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZShpbWcpOyB9LCA1MDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX29wdGlvbnMuaW1hZ2VUaW1lb3V0ID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlamVjdChcIlRpbWVkIG91dCAoXCIgKyBfdGhpcy5fb3B0aW9ucy5pbWFnZVRpbWVvdXQgKyBcIm1zKSBsb2FkaW5nIGltYWdlXCIpOyB9LCBfdGhpcy5fb3B0aW9ucy5pbWFnZVRpbWVvdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOiByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Euc2VudCgpXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYWNoZS5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHRoaXMuX2NhY2hlW2tleV0gIT09ICd1bmRlZmluZWQnO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FjaGUucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoT2JqZWN0LmtleXModGhpcy5fY2FjaGUpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhY2hlLnByb3RvdHlwZS5wcm94eSA9IGZ1bmN0aW9uIChzcmMpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgdmFyIHByb3h5ID0gdGhpcy5fb3B0aW9ucy5wcm94eTtcclxuICAgICAgICAgICAgaWYgKCFwcm94eSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBwcm94eSBkZWZpbmVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGtleSA9IHNyYy5zdWJzdHJpbmcoMCwgMjU2KTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXNwb25zZVR5cGUgPSBGRUFUVVJFUy5TVVBQT1JUX1JFU1BPTlNFX1RZUEUgPyAnYmxvYicgOiAndGV4dCc7XHJcbiAgICAgICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHhoci5yZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVhZGVyXzEgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyXzEuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUocmVhZGVyXzEucmVzdWx0KTsgfSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyXzEuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBmdW5jdGlvbiAoZSkgeyByZXR1cm4gcmVqZWN0KGUpOyB9LCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkZXJfMS5yZWFkQXNEYXRhVVJMKHhoci5yZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChcIkZhaWxlZCB0byBwcm94eSByZXNvdXJjZSBcIiArIGtleSArIFwiIHdpdGggc3RhdHVzIGNvZGUgXCIgKyB4aHIuc3RhdHVzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgeGhyLm9uZXJyb3IgPSByZWplY3Q7XHJcbiAgICAgICAgICAgICAgICB4aHIub3BlbignR0VUJywgcHJveHkgKyBcIj91cmw9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoc3JjKSArIFwiJnJlc3BvbnNlVHlwZT1cIiArIHJlc3BvbnNlVHlwZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VUeXBlICE9PSAndGV4dCcgJiYgeGhyIGluc3RhbmNlb2YgWE1MSHR0cFJlcXVlc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gcmVzcG9uc2VUeXBlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLl9vcHRpb25zLmltYWdlVGltZW91dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aW1lb3V0XzEgPSBfdGhpcy5fb3B0aW9ucy5pbWFnZVRpbWVvdXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgeGhyLnRpbWVvdXQgPSB0aW1lb3V0XzE7XHJcbiAgICAgICAgICAgICAgICAgICAgeGhyLm9udGltZW91dCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlamVjdChcIlRpbWVkIG91dCAoXCIgKyB0aW1lb3V0XzEgKyBcIm1zKSBwcm94eWluZyBcIiArIGtleSk7IH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB4aHIuc2VuZCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBDYWNoZTtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgSU5MSU5FX1NWRyA9IC9eZGF0YTppbWFnZVxcL3N2Z1xcK3htbC9pO1xyXG4gICAgdmFyIElOTElORV9CQVNFNjQgPSAvXmRhdGE6aW1hZ2VcXC8uKjtiYXNlNjQsL2k7XHJcbiAgICB2YXIgSU5MSU5FX0lNRyA9IC9eZGF0YTppbWFnZVxcLy4qL2k7XHJcbiAgICB2YXIgaXNSZW5kZXJhYmxlID0gZnVuY3Rpb24gKHNyYykgeyByZXR1cm4gRkVBVFVSRVMuU1VQUE9SVF9TVkdfRFJBV0lORyB8fCAhaXNTVkcoc3JjKTsgfTtcclxuICAgIHZhciBpc0lubGluZUltYWdlID0gZnVuY3Rpb24gKHNyYykgeyByZXR1cm4gSU5MSU5FX0lNRy50ZXN0KHNyYyk7IH07XHJcbiAgICB2YXIgaXNJbmxpbmVCYXNlNjRJbWFnZSA9IGZ1bmN0aW9uIChzcmMpIHsgcmV0dXJuIElOTElORV9CQVNFNjQudGVzdChzcmMpOyB9O1xyXG4gICAgdmFyIGlzQmxvYkltYWdlID0gZnVuY3Rpb24gKHNyYykgeyByZXR1cm4gc3JjLnN1YnN0cigwLCA0KSA9PT0gJ2Jsb2InOyB9O1xyXG4gICAgdmFyIGlzU1ZHID0gZnVuY3Rpb24gKHNyYykgeyByZXR1cm4gc3JjLnN1YnN0cigtMykudG9Mb3dlckNhc2UoKSA9PT0gJ3N2ZycgfHwgSU5MSU5FX1NWRy50ZXN0KHNyYyk7IH07XHJcblxyXG4gICAgdmFyIHdlYmtpdEdyYWRpZW50ID0gZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgIHZhciBhbmdsZSA9IGRlZygxODApO1xyXG4gICAgICAgIHZhciBzdG9wcyA9IFtdO1xyXG4gICAgICAgIHZhciB0eXBlID0gQ1NTSW1hZ2VUeXBlLkxJTkVBUl9HUkFESUVOVDtcclxuICAgICAgICB2YXIgc2hhcGUgPSBDU1NSYWRpYWxTaGFwZS5DSVJDTEU7XHJcbiAgICAgICAgdmFyIHNpemUgPSBDU1NSYWRpYWxFeHRlbnQuRkFSVEhFU1RfQ09STkVSO1xyXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IFtdO1xyXG4gICAgICAgIHBhcnNlRnVuY3Rpb25BcmdzKHRva2VucykuZm9yRWFjaChmdW5jdGlvbiAoYXJnLCBpKSB7XHJcbiAgICAgICAgICAgIHZhciBmaXJzdFRva2VuID0gYXJnWzBdO1xyXG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzSWRlbnRUb2tlbihmaXJzdFRva2VuKSAmJiBmaXJzdFRva2VuLnZhbHVlID09PSAnbGluZWFyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBDU1NJbWFnZVR5cGUuTElORUFSX0dSQURJRU5UO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzSWRlbnRUb2tlbihmaXJzdFRva2VuKSAmJiBmaXJzdFRva2VuLnZhbHVlID09PSAncmFkaWFsJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBDU1NJbWFnZVR5cGUuUkFESUFMX0dSQURJRU5UO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZmlyc3RUb2tlbi50eXBlID09PSBUb2tlblR5cGUuRlVOQ1RJT04pIHtcclxuICAgICAgICAgICAgICAgIGlmIChmaXJzdFRva2VuLm5hbWUgPT09ICdmcm9tJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2xvciQxID0gY29sb3IucGFyc2UoZmlyc3RUb2tlbi52YWx1ZXNbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0b3BzLnB1c2goeyBzdG9wOiBaRVJPX0xFTkdUSCwgY29sb3I6IGNvbG9yJDEgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChmaXJzdFRva2VuLm5hbWUgPT09ICd0bycpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3IkMSA9IGNvbG9yLnBhcnNlKGZpcnN0VG9rZW4udmFsdWVzWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBzdG9wcy5wdXNoKHsgc3RvcDogSFVORFJFRF9QRVJDRU5ULCBjb2xvcjogY29sb3IkMSB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZpcnN0VG9rZW4ubmFtZSA9PT0gJ2NvbG9yLXN0b3AnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IGZpcnN0VG9rZW4udmFsdWVzLmZpbHRlcihub25GdW5jdGlvbkFyZ1NlcGFyYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yJDEgPSBjb2xvci5wYXJzZSh2YWx1ZXNbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcF8xID0gdmFsdWVzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOdW1iZXJUb2tlbihzdG9wXzEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9wcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9wOiB7IHR5cGU6IFRva2VuVHlwZS5QRVJDRU5UQUdFX1RPS0VOLCBudW1iZXI6IHN0b3BfMS5udW1iZXIgKiAxMDAsIGZsYWdzOiBzdG9wXzEuZmxhZ3MgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogY29sb3IkMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdHlwZSA9PT0gQ1NTSW1hZ2VUeXBlLkxJTkVBUl9HUkFESUVOVFxyXG4gICAgICAgICAgICA/IHtcclxuICAgICAgICAgICAgICAgIGFuZ2xlOiAoYW5nbGUgKyBkZWcoMTgwKSkgJSBkZWcoMzYwKSxcclxuICAgICAgICAgICAgICAgIHN0b3BzOiBzdG9wcyxcclxuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA6IHsgc2l6ZTogc2l6ZSwgc2hhcGU6IHNoYXBlLCBzdG9wczogc3RvcHMsIHBvc2l0aW9uOiBwb3NpdGlvbiwgdHlwZTogdHlwZSB9O1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgQ0xPU0VTVF9TSURFID0gJ2Nsb3Nlc3Qtc2lkZSc7XHJcbiAgICB2YXIgRkFSVEhFU1RfU0lERSA9ICdmYXJ0aGVzdC1zaWRlJztcclxuICAgIHZhciBDTE9TRVNUX0NPUk5FUiA9ICdjbG9zZXN0LWNvcm5lcic7XHJcbiAgICB2YXIgRkFSVEhFU1RfQ09STkVSID0gJ2ZhcnRoZXN0LWNvcm5lcic7XHJcbiAgICB2YXIgQ0lSQ0xFID0gJ2NpcmNsZSc7XHJcbiAgICB2YXIgRUxMSVBTRSA9ICdlbGxpcHNlJztcclxuICAgIHZhciBDT1ZFUiA9ICdjb3Zlcic7XHJcbiAgICB2YXIgQ09OVEFJTiA9ICdjb250YWluJztcclxuICAgIHZhciByYWRpYWxHcmFkaWVudCA9IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICB2YXIgc2hhcGUgPSBDU1NSYWRpYWxTaGFwZS5DSVJDTEU7XHJcbiAgICAgICAgdmFyIHNpemUgPSBDU1NSYWRpYWxFeHRlbnQuRkFSVEhFU1RfQ09STkVSO1xyXG4gICAgICAgIHZhciBzdG9wcyA9IFtdO1xyXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IFtdO1xyXG4gICAgICAgIHBhcnNlRnVuY3Rpb25BcmdzKHRva2VucykuZm9yRWFjaChmdW5jdGlvbiAoYXJnLCBpKSB7XHJcbiAgICAgICAgICAgIHZhciBpc0NvbG9yU3RvcCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXNBdFBvc2l0aW9uXzEgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlzQ29sb3JTdG9wID0gYXJnLnJlZHVjZShmdW5jdGlvbiAoYWNjLCB0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0F0UG9zaXRpb25fMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNJZGVudFRva2VuKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0b2tlbi52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NlbnRlcic6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uLnB1c2goRklGVFlfUEVSQ0VOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9wJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdsZWZ0JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ucHVzaChaRVJPX0xFTkdUSCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uLnB1c2goSFVORFJFRF9QRVJDRU5UKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0xlbmd0aFBlcmNlbnRhZ2UodG9rZW4pIHx8IGlzTGVuZ3RoKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ucHVzaCh0b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNJZGVudFRva2VuKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENJUkNMRTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFwZSA9IENTU1JhZGlhbFNoYXBlLkNJUkNMRTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEVMTElQU0U6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcGUgPSBDU1NSYWRpYWxTaGFwZS5FTExJUFNFO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2F0JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0F0UG9zaXRpb25fMSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDTE9TRVNUX1NJREU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IENTU1JhZGlhbEV4dGVudC5DTE9TRVNUX1NJREU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDT1ZFUjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRkFSVEhFU1RfU0lERTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplID0gQ1NTUmFkaWFsRXh0ZW50LkZBUlRIRVNUX1NJREU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDT05UQUlOOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDTE9TRVNUX0NPUk5FUjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplID0gQ1NTUmFkaWFsRXh0ZW50LkNMT1NFU1RfQ09STkVSO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgRkFSVEhFU1RfQ09STkVSOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemUgPSBDU1NSYWRpYWxFeHRlbnQuRkFSVEhFU1RfQ09STkVSO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0xlbmd0aCh0b2tlbikgfHwgaXNMZW5ndGhQZXJjZW50YWdlKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2l6ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemUgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplLnB1c2godG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgICAgICB9LCBpc0NvbG9yU3RvcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzQ29sb3JTdG9wKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29sb3JTdG9wID0gcGFyc2VDb2xvclN0b3AoYXJnKTtcclxuICAgICAgICAgICAgICAgIHN0b3BzLnB1c2goY29sb3JTdG9wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB7IHNpemU6IHNpemUsIHNoYXBlOiBzaGFwZSwgc3RvcHM6IHN0b3BzLCBwb3NpdGlvbjogcG9zaXRpb24sIHR5cGU6IENTU0ltYWdlVHlwZS5SQURJQUxfR1JBRElFTlQgfTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHByZWZpeFJhZGlhbEdyYWRpZW50ID0gZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgIHZhciBzaGFwZSA9IENTU1JhZGlhbFNoYXBlLkNJUkNMRTtcclxuICAgICAgICB2YXIgc2l6ZSA9IENTU1JhZGlhbEV4dGVudC5GQVJUSEVTVF9DT1JORVI7XHJcbiAgICAgICAgdmFyIHN0b3BzID0gW107XHJcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gW107XHJcbiAgICAgICAgcGFyc2VGdW5jdGlvbkFyZ3ModG9rZW5zKS5mb3JFYWNoKGZ1bmN0aW9uIChhcmcsIGkpIHtcclxuICAgICAgICAgICAgdmFyIGlzQ29sb3JTdG9wID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIGlzQ29sb3JTdG9wID0gYXJnLnJlZHVjZShmdW5jdGlvbiAoYWNjLCB0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0lkZW50VG9rZW4odG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NlbnRlcic6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ucHVzaChGSUZUWV9QRVJDRU5UKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd0b3AnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnbGVmdCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24ucHVzaChaRVJPX0xFTkdUSCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbi5wdXNoKEhVTkRSRURfUEVSQ0VOVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzTGVuZ3RoUGVyY2VudGFnZSh0b2tlbikgfHwgaXNMZW5ndGgodG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uLnB1c2godG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XHJcbiAgICAgICAgICAgICAgICB9LCBpc0NvbG9yU3RvcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgaXNDb2xvclN0b3AgPSBhcmcucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSWRlbnRUb2tlbih0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0b2tlbi52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDSVJDTEU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcGUgPSBDU1NSYWRpYWxTaGFwZS5DSVJDTEU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBFTExJUFNFOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXBlID0gQ1NTUmFkaWFsU2hhcGUuRUxMSVBTRTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENPTlRBSU46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENMT1NFU1RfU0lERTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplID0gQ1NTUmFkaWFsRXh0ZW50LkNMT1NFU1RfU0lERTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIEZBUlRIRVNUX1NJREU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IENTU1JhZGlhbEV4dGVudC5GQVJUSEVTVF9TSURFO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ0xPU0VTVF9DT1JORVI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IENTU1JhZGlhbEV4dGVudC5DTE9TRVNUX0NPUk5FUjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENPVkVSOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBGQVJUSEVTVF9DT1JORVI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IENTU1JhZGlhbEV4dGVudC5GQVJUSEVTVF9DT1JORVI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzTGVuZ3RoKHRva2VuKSB8fCBpc0xlbmd0aFBlcmNlbnRhZ2UodG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShzaXplKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemUucHVzaCh0b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcclxuICAgICAgICAgICAgICAgIH0sIGlzQ29sb3JTdG9wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNDb2xvclN0b3ApIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb2xvclN0b3AgPSBwYXJzZUNvbG9yU3RvcChhcmcpO1xyXG4gICAgICAgICAgICAgICAgc3RvcHMucHVzaChjb2xvclN0b3ApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHsgc2l6ZTogc2l6ZSwgc2hhcGU6IHNoYXBlLCBzdG9wczogc3RvcHMsIHBvc2l0aW9uOiBwb3NpdGlvbiwgdHlwZTogQ1NTSW1hZ2VUeXBlLlJBRElBTF9HUkFESUVOVCB9O1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgQ1NTSW1hZ2VUeXBlO1xyXG4gICAgKGZ1bmN0aW9uIChDU1NJbWFnZVR5cGUpIHtcclxuICAgICAgICBDU1NJbWFnZVR5cGVbQ1NTSW1hZ2VUeXBlW1wiVVJMXCJdID0gMF0gPSBcIlVSTFwiO1xyXG4gICAgICAgIENTU0ltYWdlVHlwZVtDU1NJbWFnZVR5cGVbXCJMSU5FQVJfR1JBRElFTlRcIl0gPSAxXSA9IFwiTElORUFSX0dSQURJRU5UXCI7XHJcbiAgICAgICAgQ1NTSW1hZ2VUeXBlW0NTU0ltYWdlVHlwZVtcIlJBRElBTF9HUkFESUVOVFwiXSA9IDJdID0gXCJSQURJQUxfR1JBRElFTlRcIjtcclxuICAgIH0pKENTU0ltYWdlVHlwZSB8fCAoQ1NTSW1hZ2VUeXBlID0ge30pKTtcclxuICAgIHZhciBpc0xpbmVhckdyYWRpZW50ID0gZnVuY3Rpb24gKGJhY2tncm91bmQpIHtcclxuICAgICAgICByZXR1cm4gYmFja2dyb3VuZC50eXBlID09PSBDU1NJbWFnZVR5cGUuTElORUFSX0dSQURJRU5UO1xyXG4gICAgfTtcclxuICAgIHZhciBpc1JhZGlhbEdyYWRpZW50ID0gZnVuY3Rpb24gKGJhY2tncm91bmQpIHtcclxuICAgICAgICByZXR1cm4gYmFja2dyb3VuZC50eXBlID09PSBDU1NJbWFnZVR5cGUuUkFESUFMX0dSQURJRU5UO1xyXG4gICAgfTtcclxuICAgIHZhciBDU1NSYWRpYWxTaGFwZTtcclxuICAgIChmdW5jdGlvbiAoQ1NTUmFkaWFsU2hhcGUpIHtcclxuICAgICAgICBDU1NSYWRpYWxTaGFwZVtDU1NSYWRpYWxTaGFwZVtcIkNJUkNMRVwiXSA9IDBdID0gXCJDSVJDTEVcIjtcclxuICAgICAgICBDU1NSYWRpYWxTaGFwZVtDU1NSYWRpYWxTaGFwZVtcIkVMTElQU0VcIl0gPSAxXSA9IFwiRUxMSVBTRVwiO1xyXG4gICAgfSkoQ1NTUmFkaWFsU2hhcGUgfHwgKENTU1JhZGlhbFNoYXBlID0ge30pKTtcclxuICAgIHZhciBDU1NSYWRpYWxFeHRlbnQ7XHJcbiAgICAoZnVuY3Rpb24gKENTU1JhZGlhbEV4dGVudCkge1xyXG4gICAgICAgIENTU1JhZGlhbEV4dGVudFtDU1NSYWRpYWxFeHRlbnRbXCJDTE9TRVNUX1NJREVcIl0gPSAwXSA9IFwiQ0xPU0VTVF9TSURFXCI7XHJcbiAgICAgICAgQ1NTUmFkaWFsRXh0ZW50W0NTU1JhZGlhbEV4dGVudFtcIkZBUlRIRVNUX1NJREVcIl0gPSAxXSA9IFwiRkFSVEhFU1RfU0lERVwiO1xyXG4gICAgICAgIENTU1JhZGlhbEV4dGVudFtDU1NSYWRpYWxFeHRlbnRbXCJDTE9TRVNUX0NPUk5FUlwiXSA9IDJdID0gXCJDTE9TRVNUX0NPUk5FUlwiO1xyXG4gICAgICAgIENTU1JhZGlhbEV4dGVudFtDU1NSYWRpYWxFeHRlbnRbXCJGQVJUSEVTVF9DT1JORVJcIl0gPSAzXSA9IFwiRkFSVEhFU1RfQ09STkVSXCI7XHJcbiAgICB9KShDU1NSYWRpYWxFeHRlbnQgfHwgKENTU1JhZGlhbEV4dGVudCA9IHt9KSk7XHJcbiAgICB2YXIgaW1hZ2UgPSB7XHJcbiAgICAgICAgbmFtZTogJ2ltYWdlJyxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZS50eXBlID09PSBUb2tlblR5cGUuVVJMX1RPS0VOKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2VfMSA9IHsgdXJsOiB2YWx1ZS52YWx1ZSwgdHlwZTogQ1NTSW1hZ2VUeXBlLlVSTCB9O1xyXG4gICAgICAgICAgICAgICAgQ2FjaGVTdG9yYWdlLmdldEluc3RhbmNlKCkuYWRkSW1hZ2UodmFsdWUudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGltYWdlXzE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHZhbHVlLnR5cGUgPT09IFRva2VuVHlwZS5GVU5DVElPTikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGltYWdlRnVuY3Rpb24gPSBTVVBQT1JURURfSU1BR0VfRlVOQ1RJT05TW3ZhbHVlLm5hbWVdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpbWFnZUZ1bmN0aW9uID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRpbmcgdG8gcGFyc2UgYW4gdW5zdXBwb3J0ZWQgaW1hZ2UgZnVuY3Rpb24gXFxcIlwiICsgdmFsdWUubmFtZSArIFwiXFxcIlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBpbWFnZUZ1bmN0aW9uKHZhbHVlLnZhbHVlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgaW1hZ2UgdHlwZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZnVuY3Rpb24gaXNTdXBwb3J0ZWRJbWFnZSh2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZS50eXBlICE9PSBUb2tlblR5cGUuRlVOQ1RJT04gfHwgU1VQUE9SVEVEX0lNQUdFX0ZVTkNUSU9OU1t2YWx1ZS5uYW1lXTtcclxuICAgIH1cclxuICAgIHZhciBTVVBQT1JURURfSU1BR0VfRlVOQ1RJT05TID0ge1xyXG4gICAgICAgICdsaW5lYXItZ3JhZGllbnQnOiBsaW5lYXJHcmFkaWVudCxcclxuICAgICAgICAnLW1vei1saW5lYXItZ3JhZGllbnQnOiBwcmVmaXhMaW5lYXJHcmFkaWVudCxcclxuICAgICAgICAnLW1zLWxpbmVhci1ncmFkaWVudCc6IHByZWZpeExpbmVhckdyYWRpZW50LFxyXG4gICAgICAgICctby1saW5lYXItZ3JhZGllbnQnOiBwcmVmaXhMaW5lYXJHcmFkaWVudCxcclxuICAgICAgICAnLXdlYmtpdC1saW5lYXItZ3JhZGllbnQnOiBwcmVmaXhMaW5lYXJHcmFkaWVudCxcclxuICAgICAgICAncmFkaWFsLWdyYWRpZW50JzogcmFkaWFsR3JhZGllbnQsXHJcbiAgICAgICAgJy1tb3otcmFkaWFsLWdyYWRpZW50JzogcHJlZml4UmFkaWFsR3JhZGllbnQsXHJcbiAgICAgICAgJy1tcy1yYWRpYWwtZ3JhZGllbnQnOiBwcmVmaXhSYWRpYWxHcmFkaWVudCxcclxuICAgICAgICAnLW8tcmFkaWFsLWdyYWRpZW50JzogcHJlZml4UmFkaWFsR3JhZGllbnQsXHJcbiAgICAgICAgJy13ZWJraXQtcmFkaWFsLWdyYWRpZW50JzogcHJlZml4UmFkaWFsR3JhZGllbnQsXHJcbiAgICAgICAgJy13ZWJraXQtZ3JhZGllbnQnOiB3ZWJraXRHcmFkaWVudFxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgYmFja2dyb3VuZEltYWdlID0ge1xyXG4gICAgICAgIG5hbWU6ICdiYWNrZ3JvdW5kLWltYWdlJyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdub25lJyxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgZmlyc3QgPSB0b2tlbnNbMF07XHJcbiAgICAgICAgICAgIGlmIChmaXJzdC50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU4gJiYgZmlyc3QudmFsdWUgPT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0b2tlbnMuZmlsdGVyKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gbm9uRnVuY3Rpb25BcmdTZXBhcmF0b3IodmFsdWUpICYmIGlzU3VwcG9ydGVkSW1hZ2UodmFsdWUpOyB9KS5tYXAoaW1hZ2UucGFyc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIGJhY2tncm91bmRPcmlnaW4gPSB7XHJcbiAgICAgICAgbmFtZTogJ2JhY2tncm91bmQtb3JpZ2luJyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdib3JkZXItYm94JyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRva2Vucy5tYXAoZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNJZGVudFRva2VuKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncGFkZGluZy1ib3gnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDEgLyogUEFERElOR19CT1ggKi87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvbnRlbnQtYm94JzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAyIC8qIENPTlRFTlRfQk9YICovO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAwIC8qIEJPUkRFUl9CT1ggKi87XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIGJhY2tncm91bmRQb3NpdGlvbiA9IHtcclxuICAgICAgICBuYW1lOiAnYmFja2dyb3VuZC1wb3NpdGlvbicsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnMCUgMCUnLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VGdW5jdGlvbkFyZ3ModG9rZW5zKVxyXG4gICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAodmFsdWVzKSB7IHJldHVybiB2YWx1ZXMuZmlsdGVyKGlzTGVuZ3RoUGVyY2VudGFnZSk7IH0pXHJcbiAgICAgICAgICAgICAgICAubWFwKHBhcnNlTGVuZ3RoUGVyY2VudGFnZVR1cGxlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBCQUNLR1JPVU5EX1JFUEVBVDtcclxuICAgIChmdW5jdGlvbiAoQkFDS0dST1VORF9SRVBFQVQpIHtcclxuICAgICAgICBCQUNLR1JPVU5EX1JFUEVBVFtCQUNLR1JPVU5EX1JFUEVBVFtcIlJFUEVBVFwiXSA9IDBdID0gXCJSRVBFQVRcIjtcclxuICAgICAgICBCQUNLR1JPVU5EX1JFUEVBVFtCQUNLR1JPVU5EX1JFUEVBVFtcIk5PX1JFUEVBVFwiXSA9IDFdID0gXCJOT19SRVBFQVRcIjtcclxuICAgICAgICBCQUNLR1JPVU5EX1JFUEVBVFtCQUNLR1JPVU5EX1JFUEVBVFtcIlJFUEVBVF9YXCJdID0gMl0gPSBcIlJFUEVBVF9YXCI7XHJcbiAgICAgICAgQkFDS0dST1VORF9SRVBFQVRbQkFDS0dST1VORF9SRVBFQVRbXCJSRVBFQVRfWVwiXSA9IDNdID0gXCJSRVBFQVRfWVwiO1xyXG4gICAgfSkoQkFDS0dST1VORF9SRVBFQVQgfHwgKEJBQ0tHUk9VTkRfUkVQRUFUID0ge30pKTtcclxuICAgIHZhciBiYWNrZ3JvdW5kUmVwZWF0ID0ge1xyXG4gICAgICAgIG5hbWU6ICdiYWNrZ3JvdW5kLXJlcGVhdCcsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAncmVwZWF0JyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRnVuY3Rpb25BcmdzKHRva2VucylcclxuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHZhbHVlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihpc0lkZW50VG9rZW4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHRva2VuKSB7IHJldHVybiB0b2tlbi52YWx1ZTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmpvaW4oJyAnKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAubWFwKHBhcnNlQmFja2dyb3VuZFJlcGVhdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciBwYXJzZUJhY2tncm91bmRSZXBlYXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBzd2l0Y2ggKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ25vLXJlcGVhdCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQkFDS0dST1VORF9SRVBFQVQuTk9fUkVQRUFUO1xyXG4gICAgICAgICAgICBjYXNlICdyZXBlYXQteCc6XHJcbiAgICAgICAgICAgIGNhc2UgJ3JlcGVhdCBuby1yZXBlYXQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJBQ0tHUk9VTkRfUkVQRUFULlJFUEVBVF9YO1xyXG4gICAgICAgICAgICBjYXNlICdyZXBlYXQteSc6XHJcbiAgICAgICAgICAgIGNhc2UgJ25vLXJlcGVhdCByZXBlYXQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJBQ0tHUk9VTkRfUkVQRUFULlJFUEVBVF9ZO1xyXG4gICAgICAgICAgICBjYXNlICdyZXBlYXQnOlxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEJBQ0tHUk9VTkRfUkVQRUFULlJFUEVBVDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBCQUNLR1JPVU5EX1NJWkU7XHJcbiAgICAoZnVuY3Rpb24gKEJBQ0tHUk9VTkRfU0laRSkge1xyXG4gICAgICAgIEJBQ0tHUk9VTkRfU0laRVtcIkFVVE9cIl0gPSBcImF1dG9cIjtcclxuICAgICAgICBCQUNLR1JPVU5EX1NJWkVbXCJDT05UQUlOXCJdID0gXCJjb250YWluXCI7XHJcbiAgICAgICAgQkFDS0dST1VORF9TSVpFW1wiQ09WRVJcIl0gPSBcImNvdmVyXCI7XHJcbiAgICB9KShCQUNLR1JPVU5EX1NJWkUgfHwgKEJBQ0tHUk9VTkRfU0laRSA9IHt9KSk7XHJcbiAgICB2YXIgYmFja2dyb3VuZFNpemUgPSB7XHJcbiAgICAgICAgbmFtZTogJ2JhY2tncm91bmQtc2l6ZScsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnMCcsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUZ1bmN0aW9uQXJncyh0b2tlbnMpLm1hcChmdW5jdGlvbiAodmFsdWVzKSB7IHJldHVybiB2YWx1ZXMuZmlsdGVyKGlzQmFja2dyb3VuZFNpemVJbmZvVG9rZW4pOyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdmFyIGlzQmFja2dyb3VuZFNpemVJbmZvVG9rZW4gPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gaXNJZGVudFRva2VuKHZhbHVlKSB8fCBpc0xlbmd0aFBlcmNlbnRhZ2UodmFsdWUpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgYm9yZGVyQ29sb3JGb3JTaWRlID0gZnVuY3Rpb24gKHNpZGUpIHtcclxuICAgICAgICByZXR1cm4gKHtcclxuICAgICAgICAgICAgbmFtZTogXCJib3JkZXItXCIgKyBzaWRlICsgXCItY29sb3JcIixcclxuICAgICAgICAgICAgaW5pdGlhbFZhbHVlOiAndHJhbnNwYXJlbnQnLFxyXG4gICAgICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5UWVBFX1ZBTFVFLFxyXG4gICAgICAgICAgICBmb3JtYXQ6ICdjb2xvcidcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICB2YXIgYm9yZGVyVG9wQ29sb3IgPSBib3JkZXJDb2xvckZvclNpZGUoJ3RvcCcpO1xyXG4gICAgdmFyIGJvcmRlclJpZ2h0Q29sb3IgPSBib3JkZXJDb2xvckZvclNpZGUoJ3JpZ2h0Jyk7XHJcbiAgICB2YXIgYm9yZGVyQm90dG9tQ29sb3IgPSBib3JkZXJDb2xvckZvclNpZGUoJ2JvdHRvbScpO1xyXG4gICAgdmFyIGJvcmRlckxlZnRDb2xvciA9IGJvcmRlckNvbG9yRm9yU2lkZSgnbGVmdCcpO1xyXG5cclxuICAgIHZhciBib3JkZXJSYWRpdXNGb3JTaWRlID0gZnVuY3Rpb24gKHNpZGUpIHtcclxuICAgICAgICByZXR1cm4gKHtcclxuICAgICAgICAgICAgbmFtZTogXCJib3JkZXItcmFkaXVzLVwiICsgc2lkZSxcclxuICAgICAgICAgICAgaW5pdGlhbFZhbHVlOiAnMCAwJyxcclxuICAgICAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuTElTVCxcclxuICAgICAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHsgcmV0dXJuIHBhcnNlTGVuZ3RoUGVyY2VudGFnZVR1cGxlKHRva2Vucy5maWx0ZXIoaXNMZW5ndGhQZXJjZW50YWdlKSk7IH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICB2YXIgYm9yZGVyVG9wTGVmdFJhZGl1cyA9IGJvcmRlclJhZGl1c0ZvclNpZGUoJ3RvcC1sZWZ0Jyk7XHJcbiAgICB2YXIgYm9yZGVyVG9wUmlnaHRSYWRpdXMgPSBib3JkZXJSYWRpdXNGb3JTaWRlKCd0b3AtcmlnaHQnKTtcclxuICAgIHZhciBib3JkZXJCb3R0b21SaWdodFJhZGl1cyA9IGJvcmRlclJhZGl1c0ZvclNpZGUoJ2JvdHRvbS1yaWdodCcpO1xyXG4gICAgdmFyIGJvcmRlckJvdHRvbUxlZnRSYWRpdXMgPSBib3JkZXJSYWRpdXNGb3JTaWRlKCdib3R0b20tbGVmdCcpO1xyXG5cclxuICAgIHZhciBCT1JERVJfU1RZTEU7XHJcbiAgICAoZnVuY3Rpb24gKEJPUkRFUl9TVFlMRSkge1xyXG4gICAgICAgIEJPUkRFUl9TVFlMRVtCT1JERVJfU1RZTEVbXCJOT05FXCJdID0gMF0gPSBcIk5PTkVcIjtcclxuICAgICAgICBCT1JERVJfU1RZTEVbQk9SREVSX1NUWUxFW1wiU09MSURcIl0gPSAxXSA9IFwiU09MSURcIjtcclxuICAgIH0pKEJPUkRFUl9TVFlMRSB8fCAoQk9SREVSX1NUWUxFID0ge30pKTtcclxuICAgIHZhciBib3JkZXJTdHlsZUZvclNpZGUgPSBmdW5jdGlvbiAoc2lkZSkge1xyXG4gICAgICAgIHJldHVybiAoe1xyXG4gICAgICAgICAgICBuYW1lOiBcImJvcmRlci1cIiArIHNpZGUgKyBcIi1zdHlsZVwiLFxyXG4gICAgICAgICAgICBpbml0aWFsVmFsdWU6ICdzb2xpZCcsXHJcbiAgICAgICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLklERU5UX1ZBTFVFLFxyXG4gICAgICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbm9uZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBCT1JERVJfU1RZTEUuTk9ORTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBCT1JERVJfU1RZTEUuU09MSUQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICB2YXIgYm9yZGVyVG9wU3R5bGUgPSBib3JkZXJTdHlsZUZvclNpZGUoJ3RvcCcpO1xyXG4gICAgdmFyIGJvcmRlclJpZ2h0U3R5bGUgPSBib3JkZXJTdHlsZUZvclNpZGUoJ3JpZ2h0Jyk7XHJcbiAgICB2YXIgYm9yZGVyQm90dG9tU3R5bGUgPSBib3JkZXJTdHlsZUZvclNpZGUoJ2JvdHRvbScpO1xyXG4gICAgdmFyIGJvcmRlckxlZnRTdHlsZSA9IGJvcmRlclN0eWxlRm9yU2lkZSgnbGVmdCcpO1xyXG5cclxuICAgIHZhciBib3JkZXJXaWR0aEZvclNpZGUgPSBmdW5jdGlvbiAoc2lkZSkge1xyXG4gICAgICAgIHJldHVybiAoe1xyXG4gICAgICAgICAgICBuYW1lOiBcImJvcmRlci1cIiArIHNpZGUgKyBcIi13aWR0aFwiLFxyXG4gICAgICAgICAgICBpbml0aWFsVmFsdWU6ICcwJyxcclxuICAgICAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuVkFMVUUsXHJcbiAgICAgICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc0RpbWVuc2lvblRva2VuKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbi5udW1iZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHZhciBib3JkZXJUb3BXaWR0aCA9IGJvcmRlcldpZHRoRm9yU2lkZSgndG9wJyk7XHJcbiAgICB2YXIgYm9yZGVyUmlnaHRXaWR0aCA9IGJvcmRlcldpZHRoRm9yU2lkZSgncmlnaHQnKTtcclxuICAgIHZhciBib3JkZXJCb3R0b21XaWR0aCA9IGJvcmRlcldpZHRoRm9yU2lkZSgnYm90dG9tJyk7XHJcbiAgICB2YXIgYm9yZGVyTGVmdFdpZHRoID0gYm9yZGVyV2lkdGhGb3JTaWRlKCdsZWZ0Jyk7XHJcblxyXG4gICAgdmFyIGNvbG9yJDEgPSB7XHJcbiAgICAgICAgbmFtZTogXCJjb2xvclwiLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ3RyYW5zcGFyZW50JyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLlRZUEVfVkFMVUUsXHJcbiAgICAgICAgZm9ybWF0OiAnY29sb3InXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBkaXNwbGF5ID0ge1xyXG4gICAgICAgIG5hbWU6ICdkaXNwbGF5JyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdpbmxpbmUtYmxvY2snLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuTElTVCxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgICAgICByZXR1cm4gdG9rZW5zLmZpbHRlcihpc0lkZW50VG9rZW4pLnJlZHVjZShmdW5jdGlvbiAoYml0LCB0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJpdCB8IHBhcnNlRGlzcGxheVZhbHVlKHRva2VuLnZhbHVlKTtcclxuICAgICAgICAgICAgfSwgMCAvKiBOT05FICovKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdmFyIHBhcnNlRGlzcGxheVZhbHVlID0gZnVuY3Rpb24gKGRpc3BsYXkpIHtcclxuICAgICAgICBzd2l0Y2ggKGRpc3BsYXkpIHtcclxuICAgICAgICAgICAgY2FzZSAnYmxvY2snOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDIgLyogQkxPQ0sgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ2lubGluZSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gNCAvKiBJTkxJTkUgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ3J1bi1pbic6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gOCAvKiBSVU5fSU4gKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ2Zsb3cnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE2IC8qIEZMT1cgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ2Zsb3ctcm9vdCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMzIgLyogRkxPV19ST09UICovO1xyXG4gICAgICAgICAgICBjYXNlICd0YWJsZSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gNjQgLyogVEFCTEUgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ2ZsZXgnOlxyXG4gICAgICAgICAgICBjYXNlICctd2Via2l0LWZsZXgnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDEyOCAvKiBGTEVYICovO1xyXG4gICAgICAgICAgICBjYXNlICdncmlkJzpcclxuICAgICAgICAgICAgY2FzZSAnLW1zLWdyaWQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDI1NiAvKiBHUklEICovO1xyXG4gICAgICAgICAgICBjYXNlICdydWJ5JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiA1MTIgLyogUlVCWSAqLztcclxuICAgICAgICAgICAgY2FzZSAnc3ViZ3JpZCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTAyNCAvKiBTVUJHUklEICovO1xyXG4gICAgICAgICAgICBjYXNlICdsaXN0LWl0ZW0nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDIwNDggLyogTElTVF9JVEVNICovO1xyXG4gICAgICAgICAgICBjYXNlICd0YWJsZS1yb3ctZ3JvdXAnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDQwOTYgLyogVEFCTEVfUk9XX0dST1VQICovO1xyXG4gICAgICAgICAgICBjYXNlICd0YWJsZS1oZWFkZXItZ3JvdXAnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDgxOTIgLyogVEFCTEVfSEVBREVSX0dST1VQICovO1xyXG4gICAgICAgICAgICBjYXNlICd0YWJsZS1mb290ZXItZ3JvdXAnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE2Mzg0IC8qIFRBQkxFX0ZPT1RFUl9HUk9VUCAqLztcclxuICAgICAgICAgICAgY2FzZSAndGFibGUtcm93JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAzMjc2OCAvKiBUQUJMRV9ST1cgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ3RhYmxlLWNlbGwnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDY1NTM2IC8qIFRBQkxFX0NFTEwgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ3RhYmxlLWNvbHVtbi1ncm91cCc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTMxMDcyIC8qIFRBQkxFX0NPTFVNTl9HUk9VUCAqLztcclxuICAgICAgICAgICAgY2FzZSAndGFibGUtY29sdW1uJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAyNjIxNDQgLyogVEFCTEVfQ09MVU1OICovO1xyXG4gICAgICAgICAgICBjYXNlICd0YWJsZS1jYXB0aW9uJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiA1MjQyODggLyogVEFCTEVfQ0FQVElPTiAqLztcclxuICAgICAgICAgICAgY2FzZSAncnVieS1iYXNlJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAxMDQ4NTc2IC8qIFJVQllfQkFTRSAqLztcclxuICAgICAgICAgICAgY2FzZSAncnVieS10ZXh0JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAyMDk3MTUyIC8qIFJVQllfVEVYVCAqLztcclxuICAgICAgICAgICAgY2FzZSAncnVieS1iYXNlLWNvbnRhaW5lcic6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gNDE5NDMwNCAvKiBSVUJZX0JBU0VfQ09OVEFJTkVSICovO1xyXG4gICAgICAgICAgICBjYXNlICdydWJ5LXRleHQtY29udGFpbmVyJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiA4Mzg4NjA4IC8qIFJVQllfVEVYVF9DT05UQUlORVIgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ2NvbnRlbnRzJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAxNjc3NzIxNiAvKiBDT05URU5UUyAqLztcclxuICAgICAgICAgICAgY2FzZSAnaW5saW5lLWJsb2NrJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAzMzU1NDQzMiAvKiBJTkxJTkVfQkxPQ0sgKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ2lubGluZS1saXN0LWl0ZW0nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDY3MTA4ODY0IC8qIElOTElORV9MSVNUX0lURU0gKi87XHJcbiAgICAgICAgICAgIGNhc2UgJ2lubGluZS10YWJsZSc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTM0MjE3NzI4IC8qIElOTElORV9UQUJMRSAqLztcclxuICAgICAgICAgICAgY2FzZSAnaW5saW5lLWZsZXgnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDI2ODQzNTQ1NiAvKiBJTkxJTkVfRkxFWCAqLztcclxuICAgICAgICAgICAgY2FzZSAnaW5saW5lLWdyaWQnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDUzNjg3MDkxMiAvKiBJTkxJTkVfR1JJRCAqLztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDAgLyogTk9ORSAqLztcclxuICAgIH07XHJcblxyXG4gICAgdmFyIEZMT0FUO1xyXG4gICAgKGZ1bmN0aW9uIChGTE9BVCkge1xyXG4gICAgICAgIEZMT0FUW0ZMT0FUW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XHJcbiAgICAgICAgRkxPQVRbRkxPQVRbXCJMRUZUXCJdID0gMV0gPSBcIkxFRlRcIjtcclxuICAgICAgICBGTE9BVFtGTE9BVFtcIlJJR0hUXCJdID0gMl0gPSBcIlJJR0hUXCI7XHJcbiAgICAgICAgRkxPQVRbRkxPQVRbXCJJTkxJTkVfU1RBUlRcIl0gPSAzXSA9IFwiSU5MSU5FX1NUQVJUXCI7XHJcbiAgICAgICAgRkxPQVRbRkxPQVRbXCJJTkxJTkVfRU5EXCJdID0gNF0gPSBcIklOTElORV9FTkRcIjtcclxuICAgIH0pKEZMT0FUIHx8IChGTE9BVCA9IHt9KSk7XHJcbiAgICB2YXIgZmxvYXQgPSB7XHJcbiAgICAgICAgbmFtZTogJ2Zsb2F0JyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdub25lJyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLklERU5UX1ZBTFVFLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAoZmxvYXQpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChmbG9hdCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbGVmdCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEZMT0FULkxFRlQ7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdyaWdodCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEZMT0FULlJJR0hUO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnaW5saW5lLXN0YXJ0JzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRkxPQVQuSU5MSU5FX1NUQVJUO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnaW5saW5lLWVuZCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEZMT0FULklOTElORV9FTkQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIEZMT0FULk5PTkU7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgbGV0dGVyU3BhY2luZyA9IHtcclxuICAgICAgICBuYW1lOiAnbGV0dGVyLXNwYWNpbmcnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJzAnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuVkFMVUUsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLklERU5UX1RPS0VOICYmIHRva2VuLnZhbHVlID09PSAnbm9ybWFsJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5OVU1CRVJfVE9LRU4pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbi5udW1iZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5ESU1FTlNJT05fVE9LRU4pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbi5udW1iZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgTElORV9CUkVBSztcclxuICAgIChmdW5jdGlvbiAoTElORV9CUkVBSykge1xyXG4gICAgICAgIExJTkVfQlJFQUtbXCJOT1JNQUxcIl0gPSBcIm5vcm1hbFwiO1xyXG4gICAgICAgIExJTkVfQlJFQUtbXCJTVFJJQ1RcIl0gPSBcInN0cmljdFwiO1xyXG4gICAgfSkoTElORV9CUkVBSyB8fCAoTElORV9CUkVBSyA9IHt9KSk7XHJcbiAgICB2YXIgbGluZUJyZWFrID0ge1xyXG4gICAgICAgIG5hbWU6ICdsaW5lLWJyZWFrJyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdub3JtYWwnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuSURFTlRfVkFMVUUsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIChsaW5lQnJlYWspIHtcclxuICAgICAgICAgICAgc3dpdGNoIChsaW5lQnJlYWspIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmljdCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJTkVfQlJFQUsuU1RSSUNUO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbm9ybWFsJzpcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJTkVfQlJFQUsuTk9STUFMO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgbGluZUhlaWdodCA9IHtcclxuICAgICAgICBuYW1lOiAnbGluZS1oZWlnaHQnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vcm1hbCcsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5UT0tFTl9WQUxVRVxyXG4gICAgfTtcclxuICAgIHZhciBjb21wdXRlTGluZUhlaWdodCA9IGZ1bmN0aW9uICh0b2tlbiwgZm9udFNpemUpIHtcclxuICAgICAgICBpZiAoaXNJZGVudFRva2VuKHRva2VuKSAmJiB0b2tlbi52YWx1ZSA9PT0gJ25vcm1hbCcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDEuMiAqIGZvbnRTaXplO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuTlVNQkVSX1RPS0VOKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmb250U2l6ZSAqIHRva2VuLm51bWJlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoaXNMZW5ndGhQZXJjZW50YWdlKHRva2VuKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0QWJzb2x1dGVWYWx1ZSh0b2tlbiwgZm9udFNpemUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZm9udFNpemU7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBsaXN0U3R5bGVJbWFnZSA9IHtcclxuICAgICAgICBuYW1lOiAnbGlzdC1zdHlsZS1pbWFnZScsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnbm9uZScsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuVkFMVUUsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU4gJiYgdG9rZW4udmFsdWUgPT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGltYWdlLnBhcnNlKHRva2VuKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBMSVNUX1NUWUxFX1BPU0lUSU9OO1xyXG4gICAgKGZ1bmN0aW9uIChMSVNUX1NUWUxFX1BPU0lUSU9OKSB7XHJcbiAgICAgICAgTElTVF9TVFlMRV9QT1NJVElPTltMSVNUX1NUWUxFX1BPU0lUSU9OW1wiSU5TSURFXCJdID0gMF0gPSBcIklOU0lERVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfUE9TSVRJT05bTElTVF9TVFlMRV9QT1NJVElPTltcIk9VVFNJREVcIl0gPSAxXSA9IFwiT1VUU0lERVwiO1xyXG4gICAgfSkoTElTVF9TVFlMRV9QT1NJVElPTiB8fCAoTElTVF9TVFlMRV9QT1NJVElPTiA9IHt9KSk7XHJcbiAgICB2YXIgbGlzdFN0eWxlUG9zaXRpb24gPSB7XHJcbiAgICAgICAgbmFtZTogJ2xpc3Qtc3R5bGUtcG9zaXRpb24nLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ291dHNpZGUnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuSURFTlRfVkFMVUUsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdpbnNpZGUnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1BPU0lUSU9OLklOU0lERTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ291dHNpZGUnOlxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9QT1NJVElPTi5PVVRTSURFO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgTElTVF9TVFlMRV9UWVBFO1xyXG4gICAgKGZ1bmN0aW9uIChMSVNUX1NUWUxFX1RZUEUpIHtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiTk9ORVwiXSA9IC0xXSA9IFwiTk9ORVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJESVNDXCJdID0gMF0gPSBcIkRJU0NcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiQ0lSQ0xFXCJdID0gMV0gPSBcIkNJUkNMRVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJTUVVBUkVcIl0gPSAyXSA9IFwiU1FVQVJFXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkRFQ0lNQUxcIl0gPSAzXSA9IFwiREVDSU1BTFwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJDSktfREVDSU1BTFwiXSA9IDRdID0gXCJDSktfREVDSU1BTFwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJERUNJTUFMX0xFQURJTkdfWkVST1wiXSA9IDVdID0gXCJERUNJTUFMX0xFQURJTkdfWkVST1wiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJMT1dFUl9ST01BTlwiXSA9IDZdID0gXCJMT1dFUl9ST01BTlwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJVUFBFUl9ST01BTlwiXSA9IDddID0gXCJVUFBFUl9ST01BTlwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJMT1dFUl9HUkVFS1wiXSA9IDhdID0gXCJMT1dFUl9HUkVFS1wiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJMT1dFUl9BTFBIQVwiXSA9IDldID0gXCJMT1dFUl9BTFBIQVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJVUFBFUl9BTFBIQVwiXSA9IDEwXSA9IFwiVVBQRVJfQUxQSEFcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiQVJBQklDX0lORElDXCJdID0gMTFdID0gXCJBUkFCSUNfSU5ESUNcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiQVJNRU5JQU5cIl0gPSAxMl0gPSBcIkFSTUVOSUFOXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkJFTkdBTElcIl0gPSAxM10gPSBcIkJFTkdBTElcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiQ0FNQk9ESUFOXCJdID0gMTRdID0gXCJDQU1CT0RJQU5cIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiQ0pLX0VBUlRITFlfQlJBTkNIXCJdID0gMTVdID0gXCJDSktfRUFSVEhMWV9CUkFOQ0hcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiQ0pLX0hFQVZFTkxZX1NURU1cIl0gPSAxNl0gPSBcIkNKS19IRUFWRU5MWV9TVEVNXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkNKS19JREVPR1JBUEhJQ1wiXSA9IDE3XSA9IFwiQ0pLX0lERU9HUkFQSElDXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkRFVkFOQUdBUklcIl0gPSAxOF0gPSBcIkRFVkFOQUdBUklcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiRVRISU9QSUNfTlVNRVJJQ1wiXSA9IDE5XSA9IFwiRVRISU9QSUNfTlVNRVJJQ1wiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJHRU9SR0lBTlwiXSA9IDIwXSA9IFwiR0VPUkdJQU5cIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiR1VKQVJBVElcIl0gPSAyMV0gPSBcIkdVSkFSQVRJXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkdVUk1VS0hJXCJdID0gMjJdID0gXCJHVVJNVUtISVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJIRUJSRVdcIl0gPSAyMl0gPSBcIkhFQlJFV1wiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJISVJBR0FOQVwiXSA9IDIzXSA9IFwiSElSQUdBTkFcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiSElSQUdBTkFfSVJPSEFcIl0gPSAyNF0gPSBcIkhJUkFHQU5BX0lST0hBXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkpBUEFORVNFX0ZPUk1BTFwiXSA9IDI1XSA9IFwiSkFQQU5FU0VfRk9STUFMXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkpBUEFORVNFX0lORk9STUFMXCJdID0gMjZdID0gXCJKQVBBTkVTRV9JTkZPUk1BTFwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJLQU5OQURBXCJdID0gMjddID0gXCJLQU5OQURBXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIktBVEFLQU5BXCJdID0gMjhdID0gXCJLQVRBS0FOQVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJLQVRBS0FOQV9JUk9IQVwiXSA9IDI5XSA9IFwiS0FUQUtBTkFfSVJPSEFcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiS0hNRVJcIl0gPSAzMF0gPSBcIktITUVSXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIktPUkVBTl9IQU5HVUxfRk9STUFMXCJdID0gMzFdID0gXCJLT1JFQU5fSEFOR1VMX0ZPUk1BTFwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJLT1JFQU5fSEFOSkFfRk9STUFMXCJdID0gMzJdID0gXCJLT1JFQU5fSEFOSkFfRk9STUFMXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIktPUkVBTl9IQU5KQV9JTkZPUk1BTFwiXSA9IDMzXSA9IFwiS09SRUFOX0hBTkpBX0lORk9STUFMXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkxBT1wiXSA9IDM0XSA9IFwiTEFPXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIkxPV0VSX0FSTUVOSUFOXCJdID0gMzVdID0gXCJMT1dFUl9BUk1FTklBTlwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJNQUxBWUFMQU1cIl0gPSAzNl0gPSBcIk1BTEFZQUxBTVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJNT05HT0xJQU5cIl0gPSAzN10gPSBcIk1PTkdPTElBTlwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJNWUFOTUFSXCJdID0gMzhdID0gXCJNWUFOTUFSXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIk9SSVlBXCJdID0gMzldID0gXCJPUklZQVwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJQRVJTSUFOXCJdID0gNDBdID0gXCJQRVJTSUFOXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIlNJTVBfQ0hJTkVTRV9GT1JNQUxcIl0gPSA0MV0gPSBcIlNJTVBfQ0hJTkVTRV9GT1JNQUxcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiU0lNUF9DSElORVNFX0lORk9STUFMXCJdID0gNDJdID0gXCJTSU1QX0NISU5FU0VfSU5GT1JNQUxcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiVEFNSUxcIl0gPSA0M10gPSBcIlRBTUlMXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIlRFTFVHVVwiXSA9IDQ0XSA9IFwiVEVMVUdVXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIlRIQUlcIl0gPSA0NV0gPSBcIlRIQUlcIjtcclxuICAgICAgICBMSVNUX1NUWUxFX1RZUEVbTElTVF9TVFlMRV9UWVBFW1wiVElCRVRBTlwiXSA9IDQ2XSA9IFwiVElCRVRBTlwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJUUkFEX0NISU5FU0VfRk9STUFMXCJdID0gNDddID0gXCJUUkFEX0NISU5FU0VfRk9STUFMXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIlRSQURfQ0hJTkVTRV9JTkZPUk1BTFwiXSA9IDQ4XSA9IFwiVFJBRF9DSElORVNFX0lORk9STUFMXCI7XHJcbiAgICAgICAgTElTVF9TVFlMRV9UWVBFW0xJU1RfU1RZTEVfVFlQRVtcIlVQUEVSX0FSTUVOSUFOXCJdID0gNDldID0gXCJVUFBFUl9BUk1FTklBTlwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJESVNDTE9TVVJFX09QRU5cIl0gPSA1MF0gPSBcIkRJU0NMT1NVUkVfT1BFTlwiO1xyXG4gICAgICAgIExJU1RfU1RZTEVfVFlQRVtMSVNUX1NUWUxFX1RZUEVbXCJESVNDTE9TVVJFX0NMT1NFRFwiXSA9IDUxXSA9IFwiRElTQ0xPU1VSRV9DTE9TRURcIjtcclxuICAgIH0pKExJU1RfU1RZTEVfVFlQRSB8fCAoTElTVF9TVFlMRV9UWVBFID0ge30pKTtcclxuICAgIHZhciBsaXN0U3R5bGVUeXBlID0ge1xyXG4gICAgICAgIG5hbWU6ICdsaXN0LXN0eWxlLXR5cGUnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuSURFTlRfVkFMVUUsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZGlzYyc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5ESVNDO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnY2lyY2xlJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkNJUkNMRTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3NxdWFyZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5TUVVBUkU7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdkZWNpbWFsJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkRFQ0lNQUw7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdjamstZGVjaW1hbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5DSktfREVDSU1BTDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2RlY2ltYWwtbGVhZGluZy16ZXJvJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkRFQ0lNQUxfTEVBRElOR19aRVJPO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbG93ZXItcm9tYW4nOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTE9XRVJfUk9NQU47XHJcbiAgICAgICAgICAgICAgICBjYXNlICd1cHBlci1yb21hbic6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5VUFBFUl9ST01BTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2xvd2VyLWdyZWVrJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkxPV0VSX0dSRUVLO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbG93ZXItYWxwaGEnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTE9XRVJfQUxQSEE7XHJcbiAgICAgICAgICAgICAgICBjYXNlICd1cHBlci1hbHBoYSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5VUFBFUl9BTFBIQTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2FyYWJpYy1pbmRpYyc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5BUkFCSUNfSU5ESUM7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdhcm1lbmlhbic6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5BUk1FTklBTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2JlbmdhbGknOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuQkVOR0FMSTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2NhbWJvZGlhbic6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5DQU1CT0RJQU47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdjamstZWFydGhseS1icmFuY2gnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuQ0pLX0VBUlRITFlfQlJBTkNIO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnY2prLWhlYXZlbmx5LXN0ZW0nOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuQ0pLX0hFQVZFTkxZX1NURU07XHJcbiAgICAgICAgICAgICAgICBjYXNlICdjamstaWRlb2dyYXBoaWMnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuQ0pLX0lERU9HUkFQSElDO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZGV2YW5hZ2FyaSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5ERVZBTkFHQVJJO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZXRoaW9waWMtbnVtZXJpYyc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5FVEhJT1BJQ19OVU1FUklDO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZ2VvcmdpYW4nOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuR0VPUkdJQU47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdndWphcmF0aSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5HVUpBUkFUSTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2d1cm11a2hpJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkdVUk1VS0hJO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnaGVicmV3JzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkhFQlJFVztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2hpcmFnYW5hJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLkhJUkFHQU5BO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnaGlyYWdhbmEtaXJvaGEnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuSElSQUdBTkFfSVJPSEE7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdqYXBhbmVzZS1mb3JtYWwnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuSkFQQU5FU0VfRk9STUFMO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnamFwYW5lc2UtaW5mb3JtYWwnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuSkFQQU5FU0VfSU5GT1JNQUw7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdrYW5uYWRhJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLktBTk5BREE7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdrYXRha2FuYSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5LQVRBS0FOQTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2thdGFrYW5hLWlyb2hhJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLktBVEFLQU5BX0lST0hBO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAna2htZXInOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuS0hNRVI7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdrb3JlYW4taGFuZ3VsLWZvcm1hbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5LT1JFQU5fSEFOR1VMX0ZPUk1BTDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2tvcmVhbi1oYW5qYS1mb3JtYWwnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuS09SRUFOX0hBTkpBX0ZPUk1BTDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2tvcmVhbi1oYW5qYS1pbmZvcm1hbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5LT1JFQU5fSEFOSkFfSU5GT1JNQUw7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdsYW8nOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTEFPO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbG93ZXItYXJtZW5pYW4nOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTE9XRVJfQVJNRU5JQU47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdtYWxheWFsYW0nOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTUFMQVlBTEFNO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbW9uZ29saWFuJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLk1PTkdPTElBTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ215YW5tYXInOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuTVlBTk1BUjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ29yaXlhJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLk9SSVlBO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncGVyc2lhbic6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5QRVJTSUFOO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnc2ltcC1jaGluZXNlLWZvcm1hbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5TSU1QX0NISU5FU0VfRk9STUFMO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnc2ltcC1jaGluZXNlLWluZm9ybWFsJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLlNJTVBfQ0hJTkVTRV9JTkZPUk1BTDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3RhbWlsJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLlRBTUlMO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAndGVsdWd1JzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLlRFTFVHVTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3RoYWknOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuVEhBSTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3RpYmV0YW4nOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuVElCRVRBTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3RyYWQtY2hpbmVzZS1mb3JtYWwnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBMSVNUX1NUWUxFX1RZUEUuVFJBRF9DSElORVNFX0ZPUk1BTDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3RyYWQtY2hpbmVzZS1pbmZvcm1hbCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5UUkFEX0NISU5FU0VfSU5GT1JNQUw7XHJcbiAgICAgICAgICAgICAgICBjYXNlICd1cHBlci1hcm1lbmlhbic6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5VUFBFUl9BUk1FTklBTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2Rpc2Nsb3N1cmUtb3Blbic6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5ESVNDTE9TVVJFX09QRU47XHJcbiAgICAgICAgICAgICAgICBjYXNlICdkaXNjbG9zdXJlLWNsb3NlZCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExJU1RfU1RZTEVfVFlQRS5ESVNDTE9TVVJFX0NMT1NFRDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ25vbmUnOlxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTElTVF9TVFlMRV9UWVBFLk5PTkU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBtYXJnaW5Gb3JTaWRlID0gZnVuY3Rpb24gKHNpZGUpIHtcclxuICAgICAgICByZXR1cm4gKHtcclxuICAgICAgICAgICAgbmFtZTogXCJtYXJnaW4tXCIgKyBzaWRlLFxyXG4gICAgICAgICAgICBpbml0aWFsVmFsdWU6ICcwJyxcclxuICAgICAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuVE9LRU5fVkFMVUVcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICB2YXIgbWFyZ2luVG9wID0gbWFyZ2luRm9yU2lkZSgndG9wJyk7XHJcbiAgICB2YXIgbWFyZ2luUmlnaHQgPSBtYXJnaW5Gb3JTaWRlKCdyaWdodCcpO1xyXG4gICAgdmFyIG1hcmdpbkJvdHRvbSA9IG1hcmdpbkZvclNpZGUoJ2JvdHRvbScpO1xyXG4gICAgdmFyIG1hcmdpbkxlZnQgPSBtYXJnaW5Gb3JTaWRlKCdsZWZ0Jyk7XHJcblxyXG4gICAgdmFyIE9WRVJGTE9XO1xyXG4gICAgKGZ1bmN0aW9uIChPVkVSRkxPVykge1xyXG4gICAgICAgIE9WRVJGTE9XW09WRVJGTE9XW1wiVklTSUJMRVwiXSA9IDBdID0gXCJWSVNJQkxFXCI7XHJcbiAgICAgICAgT1ZFUkZMT1dbT1ZFUkZMT1dbXCJISURERU5cIl0gPSAxXSA9IFwiSElEREVOXCI7XHJcbiAgICAgICAgT1ZFUkZMT1dbT1ZFUkZMT1dbXCJTQ1JPTExcIl0gPSAyXSA9IFwiU0NST0xMXCI7XHJcbiAgICAgICAgT1ZFUkZMT1dbT1ZFUkZMT1dbXCJBVVRPXCJdID0gM10gPSBcIkFVVE9cIjtcclxuICAgIH0pKE9WRVJGTE9XIHx8IChPVkVSRkxPVyA9IHt9KSk7XHJcbiAgICB2YXIgb3ZlcmZsb3cgPSB7XHJcbiAgICAgICAgbmFtZTogJ292ZXJmbG93JyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICd2aXNpYmxlJyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRva2Vucy5maWx0ZXIoaXNJZGVudFRva2VuKS5tYXAoZnVuY3Rpb24gKG92ZXJmbG93KSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG92ZXJmbG93LnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaGlkZGVuJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9WRVJGTE9XLkhJRERFTjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdzY3JvbGwnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gT1ZFUkZMT1cuU0NST0xMO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2F1dG8nOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gT1ZFUkZMT1cuQVVUTztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICd2aXNpYmxlJzpcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gT1ZFUkZMT1cuVklTSUJMRTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgT1ZFUkZMT1dfV1JBUDtcclxuICAgIChmdW5jdGlvbiAoT1ZFUkZMT1dfV1JBUCkge1xyXG4gICAgICAgIE9WRVJGTE9XX1dSQVBbXCJOT1JNQUxcIl0gPSBcIm5vcm1hbFwiO1xyXG4gICAgICAgIE9WRVJGTE9XX1dSQVBbXCJCUkVBS19XT1JEXCJdID0gXCJicmVhay13b3JkXCI7XHJcbiAgICB9KShPVkVSRkxPV19XUkFQIHx8IChPVkVSRkxPV19XUkFQID0ge30pKTtcclxuICAgIHZhciBvdmVyZmxvd1dyYXAgPSB7XHJcbiAgICAgICAgbmFtZTogJ292ZXJmbG93LXdyYXAnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vcm1hbCcsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5JREVOVF9WQUxVRSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKG92ZXJmbG93KSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3ZlcmZsb3cpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2JyZWFrLXdvcmQnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBPVkVSRkxPV19XUkFQLkJSRUFLX1dPUkQ7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdub3JtYWwnOlxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gT1ZFUkZMT1dfV1JBUC5OT1JNQUw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBwYWRkaW5nRm9yU2lkZSA9IGZ1bmN0aW9uIChzaWRlKSB7XHJcbiAgICAgICAgcmV0dXJuICh7XHJcbiAgICAgICAgICAgIG5hbWU6IFwicGFkZGluZy1cIiArIHNpZGUsXHJcbiAgICAgICAgICAgIGluaXRpYWxWYWx1ZTogJzAnLFxyXG4gICAgICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5UWVBFX1ZBTFVFLFxyXG4gICAgICAgICAgICBmb3JtYXQ6ICdsZW5ndGgtcGVyY2VudGFnZSdcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICB2YXIgcGFkZGluZ1RvcCA9IHBhZGRpbmdGb3JTaWRlKCd0b3AnKTtcclxuICAgIHZhciBwYWRkaW5nUmlnaHQgPSBwYWRkaW5nRm9yU2lkZSgncmlnaHQnKTtcclxuICAgIHZhciBwYWRkaW5nQm90dG9tID0gcGFkZGluZ0ZvclNpZGUoJ2JvdHRvbScpO1xyXG4gICAgdmFyIHBhZGRpbmdMZWZ0ID0gcGFkZGluZ0ZvclNpZGUoJ2xlZnQnKTtcclxuXHJcbiAgICB2YXIgVEVYVF9BTElHTjtcclxuICAgIChmdW5jdGlvbiAoVEVYVF9BTElHTikge1xyXG4gICAgICAgIFRFWFRfQUxJR05bVEVYVF9BTElHTltcIkxFRlRcIl0gPSAwXSA9IFwiTEVGVFwiO1xyXG4gICAgICAgIFRFWFRfQUxJR05bVEVYVF9BTElHTltcIkNFTlRFUlwiXSA9IDFdID0gXCJDRU5URVJcIjtcclxuICAgICAgICBURVhUX0FMSUdOW1RFWFRfQUxJR05bXCJSSUdIVFwiXSA9IDJdID0gXCJSSUdIVFwiO1xyXG4gICAgfSkoVEVYVF9BTElHTiB8fCAoVEVYVF9BTElHTiA9IHt9KSk7XHJcbiAgICB2YXIgdGV4dEFsaWduID0ge1xyXG4gICAgICAgIG5hbWU6ICd0ZXh0LWFsaWduJyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdsZWZ0JyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLklERU5UX1ZBTFVFLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodGV4dEFsaWduKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodGV4dEFsaWduKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdyaWdodCc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRFWFRfQUxJR04uUklHSFQ7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdjZW50ZXInOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAnanVzdGlmeSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRFWFRfQUxJR04uQ0VOVEVSO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbGVmdCc6XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBURVhUX0FMSUdOLkxFRlQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBQT1NJVElPTjtcclxuICAgIChmdW5jdGlvbiAoUE9TSVRJT04pIHtcclxuICAgICAgICBQT1NJVElPTltQT1NJVElPTltcIlNUQVRJQ1wiXSA9IDBdID0gXCJTVEFUSUNcIjtcclxuICAgICAgICBQT1NJVElPTltQT1NJVElPTltcIlJFTEFUSVZFXCJdID0gMV0gPSBcIlJFTEFUSVZFXCI7XHJcbiAgICAgICAgUE9TSVRJT05bUE9TSVRJT05bXCJBQlNPTFVURVwiXSA9IDJdID0gXCJBQlNPTFVURVwiO1xyXG4gICAgICAgIFBPU0lUSU9OW1BPU0lUSU9OW1wiRklYRURcIl0gPSAzXSA9IFwiRklYRURcIjtcclxuICAgICAgICBQT1NJVElPTltQT1NJVElPTltcIlNUSUNLWVwiXSA9IDRdID0gXCJTVElDS1lcIjtcclxuICAgIH0pKFBPU0lUSU9OIHx8IChQT1NJVElPTiA9IHt9KSk7XHJcbiAgICB2YXIgcG9zaXRpb24gPSB7XHJcbiAgICAgICAgbmFtZTogJ3Bvc2l0aW9uJyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdzdGF0aWMnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuSURFTlRfVkFMVUUsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdyZWxhdGl2ZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFBPU0lUSU9OLlJFTEFUSVZFO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnYWJzb2x1dGUnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQT1NJVElPTi5BQlNPTFVURTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2ZpeGVkJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUE9TSVRJT04uRklYRUQ7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdzdGlja3knOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQT1NJVElPTi5TVElDS1k7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFBPU0lUSU9OLlNUQVRJQztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciB0ZXh0U2hhZG93ID0ge1xyXG4gICAgICAgIG5hbWU6ICd0ZXh0LXNoYWRvdycsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnbm9uZScsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuTElTVCxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbnMubGVuZ3RoID09PSAxICYmIGlzSWRlbnRXaXRoVmFsdWUodG9rZW5zWzBdLCAnbm9uZScpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRnVuY3Rpb25BcmdzKHRva2VucykubWFwKGZ1bmN0aW9uICh2YWx1ZXMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzaGFkb3cgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IENPTE9SUy5UUkFOU1BBUkVOVCxcclxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRYOiBaRVJPX0xFTkdUSCxcclxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRZOiBaRVJPX0xFTkdUSCxcclxuICAgICAgICAgICAgICAgICAgICBibHVyOiBaRVJPX0xFTkdUSFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHZhciBjID0gMDtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRva2VuID0gdmFsdWVzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0xlbmd0aCh0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvdy5vZmZzZXRYID0gdG9rZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYyA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93Lm9mZnNldFkgPSB0b2tlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvdy5ibHVyID0gdG9rZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYysrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93LmNvbG9yID0gY29sb3IucGFyc2UodG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBzaGFkb3c7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIFRFWFRfVFJBTlNGT1JNO1xyXG4gICAgKGZ1bmN0aW9uIChURVhUX1RSQU5TRk9STSkge1xyXG4gICAgICAgIFRFWFRfVFJBTlNGT1JNW1RFWFRfVFJBTlNGT1JNW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XHJcbiAgICAgICAgVEVYVF9UUkFOU0ZPUk1bVEVYVF9UUkFOU0ZPUk1bXCJMT1dFUkNBU0VcIl0gPSAxXSA9IFwiTE9XRVJDQVNFXCI7XHJcbiAgICAgICAgVEVYVF9UUkFOU0ZPUk1bVEVYVF9UUkFOU0ZPUk1bXCJVUFBFUkNBU0VcIl0gPSAyXSA9IFwiVVBQRVJDQVNFXCI7XHJcbiAgICAgICAgVEVYVF9UUkFOU0ZPUk1bVEVYVF9UUkFOU0ZPUk1bXCJDQVBJVEFMSVpFXCJdID0gM10gPSBcIkNBUElUQUxJWkVcIjtcclxuICAgIH0pKFRFWFRfVFJBTlNGT1JNIHx8IChURVhUX1RSQU5TRk9STSA9IHt9KSk7XHJcbiAgICB2YXIgdGV4dFRyYW5zZm9ybSA9IHtcclxuICAgICAgICBuYW1lOiAndGV4dC10cmFuc2Zvcm0nLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuSURFTlRfVkFMVUUsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0ZXh0VHJhbnNmb3JtKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodGV4dFRyYW5zZm9ybSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAndXBwZXJjYXNlJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gVEVYVF9UUkFOU0ZPUk0uVVBQRVJDQVNFO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnbG93ZXJjYXNlJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gVEVYVF9UUkFOU0ZPUk0uTE9XRVJDQVNFO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnY2FwaXRhbGl6ZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRFWFRfVFJBTlNGT1JNLkNBUElUQUxJWkU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFRFWFRfVFJBTlNGT1JNLk5PTkU7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgdHJhbnNmb3JtID0ge1xyXG4gICAgICAgIG5hbWU6ICd0cmFuc2Zvcm0nLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxyXG4gICAgICAgIHByZWZpeDogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5WQUxVRSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU4gJiYgdG9rZW4udmFsdWUgPT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5GVU5DVElPTikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zZm9ybUZ1bmN0aW9uID0gU1VQUE9SVEVEX1RSQU5TRk9STV9GVU5DVElPTlNbdG9rZW4ubmFtZV07XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRyYW5zZm9ybUZ1bmN0aW9uID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRpbmcgdG8gcGFyc2UgYW4gdW5zdXBwb3J0ZWQgdHJhbnNmb3JtIGZ1bmN0aW9uIFxcXCJcIiArIHRva2VuLm5hbWUgKyBcIlxcXCJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNmb3JtRnVuY3Rpb24odG9rZW4udmFsdWVzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdmFyIG1hdHJpeCA9IGZ1bmN0aW9uIChhcmdzKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlcyA9IGFyZ3MuZmlsdGVyKGZ1bmN0aW9uIChhcmcpIHsgcmV0dXJuIGFyZy50eXBlID09PSBUb2tlblR5cGUuTlVNQkVSX1RPS0VOOyB9KS5tYXAoZnVuY3Rpb24gKGFyZykgeyByZXR1cm4gYXJnLm51bWJlcjsgfSk7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlcy5sZW5ndGggPT09IDYgPyB2YWx1ZXMgOiBudWxsO1xyXG4gICAgfTtcclxuICAgIC8vIGRvZXNuJ3Qgc3VwcG9ydCAzRCB0cmFuc2Zvcm1zIGF0IHRoZSBtb21lbnRcclxuICAgIHZhciBtYXRyaXgzZCA9IGZ1bmN0aW9uIChhcmdzKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlcyA9IGFyZ3MuZmlsdGVyKGZ1bmN0aW9uIChhcmcpIHsgcmV0dXJuIGFyZy50eXBlID09PSBUb2tlblR5cGUuTlVNQkVSX1RPS0VOOyB9KS5tYXAoZnVuY3Rpb24gKGFyZykgeyByZXR1cm4gYXJnLm51bWJlcjsgfSk7XHJcbiAgICAgICAgdmFyIGExID0gdmFsdWVzWzBdLCBiMSA9IHZhbHVlc1sxXSwgX2EgPSB2YWx1ZXNbMl0sIF9iID0gdmFsdWVzWzNdLCBhMiA9IHZhbHVlc1s0XSwgYjIgPSB2YWx1ZXNbNV0sIF9jID0gdmFsdWVzWzZdLCBfZCA9IHZhbHVlc1s3XSwgX2UgPSB2YWx1ZXNbOF0sIF9mID0gdmFsdWVzWzldLCBfZyA9IHZhbHVlc1sxMF0sIF9oID0gdmFsdWVzWzExXSwgYTQgPSB2YWx1ZXNbMTJdLCBiNCA9IHZhbHVlc1sxM10sIF9qID0gdmFsdWVzWzE0XSwgX2sgPSB2YWx1ZXNbMTVdO1xyXG4gICAgICAgIHJldHVybiB2YWx1ZXMubGVuZ3RoID09PSAxNiA/IFthMSwgYjEsIGEyLCBiMiwgYTQsIGI0XSA6IG51bGw7XHJcbiAgICB9O1xyXG4gICAgdmFyIFNVUFBPUlRFRF9UUkFOU0ZPUk1fRlVOQ1RJT05TID0ge1xyXG4gICAgICAgIG1hdHJpeDogbWF0cml4LFxyXG4gICAgICAgIG1hdHJpeDNkOiBtYXRyaXgzZFxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgREVGQVVMVF9WQUxVRSA9IHtcclxuICAgICAgICB0eXBlOiBUb2tlblR5cGUuUEVSQ0VOVEFHRV9UT0tFTixcclxuICAgICAgICBudW1iZXI6IDUwLFxyXG4gICAgICAgIGZsYWdzOiBGTEFHX0lOVEVHRVJcclxuICAgIH07XHJcbiAgICB2YXIgREVGQVVMVCA9IFtERUZBVUxUX1ZBTFVFLCBERUZBVUxUX1ZBTFVFXTtcclxuICAgIHZhciB0cmFuc2Zvcm1PcmlnaW4gPSB7XHJcbiAgICAgICAgbmFtZTogJ3RyYW5zZm9ybS1vcmlnaW4nLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJzUwJSA1MCUnLFxyXG4gICAgICAgIHByZWZpeDogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgICAgIHZhciBvcmlnaW5zID0gdG9rZW5zLmZpbHRlcihpc0xlbmd0aFBlcmNlbnRhZ2UpO1xyXG4gICAgICAgICAgICBpZiAob3JpZ2lucy5sZW5ndGggIT09IDIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBERUZBVUxUO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBbb3JpZ2luc1swXSwgb3JpZ2luc1sxXV07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgVklTSUJJTElUWTtcclxuICAgIChmdW5jdGlvbiAoVklTSUJJTElUWSkge1xyXG4gICAgICAgIFZJU0lCSUxJVFlbVklTSUJJTElUWVtcIlZJU0lCTEVcIl0gPSAwXSA9IFwiVklTSUJMRVwiO1xyXG4gICAgICAgIFZJU0lCSUxJVFlbVklTSUJJTElUWVtcIkhJRERFTlwiXSA9IDFdID0gXCJISURERU5cIjtcclxuICAgICAgICBWSVNJQklMSVRZW1ZJU0lCSUxJVFlbXCJDT0xMQVBTRVwiXSA9IDJdID0gXCJDT0xMQVBTRVwiO1xyXG4gICAgfSkoVklTSUJJTElUWSB8fCAoVklTSUJJTElUWSA9IHt9KSk7XHJcbiAgICB2YXIgdmlzaWJpbGl0eSA9IHtcclxuICAgICAgICBuYW1lOiAndmlzaWJsZScsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnbm9uZScsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5JREVOVF9WQUxVRSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHZpc2liaWxpdHkpIHtcclxuICAgICAgICAgICAgc3dpdGNoICh2aXNpYmlsaXR5KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdoaWRkZW4nOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBWSVNJQklMSVRZLkhJRERFTjtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2NvbGxhcHNlJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gVklTSUJJTElUWS5DT0xMQVBTRTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3Zpc2libGUnOlxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gVklTSUJJTElUWS5WSVNJQkxFO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgV09SRF9CUkVBSztcclxuICAgIChmdW5jdGlvbiAoV09SRF9CUkVBSykge1xyXG4gICAgICAgIFdPUkRfQlJFQUtbXCJOT1JNQUxcIl0gPSBcIm5vcm1hbFwiO1xyXG4gICAgICAgIFdPUkRfQlJFQUtbXCJCUkVBS19BTExcIl0gPSBcImJyZWFrLWFsbFwiO1xyXG4gICAgICAgIFdPUkRfQlJFQUtbXCJLRUVQX0FMTFwiXSA9IFwia2VlcC1hbGxcIjtcclxuICAgIH0pKFdPUkRfQlJFQUsgfHwgKFdPUkRfQlJFQUsgPSB7fSkpO1xyXG4gICAgdmFyIHdvcmRCcmVhayA9IHtcclxuICAgICAgICBuYW1lOiAnd29yZC1icmVhaycsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnbm9ybWFsJyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLklERU5UX1ZBTFVFLFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAod29yZEJyZWFrKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAod29yZEJyZWFrKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdicmVhay1hbGwnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBXT1JEX0JSRUFLLkJSRUFLX0FMTDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2tlZXAtYWxsJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gV09SRF9CUkVBSy5LRUVQX0FMTDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ25vcm1hbCc6XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBXT1JEX0JSRUFLLk5PUk1BTDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIHpJbmRleCA9IHtcclxuICAgICAgICBuYW1lOiAnei1pbmRleCcsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnYXV0bycsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5WQUxVRSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU4pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IGF1dG86IHRydWUsIG9yZGVyOiAwIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzTnVtYmVyVG9rZW4odG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyBhdXRvOiBmYWxzZSwgb3JkZXI6IHRva2VuLm51bWJlciB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgei1pbmRleCBudW1iZXIgcGFyc2VkXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIG9wYWNpdHkgPSB7XHJcbiAgICAgICAgbmFtZTogJ29wYWNpdHknLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJzEnLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLlZBTFVFLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgICAgICBpZiAoaXNOdW1iZXJUb2tlbih0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbi5udW1iZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgdGV4dERlY29yYXRpb25Db2xvciA9IHtcclxuICAgICAgICBuYW1lOiBcInRleHQtZGVjb3JhdGlvbi1jb2xvclwiLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ3RyYW5zcGFyZW50JyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLlRZUEVfVkFMVUUsXHJcbiAgICAgICAgZm9ybWF0OiAnY29sb3InXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciB0ZXh0RGVjb3JhdGlvbkxpbmUgPSB7XHJcbiAgICAgICAgbmFtZTogJ3RleHQtZGVjb3JhdGlvbi1saW5lJyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdub25lJyxcclxuICAgICAgICBwcmVmaXg6IGZhbHNlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRva2Vuc1xyXG4gICAgICAgICAgICAgICAgLmZpbHRlcihpc0lkZW50VG9rZW4pXHJcbiAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAndW5kZXJsaW5lJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxIC8qIFVOREVSTElORSAqLztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnb3ZlcmxpbmUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDIgLyogT1ZFUkxJTkUgKi87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xpbmUtdGhyb3VnaCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMyAvKiBMSU5FX1RIUk9VR0ggKi87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ25vbmUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDQgLyogQkxJTksgKi87XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwIC8qIE5PTkUgKi87XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAobGluZSkgeyByZXR1cm4gbGluZSAhPT0gMCAvKiBOT05FICovOyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBmb250RmFtaWx5ID0ge1xyXG4gICAgICAgIG5hbWU6IFwiZm9udC1mYW1pbHlcIixcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICcnLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgdHlwZTogUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuTElTVCxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgICAgICByZXR1cm4gdG9rZW5zLmZpbHRlcihpc1N0cmluZ1Rva2VuJDEpLm1hcChmdW5jdGlvbiAodG9rZW4pIHsgcmV0dXJuIHRva2VuLnZhbHVlOyB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdmFyIGlzU3RyaW5nVG9rZW4kMSA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgIHJldHVybiB0b2tlbi50eXBlID09PSBUb2tlblR5cGUuU1RSSU5HX1RPS0VOIHx8IHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5JREVOVF9UT0tFTjtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGZvbnRTaXplID0ge1xyXG4gICAgICAgIG5hbWU6IFwiZm9udC1zaXplXCIsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnMCcsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5UWVBFX1ZBTFVFLFxyXG4gICAgICAgIGZvcm1hdDogJ2xlbmd0aCdcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGZvbnRXZWlnaHQgPSB7XHJcbiAgICAgICAgbmFtZTogJ2ZvbnQtd2VpZ2h0JyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdub3JtYWwnLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLlZBTFVFLFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgICAgICBpZiAoaXNOdW1iZXJUb2tlbih0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbi5udW1iZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzSWRlbnRUb2tlbih0b2tlbikpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdib2xkJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDcwMDtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdub3JtYWwnOlxyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA0MDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIDQwMDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBmb250VmFyaWFudCA9IHtcclxuICAgICAgICBuYW1lOiAnZm9udC12YXJpYW50JyxcclxuICAgICAgICBpbml0aWFsVmFsdWU6ICdub25lJyxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxyXG4gICAgICAgIHByZWZpeDogZmFsc2UsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRva2Vucy5maWx0ZXIoaXNJZGVudFRva2VuKS5tYXAoZnVuY3Rpb24gKHRva2VuKSB7IHJldHVybiB0b2tlbi52YWx1ZTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgRk9OVF9TVFlMRTtcclxuICAgIChmdW5jdGlvbiAoRk9OVF9TVFlMRSkge1xyXG4gICAgICAgIEZPTlRfU1RZTEVbXCJOT1JNQUxcIl0gPSBcIm5vcm1hbFwiO1xyXG4gICAgICAgIEZPTlRfU1RZTEVbXCJJVEFMSUNcIl0gPSBcIml0YWxpY1wiO1xyXG4gICAgICAgIEZPTlRfU1RZTEVbXCJPQkxJUVVFXCJdID0gXCJvYmxpcXVlXCI7XHJcbiAgICB9KShGT05UX1NUWUxFIHx8IChGT05UX1NUWUxFID0ge30pKTtcclxuICAgIHZhciBmb250U3R5bGUgPSB7XHJcbiAgICAgICAgbmFtZTogJ2ZvbnQtc3R5bGUnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vcm1hbCcsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5JREVOVF9WQUxVRSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKG92ZXJmbG93KSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3ZlcmZsb3cpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ29ibGlxdWUnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBGT05UX1NUWUxFLk9CTElRVUU7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdpdGFsaWMnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBGT05UX1NUWUxFLklUQUxJQztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ25vcm1hbCc6XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBGT05UX1NUWUxFLk5PUk1BTDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIGNvbnRhaW5zID0gZnVuY3Rpb24gKGJpdCwgdmFsdWUpIHsgcmV0dXJuIChiaXQgJiB2YWx1ZSkgIT09IDA7IH07XHJcblxyXG4gICAgdmFyIGNvbnRlbnQgPSB7XHJcbiAgICAgICAgbmFtZTogJ2NvbnRlbnQnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBmaXJzdCA9IHRva2Vuc1swXTtcclxuICAgICAgICAgICAgaWYgKGZpcnN0LnR5cGUgPT09IFRva2VuVHlwZS5JREVOVF9UT0tFTiAmJiBmaXJzdC52YWx1ZSA9PT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRva2VucztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBjb3VudGVySW5jcmVtZW50ID0ge1xyXG4gICAgICAgIG5hbWU6ICdjb3VudGVyLWluY3JlbWVudCcsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnbm9uZScsXHJcbiAgICAgICAgcHJlZml4OiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBmaXJzdCA9IHRva2Vuc1swXTtcclxuICAgICAgICAgICAgaWYgKGZpcnN0LnR5cGUgPT09IFRva2VuVHlwZS5JREVOVF9UT0tFTiAmJiBmaXJzdC52YWx1ZSA9PT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgaW5jcmVtZW50cyA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgZmlsdGVyZWQgPSB0b2tlbnMuZmlsdGVyKG5vbldoaXRlU3BhY2UpO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbHRlcmVkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY291bnRlciA9IGZpbHRlcmVkW2ldO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5leHQgPSBmaWx0ZXJlZFtpICsgMV07XHJcbiAgICAgICAgICAgICAgICBpZiAoY291bnRlci50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU4pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5jcmVtZW50ID0gbmV4dCAmJiBpc051bWJlclRva2VuKG5leHQpID8gbmV4dC5udW1iZXIgOiAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGluY3JlbWVudHMucHVzaCh7IGNvdW50ZXI6IGNvdW50ZXIudmFsdWUsIGluY3JlbWVudDogaW5jcmVtZW50IH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBpbmNyZW1lbnRzO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIGNvdW50ZXJSZXNldCA9IHtcclxuICAgICAgICBuYW1lOiAnY291bnRlci1yZXNldCcsXHJcbiAgICAgICAgaW5pdGlhbFZhbHVlOiAnbm9uZScsXHJcbiAgICAgICAgcHJlZml4OiB0cnVlLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcGFyc2U6IGZ1bmN0aW9uICh0b2tlbnMpIHtcclxuICAgICAgICAgICAgaWYgKHRva2Vucy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcmVzZXRzID0gW107XHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXJlZCA9IHRva2Vucy5maWx0ZXIobm9uV2hpdGVTcGFjZSk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsdGVyZWQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb3VudGVyID0gZmlsdGVyZWRbaV07XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IGZpbHRlcmVkW2kgKyAxXTtcclxuICAgICAgICAgICAgICAgIGlmIChpc0lkZW50VG9rZW4oY291bnRlcikgJiYgY291bnRlci52YWx1ZSAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc2V0ID0gbmV4dCAmJiBpc051bWJlclRva2VuKG5leHQpID8gbmV4dC5udW1iZXIgOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0cy5wdXNoKHsgY291bnRlcjogY291bnRlci52YWx1ZSwgcmVzZXQ6IHJlc2V0IH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXNldHM7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgcXVvdGVzID0ge1xyXG4gICAgICAgIG5hbWU6ICdxdW90ZXMnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxyXG4gICAgICAgIHByZWZpeDogdHJ1ZSxcclxuICAgICAgICB0eXBlOiBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5MSVNULFxyXG4gICAgICAgIHBhcnNlOiBmdW5jdGlvbiAodG9rZW5zKSB7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgZmlyc3QgPSB0b2tlbnNbMF07XHJcbiAgICAgICAgICAgIGlmIChmaXJzdC50eXBlID09PSBUb2tlblR5cGUuSURFTlRfVE9LRU4gJiYgZmlyc3QudmFsdWUgPT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHF1b3RlcyA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgZmlsdGVyZWQgPSB0b2tlbnMuZmlsdGVyKGlzU3RyaW5nVG9rZW4pO1xyXG4gICAgICAgICAgICBpZiAoZmlsdGVyZWQubGVuZ3RoICUgMiAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWx0ZXJlZC5sZW5ndGg7IGkgKz0gMikge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9wZW5fMSA9IGZpbHRlcmVkW2ldLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNsb3NlXzEgPSBmaWx0ZXJlZFtpICsgMV0udmFsdWU7XHJcbiAgICAgICAgICAgICAgICBxdW90ZXMucHVzaCh7IG9wZW46IG9wZW5fMSwgY2xvc2U6IGNsb3NlXzEgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHF1b3RlcztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdmFyIGdldFF1b3RlID0gZnVuY3Rpb24gKHF1b3RlcywgZGVwdGgsIG9wZW4pIHtcclxuICAgICAgICBpZiAoIXF1b3Rlcykge1xyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBxdW90ZSA9IHF1b3Rlc1tNYXRoLm1pbihkZXB0aCwgcXVvdGVzLmxlbmd0aCAtIDEpXTtcclxuICAgICAgICBpZiAoIXF1b3RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9wZW4gPyBxdW90ZS5vcGVuIDogcXVvdGUuY2xvc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBib3hTaGFkb3cgPSB7XHJcbiAgICAgICAgbmFtZTogJ2JveC1zaGFkb3cnLFxyXG4gICAgICAgIGluaXRpYWxWYWx1ZTogJ25vbmUnLFxyXG4gICAgICAgIHR5cGU6IFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1QsXHJcbiAgICAgICAgcHJlZml4OiBmYWxzZSxcclxuICAgICAgICBwYXJzZTogZnVuY3Rpb24gKHRva2Vucykge1xyXG4gICAgICAgICAgICBpZiAodG9rZW5zLmxlbmd0aCA9PT0gMSAmJiBpc0lkZW50V2l0aFZhbHVlKHRva2Vuc1swXSwgJ25vbmUnKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUZ1bmN0aW9uQXJncyh0b2tlbnMpLm1hcChmdW5jdGlvbiAodmFsdWVzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2hhZG93ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAweDAwMDAwMGZmLFxyXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFg6IFpFUk9fTEVOR1RILFxyXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFk6IFpFUk9fTEVOR1RILFxyXG4gICAgICAgICAgICAgICAgICAgIGJsdXI6IFpFUk9fTEVOR1RILFxyXG4gICAgICAgICAgICAgICAgICAgIHNwcmVhZDogWkVST19MRU5HVEgsXHJcbiAgICAgICAgICAgICAgICAgICAgaW5zZXQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdmFyIGMgPSAwO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSB2YWx1ZXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSWRlbnRXaXRoVmFsdWUodG9rZW4sICdpbnNldCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvdy5pbnNldCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzTGVuZ3RoKHRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93Lm9mZnNldFggPSB0b2tlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChjID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3cub2Zmc2V0WSA9IHRva2VuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGMgPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRvdy5ibHVyID0gdG9rZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3cuc3ByZWFkID0gdG9rZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYysrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhZG93LmNvbG9yID0gY29sb3IucGFyc2UodG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBzaGFkb3c7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIENTU1BhcnNlZERlY2xhcmF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIENTU1BhcnNlZERlY2xhcmF0aW9uKGRlY2xhcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZENsaXAgPSBwYXJzZShiYWNrZ3JvdW5kQ2xpcCwgZGVjbGFyYXRpb24uYmFja2dyb3VuZENsaXApO1xyXG4gICAgICAgICAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9IHBhcnNlKGJhY2tncm91bmRDb2xvciwgZGVjbGFyYXRpb24uYmFja2dyb3VuZENvbG9yKTtcclxuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kSW1hZ2UgPSBwYXJzZShiYWNrZ3JvdW5kSW1hZ2UsIGRlY2xhcmF0aW9uLmJhY2tncm91bmRJbWFnZSk7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZE9yaWdpbiA9IHBhcnNlKGJhY2tncm91bmRPcmlnaW4sIGRlY2xhcmF0aW9uLmJhY2tncm91bmRPcmlnaW4pO1xyXG4gICAgICAgICAgICB0aGlzLmJhY2tncm91bmRQb3NpdGlvbiA9IHBhcnNlKGJhY2tncm91bmRQb3NpdGlvbiwgZGVjbGFyYXRpb24uYmFja2dyb3VuZFBvc2l0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kUmVwZWF0ID0gcGFyc2UoYmFja2dyb3VuZFJlcGVhdCwgZGVjbGFyYXRpb24uYmFja2dyb3VuZFJlcGVhdCk7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZFNpemUgPSBwYXJzZShiYWNrZ3JvdW5kU2l6ZSwgZGVjbGFyYXRpb24uYmFja2dyb3VuZFNpemUpO1xyXG4gICAgICAgICAgICB0aGlzLmJvcmRlclRvcENvbG9yID0gcGFyc2UoYm9yZGVyVG9wQ29sb3IsIGRlY2xhcmF0aW9uLmJvcmRlclRvcENvbG9yKTtcclxuICAgICAgICAgICAgdGhpcy5ib3JkZXJSaWdodENvbG9yID0gcGFyc2UoYm9yZGVyUmlnaHRDb2xvciwgZGVjbGFyYXRpb24uYm9yZGVyUmlnaHRDb2xvcik7XHJcbiAgICAgICAgICAgIHRoaXMuYm9yZGVyQm90dG9tQ29sb3IgPSBwYXJzZShib3JkZXJCb3R0b21Db2xvciwgZGVjbGFyYXRpb24uYm9yZGVyQm90dG9tQ29sb3IpO1xyXG4gICAgICAgICAgICB0aGlzLmJvcmRlckxlZnRDb2xvciA9IHBhcnNlKGJvcmRlckxlZnRDb2xvciwgZGVjbGFyYXRpb24uYm9yZGVyTGVmdENvbG9yKTtcclxuICAgICAgICAgICAgdGhpcy5ib3JkZXJUb3BMZWZ0UmFkaXVzID0gcGFyc2UoYm9yZGVyVG9wTGVmdFJhZGl1cywgZGVjbGFyYXRpb24uYm9yZGVyVG9wTGVmdFJhZGl1cyk7XHJcbiAgICAgICAgICAgIHRoaXMuYm9yZGVyVG9wUmlnaHRSYWRpdXMgPSBwYXJzZShib3JkZXJUb3BSaWdodFJhZGl1cywgZGVjbGFyYXRpb24uYm9yZGVyVG9wUmlnaHRSYWRpdXMpO1xyXG4gICAgICAgICAgICB0aGlzLmJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzID0gcGFyc2UoYm9yZGVyQm90dG9tUmlnaHRSYWRpdXMsIGRlY2xhcmF0aW9uLmJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzKTtcclxuICAgICAgICAgICAgdGhpcy5ib3JkZXJCb3R0b21MZWZ0UmFkaXVzID0gcGFyc2UoYm9yZGVyQm90dG9tTGVmdFJhZGl1cywgZGVjbGFyYXRpb24uYm9yZGVyQm90dG9tTGVmdFJhZGl1cyk7XHJcbiAgICAgICAgICAgIHRoaXMuYm9yZGVyVG9wU3R5bGUgPSBwYXJzZShib3JkZXJUb3BTdHlsZSwgZGVjbGFyYXRpb24uYm9yZGVyVG9wU3R5bGUpO1xyXG4gICAgICAgICAgICB0aGlzLmJvcmRlclJpZ2h0U3R5bGUgPSBwYXJzZShib3JkZXJSaWdodFN0eWxlLCBkZWNsYXJhdGlvbi5ib3JkZXJSaWdodFN0eWxlKTtcclxuICAgICAgICAgICAgdGhpcy5ib3JkZXJCb3R0b21TdHlsZSA9IHBhcnNlKGJvcmRlckJvdHRvbVN0eWxlLCBkZWNsYXJhdGlvbi5ib3JkZXJCb3R0b21TdHlsZSk7XHJcbiAgICAgICAgICAgIHRoaXMuYm9yZGVyTGVmdFN0eWxlID0gcGFyc2UoYm9yZGVyTGVmdFN0eWxlLCBkZWNsYXJhdGlvbi5ib3JkZXJMZWZ0U3R5bGUpO1xyXG4gICAgICAgICAgICB0aGlzLmJvcmRlclRvcFdpZHRoID0gcGFyc2UoYm9yZGVyVG9wV2lkdGgsIGRlY2xhcmF0aW9uLmJvcmRlclRvcFdpZHRoKTtcclxuICAgICAgICAgICAgdGhpcy5ib3JkZXJSaWdodFdpZHRoID0gcGFyc2UoYm9yZGVyUmlnaHRXaWR0aCwgZGVjbGFyYXRpb24uYm9yZGVyUmlnaHRXaWR0aCk7XHJcbiAgICAgICAgICAgIHRoaXMuYm9yZGVyQm90dG9tV2lkdGggPSBwYXJzZShib3JkZXJCb3R0b21XaWR0aCwgZGVjbGFyYXRpb24uYm9yZGVyQm90dG9tV2lkdGgpO1xyXG4gICAgICAgICAgICB0aGlzLmJvcmRlckxlZnRXaWR0aCA9IHBhcnNlKGJvcmRlckxlZnRXaWR0aCwgZGVjbGFyYXRpb24uYm9yZGVyTGVmdFdpZHRoKTtcclxuICAgICAgICAgICAgdGhpcy5ib3hTaGFkb3cgPSBwYXJzZShib3hTaGFkb3csIGRlY2xhcmF0aW9uLmJveFNoYWRvdyk7XHJcbiAgICAgICAgICAgIHRoaXMuY29sb3IgPSBwYXJzZShjb2xvciQxLCBkZWNsYXJhdGlvbi5jb2xvcik7XHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheSA9IHBhcnNlKGRpc3BsYXksIGRlY2xhcmF0aW9uLmRpc3BsYXkpO1xyXG4gICAgICAgICAgICB0aGlzLmZsb2F0ID0gcGFyc2UoZmxvYXQsIGRlY2xhcmF0aW9uLmNzc0Zsb2F0KTtcclxuICAgICAgICAgICAgdGhpcy5mb250RmFtaWx5ID0gcGFyc2UoZm9udEZhbWlseSwgZGVjbGFyYXRpb24uZm9udEZhbWlseSk7XHJcbiAgICAgICAgICAgIHRoaXMuZm9udFNpemUgPSBwYXJzZShmb250U2l6ZSwgZGVjbGFyYXRpb24uZm9udFNpemUpO1xyXG4gICAgICAgICAgICB0aGlzLmZvbnRTdHlsZSA9IHBhcnNlKGZvbnRTdHlsZSwgZGVjbGFyYXRpb24uZm9udFN0eWxlKTtcclxuICAgICAgICAgICAgdGhpcy5mb250VmFyaWFudCA9IHBhcnNlKGZvbnRWYXJpYW50LCBkZWNsYXJhdGlvbi5mb250VmFyaWFudCk7XHJcbiAgICAgICAgICAgIHRoaXMuZm9udFdlaWdodCA9IHBhcnNlKGZvbnRXZWlnaHQsIGRlY2xhcmF0aW9uLmZvbnRXZWlnaHQpO1xyXG4gICAgICAgICAgICB0aGlzLmxldHRlclNwYWNpbmcgPSBwYXJzZShsZXR0ZXJTcGFjaW5nLCBkZWNsYXJhdGlvbi5sZXR0ZXJTcGFjaW5nKTtcclxuICAgICAgICAgICAgdGhpcy5saW5lQnJlYWsgPSBwYXJzZShsaW5lQnJlYWssIGRlY2xhcmF0aW9uLmxpbmVCcmVhayk7XHJcbiAgICAgICAgICAgIHRoaXMubGluZUhlaWdodCA9IHBhcnNlKGxpbmVIZWlnaHQsIGRlY2xhcmF0aW9uLmxpbmVIZWlnaHQpO1xyXG4gICAgICAgICAgICB0aGlzLmxpc3RTdHlsZUltYWdlID0gcGFyc2UobGlzdFN0eWxlSW1hZ2UsIGRlY2xhcmF0aW9uLmxpc3RTdHlsZUltYWdlKTtcclxuICAgICAgICAgICAgdGhpcy5saXN0U3R5bGVQb3NpdGlvbiA9IHBhcnNlKGxpc3RTdHlsZVBvc2l0aW9uLCBkZWNsYXJhdGlvbi5saXN0U3R5bGVQb3NpdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdFN0eWxlVHlwZSA9IHBhcnNlKGxpc3RTdHlsZVR5cGUsIGRlY2xhcmF0aW9uLmxpc3RTdHlsZVR5cGUpO1xyXG4gICAgICAgICAgICB0aGlzLm1hcmdpblRvcCA9IHBhcnNlKG1hcmdpblRvcCwgZGVjbGFyYXRpb24ubWFyZ2luVG9wKTtcclxuICAgICAgICAgICAgdGhpcy5tYXJnaW5SaWdodCA9IHBhcnNlKG1hcmdpblJpZ2h0LCBkZWNsYXJhdGlvbi5tYXJnaW5SaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMubWFyZ2luQm90dG9tID0gcGFyc2UobWFyZ2luQm90dG9tLCBkZWNsYXJhdGlvbi5tYXJnaW5Cb3R0b20pO1xyXG4gICAgICAgICAgICB0aGlzLm1hcmdpbkxlZnQgPSBwYXJzZShtYXJnaW5MZWZ0LCBkZWNsYXJhdGlvbi5tYXJnaW5MZWZ0KTtcclxuICAgICAgICAgICAgdGhpcy5vcGFjaXR5ID0gcGFyc2Uob3BhY2l0eSwgZGVjbGFyYXRpb24ub3BhY2l0eSk7XHJcbiAgICAgICAgICAgIHZhciBvdmVyZmxvd1R1cGxlID0gcGFyc2Uob3ZlcmZsb3csIGRlY2xhcmF0aW9uLm92ZXJmbG93KTtcclxuICAgICAgICAgICAgdGhpcy5vdmVyZmxvd1ggPSBvdmVyZmxvd1R1cGxlWzBdO1xyXG4gICAgICAgICAgICB0aGlzLm92ZXJmbG93WSA9IG92ZXJmbG93VHVwbGVbb3ZlcmZsb3dUdXBsZS5sZW5ndGggPiAxID8gMSA6IDBdO1xyXG4gICAgICAgICAgICB0aGlzLm92ZXJmbG93V3JhcCA9IHBhcnNlKG92ZXJmbG93V3JhcCwgZGVjbGFyYXRpb24ub3ZlcmZsb3dXcmFwKTtcclxuICAgICAgICAgICAgdGhpcy5wYWRkaW5nVG9wID0gcGFyc2UocGFkZGluZ1RvcCwgZGVjbGFyYXRpb24ucGFkZGluZ1RvcCk7XHJcbiAgICAgICAgICAgIHRoaXMucGFkZGluZ1JpZ2h0ID0gcGFyc2UocGFkZGluZ1JpZ2h0LCBkZWNsYXJhdGlvbi5wYWRkaW5nUmlnaHQpO1xyXG4gICAgICAgICAgICB0aGlzLnBhZGRpbmdCb3R0b20gPSBwYXJzZShwYWRkaW5nQm90dG9tLCBkZWNsYXJhdGlvbi5wYWRkaW5nQm90dG9tKTtcclxuICAgICAgICAgICAgdGhpcy5wYWRkaW5nTGVmdCA9IHBhcnNlKHBhZGRpbmdMZWZ0LCBkZWNsYXJhdGlvbi5wYWRkaW5nTGVmdCk7XHJcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSBwYXJzZShwb3NpdGlvbiwgZGVjbGFyYXRpb24ucG9zaXRpb24pO1xyXG4gICAgICAgICAgICB0aGlzLnRleHRBbGlnbiA9IHBhcnNlKHRleHRBbGlnbiwgZGVjbGFyYXRpb24udGV4dEFsaWduKTtcclxuICAgICAgICAgICAgdGhpcy50ZXh0RGVjb3JhdGlvbkNvbG9yID0gcGFyc2UodGV4dERlY29yYXRpb25Db2xvciwgZGVjbGFyYXRpb24udGV4dERlY29yYXRpb25Db2xvciB8fCBkZWNsYXJhdGlvbi5jb2xvcik7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dERlY29yYXRpb25MaW5lID0gcGFyc2UodGV4dERlY29yYXRpb25MaW5lLCBkZWNsYXJhdGlvbi50ZXh0RGVjb3JhdGlvbkxpbmUpO1xyXG4gICAgICAgICAgICB0aGlzLnRleHRTaGFkb3cgPSBwYXJzZSh0ZXh0U2hhZG93LCBkZWNsYXJhdGlvbi50ZXh0U2hhZG93KTtcclxuICAgICAgICAgICAgdGhpcy50ZXh0VHJhbnNmb3JtID0gcGFyc2UodGV4dFRyYW5zZm9ybSwgZGVjbGFyYXRpb24udGV4dFRyYW5zZm9ybSk7XHJcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtID0gcGFyc2UodHJhbnNmb3JtLCBkZWNsYXJhdGlvbi50cmFuc2Zvcm0pO1xyXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybU9yaWdpbiA9IHBhcnNlKHRyYW5zZm9ybU9yaWdpbiwgZGVjbGFyYXRpb24udHJhbnNmb3JtT3JpZ2luKTtcclxuICAgICAgICAgICAgdGhpcy52aXNpYmlsaXR5ID0gcGFyc2UodmlzaWJpbGl0eSwgZGVjbGFyYXRpb24udmlzaWJpbGl0eSk7XHJcbiAgICAgICAgICAgIHRoaXMud29yZEJyZWFrID0gcGFyc2Uod29yZEJyZWFrLCBkZWNsYXJhdGlvbi53b3JkQnJlYWspO1xyXG4gICAgICAgICAgICB0aGlzLnpJbmRleCA9IHBhcnNlKHpJbmRleCwgZGVjbGFyYXRpb24uekluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgQ1NTUGFyc2VkRGVjbGFyYXRpb24ucHJvdG90eXBlLmlzVmlzaWJsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheSA+IDAgJiYgdGhpcy5vcGFjaXR5ID4gMCAmJiB0aGlzLnZpc2liaWxpdHkgPT09IFZJU0lCSUxJVFkuVklTSUJMRTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENTU1BhcnNlZERlY2xhcmF0aW9uLnByb3RvdHlwZS5pc1RyYW5zcGFyZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gaXNUcmFuc3BhcmVudCh0aGlzLmJhY2tncm91bmRDb2xvcik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDU1NQYXJzZWREZWNsYXJhdGlvbi5wcm90b3R5cGUuaXNUcmFuc2Zvcm1lZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtICE9PSBudWxsO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ1NTUGFyc2VkRGVjbGFyYXRpb24ucHJvdG90eXBlLmlzUG9zaXRpb25lZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24gIT09IFBPU0lUSU9OLlNUQVRJQztcclxuICAgICAgICB9O1xyXG4gICAgICAgIENTU1BhcnNlZERlY2xhcmF0aW9uLnByb3RvdHlwZS5pc1Bvc2l0aW9uZWRXaXRoWkluZGV4ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc1Bvc2l0aW9uZWQoKSAmJiAhdGhpcy56SW5kZXguYXV0bztcclxuICAgICAgICB9O1xyXG4gICAgICAgIENTU1BhcnNlZERlY2xhcmF0aW9uLnByb3RvdHlwZS5pc0Zsb2F0aW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mbG9hdCAhPT0gRkxPQVQuTk9ORTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENTU1BhcnNlZERlY2xhcmF0aW9uLnByb3RvdHlwZS5pc0lubGluZUxldmVsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKGNvbnRhaW5zKHRoaXMuZGlzcGxheSwgNCAvKiBJTkxJTkUgKi8pIHx8XHJcbiAgICAgICAgICAgICAgICBjb250YWlucyh0aGlzLmRpc3BsYXksIDMzNTU0NDMyIC8qIElOTElORV9CTE9DSyAqLykgfHxcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5zKHRoaXMuZGlzcGxheSwgMjY4NDM1NDU2IC8qIElOTElORV9GTEVYICovKSB8fFxyXG4gICAgICAgICAgICAgICAgY29udGFpbnModGhpcy5kaXNwbGF5LCA1MzY4NzA5MTIgLyogSU5MSU5FX0dSSUQgKi8pIHx8XHJcbiAgICAgICAgICAgICAgICBjb250YWlucyh0aGlzLmRpc3BsYXksIDY3MTA4ODY0IC8qIElOTElORV9MSVNUX0lURU0gKi8pIHx8XHJcbiAgICAgICAgICAgICAgICBjb250YWlucyh0aGlzLmRpc3BsYXksIDEzNDIxNzcyOCAvKiBJTkxJTkVfVEFCTEUgKi8pKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBDU1NQYXJzZWREZWNsYXJhdGlvbjtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgQ1NTUGFyc2VkUHNldWRvRGVjbGFyYXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gQ1NTUGFyc2VkUHNldWRvRGVjbGFyYXRpb24oZGVjbGFyYXRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZW50ID0gcGFyc2UoY29udGVudCwgZGVjbGFyYXRpb24uY29udGVudCk7XHJcbiAgICAgICAgICAgIHRoaXMucXVvdGVzID0gcGFyc2UocXVvdGVzLCBkZWNsYXJhdGlvbi5xdW90ZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gQ1NTUGFyc2VkUHNldWRvRGVjbGFyYXRpb247XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIENTU1BhcnNlZENvdW50ZXJEZWNsYXJhdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBDU1NQYXJzZWRDb3VudGVyRGVjbGFyYXRpb24oZGVjbGFyYXRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5jb3VudGVySW5jcmVtZW50ID0gcGFyc2UoY291bnRlckluY3JlbWVudCwgZGVjbGFyYXRpb24uY291bnRlckluY3JlbWVudCk7XHJcbiAgICAgICAgICAgIHRoaXMuY291bnRlclJlc2V0ID0gcGFyc2UoY291bnRlclJlc2V0LCBkZWNsYXJhdGlvbi5jb3VudGVyUmVzZXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gQ1NTUGFyc2VkQ291bnRlckRlY2xhcmF0aW9uO1xyXG4gICAgfSgpKTtcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICB2YXIgcGFyc2UgPSBmdW5jdGlvbiAoZGVzY3JpcHRvciwgc3R5bGUpIHtcclxuICAgICAgICB2YXIgdG9rZW5pemVyID0gbmV3IFRva2VuaXplcigpO1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IHN0eWxlICE9PSBudWxsICYmIHR5cGVvZiBzdHlsZSAhPT0gJ3VuZGVmaW5lZCcgPyBzdHlsZS50b1N0cmluZygpIDogZGVzY3JpcHRvci5pbml0aWFsVmFsdWU7XHJcbiAgICAgICAgdG9rZW5pemVyLndyaXRlKHZhbHVlKTtcclxuICAgICAgICB2YXIgcGFyc2VyID0gbmV3IFBhcnNlcih0b2tlbml6ZXIucmVhZCgpKTtcclxuICAgICAgICBzd2l0Y2ggKGRlc2NyaXB0b3IudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLklERU5UX1ZBTFVFOlxyXG4gICAgICAgICAgICAgICAgdmFyIHRva2VuID0gcGFyc2VyLnBhcnNlQ29tcG9uZW50VmFsdWUoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yLnBhcnNlKGlzSWRlbnRUb2tlbih0b2tlbikgPyB0b2tlbi52YWx1ZSA6IGRlc2NyaXB0b3IuaW5pdGlhbFZhbHVlKTtcclxuICAgICAgICAgICAgY2FzZSBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5WQUxVRTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yLnBhcnNlKHBhcnNlci5wYXJzZUNvbXBvbmVudFZhbHVlKCkpO1xyXG4gICAgICAgICAgICBjYXNlIFByb3BlcnR5RGVzY3JpcHRvclBhcnNpbmdUeXBlLkxJU1Q6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRvci5wYXJzZShwYXJzZXIucGFyc2VDb21wb25lbnRWYWx1ZXMoKSk7XHJcbiAgICAgICAgICAgIGNhc2UgUHJvcGVydHlEZXNjcmlwdG9yUGFyc2luZ1R5cGUuVE9LRU5fVkFMVUU6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VyLnBhcnNlQ29tcG9uZW50VmFsdWUoKTtcclxuICAgICAgICAgICAgY2FzZSBQcm9wZXJ0eURlc2NyaXB0b3JQYXJzaW5nVHlwZS5UWVBFX1ZBTFVFOlxyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChkZXNjcmlwdG9yLmZvcm1hdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2FuZ2xlJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFuZ2xlLnBhcnNlKHBhcnNlci5wYXJzZUNvbXBvbmVudFZhbHVlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvbG9yJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yLnBhcnNlKHBhcnNlci5wYXJzZUNvbXBvbmVudFZhbHVlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2ltYWdlJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGltYWdlLnBhcnNlKHBhcnNlci5wYXJzZUNvbXBvbmVudFZhbHVlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xlbmd0aCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsZW5ndGhfMSA9IHBhcnNlci5wYXJzZUNvbXBvbmVudFZhbHVlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpc0xlbmd0aChsZW5ndGhfMSkgPyBsZW5ndGhfMSA6IFpFUk9fTEVOR1RIO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xlbmd0aC1wZXJjZW50YWdlJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlXzEgPSBwYXJzZXIucGFyc2VDb21wb25lbnRWYWx1ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNMZW5ndGhQZXJjZW50YWdlKHZhbHVlXzEpID8gdmFsdWVfMSA6IFpFUk9fTEVOR1RIO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0aW5nIHRvIHBhcnNlIHVuc3VwcG9ydGVkIGNzcyBmb3JtYXQgdHlwZSBcIiArIGRlc2NyaXB0b3IuZm9ybWF0KTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIEVsZW1lbnRDb250YWluZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gRWxlbWVudENvbnRhaW5lcihlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3R5bGVzID0gbmV3IENTU1BhcnNlZERlY2xhcmF0aW9uKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIG51bGwpKTtcclxuICAgICAgICAgICAgdGhpcy50ZXh0Tm9kZXMgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50cyA9IFtdO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdHlsZXMudHJhbnNmb3JtICE9PSBudWxsICYmIGlzSFRNTEVsZW1lbnROb2RlKGVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBnZXRCb3VuZGluZ0NsaWVudFJlY3QgdGFrZXMgdHJhbnNmb3JtcyBpbnRvIGFjY291bnRcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gJ25vbmUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuYm91bmRzID0gcGFyc2VCb3VuZHMoZWxlbWVudCk7XHJcbiAgICAgICAgICAgIHRoaXMuZmxhZ3MgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gRWxlbWVudENvbnRhaW5lcjtcclxuICAgIH0oKSk7XHJcblxyXG4gICAgdmFyIFRleHRCb3VuZHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gVGV4dEJvdW5kcyh0ZXh0LCBib3VuZHMpIHtcclxuICAgICAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcclxuICAgICAgICAgICAgdGhpcy5ib3VuZHMgPSBib3VuZHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBUZXh0Qm91bmRzO1xyXG4gICAgfSgpKTtcclxuICAgIHZhciBwYXJzZVRleHRCb3VuZHMgPSBmdW5jdGlvbiAodmFsdWUsIHN0eWxlcywgbm9kZSkge1xyXG4gICAgICAgIHZhciB0ZXh0TGlzdCA9IGJyZWFrVGV4dCh2YWx1ZSwgc3R5bGVzKTtcclxuICAgICAgICB2YXIgdGV4dEJvdW5kcyA9IFtdO1xyXG4gICAgICAgIHZhciBvZmZzZXQgPSAwO1xyXG4gICAgICAgIHRleHRMaXN0LmZvckVhY2goZnVuY3Rpb24gKHRleHQpIHtcclxuICAgICAgICAgICAgaWYgKHN0eWxlcy50ZXh0RGVjb3JhdGlvbkxpbmUubGVuZ3RoIHx8IHRleHQudHJpbSgpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChGRUFUVVJFUy5TVVBQT1JUX1JBTkdFX0JPVU5EUykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRCb3VuZHMucHVzaChuZXcgVGV4dEJvdW5kcyh0ZXh0LCBnZXRSYW5nZUJvdW5kcyhub2RlLCBvZmZzZXQsIHRleHQubGVuZ3RoKSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcGxhY2VtZW50Tm9kZSA9IG5vZGUuc3BsaXRUZXh0KHRleHQubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0Qm91bmRzLnB1c2gobmV3IFRleHRCb3VuZHModGV4dCwgZ2V0V3JhcHBlckJvdW5kcyhub2RlKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSByZXBsYWNlbWVudE5vZGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIUZFQVRVUkVTLlNVUFBPUlRfUkFOR0VfQk9VTkRTKSB7XHJcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5zcGxpdFRleHQodGV4dC5sZW5ndGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9mZnNldCArPSB0ZXh0Lmxlbmd0aDtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGV4dEJvdW5kcztcclxuICAgIH07XHJcbiAgICB2YXIgZ2V0V3JhcHBlckJvdW5kcyA9IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgdmFyIG93bmVyRG9jdW1lbnQgPSBub2RlLm93bmVyRG9jdW1lbnQ7XHJcbiAgICAgICAgaWYgKG93bmVyRG9jdW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2h0bWwyY2FudmFzd3JhcHBlcicpO1xyXG4gICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKG5vZGUuY2xvbmVOb2RlKHRydWUpKTtcclxuICAgICAgICAgICAgdmFyIHBhcmVudE5vZGUgPSBub2RlLnBhcmVudE5vZGU7XHJcbiAgICAgICAgICAgIGlmIChwYXJlbnROb2RlKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh3cmFwcGVyLCBub2RlKTtcclxuICAgICAgICAgICAgICAgIHZhciBib3VuZHMgPSBwYXJzZUJvdW5kcyh3cmFwcGVyKTtcclxuICAgICAgICAgICAgICAgIGlmICh3cmFwcGVyLmZpcnN0Q2hpbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh3cmFwcGVyLmZpcnN0Q2hpbGQsIHdyYXBwZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvdW5kcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IEJvdW5kcygwLCAwLCAwLCAwKTtcclxuICAgIH07XHJcbiAgICB2YXIgZ2V0UmFuZ2VCb3VuZHMgPSBmdW5jdGlvbiAobm9kZSwgb2Zmc2V0LCBsZW5ndGgpIHtcclxuICAgICAgICB2YXIgb3duZXJEb2N1bWVudCA9IG5vZGUub3duZXJEb2N1bWVudDtcclxuICAgICAgICBpZiAoIW93bmVyRG9jdW1lbnQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb2RlIGhhcyBubyBvd25lciBkb2N1bWVudCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmFuZ2UgPSBvd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XHJcbiAgICAgICAgcmFuZ2Uuc2V0U3RhcnQobm9kZSwgb2Zmc2V0KTtcclxuICAgICAgICByYW5nZS5zZXRFbmQobm9kZSwgb2Zmc2V0ICsgbGVuZ3RoKTtcclxuICAgICAgICByZXR1cm4gQm91bmRzLmZyb21DbGllbnRSZWN0KHJhbmdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcclxuICAgIH07XHJcbiAgICB2YXIgYnJlYWtUZXh0ID0gZnVuY3Rpb24gKHZhbHVlLCBzdHlsZXMpIHtcclxuICAgICAgICByZXR1cm4gc3R5bGVzLmxldHRlclNwYWNpbmcgIT09IDAgPyB0b0NvZGVQb2ludHModmFsdWUpLm1hcChmdW5jdGlvbiAoaSkgeyByZXR1cm4gZnJvbUNvZGVQb2ludChpKTsgfSkgOiBicmVha1dvcmRzKHZhbHVlLCBzdHlsZXMpO1xyXG4gICAgfTtcclxuICAgIHZhciBicmVha1dvcmRzID0gZnVuY3Rpb24gKHN0ciwgc3R5bGVzKSB7XHJcbiAgICAgICAgdmFyIGJyZWFrZXIgPSBMaW5lQnJlYWtlcihzdHIsIHtcclxuICAgICAgICAgICAgbGluZUJyZWFrOiBzdHlsZXMubGluZUJyZWFrLFxyXG4gICAgICAgICAgICB3b3JkQnJlYWs6IHN0eWxlcy5vdmVyZmxvd1dyYXAgPT09IE9WRVJGTE9XX1dSQVAuQlJFQUtfV09SRCA/ICdicmVhay13b3JkJyA6IHN0eWxlcy53b3JkQnJlYWtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgd29yZHMgPSBbXTtcclxuICAgICAgICB2YXIgYms7XHJcbiAgICAgICAgd2hpbGUgKCEoYmsgPSBicmVha2VyLm5leHQoKSkuZG9uZSkge1xyXG4gICAgICAgICAgICBpZiAoYmsudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHdvcmRzLnB1c2goYmsudmFsdWUuc2xpY2UoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHdvcmRzO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgVGV4dENvbnRhaW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBUZXh0Q29udGFpbmVyKG5vZGUsIHN0eWxlcykge1xyXG4gICAgICAgICAgICB0aGlzLnRleHQgPSB0cmFuc2Zvcm0kMShub2RlLmRhdGEsIHN0eWxlcy50ZXh0VHJhbnNmb3JtKTtcclxuICAgICAgICAgICAgdGhpcy50ZXh0Qm91bmRzID0gcGFyc2VUZXh0Qm91bmRzKHRoaXMudGV4dCwgc3R5bGVzLCBub2RlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFRleHRDb250YWluZXI7XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIHRyYW5zZm9ybSQxID0gZnVuY3Rpb24gKHRleHQsIHRyYW5zZm9ybSkge1xyXG4gICAgICAgIHN3aXRjaCAodHJhbnNmb3JtKSB7XHJcbiAgICAgICAgICAgIGNhc2UgVEVYVF9UUkFOU0ZPUk0uTE9XRVJDQVNFOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHQudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgY2FzZSBURVhUX1RSQU5TRk9STS5DQVBJVEFMSVpFOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHQucmVwbGFjZShDQVBJVEFMSVpFLCBjYXBpdGFsaXplKTtcclxuICAgICAgICAgICAgY2FzZSBURVhUX1RSQU5TRk9STS5VUFBFUkNBU0U6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dC50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciBDQVBJVEFMSVpFID0gLyhefFxcc3w6fC18XFwofFxcKSkoW2Etel0pL2c7XHJcbiAgICB2YXIgY2FwaXRhbGl6ZSA9IGZ1bmN0aW9uIChtLCBwMSwgcDIpIHtcclxuICAgICAgICBpZiAobS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwMSArIHAyLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgSW1hZ2VFbGVtZW50Q29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhJbWFnZUVsZW1lbnRDb250YWluZXIsIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gSW1hZ2VFbGVtZW50Q29udGFpbmVyKGltZykge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBpbWcpIHx8IHRoaXM7XHJcbiAgICAgICAgICAgIF90aGlzLnNyYyA9IGltZy5jdXJyZW50U3JjIHx8IGltZy5zcmM7XHJcbiAgICAgICAgICAgIF90aGlzLmludHJpbnNpY1dpZHRoID0gaW1nLm5hdHVyYWxXaWR0aDtcclxuICAgICAgICAgICAgX3RoaXMuaW50cmluc2ljSGVpZ2h0ID0gaW1nLm5hdHVyYWxIZWlnaHQ7XHJcbiAgICAgICAgICAgIENhY2hlU3RvcmFnZS5nZXRJbnN0YW5jZSgpLmFkZEltYWdlKF90aGlzLnNyYyk7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIEltYWdlRWxlbWVudENvbnRhaW5lcjtcclxuICAgIH0oRWxlbWVudENvbnRhaW5lcikpO1xyXG5cclxuICAgIHZhciBDYW52YXNFbGVtZW50Q29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhDYW52YXNFbGVtZW50Q29udGFpbmVyLCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIENhbnZhc0VsZW1lbnRDb250YWluZXIoY2FudmFzKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNhbnZhcykgfHwgdGhpcztcclxuICAgICAgICAgICAgX3RoaXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgICAgICBfdGhpcy5pbnRyaW5zaWNXaWR0aCA9IGNhbnZhcy53aWR0aDtcclxuICAgICAgICAgICAgX3RoaXMuaW50cmluc2ljSGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gQ2FudmFzRWxlbWVudENvbnRhaW5lcjtcclxuICAgIH0oRWxlbWVudENvbnRhaW5lcikpO1xyXG5cclxuICAgIHZhciBTVkdFbGVtZW50Q29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhTVkdFbGVtZW50Q29udGFpbmVyLCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIFNWR0VsZW1lbnRDb250YWluZXIoaW1nKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGltZykgfHwgdGhpcztcclxuICAgICAgICAgICAgdmFyIHMgPSBuZXcgWE1MU2VyaWFsaXplcigpO1xyXG4gICAgICAgICAgICBfdGhpcy5zdmcgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbCxcIiArIGVuY29kZVVSSUNvbXBvbmVudChzLnNlcmlhbGl6ZVRvU3RyaW5nKGltZykpO1xyXG4gICAgICAgICAgICBfdGhpcy5pbnRyaW5zaWNXaWR0aCA9IGltZy53aWR0aC5iYXNlVmFsLnZhbHVlO1xyXG4gICAgICAgICAgICBfdGhpcy5pbnRyaW5zaWNIZWlnaHQgPSBpbWcuaGVpZ2h0LmJhc2VWYWwudmFsdWU7XHJcbiAgICAgICAgICAgIENhY2hlU3RvcmFnZS5nZXRJbnN0YW5jZSgpLmFkZEltYWdlKF90aGlzLnN2Zyk7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFNWR0VsZW1lbnRDb250YWluZXI7XHJcbiAgICB9KEVsZW1lbnRDb250YWluZXIpKTtcclxuXHJcbiAgICB2YXIgTElFbGVtZW50Q29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhMSUVsZW1lbnRDb250YWluZXIsIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gTElFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZWxlbWVudCkgfHwgdGhpcztcclxuICAgICAgICAgICAgX3RoaXMudmFsdWUgPSBlbGVtZW50LnZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBMSUVsZW1lbnRDb250YWluZXI7XHJcbiAgICB9KEVsZW1lbnRDb250YWluZXIpKTtcclxuXHJcbiAgICB2YXIgT0xFbGVtZW50Q29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhPTEVsZW1lbnRDb250YWluZXIsIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gT0xFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZWxlbWVudCkgfHwgdGhpcztcclxuICAgICAgICAgICAgX3RoaXMuc3RhcnQgPSBlbGVtZW50LnN0YXJ0O1xyXG4gICAgICAgICAgICBfdGhpcy5yZXZlcnNlZCA9IHR5cGVvZiBlbGVtZW50LnJldmVyc2VkID09PSAnYm9vbGVhbicgJiYgZWxlbWVudC5yZXZlcnNlZCA9PT0gdHJ1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gT0xFbGVtZW50Q29udGFpbmVyO1xyXG4gICAgfShFbGVtZW50Q29udGFpbmVyKSk7XHJcblxyXG4gICAgdmFyIENIRUNLQk9YX0JPUkRFUl9SQURJVVMgPSBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB0eXBlOiBUb2tlblR5cGUuRElNRU5TSU9OX1RPS0VOLFxyXG4gICAgICAgICAgICBmbGFnczogMCxcclxuICAgICAgICAgICAgdW5pdDogJ3B4JyxcclxuICAgICAgICAgICAgbnVtYmVyOiAzXHJcbiAgICAgICAgfVxyXG4gICAgXTtcclxuICAgIHZhciBSQURJT19CT1JERVJfUkFESVVTID0gW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdHlwZTogVG9rZW5UeXBlLlBFUkNFTlRBR0VfVE9LRU4sXHJcbiAgICAgICAgICAgIGZsYWdzOiAwLFxyXG4gICAgICAgICAgICBudW1iZXI6IDUwXHJcbiAgICAgICAgfVxyXG4gICAgXTtcclxuICAgIHZhciByZWZvcm1hdElucHV0Qm91bmRzID0gZnVuY3Rpb24gKGJvdW5kcykge1xyXG4gICAgICAgIGlmIChib3VuZHMud2lkdGggPiBib3VuZHMuaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQm91bmRzKGJvdW5kcy5sZWZ0ICsgKGJvdW5kcy53aWR0aCAtIGJvdW5kcy5oZWlnaHQpIC8gMiwgYm91bmRzLnRvcCwgYm91bmRzLmhlaWdodCwgYm91bmRzLmhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGJvdW5kcy53aWR0aCA8IGJvdW5kcy5oZWlnaHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBCb3VuZHMoYm91bmRzLmxlZnQsIGJvdW5kcy50b3AgKyAoYm91bmRzLmhlaWdodCAtIGJvdW5kcy53aWR0aCkgLyAyLCBib3VuZHMud2lkdGgsIGJvdW5kcy53aWR0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBib3VuZHM7XHJcbiAgICB9O1xyXG4gICAgdmFyIGdldElucHV0VmFsdWUgPSBmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IG5vZGUudHlwZSA9PT0gUEFTU1dPUkQgPyBuZXcgQXJyYXkobm9kZS52YWx1ZS5sZW5ndGggKyAxKS5qb2luKCdcXHUyMDIyJykgOiBub2RlLnZhbHVlO1xyXG4gICAgICAgIHJldHVybiB2YWx1ZS5sZW5ndGggPT09IDAgPyBub2RlLnBsYWNlaG9sZGVyIHx8ICcnIDogdmFsdWU7XHJcbiAgICB9O1xyXG4gICAgdmFyIENIRUNLQk9YID0gJ2NoZWNrYm94JztcclxuICAgIHZhciBSQURJTyA9ICdyYWRpbyc7XHJcbiAgICB2YXIgUEFTU1dPUkQgPSAncGFzc3dvcmQnO1xyXG4gICAgdmFyIElOUFVUX0NPTE9SID0gMHgyYTJhMmFmZjtcclxuICAgIHZhciBJbnB1dEVsZW1lbnRDb250YWluZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKElucHV0RWxlbWVudENvbnRhaW5lciwgX3N1cGVyKTtcclxuICAgICAgICBmdW5jdGlvbiBJbnB1dEVsZW1lbnRDb250YWluZXIoaW5wdXQpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgaW5wdXQpIHx8IHRoaXM7XHJcbiAgICAgICAgICAgIF90aGlzLnR5cGUgPSBpbnB1dC50eXBlLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIF90aGlzLmNoZWNrZWQgPSBpbnB1dC5jaGVja2VkO1xyXG4gICAgICAgICAgICBfdGhpcy52YWx1ZSA9IGdldElucHV0VmFsdWUoaW5wdXQpO1xyXG4gICAgICAgICAgICBpZiAoX3RoaXMudHlwZSA9PT0gQ0hFQ0tCT1ggfHwgX3RoaXMudHlwZSA9PT0gUkFESU8pIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnN0eWxlcy5iYWNrZ3JvdW5kQ29sb3IgPSAweGRlZGVkZWZmO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuc3R5bGVzLmJvcmRlclRvcENvbG9yID0gX3RoaXMuc3R5bGVzLmJvcmRlclJpZ2h0Q29sb3IgPSBfdGhpcy5zdHlsZXMuYm9yZGVyQm90dG9tQ29sb3IgPSBfdGhpcy5zdHlsZXMuYm9yZGVyTGVmdENvbG9yID0gMHhhNWE1YTVmZjtcclxuICAgICAgICAgICAgICAgIF90aGlzLnN0eWxlcy5ib3JkZXJUb3BXaWR0aCA9IF90aGlzLnN0eWxlcy5ib3JkZXJSaWdodFdpZHRoID0gX3RoaXMuc3R5bGVzLmJvcmRlckJvdHRvbVdpZHRoID0gX3RoaXMuc3R5bGVzLmJvcmRlckxlZnRXaWR0aCA9IDE7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zdHlsZXMuYm9yZGVyVG9wU3R5bGUgPSBfdGhpcy5zdHlsZXMuYm9yZGVyUmlnaHRTdHlsZSA9IF90aGlzLnN0eWxlcy5ib3JkZXJCb3R0b21TdHlsZSA9IF90aGlzLnN0eWxlcy5ib3JkZXJMZWZ0U3R5bGUgPVxyXG4gICAgICAgICAgICAgICAgICAgIEJPUkRFUl9TVFlMRS5TT0xJRDtcclxuICAgICAgICAgICAgICAgIF90aGlzLnN0eWxlcy5iYWNrZ3JvdW5kQ2xpcCA9IFtCQUNLR1JPVU5EX0NMSVAuQk9SREVSX0JPWF07XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5zdHlsZXMuYmFja2dyb3VuZE9yaWdpbiA9IFswIC8qIEJPUkRFUl9CT1ggKi9dO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuYm91bmRzID0gcmVmb3JtYXRJbnB1dEJvdW5kcyhfdGhpcy5ib3VuZHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN3aXRjaCAoX3RoaXMudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBDSEVDS0JPWDpcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdHlsZXMuYm9yZGVyVG9wUmlnaHRSYWRpdXMgPSBfdGhpcy5zdHlsZXMuYm9yZGVyVG9wTGVmdFJhZGl1cyA9IF90aGlzLnN0eWxlcy5ib3JkZXJCb3R0b21SaWdodFJhZGl1cyA9IF90aGlzLnN0eWxlcy5ib3JkZXJCb3R0b21MZWZ0UmFkaXVzID0gQ0hFQ0tCT1hfQk9SREVSX1JBRElVUztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgUkFESU86XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3R5bGVzLmJvcmRlclRvcFJpZ2h0UmFkaXVzID0gX3RoaXMuc3R5bGVzLmJvcmRlclRvcExlZnRSYWRpdXMgPSBfdGhpcy5zdHlsZXMuYm9yZGVyQm90dG9tUmlnaHRSYWRpdXMgPSBfdGhpcy5zdHlsZXMuYm9yZGVyQm90dG9tTGVmdFJhZGl1cyA9IFJBRElPX0JPUkRFUl9SQURJVVM7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gSW5wdXRFbGVtZW50Q29udGFpbmVyO1xyXG4gICAgfShFbGVtZW50Q29udGFpbmVyKSk7XHJcblxyXG4gICAgdmFyIFNlbGVjdEVsZW1lbnRDb250YWluZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICAgICAgX19leHRlbmRzKFNlbGVjdEVsZW1lbnRDb250YWluZXIsIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gU2VsZWN0RWxlbWVudENvbnRhaW5lcihlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGVsZW1lbnQpIHx8IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciBvcHRpb24gPSBlbGVtZW50Lm9wdGlvbnNbZWxlbWVudC5zZWxlY3RlZEluZGV4IHx8IDBdO1xyXG4gICAgICAgICAgICBfdGhpcy52YWx1ZSA9IG9wdGlvbiA/IG9wdGlvbi50ZXh0IHx8ICcnIDogJyc7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFNlbGVjdEVsZW1lbnRDb250YWluZXI7XHJcbiAgICB9KEVsZW1lbnRDb250YWluZXIpKTtcclxuXHJcbiAgICB2YXIgVGV4dGFyZWFFbGVtZW50Q29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhUZXh0YXJlYUVsZW1lbnRDb250YWluZXIsIF9zdXBlcik7XHJcbiAgICAgICAgZnVuY3Rpb24gVGV4dGFyZWFFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZWxlbWVudCkgfHwgdGhpcztcclxuICAgICAgICAgICAgX3RoaXMudmFsdWUgPSBlbGVtZW50LnZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBUZXh0YXJlYUVsZW1lbnRDb250YWluZXI7XHJcbiAgICB9KEVsZW1lbnRDb250YWluZXIpKTtcclxuXHJcbiAgICB2YXIgcGFyc2VDb2xvciA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gY29sb3IucGFyc2UoUGFyc2VyLmNyZWF0ZSh2YWx1ZSkucGFyc2VDb21wb25lbnRWYWx1ZSgpKTsgfTtcclxuICAgIHZhciBJRnJhbWVFbGVtZW50Q29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgICAgIF9fZXh0ZW5kcyhJRnJhbWVFbGVtZW50Q29udGFpbmVyLCBfc3VwZXIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIElGcmFtZUVsZW1lbnRDb250YWluZXIoaWZyYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGlmcmFtZSkgfHwgdGhpcztcclxuICAgICAgICAgICAgX3RoaXMuc3JjID0gaWZyYW1lLnNyYztcclxuICAgICAgICAgICAgX3RoaXMud2lkdGggPSBwYXJzZUludChpZnJhbWUud2lkdGgsIDEwKSB8fCAwO1xyXG4gICAgICAgICAgICBfdGhpcy5oZWlnaHQgPSBwYXJzZUludChpZnJhbWUuaGVpZ2h0LCAxMCkgfHwgMDtcclxuICAgICAgICAgICAgX3RoaXMuYmFja2dyb3VuZENvbG9yID0gX3RoaXMuc3R5bGVzLmJhY2tncm91bmRDb2xvcjtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGlmIChpZnJhbWUuY29udGVudFdpbmRvdyAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudHJlZSA9IHBhcnNlVHJlZShpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtYmFja2dyb3VuZC8jc3BlY2lhbC1iYWNrZ3JvdW5kc1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkb2N1bWVudEJhY2tncm91bmRDb2xvciA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlQ29sb3IoZ2V0Q29tcHV0ZWRTdHlsZShpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IENPTE9SUy5UUkFOU1BBUkVOVDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYm9keUJhY2tncm91bmRDb2xvciA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50LmJvZHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBwYXJzZUNvbG9yKGdldENvbXB1dGVkU3R5bGUoaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuYm9keSkuYmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IENPTE9SUy5UUkFOU1BBUkVOVDtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBpc1RyYW5zcGFyZW50KGRvY3VtZW50QmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGlzVHJhbnNwYXJlbnQoYm9keUJhY2tncm91bmRDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gX3RoaXMuc3R5bGVzLmJhY2tncm91bmRDb2xvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBib2R5QmFja2dyb3VuZENvbG9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jdW1lbnRCYWNrZ3JvdW5kQ29sb3I7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBJRnJhbWVFbGVtZW50Q29udGFpbmVyO1xyXG4gICAgfShFbGVtZW50Q29udGFpbmVyKSk7XHJcblxyXG4gICAgdmFyIExJU1RfT1dORVJTID0gWydPTCcsICdVTCcsICdNRU5VJ107XHJcbiAgICB2YXIgcGFyc2VOb2RlVHJlZSA9IGZ1bmN0aW9uIChub2RlLCBwYXJlbnQsIHJvb3QpIHtcclxuICAgICAgICBmb3IgKHZhciBjaGlsZE5vZGUgPSBub2RlLmZpcnN0Q2hpbGQsIG5leHROb2RlID0gdm9pZCAwOyBjaGlsZE5vZGU7IGNoaWxkTm9kZSA9IG5leHROb2RlKSB7XHJcbiAgICAgICAgICAgIG5leHROb2RlID0gY2hpbGROb2RlLm5leHRTaWJsaW5nO1xyXG4gICAgICAgICAgICBpZiAoaXNUZXh0Tm9kZShjaGlsZE5vZGUpICYmIGNoaWxkTm9kZS5kYXRhLnRyaW0oKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQudGV4dE5vZGVzLnB1c2gobmV3IFRleHRDb250YWluZXIoY2hpbGROb2RlLCBwYXJlbnQuc3R5bGVzKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNFbGVtZW50Tm9kZShjaGlsZE5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29udGFpbmVyID0gY3JlYXRlQ29udGFpbmVyKGNoaWxkTm9kZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyLnN0eWxlcy5pc1Zpc2libGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVzUmVhbFN0YWNraW5nQ29udGV4dChjaGlsZE5vZGUsIGNvbnRhaW5lciwgcm9vdCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmZsYWdzIHw9IDQgLyogQ1JFQVRFU19SRUFMX1NUQUNLSU5HX0NPTlRFWFQgKi87XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNyZWF0ZXNTdGFja2luZ0NvbnRleHQoY29udGFpbmVyLnN0eWxlcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmZsYWdzIHw9IDIgLyogQ1JFQVRFU19TVEFDS0lOR19DT05URVhUICovO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoTElTVF9PV05FUlMuaW5kZXhPZihjaGlsZE5vZGUudGFnTmFtZSkgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5mbGFncyB8PSA4IC8qIElTX0xJU1RfT1dORVIgKi87XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5lbGVtZW50cy5wdXNoKGNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1RleHRhcmVhRWxlbWVudChjaGlsZE5vZGUpICYmICFpc1NWR0VsZW1lbnQoY2hpbGROb2RlKSAmJiAhaXNTZWxlY3RFbGVtZW50KGNoaWxkTm9kZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VOb2RlVHJlZShjaGlsZE5vZGUsIGNvbnRhaW5lciwgcm9vdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciBjcmVhdGVDb250YWluZXIgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgIGlmIChpc0ltYWdlRWxlbWVudChlbGVtZW50KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEltYWdlRWxlbWVudENvbnRhaW5lcihlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzQ2FudmFzRWxlbWVudChlbGVtZW50KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENhbnZhc0VsZW1lbnRDb250YWluZXIoZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc1NWR0VsZW1lbnQoZWxlbWVudCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTVkdFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNMSUVsZW1lbnQoZWxlbWVudCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBMSUVsZW1lbnRDb250YWluZXIoZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc09MRWxlbWVudChlbGVtZW50KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IE9MRWxlbWVudENvbnRhaW5lcihlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzSW5wdXRFbGVtZW50KGVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW5wdXRFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNTZWxlY3RFbGVtZW50KGVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2VsZWN0RWxlbWVudENvbnRhaW5lcihlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzVGV4dGFyZWFFbGVtZW50KGVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGV4dGFyZWFFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNJRnJhbWVFbGVtZW50KGVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgSUZyYW1lRWxlbWVudENvbnRhaW5lcihlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBFbGVtZW50Q29udGFpbmVyKGVsZW1lbnQpO1xyXG4gICAgfTtcclxuICAgIHZhciBwYXJzZVRyZWUgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgIHZhciBjb250YWluZXIgPSBjcmVhdGVDb250YWluZXIoZWxlbWVudCk7XHJcbiAgICAgICAgY29udGFpbmVyLmZsYWdzIHw9IDQgLyogQ1JFQVRFU19SRUFMX1NUQUNLSU5HX0NPTlRFWFQgKi87XHJcbiAgICAgICAgcGFyc2VOb2RlVHJlZShlbGVtZW50LCBjb250YWluZXIsIGNvbnRhaW5lcik7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICAgIH07XHJcbiAgICB2YXIgY3JlYXRlc1JlYWxTdGFja2luZ0NvbnRleHQgPSBmdW5jdGlvbiAobm9kZSwgY29udGFpbmVyLCByb290KSB7XHJcbiAgICAgICAgcmV0dXJuIChjb250YWluZXIuc3R5bGVzLmlzUG9zaXRpb25lZFdpdGhaSW5kZXgoKSB8fFxyXG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGVzLm9wYWNpdHkgPCAxIHx8XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZXMuaXNUcmFuc2Zvcm1lZCgpIHx8XHJcbiAgICAgICAgICAgIChpc0JvZHlFbGVtZW50KG5vZGUpICYmIHJvb3Quc3R5bGVzLmlzVHJhbnNwYXJlbnQoKSkpO1xyXG4gICAgfTtcclxuICAgIHZhciBjcmVhdGVzU3RhY2tpbmdDb250ZXh0ID0gZnVuY3Rpb24gKHN0eWxlcykgeyByZXR1cm4gc3R5bGVzLmlzUG9zaXRpb25lZCgpIHx8IHN0eWxlcy5pc0Zsb2F0aW5nKCk7IH07XHJcbiAgICB2YXIgaXNUZXh0Tm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERTsgfTtcclxuICAgIHZhciBpc0VsZW1lbnROb2RlID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFOyB9O1xyXG4gICAgdmFyIGlzSFRNTEVsZW1lbnROb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICByZXR1cm4gdHlwZW9mIG5vZGUuc3R5bGUgIT09ICd1bmRlZmluZWQnO1xyXG4gICAgfTtcclxuICAgIHZhciBpc0xJRWxlbWVudCA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLnRhZ05hbWUgPT09ICdMSSc7IH07XHJcbiAgICB2YXIgaXNPTEVsZW1lbnQgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS50YWdOYW1lID09PSAnT0wnOyB9O1xyXG4gICAgdmFyIGlzSW5wdXRFbGVtZW50ID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUudGFnTmFtZSA9PT0gJ0lOUFVUJzsgfTtcclxuICAgIHZhciBpc0hUTUxFbGVtZW50ID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUudGFnTmFtZSA9PT0gJ0hUTUwnOyB9O1xyXG4gICAgdmFyIGlzU1ZHRWxlbWVudCA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLnRhZ05hbWUgPT09ICdzdmcnOyB9O1xyXG4gICAgdmFyIGlzQm9keUVsZW1lbnQgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS50YWdOYW1lID09PSAnQk9EWSc7IH07XHJcbiAgICB2YXIgaXNDYW52YXNFbGVtZW50ID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUudGFnTmFtZSA9PT0gJ0NBTlZBUyc7IH07XHJcbiAgICB2YXIgaXNJbWFnZUVsZW1lbnQgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS50YWdOYW1lID09PSAnSU1HJzsgfTtcclxuICAgIHZhciBpc0lGcmFtZUVsZW1lbnQgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS50YWdOYW1lID09PSAnSUZSQU1FJzsgfTtcclxuICAgIHZhciBpc1N0eWxlRWxlbWVudCA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLnRhZ05hbWUgPT09ICdTVFlMRSc7IH07XHJcbiAgICB2YXIgaXNTY3JpcHRFbGVtZW50ID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUudGFnTmFtZSA9PT0gJ1NDUklQVCc7IH07XHJcbiAgICB2YXIgaXNUZXh0YXJlYUVsZW1lbnQgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS50YWdOYW1lID09PSAnVEVYVEFSRUEnOyB9O1xyXG4gICAgdmFyIGlzU2VsZWN0RWxlbWVudCA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLnRhZ05hbWUgPT09ICdTRUxFQ1QnOyB9O1xyXG5cclxuICAgIHZhciBDb3VudGVyU3RhdGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gQ291bnRlclN0YXRlKCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvdW50ZXJzID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIENvdW50ZXJTdGF0ZS5wcm90b3R5cGUuZ2V0Q291bnRlclZhbHVlID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgdmFyIGNvdW50ZXIgPSB0aGlzLmNvdW50ZXJzW25hbWVdO1xyXG4gICAgICAgICAgICBpZiAoY291bnRlciAmJiBjb3VudGVyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvdW50ZXJbY291bnRlci5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENvdW50ZXJTdGF0ZS5wcm90b3R5cGUuZ2V0Q291bnRlclZhbHVlcyA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciBjb3VudGVyID0gdGhpcy5jb3VudGVyc1tuYW1lXTtcclxuICAgICAgICAgICAgcmV0dXJuIGNvdW50ZXIgPyBjb3VudGVyIDogW107XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDb3VudGVyU3RhdGUucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uIChjb3VudGVycykge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICBjb3VudGVycy5mb3JFYWNoKGZ1bmN0aW9uIChjb3VudGVyKSB7IHJldHVybiBfdGhpcy5jb3VudGVyc1tjb3VudGVyXS5wb3AoKTsgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDb3VudGVyU3RhdGUucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24gKHN0eWxlKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciBjb3VudGVySW5jcmVtZW50ID0gc3R5bGUuY291bnRlckluY3JlbWVudDtcclxuICAgICAgICAgICAgdmFyIGNvdW50ZXJSZXNldCA9IHN0eWxlLmNvdW50ZXJSZXNldDtcclxuICAgICAgICAgICAgdmFyIGNhblJlc2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKGNvdW50ZXJJbmNyZW1lbnQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNvdW50ZXJJbmNyZW1lbnQuZm9yRWFjaChmdW5jdGlvbiAoZW50cnkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRlciA9IF90aGlzLmNvdW50ZXJzW2VudHJ5LmNvdW50ZXJdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3VudGVyICYmIGVudHJ5LmluY3JlbWVudCAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5SZXNldCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudGVyW01hdGgubWF4KDAsIGNvdW50ZXIubGVuZ3RoIC0gMSldICs9IGVudHJ5LmluY3JlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgY291bnRlck5hbWVzID0gW107XHJcbiAgICAgICAgICAgIGlmIChjYW5SZXNldCkge1xyXG4gICAgICAgICAgICAgICAgY291bnRlclJlc2V0LmZvckVhY2goZnVuY3Rpb24gKGVudHJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ZXIgPSBfdGhpcy5jb3VudGVyc1tlbnRyeS5jb3VudGVyXTtcclxuICAgICAgICAgICAgICAgICAgICBjb3VudGVyTmFtZXMucHVzaChlbnRyeS5jb3VudGVyKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvdW50ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnRlciA9IF90aGlzLmNvdW50ZXJzW2VudHJ5LmNvdW50ZXJdID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXIucHVzaChlbnRyeS5yZXNldCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY291bnRlck5hbWVzO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIENvdW50ZXJTdGF0ZTtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgUk9NQU5fVVBQRVIgPSB7XHJcbiAgICAgICAgaW50ZWdlcnM6IFsxMDAwLCA5MDAsIDUwMCwgNDAwLCAxMDAsIDkwLCA1MCwgNDAsIDEwLCA5LCA1LCA0LCAxXSxcclxuICAgICAgICB2YWx1ZXM6IFsnTScsICdDTScsICdEJywgJ0NEJywgJ0MnLCAnWEMnLCAnTCcsICdYTCcsICdYJywgJ0lYJywgJ1YnLCAnSVYnLCAnSSddXHJcbiAgICB9O1xyXG4gICAgdmFyIEFSTUVOSUFOID0ge1xyXG4gICAgICAgIGludGVnZXJzOiBbXHJcbiAgICAgICAgICAgIDkwMDAsXHJcbiAgICAgICAgICAgIDgwMDAsXHJcbiAgICAgICAgICAgIDcwMDAsXHJcbiAgICAgICAgICAgIDYwMDAsXHJcbiAgICAgICAgICAgIDUwMDAsXHJcbiAgICAgICAgICAgIDQwMDAsXHJcbiAgICAgICAgICAgIDMwMDAsXHJcbiAgICAgICAgICAgIDIwMDAsXHJcbiAgICAgICAgICAgIDEwMDAsXHJcbiAgICAgICAgICAgIDkwMCxcclxuICAgICAgICAgICAgODAwLFxyXG4gICAgICAgICAgICA3MDAsXHJcbiAgICAgICAgICAgIDYwMCxcclxuICAgICAgICAgICAgNTAwLFxyXG4gICAgICAgICAgICA0MDAsXHJcbiAgICAgICAgICAgIDMwMCxcclxuICAgICAgICAgICAgMjAwLFxyXG4gICAgICAgICAgICAxMDAsXHJcbiAgICAgICAgICAgIDkwLFxyXG4gICAgICAgICAgICA4MCxcclxuICAgICAgICAgICAgNzAsXHJcbiAgICAgICAgICAgIDYwLFxyXG4gICAgICAgICAgICA1MCxcclxuICAgICAgICAgICAgNDAsXHJcbiAgICAgICAgICAgIDMwLFxyXG4gICAgICAgICAgICAyMCxcclxuICAgICAgICAgICAgMTAsXHJcbiAgICAgICAgICAgIDksXHJcbiAgICAgICAgICAgIDgsXHJcbiAgICAgICAgICAgIDcsXHJcbiAgICAgICAgICAgIDYsXHJcbiAgICAgICAgICAgIDUsXHJcbiAgICAgICAgICAgIDQsXHJcbiAgICAgICAgICAgIDMsXHJcbiAgICAgICAgICAgIDIsXHJcbiAgICAgICAgICAgIDFcclxuICAgICAgICBdLFxyXG4gICAgICAgIHZhbHVlczogW1xyXG4gICAgICAgICAgICAn1ZQnLFxyXG4gICAgICAgICAgICAn1ZMnLFxyXG4gICAgICAgICAgICAn1ZInLFxyXG4gICAgICAgICAgICAn1ZEnLFxyXG4gICAgICAgICAgICAn1ZAnLFxyXG4gICAgICAgICAgICAn1Y8nLFxyXG4gICAgICAgICAgICAn1Y4nLFxyXG4gICAgICAgICAgICAn1Y0nLFxyXG4gICAgICAgICAgICAn1YwnLFxyXG4gICAgICAgICAgICAn1YsnLFxyXG4gICAgICAgICAgICAn1YonLFxyXG4gICAgICAgICAgICAn1YknLFxyXG4gICAgICAgICAgICAn1YgnLFxyXG4gICAgICAgICAgICAn1YcnLFxyXG4gICAgICAgICAgICAn1YYnLFxyXG4gICAgICAgICAgICAn1YUnLFxyXG4gICAgICAgICAgICAn1YQnLFxyXG4gICAgICAgICAgICAn1YMnLFxyXG4gICAgICAgICAgICAn1YInLFxyXG4gICAgICAgICAgICAn1YEnLFxyXG4gICAgICAgICAgICAn1YAnLFxyXG4gICAgICAgICAgICAn1L8nLFxyXG4gICAgICAgICAgICAn1L4nLFxyXG4gICAgICAgICAgICAn1L0nLFxyXG4gICAgICAgICAgICAn1LwnLFxyXG4gICAgICAgICAgICAn1LsnLFxyXG4gICAgICAgICAgICAn1LonLFxyXG4gICAgICAgICAgICAn1LknLFxyXG4gICAgICAgICAgICAn1LgnLFxyXG4gICAgICAgICAgICAn1LcnLFxyXG4gICAgICAgICAgICAn1LYnLFxyXG4gICAgICAgICAgICAn1LUnLFxyXG4gICAgICAgICAgICAn1LQnLFxyXG4gICAgICAgICAgICAn1LMnLFxyXG4gICAgICAgICAgICAn1LInLFxyXG4gICAgICAgICAgICAn1LEnXHJcbiAgICAgICAgXVxyXG4gICAgfTtcclxuICAgIHZhciBIRUJSRVcgPSB7XHJcbiAgICAgICAgaW50ZWdlcnM6IFtcclxuICAgICAgICAgICAgMTAwMDAsXHJcbiAgICAgICAgICAgIDkwMDAsXHJcbiAgICAgICAgICAgIDgwMDAsXHJcbiAgICAgICAgICAgIDcwMDAsXHJcbiAgICAgICAgICAgIDYwMDAsXHJcbiAgICAgICAgICAgIDUwMDAsXHJcbiAgICAgICAgICAgIDQwMDAsXHJcbiAgICAgICAgICAgIDMwMDAsXHJcbiAgICAgICAgICAgIDIwMDAsXHJcbiAgICAgICAgICAgIDEwMDAsXHJcbiAgICAgICAgICAgIDQwMCxcclxuICAgICAgICAgICAgMzAwLFxyXG4gICAgICAgICAgICAyMDAsXHJcbiAgICAgICAgICAgIDEwMCxcclxuICAgICAgICAgICAgOTAsXHJcbiAgICAgICAgICAgIDgwLFxyXG4gICAgICAgICAgICA3MCxcclxuICAgICAgICAgICAgNjAsXHJcbiAgICAgICAgICAgIDUwLFxyXG4gICAgICAgICAgICA0MCxcclxuICAgICAgICAgICAgMzAsXHJcbiAgICAgICAgICAgIDIwLFxyXG4gICAgICAgICAgICAxOSxcclxuICAgICAgICAgICAgMTgsXHJcbiAgICAgICAgICAgIDE3LFxyXG4gICAgICAgICAgICAxNixcclxuICAgICAgICAgICAgMTUsXHJcbiAgICAgICAgICAgIDEwLFxyXG4gICAgICAgICAgICA5LFxyXG4gICAgICAgICAgICA4LFxyXG4gICAgICAgICAgICA3LFxyXG4gICAgICAgICAgICA2LFxyXG4gICAgICAgICAgICA1LFxyXG4gICAgICAgICAgICA0LFxyXG4gICAgICAgICAgICAzLFxyXG4gICAgICAgICAgICAyLFxyXG4gICAgICAgICAgICAxXHJcbiAgICAgICAgXSxcclxuICAgICAgICB2YWx1ZXM6IFtcclxuICAgICAgICAgICAgJ9eZ17MnLFxyXG4gICAgICAgICAgICAn15jXsycsXHJcbiAgICAgICAgICAgICfXl9ezJyxcclxuICAgICAgICAgICAgJ9eW17MnLFxyXG4gICAgICAgICAgICAn15XXsycsXHJcbiAgICAgICAgICAgICfXlNezJyxcclxuICAgICAgICAgICAgJ9eT17MnLFxyXG4gICAgICAgICAgICAn15LXsycsXHJcbiAgICAgICAgICAgICfXkdezJyxcclxuICAgICAgICAgICAgJ9eQ17MnLFxyXG4gICAgICAgICAgICAn16onLFxyXG4gICAgICAgICAgICAn16knLFxyXG4gICAgICAgICAgICAn16gnLFxyXG4gICAgICAgICAgICAn16cnLFxyXG4gICAgICAgICAgICAn16YnLFxyXG4gICAgICAgICAgICAn16QnLFxyXG4gICAgICAgICAgICAn16InLFxyXG4gICAgICAgICAgICAn16EnLFxyXG4gICAgICAgICAgICAn16AnLFxyXG4gICAgICAgICAgICAn154nLFxyXG4gICAgICAgICAgICAn15wnLFxyXG4gICAgICAgICAgICAn15snLFxyXG4gICAgICAgICAgICAn15nXmCcsXHJcbiAgICAgICAgICAgICfXmdeXJyxcclxuICAgICAgICAgICAgJ9eZ15YnLFxyXG4gICAgICAgICAgICAn15jXlicsXHJcbiAgICAgICAgICAgICfXmNeVJyxcclxuICAgICAgICAgICAgJ9eZJyxcclxuICAgICAgICAgICAgJ9eYJyxcclxuICAgICAgICAgICAgJ9eXJyxcclxuICAgICAgICAgICAgJ9eWJyxcclxuICAgICAgICAgICAgJ9eVJyxcclxuICAgICAgICAgICAgJ9eUJyxcclxuICAgICAgICAgICAgJ9eTJyxcclxuICAgICAgICAgICAgJ9eSJyxcclxuICAgICAgICAgICAgJ9eRJyxcclxuICAgICAgICAgICAgJ9eQJ1xyXG4gICAgICAgIF1cclxuICAgIH07XHJcbiAgICB2YXIgR0VPUkdJQU4gPSB7XHJcbiAgICAgICAgaW50ZWdlcnM6IFtcclxuICAgICAgICAgICAgMTAwMDAsXHJcbiAgICAgICAgICAgIDkwMDAsXHJcbiAgICAgICAgICAgIDgwMDAsXHJcbiAgICAgICAgICAgIDcwMDAsXHJcbiAgICAgICAgICAgIDYwMDAsXHJcbiAgICAgICAgICAgIDUwMDAsXHJcbiAgICAgICAgICAgIDQwMDAsXHJcbiAgICAgICAgICAgIDMwMDAsXHJcbiAgICAgICAgICAgIDIwMDAsXHJcbiAgICAgICAgICAgIDEwMDAsXHJcbiAgICAgICAgICAgIDkwMCxcclxuICAgICAgICAgICAgODAwLFxyXG4gICAgICAgICAgICA3MDAsXHJcbiAgICAgICAgICAgIDYwMCxcclxuICAgICAgICAgICAgNTAwLFxyXG4gICAgICAgICAgICA0MDAsXHJcbiAgICAgICAgICAgIDMwMCxcclxuICAgICAgICAgICAgMjAwLFxyXG4gICAgICAgICAgICAxMDAsXHJcbiAgICAgICAgICAgIDkwLFxyXG4gICAgICAgICAgICA4MCxcclxuICAgICAgICAgICAgNzAsXHJcbiAgICAgICAgICAgIDYwLFxyXG4gICAgICAgICAgICA1MCxcclxuICAgICAgICAgICAgNDAsXHJcbiAgICAgICAgICAgIDMwLFxyXG4gICAgICAgICAgICAyMCxcclxuICAgICAgICAgICAgMTAsXHJcbiAgICAgICAgICAgIDksXHJcbiAgICAgICAgICAgIDgsXHJcbiAgICAgICAgICAgIDcsXHJcbiAgICAgICAgICAgIDYsXHJcbiAgICAgICAgICAgIDUsXHJcbiAgICAgICAgICAgIDQsXHJcbiAgICAgICAgICAgIDMsXHJcbiAgICAgICAgICAgIDIsXHJcbiAgICAgICAgICAgIDFcclxuICAgICAgICBdLFxyXG4gICAgICAgIHZhbHVlczogW1xyXG4gICAgICAgICAgICAn4YO1JyxcclxuICAgICAgICAgICAgJ+GDsCcsXHJcbiAgICAgICAgICAgICfhg68nLFxyXG4gICAgICAgICAgICAn4YO0JyxcclxuICAgICAgICAgICAgJ+GDricsXHJcbiAgICAgICAgICAgICfhg60nLFxyXG4gICAgICAgICAgICAn4YOsJyxcclxuICAgICAgICAgICAgJ+GDqycsXHJcbiAgICAgICAgICAgICfhg6onLFxyXG4gICAgICAgICAgICAn4YOpJyxcclxuICAgICAgICAgICAgJ+GDqCcsXHJcbiAgICAgICAgICAgICfhg6cnLFxyXG4gICAgICAgICAgICAn4YOmJyxcclxuICAgICAgICAgICAgJ+GDpScsXHJcbiAgICAgICAgICAgICfhg6QnLFxyXG4gICAgICAgICAgICAn4YOzJyxcclxuICAgICAgICAgICAgJ+GDoicsXHJcbiAgICAgICAgICAgICfhg6EnLFxyXG4gICAgICAgICAgICAn4YOgJyxcclxuICAgICAgICAgICAgJ+GDnycsXHJcbiAgICAgICAgICAgICfhg54nLFxyXG4gICAgICAgICAgICAn4YOdJyxcclxuICAgICAgICAgICAgJ+GDsicsXHJcbiAgICAgICAgICAgICfhg5wnLFxyXG4gICAgICAgICAgICAn4YObJyxcclxuICAgICAgICAgICAgJ+GDmicsXHJcbiAgICAgICAgICAgICfhg5knLFxyXG4gICAgICAgICAgICAn4YOYJyxcclxuICAgICAgICAgICAgJ+GDlycsXHJcbiAgICAgICAgICAgICfhg7EnLFxyXG4gICAgICAgICAgICAn4YOWJyxcclxuICAgICAgICAgICAgJ+GDlScsXHJcbiAgICAgICAgICAgICfhg5QnLFxyXG4gICAgICAgICAgICAn4YOTJyxcclxuICAgICAgICAgICAgJ+GDkicsXHJcbiAgICAgICAgICAgICfhg5EnLFxyXG4gICAgICAgICAgICAn4YOQJ1xyXG4gICAgICAgIF1cclxuICAgIH07XHJcbiAgICB2YXIgY3JlYXRlQWRkaXRpdmVDb3VudGVyID0gZnVuY3Rpb24gKHZhbHVlLCBtaW4sIG1heCwgc3ltYm9scywgZmFsbGJhY2ssIHN1ZmZpeCkge1xyXG4gICAgICAgIGlmICh2YWx1ZSA8IG1pbiB8fCB2YWx1ZSA+IG1heCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclRleHQodmFsdWUsIGZhbGxiYWNrLCBzdWZmaXgubGVuZ3RoID4gMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoc3ltYm9scy5pbnRlZ2Vycy5yZWR1Y2UoZnVuY3Rpb24gKHN0cmluZywgaW50ZWdlciwgaW5kZXgpIHtcclxuICAgICAgICAgICAgd2hpbGUgKHZhbHVlID49IGludGVnZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlIC09IGludGVnZXI7XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gc3ltYm9scy52YWx1ZXNbaW5kZXhdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmc7XHJcbiAgICAgICAgfSwgJycpICsgc3VmZml4KTtcclxuICAgIH07XHJcbiAgICB2YXIgY3JlYXRlQ291bnRlclN0eWxlV2l0aFN5bWJvbFJlc29sdmVyID0gZnVuY3Rpb24gKHZhbHVlLCBjb2RlUG9pbnRSYW5nZUxlbmd0aCwgaXNOdW1lcmljLCByZXNvbHZlcikge1xyXG4gICAgICAgIHZhciBzdHJpbmcgPSAnJztcclxuICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgIGlmICghaXNOdW1lcmljKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZS0tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN0cmluZyA9IHJlc29sdmVyKHZhbHVlKSArIHN0cmluZztcclxuICAgICAgICAgICAgdmFsdWUgLz0gY29kZVBvaW50UmFuZ2VMZW5ndGg7XHJcbiAgICAgICAgfSB3aGlsZSAodmFsdWUgKiBjb2RlUG9pbnRSYW5nZUxlbmd0aCA+PSBjb2RlUG9pbnRSYW5nZUxlbmd0aCk7XHJcbiAgICAgICAgcmV0dXJuIHN0cmluZztcclxuICAgIH07XHJcbiAgICB2YXIgY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlID0gZnVuY3Rpb24gKHZhbHVlLCBjb2RlUG9pbnRSYW5nZVN0YXJ0LCBjb2RlUG9pbnRSYW5nZUVuZCwgaXNOdW1lcmljLCBzdWZmaXgpIHtcclxuICAgICAgICB2YXIgY29kZVBvaW50UmFuZ2VMZW5ndGggPSBjb2RlUG9pbnRSYW5nZUVuZCAtIGNvZGVQb2ludFJhbmdlU3RhcnQgKyAxO1xyXG4gICAgICAgIHJldHVybiAoKHZhbHVlIDwgMCA/ICctJyA6ICcnKSArXHJcbiAgICAgICAgICAgIChjcmVhdGVDb3VudGVyU3R5bGVXaXRoU3ltYm9sUmVzb2x2ZXIoTWF0aC5hYnModmFsdWUpLCBjb2RlUG9pbnRSYW5nZUxlbmd0aCwgaXNOdW1lcmljLCBmdW5jdGlvbiAoY29kZVBvaW50KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJvbUNvZGVQb2ludChNYXRoLmZsb29yKGNvZGVQb2ludCAlIGNvZGVQb2ludFJhbmdlTGVuZ3RoKSArIGNvZGVQb2ludFJhbmdlU3RhcnQpO1xyXG4gICAgICAgICAgICB9KSArXHJcbiAgICAgICAgICAgICAgICBzdWZmaXgpKTtcclxuICAgIH07XHJcbiAgICB2YXIgY3JlYXRlQ291bnRlclN0eWxlRnJvbVN5bWJvbHMgPSBmdW5jdGlvbiAodmFsdWUsIHN5bWJvbHMsIHN1ZmZpeCkge1xyXG4gICAgICAgIGlmIChzdWZmaXggPT09IHZvaWQgMCkgeyBzdWZmaXggPSAnLiAnOyB9XHJcbiAgICAgICAgdmFyIGNvZGVQb2ludFJhbmdlTGVuZ3RoID0gc3ltYm9scy5sZW5ndGg7XHJcbiAgICAgICAgcmV0dXJuIChjcmVhdGVDb3VudGVyU3R5bGVXaXRoU3ltYm9sUmVzb2x2ZXIoTWF0aC5hYnModmFsdWUpLCBjb2RlUG9pbnRSYW5nZUxlbmd0aCwgZmFsc2UsIGZ1bmN0aW9uIChjb2RlUG9pbnQpIHsgcmV0dXJuIHN5bWJvbHNbTWF0aC5mbG9vcihjb2RlUG9pbnQgJSBjb2RlUG9pbnRSYW5nZUxlbmd0aCldOyB9KSArIHN1ZmZpeCk7XHJcbiAgICB9O1xyXG4gICAgdmFyIENKS19aRVJPUyA9IDEgPDwgMDtcclxuICAgIHZhciBDSktfVEVOX0NPRUZGSUNJRU5UUyA9IDEgPDwgMTtcclxuICAgIHZhciBDSktfVEVOX0hJR0hfQ09FRkZJQ0lFTlRTID0gMSA8PCAyO1xyXG4gICAgdmFyIENKS19IVU5EUkVEX0NPRUZGSUNJRU5UUyA9IDEgPDwgMztcclxuICAgIHZhciBjcmVhdGVDSktDb3VudGVyID0gZnVuY3Rpb24gKHZhbHVlLCBudW1iZXJzLCBtdWx0aXBsaWVycywgbmVnYXRpdmVTaWduLCBzdWZmaXgsIGZsYWdzKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlIDwgLTk5OTkgfHwgdmFsdWUgPiA5OTk5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyVGV4dCh2YWx1ZSwgTElTVF9TVFlMRV9UWVBFLkNKS19ERUNJTUFMLCBzdWZmaXgubGVuZ3RoID4gMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0bXAgPSBNYXRoLmFicyh2YWx1ZSk7XHJcbiAgICAgICAgdmFyIHN0cmluZyA9IHN1ZmZpeDtcclxuICAgICAgICBpZiAodG1wID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudW1iZXJzWzBdICsgc3RyaW5nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBkaWdpdCA9IDA7IHRtcCA+IDAgJiYgZGlnaXQgPD0gNDsgZGlnaXQrKykge1xyXG4gICAgICAgICAgICB2YXIgY29lZmZpY2llbnQgPSB0bXAgJSAxMDtcclxuICAgICAgICAgICAgaWYgKGNvZWZmaWNpZW50ID09PSAwICYmIGNvbnRhaW5zKGZsYWdzLCBDSktfWkVST1MpICYmIHN0cmluZyAhPT0gJycpIHtcclxuICAgICAgICAgICAgICAgIHN0cmluZyA9IG51bWJlcnNbY29lZmZpY2llbnRdICsgc3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGNvZWZmaWNpZW50ID4gMSB8fFxyXG4gICAgICAgICAgICAgICAgKGNvZWZmaWNpZW50ID09PSAxICYmIGRpZ2l0ID09PSAwKSB8fFxyXG4gICAgICAgICAgICAgICAgKGNvZWZmaWNpZW50ID09PSAxICYmIGRpZ2l0ID09PSAxICYmIGNvbnRhaW5zKGZsYWdzLCBDSktfVEVOX0NPRUZGSUNJRU5UUykpIHx8XHJcbiAgICAgICAgICAgICAgICAoY29lZmZpY2llbnQgPT09IDEgJiYgZGlnaXQgPT09IDEgJiYgY29udGFpbnMoZmxhZ3MsIENKS19URU5fSElHSF9DT0VGRklDSUVOVFMpICYmIHZhbHVlID4gMTAwKSB8fFxyXG4gICAgICAgICAgICAgICAgKGNvZWZmaWNpZW50ID09PSAxICYmIGRpZ2l0ID4gMSAmJiBjb250YWlucyhmbGFncywgQ0pLX0hVTkRSRURfQ09FRkZJQ0lFTlRTKSkpIHtcclxuICAgICAgICAgICAgICAgIHN0cmluZyA9IG51bWJlcnNbY29lZmZpY2llbnRdICsgKGRpZ2l0ID4gMCA/IG11bHRpcGxpZXJzW2RpZ2l0IC0gMV0gOiAnJykgKyBzdHJpbmc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY29lZmZpY2llbnQgPT09IDEgJiYgZGlnaXQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBzdHJpbmcgPSBtdWx0aXBsaWVyc1tkaWdpdCAtIDFdICsgc3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRtcCA9IE1hdGguZmxvb3IodG1wIC8gMTApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKHZhbHVlIDwgMCA/IG5lZ2F0aXZlU2lnbiA6ICcnKSArIHN0cmluZztcclxuICAgIH07XHJcbiAgICB2YXIgQ0hJTkVTRV9JTkZPUk1BTF9NVUxUSVBMSUVSUyA9ICfljYHnmb7ljYPokKwnO1xyXG4gICAgdmFyIENISU5FU0VfRk9STUFMX01VTFRJUExJRVJTID0gJ+aLvuS9sOS7n+iQrCc7XHJcbiAgICB2YXIgSkFQQU5FU0VfTkVHQVRJVkUgPSAn44Oe44Kk44OK44K5JztcclxuICAgIHZhciBLT1JFQU5fTkVHQVRJVkUgPSAn66eI7J2064SI7IqkJztcclxuICAgIHZhciBjcmVhdGVDb3VudGVyVGV4dCA9IGZ1bmN0aW9uICh2YWx1ZSwgdHlwZSwgYXBwZW5kU3VmZml4KSB7XHJcbiAgICAgICAgdmFyIGRlZmF1bHRTdWZmaXggPSBhcHBlbmRTdWZmaXggPyAnLiAnIDogJyc7XHJcbiAgICAgICAgdmFyIGNqa1N1ZmZpeCA9IGFwcGVuZFN1ZmZpeCA/ICfjgIEnIDogJyc7XHJcbiAgICAgICAgdmFyIGtvcmVhblN1ZmZpeCA9IGFwcGVuZFN1ZmZpeCA/ICcsICcgOiAnJztcclxuICAgICAgICB2YXIgc3BhY2VTdWZmaXggPSBhcHBlbmRTdWZmaXggPyAnICcgOiAnJztcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuRElTQzpcclxuICAgICAgICAgICAgICAgIHJldHVybiAn4oCiJyArIHNwYWNlU3VmZml4O1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5DSVJDTEU6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ+KXpicgKyBzcGFjZVN1ZmZpeDtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuU1FVQVJFOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICfil74nICsgc3BhY2VTdWZmaXg7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkRFQ0lNQUxfTEVBRElOR19aRVJPOlxyXG4gICAgICAgICAgICAgICAgdmFyIHN0cmluZyA9IGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgNDgsIDU3LCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmcubGVuZ3RoIDwgNCA/IFwiMFwiICsgc3RyaW5nIDogc3RyaW5nO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5DSktfREVDSU1BTDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tU3ltYm9scyh2YWx1ZSwgJ+OAh+S4gOS6jOS4ieWbm+S6lOWFreS4g+WFq+S5nScsIGNqa1N1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkxPV0VSX1JPTUFOOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUFkZGl0aXZlQ291bnRlcih2YWx1ZSwgMSwgMzk5OSwgUk9NQU5fVVBQRVIsIExJU1RfU1RZTEVfVFlQRS5ERUNJTUFMLCBkZWZhdWx0U3VmZml4KS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5VUFBFUl9ST01BTjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVBZGRpdGl2ZUNvdW50ZXIodmFsdWUsIDEsIDM5OTksIFJPTUFOX1VQUEVSLCBMSVNUX1NUWUxFX1RZUEUuREVDSU1BTCwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkxPV0VSX0dSRUVLOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgOTQ1LCA5NjksIGZhbHNlLCBkZWZhdWx0U3VmZml4KTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuTE9XRVJfQUxQSEE6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCA5NywgMTIyLCBmYWxzZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLlVQUEVSX0FMUEhBOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgNjUsIDkwLCBmYWxzZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkFSQUJJQ19JTkRJQzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDE2MzIsIDE2NDEsIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5BUk1FTklBTjpcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuVVBQRVJfQVJNRU5JQU46XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQWRkaXRpdmVDb3VudGVyKHZhbHVlLCAxLCA5OTk5LCBBUk1FTklBTiwgTElTVF9TVFlMRV9UWVBFLkRFQ0lNQUwsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5MT1dFUl9BUk1FTklBTjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVBZGRpdGl2ZUNvdW50ZXIodmFsdWUsIDEsIDk5OTksIEFSTUVOSUFOLCBMSVNUX1NUWUxFX1RZUEUuREVDSU1BTCwgZGVmYXVsdFN1ZmZpeCkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuQkVOR0FMSTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDI1MzQsIDI1NDMsIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5DQU1CT0RJQU46XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLktITUVSOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgNjExMiwgNjEyMSwgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkNKS19FQVJUSExZX0JSQU5DSDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tU3ltYm9scyh2YWx1ZSwgJ+WtkOS4keWvheWNr+i+sOW3s+WNiOacqueUs+mFieaIjOS6pScsIGNqa1N1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkNKS19IRUFWRU5MWV9TVEVNOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21TeW1ib2xzKHZhbHVlLCAn55Sy5LmZ5LiZ5LiB5oiK5bex5bqa6L6b5aOs55m4JywgY2prU3VmZml4KTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuQ0pLX0lERU9HUkFQSElDOlxyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5UUkFEX0NISU5FU0VfSU5GT1JNQUw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcih2YWx1ZSwgJ+mbtuS4gOS6jOS4ieWbm+S6lOWFreS4g+WFq+S5nScsIENISU5FU0VfSU5GT1JNQUxfTVVMVElQTElFUlMsICfosqAnLCBjamtTdWZmaXgsIENKS19URU5fQ09FRkZJQ0lFTlRTIHwgQ0pLX1RFTl9ISUdIX0NPRUZGSUNJRU5UUyB8IENKS19IVU5EUkVEX0NPRUZGSUNJRU5UUyk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLlRSQURfQ0hJTkVTRV9GT1JNQUw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcih2YWx1ZSwgJ+mbtuWjueiys+WPg+iChuS8jemZuOafkuaNjOeOlicsIENISU5FU0VfRk9STUFMX01VTFRJUExJRVJTLCAn6LKgJywgY2prU3VmZml4LCBDSktfWkVST1MgfCBDSktfVEVOX0NPRUZGSUNJRU5UUyB8IENKS19URU5fSElHSF9DT0VGRklDSUVOVFMgfCBDSktfSFVORFJFRF9DT0VGRklDSUVOVFMpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5TSU1QX0NISU5FU0VfSU5GT1JNQUw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcih2YWx1ZSwgJ+mbtuS4gOS6jOS4ieWbm+S6lOWFreS4g+WFq+S5nScsIENISU5FU0VfSU5GT1JNQUxfTVVMVElQTElFUlMsICfotJ8nLCBjamtTdWZmaXgsIENKS19URU5fQ09FRkZJQ0lFTlRTIHwgQ0pLX1RFTl9ISUdIX0NPRUZGSUNJRU5UUyB8IENKS19IVU5EUkVEX0NPRUZGSUNJRU5UUyk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLlNJTVBfQ0hJTkVTRV9GT1JNQUw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcih2YWx1ZSwgJ+mbtuWjuei0sOWPgeiChuS8jemZhuafkuaNjOeOlicsIENISU5FU0VfRk9STUFMX01VTFRJUExJRVJTLCAn6LSfJywgY2prU3VmZml4LCBDSktfWkVST1MgfCBDSktfVEVOX0NPRUZGSUNJRU5UUyB8IENKS19URU5fSElHSF9DT0VGRklDSUVOVFMgfCBDSktfSFVORFJFRF9DT0VGRklDSUVOVFMpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5KQVBBTkVTRV9JTkZPUk1BTDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDSktDb3VudGVyKHZhbHVlLCAn44CH5LiA5LqM5LiJ5Zub5LqU5YWt5LiD5YWr5LmdJywgJ+WNgeeZvuWNg+S4hycsIEpBUEFORVNFX05FR0FUSVZFLCBjamtTdWZmaXgsIDApO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5KQVBBTkVTRV9GT1JNQUw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcih2YWx1ZSwgJ+mbtuWjseW8kOWPguWbm+S8jeWFreS4g+WFq+S5nScsICfmi77nmb7ljYPkuIcnLCBKQVBBTkVTRV9ORUdBVElWRSwgY2prU3VmZml4LCBDSktfWkVST1MgfCBDSktfVEVOX0NPRUZGSUNJRU5UUyB8IENKS19URU5fSElHSF9DT0VGRklDSUVOVFMpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5LT1JFQU5fSEFOR1VMX0ZPUk1BTDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDSktDb3VudGVyKHZhbHVlLCAn7JiB7J287J207IK87IKs7Jik7Jyh7Lmg7YyU6rWsJywgJ+yLreuwseyynOunjCcsIEtPUkVBTl9ORUdBVElWRSwga29yZWFuU3VmZml4LCBDSktfWkVST1MgfCBDSktfVEVOX0NPRUZGSUNJRU5UUyB8IENKS19URU5fSElHSF9DT0VGRklDSUVOVFMpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5LT1JFQU5fSEFOSkFfSU5GT1JNQUw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcih2YWx1ZSwgJ+mbtuS4gOS6jOS4ieWbm+S6lOWFreS4g+WFq+S5nScsICfljYHnmb7ljYPokKwnLCBLT1JFQU5fTkVHQVRJVkUsIGtvcmVhblN1ZmZpeCwgMCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLktPUkVBTl9IQU5KQV9GT1JNQUw6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ0pLQ291bnRlcih2YWx1ZSwgJ+mbtuWjueiys+WPg+Wbm+S6lOWFreS4g+WFq+S5nScsICfmi77nmb7ljYMnLCBLT1JFQU5fTkVHQVRJVkUsIGtvcmVhblN1ZmZpeCwgQ0pLX1pFUk9TIHwgQ0pLX1RFTl9DT0VGRklDSUVOVFMgfCBDSktfVEVOX0hJR0hfQ09FRkZJQ0lFTlRTKTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuREVWQU5BR0FSSTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDB4OTY2LCAweDk2ZiwgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkdFT1JHSUFOOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUFkZGl0aXZlQ291bnRlcih2YWx1ZSwgMSwgMTk5OTksIEdFT1JHSUFOLCBMSVNUX1NUWUxFX1RZUEUuREVDSU1BTCwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkdVSkFSQVRJOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHhhZTYsIDB4YWVmLCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuR1VSTVVLSEk6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCAweGE2NiwgMHhhNmYsIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5IRUJSRVc6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQWRkaXRpdmVDb3VudGVyKHZhbHVlLCAxLCAxMDk5OSwgSEVCUkVXLCBMSVNUX1NUWUxFX1RZUEUuREVDSU1BTCwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkhJUkFHQU5BOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21TeW1ib2xzKHZhbHVlLCAn44GC44GE44GG44GI44GK44GL44GN44GP44GR44GT44GV44GX44GZ44Gb44Gd44Gf44Gh44Gk44Gm44Go44Gq44Gr44Gs44Gt44Gu44Gv44Gy44G144G444G744G+44G/44KA44KB44KC44KE44KG44KI44KJ44KK44KL44KM44KN44KP44KQ44KR44KS44KTJyk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLkhJUkFHQU5BX0lST0hBOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21TeW1ib2xzKHZhbHVlLCAn44GE44KN44Gv44Gr44G744G444Go44Gh44KK44Gs44KL44KS44KP44GL44KI44Gf44KM44Gd44Gk44Gt44Gq44KJ44KA44GG44KQ44Gu44GK44GP44KE44G+44GR44G144GT44GI44Gm44GC44GV44GN44KG44KB44G/44GX44KR44Gy44KC44Gb44GZJyk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLktBTk5BREE6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCAweGNlNiwgMHhjZWYsIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5LQVRBS0FOQTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tU3ltYm9scyh2YWx1ZSwgJ+OCouOCpOOCpuOCqOOCquOCq+OCreOCr+OCseOCs+OCteOCt+OCueOCu+OCveOCv+ODgeODhOODhuODiOODiuODi+ODjOODjeODjuODj+ODkuODleODmOODm+ODnuODn+ODoOODoeODouODpOODpuODqOODqeODquODq+ODrOODreODr+ODsOODseODsuODsycsIGNqa1N1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLktBVEFLQU5BX0lST0hBOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21TeW1ib2xzKHZhbHVlLCAn44Kk44Ot44OP44OL44Ob44OY44OI44OB44Oq44OM44Or44Oy44Ov44Kr44Oo44K/44Os44K944OE44ON44OK44Op44Og44Km44Ow44OO44Kq44Kv44Ok44Oe44Kx44OV44Kz44Ko44OG44Ki44K144Kt44Om44Oh44Of44K344Ox44OS44Oi44K744K5JywgY2prU3VmZml4KTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuTEFPOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHhlZDAsIDB4ZWQ5LCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuTU9OR09MSUFOOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHgxODEwLCAweDE4MTksIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5NWUFOTUFSOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHgxMDQwLCAweDEwNDksIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5PUklZQTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDB4YjY2LCAweGI2ZiwgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLlBFUlNJQU46XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCAweDZmMCwgMHg2ZjksIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5UQU1JTDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDB4YmU2LCAweGJlZiwgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLlRFTFVHVTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDB4YzY2LCAweGM2ZiwgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgICAgIGNhc2UgTElTVF9TVFlMRV9UWVBFLlRIQUk6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQ291bnRlclN0eWxlRnJvbVJhbmdlKHZhbHVlLCAweGU1MCwgMHhlNTksIHRydWUsIGRlZmF1bHRTdWZmaXgpO1xyXG4gICAgICAgICAgICBjYXNlIExJU1RfU1RZTEVfVFlQRS5USUJFVEFOOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNvdW50ZXJTdHlsZUZyb21SYW5nZSh2YWx1ZSwgMHhmMjAsIDB4ZjI5LCB0cnVlLCBkZWZhdWx0U3VmZml4KTtcclxuICAgICAgICAgICAgY2FzZSBMSVNUX1NUWUxFX1RZUEUuREVDSU1BTDpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb3VudGVyU3R5bGVGcm9tUmFuZ2UodmFsdWUsIDQ4LCA1NywgdHJ1ZSwgZGVmYXVsdFN1ZmZpeCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgSUdOT1JFX0FUVFJJQlVURSA9ICdkYXRhLWh0bWwyY2FudmFzLWlnbm9yZSc7XHJcbiAgICB2YXIgRG9jdW1lbnRDbG9uZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gRG9jdW1lbnRDbG9uZXIoZWxlbWVudCwgb3B0aW9ucykge1xyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbGVkRWxlbWVudHMgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5yZWZlcmVuY2VFbGVtZW50ID0gZWxlbWVudDtcclxuICAgICAgICAgICAgdGhpcy5jb3VudGVycyA9IG5ldyBDb3VudGVyU3RhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5xdW90ZURlcHRoID0gMDtcclxuICAgICAgICAgICAgaWYgKCFlbGVtZW50Lm93bmVyRG9jdW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2xvbmVkIGVsZW1lbnQgZG9lcyBub3QgaGF2ZSBhbiBvd25lciBkb2N1bWVudCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZG9jdW1lbnRFbGVtZW50ID0gdGhpcy5jbG9uZU5vZGUoZWxlbWVudC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIERvY3VtZW50Q2xvbmVyLnByb3RvdHlwZS50b0lGcmFtZSA9IGZ1bmN0aW9uIChvd25lckRvY3VtZW50LCB3aW5kb3dTaXplKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciBpZnJhbWUgPSBjcmVhdGVJRnJhbWVDb250YWluZXIob3duZXJEb2N1bWVudCwgd2luZG93U2l6ZSk7XHJcbiAgICAgICAgICAgIGlmICghaWZyYW1lLmNvbnRlbnRXaW5kb3cpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcIlVuYWJsZSB0byBmaW5kIGlmcmFtZSB3aW5kb3dcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHNjcm9sbFggPSBvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LnBhZ2VYT2Zmc2V0O1xyXG4gICAgICAgICAgICB2YXIgc2Nyb2xsWSA9IG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcucGFnZVlPZmZzZXQ7XHJcbiAgICAgICAgICAgIHZhciBjbG9uZVdpbmRvdyA9IGlmcmFtZS5jb250ZW50V2luZG93O1xyXG4gICAgICAgICAgICB2YXIgZG9jdW1lbnRDbG9uZSA9IGNsb25lV2luZG93LmRvY3VtZW50O1xyXG4gICAgICAgICAgICAvKiBDaHJvbWUgZG9lc24ndCBkZXRlY3QgcmVsYXRpdmUgYmFja2dyb3VuZC1pbWFnZXMgYXNzaWduZWQgaW4gaW5saW5lIDxzdHlsZT4gc2hlZXRzIHdoZW4gZmV0Y2hlZCB0aHJvdWdoIGdldENvbXB1dGVkU3R5bGVcclxuICAgICAgICAgICAgIGlmIHdpbmRvdyB1cmwgaXMgYWJvdXQ6YmxhbmssIHdlIGNhbiBhc3NpZ24gdGhlIHVybCB0byBjdXJyZW50IGJ5IHdyaXRpbmcgb250byB0aGUgZG9jdW1lbnRcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHZhciBpZnJhbWVMb2FkID0gaWZyYW1lTG9hZGVyKGlmcmFtZSkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvbmNsb25lO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsZWRFbGVtZW50cy5mb3JFYWNoKHJlc3RvcmVOb2RlU2Nyb2xsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xvbmVXaW5kb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVXaW5kb3cuc2Nyb2xsVG8od2luZG93U2l6ZS5sZWZ0LCB3aW5kb3dTaXplLnRvcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvKGlQYWR8aVBob25lfGlQb2QpL2cudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNsb25lV2luZG93LnNjcm9sbFkgIT09IHdpbmRvd1NpemUudG9wIHx8IGNsb25lV2luZG93LnNjcm9sbFggIT09IHdpbmRvd1NpemUubGVmdCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50Q2xvbmUuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnRvcCA9IC13aW5kb3dTaXplLnRvcCArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudENsb25lLmRvY3VtZW50RWxlbWVudC5zdHlsZS5sZWZ0ID0gLXdpbmRvd1NpemUubGVmdCArICdweCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudENsb25lLmRvY3VtZW50RWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jbG9uZSA9IHRoaXMub3B0aW9ucy5vbmNsb25lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5jbG9uZWRSZWZlcmVuY2VFbGVtZW50ID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgUHJvbWlzZS5yZWplY3QoXCJFcnJvciBmaW5kaW5nIHRoZSBcIiArIHRoaXMucmVmZXJlbmNlRWxlbWVudC5ub2RlTmFtZSArIFwiIGluIHRoZSBjbG9uZWQgZG9jdW1lbnRcIildO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShkb2N1bWVudENsb25lLmZvbnRzICYmIGRvY3VtZW50Q2xvbmUuZm9udHMucmVhZHkpKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBkb2N1bWVudENsb25lLmZvbnRzLnJlYWR5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb25jbG9uZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgUHJvbWlzZS5yZXNvbHZlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIG9uY2xvbmUoZG9jdW1lbnRDbG9uZSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBpZnJhbWU7IH0pXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGlmcmFtZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZG9jdW1lbnRDbG9uZS5vcGVuKCk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50Q2xvbmUud3JpdGUoc2VyaWFsaXplRG9jdHlwZShkb2N1bWVudC5kb2N0eXBlKSArIFwiPGh0bWw+PC9odG1sPlwiKTtcclxuICAgICAgICAgICAgLy8gQ2hyb21lIHNjcm9sbHMgdGhlIHBhcmVudCBkb2N1bWVudCBmb3Igc29tZSByZWFzb24gYWZ0ZXIgdGhlIHdyaXRlIHRvIHRoZSBjbG9uZWQgd2luZG93Pz8/XHJcbiAgICAgICAgICAgIHJlc3RvcmVPd25lclNjcm9sbCh0aGlzLnJlZmVyZW5jZUVsZW1lbnQub3duZXJEb2N1bWVudCwgc2Nyb2xsWCwgc2Nyb2xsWSk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50Q2xvbmUucmVwbGFjZUNoaWxkKGRvY3VtZW50Q2xvbmUuYWRvcHROb2RlKHRoaXMuZG9jdW1lbnRFbGVtZW50KSwgZG9jdW1lbnRDbG9uZS5kb2N1bWVudEVsZW1lbnQpO1xyXG4gICAgICAgICAgICBkb2N1bWVudENsb25lLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBpZnJhbWVMb2FkO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgRG9jdW1lbnRDbG9uZXIucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnRDbG9uZSA9IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgICAgIGlmIChpc0NhbnZhc0VsZW1lbnQobm9kZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUNhbnZhc0Nsb25lKG5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgIGlmIChpc0lGcmFtZUVsZW1lbnQobm9kZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUlGcmFtZUNsb25lKG5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAqL1xyXG4gICAgICAgICAgICBpZiAoaXNTdHlsZUVsZW1lbnQobm9kZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVN0eWxlQ2xvbmUobm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5vZGUuY2xvbmVOb2RlKGZhbHNlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIERvY3VtZW50Q2xvbmVyLnByb3RvdHlwZS5jcmVhdGVTdHlsZUNsb25lID0gZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHZhciBzaGVldCA9IG5vZGUuc2hlZXQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2hlZXQgJiYgc2hlZXQuY3NzUnVsZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3NzID0gW10uc2xpY2UuY2FsbChzaGVldC5jc3NSdWxlcywgMCkucmVkdWNlKGZ1bmN0aW9uIChjc3MsIHJ1bGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGUgJiYgdHlwZW9mIHJ1bGUuY3NzVGV4dCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjc3MgKyBydWxlLmNzc1RleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNzcztcclxuICAgICAgICAgICAgICAgICAgICB9LCAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0eWxlID0gbm9kZS5jbG9uZU5vZGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0gY3NzO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHlsZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gYWNjZXNzaW5nIG5vZGUuc2hlZXQuY3NzUnVsZXMgdGhyb3dzIGEgRE9NRXhjZXB0aW9uXHJcbiAgICAgICAgICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UodGhpcy5vcHRpb25zLmlkKS5lcnJvcignVW5hYmxlIHRvIGFjY2VzcyBjc3NSdWxlcyBwcm9wZXJ0eScsIGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZSAhPT0gJ1NlY3VyaXR5RXJyb3InKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbm9kZS5jbG9uZU5vZGUoZmFsc2UpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgRG9jdW1lbnRDbG9uZXIucHJvdG90eXBlLmNyZWF0ZUNhbnZhc0Nsb25lID0gZnVuY3Rpb24gKGNhbnZhcykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmlubGluZUltYWdlcyAmJiBjYW52YXMub3duZXJEb2N1bWVudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZyA9IGNhbnZhcy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBpbWcuc3JjID0gY2FudmFzLnRvRGF0YVVSTCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbWc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIExvZ2dlci5nZXRJbnN0YW5jZSh0aGlzLm9wdGlvbnMuaWQpLmluZm8oXCJVbmFibGUgdG8gY2xvbmUgY2FudmFzIGNvbnRlbnRzLCBjYW52YXMgaXMgdGFpbnRlZFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgY2xvbmVkQ2FudmFzID0gY2FudmFzLmNsb25lTm9kZShmYWxzZSk7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjbG9uZWRDYW52YXMud2lkdGggPSBjYW52YXMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBjbG9uZWRDYW52YXMuaGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgICAgIHZhciBjbG9uZWRDdHggPSBjbG9uZWRDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgICAgIGlmIChjbG9uZWRDdHgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3R4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lZEN0eC5wdXRJbWFnZURhdGEoY3R4LmdldEltYWdlRGF0YSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpLCAwLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lZEN0eC5kcmF3SW1hZ2UoY2FudmFzLCAwLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xvbmVkQ2FudmFzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cclxuICAgICAgICAgICAgcmV0dXJuIGNsb25lZENhbnZhcztcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgY3JlYXRlSUZyYW1lQ2xvbmUoaWZyYW1lOiBIVE1MSUZyYW1lRWxlbWVudCkge1xyXG4gICAgICAgICAgICBjb25zdCB0ZW1wSWZyYW1lID0gPEhUTUxJRnJhbWVFbGVtZW50PmlmcmFtZS5jbG9uZU5vZGUoZmFsc2UpO1xyXG4gICAgICAgICAgICBjb25zdCBpZnJhbWVLZXkgPSBnZW5lcmF0ZUlmcmFtZUtleSgpO1xyXG4gICAgICAgICAgICB0ZW1wSWZyYW1lLnNldEF0dHJpYnV0ZSgnZGF0YS1odG1sMmNhbnZhcy1pbnRlcm5hbC1pZnJhbWUta2V5JywgaWZyYW1lS2V5KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0fSA9IHBhcnNlQm91bmRzKGlmcmFtZSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlc291cmNlTG9hZGVyLmNhY2hlW2lmcmFtZUtleV0gPSBnZXRJZnJhbWVEb2N1bWVudEVsZW1lbnQoaWZyYW1lLCB0aGlzLm9wdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAudGhlbihkb2N1bWVudEVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudEVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93VGFpbnQ6IHRoaXMub3B0aW9ucy5hbGxvd1RhaW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXM6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVRpbWVvdXQ6IHRoaXMub3B0aW9ucy5pbWFnZVRpbWVvdXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnaW5nOiB0aGlzLm9wdGlvbnMubG9nZ2luZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5OiB0aGlzLm9wdGlvbnMucHJveHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVDb250YWluZXI6IHRoaXMub3B0aW9ucy5yZW1vdmVDb250YWluZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY2FsZTogdGhpcy5vcHRpb25zLnNjYWxlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWlnbk9iamVjdFJlbmRlcmluZzogdGhpcy5vcHRpb25zLmZvcmVpZ25PYmplY3RSZW5kZXJpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VDT1JTOiB0aGlzLm9wdGlvbnMudXNlQ09SUyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogbmV3IENhbnZhc1JlbmRlcmVyKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93V2lkdGg6IGRvY3VtZW50RWxlbWVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmlubmVyV2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dIZWlnaHQ6IGRvY3VtZW50RWxlbWVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmlubmVySGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsWDogZG9jdW1lbnRFbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcucGFnZVhPZmZzZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxZOiBkb2N1bWVudEVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5wYWdlWU9mZnNldFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oXHJcbiAgICAgICAgICAgICAgICAgICAgKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlmcmFtZUNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZyYW1lQ2FudmFzLm9ubG9hZCA9ICgpID0+IHJlc29sdmUoY2FudmFzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmcmFtZUNhbnZhcy5vbmVycm9yID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW1wdHkgaWZyYW1lcyBtYXkgcmVzdWx0IGluIGVtcHR5IFwiZGF0YTosXCIgVVJMcywgd2hpY2ggYXJlIGludmFsaWQgZnJvbSB0aGUgPGltZz4ncyBwb2ludCBvZiB2aWV3XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIGluc3RlYWQgb2YgYG9ubG9hZGAgY2F1c2UgYG9uZXJyb3JgIGFuZCB1bmhhbmRsZWQgcmVqZWN0aW9uIHdhcm5pbmdzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL25pa2xhc3ZoL2h0bWwyY2FudmFzL2lzc3Vlcy8xNTAyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZyYW1lQ2FudmFzLnNyYyA9PSAnZGF0YTosJyA/IHJlc29sdmUoY2FudmFzKSA6IHJlamVjdChldmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZyYW1lQ2FudmFzLnNyYyA9IGNhbnZhcy50b0RhdGFVUkwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wSWZyYW1lLnBhcmVudE5vZGUgJiYgaWZyYW1lLm93bmVyRG9jdW1lbnQgJiYgaWZyYW1lLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wSWZyYW1lLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3B5Q1NTU3R5bGVzKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZyYW1lLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShpZnJhbWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZyYW1lQ2FudmFzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBJZnJhbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRlbXBJZnJhbWU7XHJcbiAgICAgICAgfVxyXG4gICAgKi9cclxuICAgICAgICBEb2N1bWVudENsb25lci5wcm90b3R5cGUuY2xvbmVOb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICAgICAgaWYgKGlzVGV4dE5vZGUobm9kZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShub2RlLmRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghbm9kZS5vd25lckRvY3VtZW50KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5jbG9uZU5vZGUoZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB3aW5kb3cgPSBub2RlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XHJcbiAgICAgICAgICAgIGlmIChpc0hUTUxFbGVtZW50Tm9kZShub2RlKSAmJiB3aW5kb3cpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjbG9uZSA9IHRoaXMuY3JlYXRlRWxlbWVudENsb25lKG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUobm9kZSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGVCZWZvcmUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCAnOmJlZm9yZScpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlQWZ0ZXIgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCAnOmFmdGVyJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWZlcmVuY2VFbGVtZW50ID09PSBub2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9uZWRSZWZlcmVuY2VFbGVtZW50ID0gY2xvbmU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNCb2R5RWxlbWVudChjbG9uZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVQc2V1ZG9IaWRlU3R5bGVzKGNsb25lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBjb3VudGVycyA9IHRoaXMuY291bnRlcnMucGFyc2UobmV3IENTU1BhcnNlZENvdW50ZXJEZWNsYXJhdGlvbihzdHlsZSkpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGJlZm9yZSA9IHRoaXMucmVzb2x2ZVBzZXVkb0NvbnRlbnQobm9kZSwgY2xvbmUsIHN0eWxlQmVmb3JlLCBQc2V1ZG9FbGVtZW50VHlwZS5CRUZPUkUpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7IGNoaWxkOyBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0VsZW1lbnROb2RlKGNoaWxkKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoIWlzU2NyaXB0RWxlbWVudChjaGlsZCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFjaGlsZC5oYXNBdHRyaWJ1dGUoSUdOT1JFX0FUVFJJQlVURSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgdGhpcy5vcHRpb25zLmlnbm9yZUVsZW1lbnRzICE9PSAnZnVuY3Rpb24nIHx8ICF0aGlzLm9wdGlvbnMuaWdub3JlRWxlbWVudHMoY2hpbGQpKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuY29weVN0eWxlcyB8fCAhaXNFbGVtZW50Tm9kZShjaGlsZCkgfHwgIWlzU3R5bGVFbGVtZW50KGNoaWxkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmUuYXBwZW5kQ2hpbGQodGhpcy5jbG9uZU5vZGUoY2hpbGQpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChiZWZvcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbG9uZS5pbnNlcnRCZWZvcmUoYmVmb3JlLCBjbG9uZS5maXJzdENoaWxkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBhZnRlciA9IHRoaXMucmVzb2x2ZVBzZXVkb0NvbnRlbnQobm9kZSwgY2xvbmUsIHN0eWxlQWZ0ZXIsIFBzZXVkb0VsZW1lbnRUeXBlLkFGVEVSKTtcclxuICAgICAgICAgICAgICAgIGlmIChhZnRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsb25lLmFwcGVuZENoaWxkKGFmdGVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuY291bnRlcnMucG9wKGNvdW50ZXJzKTtcclxuICAgICAgICAgICAgICAgIGlmIChzdHlsZSAmJiB0aGlzLm9wdGlvbnMuY29weVN0eWxlcyAmJiAhaXNJRnJhbWVFbGVtZW50KG5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29weUNTU1N0eWxlcyhzdHlsZSwgY2xvbmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy90aGlzLmlubGluZUFsbEltYWdlcyhjbG9uZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5zY3JvbGxUb3AgIT09IDAgfHwgbm9kZS5zY3JvbGxMZWZ0ICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxlZEVsZW1lbnRzLnB1c2goW2Nsb25lLCBub2RlLnNjcm9sbExlZnQsIG5vZGUuc2Nyb2xsVG9wXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKGlzVGV4dGFyZWFFbGVtZW50KG5vZGUpIHx8IGlzU2VsZWN0RWxlbWVudChub2RlKSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAoaXNUZXh0YXJlYUVsZW1lbnQoY2xvbmUpIHx8IGlzU2VsZWN0RWxlbWVudChjbG9uZSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xvbmUudmFsdWUgPSBub2RlLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsb25lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBub2RlLmNsb25lTm9kZShmYWxzZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBEb2N1bWVudENsb25lci5wcm90b3R5cGUucmVzb2x2ZVBzZXVkb0NvbnRlbnQgPSBmdW5jdGlvbiAobm9kZSwgY2xvbmUsIHN0eWxlLCBwc2V1ZG9FbHQpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgaWYgKCFzdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHN0eWxlLmNvbnRlbnQ7XHJcbiAgICAgICAgICAgIHZhciBkb2N1bWVudCA9IGNsb25lLm93bmVyRG9jdW1lbnQ7XHJcbiAgICAgICAgICAgIGlmICghZG9jdW1lbnQgfHwgIXZhbHVlIHx8IHZhbHVlID09PSAnbm9uZScgfHwgdmFsdWUgPT09ICctbW96LWFsdC1jb250ZW50JyB8fCBzdHlsZS5kaXNwbGF5ID09PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNvdW50ZXJzLnBhcnNlKG5ldyBDU1NQYXJzZWRDb3VudGVyRGVjbGFyYXRpb24oc3R5bGUpKTtcclxuICAgICAgICAgICAgdmFyIGRlY2xhcmF0aW9uID0gbmV3IENTU1BhcnNlZFBzZXVkb0RlY2xhcmF0aW9uKHN0eWxlKTtcclxuICAgICAgICAgICAgdmFyIGFub255bW91c1JlcGxhY2VkRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2h0bWwyY2FudmFzcHNldWRvZWxlbWVudCcpO1xyXG4gICAgICAgICAgICBjb3B5Q1NTU3R5bGVzKHN0eWxlLCBhbm9ueW1vdXNSZXBsYWNlZEVsZW1lbnQpO1xyXG4gICAgICAgICAgICBkZWNsYXJhdGlvbi5jb250ZW50LmZvckVhY2goZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLlNUUklOR19UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgICAgIGFub255bW91c1JlcGxhY2VkRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0b2tlbi52YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodG9rZW4udHlwZSA9PT0gVG9rZW5UeXBlLlVSTF9UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgICAgICAgICAgICAgICAgICBpbWcuc3JjID0gdG9rZW4udmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1nLnN0eWxlLm9wYWNpdHkgPSAnMSc7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5vbnltb3VzUmVwbGFjZWRFbGVtZW50LmFwcGVuZENoaWxkKGltZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0b2tlbi50eXBlID09PSBUb2tlblR5cGUuRlVOQ1RJT04pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4ubmFtZSA9PT0gJ2F0dHInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdHRyID0gdG9rZW4udmFsdWVzLmZpbHRlcihpc0lkZW50VG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0ci5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFub255bW91c1JlcGxhY2VkRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShub2RlLmdldEF0dHJpYnV0ZShhdHRyWzBdLnZhbHVlKSB8fCAnJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRva2VuLm5hbWUgPT09ICdjb3VudGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EgPSB0b2tlbi52YWx1ZXMuZmlsdGVyKG5vbkZ1bmN0aW9uQXJnU2VwYXJhdG9yKSwgY291bnRlciA9IF9hWzBdLCBjb3VudGVyU3R5bGUgPSBfYVsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ZXIgJiYgaXNJZGVudFRva2VuKGNvdW50ZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRlclN0YXRlID0gX3RoaXMuY291bnRlcnMuZ2V0Q291bnRlclZhbHVlKGNvdW50ZXIudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ZXJUeXBlID0gY291bnRlclN0eWxlICYmIGlzSWRlbnRUb2tlbihjb3VudGVyU3R5bGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBsaXN0U3R5bGVUeXBlLnBhcnNlKGNvdW50ZXJTdHlsZS52YWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IExJU1RfU1RZTEVfVFlQRS5ERUNJTUFMO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5vbnltb3VzUmVwbGFjZWRFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNyZWF0ZUNvdW50ZXJUZXh0KGNvdW50ZXJTdGF0ZSwgY291bnRlclR5cGUsIGZhbHNlKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRva2VuLm5hbWUgPT09ICdjb3VudGVycycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9iID0gdG9rZW4udmFsdWVzLmZpbHRlcihub25GdW5jdGlvbkFyZ1NlcGFyYXRvciksIGNvdW50ZXIgPSBfYlswXSwgZGVsaW0gPSBfYlsxXSwgY291bnRlclN0eWxlID0gX2JbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3VudGVyICYmIGlzSWRlbnRUb2tlbihjb3VudGVyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ZXJTdGF0ZXMgPSBfdGhpcy5jb3VudGVycy5nZXRDb3VudGVyVmFsdWVzKGNvdW50ZXIudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ZXJUeXBlXzEgPSBjb3VudGVyU3R5bGUgJiYgaXNJZGVudFRva2VuKGNvdW50ZXJTdHlsZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGxpc3RTdHlsZVR5cGUucGFyc2UoY291bnRlclN0eWxlLnZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogTElTVF9TVFlMRV9UWVBFLkRFQ0lNQUw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VwYXJhdG9yID0gZGVsaW0gJiYgZGVsaW0udHlwZSA9PT0gVG9rZW5UeXBlLlNUUklOR19UT0tFTiA/IGRlbGltLnZhbHVlIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IGNvdW50ZXJTdGF0ZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gY3JlYXRlQ291bnRlclRleHQodmFsdWUsIGNvdW50ZXJUeXBlXzEsIGZhbHNlKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuam9pbihzZXBhcmF0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5vbnltb3VzUmVwbGFjZWRFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHQpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRva2VuLnR5cGUgPT09IFRva2VuVHlwZS5JREVOVF9UT0tFTikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnb3Blbi1xdW90ZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbm9ueW1vdXNSZXBsYWNlZEVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZ2V0UXVvdGUoZGVjbGFyYXRpb24ucXVvdGVzLCBfdGhpcy5xdW90ZURlcHRoKyssIHRydWUpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2xvc2UtcXVvdGUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5vbnltb3VzUmVwbGFjZWRFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGdldFF1b3RlKGRlY2xhcmF0aW9uLnF1b3RlcywgLS1fdGhpcy5xdW90ZURlcHRoLCBmYWxzZSkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2FmYXJpIGRvZXNuJ3QgcGFyc2Ugc3RyaW5nIHRva2VucyBjb3JyZWN0bHkgYmVjYXVzZSBvZiBsYWNrIG9mIHF1b3Rlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5vbnltb3VzUmVwbGFjZWRFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRva2VuLnZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgYW5vbnltb3VzUmVwbGFjZWRFbGVtZW50LmNsYXNzTmFtZSA9IFBTRVVET19ISURFX0VMRU1FTlRfQ0xBU1NfQkVGT1JFICsgXCIgXCIgKyBQU0VVRE9fSElERV9FTEVNRU5UX0NMQVNTX0FGVEVSO1xyXG4gICAgICAgICAgICBjbG9uZS5jbGFzc05hbWUgKz1cclxuICAgICAgICAgICAgICAgIHBzZXVkb0VsdCA9PT0gUHNldWRvRWxlbWVudFR5cGUuQkVGT1JFXHJcbiAgICAgICAgICAgICAgICAgICAgPyBcIiBcIiArIFBTRVVET19ISURFX0VMRU1FTlRfQ0xBU1NfQkVGT1JFXHJcbiAgICAgICAgICAgICAgICAgICAgOiBcIiBcIiArIFBTRVVET19ISURFX0VMRU1FTlRfQ0xBU1NfQUZURVI7XHJcbiAgICAgICAgICAgIHJldHVybiBhbm9ueW1vdXNSZXBsYWNlZEVsZW1lbnQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBEb2N1bWVudENsb25lci5kZXN0cm95ID0gZnVuY3Rpb24gKGNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLnBhcmVudE5vZGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gRG9jdW1lbnRDbG9uZXI7XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIFBzZXVkb0VsZW1lbnRUeXBlO1xyXG4gICAgKGZ1bmN0aW9uIChQc2V1ZG9FbGVtZW50VHlwZSkge1xyXG4gICAgICAgIFBzZXVkb0VsZW1lbnRUeXBlW1BzZXVkb0VsZW1lbnRUeXBlW1wiQkVGT1JFXCJdID0gMF0gPSBcIkJFRk9SRVwiO1xyXG4gICAgICAgIFBzZXVkb0VsZW1lbnRUeXBlW1BzZXVkb0VsZW1lbnRUeXBlW1wiQUZURVJcIl0gPSAxXSA9IFwiQUZURVJcIjtcclxuICAgIH0pKFBzZXVkb0VsZW1lbnRUeXBlIHx8IChQc2V1ZG9FbGVtZW50VHlwZSA9IHt9KSk7XHJcbiAgICB2YXIgY3JlYXRlSUZyYW1lQ29udGFpbmVyID0gZnVuY3Rpb24gKG93bmVyRG9jdW1lbnQsIGJvdW5kcykge1xyXG4gICAgICAgIHZhciBjbG9uZUlmcmFtZUNvbnRhaW5lciA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XHJcbiAgICAgICAgY2xvbmVJZnJhbWVDb250YWluZXIuY2xhc3NOYW1lID0gJ2h0bWwyY2FudmFzLWNvbnRhaW5lcic7XHJcbiAgICAgICAgY2xvbmVJZnJhbWVDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xyXG4gICAgICAgIGNsb25lSWZyYW1lQ29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcclxuICAgICAgICBjbG9uZUlmcmFtZUNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gJy0xMDAwMHB4JztcclxuICAgICAgICBjbG9uZUlmcmFtZUNvbnRhaW5lci5zdHlsZS50b3AgPSAnMHB4JztcclxuICAgICAgICBjbG9uZUlmcmFtZUNvbnRhaW5lci5zdHlsZS5ib3JkZXIgPSAnMCc7XHJcbiAgICAgICAgY2xvbmVJZnJhbWVDb250YWluZXIud2lkdGggPSBib3VuZHMud2lkdGgudG9TdHJpbmcoKTtcclxuICAgICAgICBjbG9uZUlmcmFtZUNvbnRhaW5lci5oZWlnaHQgPSBib3VuZHMuaGVpZ2h0LnRvU3RyaW5nKCk7XHJcbiAgICAgICAgY2xvbmVJZnJhbWVDb250YWluZXIuc2Nyb2xsaW5nID0gJ25vJzsgLy8gaW9zIHdvbid0IHNjcm9sbCB3aXRob3V0IGl0XHJcbiAgICAgICAgY2xvbmVJZnJhbWVDb250YWluZXIuc2V0QXR0cmlidXRlKElHTk9SRV9BVFRSSUJVVEUsICd0cnVlJyk7XHJcbiAgICAgICAgb3duZXJEb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNsb25lSWZyYW1lQ29udGFpbmVyKTtcclxuICAgICAgICByZXR1cm4gY2xvbmVJZnJhbWVDb250YWluZXI7XHJcbiAgICB9O1xyXG4gICAgdmFyIGlmcmFtZUxvYWRlciA9IGZ1bmN0aW9uIChpZnJhbWUpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICB2YXIgY2xvbmVXaW5kb3cgPSBpZnJhbWUuY29udGVudFdpbmRvdztcclxuICAgICAgICAgICAgaWYgKCFjbG9uZVdpbmRvdykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChcIk5vIHdpbmRvdyBhc3NpZ25lZCBmb3IgaWZyYW1lXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBkb2N1bWVudENsb25lID0gY2xvbmVXaW5kb3cuZG9jdW1lbnQ7XHJcbiAgICAgICAgICAgIGNsb25lV2luZG93Lm9ubG9hZCA9IGlmcmFtZS5vbmxvYWQgPSBkb2N1bWVudENsb25lLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNsb25lV2luZG93Lm9ubG9hZCA9IGlmcmFtZS5vbmxvYWQgPSBkb2N1bWVudENsb25lLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50Q2xvbmUuYm9keS5jaGlsZE5vZGVzLmxlbmd0aCA+IDAgJiYgZG9jdW1lbnRDbG9uZS5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGlmcmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgNTApO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHZhciBjb3B5Q1NTU3R5bGVzID0gZnVuY3Rpb24gKHN0eWxlLCB0YXJnZXQpIHtcclxuICAgICAgICAvLyBFZGdlIGRvZXMgbm90IHByb3ZpZGUgdmFsdWUgZm9yIGNzc1RleHRcclxuICAgICAgICBmb3IgKHZhciBpID0gc3R5bGUubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gc3R5bGUuaXRlbShpKTtcclxuICAgICAgICAgICAgLy8gU2FmYXJpIHNob3dzIHBzZXVkb2VsZW1lbnRzIGlmIGNvbnRlbnQgaXMgc2V0XHJcbiAgICAgICAgICAgIGlmIChwcm9wZXJ0eSAhPT0gJ2NvbnRlbnQnKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuc3R5bGUuc2V0UHJvcGVydHkocHJvcGVydHksIHN0eWxlLmdldFByb3BlcnR5VmFsdWUocHJvcGVydHkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xyXG4gICAgfTtcclxuICAgIHZhciBzZXJpYWxpemVEb2N0eXBlID0gZnVuY3Rpb24gKGRvY3R5cGUpIHtcclxuICAgICAgICB2YXIgc3RyID0gJyc7XHJcbiAgICAgICAgaWYgKGRvY3R5cGUpIHtcclxuICAgICAgICAgICAgc3RyICs9ICc8IURPQ1RZUEUgJztcclxuICAgICAgICAgICAgaWYgKGRvY3R5cGUubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgc3RyICs9IGRvY3R5cGUubmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZG9jdHlwZS5pbnRlcm5hbFN1YnNldCkge1xyXG4gICAgICAgICAgICAgICAgc3RyICs9IGRvY3R5cGUuaW50ZXJuYWxTdWJzZXQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRvY3R5cGUucHVibGljSWQpIHtcclxuICAgICAgICAgICAgICAgIHN0ciArPSBcIlxcXCJcIiArIGRvY3R5cGUucHVibGljSWQgKyBcIlxcXCJcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZG9jdHlwZS5zeXN0ZW1JZCkge1xyXG4gICAgICAgICAgICAgICAgc3RyICs9IFwiXFxcIlwiICsgZG9jdHlwZS5zeXN0ZW1JZCArIFwiXFxcIlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN0ciArPSAnPic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdHI7XHJcbiAgICB9O1xyXG4gICAgdmFyIHJlc3RvcmVPd25lclNjcm9sbCA9IGZ1bmN0aW9uIChvd25lckRvY3VtZW50LCB4LCB5KSB7XHJcbiAgICAgICAgaWYgKG93bmVyRG9jdW1lbnQgJiZcclxuICAgICAgICAgICAgb3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyAmJlxyXG4gICAgICAgICAgICAoeCAhPT0gb3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5wYWdlWE9mZnNldCB8fCB5ICE9PSBvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LnBhZ2VZT2Zmc2V0KSkge1xyXG4gICAgICAgICAgICBvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LnNjcm9sbFRvKHgsIHkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgcmVzdG9yZU5vZGVTY3JvbGwgPSBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICB2YXIgZWxlbWVudCA9IF9hWzBdLCB4ID0gX2FbMV0sIHkgPSBfYVsyXTtcclxuICAgICAgICBlbGVtZW50LnNjcm9sbExlZnQgPSB4O1xyXG4gICAgICAgIGVsZW1lbnQuc2Nyb2xsVG9wID0geTtcclxuICAgIH07XHJcbiAgICB2YXIgUFNFVURPX0JFRk9SRSA9ICc6YmVmb3JlJztcclxuICAgIHZhciBQU0VVRE9fQUZURVIgPSAnOmFmdGVyJztcclxuICAgIHZhciBQU0VVRE9fSElERV9FTEVNRU5UX0NMQVNTX0JFRk9SRSA9ICdfX19odG1sMmNhbnZhc19fX3BzZXVkb2VsZW1lbnRfYmVmb3JlJztcclxuICAgIHZhciBQU0VVRE9fSElERV9FTEVNRU5UX0NMQVNTX0FGVEVSID0gJ19fX2h0bWwyY2FudmFzX19fcHNldWRvZWxlbWVudF9hZnRlcic7XHJcbiAgICB2YXIgUFNFVURPX0hJREVfRUxFTUVOVF9TVFlMRSA9IFwie1xcbiAgICBjb250ZW50OiBcXFwiXFxcIiAhaW1wb3J0YW50O1xcbiAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XFxufVwiO1xyXG4gICAgdmFyIGNyZWF0ZVBzZXVkb0hpZGVTdHlsZXMgPSBmdW5jdGlvbiAoYm9keSkge1xyXG4gICAgICAgIGNyZWF0ZVN0eWxlcyhib2R5LCBcIi5cIiArIFBTRVVET19ISURFX0VMRU1FTlRfQ0xBU1NfQkVGT1JFICsgUFNFVURPX0JFRk9SRSArIFBTRVVET19ISURFX0VMRU1FTlRfU1RZTEUgKyBcIlxcbiAgICAgICAgIC5cIiArIFBTRVVET19ISURFX0VMRU1FTlRfQ0xBU1NfQUZURVIgKyBQU0VVRE9fQUZURVIgKyBQU0VVRE9fSElERV9FTEVNRU5UX1NUWUxFKTtcclxuICAgIH07XHJcbiAgICB2YXIgY3JlYXRlU3R5bGVzID0gZnVuY3Rpb24gKGJvZHksIHN0eWxlcykge1xyXG4gICAgICAgIHZhciBkb2N1bWVudCA9IGJvZHkub3duZXJEb2N1bWVudDtcclxuICAgICAgICBpZiAoZG9jdW1lbnQpIHtcclxuICAgICAgICAgICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcclxuICAgICAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBzdHlsZXM7XHJcbiAgICAgICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQoc3R5bGUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIFBhdGhUeXBlO1xyXG4gICAgKGZ1bmN0aW9uIChQYXRoVHlwZSkge1xyXG4gICAgICAgIFBhdGhUeXBlW1BhdGhUeXBlW1wiVkVDVE9SXCJdID0gMF0gPSBcIlZFQ1RPUlwiO1xyXG4gICAgICAgIFBhdGhUeXBlW1BhdGhUeXBlW1wiQkVaSUVSX0NVUlZFXCJdID0gMV0gPSBcIkJFWklFUl9DVVJWRVwiO1xyXG4gICAgfSkoUGF0aFR5cGUgfHwgKFBhdGhUeXBlID0ge30pKTtcclxuICAgIHZhciBlcXVhbFBhdGggPSBmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgIGlmIChhLmxlbmd0aCA9PT0gYi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGEuc29tZShmdW5jdGlvbiAodiwgaSkgeyByZXR1cm4gdiA9PT0gYltpXTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgICB2YXIgdHJhbnNmb3JtUGF0aCA9IGZ1bmN0aW9uIChwYXRoLCBkZWx0YVgsIGRlbHRhWSwgZGVsdGFXLCBkZWx0YUgpIHtcclxuICAgICAgICByZXR1cm4gcGF0aC5tYXAoZnVuY3Rpb24gKHBvaW50LCBpbmRleCkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50LmFkZChkZWx0YVgsIGRlbHRhWSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50LmFkZChkZWx0YVggKyBkZWx0YVcsIGRlbHRhWSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50LmFkZChkZWx0YVggKyBkZWx0YVcsIGRlbHRhWSArIGRlbHRhSCk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50LmFkZChkZWx0YVgsIGRlbHRhWSArIGRlbHRhSCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHBvaW50O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgVmVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIFZlY3Rvcih4LCB5KSB7XHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFBhdGhUeXBlLlZFQ1RPUjtcclxuICAgICAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICB9XHJcbiAgICAgICAgVmVjdG9yLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZGVsdGFYLCBkZWx0YVkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IodGhpcy54ICsgZGVsdGFYLCB0aGlzLnkgKyBkZWx0YVkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFZlY3RvcjtcclxuICAgIH0oKSk7XHJcblxyXG4gICAgdmFyIGxlcnAgPSBmdW5jdGlvbiAoYSwgYiwgdCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKGEueCArIChiLnggLSBhLngpICogdCwgYS55ICsgKGIueSAtIGEueSkgKiB0KTtcclxuICAgIH07XHJcbiAgICB2YXIgQmV6aWVyQ3VydmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gQmV6aWVyQ3VydmUoc3RhcnQsIHN0YXJ0Q29udHJvbCwgZW5kQ29udHJvbCwgZW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IFBhdGhUeXBlLkJFWklFUl9DVVJWRTtcclxuICAgICAgICAgICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xyXG4gICAgICAgICAgICB0aGlzLnN0YXJ0Q29udHJvbCA9IHN0YXJ0Q29udHJvbDtcclxuICAgICAgICAgICAgdGhpcy5lbmRDb250cm9sID0gZW5kQ29udHJvbDtcclxuICAgICAgICAgICAgdGhpcy5lbmQgPSBlbmQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEJlemllckN1cnZlLnByb3RvdHlwZS5zdWJkaXZpZGUgPSBmdW5jdGlvbiAodCwgZmlyc3RIYWxmKSB7XHJcbiAgICAgICAgICAgIHZhciBhYiA9IGxlcnAodGhpcy5zdGFydCwgdGhpcy5zdGFydENvbnRyb2wsIHQpO1xyXG4gICAgICAgICAgICB2YXIgYmMgPSBsZXJwKHRoaXMuc3RhcnRDb250cm9sLCB0aGlzLmVuZENvbnRyb2wsIHQpO1xyXG4gICAgICAgICAgICB2YXIgY2QgPSBsZXJwKHRoaXMuZW5kQ29udHJvbCwgdGhpcy5lbmQsIHQpO1xyXG4gICAgICAgICAgICB2YXIgYWJiYyA9IGxlcnAoYWIsIGJjLCB0KTtcclxuICAgICAgICAgICAgdmFyIGJjY2QgPSBsZXJwKGJjLCBjZCwgdCk7XHJcbiAgICAgICAgICAgIHZhciBkZXN0ID0gbGVycChhYmJjLCBiY2NkLCB0KTtcclxuICAgICAgICAgICAgcmV0dXJuIGZpcnN0SGFsZiA/IG5ldyBCZXppZXJDdXJ2ZSh0aGlzLnN0YXJ0LCBhYiwgYWJiYywgZGVzdCkgOiBuZXcgQmV6aWVyQ3VydmUoZGVzdCwgYmNjZCwgY2QsIHRoaXMuZW5kKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEJlemllckN1cnZlLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZGVsdGFYLCBkZWx0YVkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBCZXppZXJDdXJ2ZSh0aGlzLnN0YXJ0LmFkZChkZWx0YVgsIGRlbHRhWSksIHRoaXMuc3RhcnRDb250cm9sLmFkZChkZWx0YVgsIGRlbHRhWSksIHRoaXMuZW5kQ29udHJvbC5hZGQoZGVsdGFYLCBkZWx0YVkpLCB0aGlzLmVuZC5hZGQoZGVsdGFYLCBkZWx0YVkpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIEJlemllckN1cnZlLnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEJlemllckN1cnZlKHRoaXMuZW5kLCB0aGlzLmVuZENvbnRyb2wsIHRoaXMuc3RhcnRDb250cm9sLCB0aGlzLnN0YXJ0KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBCZXppZXJDdXJ2ZTtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgaXNCZXppZXJDdXJ2ZSA9IGZ1bmN0aW9uIChwYXRoKSB7IHJldHVybiBwYXRoLnR5cGUgPT09IFBhdGhUeXBlLkJFWklFUl9DVVJWRTsgfTtcclxuXHJcbiAgICB2YXIgQm91bmRDdXJ2ZXMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gQm91bmRDdXJ2ZXMoZWxlbWVudCkge1xyXG4gICAgICAgICAgICB2YXIgc3R5bGVzID0gZWxlbWVudC5zdHlsZXM7XHJcbiAgICAgICAgICAgIHZhciBib3VuZHMgPSBlbGVtZW50LmJvdW5kcztcclxuICAgICAgICAgICAgdmFyIF9hID0gZ2V0QWJzb2x1dGVWYWx1ZUZvclR1cGxlKHN0eWxlcy5ib3JkZXJUb3BMZWZ0UmFkaXVzLCBib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHQpLCB0bGggPSBfYVswXSwgdGx2ID0gX2FbMV07XHJcbiAgICAgICAgICAgIHZhciBfYiA9IGdldEFic29sdXRlVmFsdWVGb3JUdXBsZShzdHlsZXMuYm9yZGVyVG9wUmlnaHRSYWRpdXMsIGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCksIHRyaCA9IF9iWzBdLCB0cnYgPSBfYlsxXTtcclxuICAgICAgICAgICAgdmFyIF9jID0gZ2V0QWJzb2x1dGVWYWx1ZUZvclR1cGxlKHN0eWxlcy5ib3JkZXJCb3R0b21SaWdodFJhZGl1cywgYm91bmRzLndpZHRoLCBib3VuZHMuaGVpZ2h0KSwgYnJoID0gX2NbMF0sIGJydiA9IF9jWzFdO1xyXG4gICAgICAgICAgICB2YXIgX2QgPSBnZXRBYnNvbHV0ZVZhbHVlRm9yVHVwbGUoc3R5bGVzLmJvcmRlckJvdHRvbUxlZnRSYWRpdXMsIGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCksIGJsaCA9IF9kWzBdLCBibHYgPSBfZFsxXTtcclxuICAgICAgICAgICAgdmFyIGZhY3RvcnMgPSBbXTtcclxuICAgICAgICAgICAgZmFjdG9ycy5wdXNoKCh0bGggKyB0cmgpIC8gYm91bmRzLndpZHRoKTtcclxuICAgICAgICAgICAgZmFjdG9ycy5wdXNoKChibGggKyBicmgpIC8gYm91bmRzLndpZHRoKTtcclxuICAgICAgICAgICAgZmFjdG9ycy5wdXNoKCh0bHYgKyBibHYpIC8gYm91bmRzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIGZhY3RvcnMucHVzaCgodHJ2ICsgYnJ2KSAvIGJvdW5kcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICB2YXIgbWF4RmFjdG9yID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgZmFjdG9ycyk7XHJcbiAgICAgICAgICAgIGlmIChtYXhGYWN0b3IgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICB0bGggLz0gbWF4RmFjdG9yO1xyXG4gICAgICAgICAgICAgICAgdGx2IC89IG1heEZhY3RvcjtcclxuICAgICAgICAgICAgICAgIHRyaCAvPSBtYXhGYWN0b3I7XHJcbiAgICAgICAgICAgICAgICB0cnYgLz0gbWF4RmFjdG9yO1xyXG4gICAgICAgICAgICAgICAgYnJoIC89IG1heEZhY3RvcjtcclxuICAgICAgICAgICAgICAgIGJydiAvPSBtYXhGYWN0b3I7XHJcbiAgICAgICAgICAgICAgICBibGggLz0gbWF4RmFjdG9yO1xyXG4gICAgICAgICAgICAgICAgYmx2IC89IG1heEZhY3RvcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgdG9wV2lkdGggPSBib3VuZHMud2lkdGggLSB0cmg7XHJcbiAgICAgICAgICAgIHZhciByaWdodEhlaWdodCA9IGJvdW5kcy5oZWlnaHQgLSBicnY7XHJcbiAgICAgICAgICAgIHZhciBib3R0b21XaWR0aCA9IGJvdW5kcy53aWR0aCAtIGJyaDtcclxuICAgICAgICAgICAgdmFyIGxlZnRIZWlnaHQgPSBib3VuZHMuaGVpZ2h0IC0gYmx2O1xyXG4gICAgICAgICAgICB2YXIgYm9yZGVyVG9wV2lkdGggPSBzdHlsZXMuYm9yZGVyVG9wV2lkdGg7XHJcbiAgICAgICAgICAgIHZhciBib3JkZXJSaWdodFdpZHRoID0gc3R5bGVzLmJvcmRlclJpZ2h0V2lkdGg7XHJcbiAgICAgICAgICAgIHZhciBib3JkZXJCb3R0b21XaWR0aCA9IHN0eWxlcy5ib3JkZXJCb3R0b21XaWR0aDtcclxuICAgICAgICAgICAgdmFyIGJvcmRlckxlZnRXaWR0aCA9IHN0eWxlcy5ib3JkZXJMZWZ0V2lkdGg7XHJcbiAgICAgICAgICAgIHZhciBwYWRkaW5nVG9wID0gZ2V0QWJzb2x1dGVWYWx1ZShzdHlsZXMucGFkZGluZ1RvcCwgZWxlbWVudC5ib3VuZHMud2lkdGgpO1xyXG4gICAgICAgICAgICB2YXIgcGFkZGluZ1JpZ2h0ID0gZ2V0QWJzb2x1dGVWYWx1ZShzdHlsZXMucGFkZGluZ1JpZ2h0LCBlbGVtZW50LmJvdW5kcy53aWR0aCk7XHJcbiAgICAgICAgICAgIHZhciBwYWRkaW5nQm90dG9tID0gZ2V0QWJzb2x1dGVWYWx1ZShzdHlsZXMucGFkZGluZ0JvdHRvbSwgZWxlbWVudC5ib3VuZHMud2lkdGgpO1xyXG4gICAgICAgICAgICB2YXIgcGFkZGluZ0xlZnQgPSBnZXRBYnNvbHV0ZVZhbHVlKHN0eWxlcy5wYWRkaW5nTGVmdCwgZWxlbWVudC5ib3VuZHMud2lkdGgpO1xyXG4gICAgICAgICAgICB0aGlzLnRvcExlZnRCb3JkZXJCb3ggPVxyXG4gICAgICAgICAgICAgICAgdGxoID4gMCB8fCB0bHYgPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgPyBnZXRDdXJ2ZVBvaW50cyhib3VuZHMubGVmdCwgYm91bmRzLnRvcCwgdGxoLCB0bHYsIENPUk5FUi5UT1BfTEVGVClcclxuICAgICAgICAgICAgICAgICAgICA6IG5ldyBWZWN0b3IoYm91bmRzLmxlZnQsIGJvdW5kcy50b3ApO1xyXG4gICAgICAgICAgICB0aGlzLnRvcFJpZ2h0Qm9yZGVyQm94ID1cclxuICAgICAgICAgICAgICAgIHRyaCA+IDAgfHwgdHJ2ID4gMFxyXG4gICAgICAgICAgICAgICAgICAgID8gZ2V0Q3VydmVQb2ludHMoYm91bmRzLmxlZnQgKyB0b3BXaWR0aCwgYm91bmRzLnRvcCwgdHJoLCB0cnYsIENPUk5FUi5UT1BfUklHSFQpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBuZXcgVmVjdG9yKGJvdW5kcy5sZWZ0ICsgYm91bmRzLndpZHRoLCBib3VuZHMudG9wKTtcclxuICAgICAgICAgICAgdGhpcy5ib3R0b21SaWdodEJvcmRlckJveCA9XHJcbiAgICAgICAgICAgICAgICBicmggPiAwIHx8IGJydiA+IDBcclxuICAgICAgICAgICAgICAgICAgICA/IGdldEN1cnZlUG9pbnRzKGJvdW5kcy5sZWZ0ICsgYm90dG9tV2lkdGgsIGJvdW5kcy50b3AgKyByaWdodEhlaWdodCwgYnJoLCBicnYsIENPUk5FUi5CT1RUT01fUklHSFQpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBuZXcgVmVjdG9yKGJvdW5kcy5sZWZ0ICsgYm91bmRzLndpZHRoLCBib3VuZHMudG9wICsgYm91bmRzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMuYm90dG9tTGVmdEJvcmRlckJveCA9XHJcbiAgICAgICAgICAgICAgICBibGggPiAwIHx8IGJsdiA+IDBcclxuICAgICAgICAgICAgICAgICAgICA/IGdldEN1cnZlUG9pbnRzKGJvdW5kcy5sZWZ0LCBib3VuZHMudG9wICsgbGVmdEhlaWdodCwgYmxoLCBibHYsIENPUk5FUi5CT1RUT01fTEVGVClcclxuICAgICAgICAgICAgICAgICAgICA6IG5ldyBWZWN0b3IoYm91bmRzLmxlZnQsIGJvdW5kcy50b3AgKyBib3VuZHMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgdGhpcy50b3BMZWZ0UGFkZGluZ0JveCA9XHJcbiAgICAgICAgICAgICAgICB0bGggPiAwIHx8IHRsdiA+IDBcclxuICAgICAgICAgICAgICAgICAgICA/IGdldEN1cnZlUG9pbnRzKGJvdW5kcy5sZWZ0ICsgYm9yZGVyTGVmdFdpZHRoLCBib3VuZHMudG9wICsgYm9yZGVyVG9wV2lkdGgsIE1hdGgubWF4KDAsIHRsaCAtIGJvcmRlckxlZnRXaWR0aCksIE1hdGgubWF4KDAsIHRsdiAtIGJvcmRlclRvcFdpZHRoKSwgQ09STkVSLlRPUF9MRUZUKVxyXG4gICAgICAgICAgICAgICAgICAgIDogbmV3IFZlY3Rvcihib3VuZHMubGVmdCArIGJvcmRlckxlZnRXaWR0aCwgYm91bmRzLnRvcCArIGJvcmRlclRvcFdpZHRoKTtcclxuICAgICAgICAgICAgdGhpcy50b3BSaWdodFBhZGRpbmdCb3ggPVxyXG4gICAgICAgICAgICAgICAgdHJoID4gMCB8fCB0cnYgPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgPyBnZXRDdXJ2ZVBvaW50cyhib3VuZHMubGVmdCArIE1hdGgubWluKHRvcFdpZHRoLCBib3VuZHMud2lkdGggKyBib3JkZXJMZWZ0V2lkdGgpLCBib3VuZHMudG9wICsgYm9yZGVyVG9wV2lkdGgsIHRvcFdpZHRoID4gYm91bmRzLndpZHRoICsgYm9yZGVyTGVmdFdpZHRoID8gMCA6IHRyaCAtIGJvcmRlckxlZnRXaWR0aCwgdHJ2IC0gYm9yZGVyVG9wV2lkdGgsIENPUk5FUi5UT1BfUklHSFQpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBuZXcgVmVjdG9yKGJvdW5kcy5sZWZ0ICsgYm91bmRzLndpZHRoIC0gYm9yZGVyUmlnaHRXaWR0aCwgYm91bmRzLnRvcCArIGJvcmRlclRvcFdpZHRoKTtcclxuICAgICAgICAgICAgdGhpcy5ib3R0b21SaWdodFBhZGRpbmdCb3ggPVxyXG4gICAgICAgICAgICAgICAgYnJoID4gMCB8fCBicnYgPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgPyBnZXRDdXJ2ZVBvaW50cyhib3VuZHMubGVmdCArIE1hdGgubWluKGJvdHRvbVdpZHRoLCBib3VuZHMud2lkdGggLSBib3JkZXJMZWZ0V2lkdGgpLCBib3VuZHMudG9wICsgTWF0aC5taW4ocmlnaHRIZWlnaHQsIGJvdW5kcy5oZWlnaHQgKyBib3JkZXJUb3BXaWR0aCksIE1hdGgubWF4KDAsIGJyaCAtIGJvcmRlclJpZ2h0V2lkdGgpLCBicnYgLSBib3JkZXJCb3R0b21XaWR0aCwgQ09STkVSLkJPVFRPTV9SSUdIVClcclxuICAgICAgICAgICAgICAgICAgICA6IG5ldyBWZWN0b3IoYm91bmRzLmxlZnQgKyBib3VuZHMud2lkdGggLSBib3JkZXJSaWdodFdpZHRoLCBib3VuZHMudG9wICsgYm91bmRzLmhlaWdodCAtIGJvcmRlckJvdHRvbVdpZHRoKTtcclxuICAgICAgICAgICAgdGhpcy5ib3R0b21MZWZ0UGFkZGluZ0JveCA9XHJcbiAgICAgICAgICAgICAgICBibGggPiAwIHx8IGJsdiA+IDBcclxuICAgICAgICAgICAgICAgICAgICA/IGdldEN1cnZlUG9pbnRzKGJvdW5kcy5sZWZ0ICsgYm9yZGVyTGVmdFdpZHRoLCBib3VuZHMudG9wICsgbGVmdEhlaWdodCwgTWF0aC5tYXgoMCwgYmxoIC0gYm9yZGVyTGVmdFdpZHRoKSwgYmx2IC0gYm9yZGVyQm90dG9tV2lkdGgsIENPUk5FUi5CT1RUT01fTEVGVClcclxuICAgICAgICAgICAgICAgICAgICA6IG5ldyBWZWN0b3IoYm91bmRzLmxlZnQgKyBib3JkZXJMZWZ0V2lkdGgsIGJvdW5kcy50b3AgKyBib3VuZHMuaGVpZ2h0IC0gYm9yZGVyQm90dG9tV2lkdGgpO1xyXG4gICAgICAgICAgICB0aGlzLnRvcExlZnRDb250ZW50Qm94ID1cclxuICAgICAgICAgICAgICAgIHRsaCA+IDAgfHwgdGx2ID4gMFxyXG4gICAgICAgICAgICAgICAgICAgID8gZ2V0Q3VydmVQb2ludHMoYm91bmRzLmxlZnQgKyBib3JkZXJMZWZ0V2lkdGggKyBwYWRkaW5nTGVmdCwgYm91bmRzLnRvcCArIGJvcmRlclRvcFdpZHRoICsgcGFkZGluZ1RvcCwgTWF0aC5tYXgoMCwgdGxoIC0gKGJvcmRlckxlZnRXaWR0aCArIHBhZGRpbmdMZWZ0KSksIE1hdGgubWF4KDAsIHRsdiAtIChib3JkZXJUb3BXaWR0aCArIHBhZGRpbmdUb3ApKSwgQ09STkVSLlRPUF9MRUZUKVxyXG4gICAgICAgICAgICAgICAgICAgIDogbmV3IFZlY3Rvcihib3VuZHMubGVmdCArIGJvcmRlckxlZnRXaWR0aCArIHBhZGRpbmdMZWZ0LCBib3VuZHMudG9wICsgYm9yZGVyVG9wV2lkdGggKyBwYWRkaW5nVG9wKTtcclxuICAgICAgICAgICAgdGhpcy50b3BSaWdodENvbnRlbnRCb3ggPVxyXG4gICAgICAgICAgICAgICAgdHJoID4gMCB8fCB0cnYgPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgPyBnZXRDdXJ2ZVBvaW50cyhib3VuZHMubGVmdCArIE1hdGgubWluKHRvcFdpZHRoLCBib3VuZHMud2lkdGggKyBib3JkZXJMZWZ0V2lkdGggKyBwYWRkaW5nTGVmdCksIGJvdW5kcy50b3AgKyBib3JkZXJUb3BXaWR0aCArIHBhZGRpbmdUb3AsIHRvcFdpZHRoID4gYm91bmRzLndpZHRoICsgYm9yZGVyTGVmdFdpZHRoICsgcGFkZGluZ0xlZnQgPyAwIDogdHJoIC0gYm9yZGVyTGVmdFdpZHRoICsgcGFkZGluZ0xlZnQsIHRydiAtIChib3JkZXJUb3BXaWR0aCArIHBhZGRpbmdUb3ApLCBDT1JORVIuVE9QX1JJR0hUKVxyXG4gICAgICAgICAgICAgICAgICAgIDogbmV3IFZlY3Rvcihib3VuZHMubGVmdCArIGJvdW5kcy53aWR0aCAtIChib3JkZXJSaWdodFdpZHRoICsgcGFkZGluZ1JpZ2h0KSwgYm91bmRzLnRvcCArIGJvcmRlclRvcFdpZHRoICsgcGFkZGluZ1RvcCk7XHJcbiAgICAgICAgICAgIHRoaXMuYm90dG9tUmlnaHRDb250ZW50Qm94ID1cclxuICAgICAgICAgICAgICAgIGJyaCA+IDAgfHwgYnJ2ID4gMFxyXG4gICAgICAgICAgICAgICAgICAgID8gZ2V0Q3VydmVQb2ludHMoYm91bmRzLmxlZnQgKyBNYXRoLm1pbihib3R0b21XaWR0aCwgYm91bmRzLndpZHRoIC0gKGJvcmRlckxlZnRXaWR0aCArIHBhZGRpbmdMZWZ0KSksIGJvdW5kcy50b3AgKyBNYXRoLm1pbihyaWdodEhlaWdodCwgYm91bmRzLmhlaWdodCArIGJvcmRlclRvcFdpZHRoICsgcGFkZGluZ1RvcCksIE1hdGgubWF4KDAsIGJyaCAtIChib3JkZXJSaWdodFdpZHRoICsgcGFkZGluZ1JpZ2h0KSksIGJydiAtIChib3JkZXJCb3R0b21XaWR0aCArIHBhZGRpbmdCb3R0b20pLCBDT1JORVIuQk9UVE9NX1JJR0hUKVxyXG4gICAgICAgICAgICAgICAgICAgIDogbmV3IFZlY3Rvcihib3VuZHMubGVmdCArIGJvdW5kcy53aWR0aCAtIChib3JkZXJSaWdodFdpZHRoICsgcGFkZGluZ1JpZ2h0KSwgYm91bmRzLnRvcCArIGJvdW5kcy5oZWlnaHQgLSAoYm9yZGVyQm90dG9tV2lkdGggKyBwYWRkaW5nQm90dG9tKSk7XHJcbiAgICAgICAgICAgIHRoaXMuYm90dG9tTGVmdENvbnRlbnRCb3ggPVxyXG4gICAgICAgICAgICAgICAgYmxoID4gMCB8fCBibHYgPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgPyBnZXRDdXJ2ZVBvaW50cyhib3VuZHMubGVmdCArIGJvcmRlckxlZnRXaWR0aCArIHBhZGRpbmdMZWZ0LCBib3VuZHMudG9wICsgbGVmdEhlaWdodCwgTWF0aC5tYXgoMCwgYmxoIC0gKGJvcmRlckxlZnRXaWR0aCArIHBhZGRpbmdMZWZ0KSksIGJsdiAtIChib3JkZXJCb3R0b21XaWR0aCArIHBhZGRpbmdCb3R0b20pLCBDT1JORVIuQk9UVE9NX0xFRlQpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBuZXcgVmVjdG9yKGJvdW5kcy5sZWZ0ICsgYm9yZGVyTGVmdFdpZHRoICsgcGFkZGluZ0xlZnQsIGJvdW5kcy50b3AgKyBib3VuZHMuaGVpZ2h0IC0gKGJvcmRlckJvdHRvbVdpZHRoICsgcGFkZGluZ0JvdHRvbSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gQm91bmRDdXJ2ZXM7XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIENPUk5FUjtcclxuICAgIChmdW5jdGlvbiAoQ09STkVSKSB7XHJcbiAgICAgICAgQ09STkVSW0NPUk5FUltcIlRPUF9MRUZUXCJdID0gMF0gPSBcIlRPUF9MRUZUXCI7XHJcbiAgICAgICAgQ09STkVSW0NPUk5FUltcIlRPUF9SSUdIVFwiXSA9IDFdID0gXCJUT1BfUklHSFRcIjtcclxuICAgICAgICBDT1JORVJbQ09STkVSW1wiQk9UVE9NX1JJR0hUXCJdID0gMl0gPSBcIkJPVFRPTV9SSUdIVFwiO1xyXG4gICAgICAgIENPUk5FUltDT1JORVJbXCJCT1RUT01fTEVGVFwiXSA9IDNdID0gXCJCT1RUT01fTEVGVFwiO1xyXG4gICAgfSkoQ09STkVSIHx8IChDT1JORVIgPSB7fSkpO1xyXG4gICAgdmFyIGdldEN1cnZlUG9pbnRzID0gZnVuY3Rpb24gKHgsIHksIHIxLCByMiwgcG9zaXRpb24pIHtcclxuICAgICAgICB2YXIga2FwcGEgPSA0ICogKChNYXRoLnNxcnQoMikgLSAxKSAvIDMpO1xyXG4gICAgICAgIHZhciBveCA9IHIxICoga2FwcGE7IC8vIGNvbnRyb2wgcG9pbnQgb2Zmc2V0IGhvcml6b250YWxcclxuICAgICAgICB2YXIgb3kgPSByMiAqIGthcHBhOyAvLyBjb250cm9sIHBvaW50IG9mZnNldCB2ZXJ0aWNhbFxyXG4gICAgICAgIHZhciB4bSA9IHggKyByMTsgLy8geC1taWRkbGVcclxuICAgICAgICB2YXIgeW0gPSB5ICsgcjI7IC8vIHktbWlkZGxlXHJcbiAgICAgICAgc3dpdGNoIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlIENPUk5FUi5UT1BfTEVGVDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQmV6aWVyQ3VydmUobmV3IFZlY3Rvcih4LCB5bSksIG5ldyBWZWN0b3IoeCwgeW0gLSBveSksIG5ldyBWZWN0b3IoeG0gLSBveCwgeSksIG5ldyBWZWN0b3IoeG0sIHkpKTtcclxuICAgICAgICAgICAgY2FzZSBDT1JORVIuVE9QX1JJR0hUOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBCZXppZXJDdXJ2ZShuZXcgVmVjdG9yKHgsIHkpLCBuZXcgVmVjdG9yKHggKyBveCwgeSksIG5ldyBWZWN0b3IoeG0sIHltIC0gb3kpLCBuZXcgVmVjdG9yKHhtLCB5bSkpO1xyXG4gICAgICAgICAgICBjYXNlIENPUk5FUi5CT1RUT01fUklHSFQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJlemllckN1cnZlKG5ldyBWZWN0b3IoeG0sIHkpLCBuZXcgVmVjdG9yKHhtLCB5ICsgb3kpLCBuZXcgVmVjdG9yKHggKyBveCwgeW0pLCBuZXcgVmVjdG9yKHgsIHltKSk7XHJcbiAgICAgICAgICAgIGNhc2UgQ09STkVSLkJPVFRPTV9MRUZUOlxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBCZXppZXJDdXJ2ZShuZXcgVmVjdG9yKHhtLCB5bSksIG5ldyBWZWN0b3IoeG0gLSBveCwgeW0pLCBuZXcgVmVjdG9yKHgsIHkgKyBveSksIG5ldyBWZWN0b3IoeCwgeSkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgY2FsY3VsYXRlQm9yZGVyQm94UGF0aCA9IGZ1bmN0aW9uIChjdXJ2ZXMpIHtcclxuICAgICAgICByZXR1cm4gW2N1cnZlcy50b3BMZWZ0Qm9yZGVyQm94LCBjdXJ2ZXMudG9wUmlnaHRCb3JkZXJCb3gsIGN1cnZlcy5ib3R0b21SaWdodEJvcmRlckJveCwgY3VydmVzLmJvdHRvbUxlZnRCb3JkZXJCb3hdO1xyXG4gICAgfTtcclxuICAgIHZhciBjYWxjdWxhdGVDb250ZW50Qm94UGF0aCA9IGZ1bmN0aW9uIChjdXJ2ZXMpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICBjdXJ2ZXMudG9wTGVmdENvbnRlbnRCb3gsXHJcbiAgICAgICAgICAgIGN1cnZlcy50b3BSaWdodENvbnRlbnRCb3gsXHJcbiAgICAgICAgICAgIGN1cnZlcy5ib3R0b21SaWdodENvbnRlbnRCb3gsXHJcbiAgICAgICAgICAgIGN1cnZlcy5ib3R0b21MZWZ0Q29udGVudEJveFxyXG4gICAgICAgIF07XHJcbiAgICB9O1xyXG4gICAgdmFyIGNhbGN1bGF0ZVBhZGRpbmdCb3hQYXRoID0gZnVuY3Rpb24gKGN1cnZlcykge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIGN1cnZlcy50b3BMZWZ0UGFkZGluZ0JveCxcclxuICAgICAgICAgICAgY3VydmVzLnRvcFJpZ2h0UGFkZGluZ0JveCxcclxuICAgICAgICAgICAgY3VydmVzLmJvdHRvbVJpZ2h0UGFkZGluZ0JveCxcclxuICAgICAgICAgICAgY3VydmVzLmJvdHRvbUxlZnRQYWRkaW5nQm94XHJcbiAgICAgICAgXTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIFRyYW5zZm9ybUVmZmVjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBUcmFuc2Zvcm1FZmZlY3Qob2Zmc2V0WCwgb2Zmc2V0WSwgbWF0cml4KSB7XHJcbiAgICAgICAgICAgIHRoaXMudHlwZSA9IDAgLyogVFJBTlNGT1JNICovO1xyXG4gICAgICAgICAgICB0aGlzLm9mZnNldFggPSBvZmZzZXRYO1xyXG4gICAgICAgICAgICB0aGlzLm9mZnNldFkgPSBvZmZzZXRZO1xyXG4gICAgICAgICAgICB0aGlzLm1hdHJpeCA9IG1hdHJpeDtcclxuICAgICAgICAgICAgdGhpcy50YXJnZXQgPSAyIC8qIEJBQ0tHUk9VTkRfQk9SREVSUyAqLyB8IDQgLyogQ09OVEVOVCAqLztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFRyYW5zZm9ybUVmZmVjdDtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgQ2xpcEVmZmVjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBDbGlwRWZmZWN0KHBhdGgsIHRhcmdldCkge1xyXG4gICAgICAgICAgICB0aGlzLnR5cGUgPSAxIC8qIENMSVAgKi87XHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgICAgICAgICB0aGlzLnBhdGggPSBwYXRoO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gQ2xpcEVmZmVjdDtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgaXNUcmFuc2Zvcm1FZmZlY3QgPSBmdW5jdGlvbiAoZWZmZWN0KSB7XHJcbiAgICAgICAgcmV0dXJuIGVmZmVjdC50eXBlID09PSAwIC8qIFRSQU5TRk9STSAqLztcclxuICAgIH07XHJcbiAgICB2YXIgaXNDbGlwRWZmZWN0ID0gZnVuY3Rpb24gKGVmZmVjdCkgeyByZXR1cm4gZWZmZWN0LnR5cGUgPT09IDEgLyogQ0xJUCAqLzsgfTtcclxuXHJcbiAgICB2YXIgU3RhY2tpbmdDb250ZXh0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIFN0YWNraW5nQ29udGV4dChjb250YWluZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gY29udGFpbmVyO1xyXG4gICAgICAgICAgICB0aGlzLmlubGluZUxldmVsID0gW107XHJcbiAgICAgICAgICAgIHRoaXMubm9uSW5saW5lTGV2ZWwgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5uZWdhdGl2ZVpJbmRleCA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLnplcm9PckF1dG9aSW5kZXhPclRyYW5zZm9ybWVkT3JPcGFjaXR5ID0gW107XHJcbiAgICAgICAgICAgIHRoaXMucG9zaXRpdmVaSW5kZXggPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5ub25Qb3NpdGlvbmVkRmxvYXRzID0gW107XHJcbiAgICAgICAgICAgIHRoaXMubm9uUG9zaXRpb25lZElubGluZUxldmVsID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBTdGFja2luZ0NvbnRleHQ7XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIEVsZW1lbnRQYWludCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBFbGVtZW50UGFpbnQoZWxlbWVudCwgcGFyZW50U3RhY2spIHtcclxuICAgICAgICAgICAgdGhpcy5jb250YWluZXIgPSBlbGVtZW50O1xyXG4gICAgICAgICAgICB0aGlzLmVmZmVjdHMgPSBwYXJlbnRTdGFjay5zbGljZSgwKTtcclxuICAgICAgICAgICAgdGhpcy5jdXJ2ZXMgPSBuZXcgQm91bmRDdXJ2ZXMoZWxlbWVudCk7XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50LnN0eWxlcy50cmFuc2Zvcm0gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBvZmZzZXRYID0gZWxlbWVudC5ib3VuZHMubGVmdCArIGVsZW1lbnQuc3R5bGVzLnRyYW5zZm9ybU9yaWdpblswXS5udW1iZXI7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0WSA9IGVsZW1lbnQuYm91bmRzLnRvcCArIGVsZW1lbnQuc3R5bGVzLnRyYW5zZm9ybU9yaWdpblsxXS5udW1iZXI7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWF0cml4ID0gZWxlbWVudC5zdHlsZXMudHJhbnNmb3JtO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lZmZlY3RzLnB1c2gobmV3IFRyYW5zZm9ybUVmZmVjdChvZmZzZXRYLCBvZmZzZXRZLCBtYXRyaXgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5zdHlsZXMub3ZlcmZsb3dYICE9PSBPVkVSRkxPVy5WSVNJQkxFKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYm9yZGVyQm94ID0gY2FsY3VsYXRlQm9yZGVyQm94UGF0aCh0aGlzLmN1cnZlcyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFkZGluZ0JveCA9IGNhbGN1bGF0ZVBhZGRpbmdCb3hQYXRoKHRoaXMuY3VydmVzKTtcclxuICAgICAgICAgICAgICAgIGlmIChlcXVhbFBhdGgoYm9yZGVyQm94LCBwYWRkaW5nQm94KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWZmZWN0cy5wdXNoKG5ldyBDbGlwRWZmZWN0KGJvcmRlckJveCwgMiAvKiBCQUNLR1JPVU5EX0JPUkRFUlMgKi8gfCA0IC8qIENPTlRFTlQgKi8pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWZmZWN0cy5wdXNoKG5ldyBDbGlwRWZmZWN0KGJvcmRlckJveCwgMiAvKiBCQUNLR1JPVU5EX0JPUkRFUlMgKi8pKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVmZmVjdHMucHVzaChuZXcgQ2xpcEVmZmVjdChwYWRkaW5nQm94LCA0IC8qIENPTlRFTlQgKi8pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBFbGVtZW50UGFpbnQucHJvdG90eXBlLmdldFBhcmVudEVmZmVjdHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBlZmZlY3RzID0gdGhpcy5lZmZlY3RzLnNsaWNlKDApO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb250YWluZXIuc3R5bGVzLm92ZXJmbG93WCAhPT0gT1ZFUkZMT1cuVklTSUJMRSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGJvcmRlckJveCA9IGNhbGN1bGF0ZUJvcmRlckJveFBhdGgodGhpcy5jdXJ2ZXMpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhZGRpbmdCb3ggPSBjYWxjdWxhdGVQYWRkaW5nQm94UGF0aCh0aGlzLmN1cnZlcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWVxdWFsUGF0aChib3JkZXJCb3gsIHBhZGRpbmdCb3gpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5wdXNoKG5ldyBDbGlwRWZmZWN0KHBhZGRpbmdCb3gsIDIgLyogQkFDS0dST1VORF9CT1JERVJTICovIHwgNCAvKiBDT05URU5UICovKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGVmZmVjdHM7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gRWxlbWVudFBhaW50O1xyXG4gICAgfSgpKTtcclxuICAgIHZhciBwYXJzZVN0YWNrVHJlZSA9IGZ1bmN0aW9uIChwYXJlbnQsIHN0YWNraW5nQ29udGV4dCwgcmVhbFN0YWNraW5nQ29udGV4dCwgbGlzdEl0ZW1zKSB7XHJcbiAgICAgICAgcGFyZW50LmNvbnRhaW5lci5lbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xyXG4gICAgICAgICAgICB2YXIgdHJlYXRBc1JlYWxTdGFja2luZ0NvbnRleHQgPSBjb250YWlucyhjaGlsZC5mbGFncywgNCAvKiBDUkVBVEVTX1JFQUxfU1RBQ0tJTkdfQ09OVEVYVCAqLyk7XHJcbiAgICAgICAgICAgIHZhciBjcmVhdGVzU3RhY2tpbmdDb250ZXh0ID0gY29udGFpbnMoY2hpbGQuZmxhZ3MsIDIgLyogQ1JFQVRFU19TVEFDS0lOR19DT05URVhUICovKTtcclxuICAgICAgICAgICAgdmFyIHBhaW50Q29udGFpbmVyID0gbmV3IEVsZW1lbnRQYWludChjaGlsZCwgcGFyZW50LmdldFBhcmVudEVmZmVjdHMoKSk7XHJcbiAgICAgICAgICAgIGlmIChjb250YWlucyhjaGlsZC5zdHlsZXMuZGlzcGxheSwgMjA0OCAvKiBMSVNUX0lURU0gKi8pKSB7XHJcbiAgICAgICAgICAgICAgICBsaXN0SXRlbXMucHVzaChwYWludENvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGxpc3RPd25lckl0ZW1zID0gY29udGFpbnMoY2hpbGQuZmxhZ3MsIDggLyogSVNfTElTVF9PV05FUiAqLykgPyBbXSA6IGxpc3RJdGVtcztcclxuICAgICAgICAgICAgaWYgKHRyZWF0QXNSZWFsU3RhY2tpbmdDb250ZXh0IHx8IGNyZWF0ZXNTdGFja2luZ0NvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRTdGFjayA9IHRyZWF0QXNSZWFsU3RhY2tpbmdDb250ZXh0IHx8IGNoaWxkLnN0eWxlcy5pc1Bvc2l0aW9uZWQoKSA/IHJlYWxTdGFja2luZ0NvbnRleHQgOiBzdGFja2luZ0NvbnRleHQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RhY2sgPSBuZXcgU3RhY2tpbmdDb250ZXh0KHBhaW50Q29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5zdHlsZXMuaXNQb3NpdGlvbmVkKCkgfHwgY2hpbGQuc3R5bGVzLm9wYWNpdHkgPCAxIHx8IGNoaWxkLnN0eWxlcy5pc1RyYW5zZm9ybWVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb3JkZXJfMSA9IGNoaWxkLnN0eWxlcy56SW5kZXgub3JkZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9yZGVyXzEgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleF8xID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50U3RhY2submVnYXRpdmVaSW5kZXguc29tZShmdW5jdGlvbiAoY3VycmVudCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9yZGVyXzEgPiBjdXJyZW50LmVsZW1lbnQuY29udGFpbmVyLnN0eWxlcy56SW5kZXgub3JkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleF8xID0gaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmRleF8xID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50U3RhY2submVnYXRpdmVaSW5kZXguc3BsaWNlKGluZGV4XzEsIDAsIHN0YWNrKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAob3JkZXJfMSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4XzIgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRTdGFjay5wb3NpdGl2ZVpJbmRleC5zb21lKGZ1bmN0aW9uIChjdXJyZW50LCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JkZXJfMSA+IGN1cnJlbnQuZWxlbWVudC5jb250YWluZXIuc3R5bGVzLnpJbmRleC5vcmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4XzIgPSBpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpbmRleF8yID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50U3RhY2sucG9zaXRpdmVaSW5kZXguc3BsaWNlKGluZGV4XzIsIDAsIHN0YWNrKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudFN0YWNrLnplcm9PckF1dG9aSW5kZXhPclRyYW5zZm9ybWVkT3JPcGFjaXR5LnB1c2goc3RhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC5zdHlsZXMuaXNGbG9hdGluZygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudFN0YWNrLm5vblBvc2l0aW9uZWRGbG9hdHMucHVzaChzdGFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRTdGFjay5ub25Qb3NpdGlvbmVkSW5saW5lTGV2ZWwucHVzaChzdGFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcGFyc2VTdGFja1RyZWUocGFpbnRDb250YWluZXIsIHN0YWNrLCB0cmVhdEFzUmVhbFN0YWNraW5nQ29udGV4dCA/IHN0YWNrIDogcmVhbFN0YWNraW5nQ29udGV4dCwgbGlzdE93bmVySXRlbXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLnN0eWxlcy5pc0lubGluZUxldmVsKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFja2luZ0NvbnRleHQuaW5saW5lTGV2ZWwucHVzaChwYWludENvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFja2luZ0NvbnRleHQubm9uSW5saW5lTGV2ZWwucHVzaChwYWludENvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBwYXJzZVN0YWNrVHJlZShwYWludENvbnRhaW5lciwgc3RhY2tpbmdDb250ZXh0LCByZWFsU3RhY2tpbmdDb250ZXh0LCBsaXN0T3duZXJJdGVtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvbnRhaW5zKGNoaWxkLmZsYWdzLCA4IC8qIElTX0xJU1RfT1dORVIgKi8pKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzTGlzdEl0ZW1zKGNoaWxkLCBsaXN0T3duZXJJdGVtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICB2YXIgcHJvY2Vzc0xpc3RJdGVtcyA9IGZ1bmN0aW9uIChvd25lciwgZWxlbWVudHMpIHtcclxuICAgICAgICB2YXIgbnVtYmVyaW5nID0gb3duZXIgaW5zdGFuY2VvZiBPTEVsZW1lbnRDb250YWluZXIgPyBvd25lci5zdGFydCA6IDE7XHJcbiAgICAgICAgdmFyIHJldmVyc2VkID0gb3duZXIgaW5zdGFuY2VvZiBPTEVsZW1lbnRDb250YWluZXIgPyBvd25lci5yZXZlcnNlZCA6IGZhbHNlO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSBlbGVtZW50c1tpXTtcclxuICAgICAgICAgICAgaWYgKGl0ZW0uY29udGFpbmVyIGluc3RhbmNlb2YgTElFbGVtZW50Q29udGFpbmVyICYmXHJcbiAgICAgICAgICAgICAgICB0eXBlb2YgaXRlbS5jb250YWluZXIudmFsdWUgPT09ICdudW1iZXInICYmXHJcbiAgICAgICAgICAgICAgICBpdGVtLmNvbnRhaW5lci52YWx1ZSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgbnVtYmVyaW5nID0gaXRlbS5jb250YWluZXIudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaXRlbS5saXN0VmFsdWUgPSBjcmVhdGVDb3VudGVyVGV4dChudW1iZXJpbmcsIGl0ZW0uY29udGFpbmVyLnN0eWxlcy5saXN0U3R5bGVUeXBlLCB0cnVlKTtcclxuICAgICAgICAgICAgbnVtYmVyaW5nICs9IHJldmVyc2VkID8gLTEgOiAxO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgcGFyc2VTdGFja2luZ0NvbnRleHRzID0gZnVuY3Rpb24gKGNvbnRhaW5lcikge1xyXG4gICAgICAgIHZhciBwYWludENvbnRhaW5lciA9IG5ldyBFbGVtZW50UGFpbnQoY29udGFpbmVyLCBbXSk7XHJcbiAgICAgICAgdmFyIHJvb3QgPSBuZXcgU3RhY2tpbmdDb250ZXh0KHBhaW50Q29udGFpbmVyKTtcclxuICAgICAgICB2YXIgbGlzdEl0ZW1zID0gW107XHJcbiAgICAgICAgcGFyc2VTdGFja1RyZWUocGFpbnRDb250YWluZXIsIHJvb3QsIHJvb3QsIGxpc3RJdGVtcyk7XHJcbiAgICAgICAgcHJvY2Vzc0xpc3RJdGVtcyhwYWludENvbnRhaW5lci5jb250YWluZXIsIGxpc3RJdGVtcyk7XHJcbiAgICAgICAgcmV0dXJuIHJvb3Q7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBwYXJzZVBhdGhGb3JCb3JkZXIgPSBmdW5jdGlvbiAoY3VydmVzLCBib3JkZXJTaWRlKSB7XHJcbiAgICAgICAgc3dpdGNoIChib3JkZXJTaWRlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVQYXRoRnJvbUN1cnZlcyhjdXJ2ZXMudG9wTGVmdEJvcmRlckJveCwgY3VydmVzLnRvcExlZnRQYWRkaW5nQm94LCBjdXJ2ZXMudG9wUmlnaHRCb3JkZXJCb3gsIGN1cnZlcy50b3BSaWdodFBhZGRpbmdCb3gpO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlUGF0aEZyb21DdXJ2ZXMoY3VydmVzLnRvcFJpZ2h0Qm9yZGVyQm94LCBjdXJ2ZXMudG9wUmlnaHRQYWRkaW5nQm94LCBjdXJ2ZXMuYm90dG9tUmlnaHRCb3JkZXJCb3gsIGN1cnZlcy5ib3R0b21SaWdodFBhZGRpbmdCb3gpO1xyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlUGF0aEZyb21DdXJ2ZXMoY3VydmVzLmJvdHRvbVJpZ2h0Qm9yZGVyQm94LCBjdXJ2ZXMuYm90dG9tUmlnaHRQYWRkaW5nQm94LCBjdXJ2ZXMuYm90dG9tTGVmdEJvcmRlckJveCwgY3VydmVzLmJvdHRvbUxlZnRQYWRkaW5nQm94KTtcclxuICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVBhdGhGcm9tQ3VydmVzKGN1cnZlcy5ib3R0b21MZWZ0Qm9yZGVyQm94LCBjdXJ2ZXMuYm90dG9tTGVmdFBhZGRpbmdCb3gsIGN1cnZlcy50b3BMZWZ0Qm9yZGVyQm94LCBjdXJ2ZXMudG9wTGVmdFBhZGRpbmdCb3gpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB2YXIgY3JlYXRlUGF0aEZyb21DdXJ2ZXMgPSBmdW5jdGlvbiAob3V0ZXIxLCBpbm5lcjEsIG91dGVyMiwgaW5uZXIyKSB7XHJcbiAgICAgICAgdmFyIHBhdGggPSBbXTtcclxuICAgICAgICBpZiAoaXNCZXppZXJDdXJ2ZShvdXRlcjEpKSB7XHJcbiAgICAgICAgICAgIHBhdGgucHVzaChvdXRlcjEuc3ViZGl2aWRlKDAuNSwgZmFsc2UpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBhdGgucHVzaChvdXRlcjEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNCZXppZXJDdXJ2ZShvdXRlcjIpKSB7XHJcbiAgICAgICAgICAgIHBhdGgucHVzaChvdXRlcjIuc3ViZGl2aWRlKDAuNSwgdHJ1ZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGF0aC5wdXNoKG91dGVyMik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0JlemllckN1cnZlKGlubmVyMikpIHtcclxuICAgICAgICAgICAgcGF0aC5wdXNoKGlubmVyMi5zdWJkaXZpZGUoMC41LCB0cnVlKS5yZXZlcnNlKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGF0aC5wdXNoKGlubmVyMik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0JlemllckN1cnZlKGlubmVyMSkpIHtcclxuICAgICAgICAgICAgcGF0aC5wdXNoKGlubmVyMS5zdWJkaXZpZGUoMC41LCBmYWxzZSkucmV2ZXJzZSgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBhdGgucHVzaChpbm5lcjEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGF0aDtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHBhZGRpbmdCb3ggPSBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgIHZhciBib3VuZHMgPSBlbGVtZW50LmJvdW5kcztcclxuICAgICAgICB2YXIgc3R5bGVzID0gZWxlbWVudC5zdHlsZXM7XHJcbiAgICAgICAgcmV0dXJuIGJvdW5kcy5hZGQoc3R5bGVzLmJvcmRlckxlZnRXaWR0aCwgc3R5bGVzLmJvcmRlclRvcFdpZHRoLCAtKHN0eWxlcy5ib3JkZXJSaWdodFdpZHRoICsgc3R5bGVzLmJvcmRlckxlZnRXaWR0aCksIC0oc3R5bGVzLmJvcmRlclRvcFdpZHRoICsgc3R5bGVzLmJvcmRlckJvdHRvbVdpZHRoKSk7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNvbnRlbnRCb3ggPSBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgIHZhciBzdHlsZXMgPSBlbGVtZW50LnN0eWxlcztcclxuICAgICAgICB2YXIgYm91bmRzID0gZWxlbWVudC5ib3VuZHM7XHJcbiAgICAgICAgdmFyIHBhZGRpbmdMZWZ0ID0gZ2V0QWJzb2x1dGVWYWx1ZShzdHlsZXMucGFkZGluZ0xlZnQsIGJvdW5kcy53aWR0aCk7XHJcbiAgICAgICAgdmFyIHBhZGRpbmdSaWdodCA9IGdldEFic29sdXRlVmFsdWUoc3R5bGVzLnBhZGRpbmdSaWdodCwgYm91bmRzLndpZHRoKTtcclxuICAgICAgICB2YXIgcGFkZGluZ1RvcCA9IGdldEFic29sdXRlVmFsdWUoc3R5bGVzLnBhZGRpbmdUb3AsIGJvdW5kcy53aWR0aCk7XHJcbiAgICAgICAgdmFyIHBhZGRpbmdCb3R0b20gPSBnZXRBYnNvbHV0ZVZhbHVlKHN0eWxlcy5wYWRkaW5nQm90dG9tLCBib3VuZHMud2lkdGgpO1xyXG4gICAgICAgIHJldHVybiBib3VuZHMuYWRkKHBhZGRpbmdMZWZ0ICsgc3R5bGVzLmJvcmRlckxlZnRXaWR0aCwgcGFkZGluZ1RvcCArIHN0eWxlcy5ib3JkZXJUb3BXaWR0aCwgLShzdHlsZXMuYm9yZGVyUmlnaHRXaWR0aCArIHN0eWxlcy5ib3JkZXJMZWZ0V2lkdGggKyBwYWRkaW5nTGVmdCArIHBhZGRpbmdSaWdodCksIC0oc3R5bGVzLmJvcmRlclRvcFdpZHRoICsgc3R5bGVzLmJvcmRlckJvdHRvbVdpZHRoICsgcGFkZGluZ1RvcCArIHBhZGRpbmdCb3R0b20pKTtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGNhbGN1bGF0ZUJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEgPSBmdW5jdGlvbiAoYmFja2dyb3VuZE9yaWdpbiwgZWxlbWVudCkge1xyXG4gICAgICAgIGlmIChiYWNrZ3JvdW5kT3JpZ2luID09PSAwIC8qIEJPUkRFUl9CT1ggKi8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuYm91bmRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYmFja2dyb3VuZE9yaWdpbiA9PT0gMiAvKiBDT05URU5UX0JPWCAqLykge1xyXG4gICAgICAgICAgICByZXR1cm4gY29udGVudEJveChlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhZGRpbmdCb3goZWxlbWVudCk7XHJcbiAgICB9O1xyXG4gICAgdmFyIGNhbGN1bGF0ZUJhY2tncm91bmRQYWludGluZ0FyZWEgPSBmdW5jdGlvbiAoYmFja2dyb3VuZENsaXAsIGVsZW1lbnQpIHtcclxuICAgICAgICBpZiAoYmFja2dyb3VuZENsaXAgPT09IEJBQ0tHUk9VTkRfQ0xJUC5CT1JERVJfQk9YKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmJvdW5kcztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGJhY2tncm91bmRDbGlwID09PSBCQUNLR1JPVU5EX0NMSVAuQ09OVEVOVF9CT1gpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRCb3goZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwYWRkaW5nQm94KGVsZW1lbnQpO1xyXG4gICAgfTtcclxuICAgIHZhciBjYWxjdWxhdGVCYWNrZ3JvdW5kUmVuZGVyaW5nID0gZnVuY3Rpb24gKGNvbnRhaW5lciwgaW5kZXgsIGludHJpbnNpY1NpemUpIHtcclxuICAgICAgICB2YXIgYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYSA9IGNhbGN1bGF0ZUJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEoZ2V0QmFja2dyb3VuZFZhbHVlRm9ySW5kZXgoY29udGFpbmVyLnN0eWxlcy5iYWNrZ3JvdW5kT3JpZ2luLCBpbmRleCksIGNvbnRhaW5lcik7XHJcbiAgICAgICAgdmFyIGJhY2tncm91bmRQYWludGluZ0FyZWEgPSBjYWxjdWxhdGVCYWNrZ3JvdW5kUGFpbnRpbmdBcmVhKGdldEJhY2tncm91bmRWYWx1ZUZvckluZGV4KGNvbnRhaW5lci5zdHlsZXMuYmFja2dyb3VuZENsaXAsIGluZGV4KSwgY29udGFpbmVyKTtcclxuICAgICAgICB2YXIgYmFja2dyb3VuZEltYWdlU2l6ZSA9IGNhbGN1bGF0ZUJhY2tncm91bmRTaXplKGdldEJhY2tncm91bmRWYWx1ZUZvckluZGV4KGNvbnRhaW5lci5zdHlsZXMuYmFja2dyb3VuZFNpemUsIGluZGV4KSwgaW50cmluc2ljU2l6ZSwgYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYSk7XHJcbiAgICAgICAgdmFyIHNpemVXaWR0aCA9IGJhY2tncm91bmRJbWFnZVNpemVbMF0sIHNpemVIZWlnaHQgPSBiYWNrZ3JvdW5kSW1hZ2VTaXplWzFdO1xyXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IGdldEFic29sdXRlVmFsdWVGb3JUdXBsZShnZXRCYWNrZ3JvdW5kVmFsdWVGb3JJbmRleChjb250YWluZXIuc3R5bGVzLmJhY2tncm91bmRQb3NpdGlvbiwgaW5kZXgpLCBiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLndpZHRoIC0gc2l6ZVdpZHRoLCBiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmhlaWdodCAtIHNpemVIZWlnaHQpO1xyXG4gICAgICAgIHZhciBwYXRoID0gY2FsY3VsYXRlQmFja2dyb3VuZFJlcGVhdFBhdGgoZ2V0QmFja2dyb3VuZFZhbHVlRm9ySW5kZXgoY29udGFpbmVyLnN0eWxlcy5iYWNrZ3JvdW5kUmVwZWF0LCBpbmRleCksIHBvc2l0aW9uLCBiYWNrZ3JvdW5kSW1hZ2VTaXplLCBiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLCBiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhKTtcclxuICAgICAgICB2YXIgb2Zmc2V0WCA9IE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS5sZWZ0ICsgcG9zaXRpb25bMF0pO1xyXG4gICAgICAgIHZhciBvZmZzZXRZID0gTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLnRvcCArIHBvc2l0aW9uWzFdKTtcclxuICAgICAgICByZXR1cm4gW3BhdGgsIG9mZnNldFgsIG9mZnNldFksIHNpemVXaWR0aCwgc2l6ZUhlaWdodF07XHJcbiAgICB9O1xyXG4gICAgdmFyIGlzQXV0byA9IGZ1bmN0aW9uICh0b2tlbikgeyByZXR1cm4gaXNJZGVudFRva2VuKHRva2VuKSAmJiB0b2tlbi52YWx1ZSA9PT0gQkFDS0dST1VORF9TSVpFLkFVVE87IH07XHJcbiAgICB2YXIgaGFzSW50cmluc2ljVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcic7IH07XHJcbiAgICB2YXIgY2FsY3VsYXRlQmFja2dyb3VuZFNpemUgPSBmdW5jdGlvbiAoc2l6ZSwgX2EsIGJvdW5kcykge1xyXG4gICAgICAgIHZhciBpbnRyaW5zaWNXaWR0aCA9IF9hWzBdLCBpbnRyaW5zaWNIZWlnaHQgPSBfYVsxXSwgaW50cmluc2ljUHJvcG9ydGlvbiA9IF9hWzJdO1xyXG4gICAgICAgIHZhciBmaXJzdCA9IHNpemVbMF0sIHNlY29uZCA9IHNpemVbMV07XHJcbiAgICAgICAgaWYgKGlzTGVuZ3RoUGVyY2VudGFnZShmaXJzdCkgJiYgc2Vjb25kICYmIGlzTGVuZ3RoUGVyY2VudGFnZShzZWNvbmQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbZ2V0QWJzb2x1dGVWYWx1ZShmaXJzdCwgYm91bmRzLndpZHRoKSwgZ2V0QWJzb2x1dGVWYWx1ZShzZWNvbmQsIGJvdW5kcy5oZWlnaHQpXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGhhc0ludHJpbnNpY1Byb3BvcnRpb24gPSBoYXNJbnRyaW5zaWNWYWx1ZShpbnRyaW5zaWNQcm9wb3J0aW9uKTtcclxuICAgICAgICBpZiAoaXNJZGVudFRva2VuKGZpcnN0KSAmJiAoZmlyc3QudmFsdWUgPT09IEJBQ0tHUk9VTkRfU0laRS5DT05UQUlOIHx8IGZpcnN0LnZhbHVlID09PSBCQUNLR1JPVU5EX1NJWkUuQ09WRVIpKSB7XHJcbiAgICAgICAgICAgIGlmIChoYXNJbnRyaW5zaWNWYWx1ZShpbnRyaW5zaWNQcm9wb3J0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldFJhdGlvID0gYm91bmRzLndpZHRoIC8gYm91bmRzLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRSYXRpbyA8IGludHJpbnNpY1Byb3BvcnRpb24gIT09IChmaXJzdC52YWx1ZSA9PT0gQkFDS0dST1VORF9TSVpFLkNPVkVSKVxyXG4gICAgICAgICAgICAgICAgICAgID8gW2JvdW5kcy53aWR0aCwgYm91bmRzLndpZHRoIC8gaW50cmluc2ljUHJvcG9ydGlvbl1cclxuICAgICAgICAgICAgICAgICAgICA6IFtib3VuZHMuaGVpZ2h0ICogaW50cmluc2ljUHJvcG9ydGlvbiwgYm91bmRzLmhlaWdodF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFtib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHRdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaGFzSW50cmluc2ljV2lkdGggPSBoYXNJbnRyaW5zaWNWYWx1ZShpbnRyaW5zaWNXaWR0aCk7XHJcbiAgICAgICAgdmFyIGhhc0ludHJpbnNpY0hlaWdodCA9IGhhc0ludHJpbnNpY1ZhbHVlKGludHJpbnNpY0hlaWdodCk7XHJcbiAgICAgICAgdmFyIGhhc0ludHJpbnNpY0RpbWVuc2lvbnMgPSBoYXNJbnRyaW5zaWNXaWR0aCB8fCBoYXNJbnRyaW5zaWNIZWlnaHQ7XHJcbiAgICAgICAgLy8gSWYgdGhlIGJhY2tncm91bmQtc2l6ZSBpcyBhdXRvIG9yIGF1dG8gYXV0bzpcclxuICAgICAgICBpZiAoaXNBdXRvKGZpcnN0KSAmJiAoIXNlY29uZCB8fCBpc0F1dG8oc2Vjb25kKSkpIHtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIGltYWdlIGhhcyBib3RoIGhvcml6b250YWwgYW5kIHZlcnRpY2FsIGludHJpbnNpYyBkaW1lbnNpb25zLCBpdCdzIHJlbmRlcmVkIGF0IHRoYXQgc2l6ZS5cclxuICAgICAgICAgICAgaWYgKGhhc0ludHJpbnNpY1dpZHRoICYmIGhhc0ludHJpbnNpY0hlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtpbnRyaW5zaWNXaWR0aCwgaW50cmluc2ljSGVpZ2h0XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBJZiB0aGUgaW1hZ2UgaGFzIG5vIGludHJpbnNpYyBkaW1lbnNpb25zIGFuZCBoYXMgbm8gaW50cmluc2ljIHByb3BvcnRpb25zLFxyXG4gICAgICAgICAgICAvLyBpdCdzIHJlbmRlcmVkIGF0IHRoZSBzaXplIG9mIHRoZSBiYWNrZ3JvdW5kIHBvc2l0aW9uaW5nIGFyZWEuXHJcbiAgICAgICAgICAgIGlmICghaGFzSW50cmluc2ljUHJvcG9ydGlvbiAmJiAhaGFzSW50cmluc2ljRGltZW5zaW9ucykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHRdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFRPRE8gSWYgdGhlIGltYWdlIGhhcyBubyBpbnRyaW5zaWMgZGltZW5zaW9ucyBidXQgaGFzIGludHJpbnNpYyBwcm9wb3J0aW9ucywgaXQncyByZW5kZXJlZCBhcyBpZiBjb250YWluIGhhZCBiZWVuIHNwZWNpZmllZCBpbnN0ZWFkLlxyXG4gICAgICAgICAgICAvLyBJZiB0aGUgaW1hZ2UgaGFzIG9ubHkgb25lIGludHJpbnNpYyBkaW1lbnNpb24gYW5kIGhhcyBpbnRyaW5zaWMgcHJvcG9ydGlvbnMsIGl0J3MgcmVuZGVyZWQgYXQgdGhlIHNpemUgY29ycmVzcG9uZGluZyB0byB0aGF0IG9uZSBkaW1lbnNpb24uXHJcbiAgICAgICAgICAgIC8vIFRoZSBvdGhlciBkaW1lbnNpb24gaXMgY29tcHV0ZWQgdXNpbmcgdGhlIHNwZWNpZmllZCBkaW1lbnNpb24gYW5kIHRoZSBpbnRyaW5zaWMgcHJvcG9ydGlvbnMuXHJcbiAgICAgICAgICAgIGlmIChoYXNJbnRyaW5zaWNEaW1lbnNpb25zICYmIGhhc0ludHJpbnNpY1Byb3BvcnRpb24pIHtcclxuICAgICAgICAgICAgICAgIHZhciB3aWR0aF8xID0gaGFzSW50cmluc2ljV2lkdGhcclxuICAgICAgICAgICAgICAgICAgICA/IGludHJpbnNpY1dpZHRoXHJcbiAgICAgICAgICAgICAgICAgICAgOiBpbnRyaW5zaWNIZWlnaHQgKiBpbnRyaW5zaWNQcm9wb3J0aW9uO1xyXG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodF8xID0gaGFzSW50cmluc2ljSGVpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgPyBpbnRyaW5zaWNIZWlnaHRcclxuICAgICAgICAgICAgICAgICAgICA6IGludHJpbnNpY1dpZHRoIC8gaW50cmluc2ljUHJvcG9ydGlvbjtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbd2lkdGhfMSwgaGVpZ2h0XzFdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBpbWFnZSBoYXMgb25seSBvbmUgaW50cmluc2ljIGRpbWVuc2lvbiBidXQgaGFzIG5vIGludHJpbnNpYyBwcm9wb3J0aW9ucyxcclxuICAgICAgICAgICAgLy8gaXQncyByZW5kZXJlZCB1c2luZyB0aGUgc3BlY2lmaWVkIGRpbWVuc2lvbiBhbmQgdGhlIG90aGVyIGRpbWVuc2lvbiBvZiB0aGUgYmFja2dyb3VuZCBwb3NpdGlvbmluZyBhcmVhLlxyXG4gICAgICAgICAgICB2YXIgd2lkdGhfMiA9IGhhc0ludHJpbnNpY1dpZHRoID8gaW50cmluc2ljV2lkdGggOiBib3VuZHMud2lkdGg7XHJcbiAgICAgICAgICAgIHZhciBoZWlnaHRfMiA9IGhhc0ludHJpbnNpY0hlaWdodCA/IGludHJpbnNpY0hlaWdodCA6IGJvdW5kcy5oZWlnaHQ7XHJcbiAgICAgICAgICAgIHJldHVybiBbd2lkdGhfMiwgaGVpZ2h0XzJdO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJZiB0aGUgaW1hZ2UgaGFzIGludHJpbnNpYyBwcm9wb3J0aW9ucywgaXQncyBzdHJldGNoZWQgdG8gdGhlIHNwZWNpZmllZCBkaW1lbnNpb24uXHJcbiAgICAgICAgLy8gVGhlIHVuc3BlY2lmaWVkIGRpbWVuc2lvbiBpcyBjb21wdXRlZCB1c2luZyB0aGUgc3BlY2lmaWVkIGRpbWVuc2lvbiBhbmQgdGhlIGludHJpbnNpYyBwcm9wb3J0aW9ucy5cclxuICAgICAgICBpZiAoaGFzSW50cmluc2ljUHJvcG9ydGlvbikge1xyXG4gICAgICAgICAgICB2YXIgd2lkdGhfMyA9IDA7XHJcbiAgICAgICAgICAgIHZhciBoZWlnaHRfMyA9IDA7XHJcbiAgICAgICAgICAgIGlmIChpc0xlbmd0aFBlcmNlbnRhZ2UoZmlyc3QpKSB7XHJcbiAgICAgICAgICAgICAgICB3aWR0aF8zID0gZ2V0QWJzb2x1dGVWYWx1ZShmaXJzdCwgYm91bmRzLndpZHRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc0xlbmd0aFBlcmNlbnRhZ2Uoc2Vjb25kKSkge1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0XzMgPSBnZXRBYnNvbHV0ZVZhbHVlKHNlY29uZCwgYm91bmRzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzQXV0byhmaXJzdCkpIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoXzMgPSBoZWlnaHRfMyAqIGludHJpbnNpY1Byb3BvcnRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIXNlY29uZCB8fCBpc0F1dG8oc2Vjb25kKSkge1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0XzMgPSB3aWR0aF8zIC8gaW50cmluc2ljUHJvcG9ydGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gW3dpZHRoXzMsIGhlaWdodF8zXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSWYgdGhlIGltYWdlIGhhcyBubyBpbnRyaW5zaWMgcHJvcG9ydGlvbnMsIGl0J3Mgc3RyZXRjaGVkIHRvIHRoZSBzcGVjaWZpZWQgZGltZW5zaW9uLlxyXG4gICAgICAgIC8vIFRoZSB1bnNwZWNpZmllZCBkaW1lbnNpb24gaXMgY29tcHV0ZWQgdXNpbmcgdGhlIGltYWdlJ3MgY29ycmVzcG9uZGluZyBpbnRyaW5zaWMgZGltZW5zaW9uLFxyXG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIG9uZS4gSWYgdGhlcmUgaXMgbm8gc3VjaCBpbnRyaW5zaWMgZGltZW5zaW9uLFxyXG4gICAgICAgIC8vIGl0IGJlY29tZXMgdGhlIGNvcnJlc3BvbmRpbmcgZGltZW5zaW9uIG9mIHRoZSBiYWNrZ3JvdW5kIHBvc2l0aW9uaW5nIGFyZWEuXHJcbiAgICAgICAgdmFyIHdpZHRoID0gbnVsbDtcclxuICAgICAgICB2YXIgaGVpZ2h0ID0gbnVsbDtcclxuICAgICAgICBpZiAoaXNMZW5ndGhQZXJjZW50YWdlKGZpcnN0KSkge1xyXG4gICAgICAgICAgICB3aWR0aCA9IGdldEFic29sdXRlVmFsdWUoZmlyc3QsIGJvdW5kcy53aWR0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHNlY29uZCAmJiBpc0xlbmd0aFBlcmNlbnRhZ2Uoc2Vjb25kKSkge1xyXG4gICAgICAgICAgICBoZWlnaHQgPSBnZXRBYnNvbHV0ZVZhbHVlKHNlY29uZCwgYm91bmRzLmhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh3aWR0aCAhPT0gbnVsbCAmJiAoIXNlY29uZCB8fCBpc0F1dG8oc2Vjb25kKSkpIHtcclxuICAgICAgICAgICAgaGVpZ2h0ID1cclxuICAgICAgICAgICAgICAgIGhhc0ludHJpbnNpY1dpZHRoICYmIGhhc0ludHJpbnNpY0hlaWdodFxyXG4gICAgICAgICAgICAgICAgICAgID8gKHdpZHRoIC8gaW50cmluc2ljV2lkdGgpICogaW50cmluc2ljSGVpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgOiBib3VuZHMuaGVpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaGVpZ2h0ICE9PSBudWxsICYmIGlzQXV0byhmaXJzdCkpIHtcclxuICAgICAgICAgICAgd2lkdGggPVxyXG4gICAgICAgICAgICAgICAgaGFzSW50cmluc2ljV2lkdGggJiYgaGFzSW50cmluc2ljSGVpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgPyAoaGVpZ2h0IC8gaW50cmluc2ljSGVpZ2h0KSAqIGludHJpbnNpY1dpZHRoXHJcbiAgICAgICAgICAgICAgICAgICAgOiBib3VuZHMud2lkdGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh3aWR0aCAhPT0gbnVsbCAmJiBoZWlnaHQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFt3aWR0aCwgaGVpZ2h0XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGNhbGN1bGF0ZSBiYWNrZ3JvdW5kLXNpemUgZm9yIGVsZW1lbnRcIik7XHJcbiAgICB9O1xyXG4gICAgdmFyIGdldEJhY2tncm91bmRWYWx1ZUZvckluZGV4ID0gZnVuY3Rpb24gKHZhbHVlcywgaW5kZXgpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSB2YWx1ZXNbaW5kZXhdO1xyXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZXNbMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH07XHJcbiAgICB2YXIgY2FsY3VsYXRlQmFja2dyb3VuZFJlcGVhdFBhdGggPSBmdW5jdGlvbiAocmVwZWF0LCBfYSwgX2IsIGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEsIGJhY2tncm91bmRQYWludGluZ0FyZWEpIHtcclxuICAgICAgICB2YXIgeCA9IF9hWzBdLCB5ID0gX2FbMV07XHJcbiAgICAgICAgdmFyIHdpZHRoID0gX2JbMF0sIGhlaWdodCA9IF9iWzFdO1xyXG4gICAgICAgIHN3aXRjaCAocmVwZWF0KSB7XHJcbiAgICAgICAgICAgIGNhc2UgQkFDS0dST1VORF9SRVBFQVQuUkVQRUFUX1g6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmxlZnQpLCBNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEudG9wICsgeSkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmxlZnQgKyBiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLndpZHRoKSwgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLnRvcCArIHkpKSxcclxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS5sZWZ0ICsgYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS53aWR0aCksIE1hdGgucm91bmQoaGVpZ2h0ICsgYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS50b3AgKyB5KSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcihNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEubGVmdCksIE1hdGgucm91bmQoaGVpZ2h0ICsgYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS50b3AgKyB5KSlcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIGNhc2UgQkFDS0dST1VORF9SRVBFQVQuUkVQRUFUX1k6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmxlZnQgKyB4KSwgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLnRvcCkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmxlZnQgKyB4ICsgd2lkdGgpLCBNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEudG9wKSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcihNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEubGVmdCArIHggKyB3aWR0aCksIE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS5oZWlnaHQgKyBiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLnRvcCkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmxlZnQgKyB4KSwgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUG9zaXRpb25pbmdBcmVhLmhlaWdodCArIGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEudG9wKSlcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIGNhc2UgQkFDS0dST1VORF9SRVBFQVQuTk9fUkVQRUFUOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS5sZWZ0ICsgeCksIE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS50b3AgKyB5KSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcihNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEubGVmdCArIHggKyB3aWR0aCksIE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS50b3AgKyB5KSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcihNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEubGVmdCArIHggKyB3aWR0aCksIE1hdGgucm91bmQoYmFja2dyb3VuZFBvc2l0aW9uaW5nQXJlYS50b3AgKyB5ICsgaGVpZ2h0KSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcihNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEubGVmdCArIHgpLCBNYXRoLnJvdW5kKGJhY2tncm91bmRQb3NpdGlvbmluZ0FyZWEudG9wICsgeSArIGhlaWdodCkpXHJcbiAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKE1hdGgucm91bmQoYmFja2dyb3VuZFBhaW50aW5nQXJlYS5sZWZ0KSwgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLnRvcCkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLmxlZnQgKyBiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLndpZHRoKSwgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLnRvcCkpLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoTWF0aC5yb3VuZChiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLmxlZnQgKyBiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLndpZHRoKSwgTWF0aC5yb3VuZChiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLmhlaWdodCArIGJhY2tncm91bmRQYWludGluZ0FyZWEudG9wKSksXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3RvcihNYXRoLnJvdW5kKGJhY2tncm91bmRQYWludGluZ0FyZWEubGVmdCksIE1hdGgucm91bmQoYmFja2dyb3VuZFBhaW50aW5nQXJlYS5oZWlnaHQgKyBiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhLnRvcCkpXHJcbiAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIFNNQUxMX0lNQUdFID0gJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQUFBQUFQLy8veUg1QkFFQUFBQUFMQUFBQUFBQkFBRUFBQUlCUkFBNyc7XHJcblxyXG4gICAgdmFyIFNBTVBMRV9URVhUID0gJ0hpZGRlbiBUZXh0JztcclxuICAgIHZhciBGb250TWV0cmljcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBGb250TWV0cmljcyhkb2N1bWVudCkge1xyXG4gICAgICAgICAgICB0aGlzLl9kYXRhID0ge307XHJcbiAgICAgICAgICAgIHRoaXMuX2RvY3VtZW50ID0gZG9jdW1lbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEZvbnRNZXRyaWNzLnByb3RvdHlwZS5wYXJzZU1ldHJpY3MgPSBmdW5jdGlvbiAoZm9udEZhbWlseSwgZm9udFNpemUpIHtcclxuICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuX2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICB2YXIgaW1nID0gdGhpcy5fZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcbiAgICAgICAgICAgIHZhciBzcGFuID0gdGhpcy5fZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgICAgICB2YXIgYm9keSA9IHRoaXMuX2RvY3VtZW50LmJvZHk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5mb250RmFtaWx5ID0gZm9udEZhbWlseTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLmZvbnRTaXplID0gZm9udFNpemU7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5tYXJnaW4gPSAnMCc7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5wYWRkaW5nID0gJzAnO1xyXG4gICAgICAgICAgICBib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgIGltZy5zcmMgPSBTTUFMTF9JTUFHRTtcclxuICAgICAgICAgICAgaW1nLndpZHRoID0gMTtcclxuICAgICAgICAgICAgaW1nLmhlaWdodCA9IDE7XHJcbiAgICAgICAgICAgIGltZy5zdHlsZS5tYXJnaW4gPSAnMCc7XHJcbiAgICAgICAgICAgIGltZy5zdHlsZS5wYWRkaW5nID0gJzAnO1xyXG4gICAgICAgICAgICBpbWcuc3R5bGUudmVydGljYWxBbGlnbiA9ICdiYXNlbGluZSc7XHJcbiAgICAgICAgICAgIHNwYW4uc3R5bGUuZm9udEZhbWlseSA9IGZvbnRGYW1pbHk7XHJcbiAgICAgICAgICAgIHNwYW4uc3R5bGUuZm9udFNpemUgPSBmb250U2l6ZTtcclxuICAgICAgICAgICAgc3Bhbi5zdHlsZS5tYXJnaW4gPSAnMCc7XHJcbiAgICAgICAgICAgIHNwYW4uc3R5bGUucGFkZGluZyA9ICcwJztcclxuICAgICAgICAgICAgc3Bhbi5hcHBlbmRDaGlsZCh0aGlzLl9kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShTQU1QTEVfVEVYVCkpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoc3Bhbik7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpbWcpO1xyXG4gICAgICAgICAgICB2YXIgYmFzZWxpbmUgPSBpbWcub2Zmc2V0VG9wIC0gc3Bhbi5vZmZzZXRUb3AgKyAyO1xyXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoc3Bhbik7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLl9kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShTQU1QTEVfVEVYVCkpO1xyXG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUubGluZUhlaWdodCA9ICdub3JtYWwnO1xyXG4gICAgICAgICAgICBpbWcuc3R5bGUudmVydGljYWxBbGlnbiA9ICdzdXBlcic7XHJcbiAgICAgICAgICAgIHZhciBtaWRkbGUgPSBpbWcub2Zmc2V0VG9wIC0gY29udGFpbmVyLm9mZnNldFRvcCArIDI7XHJcbiAgICAgICAgICAgIGJvZHkucmVtb3ZlQ2hpbGQoY29udGFpbmVyKTtcclxuICAgICAgICAgICAgcmV0dXJuIHsgYmFzZWxpbmU6IGJhc2VsaW5lLCBtaWRkbGU6IG1pZGRsZSB9O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgRm9udE1ldHJpY3MucHJvdG90eXBlLmdldE1ldHJpY3MgPSBmdW5jdGlvbiAoZm9udEZhbWlseSwgZm9udFNpemUpIHtcclxuICAgICAgICAgICAgdmFyIGtleSA9IGZvbnRGYW1pbHkgKyBcIiBcIiArIGZvbnRTaXplO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuX2RhdGFba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RhdGFba2V5XSA9IHRoaXMucGFyc2VNZXRyaWNzKGZvbnRGYW1pbHksIGZvbnRTaXplKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGF0YVtrZXldO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIEZvbnRNZXRyaWNzO1xyXG4gICAgfSgpKTtcclxuXHJcbiAgICB2YXIgTUFTS19PRkZTRVQgPSAxMDAwMDtcclxuICAgIHZhciBDYW52YXNSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBDYW52YXNSZW5kZXJlcihvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZUVmZmVjdHMgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMgPSBvcHRpb25zLmNhbnZhcyA/IG9wdGlvbnMuY2FudmFzIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmNhbnZhcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSBNYXRoLmZsb29yKG9wdGlvbnMud2lkdGggKiBvcHRpb25zLnNjYWxlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IE1hdGguZmxvb3Iob3B0aW9ucy5oZWlnaHQgKiBvcHRpb25zLnNjYWxlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLndpZHRoID0gb3B0aW9ucy53aWR0aCArIFwicHhcIjtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLmhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0ICsgXCJweFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZm9udE1ldHJpY3MgPSBuZXcgRm9udE1ldHJpY3MoZG9jdW1lbnQpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5zY2FsZSh0aGlzLm9wdGlvbnMuc2NhbGUsIHRoaXMub3B0aW9ucy5zY2FsZSk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZSgtb3B0aW9ucy54ICsgb3B0aW9ucy5zY3JvbGxYLCAtb3B0aW9ucy55ICsgb3B0aW9ucy5zY3JvbGxZKTtcclxuICAgICAgICAgICAgdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gJ2JvdHRvbSc7XHJcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZUVmZmVjdHMgPSBbXTtcclxuICAgICAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlKG9wdGlvbnMuaWQpLmRlYnVnKFwiQ2FudmFzIHJlbmRlcmVyIGluaXRpYWxpemVkIChcIiArIG9wdGlvbnMud2lkdGggKyBcInhcIiArIG9wdGlvbnMuaGVpZ2h0ICsgXCIgYXQgXCIgKyBvcHRpb25zLnggKyBcIixcIiArIG9wdGlvbnMueSArIFwiKSB3aXRoIHNjYWxlIFwiICsgb3B0aW9ucy5zY2FsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5hcHBseUVmZmVjdHMgPSBmdW5jdGlvbiAoZWZmZWN0cywgdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLl9hY3RpdmVFZmZlY3RzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3BFZmZlY3QoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlZmZlY3RzLmZpbHRlcihmdW5jdGlvbiAoZWZmZWN0KSB7IHJldHVybiBjb250YWlucyhlZmZlY3QudGFyZ2V0LCB0YXJnZXQpOyB9KS5mb3JFYWNoKGZ1bmN0aW9uIChlZmZlY3QpIHsgcmV0dXJuIF90aGlzLmFwcGx5RWZmZWN0KGVmZmVjdCk7IH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmFwcGx5RWZmZWN0ID0gZnVuY3Rpb24gKGVmZmVjdCkge1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5zYXZlKCk7XHJcbiAgICAgICAgICAgIGlmIChpc1RyYW5zZm9ybUVmZmVjdChlZmZlY3QpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN0eC50cmFuc2xhdGUoZWZmZWN0Lm9mZnNldFgsIGVmZmVjdC5vZmZzZXRZKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3R4LnRyYW5zZm9ybShlZmZlY3QubWF0cml4WzBdLCBlZmZlY3QubWF0cml4WzFdLCBlZmZlY3QubWF0cml4WzJdLCBlZmZlY3QubWF0cml4WzNdLCBlZmZlY3QubWF0cml4WzRdLCBlZmZlY3QubWF0cml4WzVdKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZSgtZWZmZWN0Lm9mZnNldFgsIC1lZmZlY3Qub2Zmc2V0WSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzQ2xpcEVmZmVjdChlZmZlY3QpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhdGgoZWZmZWN0LnBhdGgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdHguY2xpcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZUVmZmVjdHMucHVzaChlZmZlY3QpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnBvcEVmZmVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5fYWN0aXZlRWZmZWN0cy5wb3AoKTtcclxuICAgICAgICAgICAgdGhpcy5jdHgucmVzdG9yZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlclN0YWNrID0gZnVuY3Rpb24gKHN0YWNrKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdHlsZXM7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXMgPSBzdGFjay5lbGVtZW50LmNvbnRhaW5lci5zdHlsZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0eWxlcy5pc1Zpc2libGUoKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5nbG9iYWxBbHBoYSA9IHN0eWxlcy5vcGFjaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZW5kZXJTdGFja0NvbnRlbnQoc3RhY2spXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyTm9kZSA9IGZ1bmN0aW9uIChwYWludCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBhaW50LmNvbnRhaW5lci5zdHlsZXMuaXNWaXNpYmxlKCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZW5kZXJOb2RlQmFja2dyb3VuZEFuZEJvcmRlcnMocGFpbnQpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZW5kZXJOb2RlQ29udGVudChwYWludCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJUZXh0V2l0aExldHRlclNwYWNpbmcgPSBmdW5jdGlvbiAodGV4dCwgbGV0dGVyU3BhY2luZykge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICBpZiAobGV0dGVyU3BhY2luZyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbFRleHQodGV4dC50ZXh0LCB0ZXh0LmJvdW5kcy5sZWZ0LCB0ZXh0LmJvdW5kcy50b3AgKyB0ZXh0LmJvdW5kcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxldHRlcnMgPSB0b0NvZGVQb2ludHModGV4dC50ZXh0KS5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGZyb21Db2RlUG9pbnQoaSk7IH0pO1xyXG4gICAgICAgICAgICAgICAgbGV0dGVycy5yZWR1Y2UoZnVuY3Rpb24gKGxlZnQsIGxldHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5maWxsVGV4dChsZXR0ZXIsIGxlZnQsIHRleHQuYm91bmRzLnRvcCArIHRleHQuYm91bmRzLmhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxlZnQgKyBfdGhpcy5jdHgubWVhc3VyZVRleHQobGV0dGVyKS53aWR0aDtcclxuICAgICAgICAgICAgICAgIH0sIHRleHQuYm91bmRzLmxlZnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlRm9udFN0eWxlID0gZnVuY3Rpb24gKHN0eWxlcykge1xyXG4gICAgICAgICAgICB2YXIgZm9udFZhcmlhbnQgPSBzdHlsZXMuZm9udFZhcmlhbnRcclxuICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHZhcmlhbnQpIHsgcmV0dXJuIHZhcmlhbnQgPT09ICdub3JtYWwnIHx8IHZhcmlhbnQgPT09ICdzbWFsbC1jYXBzJzsgfSlcclxuICAgICAgICAgICAgICAgIC5qb2luKCcnKTtcclxuICAgICAgICAgICAgdmFyIGZvbnRGYW1pbHkgPSBzdHlsZXMuZm9udEZhbWlseS5qb2luKCcsICcpO1xyXG4gICAgICAgICAgICB2YXIgZm9udFNpemUgPSBpc0RpbWVuc2lvblRva2VuKHN0eWxlcy5mb250U2l6ZSlcclxuICAgICAgICAgICAgICAgID8gXCJcIiArIHN0eWxlcy5mb250U2l6ZS5udW1iZXIgKyBzdHlsZXMuZm9udFNpemUudW5pdFxyXG4gICAgICAgICAgICAgICAgOiBzdHlsZXMuZm9udFNpemUubnVtYmVyICsgXCJweFwiO1xyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgW3N0eWxlcy5mb250U3R5bGUsIGZvbnRWYXJpYW50LCBzdHlsZXMuZm9udFdlaWdodCwgZm9udFNpemUsIGZvbnRGYW1pbHldLmpvaW4oJyAnKSxcclxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHksXHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZVxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlclRleHROb2RlID0gZnVuY3Rpb24gKHRleHQsIHN0eWxlcykge1xyXG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX2EsIGZvbnQsIGZvbnRGYW1pbHksIGZvbnRTaXplO1xyXG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcclxuICAgICAgICAgICAgICAgICAgICBfYSA9IHRoaXMuY3JlYXRlRm9udFN0eWxlKHN0eWxlcyksIGZvbnQgPSBfYVswXSwgZm9udEZhbWlseSA9IF9hWzFdLCBmb250U2l6ZSA9IF9hWzJdO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZvbnQgPSBmb250O1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQudGV4dEJvdW5kcy5mb3JFYWNoKGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5maWxsU3R5bGUgPSBhc1N0cmluZyhzdHlsZXMuY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZW5kZXJUZXh0V2l0aExldHRlclNwYWNpbmcodGV4dCwgc3R5bGVzLmxldHRlclNwYWNpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dFNoYWRvd3MgPSBzdHlsZXMudGV4dFNoYWRvdztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRleHRTaGFkb3dzLmxlbmd0aCAmJiB0ZXh0LnRleHQudHJpbSgpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFNoYWRvd3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2xpY2UoMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmV2ZXJzZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKHRleHRTaGFkb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LnNoYWRvd0NvbG9yID0gYXNTdHJpbmcodGV4dFNoYWRvdy5jb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5zaGFkb3dPZmZzZXRYID0gdGV4dFNoYWRvdy5vZmZzZXRYLm51bWJlciAqIF90aGlzLm9wdGlvbnMuc2NhbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5zaGFkb3dPZmZzZXRZID0gdGV4dFNoYWRvdy5vZmZzZXRZLm51bWJlciAqIF90aGlzLm9wdGlvbnMuc2NhbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5zaGFkb3dCbHVyID0gdGV4dFNoYWRvdy5ibHVyLm51bWJlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LmZpbGxUZXh0KHRleHQudGV4dCwgdGV4dC5ib3VuZHMubGVmdCwgdGV4dC5ib3VuZHMudG9wICsgdGV4dC5ib3VuZHMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5zaGFkb3dDb2xvciA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LnNoYWRvd09mZnNldFggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LnNoYWRvd09mZnNldFkgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LnNoYWRvd0JsdXIgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHlsZXMudGV4dERlY29yYXRpb25MaW5lLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LmZpbGxTdHlsZSA9IGFzU3RyaW5nKHN0eWxlcy50ZXh0RGVjb3JhdGlvbkNvbG9yIHx8IHN0eWxlcy5jb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXMudGV4dERlY29yYXRpb25MaW5lLmZvckVhY2goZnVuY3Rpb24gKHRleHREZWNvcmF0aW9uTGluZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGV4dERlY29yYXRpb25MaW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMSAvKiBVTkRFUkxJTkUgKi86XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEcmF3cyBhIGxpbmUgYXQgdGhlIGJhc2VsaW5lIG9mIHRoZSBmb250XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIEFzIHNvbWUgYnJvd3NlcnMgZGlzcGxheSB0aGUgbGluZSBhcyBtb3JlIHRoYW4gMXB4IGlmIHRoZSBmb250LXNpemUgaXMgYmlnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmVlZCB0byB0YWtlIHRoYXQgaW50byBhY2NvdW50IGJvdGggaW4gcG9zaXRpb24gYW5kIHNpemVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiYXNlbGluZSA9IF90aGlzLmZvbnRNZXRyaWNzLmdldE1ldHJpY3MoZm9udEZhbWlseSwgZm9udFNpemUpLmJhc2VsaW5lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LmZpbGxSZWN0KHRleHQuYm91bmRzLmxlZnQsIE1hdGgucm91bmQodGV4dC5ib3VuZHMudG9wICsgYmFzZWxpbmUpLCB0ZXh0LmJvdW5kcy53aWR0aCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyIC8qIE9WRVJMSU5FICovOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LmZpbGxSZWN0KHRleHQuYm91bmRzLmxlZnQsIE1hdGgucm91bmQodGV4dC5ib3VuZHMudG9wKSwgdGV4dC5ib3VuZHMud2lkdGgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMyAvKiBMSU5FX1RIUk9VR0ggKi86XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIHRyeSBhbmQgZmluZCBleGFjdCBwb3NpdGlvbiBmb3IgbGluZS10aHJvdWdoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWlkZGxlID0gX3RoaXMuZm9udE1ldHJpY3MuZ2V0TWV0cmljcyhmb250RmFtaWx5LCBmb250U2l6ZSkubWlkZGxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LmZpbGxSZWN0KHRleHQuYm91bmRzLmxlZnQsIE1hdGguY2VpbCh0ZXh0LmJvdW5kcy50b3AgKyBtaWRkbGUpLCB0ZXh0LmJvdW5kcy53aWR0aCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJSZXBsYWNlZEVsZW1lbnQgPSBmdW5jdGlvbiAoY29udGFpbmVyLCBjdXJ2ZXMsIGltYWdlKSB7XHJcbiAgICAgICAgICAgIGlmIChpbWFnZSAmJiBjb250YWluZXIuaW50cmluc2ljV2lkdGggPiAwICYmIGNvbnRhaW5lci5pbnRyaW5zaWNIZWlnaHQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYm94ID0gY29udGVudEJveChjb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhdGggPSBjYWxjdWxhdGVQYWRkaW5nQm94UGF0aChjdXJ2ZXMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXRoKHBhdGgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdHguY2xpcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwLCBjb250YWluZXIuaW50cmluc2ljV2lkdGgsIGNvbnRhaW5lci5pbnRyaW5zaWNIZWlnaHQsIGJveC5sZWZ0LCBib3gudG9wLCBib3gud2lkdGgsIGJveC5oZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdHgucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyTm9kZUNvbnRlbnQgPSBmdW5jdGlvbiAocGFpbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lciwgY3VydmVzLCBzdHlsZXMsIF9pLCBfYSwgY2hpbGQsIGltYWdlLCBlXzEsIGltYWdlLCBlXzIsIGlmcmFtZVJlbmRlcmVyLCBjYW52YXMsIHNpemUsIGJvdW5kcywgeCwgdGV4dEJvdW5kcywgaW1nLCBpbWFnZSwgdXJsLCBlXzMsIGJvdW5kcztcclxuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlFZmZlY3RzKHBhaW50LmVmZmVjdHMsIDQgLyogQ09OVEVOVCAqLyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIgPSBwYWludC5jb250YWluZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJ2ZXMgPSBwYWludC5jdXJ2ZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXMgPSBjb250YWluZXIuc3R5bGVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2kgPSAwLCBfYSA9IGNvbnRhaW5lci50ZXh0Tm9kZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKF9pIDwgX2EubGVuZ3RoKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucmVuZGVyVGV4dE5vZGUoY2hpbGQsIHN0eWxlcyldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoY29udGFpbmVyIGluc3RhbmNlb2YgSW1hZ2VFbGVtZW50Q29udGFpbmVyKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgOF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbNSwgNywgLCA4XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLm9wdGlvbnMuY2FjaGUubWF0Y2goY29udGFpbmVyLnNyYyldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZSA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyUmVwbGFjZWRFbGVtZW50KGNvbnRhaW5lciwgY3VydmVzLCBpbWFnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA4XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZV8xID0gX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlKHRoaXMub3B0aW9ucy5pZCkuZXJyb3IoXCJFcnJvciBsb2FkaW5nIGltYWdlIFwiICsgY29udGFpbmVyLnNyYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA4XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lciBpbnN0YW5jZW9mIENhbnZhc0VsZW1lbnRDb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclJlcGxhY2VkRWxlbWVudChjb250YWluZXIsIGN1cnZlcywgY29udGFpbmVyLmNhbnZhcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShjb250YWluZXIgaW5zdGFuY2VvZiBTVkdFbGVtZW50Q29udGFpbmVyKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMTJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSA5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzksIDExLCAsIDEyXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLm9wdGlvbnMuY2FjaGUubWF0Y2goY29udGFpbmVyLnN2ZyldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclJlcGxhY2VkRWxlbWVudChjb250YWluZXIsIGN1cnZlcywgaW1hZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMTJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDExOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZV8yID0gX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlKHRoaXMub3B0aW9ucy5pZCkuZXJyb3IoXCJFcnJvciBsb2FkaW5nIHN2ZyBcIiArIGNvbnRhaW5lci5zdmcuc3Vic3RyaW5nKDAsIDI1NSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMTJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoY29udGFpbmVyIGluc3RhbmNlb2YgSUZyYW1lRWxlbWVudENvbnRhaW5lciAmJiBjb250YWluZXIudHJlZSkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDE0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmcmFtZVJlbmRlcmVyID0gbmV3IENhbnZhc1JlbmRlcmVyKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogdGhpcy5vcHRpb25zLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlOiB0aGlzLm9wdGlvbnMuc2NhbGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb250YWluZXIuYmFja2dyb3VuZENvbG9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxYOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFk6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGNvbnRhaW5lci53aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGNvbnRhaW5lci5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGU6IHRoaXMub3B0aW9ucy5jYWNoZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dXaWR0aDogY29udGFpbmVyLndpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0hlaWdodDogY29udGFpbmVyLmhlaWdodFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBpZnJhbWVSZW5kZXJlci5yZW5kZXIoY29udGFpbmVyLnRyZWUpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcyA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWluZXIud2lkdGggJiYgY29udGFpbmVyLmhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmRyYXdJbWFnZShjYW52YXMsIDAsIDAsIGNvbnRhaW5lci53aWR0aCwgY29udGFpbmVyLmhlaWdodCwgY29udGFpbmVyLmJvdW5kcy5sZWZ0LCBjb250YWluZXIuYm91bmRzLnRvcCwgY29udGFpbmVyLmJvdW5kcy53aWR0aCwgY29udGFpbmVyLmJvdW5kcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxNDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWluZXIgaW5zdGFuY2VvZiBJbnB1dEVsZW1lbnRDb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplID0gTWF0aC5taW4oY29udGFpbmVyLmJvdW5kcy53aWR0aCwgY29udGFpbmVyLmJvdW5kcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWluZXIudHlwZSA9PT0gQ0hFQ0tCT1gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5jaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhdGgoW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoY29udGFpbmVyLmJvdW5kcy5sZWZ0ICsgc2l6ZSAqIDAuMzkzNjMsIGNvbnRhaW5lci5ib3VuZHMudG9wICsgc2l6ZSAqIDAuNzkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoY29udGFpbmVyLmJvdW5kcy5sZWZ0ICsgc2l6ZSAqIDAuMTYsIGNvbnRhaW5lci5ib3VuZHMudG9wICsgc2l6ZSAqIDAuNTU0OSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3Rvcihjb250YWluZXIuYm91bmRzLmxlZnQgKyBzaXplICogMC4yNzM0NywgY29udGFpbmVyLmJvdW5kcy50b3AgKyBzaXplICogMC40NDA3MSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3Rvcihjb250YWluZXIuYm91bmRzLmxlZnQgKyBzaXplICogMC4zOTY5NCwgY29udGFpbmVyLmJvdW5kcy50b3AgKyBzaXplICogMC41NjQ5KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKGNvbnRhaW5lci5ib3VuZHMubGVmdCArIHNpemUgKiAwLjcyOTgzLCBjb250YWluZXIuYm91bmRzLnRvcCArIHNpemUgKiAwLjIzKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKGNvbnRhaW5lci5ib3VuZHMubGVmdCArIHNpemUgKiAwLjg0LCBjb250YWluZXIuYm91bmRzLnRvcCArIHNpemUgKiAwLjM0MDg1KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKGNvbnRhaW5lci5ib3VuZHMubGVmdCArIHNpemUgKiAwLjM5MzYzLCBjb250YWluZXIuYm91bmRzLnRvcCArIHNpemUgKiAwLjc5KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBhc1N0cmluZyhJTlBVVF9DT0xPUik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY29udGFpbmVyLnR5cGUgPT09IFJBRElPKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250YWluZXIuY2hlY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5hcmMoY29udGFpbmVyLmJvdW5kcy5sZWZ0ICsgc2l6ZSAvIDIsIGNvbnRhaW5lci5ib3VuZHMudG9wICsgc2l6ZSAvIDIsIHNpemUgLyA0LCAwLCBNYXRoLlBJICogMiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBhc1N0cmluZyhJTlBVVF9DT0xPUik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNUZXh0SW5wdXRFbGVtZW50KGNvbnRhaW5lcikgJiYgY29udGFpbmVyLnZhbHVlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZvbnQgPSB0aGlzLmNyZWF0ZUZvbnRTdHlsZShzdHlsZXMpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IGFzU3RyaW5nKHN0eWxlcy5jb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHgudGV4dEFsaWduID0gY2FudmFzVGV4dEFsaWduKGNvbnRhaW5lci5zdHlsZXMudGV4dEFsaWduKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3VuZHMgPSBjb250ZW50Qm94KGNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChjb250YWluZXIuc3R5bGVzLnRleHRBbGlnbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFRFWFRfQUxJR04uQ0VOVEVSOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeCArPSBib3VuZHMud2lkdGggLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgVEVYVF9BTElHTi5SSUdIVDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHggKz0gYm91bmRzLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRCb3VuZHMgPSBib3VuZHMuYWRkKHgsIDAsIDAsIC1ib3VuZHMuaGVpZ2h0IC8gMiArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhdGgoW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVmVjdG9yKGJvdW5kcy5sZWZ0LCBib3VuZHMudG9wKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3Rvcihib3VuZHMubGVmdCArIGJvdW5kcy53aWR0aCwgYm91bmRzLnRvcCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBWZWN0b3IoYm91bmRzLmxlZnQgKyBib3VuZHMud2lkdGgsIGJvdW5kcy50b3AgKyBib3VuZHMuaGVpZ2h0KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFZlY3Rvcihib3VuZHMubGVmdCwgYm91bmRzLnRvcCArIGJvdW5kcy5oZWlnaHQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguY2xpcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyVGV4dFdpdGhMZXR0ZXJTcGFjaW5nKG5ldyBUZXh0Qm91bmRzKGNvbnRhaW5lci52YWx1ZSwgdGV4dEJvdW5kcyksIHN0eWxlcy5sZXR0ZXJTcGFjaW5nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gJ2JvdHRvbSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHgudGV4dEFsaWduID0gJ2xlZnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250YWlucyhjb250YWluZXIuc3R5bGVzLmRpc3BsYXksIDIwNDggLyogTElTVF9JVEVNICovKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMjBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoY29udGFpbmVyLnN0eWxlcy5saXN0U3R5bGVJbWFnZSAhPT0gbnVsbCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDE5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZyA9IGNvbnRhaW5lci5zdHlsZXMubGlzdFN0eWxlSW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShpbWcudHlwZSA9PT0gQ1NTSW1hZ2VUeXBlLlVSTCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDE4XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlID0gdm9pZCAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gaW1nLnVybDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMTU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzE1LCAxNywgLCAxOF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5vcHRpb25zLmNhY2hlLm1hdGNoKHVybCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE2OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5kcmF3SW1hZ2UoaW1hZ2UsIGNvbnRhaW5lci5ib3VuZHMubGVmdCAtIChpbWFnZS53aWR0aCArIDEwKSwgY29udGFpbmVyLmJvdW5kcy50b3ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMThdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE3OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZV8zID0gX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlKHRoaXMub3B0aW9ucy5pZCkuZXJyb3IoXCJFcnJvciBsb2FkaW5nIGxpc3Qtc3R5bGUtaW1hZ2UgXCIgKyB1cmwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMThdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE4OiByZXR1cm4gWzMgLypicmVhayovLCAyMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTk6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFpbnQubGlzdFZhbHVlICYmIGNvbnRhaW5lci5zdHlsZXMubGlzdFN0eWxlVHlwZSAhPT0gTElTVF9TVFlMRV9UWVBFLk5PTkUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5mb250ID0gdGhpcy5jcmVhdGVGb250U3R5bGUoc3R5bGVzKVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBhc1N0cmluZyhzdHlsZXMuY29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LnRleHRBbGlnbiA9ICdyaWdodCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRzID0gbmV3IEJvdW5kcyhjb250YWluZXIuYm91bmRzLmxlZnQsIGNvbnRhaW5lci5ib3VuZHMudG9wICsgZ2V0QWJzb2x1dGVWYWx1ZShjb250YWluZXIuc3R5bGVzLnBhZGRpbmdUb3AsIGNvbnRhaW5lci5ib3VuZHMud2lkdGgpLCBjb250YWluZXIuYm91bmRzLndpZHRoLCBjb21wdXRlTGluZUhlaWdodChzdHlsZXMubGluZUhlaWdodCwgc3R5bGVzLmZvbnRTaXplLm51bWJlcikgLyAyICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJUZXh0V2l0aExldHRlclNwYWNpbmcobmV3IFRleHRCb3VuZHMocGFpbnQubGlzdFZhbHVlLCBib3VuZHMpLCBzdHlsZXMubGV0dGVyU3BhY2luZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gJ2JvdHRvbSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHgudGV4dEFsaWduID0gJ2xlZnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAyMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyMDogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJTdGFja0NvbnRlbnQgPSBmdW5jdGlvbiAoc3RhY2spIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9pLCBfYSwgY2hpbGQsIF9iLCBfYywgY2hpbGQsIF9kLCBfZSwgY2hpbGQsIF9mLCBfZywgY2hpbGQsIF9oLCBfaiwgY2hpbGQsIF9rLCBfbCwgY2hpbGQsIF9tLCBfbywgY2hpbGQ7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfcC5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLXBvc2l0aW9uLTMvI3BhaW50aW5nLW9yZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAxLiB0aGUgYmFja2dyb3VuZCBhbmQgYm9yZGVycyBvZiB0aGUgZWxlbWVudCBmb3JtaW5nIHRoZSBzdGFja2luZyBjb250ZXh0LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZW5kZXJOb2RlQmFja2dyb3VuZEFuZEJvcmRlcnMoc3RhY2suZWxlbWVudCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLXBvc2l0aW9uLTMvI3BhaW50aW5nLW9yZGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAxLiB0aGUgYmFja2dyb3VuZCBhbmQgYm9yZGVycyBvZiB0aGUgZWxlbWVudCBmb3JtaW5nIHRoZSBzdGFja2luZyBjb250ZXh0LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Auc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2kgPSAwLCBfYSA9IHN0YWNrLm5lZ2F0aXZlWkluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3AubGFiZWwgPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShfaSA8IF9hLmxlbmd0aCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnJlbmRlclN0YWNrKGNoaWxkKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLmxhYmVsID0gNDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2krKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAzLiBGb3IgYWxsIGl0cyBpbi1mbG93LCBub24tcG9zaXRpb25lZCwgYmxvY2stbGV2ZWwgZGVzY2VuZGFudHMgaW4gdHJlZSBvcmRlcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucmVuZGVyTm9kZUNvbnRlbnQoc3RhY2suZWxlbWVudCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAzLiBGb3IgYWxsIGl0cyBpbi1mbG93LCBub24tcG9zaXRpb25lZCwgYmxvY2stbGV2ZWwgZGVzY2VuZGFudHMgaW4gdHJlZSBvcmRlcjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iID0gMCwgX2MgPSBzdGFjay5ub25JbmxpbmVMZXZlbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLmxhYmVsID0gNztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoX2IgPCBfYy5sZW5ndGgpKSByZXR1cm4gWzMgLypicmVhayovLCAxMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IF9jW19iXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucmVuZGVyTm9kZShjaGlsZCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcC5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcC5sYWJlbCA9IDk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA3XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kID0gMCwgX2UgPSBzdGFjay5ub25Qb3NpdGlvbmVkRmxvYXRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3AubGFiZWwgPSAxMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKF9kIDwgX2UubGVuZ3RoKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMTRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQgPSBfZVtfZF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnJlbmRlclN0YWNrKGNoaWxkKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcC5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcC5sYWJlbCA9IDEzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2QrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDExXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9mID0gMCwgX2cgPSBzdGFjay5ub25Qb3NpdGlvbmVkSW5saW5lTGV2ZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcC5sYWJlbCA9IDE1O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoX2YgPCBfZy5sZW5ndGgpKSByZXR1cm4gWzMgLypicmVhayovLCAxOF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IF9nW19mXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucmVuZGVyU3RhY2soY2hpbGQpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLmxhYmVsID0gMTc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZisrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMTVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE4OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ggPSAwLCBfaiA9IHN0YWNrLmlubGluZUxldmVsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3AubGFiZWwgPSAxOTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKF9oIDwgX2oubGVuZ3RoKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMjJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQgPSBfaltfaF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnJlbmRlck5vZGUoY2hpbGQpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLmxhYmVsID0gMjE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMTldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDIyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2sgPSAwLCBfbCA9IHN0YWNrLnplcm9PckF1dG9aSW5kZXhPclRyYW5zZm9ybWVkT3JPcGFjaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3AubGFiZWwgPSAyMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKF9rIDwgX2wubGVuZ3RoKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMjZdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQgPSBfbFtfa107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnJlbmRlclN0YWNrKGNoaWxkKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcC5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcC5sYWJlbCA9IDI1O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2srKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDIzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyNjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tID0gMCwgX28gPSBzdGFjay5wb3NpdGl2ZVpJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9wLmxhYmVsID0gMjc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShfbSA8IF9vLmxlbmd0aCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDMwXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkID0gX29bX21dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZW5kZXJTdGFjayhjaGlsZCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI4OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Auc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3AubGFiZWwgPSAyOTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAyN107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzA6IHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBDYW52YXNSZW5kZXJlci5wcm90b3R5cGUubWFzayA9IGZ1bmN0aW9uIChwYXRocykge1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgdGhpcy5jdHgubW92ZVRvKDAsIDApO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5saW5lVG8odGhpcy5jYW52YXMud2lkdGgsIDApO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5saW5lVG8odGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmxpbmVUbygwLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5saW5lVG8oMCwgMCk7XHJcbiAgICAgICAgICAgIHRoaXMuZm9ybWF0UGF0aChwYXRocy5zbGljZSgwKS5yZXZlcnNlKCkpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5jbG9zZVBhdGgoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5wYXRoID0gZnVuY3Rpb24gKHBhdGhzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICB0aGlzLmZvcm1hdFBhdGgocGF0aHMpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC5jbG9zZVBhdGgoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5mb3JtYXRQYXRoID0gZnVuY3Rpb24gKHBhdGhzKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHBhdGhzLmZvckVhY2goZnVuY3Rpb24gKHBvaW50LCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gaXNCZXppZXJDdXJ2ZShwb2ludCkgPyBwb2ludC5zdGFydCA6IHBvaW50O1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4Lm1vdmVUbyhzdGFydC54LCBzdGFydC55KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5saW5lVG8oc3RhcnQueCwgc3RhcnQueSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNCZXppZXJDdXJ2ZShwb2ludCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdHguYmV6aWVyQ3VydmVUbyhwb2ludC5zdGFydENvbnRyb2wueCwgcG9pbnQuc3RhcnRDb250cm9sLnksIHBvaW50LmVuZENvbnRyb2wueCwgcG9pbnQuZW5kQ29udHJvbC55LCBwb2ludC5lbmQueCwgcG9pbnQuZW5kLnkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJSZXBlYXQgPSBmdW5jdGlvbiAocGF0aCwgcGF0dGVybiwgb2Zmc2V0WCwgb2Zmc2V0WSkge1xyXG4gICAgICAgICAgICB0aGlzLnBhdGgocGF0aCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IHBhdHRlcm47XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LnRyYW5zbGF0ZShvZmZzZXRYLCBvZmZzZXRZKTtcclxuICAgICAgICAgICAgdGhpcy5jdHguZmlsbCgpO1xyXG4gICAgICAgICAgICB0aGlzLmN0eC50cmFuc2xhdGUoLW9mZnNldFgsIC1vZmZzZXRZKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZXNpemVJbWFnZSA9IGZ1bmN0aW9uIChpbWFnZSwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgICAgICBpZiAoaW1hZ2Uud2lkdGggPT09IHdpZHRoICYmIGltYWdlLmhlaWdodCA9PT0gaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW1hZ2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuY2FudmFzLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIGltYWdlLndpZHRoLCBpbWFnZS5oZWlnaHQsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICByZXR1cm4gY2FudmFzO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlckJhY2tncm91bmRJbWFnZSA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4LCBfbG9vcF8xLCB0aGlzXzEsIF9pLCBfYSwgYmFja2dyb3VuZEltYWdlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBjb250YWluZXIuc3R5bGVzLmJhY2tncm91bmRJbWFnZS5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2xvb3BfMSA9IGZ1bmN0aW9uIChiYWNrZ3JvdW5kSW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW1hZ2UsIHVybCwgZV80LCBfYSwgcGF0aCwgeCwgeSwgd2lkdGgsIGhlaWdodCwgcGF0dGVybiwgX2IsIHBhdGgsIHgsIHksIHdpZHRoLCBoZWlnaHQsIF9jLCBsaW5lTGVuZ3RoLCB4MCwgeDEsIHkwLCB5MSwgY2FudmFzLCBjdHgsIGdyYWRpZW50XzEsIHBhdHRlcm4sIF9kLCBwYXRoLCBsZWZ0LCB0b3BfMSwgd2lkdGgsIGhlaWdodCwgcG9zaXRpb24sIHgsIHksIF9lLCByeCwgcnksIHJhZGlhbEdyYWRpZW50XzEsIG1pZFgsIG1pZFksIGYsIGludkY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9mLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoYmFja2dyb3VuZEltYWdlLnR5cGUgPT09IENTU0ltYWdlVHlwZS5VUkwpKSByZXR1cm4gWzMgLypicmVhayovLCA1XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZSA9IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSBiYWNrZ3JvdW5kSW1hZ2UudXJsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9mLmxhYmVsID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZi50cnlzLnB1c2goWzEsIDMsICwgNF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXNfMS5vcHRpb25zLmNhY2hlLm1hdGNoKHVybCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlID0gX2Yuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVfNCA9IF9mLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UodGhpc18xLm9wdGlvbnMuaWQpLmVycm9yKFwiRXJyb3IgbG9hZGluZyBiYWNrZ3JvdW5kLWltYWdlIFwiICsgdXJsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSBjYWxjdWxhdGVCYWNrZ3JvdW5kUmVuZGVyaW5nKGNvbnRhaW5lciwgaW5kZXgsIFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlLndpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2UuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2Uud2lkdGggLyBpbWFnZS5oZWlnaHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSksIHBhdGggPSBfYVswXSwgeCA9IF9hWzFdLCB5ID0gX2FbMl0sIHdpZHRoID0gX2FbM10sIGhlaWdodCA9IF9hWzRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuID0gdGhpc18xLmN0eC5jcmVhdGVQYXR0ZXJuKHRoaXNfMS5yZXNpemVJbWFnZShpbWFnZSwgd2lkdGgsIGhlaWdodCksICdyZXBlYXQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc18xLnJlbmRlclJlcGVhdChwYXRoLCBwYXR0ZXJuLCB4LCB5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTGluZWFyR3JhZGllbnQoYmFja2dyb3VuZEltYWdlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYiA9IGNhbGN1bGF0ZUJhY2tncm91bmRSZW5kZXJpbmcoY29udGFpbmVyLCBpbmRleCwgW251bGwsIG51bGwsIG51bGxdKSwgcGF0aCA9IF9iWzBdLCB4ID0gX2JbMV0sIHkgPSBfYlsyXSwgd2lkdGggPSBfYlszXSwgaGVpZ2h0ID0gX2JbNF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jID0gY2FsY3VsYXRlR3JhZGllbnREaXJlY3Rpb24oYmFja2dyb3VuZEltYWdlLmFuZ2xlLCB3aWR0aCwgaGVpZ2h0KSwgbGluZUxlbmd0aCA9IF9jWzBdLCB4MCA9IF9jWzFdLCB4MSA9IF9jWzJdLCB5MCA9IF9jWzNdLCB5MSA9IF9jWzRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmFkaWVudF8xID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KHgwLCB5MCwgeDEsIHkxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0NvbG9yU3RvcHMoYmFja2dyb3VuZEltYWdlLnN0b3BzLCBsaW5lTGVuZ3RoKS5mb3JFYWNoKGZ1bmN0aW9uIChjb2xvclN0b3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBncmFkaWVudF8xLmFkZENvbG9yU3RvcChjb2xvclN0b3Auc3RvcCwgYXNTdHJpbmcoY29sb3JTdG9wLmNvbG9yKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gZ3JhZGllbnRfMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkdGggPiAwICYmIGhlaWdodCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm4gPSB0aGlzXzEuY3R4LmNyZWF0ZVBhdHRlcm4oY2FudmFzLCAncmVwZWF0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzXzEucmVuZGVyUmVwZWF0KHBhdGgsIHBhdHRlcm4sIHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzUmFkaWFsR3JhZGllbnQoYmFja2dyb3VuZEltYWdlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZCA9IGNhbGN1bGF0ZUJhY2tncm91bmRSZW5kZXJpbmcoY29udGFpbmVyLCBpbmRleCwgW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pLCBwYXRoID0gX2RbMF0sIGxlZnQgPSBfZFsxXSwgdG9wXzEgPSBfZFsyXSwgd2lkdGggPSBfZFszXSwgaGVpZ2h0ID0gX2RbNF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gYmFja2dyb3VuZEltYWdlLnBvc2l0aW9uLmxlbmd0aCA9PT0gMCA/IFtGSUZUWV9QRVJDRU5UXSA6IGJhY2tncm91bmRJbWFnZS5wb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeCA9IGdldEFic29sdXRlVmFsdWUocG9zaXRpb25bMF0sIHdpZHRoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA9IGdldEFic29sdXRlVmFsdWUocG9zaXRpb25bcG9zaXRpb24ubGVuZ3RoIC0gMV0sIGhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9lID0gY2FsY3VsYXRlUmFkaXVzKGJhY2tncm91bmRJbWFnZSwgeCwgeSwgd2lkdGgsIGhlaWdodCksIHJ4ID0gX2VbMF0sIHJ5ID0gX2VbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyeCA+IDAgJiYgcnggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWRpYWxHcmFkaWVudF8xID0gdGhpc18xLmN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChsZWZ0ICsgeCwgdG9wXzEgKyB5LCAwLCBsZWZ0ICsgeCwgdG9wXzEgKyB5LCByeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzQ29sb3JTdG9wcyhiYWNrZ3JvdW5kSW1hZ2Uuc3RvcHMsIHJ4ICogMikuZm9yRWFjaChmdW5jdGlvbiAoY29sb3JTdG9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJhZGlhbEdyYWRpZW50XzEuYWRkQ29sb3JTdG9wKGNvbG9yU3RvcC5zdG9wLCBhc1N0cmluZyhjb2xvclN0b3AuY29sb3IpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc18xLnBhdGgocGF0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzXzEuY3R4LmZpbGxTdHlsZSA9IHJhZGlhbEdyYWRpZW50XzE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnggIT09IHJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWlkWCA9IGNvbnRhaW5lci5ib3VuZHMubGVmdCArIDAuNSAqIGNvbnRhaW5lci5ib3VuZHMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWlkWSA9IGNvbnRhaW5lci5ib3VuZHMudG9wICsgMC41ICogY29udGFpbmVyLmJvdW5kcy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZiA9IHJ5IC8gcng7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52RiA9IDEgLyBmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfMS5jdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfMS5jdHgudHJhbnNsYXRlKG1pZFgsIG1pZFkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfMS5jdHgudHJhbnNmb3JtKDEsIDAsIDAsIGYsIDAsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNfMS5jdHgudHJhbnNsYXRlKC1taWRYLCAtbWlkWSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc18xLmN0eC5maWxsUmVjdChsZWZ0LCBpbnZGICogKHRvcF8xIC0gbWlkWSkgKyBtaWRZLCB3aWR0aCwgaGVpZ2h0ICogaW52Rik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc18xLmN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzXzEuY3R4LmZpbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZi5sYWJlbCA9IDY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgtLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzXzEgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2kgPSAwLCBfYSA9IGNvbnRhaW5lci5zdHlsZXMuYmFja2dyb3VuZEltYWdlLnNsaWNlKDApLnJldmVyc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoX2kgPCBfYS5sZW5ndGgpKSByZXR1cm4gWzMgLypicmVhayovLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZSA9IF9hW19pXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNSAvKnlpZWxkKiovLCBfbG9vcF8xKGJhY2tncm91bmRJbWFnZSldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlckJvcmRlciA9IGZ1bmN0aW9uIChjb2xvciwgc2lkZSwgY3VydmVQb2ludHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGF0aChwYXJzZVBhdGhGb3JCb3JkZXIoY3VydmVQb2ludHMsIHNpZGUpKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBhc1N0cmluZyhjb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXJOb2RlQmFja2dyb3VuZEFuZEJvcmRlcnMgPSBmdW5jdGlvbiAocGFpbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlcywgaGFzQmFja2dyb3VuZCwgYm9yZGVycywgYmFja2dyb3VuZFBhaW50aW5nQXJlYSwgc2lkZSwgX2ksIGJvcmRlcnNfMSwgYm9yZGVyO1xyXG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlFZmZlY3RzKHBhaW50LmVmZmVjdHMsIDIgLyogQkFDS0dST1VORF9CT1JERVJTICovKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlcyA9IHBhaW50LmNvbnRhaW5lci5zdHlsZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNCYWNrZ3JvdW5kID0gIWlzVHJhbnNwYXJlbnQoc3R5bGVzLmJhY2tncm91bmRDb2xvcikgfHwgc3R5bGVzLmJhY2tncm91bmRJbWFnZS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJzID0gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHN0eWxlcy5ib3JkZXJUb3BTdHlsZSwgY29sb3I6IHN0eWxlcy5ib3JkZXJUb3BDb2xvciB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3R5bGU6IHN0eWxlcy5ib3JkZXJSaWdodFN0eWxlLCBjb2xvcjogc3R5bGVzLmJvcmRlclJpZ2h0Q29sb3IgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiBzdHlsZXMuYm9yZGVyQm90dG9tU3R5bGUsIGNvbG9yOiBzdHlsZXMuYm9yZGVyQm90dG9tQ29sb3IgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0eWxlOiBzdHlsZXMuYm9yZGVyTGVmdFN0eWxlLCBjb2xvcjogc3R5bGVzLmJvcmRlckxlZnRDb2xvciB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFBhaW50aW5nQXJlYSA9IGNhbGN1bGF0ZUJhY2tncm91bmRDdXJ2ZWRQYWludGluZ0FyZWEoZ2V0QmFja2dyb3VuZFZhbHVlRm9ySW5kZXgoc3R5bGVzLmJhY2tncm91bmRDbGlwLCAwKSwgcGFpbnQuY3VydmVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGhhc0JhY2tncm91bmQgfHwgc3R5bGVzLmJveFNoYWRvdy5sZW5ndGgpKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGF0aChiYWNrZ3JvdW5kUGFpbnRpbmdBcmVhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmNsaXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNUcmFuc3BhcmVudChzdHlsZXMuYmFja2dyb3VuZENvbG9yKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IGFzU3RyaW5nKHN0eWxlcy5iYWNrZ3JvdW5kQ29sb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmZpbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucmVuZGVyQmFja2dyb3VuZEltYWdlKHBhaW50LmNvbnRhaW5lcildO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXMuYm94U2hhZG93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNsaWNlKDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJldmVyc2UoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChzaGFkb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LnNhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJvcmRlckJveEFyZWEgPSBjYWxjdWxhdGVCb3JkZXJCb3hQYXRoKHBhaW50LmN1cnZlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXNrT2Zmc2V0ID0gc2hhZG93Lmluc2V0ID8gMCA6IE1BU0tfT0ZGU0VUO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2hhZG93UGFpbnRpbmdBcmVhID0gdHJhbnNmb3JtUGF0aChib3JkZXJCb3hBcmVhLCAtbWFza09mZnNldCArIChzaGFkb3cuaW5zZXQgPyAxIDogLTEpICogc2hhZG93LnNwcmVhZC5udW1iZXIsIChzaGFkb3cuaW5zZXQgPyAxIDogLTEpICogc2hhZG93LnNwcmVhZC5udW1iZXIsIHNoYWRvdy5zcHJlYWQubnVtYmVyICogKHNoYWRvdy5pbnNldCA/IC0yIDogMiksIHNoYWRvdy5zcHJlYWQubnVtYmVyICogKHNoYWRvdy5pbnNldCA/IC0yIDogMikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hhZG93Lmluc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5wYXRoKGJvcmRlckJveEFyZWEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LmNsaXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm1hc2soc2hhZG93UGFpbnRpbmdBcmVhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm1hc2soYm9yZGVyQm94QXJlYSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdHguY2xpcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucGF0aChzaGFkb3dQYWludGluZ0FyZWEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5zaGFkb3dPZmZzZXRYID0gc2hhZG93Lm9mZnNldFgubnVtYmVyICsgbWFza09mZnNldDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LnNoYWRvd09mZnNldFkgPSBzaGFkb3cub2Zmc2V0WS5udW1iZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5zaGFkb3dDb2xvciA9IGFzU3RyaW5nKHNoYWRvdy5jb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmN0eC5zaGFkb3dCbHVyID0gc2hhZG93LmJsdXIubnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdHguZmlsbFN0eWxlID0gc2hhZG93Lmluc2V0ID8gYXNTdHJpbmcoc2hhZG93LmNvbG9yKSA6ICdyZ2JhKDAsMCwwLDEpJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LmZpbGwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3R4LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lkZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaSA9IDAsIGJvcmRlcnNfMSA9IGJvcmRlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKF9pIDwgYm9yZGVyc18xLmxlbmd0aCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyID0gYm9yZGVyc18xW19pXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGJvcmRlci5zdHlsZSAhPT0gQk9SREVSX1NUWUxFLk5PTkUgJiYgIWlzVHJhbnNwYXJlbnQoYm9yZGVyLmNvbG9yKSkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZW5kZXJCb3JkZXIoYm9yZGVyLmNvbG9yLCBzaWRlLCBwYWludC5jdXJ2ZXMpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSA1O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWRlKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OiByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdGFjaztcclxuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYmFja2dyb3VuZENvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gYXNTdHJpbmcodGhpcy5vcHRpb25zLmJhY2tncm91bmRDb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QodGhpcy5vcHRpb25zLnggLSB0aGlzLm9wdGlvbnMuc2Nyb2xsWCwgdGhpcy5vcHRpb25zLnkgLSB0aGlzLm9wdGlvbnMuc2Nyb2xsWSwgdGhpcy5vcHRpb25zLndpZHRoLCB0aGlzLm9wdGlvbnMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrID0gcGFyc2VTdGFja2luZ0NvbnRleHRzKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZW5kZXJTdGFjayhzdGFjayldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGx5RWZmZWN0cyhbXSwgMiAvKiBCQUNLR1JPVU5EX0JPUkRFUlMgKi8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMuY2FudmFzXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gQ2FudmFzUmVuZGVyZXI7XHJcbiAgICB9KCkpO1xyXG4gICAgdmFyIGlzVGV4dElucHV0RWxlbWVudCA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcclxuICAgICAgICBpZiAoY29udGFpbmVyIGluc3RhbmNlb2YgVGV4dGFyZWFFbGVtZW50Q29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjb250YWluZXIgaW5zdGFuY2VvZiBTZWxlY3RFbGVtZW50Q29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjb250YWluZXIgaW5zdGFuY2VvZiBJbnB1dEVsZW1lbnRDb250YWluZXIgJiYgY29udGFpbmVyLnR5cGUgIT09IFJBRElPICYmIGNvbnRhaW5lci50eXBlICE9PSBDSEVDS0JPWCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICAgIHZhciBjYWxjdWxhdGVCYWNrZ3JvdW5kQ3VydmVkUGFpbnRpbmdBcmVhID0gZnVuY3Rpb24gKGNsaXAsIGN1cnZlcykge1xyXG4gICAgICAgIHN3aXRjaCAoY2xpcCkge1xyXG4gICAgICAgICAgICBjYXNlIEJBQ0tHUk9VTkRfQ0xJUC5CT1JERVJfQk9YOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGN1bGF0ZUJvcmRlckJveFBhdGgoY3VydmVzKTtcclxuICAgICAgICAgICAgY2FzZSBCQUNLR1JPVU5EX0NMSVAuQ09OVEVOVF9CT1g6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsY3VsYXRlQ29udGVudEJveFBhdGgoY3VydmVzKTtcclxuICAgICAgICAgICAgY2FzZSBCQUNLR1JPVU5EX0NMSVAuUEFERElOR19CT1g6XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsY3VsYXRlUGFkZGluZ0JveFBhdGgoY3VydmVzKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdmFyIGNhbnZhc1RleHRBbGlnbiA9IGZ1bmN0aW9uICh0ZXh0QWxpZ24pIHtcclxuICAgICAgICBzd2l0Y2ggKHRleHRBbGlnbikge1xyXG4gICAgICAgICAgICBjYXNlIFRFWFRfQUxJR04uQ0VOVEVSOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdjZW50ZXInO1xyXG4gICAgICAgICAgICBjYXNlIFRFWFRfQUxJR04uUklHSFQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3JpZ2h0JztcclxuICAgICAgICAgICAgY2FzZSBURVhUX0FMSUdOLkxFRlQ6XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2xlZnQnO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmFyIEZvcmVpZ25PYmplY3RSZW5kZXJlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmdW5jdGlvbiBGb3JlaWduT2JqZWN0UmVuZGVyZXIob3B0aW9ucykge1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcyA9IG9wdGlvbnMuY2FudmFzID8gb3B0aW9ucy5jYW52YXMgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICAgICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IE1hdGguZmxvb3Iob3B0aW9ucy53aWR0aCAqIG9wdGlvbnMuc2NhbGUpO1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBNYXRoLmZsb29yKG9wdGlvbnMuaGVpZ2h0ICogb3B0aW9ucy5zY2FsZSk7XHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLndpZHRoID0gb3B0aW9ucy53aWR0aCArIFwicHhcIjtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUuaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQgKyBcInB4XCI7XHJcbiAgICAgICAgICAgIHRoaXMuY3R4LnNjYWxlKHRoaXMub3B0aW9ucy5zY2FsZSwgdGhpcy5vcHRpb25zLnNjYWxlKTtcclxuICAgICAgICAgICAgdGhpcy5jdHgudHJhbnNsYXRlKC1vcHRpb25zLnggKyBvcHRpb25zLnNjcm9sbFgsIC1vcHRpb25zLnkgKyBvcHRpb25zLnNjcm9sbFkpO1xyXG4gICAgICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2Uob3B0aW9ucy5pZCkuZGVidWcoXCJFWFBFUklNRU5UQUwgRm9yZWlnbk9iamVjdCByZW5kZXJlciBpbml0aWFsaXplZCAoXCIgKyBvcHRpb25zLndpZHRoICsgXCJ4XCIgKyBvcHRpb25zLmhlaWdodCArIFwiIGF0IFwiICsgb3B0aW9ucy54ICsgXCIsXCIgKyBvcHRpb25zLnkgKyBcIikgd2l0aCBzY2FsZSBcIiArIG9wdGlvbnMuc2NhbGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBGb3JlaWduT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdmcsIGltZztcclxuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN2ZyA9IGNyZWF0ZUZvcmVpZ25PYmplY3RTVkcoTWF0aC5tYXgodGhpcy5vcHRpb25zLndpbmRvd1dpZHRoLCB0aGlzLm9wdGlvbnMud2lkdGgpICogdGhpcy5vcHRpb25zLnNjYWxlLCBNYXRoLm1heCh0aGlzLm9wdGlvbnMud2luZG93SGVpZ2h0LCB0aGlzLm9wdGlvbnMuaGVpZ2h0KSAqIHRoaXMub3B0aW9ucy5zY2FsZSwgdGhpcy5vcHRpb25zLnNjcm9sbFggKiB0aGlzLm9wdGlvbnMuc2NhbGUsIHRoaXMub3B0aW9ucy5zY3JvbGxZICogdGhpcy5vcHRpb25zLnNjYWxlLCBlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGxvYWRTZXJpYWxpemVkU1ZHJDEoc3ZnKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZyA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYmFja2dyb3VuZENvbG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gYXNTdHJpbmcodGhpcy5vcHRpb25zLmJhY2tncm91bmRDb2xvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdHguZmlsbFJlY3QoMCwgMCwgdGhpcy5vcHRpb25zLndpZHRoICogdGhpcy5vcHRpb25zLnNjYWxlLCB0aGlzLm9wdGlvbnMuaGVpZ2h0ICogdGhpcy5vcHRpb25zLnNjYWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3R4LmRyYXdJbWFnZShpbWcsIC10aGlzLm9wdGlvbnMueCAqIHRoaXMub3B0aW9ucy5zY2FsZSwgLXRoaXMub3B0aW9ucy55ICogdGhpcy5vcHRpb25zLnNjYWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLmNhbnZhc107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIEZvcmVpZ25PYmplY3RSZW5kZXJlcjtcclxuICAgIH0oKSk7XHJcbiAgICB2YXIgbG9hZFNlcmlhbGl6ZWRTVkckMSA9IGZ1bmN0aW9uIChzdmcpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKGltZyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGltZy5vbmVycm9yID0gcmVqZWN0O1xyXG4gICAgICAgICAgICBpbWcuc3JjID0gXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCxcIiArIGVuY29kZVVSSUNvbXBvbmVudChuZXcgWE1MU2VyaWFsaXplcigpLnNlcmlhbGl6ZVRvU3RyaW5nKHN2ZykpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgX3RoaXMgPSB1bmRlZmluZWQ7XHJcbiAgICB2YXIgcGFyc2VDb2xvciQxID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBjb2xvci5wYXJzZShQYXJzZXIuY3JlYXRlKHZhbHVlKS5wYXJzZUNvbXBvbmVudFZhbHVlKCkpOyB9O1xyXG4gICAgdmFyIGh0bWwyY2FudmFzID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxyXG4gICAgICAgIHJldHVybiByZW5kZXJFbGVtZW50KGVsZW1lbnQsIG9wdGlvbnMpO1xyXG4gICAgfTtcclxuICAgIENhY2hlU3RvcmFnZS5zZXRDb250ZXh0KHdpbmRvdyk7XHJcbiAgICB2YXIgcmVuZGVyRWxlbWVudCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRzKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIG93bmVyRG9jdW1lbnQsIGRlZmF1bHRWaWV3LCBpbnN0YW5jZU5hbWUsIF9hLCB3aWR0aCwgaGVpZ2h0LCBsZWZ0LCB0b3AsIGRlZmF1bHRSZXNvdXJjZU9wdGlvbnMsIHJlc291cmNlT3B0aW9ucywgZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMsIHdpbmRvd0JvdW5kcywgZG9jdW1lbnRDbG9uZXIsIGNsb25lZEVsZW1lbnQsIGNvbnRhaW5lciwgZG9jdW1lbnRCYWNrZ3JvdW5kQ29sb3IsIGJvZHlCYWNrZ3JvdW5kQ29sb3IsIGJnQ29sb3IsIGRlZmF1bHRCYWNrZ3JvdW5kQ29sb3IsIGJhY2tncm91bmRDb2xvciwgcmVuZGVyT3B0aW9ucywgY2FudmFzLCByZW5kZXJlciwgcm9vdCwgcmVuZGVyZXI7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG93bmVyRG9jdW1lbnQgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb3duZXJEb2N1bWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRWxlbWVudCBpcyBub3QgYXR0YWNoZWQgdG8gYSBEb2N1bWVudFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmlldyA9IG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGVmYXVsdFZpZXcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRvY3VtZW50IGlzIG5vdCBhdHRhY2hlZCB0byBhIFdpbmRvd1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZU5hbWUgPSAoTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMTAwMCkgKyBEYXRlLm5vdygpKS50b1N0cmluZygxNik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gaXNCb2R5RWxlbWVudChlbGVtZW50KSB8fCBpc0hUTUxFbGVtZW50KGVsZW1lbnQpID8gcGFyc2VEb2N1bWVudFNpemUob3duZXJEb2N1bWVudCkgOiBwYXJzZUJvdW5kcyhlbGVtZW50KSwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0LCBsZWZ0ID0gX2EubGVmdCwgdG9wID0gX2EudG9wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0UmVzb3VyY2VPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dUYWludDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVRpbWVvdXQ6IDE1MDAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJveHk6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZUNPUlM6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlT3B0aW9ucyA9IF9fYXNzaWduKHt9LCBkZWZhdWx0UmVzb3VyY2VPcHRpb25zLCBvcHRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlOiBvcHRzLmNhY2hlID8gb3B0cy5jYWNoZSA6IENhY2hlU3RvcmFnZS5jcmVhdGUoaW5zdGFuY2VOYW1lLCByZXNvdXJjZU9wdGlvbnMpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2luZzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUNvbnRhaW5lcjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVpZ25PYmplY3RSZW5kZXJpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGU6IGRlZmF1bHRWaWV3LmRldmljZVBpeGVsUmF0aW8gfHwgMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd1dpZHRoOiBkZWZhdWx0Vmlldy5pbm5lcldpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93SGVpZ2h0OiBkZWZhdWx0Vmlldy5pbm5lckhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFg6IGRlZmF1bHRWaWV3LnBhZ2VYT2Zmc2V0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsWTogZGVmYXVsdFZpZXcucGFnZVlPZmZzZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiBsZWZ0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogdG9wLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IE1hdGguY2VpbCh3aWR0aCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IE1hdGguY2VpbChoZWlnaHQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGluc3RhbmNlTmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gX19hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCByZXNvdXJjZU9wdGlvbnMsIG9wdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dCb3VuZHMgPSBuZXcgQm91bmRzKG9wdGlvbnMuc2Nyb2xsWCwgb3B0aW9ucy5zY3JvbGxZLCBvcHRpb25zLndpbmRvd1dpZHRoLCBvcHRpb25zLndpbmRvd0hlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIExvZ2dlci5jcmVhdGUoeyBpZDogaW5zdGFuY2VOYW1lLCBlbmFibGVkOiBvcHRpb25zLmxvZ2dpbmcgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIExvZ2dlci5nZXRJbnN0YW5jZShpbnN0YW5jZU5hbWUpLmRlYnVnKFwiU3RhcnRpbmcgZG9jdW1lbnQgY2xvbmVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50Q2xvbmVyID0gbmV3IERvY3VtZW50Q2xvbmVyKGVsZW1lbnQsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpbnN0YW5jZU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNsb25lOiBvcHRpb25zLm9uY2xvbmUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZ25vcmVFbGVtZW50czogb3B0aW9ucy5pZ25vcmVFbGVtZW50cyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubGluZUltYWdlczogb3B0aW9ucy5mb3JlaWduT2JqZWN0UmVuZGVyaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29weVN0eWxlczogb3B0aW9ucy5mb3JlaWduT2JqZWN0UmVuZGVyaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9uZWRFbGVtZW50ID0gZG9jdW1lbnRDbG9uZXIuY2xvbmVkUmVmZXJlbmNlRWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjbG9uZWRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgUHJvbWlzZS5yZWplY3QoXCJVbmFibGUgdG8gZmluZCBlbGVtZW50IGluIGNsb25lZCBpZnJhbWVcIildO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGRvY3VtZW50Q2xvbmVyLnRvSUZyYW1lKG93bmVyRG9jdW1lbnQsIHdpbmRvd0JvdW5kcyldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyID0gX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudEJhY2tncm91bmRDb2xvciA9IG93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHBhcnNlQ29sb3IkMShnZXRDb21wdXRlZFN0eWxlKG93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5iYWNrZ3JvdW5kQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IENPTE9SUy5UUkFOU1BBUkVOVDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keUJhY2tncm91bmRDb2xvciA9IG93bmVyRG9jdW1lbnQuYm9keVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBwYXJzZUNvbG9yJDEoZ2V0Q29tcHV0ZWRTdHlsZShvd25lckRvY3VtZW50LmJvZHkpLmJhY2tncm91bmRDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogQ09MT1JTLlRSQU5TUEFSRU5UO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiZ0NvbG9yID0gb3B0cy5iYWNrZ3JvdW5kQ29sb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRCYWNrZ3JvdW5kQ29sb3IgPSB0eXBlb2YgYmdDb2xvciA9PT0gJ3N0cmluZycgPyBwYXJzZUNvbG9yJDEoYmdDb2xvcikgOiBiZ0NvbG9yID09PSBudWxsID8gQ09MT1JTLlRSQU5TUEFSRU5UIDogMHhmZmZmZmZmZjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yID0gZWxlbWVudCA9PT0gb3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaXNUcmFuc3BhcmVudChkb2N1bWVudEJhY2tncm91bmRDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGlzVHJhbnNwYXJlbnQoYm9keUJhY2tncm91bmRDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBkZWZhdWx0QmFja2dyb3VuZENvbG9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYm9keUJhY2tncm91bmRDb2xvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZG9jdW1lbnRCYWNrZ3JvdW5kQ29sb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogZGVmYXVsdEJhY2tncm91bmRDb2xvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpbnN0YW5jZU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZTogb3B0aW9ucy5jYWNoZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhczogb3B0aW9ucy5jYW52YXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGJhY2tncm91bmRDb2xvcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlOiBvcHRpb25zLnNjYWxlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogb3B0aW9ucy54LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogb3B0aW9ucy55LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsWDogb3B0aW9ucy5zY3JvbGxYLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsWTogb3B0aW9ucy5zY3JvbGxZLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMud2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IG9wdGlvbnMuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93V2lkdGg6IG9wdGlvbnMud2luZG93V2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dIZWlnaHQ6IG9wdGlvbnMud2luZG93SGVpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy5mb3JlaWduT2JqZWN0UmVuZGVyaW5nKSByZXR1cm4gWzMgLypicmVhayovLCAzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlTmFtZSkuZGVidWcoXCJEb2N1bWVudCBjbG9uZWQsIHVzaW5nIGZvcmVpZ24gb2JqZWN0IHJlbmRlcmluZ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIgPSBuZXcgRm9yZWlnbk9iamVjdFJlbmRlcmVyKHJlbmRlck9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZW5kZXJlci5yZW5kZXIoY2xvbmVkRWxlbWVudCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzID0gX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA1XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIExvZ2dlci5nZXRJbnN0YW5jZShpbnN0YW5jZU5hbWUpLmRlYnVnKFwiRG9jdW1lbnQgY2xvbmVkLCB1c2luZyBjb21wdXRlZCByZW5kZXJpbmdcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENhY2hlU3RvcmFnZS5hdHRhY2hJbnN0YW5jZShvcHRpb25zLmNhY2hlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlTmFtZSkuZGVidWcoXCJTdGFydGluZyBET00gcGFyc2luZ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcm9vdCA9IHBhcnNlVHJlZShjbG9uZWRFbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ2FjaGVTdG9yYWdlLmRldGFjaEluc3RhbmNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiYWNrZ3JvdW5kQ29sb3IgPT09IHJvb3Quc3R5bGVzLmJhY2tncm91bmRDb2xvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vdC5zdHlsZXMuYmFja2dyb3VuZENvbG9yID0gQ09MT1JTLlRSQU5TUEFSRU5UO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIExvZ2dlci5nZXRJbnN0YW5jZShpbnN0YW5jZU5hbWUpLmRlYnVnKFwiU3RhcnRpbmcgcmVuZGVyZXJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyID0gbmV3IENhbnZhc1JlbmRlcmVyKHJlbmRlck9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZW5kZXJlci5yZW5kZXIocm9vdCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzID0gX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDU7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5yZW1vdmVDb250YWluZXIgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghRG9jdW1lbnRDbG9uZXIuZGVzdHJveShjb250YWluZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlTmFtZSkuZXJyb3IoXCJDYW5ub3QgZGV0YWNoIGNsb25lZCBpZnJhbWUgYXMgaXQgaXMgbm90IGluIHRoZSBET00gYW55bW9yZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBMb2dnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VOYW1lKS5kZWJ1ZyhcIkZpbmlzaGVkIHJlbmRlcmluZ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTG9nZ2VyLmRlc3Ryb3koaW5zdGFuY2VOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQ2FjaGVTdG9yYWdlLmRlc3Ryb3koaW5zdGFuY2VOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGNhbnZhc107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gaHRtbDJjYW52YXM7XHJcblxyXG59KSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWh0bWwyY2FudmFzLmpzLm1hcFxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./scripts/app/thirdparty/html2canvas/html2canvas.js\n")},0:function(e,t,n){n("./scripts/app/App_Floodgate.ts");e.exports=n("./scripts/app/App_InAppFeedback.ts")}})}}]);